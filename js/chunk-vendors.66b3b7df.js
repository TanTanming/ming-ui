(self["webpackChunkmingUI"]=self["webpackChunkmingUI"]||[]).push([[998],{9662:function(e,t,n){var o=n(614),r=n(6330),i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not a function")}},6077:function(e,t,n){var o=n(614),r=String,i=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+r(e)+" as a prototype")}},5787:function(e,t,n){var o=n(7976),r=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw r("Incorrect invocation")}},9670:function(e,t,n){var o=n(111),r=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var o,r,i,a=n(3013),s=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),h=n(648),m=n(6330),p=n(8880),f=n(8052),g=n(7045),v=n(7976),y=n(9518),b=n(7674),w=n(5112),_=n(9711),x=n(9909),C=x.enforce,S=x.get,k=l.Int8Array,E=k&&k.prototype,T=l.Uint8ClampedArray,M=T&&T.prototype,O=k&&y(k),D=E&&y(E),A=Object.prototype,R=l.TypeError,P=w("toStringTag"),I=_("TYPED_ARRAY_TAG"),z="TypedArrayConstructor",N=a&&!!b&&"Opera"!==h(l.opera),L=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(H,t)||d(F,t)},U=function(e){var t=y(e);if(u(t)){var n=S(t);return n&&d(n,z)?n[z]:U(t)}},V=function(e){if(!u(e))return!1;var t=h(e);return d(H,t)||d(F,t)},j=function(e){if(V(e))return e;throw R("Target is not a typed array")},W=function(e){if(c(e)&&(!b||v(O,e)))return e;throw R(m(e)+" is not a typed array constructor")},Z=function(e,t,n,o){if(s){if(n)for(var r in H){var i=l[r];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(c){}}}D[e]&&!n||f(D,e,n?t:N&&E[e]||t,o)}},$=function(e,t,n){var o,r;if(s){if(b){if(n)for(o in H)if(r=l[o],r&&d(r,e))try{delete r[e]}catch(i){}if(O[e]&&!n)return;try{return f(O,e,n?t:N&&O[e]||t)}catch(i){}}for(o in H)r=l[o],!r||r[e]&&!n||f(r,e,t)}};for(o in H)r=l[o],i=r&&r.prototype,i?C(i)[z]=r:N=!1;for(o in F)r=l[o],i=r&&r.prototype,i&&(C(i)[z]=r);if((!N||!c(O)||O===Function.prototype)&&(O=function(){throw R("Incorrect invocation")},N))for(o in H)l[o]&&b(l[o],O);if((!N||!D||D===A)&&(D=O.prototype,N))for(o in H)l[o]&&b(l[o].prototype,D);if(N&&y(M)!==D&&b(M,D),s&&!d(D,P))for(o in L=!0,g(D,P,{configurable:!0,get:function(){return u(this)?this[I]:void 0}}),H)l[o]&&p(l[o],I,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:L&&I,aTypedArray:j,aTypedArrayConstructor:W,exportTypedArrayMethod:Z,exportTypedArrayStaticMethod:$,getTypedArrayConstructor:U,isView:B,isTypedArray:V,TypedArray:O,TypedArrayPrototype:D}},7745:function(e,t,n){var o=n(6244);e.exports=function(e,t){var n=0,r=o(t),i=new e(r);while(r>n)i[n]=t[n++];return i}},1318:function(e,t,n){var o=n(5656),r=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,l=o(t),c=i(l),u=r(a,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3658:function(e,t,n){"use strict";var o=n(9781),r=n(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(r(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},206:function(e,t,n){var o=n(1702);e.exports=o([].slice)},1843:function(e,t,n){var o=n(6244);e.exports=function(e,t){for(var n=o(e),r=new t(n),i=0;i<n;i++)r[i]=e[n-i-1];return r}},1572:function(e,t,n){var o=n(6244),r=n(9303),i=RangeError;e.exports=function(e,t,n,a){var s=o(e),l=r(n),c=l<0?s+l:l;if(c>=s||c<0)throw i("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?a:e[d];return u}},4326:function(e,t,n){var o=n(1702),r=o({}.toString),i=o("".slice);e.exports=function(e){return i(r(e),8,-1)}},648:function(e,t,n){var o=n(1694),r=n(614),i=n(4326),a=n(5112),s=a("toStringTag"),l=Object,c="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=o?i:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),s))?n:c?i(t):"Object"==(o=i(t))&&r(t.callee)?"Arguments":o}},9920:function(e,t,n){var o=n(2597),r=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=r(t),l=a.f,c=i.f,u=0;u<s.length;u++){var d=s[u];o(e,d)||n&&o(n,d)||l(e,d,c(t,d))}}},8544:function(e,t,n){var o=n(7293);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var o=n(9781),r=n(3070),i=n(9114);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var o=n(6339),r=n(3070);e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),r.f(e,t,n)}},8052:function(e,t,n){var o=n(614),r=n(3070),i=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(o(n)&&i(n,c,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,n){var o=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},9781:function(e,t,n){var o=n(7293);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var o=n(7854),r=n(111),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},9363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:function(e,t,n){var o=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},5268:function(e,t,n){var o=n(4326);e.exports="undefined"!=typeof process&&"process"==o(process)},8113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,n){var o,r,i=n(7854),a=n(8113),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=u.split("."),r=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&a&&(o=a.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/),o&&(r=+o[1]))),e.exports=r},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,n){var o=n(1702),r=Error,i=o("".replace),a=function(e){return String(r(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=i(e,s,"");return e}},2109:function(e,t,n){var o=n(7854),r=n(1236).f,i=n(8880),a=n(8052),s=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,h,m,p,f=e.target,g=e.global,v=e.stat;if(u=g?o:v?o[f]||s(f,{}):(o[f]||{}).prototype,u)for(d in t){if(m=t[d],e.dontCallGetSet?(p=r(u,d),h=p&&p.value):h=u[d],n=c(g?d:f+(v?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof m==typeof h)continue;l(m,h)}(e.sham||h&&h.sham)&&i(m,"sham",!0),a(u,d,m,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var o=n(4374),r=Function.prototype,i=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(e,t,n){var o=n(1470),r=n(9662),i=n(4374),a=o(o.bind);e.exports=function(e,t){return r(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var o=n(7293);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var o=n(4374),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(e,t,n){var o=n(9781),r=n(2597),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!o||o&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},5668:function(e,t,n){var o=n(1702),r=n(9662);e.exports=function(e,t,n){try{return o(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},1470:function(e,t,n){var o=n(4326),r=n(1702);e.exports=function(e){if("Function"===o(e))return r(e)}},1702:function(e,t,n){var o=n(4374),r=Function.prototype,i=r.call,a=o&&r.bind.bind(i,i);e.exports=o?a:function(e){return function(){return i.apply(e,arguments)}}},5005:function(e,t,n){var o=n(7854),r=n(614),i=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e]):o[e]&&o[e][t]}},8173:function(e,t,n){var o=n(9662),r=n(8554);e.exports=function(e,t){var n=e[t];return r(n)?void 0:o(n)}},7854:function(e,t,n){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(e,t,n){var o=n(1702),r=n(7908),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(r(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var o=n(5005);e.exports=o("document","documentElement")},4664:function(e,t,n){var o=n(9781),r=n(7293),i=n(317);e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var o=n(1702),r=n(7293),i=n(4326),a=Object,s=o("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},9587:function(e,t,n){var o=n(614),r=n(111),i=n(7674);e.exports=function(e,t,n){var a,s;return i&&o(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},2788:function(e,t,n){var o=n(1702),r=n(614),i=n(5465),a=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},9909:function(e,t,n){var o,r,i,a=n(4811),s=n(7854),l=n(111),c=n(8880),u=n(2597),d=n(5465),h=n(6200),m=n(3501),p="Object already initialized",f=s.TypeError,g=s.WeakMap,v=function(e){return i(e)?r(e):o(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw f(p);return t.facade=e,b.set(e,t),t},r=function(e){return b.get(e)||{}},i=function(e){return b.has(e)}}else{var w=h("state");m[w]=!0,o=function(e,t){if(u(e,w))throw f(p);return t.facade=e,c(e,w,t),t},r=function(e){return u(e,w)?e[w]:{}},i=function(e){return u(e,w)}}e.exports={set:o,get:r,has:i,enforce:v,getterFor:y}},3157:function(e,t,n){var o=n(4326);e.exports=Array.isArray||function(e){return"Array"==o(e)}},4067:function(e,t,n){var o=n(648);e.exports=function(e){var t=o(e);return"BigInt64Array"==t||"BigUint64Array"==t}},614:function(e,t,n){var o=n(4154),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},4705:function(e,t,n){var o=n(7293),r=n(614),i=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==u||n!=c&&(r(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var o=n(614),r=n(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===i}:function(e){return"object"==typeof e?null!==e:o(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var o=n(5005),r=n(614),i=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return r(t)&&i(t.prototype,s(e))}},6244:function(e,t,n){var o=n(7466);e.exports=function(e){return o(e.length)}},6339:function(e,t,n){var o=n(1702),r=n(7293),i=n(614),a=n(2597),s=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),d=u.enforce,h=u.get,m=String,p=Object.defineProperty,f=o("".slice),g=o("".replace),v=o([].join),y=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===f(m(t),0,7)&&(t="["+g(m(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var o=d(e);return a(o,"source")||(o.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&h(this).source||c(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},6277:function(e,t,n){var o=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},3070:function(e,t,n){var o=n(9781),r=n(4664),i=n(3353),a=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",m="writable";t.f=o?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&m in n&&!n[m]){var o=u(e,t);o&&o[m]&&(e[t]=n.value,n={configurable:h in n?n[h]:o[h],enumerable:d in n?n[d]:o[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return c(e,t,n)}catch(o){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var o=n(9781),r=n(6916),i=n(5296),a=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return a(!r(i.f,e,t),e[t])}},8006:function(e,t,n){var o=n(6324),r=n(748),i=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var o=n(2597),r=n(614),i=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(o(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var o=n(1702);e.exports=o({}.isPrototypeOf)},6324:function(e,t,n){var o=n(1702),r=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),l=o([].push);e.exports=function(e,t){var n,o=i(e),c=0,u=[];for(n in o)!r(s,n)&&r(o,n)&&l(u,n);while(t.length>c)r(o,n=t[c++])&&(~a(u,n)||l(u,n));return u}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var o=n(5668),r=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=o(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(a){}return function(n,o){return r(n),i(o),t?e(n,o):n.__proto__=o,n}}():void 0)},2140:function(e,t,n){var o=n(6916),r=n(614),i=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!i(s=o(n,e)))return s;if(r(n=e.valueOf)&&!i(s=o(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!i(s=o(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var o=n(5005),r=n(1702),i=n(8006),a=n(5181),s=n(9670),l=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?l(t,n(e)):t}},7066:function(e,t,n){"use strict";var o=n(9670);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:function(e,t,n){var o=n(8554),r=TypeError;e.exports=function(e){if(o(e))throw r("Can't call method on "+e);return e}},7152:function(e,t,n){"use strict";var o=n(7854),r=n(2104),i=n(614),a=n(9363),s=n(8113),l=n(206),c=n(8053),u=o.Function,d=/MSIE .\./.test(s)||a&&function(){var e=o.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}();e.exports=function(e,t){var n=t?2:1;return d?function(o,a){var s=c(arguments.length,1)>n,d=i(o)?o:u(o),h=s?l(arguments,n):[],m=s?function(){r(d,this,h)}:d;return t?e(m,a):e(m)}:e}},6200:function(e,t,n){var o=n(2309),r=n(9711),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},5465:function(e,t,n){var o=n(7854),r=n(3072),i="__core-js_shared__",a=o[i]||r(i,{});e.exports=a},2309:function(e,t,n){var o=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var o=n(7392),r=n(7293),i=n(7854),a=i.String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},261:function(e,t,n){var o,r,i,a,s=n(7854),l=n(2104),c=n(9974),u=n(614),d=n(2597),h=n(7293),m=n(490),p=n(206),f=n(317),g=n(8053),v=n(6833),y=n(5268),b=s.setImmediate,w=s.clearImmediate,_=s.process,x=s.Dispatch,C=s.Function,S=s.MessageChannel,k=s.String,E=0,T={},M="onreadystatechange";h((function(){o=s.location}));var O=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},D=function(e){return function(){O(e)}},A=function(e){O(e.data)},R=function(e){s.postMessage(k(e),o.protocol+"//"+o.host)};b&&w||(b=function(e){g(arguments.length,1);var t=u(e)?e:C(e),n=p(arguments,1);return T[++E]=function(){l(t,void 0,n)},r(E),E},w=function(e){delete T[e]},y?r=function(e){_.nextTick(D(e))}:x&&x.now?r=function(e){x.now(D(e))}:S&&!v?(i=new S,a=i.port2,i.port1.onmessage=A,r=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&o&&"file:"!==o.protocol&&!h(R)?(r=R,s.addEventListener("message",A,!1)):r=M in f("script")?function(e){m.appendChild(f("script"))[M]=function(){m.removeChild(this),O(e)}}:function(e){setTimeout(D(e),0)}),e.exports={set:b,clear:w}},1400:function(e,t,n){var o=n(9303),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},4599:function(e,t,n){var o=n(7593),r=TypeError;e.exports=function(e){var t=o(e,"number");if("number"==typeof t)throw r("Can't convert number to bigint");return BigInt(t)}},5656:function(e,t,n){var o=n(8361),r=n(4488);e.exports=function(e){return o(r(e))}},9303:function(e,t,n){var o=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},7466:function(e,t,n){var o=n(9303),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},7908:function(e,t,n){var o=n(4488),r=Object;e.exports=function(e){return r(o(e))}},7593:function(e,t,n){var o=n(6916),r=n(111),i=n(2190),a=n(8173),s=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,l=a(e,u);if(l){if(void 0===t&&(t="default"),n=o(l,e,t),!r(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var o=n(7593),r=n(2190);e.exports=function(e){var t=o(e,"string");return r(t)?t:t+""}},1694:function(e,t,n){var o=n(5112),r=o("toStringTag"),i={};i[r]="z",e.exports="[object z]"===String(i)},1340:function(e,t,n){var o=n(648),r=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var o=n(1702),r=0,i=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+i,36)}},3307:function(e,t,n){var o=n(6293);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var o=n(9781),r=n(7293);e.exports=o&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},4811:function(e,t,n){var o=n(7854),r=n(614),i=o.WeakMap;e.exports=r(i)&&/native code/.test(String(i))},5112:function(e,t,n){var o=n(7854),r=n(2309),i=n(2597),a=n(9711),s=n(6293),l=n(3307),c=o.Symbol,u=r("wks"),d=l?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return i(u,e)||(u[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},7658:function(e,t,n){"use strict";var o=n(2109),r=n(7908),i=n(6244),a=n(3658),s=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!u();o({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=r(this),n=i(t),o=arguments.length;s(n+o);for(var l=0;l<o;l++)t[n]=arguments[l],n++;return a(t,n),n}})},2087:function(e,t,n){var o=n(7854),r=n(9781),i=n(7045),a=n(7066),s=n(7293),l=o.RegExp,c=l.prototype,u=r&&s((function(){var e=!0;try{l(".","d")}catch(u){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",r=function(e,o){Object.defineProperty(t,e,{get:function(){return n+=o,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(i.hasIndices="d"),i)r(a,i[a]);var s=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return s!==o||n!==o}));u&&i(c,"flags",{configurable:!0,get:a})},1439:function(e,t,n){"use strict";var o=n(1843),r=n(260),i=r.aTypedArray,a=r.exportTypedArrayMethod,s=r.getTypedArrayConstructor;a("toReversed",(function(){return o(i(this),s(this))}))},7585:function(e,t,n){"use strict";var o=n(260),r=n(1702),i=n(9662),a=n(7745),s=o.aTypedArray,l=o.getTypedArrayConstructor,c=o.exportTypedArrayMethod,u=r(o.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&i(e);var t=s(this),n=a(l(t),t);return u(n,e)}))},5315:function(e,t,n){"use strict";var o=n(1572),r=n(260),i=n(4067),a=n(9303),s=n(4599),l=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var n=l(this),r=a(e),u=i(n)?s(t):+t;return o(n,c(n),r,u)}}["with"],!d)},1091:function(e,t,n){var o=n(2109),r=n(7854),i=n(261).clear;o({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==i},{clearImmediate:i})},2801:function(e,t,n){"use strict";var o=n(2109),r=n(7854),i=n(5005),a=n(9114),s=n(3070).f,l=n(2597),c=n(5787),u=n(9587),d=n(6277),h=n(3678),m=n(1060),p=n(9781),f=n(1913),g="DOMException",v=i("Error"),y=i(g),b=function(){c(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),o=new y(t,n),r=v(t);return r.name=g,s(o,"stack",a(1,m(r.stack,1))),u(o,this,b),o},w=b.prototype=y.prototype,_="stack"in v(g),x="stack"in new y(1,2),C=y&&p&&Object.getOwnPropertyDescriptor(r,g),S=!!C&&!(C.writable&&C.configurable),k=_&&!S&&!x;o({global:!0,constructor:!0,forced:f||k},{DOMException:k?b:y});var E=i(g),T=E.prototype;if(T.constructor!==E)for(var M in f||s(T,"constructor",a(1,E)),h)if(l(h,M)){var O=h[M],D=O.s;l(E,D)||s(E,D,a(6,O.c))}},4633:function(e,t,n){n(1091),n(2986)},2986:function(e,t,n){var o=n(2109),r=n(7854),i=n(261).set,a=n(7152),s=r.setImmediate?a(i,!1):i;o({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==s},{setImmediate:s})},2062:function(e,t,n){"use strict";var o=n(9781),r=n(1702),i=n(7045),a=URLSearchParams.prototype,s=r(a.forEach);o&&!("size"in a)&&i(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},4415:function(){},5046:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});n(7658);var o=n(3396),r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],i=function(e){return-1!==r.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},a=function(e,t,n){Object.keys(t).filter(i).forEach((function(o){var r=t[o];"function"===typeof r&&("onInit"===o?r(e,n):n.on(o.substring(2),(function(e){return r(e,n)})))}))},s=function(e,t,n,r){var i=e.modelEvents?e.modelEvents:null,a=Array.isArray(i)?i.join(" "):i;(0,o.YP)(r,(function(t,o){n&&"string"===typeof t&&t!==o&&t!==n.getContent({format:e.outputFormat})&&n.setContent(t)})),n.on(a||"change input undo redo",(function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))}))},l=function(e,t,n,o,r,i){o.setContent(i()),n.attrs["onUpdate:modelValue"]&&s(t,n,o,r),a(e,n.attrs,o)},c=0,u=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return c++,e+"_"+n+c+String(t)},d=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},h=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},m=function(e,t){return h(e).concat(h(t))},p=function(e){return null===e||void 0===e},f=function(){return{listeners:[],scriptId:u("tiny-script"),scriptLoaded:!1}},g=function(){var e=f(),t=function(e,t,n,o){var r=t.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=e,r.src=n;var i=function(){r.removeEventListener("load",i),o()};r.addEventListener("load",i),t.head&&t.head.appendChild(r)},n=function(n,o,r){e.scriptLoaded?r():(e.listeners.push(r),n.getElementById(e.scriptId)||t(e.scriptId,n,o,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},o=function(){e=f()};return{load:n,reinitialize:o}},v=g(),y=function(){return"undefined"!==typeof window?window:n.g},b=function(){var e=y();return e&&e.tinymce?e.tinymce:null},w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},_=n(4870),x=function(){return x=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},x.apply(this,arguments)},C=function(e,t,n,o){return e(o||"div",{id:t,ref:n})},S=function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})},k=(0,o.aZ)({props:w,setup:function(e,t){var n=e.init?x({},e.init):{},r=(0,_.BK)(e),i=r.disabled,a=r.modelValue,s=r.tagName,c=(0,_.iH)(null),h=null,f=e.id||u("tiny-vue"),g=e.init&&e.init.inline||e.inline,y=!!t.attrs["onUpdate:modelValue"],w=!0,k=e.initialValue?e.initialValue:"",E="",T=function(e){return y?function(){return(null===a||void 0===a?void 0:a.value)?a.value:""}:function(){return e?k:E}},M=function(){var o=T(w),r=x(x({},n),{readonly:e.disabled,target:c.value,plugins:m(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:g,setup:function(r){h=r,r.on("init",(function(n){return l(n,e,t,r,a,o)})),"function"===typeof n.setup&&n.setup(r)}});d(c.value)&&(c.value.style.visibility=""),b().init(r),w=!1};(0,o.YP)(i,(function(e){var t;null!==h&&("function"===typeof(null===(t=h.mode)||void 0===t?void 0:t.set)?h.mode.set(e?"readonly":"design"):h.setMode(e?"readonly":"design"))})),(0,o.YP)(s,(function(e){var t;y||(E=h.getContent()),null===(t=b())||void 0===t||t.remove(h),(0,o.Y3)((function(){return M()}))})),(0,o.bv)((function(){if(null!==b())M();else if(c.value&&c.value.ownerDocument){var t=e.cloudChannel?e.cloudChannel:"6",n=e.apiKey?e.apiKey:"no-api-key",o=p(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(n,"/tinymce/").concat(t,"/tinymce.min.js"):e.tinymceScriptSrc;v.load(c.value.ownerDocument,o,M)}})),(0,o.Jd)((function(){null!==b()&&b().remove(h)})),g||((0,o.dl)((function(){w||M()})),(0,o.se)((function(){var e;y||(E=h.getContent()),null===(e=b())||void 0===e||e.remove(h)})));var O=function(e){var t;E=h.getContent(),null===(t=b())||void 0===t||t.remove(h),n=x(x({},n),e),(0,o.Y3)((function(){return M()}))};return t.expose({rerender:O,getEditor:function(){return h}}),function(){return g?C(o.h,f,c,e.tagName):S(o.h,f,c)}}}),E=k},4870:function(e,t,n){"use strict";n.d(t,{B:function(){return a},BK:function(){return Ge},Bj:function(){return i},EB:function(){return c},Fl:function(){return et},IU:function(){return Pe},Jd:function(){return E},OT:function(){return Te},PG:function(){return Oe},SU:function(){return Ze},Um:function(){return Ee},Vh:function(){return Je},WL:function(){return qe},X$:function(){return D},X3:function(){return Re},XI:function(){return Ue},Xl:function(){return Ie},dq:function(){return Fe},iH:function(){return Be},j:function(){return M},lk:function(){return T},nZ:function(){return l},oR:function(){return We},qj:function(){return ke},qq:function(){return x},yT:function(){return Ae}});n(7658);var o=n(7139);let r;class i{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!e&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new i(e)}function s(e,t=r){t&&t.active&&t.effects.push(e)}function l(){return r}function c(e){r&&r.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&v)>0,h=e=>(e.n&v)>0,m=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];d(r)&&!h(r)?r.delete(e):t[n++]=r,r.w&=~v,r.n&=~v}t.length=n}},f=new WeakMap;let g=0,v=1;const y=30;let b;const w=Symbol(""),_=Symbol("");class x{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let e=b,t=S;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,S=!0,v=1<<++g,g<=y?m(this):C(this),this.fn()}finally{g<=y&&p(this),v=1<<--g,b=this.parent,S=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(C(this),this.onStop&&this.onStop(),this.active=!1)}}function C(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let S=!0;const k=[];function E(){k.push(S),S=!1}function T(){const e=k.pop();S=void 0===e||e}function M(e,t,n){if(S&&b){let t=f.get(e);t||f.set(e,t=new Map);let o=t.get(n);o||t.set(n,o=u());const r=void 0;O(o,r)}}function O(e,t){let n=!1;g<=y?h(e)||(e.n|=v,n=!d(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function D(e,t,n,r,i,a){const s=f.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&(0,o.kJ)(e)){const e=Number(r);s.forEach(((t,n)=>{("length"===n||n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(s.get(n)),t){case"add":(0,o.kJ)(e)?(0,o.S0)(n)&&l.push(s.get("length")):(l.push(s.get(w)),(0,o._N)(e)&&l.push(s.get(_)));break;case"delete":(0,o.kJ)(e)||(l.push(s.get(w)),(0,o._N)(e)&&l.push(s.get(_)));break;case"set":(0,o._N)(e)&&l.push(s.get(w));break}if(1===l.length)l[0]&&A(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);A(u(e))}}function A(e,t){const n=(0,o.kJ)(e)?e:[...e];for(const o of n)o.computed&&R(o,t);for(const o of n)o.computed||R(o,t)}function R(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function P(e,t){var n;return null==(n=f.get(e))?void 0:n.get(t)}const I=(0,o.fY)("__proto__,__v_isRef,__isVue"),z=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(o.yk)),N=V(),L=V(!1,!0),H=V(!0),F=B();function B(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Pe(this);for(let t=0,r=this.length;t<r;t++)M(n,"get",t+"");const o=n[t](...e);return-1===o||!1===o?n[t](...e.map(Pe)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){E();const n=Pe(this)[t].apply(this,e);return T(),n}})),e}function U(e){const t=Pe(this);return M(t,"has",e),t.hasOwnProperty(e)}function V(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?xe:_e:t?we:be).get(n))return n;const a=(0,o.kJ)(n);if(!e){if(a&&(0,o.RI)(F,r))return Reflect.get(F,r,i);if("hasOwnProperty"===r)return U}const s=Reflect.get(n,r,i);return((0,o.yk)(r)?z.has(r):I(r))?s:(e||M(n,"get",r),t?s:Fe(s)?a&&(0,o.S0)(r)?s:s.value:(0,o.Kn)(s)?e?Te(s):ke(s):s)}}const j=Z(),W=Z(!0);function Z(e=!1){return function(t,n,r,i){let a=t[n];if(De(a)&&Fe(a)&&!Fe(r))return!1;if(!e&&(Ae(r)||De(r)||(a=Pe(a),r=Pe(r)),!(0,o.kJ)(t)&&Fe(a)&&!Fe(r)))return a.value=r,!0;const s=(0,o.kJ)(t)&&(0,o.S0)(n)?Number(n)<t.length:(0,o.RI)(t,n),l=Reflect.set(t,n,r,i);return t===Pe(i)&&(s?(0,o.aU)(r,a)&&D(t,"set",n,r,a):D(t,"add",n,r)),l}}function $(e,t){const n=(0,o.RI)(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&D(e,"delete",t,void 0,r),i}function q(e,t){const n=Reflect.has(e,t);return(0,o.yk)(t)&&z.has(t)||M(e,"has",t),n}function G(e){return M(e,"iterate",(0,o.kJ)(e)?"length":w),Reflect.ownKeys(e)}const K={get:N,set:j,deleteProperty:$,has:q,ownKeys:G},Y={get:H,set(e,t){return!0},deleteProperty(e,t){return!0}},J=(0,o.l7)({},K,{get:L,set:W}),X=e=>e,Q=e=>Reflect.getPrototypeOf(e);function ee(e,t,n=!1,o=!1){e=e["__v_raw"];const r=Pe(e),i=Pe(t);n||(t!==i&&M(r,"get",t),M(r,"get",i));const{has:a}=Q(r),s=o?X:n?Ne:ze;return a.call(r,t)?s(e.get(t)):a.call(r,i)?s(e.get(i)):void(e!==r&&e.get(t))}function te(e,t=!1){const n=this["__v_raw"],o=Pe(n),r=Pe(e);return t||(e!==r&&M(o,"has",e),M(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function ne(e,t=!1){return e=e["__v_raw"],!t&&M(Pe(e),"iterate",w),Reflect.get(e,"size",e)}function oe(e){e=Pe(e);const t=Pe(this),n=Q(t),o=n.has.call(t,e);return o||(t.add(e),D(t,"add",e,e)),this}function re(e,t){t=Pe(t);const n=Pe(this),{has:r,get:i}=Q(n);let a=r.call(n,e);a||(e=Pe(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?(0,o.aU)(t,s)&&D(n,"set",e,t,s):D(n,"add",e,t),this}function ie(e){const t=Pe(this),{has:n,get:o}=Q(t);let r=n.call(t,e);r||(e=Pe(e),r=n.call(t,e));const i=o?o.call(t,e):void 0,a=t.delete(e);return r&&D(t,"delete",e,void 0,i),a}function ae(){const e=Pe(this),t=0!==e.size,n=void 0,o=e.clear();return t&&D(e,"clear",void 0,void 0,n),o}function se(e,t){return function(n,o){const r=this,i=r["__v_raw"],a=Pe(i),s=t?X:e?Ne:ze;return!e&&M(a,"iterate",w),i.forEach(((e,t)=>n.call(o,s(e),s(t),r)))}}function le(e,t,n){return function(...r){const i=this["__v_raw"],a=Pe(i),s=(0,o._N)(a),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=i[e](...r),d=n?X:t?Ne:ze;return!t&&M(a,"iterate",c?_:w),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ce(e){return function(...t){return"delete"!==e&&this}}function ue(){const e={get(e){return ee(this,e)},get size(){return ne(this)},has:te,add:oe,set:re,delete:ie,clear:ae,forEach:se(!1,!1)},t={get(e){return ee(this,e,!1,!0)},get size(){return ne(this)},has:te,add:oe,set:re,delete:ie,clear:ae,forEach:se(!1,!0)},n={get(e){return ee(this,e,!0)},get size(){return ne(this,!0)},has(e){return te.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:se(!0,!1)},o={get(e){return ee(this,e,!0,!0)},get size(){return ne(this,!0)},has(e){return te.call(this,e,!0)},add:ce("add"),set:ce("set"),delete:ce("delete"),clear:ce("clear"),forEach:se(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{e[r]=le(r,!1,!1),n[r]=le(r,!0,!1),t[r]=le(r,!1,!0),o[r]=le(r,!0,!0)})),[e,n,t,o]}const[de,he,me,pe]=ue();function fe(e,t){const n=t?e?pe:me:e?he:de;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,o.RI)(n,r)&&r in t?n:t,r,i)}const ge={get:fe(!1,!1)},ve={get:fe(!1,!0)},ye={get:fe(!0,!1)};const be=new WeakMap,we=new WeakMap,_e=new WeakMap,xe=new WeakMap;function Ce(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Se(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ce((0,o.W7)(e))}function ke(e){return De(e)?e:Me(e,!1,K,ge,be)}function Ee(e){return Me(e,!1,J,ve,we)}function Te(e){return Me(e,!0,Y,ye,_e)}function Me(e,t,n,r,i){if(!(0,o.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=i.get(e);if(a)return a;const s=Se(e);if(0===s)return e;const l=new Proxy(e,2===s?r:n);return i.set(e,l),l}function Oe(e){return De(e)?Oe(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function De(e){return!(!e||!e["__v_isReadonly"])}function Ae(e){return!(!e||!e["__v_isShallow"])}function Re(e){return Oe(e)||De(e)}function Pe(e){const t=e&&e["__v_raw"];return t?Pe(t):e}function Ie(e){return(0,o.Nj)(e,"__v_skip",!0),e}const ze=e=>(0,o.Kn)(e)?ke(e):e,Ne=e=>(0,o.Kn)(e)?Te(e):e;function Le(e){S&&b&&(e=Pe(e),O(e.dep||(e.dep=u())))}function He(e,t){e=Pe(e);const n=e.dep;n&&A(n)}function Fe(e){return!(!e||!0!==e.__v_isRef)}function Be(e){return Ve(e,!1)}function Ue(e){return Ve(e,!0)}function Ve(e,t){return Fe(e)?e:new je(e,t)}class je{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Pe(e),this._value=t?e:ze(e)}get value(){return Le(this),this._value}set value(e){const t=this.__v_isShallow||Ae(e)||De(e);e=t?e:Pe(e),(0,o.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ze(e),He(this,e))}}function We(e){He(e,void 0)}function Ze(e){return Fe(e)?e.value:e}const $e={get:(e,t,n)=>Ze(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return Fe(r)&&!Fe(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function qe(e){return Oe(e)?e:new Proxy(e,$e)}function Ge(e){const t=(0,o.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Xe(e,n);return t}class Ke{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P(Pe(this._object),this._key)}}class Ye{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Je(e,t,n){return Fe(e)?e:(0,o.mf)(e)?new Ye(e):(0,o.Kn)(e)&&arguments.length>1?Xe(e,t,n):Be(e)}function Xe(e,t,n){const o=e[t];return Fe(o)?o:new Ke(e,t,n)}class Qe{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new x(e,(()=>{this._dirty||(this._dirty=!0,He(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this["__v_isReadonly"]=n}get value(){const e=Pe(this);return Le(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function et(e,t,n=!1){let r,i;const a=(0,o.mf)(e);a?(r=e,i=o.dG):(r=e.get,i=e.set);const s=new Qe(r,i,a||!i,n);return s}},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return s},Ah:function(){return Pe},Cn:function(){return L},F4:function(){return Tn},FN:function(){return Un},Fl:function(){return ao},HY:function(){return an},Ho:function(){return Mn},JJ:function(){return St},Jd:function(){return Re},Ko:function(){return $e},LL:function(){return Ve},Nv:function(){return qe},Ob:function(){return ye},P$:function(){return se},Q2:function(){return je},Q6:function(){return me},Rh:function(){return G},Rr:function(){return tt},U2:function(){return ce},Uk:function(){return On},Us:function(){return Zt},WI:function(){return Ge},Wm:function(){return kn},Xn:function(){return De},Y3:function(){return b},Y8:function(){return oe},YP:function(){return Y},ZK:function(){return i},_:function(){return Sn},aZ:function(){return pe},bv:function(){return Oe},dD:function(){return N},dG:function(){return zn},dl:function(){return we},f3:function(){return kt},h:function(){return so},iD:function(){return vn},ic:function(){return Ae},j4:function(){return yn},kq:function(){return An},l1:function(){return nt},lA:function(){return bn},lR:function(){return on},m0:function(){return q},mx:function(){return Ye},nJ:function(){return ie},nK:function(){return he},qG:function(){return cn},se:function(){return _e},sv:function(){return ln},uE:function(){return Dn},up:function(){return Be},w5:function(){return H},wF:function(){return Me},wg:function(){return hn},wy:function(){return te},xv:function(){return sn}});n(7658);var o=n(4870),r=n(7139);function i(e,...t){}function a(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){l(i,t,n)}return r}function s(e,t,n,o){if((0,r.mf)(e)){const i=a(e,t,n,o);return i&&(0,r.tI)(i)&&i.catch((e=>{l(e,t,n)})),i}const i=[];for(let r=0;r<e.length;r++)i.push(s(e[r],t,n,o));return i}function l(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,i=n;while(o){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,i))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void a(s,null,10,[e,r,i])}c(e,n,r,o)}function c(e,t,n,o=!0){console.error(e)}let u=!1,d=!1;const h=[];let m=0;const p=[];let f=null,g=0;const v=Promise.resolve();let y=null;function b(e){const t=y||v;return e?t.then(this?e.bind(this):e):t}function w(e){let t=m+1,n=h.length;while(t<n){const o=t+n>>>1,r=T(h[o]);r<e?t=o+1:n=o}return t}function _(e){h.length&&h.includes(e,u&&e.allowRecurse?m+1:m)||(null==e.id?h.push(e):h.splice(w(e.id),0,e),x())}function x(){u||d||(d=!0,y=v.then(O))}function C(e){const t=h.indexOf(e);t>m&&h.splice(t,1)}function S(e){(0,r.kJ)(e)?p.push(...e):f&&f.includes(e,e.allowRecurse?g+1:g)||p.push(e),x()}function k(e,t=(u?m+1:0)){for(0;t<h.length;t++){const e=h[t];e&&e.pre&&(h.splice(t,1),t--,e())}}function E(e){if(p.length){const e=[...new Set(p)];if(p.length=0,f)return void f.push(...e);for(f=e,f.sort(((e,t)=>T(e)-T(t))),g=0;g<f.length;g++)f[g]();f=null,g=0}}const T=e=>null==e.id?1/0:e.id,M=(e,t)=>{const n=T(e)-T(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function O(e){d=!1,u=!0,h.sort(M);r.dG;try{for(m=0;m<h.length;m++){const e=h[m];e&&!1!==e.active&&a(e,null,14)}}finally{m=0,h.length=0,E(e),u=!1,y=null,(h.length||p.length)&&O(e)}}function D(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r.kT;let i=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in o){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:a}=o[e]||r.kT;a&&(i=n.map((e=>(0,r.HD)(e)?e.trim():e))),t&&(i=n.map(r.h5))}let c;let u=o[c=(0,r.hR)(t)]||o[c=(0,r.hR)((0,r._A)(t))];!u&&a&&(u=o[c=(0,r.hR)((0,r.rs)(t))]),u&&s(u,e,6,i);const d=o[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,s(d,e,6,i)}}function A(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const a=e.emits;let s={},l=!1;if(!(0,r.mf)(e)){const o=e=>{const n=A(e,t,!0);n&&(l=!0,(0,r.l7)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return a||l?((0,r.kJ)(a)?a.forEach((e=>s[e]=null)):(0,r.l7)(s,a),(0,r.Kn)(e)&&o.set(e,s),s):((0,r.Kn)(e)&&o.set(e,null),null)}function R(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}let P=null,I=null;function z(e){const t=P;return P=e,I=e&&e.type.__scopeId||null,t}function N(e){I=e}function L(){I=null}function H(e,t=P,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&fn(-1);const r=z(t);let i;try{i=e(...n)}finally{z(r),o._d&&fn(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function F(e){const{type:t,vnode:n,proxy:o,withProxy:i,props:a,propsOptions:[s],slots:c,attrs:u,emit:d,render:h,renderCache:m,data:p,setupState:f,ctx:g,inheritAttrs:v}=e;let y,b;const w=z(e);try{if(4&n.shapeFlag){const e=i||o;y=Rn(h.call(e,e,m,a,f,p,g)),b=u}else{const e=t;0,y=Rn(e.length>1?e(a,{attrs:u,slots:c,emit:d}):e(a,null)),b=t.props?u:B(u)}}catch(x){un.length=0,l(x,e,1),y=kn(ln)}let _=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(s&&e.some(r.tR)&&(b=U(b,s)),_=Mn(_,b))}return n.dirs&&(_=Mn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,z(w),y}const B=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},U=(e,t)=>{const n={};for(const o in e)(0,r.tR)(o)&&o.slice(9)in t||(n[o]=e[o]);return n};function V(e,t,n){const{props:o,children:r,component:i}=e,{props:a,children:s,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!s||s&&s.$stable)||o!==a&&(o?!a||j(o,a,c):!!a);if(1024&l)return!0;if(16&l)return o?j(o,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==o[n]&&!R(c,n))return!0}}return!1}function j(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!R(n,i))return!0}return!1}function W({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const Z=e=>e.__isSuspense;function $(e,t){t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):S(e)}function q(e,t){return J(e,null,t)}function G(e,t){return J(e,null,{flush:"post"})}const K={};function Y(e,t,n){return J(e,t,n)}function J(e,t,{immediate:n,deep:i,flush:l,onTrack:c,onTrigger:u}=r.kT){var d;const h=(0,o.nZ)()===(null==(d=Bn)?void 0:d.scope)?Bn:null;let m,p,f=!1,g=!1;if((0,o.dq)(e)?(m=()=>e.value,f=(0,o.yT)(e)):(0,o.PG)(e)?(m=()=>e,i=!0):(0,r.kJ)(e)?(g=!0,f=e.some((e=>(0,o.PG)(e)||(0,o.yT)(e))),m=()=>e.map((e=>(0,o.dq)(e)?e.value:(0,o.PG)(e)?ee(e):(0,r.mf)(e)?a(e,h,2):void 0))):m=(0,r.mf)(e)?t?()=>a(e,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),s(e,h,3,[y])}:r.dG,t&&i){const e=m;m=()=>ee(e())}let v,y=e=>{p=C.onStop=()=>{a(e,h,4)}};if(Yn){if(y=r.dG,t?n&&s(t,h,3,[m(),g?[]:void 0,y]):m(),"sync"!==l)return r.dG;{const e=co();v=e.__watcherHandles||(e.__watcherHandles=[])}}let b=g?new Array(e.length).fill(K):K;const w=()=>{if(C.active)if(t){const e=C.run();(i||f||(g?e.some(((e,t)=>(0,r.aU)(e,b[t]))):(0,r.aU)(e,b)))&&(p&&p(),s(t,h,3,[e,b===K?void 0:g&&b[0]===K?[]:b,y]),b=e)}else C.run()};let x;w.allowRecurse=!!t,"sync"===l?x=w:"post"===l?x=()=>Wt(w,h&&h.suspense):(w.pre=!0,h&&(w.id=h.uid),x=()=>_(w));const C=new o.qq(m,x);t?n?w():b=C.run():"post"===l?Wt(C.run.bind(C),h&&h.suspense):C.run();const S=()=>{C.stop(),h&&h.scope&&(0,r.Od)(h.scope.effects,C)};return v&&v.push(S),S}function X(e,t,n){const o=this.proxy,i=(0,r.HD)(e)?e.includes(".")?Q(o,e):()=>o[e]:e.bind(o,o);let a;(0,r.mf)(t)?a=t:(a=t.handler,n=t);const s=Bn;Zn(this);const l=J(i,a.bind(o),n);return s?Zn(s):$n(),l}function Q(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ee(e,t){if(!(0,r.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,o.dq)(e))ee(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)ee(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{ee(e,t)}));else if((0,r.PO)(e))for(const n in e)ee(e[n],t);return e}function te(e,t){const n=P;if(null===n)return e;const o=oo(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,l=r.kT]=t[a];e&&((0,r.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&ee(n),i.push({dir:e,instance:o,value:n,oldValue:void 0,arg:s,modifiers:l}))}return e}function ne(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let l=0;l<i.length;l++){const c=i[l];a&&(c.oldValue=a[l].value);let u=c.dir[r];u&&((0,o.Jd)(),s(u,n,8,[e.el,c,e,t]),(0,o.lk)())}}function oe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oe((()=>{e.isMounted=!0})),Re((()=>{e.isUnmounting=!0})),e}const re=[Function,Array],ie={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:re,onEnter:re,onAfterEnter:re,onEnterCancelled:re,onBeforeLeave:re,onLeave:re,onAfterLeave:re,onLeaveCancelled:re,onBeforeAppear:re,onAppear:re,onAfterAppear:re,onAppearCancelled:re},ae={name:"BaseTransition",props:ie,setup(e,{slots:t}){const n=Un(),r=oe();let i;return()=>{const a=t.default&&me(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==ln){0,s=t,e=!0;break}}const l=(0,o.IU)(e),{mode:c}=l;if(r.isLeaving)return ue(s);const u=de(s);if(!u)return ue(s);const d=ce(u,l,r,n);he(u,d);const h=n.subTree,m=h&&de(h);let p=!1;const{getTransitionKey:f}=u.type;if(f){const e=f();void 0===i?i=e:e!==i&&(i=e,p=!0)}if(m&&m.type!==ln&&(!wn(u,m)||p)){const e=ce(m,l,r,n);if(he(m,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},ue(s);"in-out"===c&&u.type!==ln&&(e.delayLeave=(e,t,n)=>{const o=le(r,m);o[String(m.key)]=m,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return s}}},se=ae;function le(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ce(e,t,n,o){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:m,onLeave:p,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),x=le(n,e),C=(e,t)=>{e&&s(e,o,9,t)},S=(e,t)=>{const n=t[1];C(e,t),(0,r.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},k={mode:a,persisted:l,beforeEnter(t){let o=c;if(!n.isMounted){if(!i)return;o=v||c}t._leaveCb&&t._leaveCb(!0);const r=x[_];r&&wn(e,r)&&r.el._leaveCb&&r.el._leaveCb(),C(o,[t])},enter(e){let t=u,o=d,r=h;if(!n.isMounted){if(!i)return;t=y||u,o=b||d,r=w||h}let a=!1;const s=e._enterCb=t=>{a||(a=!0,C(t?r:o,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,s]):s()},leave(t,o){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return o();C(m,[t]);let i=!1;const a=t._leaveCb=n=>{i||(i=!0,o(),C(n?g:f,[t]),t._leaveCb=void 0,x[r]===e&&delete x[r])};x[r]=e,p?S(p,[t,a]):a()},clone(e){return ce(e,t,n,o)}};return k}function ue(e){if(ge(e))return e=Mn(e),e.children=null,e}function de(e){return ge(e)?e.children?e.children[0]:void 0:e}function he(e,t){6&e.shapeFlag&&e.component?he(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function me(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===an?(128&a.patchFlag&&r++,o=o.concat(me(a.children,t,s))):(t||a.type!==ln)&&o.push(null!=s?Mn(a,{key:s}):a)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function pe(e,t){return(0,r.mf)(e)?(()=>(0,r.l7)({name:e.name},t,{setup:e}))():e}const fe=e=>!!e.type.__asyncLoader;const ge=e=>e.type.__isKeepAlive,ve={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Un(),o=n.ctx;if(!o.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,a=new Set;let s=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:h}}}=o,m=h("div");function p(e){Se(e),d(e,n,l,!0)}function f(e){i.forEach(((t,n)=>{const o=ro(t.type);!o||e&&e(o)||g(n)}))}function g(e){const t=i.get(e);s&&wn(t,s)?s&&Se(s):p(t),i.delete(e),a.delete(e)}o.activate=(e,t,n,o,i)=>{const a=e.component;u(e,t,n,0,l),c(a.vnode,e,t,n,a,l,o,e.slotScopeIds,i),Wt((()=>{a.isDeactivated=!1,a.a&&(0,r.ir)(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Nn(t,a.parent,e)}),l)},o.deactivate=e=>{const t=e.component;u(e,m,null,1,l),Wt((()=>{t.da&&(0,r.ir)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Nn(n,t.parent,e),t.isDeactivated=!0}),l)},Y((()=>[e.include,e.exclude]),(([e,t])=>{e&&f((t=>be(e,t))),t&&f((e=>!be(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&i.set(v,ke(n.subTree))};return Oe(y),Ae(y),Re((()=>{i.forEach((e=>{const{subTree:t,suspense:o}=n,r=ke(t);if(e.type!==r.type||e.key!==r.key)p(e);else{Se(r);const e=r.component.da;e&&Wt(e,o)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),o=n[0];if(n.length>1)return s=null,n;if(!bn(o)||!(4&o.shapeFlag)&&!(128&o.shapeFlag))return s=null,o;let r=ke(o);const l=r.type,c=ro(fe(r)?r.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!be(u,c))||d&&c&&be(d,c))return s=r,o;const m=null==r.key?l:r.key,p=i.get(m);return r.el&&(r=Mn(r),128&o.shapeFlag&&(o.ssContent=r)),v=m,p?(r.el=p.el,r.component=p.component,r.transition&&he(r,r.transition),r.shapeFlag|=512,a.delete(m),a.add(m)):(a.add(m),h&&a.size>parseInt(h,10)&&g(a.values().next().value)),r.shapeFlag|=256,s=r,Z(o.type)?o:r}}},ye=ve;function be(e,t){return(0,r.kJ)(e)?e.some((e=>be(e,t))):(0,r.HD)(e)?e.split(",").includes(t):!!(0,r.Kj)(e)&&e.test(t)}function we(e,t){xe(e,"a",t)}function _e(e,t){xe(e,"da",t)}function xe(e,t,n=Bn){const o=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ee(t,o,n),n){let e=n.parent;while(e&&e.parent)ge(e.parent.vnode)&&Ce(o,t,n,e),e=e.parent}}function Ce(e,t,n,o){const i=Ee(t,e,o,!0);Pe((()=>{(0,r.Od)(o[t],i)}),n)}function Se(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ke(e){return 128&e.shapeFlag?e.ssContent:e}function Ee(e,t,n=Bn,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,o.Jd)(),Zn(n);const i=s(t,n,e,r);return $n(),(0,o.lk)(),i});return r?i.unshift(a):i.push(a),a}}const Te=e=>(t,n=Bn)=>(!Yn||"sp"===e)&&Ee(e,((...e)=>t(...e)),n),Me=Te("bm"),Oe=Te("m"),De=Te("bu"),Ae=Te("u"),Re=Te("bum"),Pe=Te("um"),Ie=Te("sp"),ze=Te("rtg"),Ne=Te("rtc");function Le(e,t=Bn){Ee("ec",e,t)}const He="components",Fe="directives";function Be(e,t){return We(He,e,!0,t)||e}const Ue=Symbol.for("v-ndc");function Ve(e){return(0,r.HD)(e)?We(He,e,!1)||e:e||Ue}function je(e){return We(Fe,e)}function We(e,t,n=!0,o=!1){const i=P||Bn;if(i){const n=i.type;if(e===He){const e=ro(n,!1);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const a=Ze(i[e]||n[e],t)||Ze(i.appContext[e],t);return!a&&o?n:a}}function Ze(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}function $e(e,t,n,o){let i;const a=n&&n[o];if((0,r.kJ)(e)||(0,r.HD)(e)){i=new Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];i[o]=t(e[r],r,o,a&&a[o])}}else i=[];return n&&(n[o]=i),i}function qe(e,t){for(let n=0;n<t.length;n++){const o=t[n];if((0,r.kJ)(o))for(let t=0;t<o.length;t++)e[o[t].name]=o[t].fn;else o&&(e[o.name]=o.key?(...e)=>{const t=o.fn(...e);return t&&(t.key=o.key),t}:o.fn)}return e}function Ge(e,t,n={},o,r){if(P.isCE||P.parent&&fe(P.parent)&&P.parent.isCE)return"default"!==t&&(n.name=t),kn("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),hn();const a=i&&Ke(i(n)),s=yn(an,{key:n.key||a&&a.key||`_${t}`},a||(o?o():[]),a&&1===e._?64:-2);return!r&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function Ke(e){return e.some((e=>!bn(e)||e.type!==ln&&!(e.type===an&&!Ke(e.children))))?e:null}function Ye(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:(0,r.hR)(o)]=e[o];return n}const Je=e=>e?qn(e)?oo(e)||e.proxy:Je(e.parent):null,Xe=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Je(e.parent),$root:e=>Je(e.root),$emit:e=>e.emit,$options:e=>ut(e),$forceUpdate:e=>e.f||(e.f=()=>_(e.update)),$nextTick:e=>e.n||(e.n=b.bind(e.proxy)),$watch:e=>X.bind(e)}),Qe=(e,t)=>e!==r.kT&&!e.__isScriptSetup&&(0,r.RI)(e,t),et={get({_:e},t){const{ctx:n,setupState:i,data:a,props:s,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const o=l[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Qe(i,t))return l[t]=1,i[t];if(a!==r.kT&&(0,r.RI)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,r.RI)(d,t))return l[t]=3,s[t];if(n!==r.kT&&(0,r.RI)(n,t))return l[t]=4,n[t];it&&(l[t]=0)}}const h=Xe[t];let m,p;return h?("$attrs"===t&&(0,o.j)(e,"get",t),h(e)):(m=c.__cssModules)&&(m=m[t])?m:n!==r.kT&&(0,r.RI)(n,t)?(l[t]=4,n[t]):(p=u.config.globalProperties,(0,r.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:o,setupState:i,ctx:a}=e;return Qe(i,t)?(i[t]=n,!0):o!==r.kT&&(0,r.RI)(o,t)?(o[t]=n,!0):!(0,r.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:a}},s){let l;return!!n[s]||e!==r.kT&&(0,r.RI)(e,s)||Qe(t,s)||(l=a[0])&&(0,r.RI)(l,s)||(0,r.RI)(o,s)||(0,r.RI)(Xe,s)||(0,r.RI)(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function tt(){return ot().slots}function nt(){return ot().attrs}function ot(){const e=Un();return e.setupContext||(e.setupContext=no(e))}function rt(e){return(0,r.kJ)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let it=!0;function at(e){const t=ut(e),n=e.proxy,i=e.ctx;it=!1,t.beforeCreate&&lt(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:m,mounted:p,beforeUpdate:f,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:x,render:C,renderTracked:S,renderTriggered:k,errorCaptured:E,serverPrefetch:T,expose:M,inheritAttrs:O,components:D,directives:A,filters:R}=t,P=null;if(d&&st(d,i,P),l)for(const o in l){const e=l[o];(0,r.mf)(e)&&(i[o]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,r.Kn)(t)&&(e.data=(0,o.qj)(t))}if(it=!0,s)for(const o in s){const e=s[o],t=(0,r.mf)(e)?e.bind(n,n):(0,r.mf)(e.get)?e.get.bind(n,n):r.dG;0;const a=!(0,r.mf)(e)&&(0,r.mf)(e.set)?e.set.bind(n):r.dG,l=ao({get:t,set:a});Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const o in c)ct(c[o],i,n,o);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{St(t,e[t])}))}function I(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&lt(h,e,"c"),I(Me,m),I(Oe,p),I(De,f),I(Ae,g),I(we,v),I(_e,y),I(Le,E),I(Ne,S),I(ze,k),I(Re,w),I(Pe,x),I(Ie,T),(0,r.kJ)(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r.dG&&(e.render=C),null!=O&&(e.inheritAttrs=O),D&&(e.components=D),A&&(e.directives=A)}function st(e,t,n=r.dG){(0,r.kJ)(e)&&(e=ft(e));for(const i in e){const n=e[i];let a;a=(0,r.Kn)(n)?"default"in n?kt(n.from||i,n.default,!0):kt(n.from||i):kt(n),(0,o.dq)(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[i]=a}}function lt(e,t,n){s((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ct(e,t,n,o){const i=o.includes(".")?Q(n,o):()=>n[o];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&Y(i,n)}else if((0,r.mf)(e))Y(i,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>ct(e,t,n,o)));else{const o=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(o)&&Y(i,o,e)}else 0}function ut(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let c;return l?c=l:i.length||n||o?(c={},i.length&&i.forEach((e=>dt(c,e,s,!0))),dt(c,t,s)):c=t,(0,r.Kn)(t)&&a.set(t,c),c}function dt(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&dt(e,i,n,!0),r&&r.forEach((t=>dt(e,t,n,!0)));for(const a in t)if(o&&"expose"===a);else{const o=ht[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const ht={data:mt,props:yt,emits:yt,methods:vt,computed:vt,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:vt,directives:vt,watch:bt,provide:mt,inject:pt};function mt(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function pt(e,t){return vt(ft(e),ft(t))}function ft(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gt(e,t){return e?[...new Set([].concat(e,t))]:t}function vt(e,t){return e?(0,r.l7)(Object.create(null),e,t):t}function yt(e,t){return e?(0,r.kJ)(e)&&(0,r.kJ)(t)?[...new Set([...e,...t])]:(0,r.l7)(Object.create(null),rt(e),rt(null!=t?t:{})):t}function bt(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const o in t)n[o]=gt(e[o],t[o]);return n}function wt(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _t=0;function xt(e,t){return function(n,o=null){(0,r.mf)(n)||(n=(0,r.l7)({},n)),null==o||(0,r.Kn)(o)||(o=null);const i=wt();const a=new Set;let s=!1;const l=i.app={_uid:_t++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:uo,get config(){return i.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,r.mf)(e.install)?(a.add(e),e.install(l,...t)):(0,r.mf)(e)&&(a.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(r,a,c){if(!s){0;const u=kn(n,o);return u.appContext=i,a&&t?t(u,r):e(u,r,c),s=!0,l._container=r,r.__vue_app__=l,oo(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l},runWithContext(e){Ct=l;try{return e()}finally{Ct=null}}};return l}}let Ct=null;function St(e,t){if(Bn){let n=Bn.provides;const o=Bn.parent&&Bn.parent.provides;o===n&&(n=Bn.provides=Object.create(o)),n[e]=t}else 0}function kt(e,t,n=!1){const o=Bn||P;if(o||Ct){const i=o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Ct._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(o&&o.proxy):t}else 0}function Et(e,t,n,i=!1){const a={},s={};(0,r.Nj)(s,_n,1),e.propsDefaults=Object.create(null),Mt(e,t,a,s);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=i?a:(0,o.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function Tt(e,t,n,i){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,c=(0,o.IU)(a),[u]=e.propsOptions;let d=!1;if(!(i||l>0)||16&l){let o;Mt(e,t,a,s)&&(d=!0);for(const i in c)t&&((0,r.RI)(t,i)||(o=(0,r.rs)(i))!==i&&(0,r.RI)(t,o))||(u?!n||void 0===n[i]&&void 0===n[o]||(a[i]=Ot(u,c,i,void 0,e,!0)):delete a[i]);if(s!==c)for(const e in s)t&&(0,r.RI)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let i=n[o];if(R(e.emitsOptions,i))continue;const l=t[i];if(u)if((0,r.RI)(s,i))l!==s[i]&&(s[i]=l,d=!0);else{const t=(0,r._A)(i);a[t]=Ot(u,c,t,l,e,!1)}else l!==s[i]&&(s[i]=l,d=!0)}}d&&(0,o.X$)(e,"set","$attrs")}function Mt(e,t,n,i){const[a,s]=e.propsOptions;let l,c=!1;if(t)for(let o in t){if((0,r.Gg)(o))continue;const u=t[o];let d;a&&(0,r.RI)(a,d=(0,r._A)(o))?s&&s.includes(d)?(l||(l={}))[d]=u:n[d]=u:R(e.emitsOptions,o)||o in i&&u===i[o]||(i[o]=u,c=!0)}if(s){const t=(0,o.IU)(n),i=l||r.kT;for(let o=0;o<s.length;o++){const l=s[o];n[l]=Ot(a,t,l,i[l],e,!(0,r.RI)(i,l))}}return c}function Ot(e,t,n,o,i,a){const s=e[n];if(null!=s){const e=(0,r.RI)(s,"default");if(e&&void 0===o){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,r.mf)(e)){const{propsDefaults:r}=i;n in r?o=r[n]:(Zn(i),o=r[n]=e.call(null,t),$n())}else o=e}s[0]&&(a&&!e?o=!1:!s[1]||""!==o&&o!==(0,r.rs)(n)||(o=!0))}return o}function Dt(e,t,n=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const a=e.props,s={},l=[];let c=!1;if(!(0,r.mf)(e)){const o=e=>{c=!0;const[n,o]=Dt(e,t,!0);(0,r.l7)(s,n),o&&l.push(...o)};!n&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!a&&!c)return(0,r.Kn)(e)&&o.set(e,r.Z6),r.Z6;if((0,r.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,r._A)(a[d]);At(e)&&(s[e]=r.kT)}else if(a){0;for(const e in a){const t=(0,r._A)(e);if(At(t)){const n=a[e],o=s[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:(0,r.l7)({},n);if(o){const e=It(Boolean,o.type),n=It(String,o.type);o[0]=e>-1,o[1]=n<0||e<n,(e>-1||(0,r.RI)(o,"default"))&&l.push(t)}}}}const u=[s,l];return(0,r.Kn)(e)&&o.set(e,u),u}function At(e){return"$"!==e[0]}function Rt(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Pt(e,t){return Rt(e)===Rt(t)}function It(e,t){return(0,r.kJ)(t)?t.findIndex((t=>Pt(t,e))):(0,r.mf)(t)&&Pt(t,e)?0:-1}const zt=e=>"_"===e[0]||"$stable"===e,Nt=e=>(0,r.kJ)(e)?e.map(Rn):[Rn(e)],Lt=(e,t,n)=>{if(t._n)return t;const o=H(((...e)=>Nt(t(...e))),n);return o._c=!1,o},Ht=(e,t,n)=>{const o=e._ctx;for(const i in e){if(zt(i))continue;const n=e[i];if((0,r.mf)(n))t[i]=Lt(i,n,o);else if(null!=n){0;const e=Nt(n);t[i]=()=>e}}},Ft=(e,t)=>{const n=Nt(t);e.slots.default=()=>n},Bt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,o.IU)(t),(0,r.Nj)(t,"_",n)):Ht(t,e.slots={})}else e.slots={},t&&Ft(e,t);(0,r.Nj)(e.slots,_n,1)},Ut=(e,t,n)=>{const{vnode:o,slots:i}=e;let a=!0,s=r.kT;if(32&o.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,r.l7)(i,t),n||1!==e||delete i._):(a=!t.$stable,Ht(t,i)),s=t}else t&&(Ft(e,t),s={default:1});if(a)for(const r in i)zt(r)||r in s||delete i[r]};function Vt(e,t,n,i,s=!1){if((0,r.kJ)(e))return void e.forEach(((e,o)=>Vt(e,t&&((0,r.kJ)(t)?t[o]:t),n,i,s)));if(fe(i)&&!s)return;const l=4&i.shapeFlag?oo(i.component)||i.component.proxy:i.el,c=s?null:l,{i:u,r:d}=e;const h=t&&t.r,m=u.refs===r.kT?u.refs={}:u.refs,p=u.setupState;if(null!=h&&h!==d&&((0,r.HD)(h)?(m[h]=null,(0,r.RI)(p,h)&&(p[h]=null)):(0,o.dq)(h)&&(h.value=null)),(0,r.mf)(d))a(d,u,12,[c,m]);else{const t=(0,r.HD)(d),i=(0,o.dq)(d);if(t||i){const o=()=>{if(e.f){const n=t?(0,r.RI)(p,d)?p[d]:m[d]:d.value;s?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):t?(m[d]=[l],(0,r.RI)(p,d)&&(p[d]=m[d])):(d.value=[l],e.k&&(m[e.k]=d.value))}else t?(m[d]=c,(0,r.RI)(p,d)&&(p[d]=c)):i&&(d.value=c,e.k&&(m[e.k]=c))};c?(o.id=-1,Wt(o,n)):o()}else 0}}function jt(){}const Wt=$;function Zt(e){return $t(e)}function $t(e,t){jt();const n=(0,r.E9)();n.__VUE__=!0;const{insert:i,remove:a,patchProp:s,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:m,nextSibling:p,setScopeId:f=r.dG,insertStaticContent:g}=e,v=(e,t,n,o=null,r=null,i=null,a=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!wn(e,t)&&(o=X(e),q(e,r,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case sn:y(e,t,n,o);break;case ln:b(e,t,n,o);break;case cn:null==e&&w(t,n,o,a);break;case an:I(e,t,n,o,r,i,a,s,l);break;default:1&d?T(e,t,n,o,r,i,a,s,l):6&d?z(e,t,n,o,r,i,a,s,l):(64&d||128&d)&&c.process(e,t,n,o,r,i,a,s,l,ee)}null!=u&&r&&Vt(u,e&&e.ref,i,t||e,!t)},y=(e,t,n,o)=>{if(null==e)i(t.el=c(t.children),n,o);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,o)=>{null==e?i(t.el=u(t.children||""),n,o):t.el=e.el},w=(e,t,n,o)=>{[e.el,e.anchor]=g(e.children,t,n,o,e.el,e.anchor)},x=({el:e,anchor:t},n,o)=>{let r;while(e&&e!==t)r=p(e),i(e,n,o),e=r;i(t,n,o)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),a(e),e=n;a(t)},T=(e,t,n,o,r,i,a,s,l)=>{a=a||"svg"===t.type,null==e?M(t,n,o,r,i,a,s,l):A(e,t,r,i,a,s,l)},M=(e,t,n,o,a,c,u,d)=>{let m,p;const{type:f,props:g,shapeFlag:v,transition:y,dirs:b}=e;if(m=e.el=l(e.type,c,g&&g.is,g),8&v?h(m,e.children):16&v&&D(e.children,m,null,o,a,c&&"foreignObject"!==f,u,d),b&&ne(e,null,o,"created"),O(m,e,e.scopeId,u,o),g){for(const t in g)"value"===t||(0,r.Gg)(t)||s(m,t,null,g[t],c,e.children,o,a,J);"value"in g&&s(m,"value",null,g.value),(p=g.onVnodeBeforeMount)&&Nn(p,o,e)}b&&ne(e,null,o,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(m),i(m,t,n),((p=g&&g.onVnodeMounted)||w||b)&&Wt((()=>{p&&Nn(p,o,e),w&&y.enter(m),b&&ne(e,null,o,"mounted")}),a)},O=(e,t,n,o,r)=>{if(n&&f(e,n),o)for(let i=0;i<o.length;i++)f(e,o[i]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;O(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},D=(e,t,n,o,r,i,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Pn(e[c]):Rn(e[c]);v(null,l,t,n,o,r,i,a,s)}},A=(e,t,n,o,i,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:m}=t;u|=16&e.patchFlag;const p=e.props||r.kT,f=t.props||r.kT;let g;n&&qt(n,!1),(g=f.onVnodeBeforeUpdate)&&Nn(g,n,t,e),m&&ne(t,e,n,"beforeUpdate"),n&&qt(n,!0);const v=i&&"foreignObject"!==t.type;if(d?R(e.dynamicChildren,d,c,n,o,v,a):l||U(e,t,c,null,n,o,v,a,!1),u>0){if(16&u)P(c,t,p,f,n,o,i);else if(2&u&&p.class!==f.class&&s(c,"class",null,f.class,i),4&u&&s(c,"style",p.style,f.style,i),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],l=p[a],u=f[a];u===l&&"value"!==a||s(c,a,l,u,i,e.children,n,o,J)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||P(c,t,p,f,n,o,i);((g=f.onVnodeUpdated)||m)&&Wt((()=>{g&&Nn(g,n,t,e),m&&ne(t,e,n,"updated")}),o)},R=(e,t,n,o,r,i,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===an||!wn(l,c)||70&l.shapeFlag)?m(l.el):n;v(l,c,u,null,o,r,i,a,!0)}},P=(e,t,n,o,i,a,l)=>{if(n!==o){if(n!==r.kT)for(const c in n)(0,r.Gg)(c)||c in o||s(e,c,n[c],null,l,t.children,i,a,J);for(const c in o){if((0,r.Gg)(c))continue;const u=o[c],d=n[c];u!==d&&"value"!==c&&s(e,c,d,u,l,t.children,i,a,J)}"value"in o&&s(e,"value",n.value,o.value)}},I=(e,t,n,o,r,a,s,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:m,dynamicChildren:p,slotScopeIds:f}=t;f&&(l=l?l.concat(f):f),null==e?(i(d,n,o),i(h,n,o),D(t.children,n,h,r,a,s,l,u)):m>0&&64&m&&p&&e.dynamicChildren?(R(e.dynamicChildren,p,n,r,a,s,l),(null!=t.key||r&&t===r.subTree)&&Gt(e,t,!0)):U(e,t,n,h,r,a,s,l,u)},z=(e,t,n,o,r,i,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,n,o,a,l):N(t,n,o,r,i,a,l):L(e,t,l)},N=(e,t,n,o,r,i,a)=>{const s=e.component=Fn(e,o,r);if(ge(e)&&(s.ctx.renderer=ee),Jn(s),s.asyncDep){if(r&&r.registerDep(s,H),!e.el){const e=s.subTree=kn(ln);b(null,e,t,n)}}else H(s,e,t,n,r,i,a)},L=(e,t,n)=>{const o=t.component=e.component;if(V(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return void B(o,t,n);o.next=t,C(o.update),o.update()}else t.el=e.el,o.vnode=t},H=(e,t,n,i,a,s,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:o,u:i,parent:c,vnode:u}=e,d=n;0,qt(e,!1),n?(n.el=u.el,B(e,n,l)):n=u,o&&(0,r.ir)(o),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Nn(t,c,n,u),qt(e,!0);const h=F(e);0;const p=e.subTree;e.subTree=h,v(p,h,m(p.el),X(p),e,a,s),n.el=h.el,null===d&&W(e,h.el),i&&Wt(i,a),(t=n.props&&n.props.onVnodeUpdated)&&Wt((()=>Nn(t,c,n,u)),a)}else{let o;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,m=fe(t);if(qt(e,!1),u&&(0,r.ir)(u),!m&&(o=c&&c.onVnodeBeforeMount)&&Nn(o,h,t),qt(e,!0),l&&oe){const n=()=>{e.subTree=F(e),oe(l,e.subTree,e,a,null)};m?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const o=e.subTree=F(e);0,v(null,o,n,i,e,a,s),t.el=o.el}if(d&&Wt(d,a),!m&&(o=c&&c.onVnodeMounted)){const e=t;Wt((()=>Nn(o,h,e)),a)}(256&t.shapeFlag||h&&fe(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Wt(e.a,a),e.isMounted=!0,t=n=i=null}},u=e.effect=new o.qq(c,(()=>_(d)),e.scope),d=e.update=()=>u.run();d.id=e.uid,qt(e,!0),d()},B=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,Tt(e,t.props,r,n),Ut(e,t.children,n),(0,o.Jd)(),k(),(0,o.lk)()},U=(e,t,n,o,r,i,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:m,shapeFlag:p}=t;if(m>0){if(128&m)return void Z(c,d,n,o,r,i,a,s,l);if(256&m)return void j(c,d,n,o,r,i,a,s,l)}8&p?(16&u&&J(c,r,i),d!==c&&h(n,d)):16&u?16&p?Z(c,d,n,o,r,i,a,s,l):J(c,r,i,!0):(8&u&&h(n,""),16&p&&D(d,n,o,r,i,a,s,l))},j=(e,t,n,o,i,a,s,l,c)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let m;for(m=0;m<h;m++){const o=t[m]=c?Pn(t[m]):Rn(t[m]);v(e[m],o,n,null,i,a,s,l,c)}u>d?J(e,i,a,!0,!1,h):D(t,n,o,i,a,s,l,c,h)},Z=(e,t,n,o,i,a,s,l,c)=>{let u=0;const d=t.length;let h=e.length-1,m=d-1;while(u<=h&&u<=m){const o=e[u],r=t[u]=c?Pn(t[u]):Rn(t[u]);if(!wn(o,r))break;v(o,r,n,null,i,a,s,l,c),u++}while(u<=h&&u<=m){const o=e[h],r=t[m]=c?Pn(t[m]):Rn(t[m]);if(!wn(o,r))break;v(o,r,n,null,i,a,s,l,c),h--,m--}if(u>h){if(u<=m){const e=m+1,r=e<d?t[e].el:o;while(u<=m)v(null,t[u]=c?Pn(t[u]):Rn(t[u]),n,r,i,a,s,l,c),u++}}else if(u>m)while(u<=h)q(e[u],i,a,!0),u++;else{const p=u,f=u,g=new Map;for(u=f;u<=m;u++){const e=t[u]=c?Pn(t[u]):Rn(t[u]);null!=e.key&&g.set(e.key,u)}let y,b=0;const w=m-f+1;let _=!1,x=0;const C=new Array(w);for(u=0;u<w;u++)C[u]=0;for(u=p;u<=h;u++){const o=e[u];if(b>=w){q(o,i,a,!0);continue}let r;if(null!=o.key)r=g.get(o.key);else for(y=f;y<=m;y++)if(0===C[y-f]&&wn(o,t[y])){r=y;break}void 0===r?q(o,i,a,!0):(C[r-f]=u+1,r>=x?x=r:_=!0,v(o,t[r],n,null,i,a,s,l,c),b++)}const S=_?Kt(C):r.Z6;for(y=S.length-1,u=w-1;u>=0;u--){const e=f+u,r=t[e],h=e+1<d?t[e+1].el:o;0===C[u]?v(null,r,n,h,i,a,s,l,c):_&&(y<0||u!==S[y]?$(r,n,h,2):y--)}}},$=(e,t,n,o,r=null)=>{const{el:a,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void $(e.component.subTree,t,n,o);if(128&u)return void e.suspense.move(t,n,o);if(64&u)return void s.move(e,t,n,ee);if(s===an){i(a,t,n);for(let e=0;e<c.length;e++)$(c[e],t,n,o);return void i(e.anchor,t,n)}if(s===cn)return void x(e,t,n);const d=2!==o&&1&u&&l;if(d)if(0===o)l.beforeEnter(a),i(a,t,n),Wt((()=>l.enter(a)),r);else{const{leave:e,delayLeave:o,afterLeave:r}=l,s=()=>i(a,t,n),c=()=>{e(a,(()=>{s(),r&&r()}))};o?o(a,s,c):c()}else i(a,t,n)},q=(e,t,n,o=!1,r=!1)=>{const{type:i,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=s&&Vt(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const m=1&u&&h,p=!fe(e);let f;if(p&&(f=a&&a.onVnodeBeforeUnmount)&&Nn(f,t,e),6&u)Y(e.component,n,o);else{if(128&u)return void e.suspense.unmount(n,o);m&&ne(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,ee,o):c&&(i!==an||d>0&&64&d)?J(c,t,n,!1,!0):(i===an&&384&d||!r&&16&u)&&J(l,t,n),o&&G(e)}(p&&(f=a&&a.onVnodeUnmounted)||m)&&Wt((()=>{f&&Nn(f,t,e),m&&ne(e,null,t,"unmounted")}),n)},G=e=>{const{type:t,el:n,anchor:o,transition:r}=e;if(t===an)return void K(n,o);if(t===cn)return void S(e);const i=()=>{a(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:o}=r,a=()=>t(n,i);o?o(e.el,i,a):a()}else i()},K=(e,t)=>{let n;while(e!==t)n=p(e),a(e),e=n;a(t)},Y=(e,t,n)=>{const{bum:o,scope:i,update:a,subTree:s,um:l}=e;o&&(0,r.ir)(o),i.stop(),a&&(a.active=!1,q(s,e,t,n)),l&&Wt(l,t),Wt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,o=!1,r=!1,i=0)=>{for(let a=i;a<e.length;a++)q(e[a],t,n,o,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),k(),E(),t._vnode=e},ee={p:v,um:q,m:$,r:G,mt:N,mc:D,pc:U,pbc:R,n:X,o:e};let te,oe;return t&&([te,oe]=t(ee)),{render:Q,hydrate:te,createApp:xt(Q,te)}}function qt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Gt(e,t,n=!1){const o=e.children,i=t.children;if((0,r.kJ)(o)&&(0,r.kJ)(i))for(let r=0;r<o.length;r++){const e=o[r];let t=i[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[r]=Pn(i[r]),t.el=e.el),n||Gt(e,t)),t.type===sn&&(t.el=e.el)}}function Kt(e){const t=e.slice(),n=[0];let o,r,i,a,s;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(r=n[n.length-1],e[r]<l){t[o]=r,n.push(o);continue}i=0,a=n.length-1;while(i<a)s=i+a>>1,e[n[s]]<l?i=s+1:a=s;l<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}i=n.length,a=n[i-1];while(i-- >0)n[i]=a,a=t[a];return n}const Yt=e=>e.__isTeleport,Jt=e=>e&&(e.disabled||""===e.disabled),Xt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Qt=(e,t)=>{const n=e&&e.to;if((0,r.HD)(n)){if(t){const e=t(n);return e}return null}return n},en={__isTeleport:!0,process(e,t,n,o,r,i,a,s,l,c){const{mc:u,pc:d,pbc:h,o:{insert:m,querySelector:p,createText:f,createComment:g}}=c,v=Jt(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=f(""),c=t.anchor=f("");m(e,n,o),m(c,n,o);const d=t.target=Qt(t.props,p),h=t.targetAnchor=f("");d&&(m(h,d),a=a||Xt(d));const g=(e,t)=>{16&y&&u(b,e,t,r,i,a,s,l)};v?g(n,c):d&&g(d,h)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,m=t.targetAnchor=e.targetAnchor,f=Jt(e.props),g=f?n:u,y=f?o:m;if(a=a||Xt(u),w?(h(e.dynamicChildren,w,g,r,i,a,s),Gt(e,t,!0)):l||d(e,t,g,y,r,i,a,s,!1),v)f||tn(t,n,o,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Qt(t.props,p);e&&tn(t,e,null,c,0)}else f&&tn(t,u,m,c,1)}rn(t)},remove(e,t,n,o,{um:r,o:{remove:i}},a){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&i(u),(a||!Jt(h))&&(i(c),16&s))for(let m=0;m<l.length;m++){const e=l[m];r(e,t,n,!0,!!e.dynamicChildren)}},move:tn,hydrate:nn};function tn(e,t,n,{o:{insert:o},m:r},i=2){0===i&&o(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===i;if(d&&o(a,t,n),(!d||Jt(u))&&16&l)for(let h=0;h<c.length;h++)r(c[h],t,n,2);d&&o(s,t,n)}function nn(e,t,n,o,r,i,{o:{nextSibling:a,parentNode:s,querySelector:l}},c){const u=t.target=Qt(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(Jt(t.props))t.anchor=c(a(e),t,s(e),n,o,r,i),t.targetAnchor=l;else{t.anchor=a(e);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,u._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(l,t,u,n,o,r,i)}rn(t)}return t.anchor&&a(t.anchor)}const on=en;function rn(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const an=Symbol.for("v-fgt"),sn=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),cn=Symbol.for("v-stc"),un=[];let dn=null;function hn(e=!1){un.push(dn=e?null:[])}function mn(){un.pop(),dn=un[un.length-1]||null}let pn=1;function fn(e){pn+=e}function gn(e){return e.dynamicChildren=pn>0?dn||r.Z6:null,mn(),pn>0&&dn&&dn.push(e),e}function vn(e,t,n,o,r,i){return gn(Sn(e,t,n,o,r,i,!0))}function yn(e,t,n,o,r){return gn(kn(e,t,n,o,r,!0))}function bn(e){return!!e&&!0===e.__v_isVNode}function wn(e,t){return e.type===t.type&&e.key===t.key}const _n="__vInternal",xn=({key:e})=>null!=e?e:null,Cn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,r.HD)(e)||(0,o.dq)(e)||(0,r.mf)(e)?{i:P,r:e,k:t,f:!!n}:e:null);function Sn(e,t=null,n=null,o=0,i=null,a=(e===an?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xn(t),ref:t&&Cn(t),scopeId:I,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:P};return l?(In(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),pn>0&&!s&&dn&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&dn.push(c),c}const kn=En;function En(e,t=null,n=null,i=0,a=null,s=!1){if(e&&e!==Ue||(e=ln),bn(e)){const o=Mn(e,t,!0);return n&&In(o,n),pn>0&&!s&&dn&&(6&o.shapeFlag?dn[dn.indexOf(e)]=o:dn.push(o)),o.patchFlag|=-2,o}if(io(e)&&(e=e.__vccOpts),t){t=Tn(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,o.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}const l=(0,r.HD)(e)?1:Z(e)?128:Yt(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0;return Sn(e,t,n,i,a,l,s,!0)}function Tn(e){return e?(0,o.X3)(e)||_n in e?(0,r.l7)({},e):e:null}function Mn(e,t,n=!1){const{props:o,ref:i,patchFlag:a,children:s}=e,l=t?zn(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&xn(l),ref:t&&t.ref?n&&i?(0,r.kJ)(i)?i.concat(Cn(t)):[i,Cn(t)]:Cn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==an?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mn(e.ssContent),ssFallback:e.ssFallback&&Mn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c}function On(e=" ",t=0){return kn(sn,null,e,t)}function Dn(e,t){const n=kn(cn,null,e);return n.staticCount=t,n}function An(e="",t=!1){return t?(hn(),yn(ln,null,e)):kn(ln,null,e)}function Rn(e){return null==e||"boolean"===typeof e?kn(ln):(0,r.kJ)(e)?kn(an,null,e.slice()):"object"===typeof e?Pn(e):kn(sn,null,String(e))}function Pn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Mn(e)}function In(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"===typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),In(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||_n in t?3===o&&P&&(1===P.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=P}}else(0,r.mf)(t)?(t={default:t,_ctx:P},n=32):(t=String(t),64&o?(n=16,t=[On(t)]):n=8);e.children=t,e.shapeFlag|=n}function zn(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=(0,r.C_)([t.class,o.class]));else if("style"===e)t.style=(0,r.j5)([t.style,o.style]);else if((0,r.F7)(e)){const n=t[e],i=o[e];!i||n===i||(0,r.kJ)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=o[e])}return t}function Nn(e,t,n,o=null){s(e,t,7,[n,o])}const Ln=wt();let Hn=0;function Fn(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||Ln,s={uid:Hn++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dt(i,a),emitsOptions:A(i,a),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:i.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=D.bind(null,s),e.ce&&e.ce(s),s}let Bn=null;const Un=()=>Bn||P;let Vn,jn,Wn="__VUE_INSTANCE_SETTERS__";(jn=(0,r.E9)()[Wn])||(jn=(0,r.E9)()[Wn]=[]),jn.push((e=>Bn=e)),Vn=e=>{jn.length>1?jn.forEach((t=>t(e))):jn[0](e)};const Zn=e=>{Vn(e),e.scope.on()},$n=()=>{Bn&&Bn.scope.off(),Vn(null)};function qn(e){return 4&e.vnode.shapeFlag}let Gn,Kn,Yn=!1;function Jn(e,t=!1){Yn=t;const{props:n,children:o}=e.vnode,r=qn(e);Et(e,n,r,t),Bt(e,o);const i=r?Xn(e,t):void 0;return Yn=!1,i}function Xn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,o.Xl)(new Proxy(e.ctx,et));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?no(e):null;Zn(e),(0,o.Jd)();const s=a(i,e,0,[e.props,n]);if((0,o.lk)(),$n(),(0,r.tI)(s)){if(s.then($n,$n),t)return s.then((n=>{Qn(e,n,t)})).catch((t=>{l(t,e,0)}));e.asyncDep=s}else Qn(e,s,t)}else eo(e,t)}function Qn(e,t,n){(0,r.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Kn)(t)&&(e.setupState=(0,o.WL)(t)),eo(e,n)}function eo(e,t,n){const i=e.type;if(!e.render){if(!t&&Gn&&!i.render){const t=i.template||ut(e).template;if(t){0;const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:s}=i,l=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:a},o),s);i.render=Gn(t,l)}}e.render=i.render||r.dG,Kn&&Kn(e)}Zn(e),(0,o.Jd)(),at(e),(0,o.lk)(),$n()}function to(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return(0,o.j)(e,"get","$attrs"),t[n]}}))}function no(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return to(e)},slots:e.slots,emit:e.emit,expose:t}}function oo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Xe?Xe[n](e):void 0},has(e,t){return t in e||t in Xe}}))}function ro(e,t=!0){return(0,r.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function io(e){return(0,r.mf)(e)&&"__vccOpts"in e}const ao=(e,t)=>(0,o.Fl)(e,t,Yn);function so(e,t,n){const o=arguments.length;return 2===o?(0,r.Kn)(t)&&!(0,r.kJ)(t)?bn(t)?kn(e,null,[t]):kn(e,t):kn(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&bn(n)&&(n=[n]),kn(e,t,n))}const lo=Symbol.for("v-scx"),co=()=>{{const e=kt(lo);return e}};const uo="3.3.4"},9242:function(e,t,n){"use strict";n.d(t,{D2:function(){return xe},F8:function(){return Ce},G2:function(){return fe},W3:function(){return re},e8:function(){return me},iM:function(){return we},nr:function(){return he},ri:function(){return Oe},sY:function(){return Me},sj:function(){return P},uT:function(){return H}});n(7658);var o=n(7139),r=n(3396),i=n(4870);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,l=s&&s.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?s.createElementNS(a,e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&r.setAttribute("multiple",o.multiple),r},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===i||!(r=r.nextSibling))break}else{l.innerHTML=o?`<svg>${e}</svg>`:e;const r=l.content;if(o){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const r=e.style,i=(0,o.HD)(n);if(n&&!i){if(t&&!(0,o.HD)(t))for(const e in t)null==n[e]&&m(r,e,"");for(const e in n)m(r,e,n[e])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const h=/\s*!important$/;function m(e,t,n){if((0,o.kJ)(n))n.forEach((n=>m(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=g(e,t);h.test(n)?e.setProperty((0,o.rs)(r),n.replace(h,""),"important"):e[r]=n}}const p=["Webkit","Moz","ms"],f={};function g(e,t){const n=f[t];if(n)return n;let r=(0,o._A)(t);if("filter"!==r&&r in e)return f[t]=r;r=(0,o.kC)(r);for(let o=0;o<p.length;o++){const n=p[o]+r;if(n in e)return f[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const r=(0,o.Pq)(t);null==n||r&&!(0,o.yA)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function b(e,t,n,r,i,a,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,a),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const o="OPTION"===l?e.getAttribute("value"):e.value,r=null==n?"":n;return o!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}let c=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,o.yA)(n):null==n&&"string"===r?(n="",c=!0):"number"===r&&(n=0,c=!0)}try{e[t]=n}catch(u){0}c&&e.removeAttribute(t)}function w(e,t,n,o){e.addEventListener(t,n,o)}function _(e,t,n,o){e.removeEventListener(t,n,o)}function x(e,t,n,o,r=null){const i=e._vei||(e._vei={}),a=i[t];if(o&&a)a.value=o;else{const[n,s]=S(t);if(o){const a=i[t]=M(o,r);w(e,n,a,s)}else a&&(_(e,n,a,s),i[t]=void 0)}}const C=/(?:Once|Passive|Capture)$/;function S(e){let t;if(C.test(e)){let n;t={};while(n=e.match(C))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,o.rs)(e.slice(2));return[n,t]}let k=0;const E=Promise.resolve(),T=()=>k||(E.then((()=>k=0)),k=Date.now());function M(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.$d)(O(e,n.value),t,5,[e])};return n.value=e,n.attached=T(),n}function O(e,t){if((0,o.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,A=(e,t,n,r,i=!1,a,s,l,c)=>{"class"===t?u(e,r,i):"style"===t?d(e,n,r):(0,o.F7)(t)?(0,o.tR)(t)||x(e,t,n,r,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):R(e,t,r,i))?b(e,t,r,a,s,l,c):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),y(e,t,r,i))};function R(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,o.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,o.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;function P(e){const t=(0,r.FN)();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>z(e,n)))},o=()=>{const o=e(t.proxy);I(t.subTree,o),n(o)};(0,r.Rh)(o),(0,r.bv)((()=>{const e=new MutationObserver(o);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>e.disconnect()))}))}function I(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{I(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)z(e.el,t);else if(e.type===r.HY)e.children.forEach((e=>I(e,t)));else if(e.type===r.qG){let{el:n,anchor:o}=e;while(n){if(z(n,t),n===o)break;n=n.nextSibling}}}function z(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const N="transition",L="animation",H=(e,{slots:t})=>(0,r.h)(r.P$,j(e),t);H.displayName="Transition";const F={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B=H.props=(0,o.l7)({},r.nJ,F),U=(e,t=[])=>{(0,o.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},V=e=>!!e&&((0,o.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function j(e){const t={};for(const o in e)o in F||(t[o]=e[o]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,f=W(i),g=f&&f[0],v=f&&f[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:x,onBeforeAppear:C=y,onAppear:S=b,onAppearCancelled:k=w}=t,E=(e,t,n)=>{q(e,t?d:l),q(e,t?u:s),n&&n()},T=(e,t)=>{e._isLeaving=!1,q(e,h),q(e,p),q(e,m),t&&t()},M=e=>(t,n)=>{const o=e?S:b,i=()=>E(t,e,n);U(o,[t,i]),G((()=>{q(t,e?c:a),$(t,e?d:l),V(o)||Y(t,r,g,i)}))};return(0,o.l7)(t,{onBeforeEnter(e){U(y,[e]),$(e,a),$(e,s)},onBeforeAppear(e){U(C,[e]),$(e,c),$(e,u)},onEnter:M(!1),onAppear:M(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);$(e,h),ee(),$(e,m),G((()=>{e._isLeaving&&(q(e,h),$(e,p),V(_)||Y(e,r,v,n))})),U(_,[e,n])},onEnterCancelled(e){E(e,!1),U(w,[e])},onAppearCancelled(e){E(e,!0),U(k,[e])},onLeaveCancelled(e){T(e),U(x,[e])}})}function W(e){if(null==e)return null;if((0,o.Kn)(e))return[Z(e.enter),Z(e.leave)];{const t=Z(e);return[t,t]}}function Z(e){const t=(0,o.He)(e);return t}function $(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function q(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function G(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let K=0;function Y(e,t,n,o){const r=e._endId=++K,i=()=>{r===e._endId&&o()};if(n)return setTimeout(i,n);const{type:a,timeout:s,propCount:l}=J(e,t);if(!a)return o();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,h),i()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),s+1),e.addEventListener(c,h)}function J(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),r=o(`${N}Delay`),i=o(`${N}Duration`),a=X(r,i),s=o(`${L}Delay`),l=o(`${L}Duration`),c=X(s,l);let u=null,d=0,h=0;t===N?a>0&&(u=N,d=a,h=i.length):t===L?c>0&&(u=L,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?N:L:null,h=u?u===N?i.length:l.length:0);const m=u===N&&/\b(transform|all)(,|$)/.test(o(`${N}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:m}}function X(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>Q(t)+Q(e[n]))))}function Q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,oe={name:"TransitionGroup",props:(0,o.l7)({},B,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.FN)(),o=(0,r.Y8)();let a,s;return(0,r.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!le(a[0].el,n.vnode.el,t))return;a.forEach(ie),a.forEach(ae);const o=a.filter(se);ee(),o.forEach((e=>{const n=e.el,o=n.style;$(n,t),o.transform=o.webkitTransform=o.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,q(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const l=(0,i.IU)(e),c=j(l);let u=l.tag||r.HY;a=s,s=t.default?(0,r.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,r.nK)(t,(0,r.U2)(t,c,o,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,r.nK)(t,(0,r.U2)(t,c,o,n)),te.set(t,t.el.getBoundingClientRect())}return(0,r.Wm)(u,null,s)}}};oe.props;const re=oe;function ie(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ae(e){ne.set(e,e.el.getBoundingClientRect())}function se(e){const t=te.get(e),n=ne.get(e),o=t.left-n.left,r=t.top-n.top;if(o||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${o}px,${r}px)`,t.transitionDuration="0s",e}}function le(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&o.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&o.classList.add(e))),o.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(o);const{hasTransform:i}=J(o);return r.removeChild(o),i}const ce=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,o.kJ)(t)?e=>(0,o.ir)(t,e):t};function ue(e){e.target.composing=!0}function de(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const he={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=ce(i);const a=r||i.props&&"number"===i.props.type;w(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=(0,o.h5)(r)),e._assign(r)})),n&&w(e,"change",(()=>{e.value=e.value.trim()})),t||(w(e,"compositionstart",ue),w(e,"compositionend",de),w(e,"change",de))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e._assign=ce(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((i||"number"===e.type)&&(0,o.h5)(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},me={deep:!0,created(e,t,n){e._assign=ce(n),w(e,"change",(()=>{const t=e._modelValue,n=ge(e),r=e.checked,i=e._assign;if((0,o.kJ)(t)){const e=(0,o.hq)(t,n),a=-1!==e;if(r&&!a)i(t.concat(n));else if(!r&&a){const n=[...t];n.splice(e,1),i(n)}}else if((0,o.DM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(ve(e,r))}))},mounted:pe,beforeUpdate(e,t,n){e._assign=ce(n),pe(e,t,n)}};function pe(e,{value:t,oldValue:n},r){e._modelValue=t,(0,o.kJ)(t)?e.checked=(0,o.hq)(t,r.props.value)>-1:(0,o.DM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,o.WV)(t,ve(e,!0)))}const fe={created(e,{value:t},n){e.checked=(0,o.WV)(t,n.props.value),e._assign=ce(n),w(e,"change",(()=>{e._assign(ge(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ce(r),t!==n&&(e.checked=(0,o.WV)(t,r.props.value))}};function ge(e){return"_value"in e?e._value:e.value}function ve(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ye=["ctrl","shift","alt","meta"],be={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ye.some((n=>e[`${n}Key`]&&!t.includes(n)))},we=(e,t)=>(n,...o)=>{for(let e=0;e<t.length;e++){const o=be[t[e]];if(o&&o(n,t))return}return e(n,...o)},_e={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xe=(e,t)=>n=>{if(!("key"in n))return;const r=(0,o.rs)(n.key);return t.some((e=>e===r||_e[e]===r))?e(n):void 0},Ce={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Se(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!==!n&&(o?t?(o.beforeEnter(e),Se(e,!0),o.enter(e)):o.leave(e,(()=>{Se(e,!1)})):Se(e,t))},beforeUnmount(e,{value:t}){Se(e,t)}};function Se(e,t){e.style.display=t?e._vod:"none"}const ke=(0,o.l7)({patchProp:A},c);let Ee;function Te(){return Ee||(Ee=(0,r.Us)(ke))}const Me=(...e)=>{Te().render(...e)},Oe=(...e)=>{const t=Te().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=De(e);if(!r)return;const i=t._component;(0,o.mf)(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function De(e){if((0,o.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";n.d(t,{C_:function(){return X},DM:function(){return v},E9:function(){return W},F7:function(){return c},Gg:function(){return D},HD:function(){return _},He:function(){return V},J_:function(){return y},Kj:function(){return b},Kn:function(){return C},NO:function(){return s},Nj:function(){return B},Od:function(){return h},PO:function(){return M},Pq:function(){return te},RI:function(){return p},S0:function(){return O},W7:function(){return T},WV:function(){return re},Z6:function(){return i},_A:function(){return P},_N:function(){return g},aU:function(){return H},dG:function(){return a},e1:function(){return $},fY:function(){return o},h5:function(){return U},hR:function(){return L},hq:function(){return ie},ir:function(){return F},j5:function(){return q},kC:function(){return N},kJ:function(){return f},kT:function(){return r},l7:function(){return d},mf:function(){return w},rs:function(){return z},tI:function(){return S},tR:function(){return u},vs:function(){return Q},yA:function(){return ne},yk:function(){return x},zw:function(){return ae}});n(7658);function o(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const r={},i=[],a=()=>{},s=()=>!1,l=/^on[^a-z]/,c=e=>l.test(e),u=e=>e.startsWith("onUpdate:"),d=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},m=Object.prototype.hasOwnProperty,p=(e,t)=>m.call(e,t),f=Array.isArray,g=e=>"[object Map]"===E(e),v=e=>"[object Set]"===E(e),y=e=>"[object Date]"===E(e),b=e=>"[object RegExp]"===E(e),w=e=>"function"===typeof e,_=e=>"string"===typeof e,x=e=>"symbol"===typeof e,C=e=>null!==e&&"object"===typeof e,S=e=>C(e)&&w(e.then)&&w(e.catch),k=Object.prototype.toString,E=e=>k.call(e),T=e=>E(e).slice(8,-1),M=e=>"[object Object]"===E(e),O=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,D=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return n=>{const o=t[n];return o||(t[n]=e(n))}},R=/-(\w)/g,P=A((e=>e.replace(R,((e,t)=>t?t.toUpperCase():"")))),I=/\B([A-Z])/g,z=A((e=>e.replace(I,"-$1").toLowerCase())),N=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),L=A((e=>e?`on${N(e)}`:"")),H=(e,t)=>!Object.is(e,t),F=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},B=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},U=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const W=()=>j||(j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const Z="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",$=o(Z);function q(e){if(f(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=_(o)?J(o):q(o);if(r)for(const e in r)t[e]=r[e]}return t}return _(e)||C(e)?e:void 0}const G=/;(?![^(]*\))/g,K=/:([^]+)/,Y=/\/\*[^]*?\*\//g;function J(e){const t={};return e.replace(Y,"").split(G).forEach((e=>{if(e){const n=e.split(K);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function X(e){let t="";if(_(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const o=X(e[n]);o&&(t+=o+" ")}else if(C(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Q(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_(t)&&(e.class=X(t)),n&&(e.style=q(n)),e}const ee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",te=o(ee);function ne(e){return!!e||""===e}function oe(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=re(e[o],t[o]);return n}function re(e,t){if(e===t)return!0;let n=y(e),o=y(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=x(e),o=x(t),n||o)return e===t;if(n=f(e),o=f(t),n||o)return!(!n||!o)&&oe(e,t);if(n=C(e),o=C(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const n in e){const o=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(o&&!r||!o&&r||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>re(e,t)))}const ae=e=>_(e)?e:null==e?"":f(e)||C(e)&&(e.toString===k||!w(e.toString))?JSON.stringify(e,se,2):String(e),se=(e,t)=>t&&t.__v_isRef?se(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()]}:!C(t)||f(t)||M(t)?t:String(t)},5743:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,o="millisecond",r="second",i="minute",a="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(o,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,c),i=n-r<0,a=t.clone().add(o+(i?-1:1),c);return+(-(o+(n-r)/(i?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:a,m:i,s:r,ms:o,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var _=function(e){return e instanceof k},x=function e(t,n,o){var r;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();w[i]&&(r=i),n&&(w[i]=n,r=i);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;w[s]=t,r=s}return!o&&r&&(b=r),r||!o&&b},C=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},S=y;S.l=x,S.i=_,S.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(p);if(o){var r=o[2]-1||0,i=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===m)},v.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return C(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<C(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,o=!!S.u(t)||t,u=S.p(e),m=function(e,t){var r=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(s)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return o?m(1,0):m(31,11);case c:return o?m(1,g):m(0,g+1);case l:var b=this.$locale().weekStart||0,w=(f<b?f+7:f)-b;return m(o?v-w:v+(6-w),g);case s:case h:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),m=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var f=this.clone().set(h,1);f.$d[m](p),f.init(),this.$d=f.set(h,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(o,u){var h,m=this;o=Number(o);var p=S.p(u),f=function(e){var t=C(m);return S.w(t.date(t.date()+Math.round(e*o)),m)};if(p===c)return this.set(c,this.$M+o);if(p===d)return this.set(d,this.$y+o);if(p===s)return f(1);if(p===l)return f(7);var g=(h={},h[i]=t,h[a]=n,h[r]=e,h)[p]||1,v=this.$d.getTime()+o*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=S.z(this),i=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=function(e,n,r,i){return e&&(e[n]||e(t,o))||r[n].slice(0,i)},d=function(e){return S.s(i%12||12,e,"0")},h=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,a,!0),A:h(i,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:r};return o.replace(f,(function(e,t){return t||p[e]||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(o,h,m){var p,f=S.p(h),g=C(o),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=S.m(this,g);return b=(p={},p[d]=b/12,p[c]=b,p[u]=b/3,p[l]=(y-v)/6048e5,p[s]=(y-v)/864e5,p[a]=y/n,p[i]=y/t,p[r]=y/e,p)[f]||y,m?b:S.a(b)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=x(e,t,!0);return o&&(n.$L=o),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),E=k.prototype;return C.prototype=E,[["$ms",o],["$s",r],["$m",i],["$H",a],["$W",s],["$M",c],["$y",d],["$D",h]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,k,C),e.$i=!0),C},C.locale=x,C.isDayjs=_,C.unix=function(e){return C(1e3*e)},C.en=w[b],C.Ls=w,C.p={},C}))},9169:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){var n=t.prototype,o=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var r=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(i)}}}))},841:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,o=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,o=i.meridiem;if(o){for(var r=1;r<=24;r+=1)if(e.indexOf(o(r,0,t))>-1){n=r>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[r,function(e){this.afternoon=u(e,!1)}],a:[r,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[o,s("seconds")],ss:[o,s("seconds")],m:[o,s("minutes")],mm:[o,s("minutes")],H:[o,s("hours")],h:[o,s("hours")],HH:[o,s("hours")],hh:[o,s("hours")],D:[o,s("day")],DD:[n,s("day")],Do:[r,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var o=1;o<=31;o+=1)t(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],M:[o,s("month")],MM:[n,s("month")],MMM:[r,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function h(n){var o,r;o=n,r=i&&i.formats;for(var a=(n=o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,o){var i=o&&o.toUpperCase();return n||r[o]||e[o]||r[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,l=0;l<s;l+=1){var c=a[l],u=d[c],h=u&&u[0],m=u&&u[1];a[l]=m?{regex:h,parser:m}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,o=0;n<s;n+=1){var r=a[n];if("string"==typeof r)o+=r.length;else{var i=r.regex,l=r.parser,c=e.slice(o),u=i.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var o=t.prototype,r=o.parse;o.parse=function(e){var t=e.date,o=e.utc,a=e.args;this.$u=o;var s=a[1];if("string"==typeof s){var l=!0===a[2],c=!0===a[3],u=l||c,d=a[2];c&&(d=a[2]),i=this.$locale(),!l&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var o=h(t)(e),r=o.year,i=o.month,a=o.day,s=o.hours,l=o.minutes,c=o.seconds,u=o.milliseconds,d=o.zone,m=new Date,p=a||(r||i?1:m.getDate()),f=r||m.getFullYear(),g=0;r&&!i||(g=i>0?i-1:m.getMonth());var v=s||0,y=l||0,b=c||0,w=u||0;return d?new Date(Date.UTC(f,g,p,v,y,b,w+60*d.offset*1e3)):n?new Date(Date.UTC(f,g,p,v,y,b,w)):new Date(f,g,p,v,y,b,w)}catch(e){return new Date("")}}(t,s,o),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date("")),i={}}else if(s instanceof Array)for(var m=s.length,p=1;p<=m;p+=1){a[1]=s[p-1];var f=n.apply(this,a);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}p===m&&(this.$d=new Date(""))}else r.call(this,e)}}}))},5093:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"day")}}}))},1294:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}))},2643:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}))},225:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){var o=t.prototype,r=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,o,i){var a=e.name?e:e.$locale(),s=r(a[t]),l=r(a[n]),c=s||l.map((function(e){return e.slice(0,o)}));if(!i)return c;var u=a.weekStart;return c.map((function(e,t){return c[(t+(u||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}}}))},6245:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e="week",t="year";return function(n,o,r){var i=o.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var o=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=r(this).startOf(t).add(1,t).date(o),a=r(this).endOf(e);if(i.isBefore(a))return 1}var s=r(this).startOf(t).date(o).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?r(this).startOf("week").week():Math.ceil(l)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}))},5227:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}))},3403:function(e){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var t=/["'&<>]/;function n(e){var n,o=""+e,r=t.exec(o);if(!r)return o;var i="",a=0,s=0;for(a=r.index;a<o.length;a++){switch(o.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(i+=o.substring(s,a)),s=a+1,i+=n}return s!==a?i+o.substring(s,a):i}e.exports=n},2435:function(e,t,n){"use strict";n.d(t,{Hp:function(){return Zl},D5:function(){return La},Jx:function(){return ss},Im:function(){return hu},DJ:function(){return Js},$C:function(){return Zc}});n(2801),n(7658),n(1439),n(7585),n(5315),n(2062);for(var o=n(5593),r=n.n(o),i=n(5693),a=n.n(i),s=n(487),l=n.n(s),c=[],u=0;u<6;u++)c[u]=[];var d=[];function h(e,t,n){m(e);for(var o=0;o<6;o++)if(!n||"0"!==n.charAt(o)){var r=c[o];if(d[0]=r[0]>0?t[1][0]:t[0][0],d[1]=r[1]>0?t[1][1]:t[0][1],d[2]=r[2]>0?t[1][2]:t[0][2],g(r,d)<0)return!1}return!0}function m(e){var t=e,n=t[0],o=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],u=t[7],d=t[8],h=t[9],m=t[10],p=t[11],g=t[12],v=t[13],y=t[14],b=t[15];f(c[0],i-n,u-a,p-d,b-g),f(c[1],i+n,u+a,p+d,b+g),f(c[2],i+o,u+s,p+h,b+v),f(c[3],i-o,u-s,p-h,b-v),f(c[4],i-r,u-l,p-m,b-y),f(c[5],i+r,u+l,p+m,b+y)}var p=1/6;function f(e,t,n,o,r){return e[0]=t*p,e[1]=n*p,e[2]=o*p,e[3]=r*p,e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]}
/*!
 * maptalks v1.0.0-rc.21
 * LICENSE : BSD-3-Clause
 * (c) 2016-2023 maptalks.org
 */
var v="1.0.0-rc.21",y="_maptalks__internal_layer_",b=["MultiPoint","MultiLineString","MultiPolygon","GeometryCollection"],w=["FeatureCollection","Feature","Point","LineString","Polygon"].concat(b),_=["markerFile","polygonPatternFile","linePatternFile","markerFillPatternFile","markerLinePatternFile"],x=[["markerWidth","markerHeight"],[],[null,"lineWidth"],[],[null,"markerLineWidth"]],C={lineWidth:1,lineOpacity:1,lineDx:1,lineDy:1,polygonOpacity:1,markerWidth:1,markerHeight:1,markerDx:1,markerDy:1,markerOpacity:1,markerFillOpacity:1,markerLineWidth:1,markerLineOpacity:1,textSize:1,textOpacity:1,textHaloRadius:1,textWrapWidth:1,textLineSpacing:1,textDx:1,textDy:1},S=["lineColor","polygonFill","markerFill","markerLineColor","textFill"],k=14;function E(){return Date.now()}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function M(e){return null==e}function O(e){return"number"===typeof e&&!isNaN(e)}function D(e){return(0|e)===e}function A(e){return"object"===typeof e&&!!e}function R(e){return!M(e)&&("string"===typeof e||null!==e.constructor&&e.constructor===String)}function P(e){return!M(e)&&("function"===typeof e||null!==e.constructor&&e.constructor===Function)}var I=Object.prototype.hasOwnProperty;function z(e,t){return I.call(e,t)}var N=Math.PI/180;function L(e){return e*N}function H(e){return e/N}var F="[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)&&!process.versions["electron"]&&!process.versions["nw"]&&!process.versions["node-webkit"],B={},U={};function V(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI}if(!F){var j=navigator.userAgent.toLowerCase(),W=document.documentElement,Z="ActiveXObject"in window,$=-1!==j.indexOf("webkit"),q=-1!==j.indexOf("phantom"),G=-1!==j.search("android [23]"),K=-1!==j.indexOf("chrome"),Y=-1!==j.indexOf("gecko")&&!$&&!window.opera&&!Z,J=/iphone/i.test(j)&&/micromessenger/i.test(j),X="undefined"!==typeof orientation||-1!==j.indexOf("mobile"),Q=!window.PointerEvent&&window.MSPointerEvent,ee=window.PointerEvent&&navigator.pointerEnabled||Q,te=Z&&"transition"in W.style,ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!G,oe="MozPerspective"in W.style,re="OTransition"in W.style,ie=(te||ne||oe)&&!re&&!q,ae="undefined"!==typeof window&&P(window.createImageBitmap),se="undefined"!==typeof window&&P(window.ResizeObserver),le="undefined"!==typeof window&&P(window.btoa),ce="undefined"!==typeof window&&P(window.Proxy),ue=0;K&&(ue=j.match(/chrome\/([\d.]+)/)[1]);var de=!q&&(ee||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),he="undefined"!==typeof window&&"WebGLRenderingContext"in window,me=V(),pe=!1;try{var fe=new OffscreenCanvas(2,2);fe.getContext("2d"),pe=!0}catch(Zd){pe=!1}var ge=!1;try{window.addEventListener("testPassive",(function(){}),{get passive(){ge=!0}})}catch($d){}if(B={ie:Z,ielt9:Z&&!document.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in document),webkit:$,gecko:Y,android:-1!==j.indexOf("android"),android23:G,chrome:K,chromeVersion:ue,safari:!K&&-1!==j.indexOf("safari"),phantomjs:q,ie3d:te,webkit3d:ne,gecko3d:oe,opera12:re,any3d:ie,iosWeixin:J,mobile:X,mobileWebkit:X&&$,mobileWebkit3d:X&&ne,mobileOpera:X&&window.opera,mobileGecko:X&&Y,touch:!!de,msPointer:!!Q,pointer:!!ee,retina:me>1,devicePixelRatio:me,language:navigator.browserLanguage?navigator.browserLanguage:navigator.language,ie9:Z&&9===document.documentMode,ie10:Z&&10===document.documentMode,webgl:he,imageBitMap:ae,resizeObserver:se,btoa:le,decodeImageInWorker:pe,monitorDPRChange:!0,supportsPassive:ge,proxy:ce,removeDPRListening:function(e){e&&delete U[e.id]},checkDevicePixelRatio:function(){if("undefined"!==typeof window&&B.monitorDPRChange){var e=V(),t=e!==B.devicePixelRatio;return t&&(B.devicePixelRatio=e),t}return!1},addDPRListening:function(e){e&&(U[e.id]=e)}},"undefined"!==typeof window&&window.matchMedia)for(var ve=1;ve<500;ve++){var ye=(.01*ve).toFixed(2),be=window.matchMedia("screen and (resolution: "+ye+"dppx)");be&&(be.addEventListener?be.addEventListener("change",B.checkDevicePixelRatio):be.addListener&&be.addListener(B.checkDevicePixelRatio))}if(B.devicePixelRatio){var we=B.devicePixelRatio;Object.defineProperty(B,"devicePixelRatio",{get:function(){return we},set:function(e){if(e!==we&&(we=e,B.monitorDPRChange))for(var t in U){var n=U[t];if(n&&n.options&&!n.options["devicePixelRatio"]&&n.checkSize&&n.getRenderer){var o=n.getRenderer();o&&n.checkSize(!0)}}}})}}var _e=B;function xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Oe(o.key),o)}}function Ce(e,t,n){return t&&xe(e.prototype,t),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Se.apply(this,arguments)}function ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ee(e,t)}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ee(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Oe(e){var t=Me(e,"string");return"symbol"===typeof t?t:String(t)}var De,Ae,Re=function(){function e(e,t,n){if(M(e)||M(t)?M(e.x)||M(e.y)?Array.isArray(e)&&(this.x=+e[0],this.y=+e[1],this.z=e[2]):(this.x=+e.x,this.y=+e.y,this.z=e.z):(this.x=+e,this.y=+t,this.z=n),this._isNaN())throw new Error("Position is NaN")}var t=e.prototype;return t.set=function(e,t,n){return this.x=e,this.y=t,this.z=n||0,this},t.abs=function(){return new this.constructor(Math.abs(this.x),Math.abs(this.y))},t._abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},t._round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.round=function(){return new this.constructor(Math.round(this.x),Math.round(this.y))},t._ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},t.ceil=function(){return new this.constructor(Math.ceil(this.x),Math.ceil(this.y))},t.distanceTo=function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},t.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t._floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},t.floor=function(){return new this.constructor(Math.floor(this.x),Math.floor(this.y))},t.copy=function(){return new this.constructor(this.x,this.y,this.z)},t._add=function(e,t){return M(e.x)?M(e[0])?(this.x+=e,this.y+=t):(this.x+=e[0],this.y+=e[1]):(this.x+=e.x,this.y+=e.y),this},t.add=function(e,t){var n,o;return M(e.x)?M(e[0])?(n=this.x+e,o=this.y+t):(n=this.x+e[0],o=this.y+e[1]):(n=this.x+e.x,o=this.y+e.y),new this.constructor(n,o)},t._sub=function(e,t){return M(e.x)?M(e[0])?(this.x-=e,this.y-=t):(this.x-=e[0],this.y-=e[1]):(this.x-=e.x,this.y-=e.y),this},t._substract=function(){return this._sub.apply(this,arguments)},t.sub=function(e,t){var n,o;return M(e.x)?M(e[0])?(n=this.x-e,o=this.y-t):(n=this.x-e[0],o=this.y-e[1]):(n=this.x-e.x,o=this.y-e.y),new this.constructor(n,o)},t.substract=function(){return this.sub.apply(this,arguments)},t.multi=function(e){return new this.constructor(this.x*e,this.y*e)},t._multi=function(e){return this.x*=e,this.y*=e,this},t.div=function(e){return this.multi(1/e)},t._div=function(e){return this._multi(1/e)},t.equals=function(e){return e instanceof this.constructor&&(this.x===e.x&&this.y===e.y&&this.z===e.z)},t._isNaN=function(){return isNaN(this.x)||isNaN(this.y)||O(this.z)&&isNaN(this.z)},t.isZero=function(){return 0===this.x&&0===this.y},t.toArray=function(){return O(this.z)?[this.x,this.y,this.z]:[this.x,this.y]},t.toFixed=function(e){return new this.constructor(this.x.toFixed(e),this.y.toFixed(e),O(this.z)?this.z.toFixed:void 0)},t.toJSON=function(){var e={x:this.x,y:this.y};return O(this.z)&&(e.z=this.z),e},e}(),Pe=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.closeTo=function(e,t){return t||(t=0),this.x>=e.x-t&&this.x<=e.x+t&&this.y>=e.y-t&&this.y<=e.y+t},n.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.unit=function(){return this.copy()._unit()},n._unit=function(){return this._div(this.mag()),this},n.perp=function(){return this.copy()._perp()},n._perp=function(){var e=this.y;return this.y=this.x,this.x=-e,this},n.angleWith=function(e){return this.angleWithSep(e.x,e.y)},n.angleWithSep=function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},n._rotate=function(e){var t=Math.cos(e),n=Math.sin(e),o=t*this.x-n*this.y,r=n*this.x+t*this.y;return this.x=o,this.y=r,this},n.rotate=function(e){return this.copy()._rotate(e)},t}(Re);function Ie(e){var t="data:image/svg+xml";return e.length>4&&".svg"===e.slice(-4)?1:e.slice(0,t.length)===t?2:0}function ze(e,t){F&&ze.node?ze.node(e,t):e.src=t[0]}(function(){if(F)return De=function(e){return setTimeout(e,16)},void(Ae=clearTimeout);var e,t,n=1e3/30;function o(e){return setTimeout(e,n)}function r(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}"undefined"!=typeof window?(e=window["requestAnimationFrame"]||r("RequestAnimationFrame")||o,t=window["cancelAnimationFrame"]||r("CancelAnimationFrame")||r("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)}):(e=o,t=clearTimeout),De=function(t){return e(t)},Ae=function(e){e&&t(e)}})();var Ne=0;function Le(){return Ne++}function He(e){return e&&R(e)?JSON.parse(e):e}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var o=0,r=n.length;o<r;o++)e.push(n[o])}return e.length}function Be(e,t){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ue(e,t,n){if(!Array.isArray(e))return n?t.call(n,e):t(e);for(var o,r,i=[],a=0,s=e.length;a<s;a++)o=e[a],M(o)?i.push(null):Array.isArray(o)?i.push(Ue(o,t,n)):(r=n?t.call(n,o):t(o),i.push(r));return i}function Ve(e,t){return void 0===e?t:e}function je(e){return Math.sign?Math.sign(e):(e=+e,0===e||isNaN(e)?Number(e):e>0?1:-1)}function We(e){if(Math.log2)return Math.log2(e);var t=Math.log(e)*Math.LOG2E,n=Math.round(t);return Math.abs(n-t)<1e-14?n:t}function Ze(e,t,n){return e*(1-n)+t*n}function $e(e,t,n){if(e===n||e===t)return e;var o=n-t,r=((e-t)%o+o)%o+t;return r}function qe(e,t,n){return Math.min(n,Math.max(t,e))}function Ge(e){return Array.isArray(e)&&e.length>0}var Ke=/^url\((['"])(.+)\1\)$/i,Ye=/^url\(([^'"].*[^'"])\)$/i;function Je(e){return R(e)?Ye.test(e)?1:Ke.test(e)?2:3:0}function Xe(e){var t,n=Je(e);return 3===n?e:1===n?(t=Ye.exec(e),t[1]):2===n?(t=Ke.exec(e),t[2]):e}var Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function et(e){if(_e.btoa)return window.btoa(e);for(var t,n,o=String(e),r="",i=0,a=Qe;o.charAt(0|i)||(a="=",i%1);r+=a.charAt(63&t>>8-i%1*8)){if(n=o.charCodeAt(i+=3/4),n>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return r}function tt(e,t){for(var n=atob(e),o=new ArrayBuffer(n.length),r=new Uint8Array(o),i=0;i<n.length;i++)r[i]=255&n.charCodeAt(i);var a=new Blob([o],{type:t});return a}function nt(e,t,n,o){var r=n-e,i=o-t;return Math.atan2(i,r)}var ot="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function rt(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;for(var n in e)if("center"===n){if(!t[n]||!it(e[n][0],t[n][0])||!it(e[n][1],t[n][1]))return!1}else if(e[n]!==t[n])return!1;return!0}function it(e,t,n){return null==n&&(n=1e-6),e>=t-n&&e<=t+n}function at(e,t,n,o){e||(e=100),t||(t=4);var r=this,i=this.isVisible();function a(){if(0===t)return i?r.show():r.hide(),void(n&&(o?n.call(o):n()));t%2===0?r.hide():r.show(),t--,r._flashTimeout=setTimeout(a,e)}return t*=2,this._flashTimeout&&clearTimeout(this._flashTimeout),this._flashTimeout=setTimeout(a,e),this}function st(e,t){void 0===e&&(e=[]),void 0===t&&(t="_pt");for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];if(i){i[t]||(i[t]=new Pe(0,0));var a=i[t];a.x=0,a.y=0,n.push(a)}else n.push(null)}return n}function lt(e,t){t(e.data)}function ct(e){if(e&&0===e.indexOf("http://")||0===e.indexOf("https://"))return e;var t=document.createElement("a");return t.href=e,e=t.href,t=null,e}var ut,dt={cssWidth:"1px",cssHeight:"1px",width:1,height:1};function ht(e,t){void 0===t&&(t=1);var n=e.width,o=e.height;return dt.cssWidth=n+"px",dt.cssHeight=o+"px",dt.width=Math.round(n*t),dt.height=Math.round(o*t),dt}var mt={width:100,height:10};function pt(){if(!ut){var e=mt.width,t=mt.height;OffscreenCanvas?ut=new OffscreenCanvas(e,t):(ut=document.createElement("canvas"),ut.width=e,ut.height=t)}return ut}var ft,gt=function(){function e(e,t){if(void 0===t&&(t={}),Array.isArray(e))if(e.length<2)console.error("colors.length should >1");else{this.colors=e;for(var n=1/0,o=-1/0,r=0,i=e.length;r<i;r++){var a=e[r][0];n=Math.min(a,n),o=Math.max(a,o)}this.min=n,this.max=o,this.valueOffset=this.max-this.min,this.options=Object.assign({},mt,t),this._initImgData()}else console.error("colors is not array")}var t=e.prototype;return t.getImageData=function(){return this.imgData},t._initImgData=function(){var e=pt(),t=this.options,n=t.width,o=t.height;e.width=n,e.height=o;var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height);for(var i=r.createLinearGradient(0,0,e.width,0),a=this.colors,s=this.valueOffset,l=0,c=a.length;l<c;l++){var u=a[l],d=u[0],h=u[1],m=(d-this.min)/s;i.addColorStop(m,h)}r.fillStyle=i,r.fillRect(0,0,e.width,e.height),this.imgData=r.getImageData(0,0,e.width,e.height)},t.getColor=function(e){e=Math.max(this.min,e),e=Math.min(e,this.max);var t=(e-this.min)/this.valueOffset,n=Math.round(t*this.imgData.width);n=Math.min(n,this.imgData.width-1);var o=4*n,r=this.imgData.data[o],i=this.imgData.data[o+1],a=this.imgData.data[o+2],s=this.imgData.data[o+3];return[r,i,a,s]},e}(),vt="function"===typeof Map;function yt(e,t){var n,o,r;if(Ot(e)){var i,a=e.stops&&"object"===typeof e.stops[0][0],s=a||void 0!==e.property,l=a||!s,c=e.type||t||"exponential";if("exponential"===c)i=xt;else if("interval"===c)i=_t;else if("categorical"===c)i=wt;else if("identity"===c)i=kt;else{if("color-interpolate"!==c)throw new Error('Unknown function type "'+c+'"');i=St}if(a){for(var u={},d=[],h=0;h<e.stops.length;h++){var m=e.stops[h];void 0===u[m[0].zoom]&&(u[m[0].zoom]={zoom:m[0].zoom,type:e.type,property:e.property,default:e.default,stops:[]}),u[m[0].zoom].stops.push([m[0].value,m[1]])}for(var p in u)d.push([u[p].zoom,yt(u[p])]);n=function(t,n){var o=xt({stops:d,base:e.base},t)(t,n);return"function"===typeof o?o(t,n):o},o=!1,r=!1}else l?(n=function(t){var n=i(e,t);return"function"===typeof n?n(t):n},o=!0,r=!1):(n=function(t,n){var o=i(e,n?n[e.property]:null);return"function"===typeof o?o(t,n):o},o=!1,r=!0)}else n=function(){return e},o=!0,r=!0;return n.isZoomConstant=r,n.isFeatureConstant=o,n}function bt(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:null}function wt(e,t){for(var n=0;n<e.stops.length;n++)if(t===e.stops[n][0])return e.stops[n][1];return e.default}function _t(e,t){for(var n=0;n<e.stops.length;n++)if(t<e.stops[n][0])break;return e.stops[Math.max(n-1,0)][1]}function xt(e,t){var n=void 0!==e.base?e.base:1,o=0;while(1){if(o>=e.stops.length)break;if(t<=e.stops[o][0])break;o++}return 0===o?e.stops[o][1]:o===e.stops.length?e.stops[o-1][1]:Et(t,n,e.stops[o-1][0],e.stops[o][0],e.stops[o-1][1],e.stops[o][1])}vt&&(ft=new Map);var Ct={width:100,height:1};function St(e,t){var n=e.stops;if(n&&n.length>1){var o;if(ft){var r=JSON.stringify(n);if(!ft.has(r)){var i=new gt(n,Ct);ft.set(r,i)}o=ft.get(r)}else o=new gt(n,Ct);var a=o.getColor(t),s=a[0],l=a[1],c=a[2],u=a[3];return[s/255,l/255,c/255,u/255]}return n&&1===n.length?n[0][1]:null}function kt(e,t){return bt(t,e.default)}function Et(e,t,n,o,r,i){return"function"===typeof r?function(){var a=r.apply(void 0,arguments),s=i.apply(void 0,arguments);return Et(e,t,n,o,a,s)}:r.length?Mt(e,t,n,o,r,i):Tt(e,t,n,o,r,i)}function Tt(e,t,n,o,r,i){var a,s=o-n,l=e-n;return a=1===t?l/s:(Math.pow(t,l)-1)/(Math.pow(t,s)-1),r*(1-a)+i*a}function Mt(e,t,n,o,r,i){for(var a=[],s=0;s<r.length;s++)a[s]=Tt(e,t,n,o,r[s],i[s]);return a}function Ot(e){return e&&"object"===typeof e&&(e.stops||e.property&&"identity"===e.type)}function Dt(e){for(var t in e)if(Ot(e[t]))return!0;return!1}function At(e){return It(e,"exponential")}function Rt(e,t){if(!e)return null;var n=!1;if(Array.isArray(e)){for(var o,r=[],i=0;i<e.length;i++)o=Rt(e[i],t),o?(r.push(o),n=!0):r.push(e[i]);return n?r:e}var a,s={__fn_types_loaded:!0},l=[];for(a in e)e.hasOwnProperty(a)&&l.push(a);for(var c=function(e){Object.defineProperty(s,e,{get:function(){return this["__fn_"+e]||(this["__fn_"+e]=At(this["_"+e])),this["__fn_"+e].apply(this,t())},set:function(t){this["_"+e]=t},configurable:!0,enumerable:!0})},u=0,d=l.length;u<d;u++)a=l[u],Ot(e[a])?(n=!0,s["_"+a]=e[a],c(a)):s[a]=e[a];return n?s:e}function Pt(e){if(!e||!e.stops)return[];for(var t=[],n=0,o=e.stops.length;n<o;n++)t.push(e.stops[n][1]);return t}function It(e,t){if(!Ot(e))return function(){return e};e=JSON.parse(JSON.stringify(e));var n=!0,o=!0,r=e.stops;if(r)for(var i=0;i<r.length;i++)if(Ot(r[i][1])){var a=It(r[i][1],t);n=n&&a.isZoomConstant,o=o&&a.isFeatureConstant,r[i]=[r[i][0],a]}var s=yt(e,t);return s.isZoomConstant=n&&s.isZoomConstant,s.isFeatureConstant=o&&s.isFeatureConstant,s}var zt=["Unknown","Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","GeometryCollection"];function Nt(e){return"object"===typeof e&&!!e}function Lt(e){return new Function("f","var p = (f && f.properties || {}); return "+Ht(e))}function Ht(e){if(!e)return"true";var t=e[0];if(e.length<=1)return"any"===t?"false":"true";var n="=="===t?Vt(e[1],e[2],"===",!1):"!="===t?Vt(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?Vt(e[1],e[2],t,!0):"any"===t?Wt(e.slice(1),"||"):"all"===t?Wt(e.slice(1),"&&"):"none"===t?qt(Wt(e.slice(1),"||")):"in"===t?Zt(e[1],e.slice(2)):"!in"===t?qt(Zt(e[1],e.slice(2))):"has"===t?$t(e[1]):"!has"===t?qt($t(e[1])):"contains"===t?Bt(e[1],e[2],e[3]):"true";return"("+n+")"}function Ft(e,t,n,o){var r=e.property,i=e.op,a=Ut(r);return"length"!==i?(console.error("not support "+i+" op"),"false"):(a="(("+a+"+='').length)",jt(a,r,t,n,o))}function Bt(e,t,n){var o=Ut(e);return void 0!==n?"("+o+" + '').indexOf(\""+t+'") === '+n:"("+o+" + '').indexOf(\""+t+'") >= 0'}function Ut(e){return"$"===e[0]?"f."+e.substring(1):"p["+JSON.stringify(e)+"]"}function Vt(e,t,n,o){if(Nt(e)&&e.op)return Ft(e,t,n,o);var r=Ut(e);return jt(r,e,t,n,o)}function jt(e,t,n,o,r){var i="$type"===t?zt.indexOf(n):JSON.stringify(n);return(r?"typeof "+e+"=== typeof "+i+"&&":"")+e+o+i}function Wt(e,t){return e.map(Ht).join(t)}function Zt(e,t){"$type"===e&&(t=t.map((function(e){return zt.indexOf(e)})));var n=JSON.stringify(t.sort(Gt)),o=Ut(e);return t.length<=200?n+".indexOf("+o+") !== -1":"function(v, a, i, j) {\n        while (i <= j) { var m = (i + j) >> 1;\n            if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;\n        }\n    return false; }("+o+", "+n+",0,"+(t.length-1)+")"}function $t(e){return"$id"===e?'"id" in f':JSON.stringify(e)+" in p"}function qt(e){return"!("+e+")"}function Gt(e,t){return e<t?-1:e>t?1:0}function Kt(e){var t=e._toJSON(),n=t["feature"];return n["type"]=zt.indexOf(n["geometry"]["type"]),n["subType"]=t["subType"],n}function Yt(e){if(!Array.isArray(e))return Yt([e]);for(var t=[],n=0;n<e.length;n++){var o=void 0;o=!0===e[n]["filter"]?function(){return!0}:Lt(e[n]["filter"]),t.push(Jt({},e[n],{filter:o}))}return t}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var Xt=[],Qt={};function en(e,t){return Rt(e,(function(){var e=t.getMap();return tn(Xt,e?e.getZoom():12,T({},t.getProperties(),nn(Qt,e&&e.getBearing()||0,e&&e.getPitch()||0,e?e.getZoom():10)))}))}function tn(e,t,n){return e[0]=t,e[1]=n,e}function nn(e,t,n,o){return e["{bearing}"]=t,e["{pitch}"]=n,e["{zoom}"]=o,e}function on(e){var t={stroke:{stroke:e["markerLineColor"],"stroke-width":e["markerLineWidth"],"stroke-opacity":e["markerLineOpacity"],"stroke-dasharray":null,"stroke-linecap":"butt","stroke-linejoin":"round"},fill:{fill:e["markerFill"],"fill-opacity":e["markerFillOpacity"]}};return 0===t["stroke"]["stroke-width"]&&(t["stroke"]["stroke-opacity"]=0),t}function rn(e,t,n){if(!e["markerPath"])return null;var o=1,r=on(e);O(e["markerOpacity"])&&(o=e["markerOpacity"]),O(e["opacity"])&&(o*=e["opacity"]);var i={};if(r){for(var a in r["stroke"])r["stroke"].hasOwnProperty(a)&&(M(r["stroke"][a])||(i[a]=r["stroke"][a]));for(var s in r["fill"])r["fill"].hasOwnProperty(s)&&(M(r["fill"][s])||(i[s]=r["fill"][s]))}for(var l,c=Array.isArray(e["markerPath"])?e["markerPath"]:[e["markerPath"]],u=[],d=0;d<c.length;d++)l=R(c[d])?{path:c[d]}:c[d],l=T({},l,i),l["d"]=l["path"],delete l["path"],u.push(l);var h=['<svg version="1.1"','xmlns="http://www.w3.org/2000/svg"'];o<1&&h.push('opacity="'+o+'"'),e["markerPathWidth"]&&e["markerPathHeight"]&&h.push('viewBox="0 0 '+e["markerPathWidth"]+" "+e["markerPathHeight"]+'"'),h.push('preserveAspectRatio="none"'),t&&h.push('width="'+t+'"'),n&&h.push('height="'+n+'"'),h.push("><defs></defs>");for(var m=0;m<u.length;m++){var p="<path ";for(var f in u[m])u[m].hasOwnProperty(f)&&(p+=" "+f+'="'+u[m][f]+'"');p+="></path>",h.push(p)}h.push("</svg>");var g="data:image/svg+xml;base64,"+et(h.join(" "));return g}function an(e,t){if(!e)return[];var n=e;Array.isArray(e)||(n=[e]);for(var o,r,i,a,s=[],l=_,c=n.length-1;c>=0;c--)if(e=n[c],e){t&&(e=sn(e));for(var u=0;u<l.length;u++)if(o=e[l[u]],Ot(o)&&(o=Pt(o)),o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)"url("===o[d].slice(0,4)&&(o[d]=Xe(o[d])),r=x[u],s.push([o[d],e[r[0]],e[r[1]]])}if("path"===e["markerType"]&&e["markerPath"])if(i=Ot(e["markerWidth"])?200:e["markerWidth"],a=Ot(e["markerHeight"])?200:e["markerHeight"],Ot(e["markerPath"])){o=Pt(e["markerPath"]);for(var h=e["markerPath"],m=0;m<o.length;m++)e["markerPath"]=o[m],s.push([rn(e),i,a]);e["markerPath"]=h}else s.push([rn(e),i,a])}return s}function sn(e){if(!e)return null;var t=e;if(F)return t;for(var n,o=_,r=0,i=o.length;r<i;r++)n=t[o[r]],n&&(t[o[r]]=ln(n));return t}function ln(e){if(Ot(e)){for(var t=e.stops,n=0;n<t.length;n++)t[n][1]=ln(t[n][1]);return e}return"url("===e.slice(0,4)&&(e=Xe(e)),e}var cn=function(){function e(e,t){O(e)&&O(t)?(this.width=e,this.height=t):O(e["width"])?(this.width=e.width,this.height=e.height):Array.isArray(e)&&(this.width=e[0],this.height=e[1])}var t=e.prototype;return t.copy=function(){return new e(this["width"],this["height"])},t.add=function(t,n){var o,r;return t instanceof e?(o=this.width+t.width,r=this.height+t.height):(o=this.width+t,r=this.height+n),new e(o,r)},t.equals=function(e){return this["width"]===e["width"]&&this["height"]===e["height"]},t.multi=function(t){return new e(this["width"]*t,this["height"]*t)},t._multi=function(e){return this["width"]*=e,this["height"]*=e,this},t._round=function(){return this["width"]=Math.round(this["width"]),this["height"]=Math.round(this["height"]),this},t.toPoint=function(){return new Pe(this["width"],this["height"])},t.toArray=function(){return[this["width"],this["height"]]},t.toJSON=function(){return{width:this["width"],height:this["height"]}},e}();function un(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}var dn=/[\b\t\r\v\f]/gim;function hn(e){return R(e)?e.replace(dn,""):e}function mn(e){return un(e).split(/\s+/)}var pn="undefined"!==typeof document?document.createElement("canvas").getContext("2d"):null;function fn(e,t){return fn.node?fn.node(e,t):(pn.font=t,pn.measureText(e).width)}function gn(e,t,n){var o=fn(e,t);return new cn(o,n||k)}function vn(e,t,n,o){if(!e||0===e.length)return[{text:"",width:0}];var r=M(o)?fn(e,t):o,i=r/e.length,a=Math.floor(n/i/2);if(i>=n||a<=0)return[{text:"",width:n}];if(r<=n)return[{text:e,width:r}];for(var s=[],l=e.substring(0,a),c=i*a,u=a,d=e.length;u<d;u++){var h=e[u],m=fn(l+h);m>=n?(s.push({text:l,width:c}),l=e.substring(u,a+u),u+=a-1,c=i*a):(l+=h,c=m),u>=d-1&&(c=fn(l),s.push({text:l,width:c}))}return s}var yn=/\{([\w_]+)\}/g;function bn(e,t){return R(e)?e.replace(yn,(function(e,n){if(!t)return"";var o=t[n];return M(o)?"":Array.isArray(o)?o.join():o})):e}function wn(e,t){O(e)&&(e+=""),e=e||"";var n=t["textMaxHeight"]||0,o=Sn(e,t);return n&&n<o.size.height&&(o.size.height=n),o}function _n(e,t,n){var o,r,i=e["width"],a=e["height"];return o="left"===t?-i:"right"===t?0:-i/2,r="top"===n?-a:"bottom"===n?0:-a/2,new Pe(o,r)}var xn="monospace";function Cn(e){return e["textFont"]?e["textFont"]:(e["textStyle"]&&"normal"!==e["textStyle"]?e["textStyle"]+" ":"")+(e["textWeight"]&&"normal"!==e["textWeight"]?e["textWeight"]+" ":"")+e["textSize"]+"px "+(e["textFaceName"]?'"'===e["textFaceName"][0]?e["textFaceName"]:'"'+e["textFaceName"]+'"':xn)}function Sn(e,t){var n=Cn(t),o=t["textLineSpacing"]||0,r=gn(e,n,t["textSize"]),i=r["width"],a=r["height"],s=t["textWrapCharacter"],l=[],c=t["textWrapWidth"];(!c||c>i)&&(c=i),R(e)||(e+="");var u=0;if(s&&e.indexOf(s)>=0)for(var d=e.split(s),h=0,m=d.length;h<m;h++){var p=d[h],f=fn(p,n);if(f>c)for(var g=vn(p,n,c,f),v=0,y=g.length;v<y;v++){var b=g[v].width;b>u&&(u=b),l.push({text:g[v].text,size:new cn(b,a)})}else f>u&&(u=f),l.push({text:p,size:new cn(f,a)})}else if(i>c)for(var w=vn(e,n,c,i),_=0;_<w.length;_++){var x=w[_].width;x>u&&(u=x),l.push({text:w[_].text,size:new cn(x,a)})}else i>u&&(u=i),l.push({text:e,size:r});var C=l.length,S=new cn(u,a*C+o*(C-1));return{total:C,size:S,rows:l,rawSize:r}}function kn(e){var t,n=0,o=e&&e.length||0;if(!o)return n;for(var r=0;r<o;r++)t=e.charCodeAt(r),n=(n<<5)-n+t,n&=n;return n}function En(e){return e&&e["colorStops"]}function Tn(e){var t=[e["type"]];if(e["places"]&&t.push(e["places"].join()),e["colorStops"]){for(var n=[],o=e["colorStops"].length-1;o>=0;o--)n.push(e["colorStops"][o].join());t.push(n.join(","))}return t.join("_")}function Mn(e,t){if(!e)return 1;var n=[];if(Array.isArray(e)){for(var o=0;o<e.length;o++)n.push(Mn(e[o],t));return n.sort().join(",")}var r=Object.keys(e).sort(),i=r.reduce((function(n,o){return t&&0!==o.indexOf(t)||(n[o]=e[o]),n}),{}),a=kn(JSON.stringify(i));return a}function On(e,t){function n(e,t){var n=e["opacity"];M(n)?e["opacity"]=t:e["opacity"]*=t}var o;if(Array.isArray(e)){o=[];for(var r=0;r<e.length;r++){var i=T({},e[r]);n(i,t),o.push(i)}}else o=T({},e),n(o,t);return o}function Dn(e){var t=Array.prototype.slice.call(arguments,1);if(t&&t.length||(t=[{}]),Array.isArray(e)){for(var n,o,r=[],i=0,a=e.length;i<a;i++){n=e[i],o={};for(var s=0,l=t.length;s<l;s++)Array.isArray(t[s])?M(t[s][i])?T(o,n||{}):T(o,n,t[s][i]):T(o,n,t[s]?t[s]:{});r.push(o)}return r}var c=[{},e];return c.push.apply(c,t),T.apply(this,c)}function An(e){if(e.symbol&&(e=[e]),Array.isArray(e))return e;var t=e["$root"],n=e["$iconset"];if(e=e.style,t||n){t&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),n&&"/"===n[n.length-1]&&(n=n.substring(0,n.length-1));var o=function(e){return"{$root}"===e?t:"{$iconset}"===e?n:null};Rn(e,o)}return e}function Rn(e,t){for(var n=0;n<e.length;n++){var o=e[n].symbol;o&&In(o,t)}}var Pn=/(\{\$root\}|\{\$iconset\})/g;function In(e,t){for(var n in e)e.hasOwnProperty(n)&&"textName"!==n&&(R(e[n])&&e[n].length>2?e[n]=e[n].replace(Pn,t):Ot(e[n])?e[n]=zn(e[n],t):A(e[n])&&In(e[n],t))}function zn(e,t){var n=e["default"];R(n)&&(e["default"]=n.replace(Pn,t));for(var o=e.stops,r=0;r<o.length;r++)Array.isArray(o[r])&&(R(o[r][1])?o[r][1]=o[r][1].replace(Pn,t):Ot(o[r][1])&&(o[r][1]=zn(o[r][1],t)));return e}function Nn(e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]);for(var t=e.length,n=0;n<t;n++){var o=e[n];if(o.style){var r=o.style,i=r.lineDasharray,a=r.lineWidth;if(a&&O(a)&&a>0&&i&&Array.isArray(i)&&i.length)return!0}}return!1}var Ln=function(e){return e[0]},Hn=F?Ln:function(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1},Fn=Hn(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Bn=Hn(["transformOrigin","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","msTransformOrigin"]),Un=Hn(["transition","WebkitTransition","OTransition","MozTransition","msTransition"]);Hn(["filter","WebkitFilter","OFilter","MozFilter","msFilter"]);function Vn(e,t){var n=document.createElement(e);return t&&ro(n,t),n}function jn(e,t,n){var o=Vn(e);return t&&to(o,t),n&&n.appendChild(o),o}function Wn(e){if(!e)return this;if(_e.ielt9||_e.ie9){var t=Vn("div");t.appendChild(e),t.innerHTML="",t=null}else e.parentNode&&e.parentNode.removeChild(e);return this}function Zn(e,t,n,o){if(!e||!e.addEventListener||!t||!n)return this;for(var r=function(t){t||(t=window.event),n.call(o||e,t)},i=t.split(" "),a=i.length-1;a>=0;a--){var s=i[a];if(s){e["Z__"+s]||(e["Z__"+s]=[]);var l=qn(e,s,n);l>=0&&(console.warn(e,"find '"+s+"' handler:",n," The old listener function will be removed"),$n(e,s,n)),e["Z__"+s].push({callback:r,src:n}),e.addEventListener(s,r,!!_e.supportsPassive&&{capture:!1,passive:!1})}}return this}function $n(e,t,n){function o(t,n){"mousewheel"===t&&_e.gecko&&(t="DOMMouseScroll"),e.removeEventListener(t,n,!1)}if(!e||!e.removeEventListener||!t)return this;for(var r=t.split(" "),i=r.length-1;i>=0;i--){var a=r[i];if(a){if(!n&&e["Z__"+a]){for(var s=e["Z__"+a],l=0,c=s.length;l<c;l++)o(s[l].callback);return delete e["Z__"+a],this}var u=qn(e,a,n);if(u<0)return this;var d=e["Z__"+a][u];o(a,d.callback),e["Z__"+a].splice(u,1)}}return this}function qn(e,t,n){if(!e||!e["Z__"+t]||!n)return-1;for(var o=e["Z__"+t],r=0,i=o.length;r<i;r++)if(o[r].src===n)return r;return-1}function Gn(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Kn(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this}function Yn(e){return e.onselectstart=function(){return!1},e.ondragstart=function(){return!1},e.setAttribute("unselectable","on"),this}function Jn(e,t){return e?(_e.any3d?ao(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px"),t):null}function Xn(e){var t=window.getComputedStyle(e),n=[parseInt(t["padding-left"]),parseInt(t["padding-top"])],o=e.getBoundingClientRect(),r=e.offsetWidth,i=e.offsetHeight,a=r?o.width/r:1,s=i?o.height/i:1;return e.__position=[o.left+n[0],o.top+n[1],a,s],e.__position}function Qn(e,t){e||(e=window.event);var n=t.__position;return n||(n=Xn(t)),new Pe((e.clientX-n[0]-t.clientLeft)/n[2],(e.clientY-n[1]-t.clientTop)/n[3])}function eo(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function to(e,t){var n=e.style.cssText;return eo(n,";")||(n+=";"),e.style.cssText=n+t,this}function no(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=io(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function oo(e,t){if(void 0===e.classList||no(e,t)){var n=io(e);ro(e,(n?n+" ":"")+t)}else for(var o=mn(t),r=0,i=o.length;r<i;r++)e.classList.add(o[r]);return this}function ro(e,t){return M(e.className.baseVal)?e.className=t:e.className.baseVal=t,this}function io(e){return M(e.className.baseVal)?e.className:e.className.baseVal}function ao(e,t){var n=t||new Pe(0,0);return e.style[Fn]=_e.any3d?"translate3d("+n.x+"px,"+n.y+"px,0px)":"translate("+n.x+"px,"+n.y+"px)",this}function so(e){return/<[a-z\][\s\S]*>/i.test(e)}function lo(e,t){var n=co(e);R(t)?n.innerHTML=t:n.appendChild(t);var o=new cn(n.clientWidth,n.clientHeight);return Wn(n),o}function co(e){var t=document.createElement(e);return t.style.cssText="position:absolute;left:-10000px;top:-10000px;",document.body.appendChild(t),t}var uo,ho=Zn,mo=$n,po="function"===typeof Map,fo=function(){},go=function(){function e(e,t){this.max=e,this.onRemove=t||fo,this.reset()}var t=e.prototype;return t.reset=function(){for(var e in this.data)this.onRemove(this.data[e]);return this.data={},this.order=[],this},t.clear=function(){this.reset(),delete this.onRemove},t.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.getAndRemove(this.order[0]);n&&this.onRemove(n)}return this},t.has=function(e){return e in this.data},t.keys=function(){return this.order},t.getAndRemove=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},t.get=function(e){if(!this.has(e))return null;var t=this.data[e];return t},t.remove=function(e){if(!this.has(e))return this;var t=this.data[e];return delete this.data[e],this.onRemove(t),this.order.splice(this.order.indexOf(e),1),this},t.setMaxSize=function(e){this.max=e;while(this.order.length>this.max){var t=this.getAndRemove(this.order[0]);t&&this.onRemove(t)}return this},e}();po&&(uo=function(){function e(e,t){this.max=e,this.onRemove=t||fo,this.reset()}var t=e.prototype;return t.reset=function(){if(this.data){var e=this.data.values(),t=e,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(o>=t.length)break;r=t[o++]}else{if(o=t.next(),o.done)break;r=o.value}var i=r;this.onRemove(i)}}return this.data=new Map,this},t.clear=function(){this.reset(),delete this.onRemove},t.add=function(e,t){return t?(this.has(e)?(this.data.delete(e),this.data.set(e,t)):this.data.set(e,t),this):this},t.keys=function(){var e=new Array(this.data.size),t=0,n=this.data.keys(),o=n,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var a;if(r){if(i>=o.length)break;a=o[i++]}else{if(i=o.next(),i.done)break;a=i.value}var s=a;e[t++]=s}return e},t.shrink=function(){var e=this.data.keys(),t=e.next();while(this.data.size>this.max){var n=this.getAndRemove(t.value);n&&this.onRemove(n),t=e.next()}},t.has=function(e){return this.data.has(e)},t.getAndRemove=function(e){if(!this.has(e))return null;var t=this.data.get(e);return this.data.delete(e),t},t.get=function(e){if(!this.has(e))return null;var t=this.data.get(e);return t},t.remove=function(e){if(!this.has(e))return this;var t=this.data.get(e);return this.data.delete(e),this.onRemove(t),this},t.setMaxSize=function(e){return this.max=e,this.data.size>this.max&&this.shrink(),this},e}());var vo=po?uo:go,yo={jsonp:function(e,t){var n="_maptalks_jsonp_"+Le();e.match(/\?/)?e+="&callback="+n:e+="?callback="+n;var o=document.createElement("script");return o.type="text/javascript",o.src=e,window[n]=function(e){t(null,e),document.getElementsByTagName("head")[0].removeChild(o),o=null,delete window[n]},document.getElementsByTagName("head")[0].appendChild(o),this},get:function(e,t,n){if(P(t)){var o=n;n=t,t=o}if(F&&yo.get.node)return yo.get.node(e,n,t);var r=yo._getClient(n);if(r.open("GET",e,!0),t){for(var i in t.headers)r.setRequestHeader(i,t.headers[i]);r.withCredentials="include"===t.credentials,t["responseType"]&&(r.responseType=t["responseType"])}return r.send(null),r},post:function(e,t,n){var o;if(R(e)){if(P(t)){var r=n;n=t,t=r}t=t||{},o=t.postData}else{var i=n;o=t,t=e,e=t.url,n=i}if(F&&yo.post.node)return t.url=e,yo.post.node(t,o,n);var a=yo._getClient(n);if(a.open("POST",t.url,!0),t.headers||(t.headers={}),t.headers["Content-Type"]||(t.headers["Content-Type"]="application/x-www-form-urlencoded"),"setRequestHeader"in a)for(var s in t.headers)t.headers.hasOwnProperty(s)&&a.setRequestHeader(s,t.headers[s]);return R(o)||(o=JSON.stringify(o)),a.send(o),a},_wrapCallback:function(e,t){return function(){if(4===e.readyState)if(200===e.status)if("arraybuffer"===e.responseType){var n=e.response;0===n.byteLength?t(new Error("http status 200 returned without content.")):t(null,{data:e.response,cacheControl:e.getResponseHeader("Cache-Control"),expires:e.getResponseHeader("Expires"),contentType:e.getResponseHeader("Content-Type")})}else t(null,e.responseText);else t(new Error(e.statusText+","+e.status))}},_getClient:function(e){var t;try{t=new XMLHttpRequest}catch($d){try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch($d){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch($d){}}}return t.onreadystatechange=yo._wrapCallback(t,e),t},getArrayBuffer:function(e,t,n){if(P(t)){var o=n;n=t,t=o}return t||(t={}),t["responseType"]="arraybuffer",yo.get(e,t,n)},getImage:function(e,t,n){return yo.getArrayBuffer(t,n,(function(t,n){if(t)e.onerror&&e.onerror(t);else if(n){var o=window.URL||window.webkitURL,r=e.onload;e.onload=function(){r&&r(),o.revokeObjectURL(e.src)};var i=new Blob([new Uint8Array(n.data)],{type:n.contentType});e.cacheControl=n.cacheControl,e.expires=n.expires,e.src=n.data.byteLength?o.createObjectURL(i):ot}}))},getJSON:function(e,t,n){if(P(t)){var o=n;n=t,t=o}var r=function(e,t){var o=t?He(t):null;n(e,o)};return t&&t["jsonp"]?yo.jsonp(e,r):yo.get(e,t,r)}},bo="#000",wo="rgba(255,255,255,0)",_o="#000",xo=!1,Co=null,So=Math.PI/180,ko=1,Eo={getCanvas2DContext:function(e){return e.getContext("2d",{willReadFrequently:!0})},setHitTesting:function(e){xo=e},createCanvas:function(e,t,n){var o;return F?o=new n(e,t):(o=Vn("canvas"),o.width=e,o.height=t),o},prepareCanvasFont:function(e,t){e.textBaseline="top",e.font=Cn(t);var n=t["textFill"];n||(n=_o),e.fillStyle=Eo.getRgba(n,t["textOpacity"])},prepareCanvas:function(e,t,n,o){if(t){var r=t["lineWidth"];M(r)||e.lineWidth===r||(e.lineWidth=r);var i=t["linePatternFile"],a=t["lineColor"]||bo;if(o)e.strokeStyle="#000";else if(i&&n){var s;(t["linePatternDx"]||t["linePatternDy"])&&(s=[t["linePatternDx"],t["linePatternDy"]]),Eo._setStrokePattern(e,i,r,s,n),t["lineDasharray"]=[]}else En(a)?t["lineGradientExtent"]?e.strokeStyle=Eo._createGradient(e,a,t["lineGradientExtent"]):e.strokeStyle=bo:(Array.isArray(a)&&(a=Eo.normalizeColorToRGBA(a)),e.strokeStyle=a);t["lineJoin"]&&(e.lineJoin=t["lineJoin"]),t["lineCap"]&&(e.lineCap=t["lineCap"]),e.setLineDash&&Ge(t["lineDasharray"])&&e.setLineDash(t["lineDasharray"]);var l=t["polygonPatternFile"],c=t["polygonFill"]||wo;if(o)e.fillStyle="#000";else if(l&&n){var u=Do(l),d=n.getImage([u,null,null]);if(d||(d=n.getImage([u+"-texture",null,r])),Ie(u)&&d instanceof Image&&(_e.edge||_e.ie)){var h=d.width||20,m=d.height||20,p=Eo.createCanvas(h,m);Eo.image(p.getContext("2d"),d,0,0,h,m),d=p}d?(e.fillStyle=e.createPattern(d,"repeat"),(t["polygonPatternDx"]||t["polygonPatternDy"])&&(e.fillStyle["polygonPatternOffset"]=[t["polygonPatternDx"],t["polygonPatternDy"]])):"undefined"!==typeof console&&console.warn("img not found for",u)}else En(c)?t["polygonGradientExtent"]?e.fillStyle=Eo._createGradient(e,c,t["polygonGradientExtent"]):e.fillStyle="rgba(255,255,255,0)":(Array.isArray(c)&&(c=Eo.normalizeColorToRGBA(c)),e.fillStyle=c)}},_createGradient:function(e,t,n){var o=null,r=t["places"],i=n.getMin(),a=n.getMax(),s=n.getWidth(),l=n.getHeight();if(t["type"]&&"linear"!==t["type"]){if("radial"===t["type"]){if(r){if(6!==r.length)throw new Error("A radial gradient's places should have 6 numbers.");r=[i.x+r[0]*s,i.y+r[1]*l,s*r[2],i.x+r[3]*s,i.y+r[4]*l,s*r[5]]}else{var c=n.getCenter()._round();r=[c.x,c.y,Math.abs(c.x-i.x),c.x,c.y,0]}o=e.createRadialGradient.apply(e,r)}}else{if(r){if(4!==r.length)throw new Error("A linear gradient's places should have 4 numbers.");r=[i.x+r[0]*s,i.y+r[1]*l,i.x+r[2]*s,i.y+r[3]*l]}else r=[i.x,i.y,a.x,i.y];o=e.createLinearGradient.apply(e,r)}return t["colorStops"].forEach((function(e){o.addColorStop.apply(o,e)})),o},_setStrokePattern:function(e,t,n,o,r){var i,a=Do(t);if(F)i=r.getImage([a,null,n]);else{var s=a+"-texture-"+n;if(i=r.getImage(s),!i){var l=r.getImage([a,null,null]);if(l){var c;c=l.width&&l.height?Math.round(l.width*n/l.height):n;var u=Eo.createCanvas(c,n,e.canvas.constructor);Eo.image(u.getContext("2d"),l,0,0,c,n),r.addResource([s,null,n],u),i=u}}}i?(e.strokeStyle=e.createPattern(i,"repeat"),e.strokeStyle["linePatternOffset"]=o):"undefined"!==typeof console&&console.warn("img not found for",a)},clearRect:function(e,t,n,o,r){e.canvas._drawn=!1,e.clearRect(t,n,o,r)},fillCanvas:function(e,t,n,o){if(xo&&(t=1),e.canvas._drawn=!0,0!==t){var r,i=Eo._isPattern(e.fillStyle),a=e.fillStyle&&e.fillStyle["polygonPatternOffset"],s=a?a[0]:0,l=a?a[1]:0;M(t)&&(t=1),t<1&&(r=e.globalAlpha,e.globalAlpha*=t),i&&(n=n||0,o=o||0,e.translate(n+s,o+l)),e.fill(),i&&e.translate(-n-s,-o-l),t<1&&(e.globalAlpha=r)}},getRgba:function(e,t){return M(t)&&(t=1),"#"!==e[0]?(Array.isArray(e)&&(e=Eo.normalizeColorToRGBA(e,t)),e):(7===e.length?(n=parseInt(e.substring(1,3),16),o=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16)):(n=17*parseInt(e.substring(1,2),16),o=17*parseInt(e.substring(2,3),16),r=17*parseInt(e.substring(3,4),16)),"rgba("+n+","+o+","+r+","+t+")");var n,o,r},normalizeColorToRGBA:function(e,t){return void 0===t&&(t=1),"rgba("+255*e[0]+","+255*e[1]+","+255*e[2]+","+(4===e.length?e[3]:1)*t+")"},image:function(e,t,n,o,r,i){e.canvas._drawn=!0;try{O(r)&&O(i)?e.drawImage(t,n,o,r,i):e.drawImage(t,n,o)}catch(a){console&&(console.warn("error when drawing image on canvas:",a),console.warn(t))}},text:function(e,t,n,o,r){Eo._textOnMultiRow(e,r["rows"],o,n,r["size"],r["rawSize"])},_textOnMultiRow:function(e,t,n,o,r,i){for(var a,s,l=_n(r,n["textHorizontalAlignment"],n["textVerticalAlignment"]),c=i["height"]+n["textLineSpacing"],u=o.add(0,l.y),d=n["textMaxHeight"],h=0,m=0,p=t.length;m<p;m++)if(a=t[m]["text"],s=_n(t[m]["size"],n["textHorizontalAlignment"],n["textVerticalAlignment"]),Eo._textOnLine(e,a,u.add(s.x,m*c),n["textHaloRadius"],n["textHaloFill"],n["textHaloOpacity"]),d>0&&(h+=c,h+i["height"]>=d))break},_textOnLine:function(e,t,n,o,r,i){xo&&(i=1);var a,s,l=0!==i&&0!==o;e.textBaseline="top";var c=e.shadowBlur,u=e.shadowOffsetX,d=e.shadowOffsetY;if(l){var h=e.globalAlpha;e.globalAlpha*=i,e.miterLimit=2,e.lineJoin="round",e.lineCap="round",e.lineWidth=2*o,Array.isArray(r)&&(r=Eo.normalizeColorToRGBA(r)),e.strokeStyle=r,e.strokeText(t,n.x,n.y+ko),e.miterLimit=10,e.globalAlpha=h,a=e.globalCompositeOperation,e.globalCompositeOperation="destination-out",s=e.fillStyle,e.fillStyle="#000"}c&&l&&(e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0),Eo.fillText(e,t,n),a&&(e.globalCompositeOperation=a,Eo.fillText(e,t,n,s),c&&(e.shadowBlur=c,e.shadowOffsetX=u,e.shadowOffsetY=d))},fillText:function(e,t,n,o){e.canvas._drawn=!0,o&&(e.fillStyle=o),e.fillText(t,n.x,n.y+ko)},_stroke:function(e,t,n,o){if(xo&&(t=1),e.canvas._drawn=!0,0!==t){var r,i=e.strokeStyle&&e.strokeStyle["linePatternOffset"],a=i?i[0]:0,s=i?i[1]:0,l=Eo._isPattern(e.strokeStyle)&&(!M(n)&&!M(o)||!M(a)&&!M(s));M(t)&&(t=1),t<1&&(r=e.globalAlpha,e.globalAlpha*=t),l&&(n=n||0,o=o||0,e.translate(n+a,o+s)),e.stroke(),l&&e.translate(-n-a,-o-s),t<1&&(e.globalAlpha=r)}},_path:function(e,t,n,o,r){if(Ge(t))for(var i,a,s,l=Ge(n),c=!0!==r&&Eo._isPattern(e.strokeStyle),u=0,d=t.length;u<d;u++)if(i=t[u],!l||e.setLineDash)e.lineTo(i.x,i.y),c&&u>0&&(a=t[u-1],h(a,i),e.beginPath(),e.moveTo(i.x,i.y));else if(l){if(u===d-1)break;s=t[u+1],To(e,i,s,n,c)}function h(t,n){var r=nt(t.x,t.y,n.x,n.y);e.save();var i=Math.cos(r);Math.abs(i)<1e-7?e.translate(t.x-e.lineWidth/2,t.y):e.translate(t.x,t.y-e.lineWidth/2/i),e.rotate(r),Eo._stroke(e,o),e.restore()}},path:function(e,t,n,o,r){Ge(t)&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),Eo._path(e,t,r,n),Eo._stroke(e,n))},_multiClip:function(e,t){if(t&&0!==t.length){t=t[0];for(var n=0,o=t.length;n<o;n++){var r=t[n],i=r.x,a=r.y;0===n?e.moveTo(i,a):e.lineTo(i,a),n===o-1&&(i=t[0].x,a=t[0].y,e.lineTo(i,a))}}},polygon:function(e,t,n,o,r,i){if(e.isMultiClip)Eo._multiClip(e,t);else if(e.isClip)Eo._multiClip(e,Array.isArray(t[0])?t:[t]);else if(Ge(t)){var a=Eo._isPattern(e.strokeStyle),s=Ge(r)&&!e.setLineDash||a&&!i;Ge(t[0])||(t=[t]);var l,c,u,d=e;if(t.length>1&&!F&&(Co||(Co=Eo.createCanvas(1,1)),e.canvas._drawn=!1,Co.width=e.canvas.width,Co.height=e.canvas.height,e=Co.getContext("2d"),Ao(e,d)),s){for(e.save(),c=0,u=t.length;c<u;c++)Ge(t[c])&&(Eo._ring(e,t[c],null,0,!0),l=o,c>0&&(e.globalCompositeOperation="destination-out",l=1),Eo.fillCanvas(e,l,t[c][0].x,t[c][0].y),c>0?e.globalCompositeOperation="source-over":u>1&&(e.fillStyle="#fff"),Eo._stroke(e,0));e.restore()}var h=e.fillStyle;for(c=0,u=t.length;c<u;c++)Ge(t[c])&&(i?(Eo.paintSmoothLine(e,t[c],n,i,!0),e.closePath()):Eo._ring(e,t[c],r,n),s||(l=o,c>0&&(e.globalCompositeOperation="destination-out",l=1),Eo.fillCanvas(e,l,t[c][0].x,t[c][0].y),c>0?e.globalCompositeOperation="source-over":u>1&&(e.fillStyle="#fff")),Eo._stroke(e,n));e.fillStyle!==h&&(e.fillStyle=h),t.length>1&&!F&&(d.drawImage(Co,0,0),d.canvas._drawn=e.canvas._drawn,Ao(d,e))}},_ring:function(e,t,n,o,r){var i=Eo._isPattern(e.strokeStyle);r||!i||t[0].equals(t[t.length-1])||(t=t.concat([t[0]])),e.beginPath(),e.moveTo(t[0].x,t[0].y),Eo._path(e,t,n,o,r),i||e.closePath()},paintSmoothLine:function(e,t,n,o,r,i,a){if(t)if(t.length<=2||!o)Eo.path(e,t,n);else{var s,l=t.length,c=r?l:l-1;e.beginPath(),e.moveTo(t[0].x,t[0].y),void 0!==a&&(c-=Math.max(c-i-1,0));for(var u=0;u<c;u++){var d=t[u].x,h=t[u].y,m=void 0,p=void 0,f=void 0,g=void 0,v=void 0,y=void 0;u-1<0?r?(m=t[c-1].x,p=t[c-1].y):(m=t[u+1].x,p=t[u+1].y):(m=t[u-1].x,p=t[u-1].y),u+1<l?(f=t[u+1].x,g=t[u+1].y):(f=t[u+1-l].x,g=t[u+1-l].y),u+2<l?(v=t[u+2].x,y=t[u+2].y):r?(v=t[u+2-l].x,y=t[u+2-l].y):(v=t[u].x,y=t[u].y);var b=x(m,p,d,h,f,g,v,y,o,u===c-1?a:1);if(u===c-1&&a>=0&&a<1){e.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]),t.splice(c-1,l-(c-1)-1);var w=new Pe(b[4],b[5]);w.prevCtrlPoint=new Pe(b[2],b[3]),t.push(w),l=t.length}else e.bezierCurveTo(b[0],b[1],b[2],b[3],f,g);t[u].nextCtrlPoint=b.slice(0,2),t[u].prevCtrlPoint=s?s.slice(2):null,s=b}!r&&t[1].prevCtrlPoint&&(t[0].nextCtrlPoint=t[1].prevCtrlPoint,delete t[0].prevCtrlPoint),t[l-1].prevCtrlPoint||(t[l-1].prevCtrlPoint=t[l-2].nextCtrlPoint),Eo._stroke(e,n)}function _(e,t,n,o,r,i,a,s,l,c){var u=1-e,d=1-t,h=n*u*u+2*r*e*u+a*e*e,m=n*d*d+2*r*t*d+a*t*t,p=r*u*u+2*a*e*u+l*e*e,f=r*d*d+2*a*t*d+l*t*t,g=o*u*u+2*i*e*u+s*e*e,v=o*d*d+2*i*t*d+s*t*t,y=i*u*u+2*s*e*u+c*e*e,b=i*d*d+2*s*t*d+c*t*t,w=h*d+p*t,_=m*u+f*e,x=m*d+f*t,C=g*d+y*t,S=v*u+b*e,k=v*d+b*t;return[w,C,_,S,x,k]}function x(e,t,n,o,r,i,a,s,l,c){var u=(e+n)/2,d=(t+o)/2,h=(n+r)/2,m=(o+i)/2,p=(r+a)/2,f=(i+s)/2,g=Math.sqrt((n-e)*(n-e)+(o-t)*(o-t)),v=Math.sqrt((r-n)*(r-n)+(i-o)*(i-o)),y=Math.sqrt((a-r)*(a-r)+(s-i)*(s-i)),b=g/(g+v),w=v/(v+y),x=u+(h-u)*b,C=d+(m-d)*b,S=h+(p-h)*w,k=m+(f-m)*w,E=x+(h-x)*l+n-x,T=C+(m-C)*l+o-C,M=S+(h-S)*l+r-S,O=k+(m-k)*l+i-k,D=[E,T,M,O];return c<1?_(0,c,n,o,E,T,M,O,r,i):D}},_arcBetween:function(e,t,n,o){var r=o,i=t.distanceTo(n),a=i/2/Math.sin(r/2),s=Math.asin((n.y-t.y)/i);t.x>n.x&&(s=Math.PI-s);var l=90*So-r/2,c=s-l,u=Math.cos(c)*a,d=Math.sin(c)*a,h=t.x+u,m=t.y+d,p=Math.asin((n.y-m)/a);h>n.x&&(p=Math.PI-p);var f=p+r;return e.beginPath(),e.arc(h,m,a,p,f),[h,m]},_lineTo:function(e,t){e.lineTo(t.x,t.y)},bezierCurveAndFill:function(e,t,n,o){e.beginPath();var r=t[0];e.moveTo(r.x,r.y);var i=[e];i.push.apply(i,t.splice(1)),Eo._bezierCurveTo.apply(Eo,i),Eo.fillCanvas(e,o),Eo._stroke(e,n)},_bezierCurveTo:function(e,t,n,o){e.bezierCurveTo(t.x,t.y,n.x,n.y,o.x,o.y)},ellipse:function(e,t,n,o,r,i,a){function s(t,n,o,r,i){var a=.5522848,s=o*a,l=r*a,c=i*a;e.moveTo(t-o,n),e.bezierCurveTo(t-o,n-l,t-s,n-r,t,n-r),e.bezierCurveTo(t+s,n-r,t+o,n-l,t+o,n),e.bezierCurveTo(t+o,n+c,t+s,n+i,t,n+i),e.bezierCurveTo(t-s,n+i,t-o,n+c,t-o,n),e.closePath()}e.beginPath(),n===o&&n===r?e.arc(t.x,t.y,n,0,2*Math.PI):e.ellipse?o!==r?(e.ellipse(t.x,t.y,n,o,0,180*So,360*So,!1),e.ellipse(t.x,t.y,n,r,0,0,180*So,!1)):e.ellipse(t.x,t.y,n,o,0,0,360*So,!1):s(t.x,t.y,n,o,r),Eo.fillCanvas(e,a,t.x-n,t.y-o),Eo._stroke(e,i,t.x-n,t.y-o)},rectangle:function(e,t,n,o,r){var i=t.x,a=t.y;e.beginPath(),e.rect(i,a,n["width"],n["height"]),Eo.fillCanvas(e,r,i,a),Eo._stroke(e,o,i,a)},sector:function(e,t,n,o,r,i){var a=So,s=o[0],l=o[1];function c(e,t,n,o,s,l){var c=a*-l,u=a*-s;e.beginPath(),e.moveTo(t,n),e.arc(t,n,o,c,u),e.lineTo(t,n),Eo.fillCanvas(e,i,t-o,n-o),Eo._stroke(e,r,t-o,n-o)}c(e,t.x,t.y,n,s,l)},_isPattern:function(e){return!R(e)&&!("addColorStop"in e)},drawCross:function(e,t,n,o,r){e.canvas._drawn=!0,e.strokeStyle=r,e.lineWidth=o,e.beginPath(),e.moveTo(t-5,n),e.lineTo(t+5,n),e.moveTo(t,n-5),e.lineTo(t,n+5),e.stroke()},copy:function(e,t){var n=t||Vn("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0),n},pixelRect:function(e,t,n,o){var r=e.lineWidth,i=e.globalAlpha,a=!1;if(r>0&&n>0)a=!0,n<1&&(e.globalAlpha*=n);else{if(!(o>0))return;o<1&&(e.globalAlpha*=o)}e.canvas._drawn=!0,a?e.strokeRect(t[0],t[1],1,1):e.fillRect(t[0],t[1],1,1),e.globalAlpha!==i&&(e.globalAlpha=i)}};function To(e,t,n,o){var r=t.x,i=t.y,a=n.x,s=n.y,l=o,c=function(e,t){return e<=t},u=function(e,t){return e>=t},d=function(e,t){return Math.min(e,t)},h=function(e,t){return Math.max(e,t)},m={thereYet:u,cap:d},p={thereYet:u,cap:d};i-s>0&&(p.thereYet=c,p.cap=h),r-a>0&&(m.thereYet=c,m.cap=h),e.moveTo(r,i);var f,g,v=r,y=i,b=0,w=!0;while(!m.thereYet(v,a)||!p.thereYet(y,s))f=Math.atan2(s-i,a-r),g=l[b],v=m.cap(a,v+Math.cos(f)*g),y=p.cap(s,y+Math.sin(f)*g),w?e.lineTo(v,y):e.moveTo(v,y),b=(b+1)%l.length,w=!w}var Mo,Oo="data:image/";function Do(e){return e.substring(0,Oo.length)===Oo?e:Xe(e)}function Ao(e,t){e.filter=t.filter,e.fillStyle=t.fillStyle,e.globalAlpha=t.globalAlpha,e.lineCap=t.lineCap,e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle}Mo="undefined"!==typeof Promise?Promise:r();var Ro=Mo,Po=function(e){return function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.on=function(e,t,n){if(!e)return this;if(!R(e))return this._switch("on",e,t);if(!t)return this;this._eventMap||(this._eventMap={});var o,r,i=e.toLowerCase().split(" ");n||(n=this);for(var a=0,s=i.length;a<s;a++){o=i[a],r=this._eventMap[o],r||(r=[],this._eventMap[o]=r);var l=r.length;if(l>0)for(var c=0;c<l;c++)if(t===r[c].handler&&r[c].context===n)return console.warn(this,"find '"+e+"' handler:",t," The old listener function will be removed"),this;r.push({handler:t,context:n})}return this},n.addEventListener=function(){return this.on.apply(this,arguments)},n.once=function(e,t,n){if(!R(e)){var o={};for(var r in e)e.hasOwnProperty(r)&&(o[r]=this._wrapOnceHandler(r,e[r],n));return this._switch("on",o)}for(var i=e.split(" "),a=0,s=i.length;a<s;a++)this.on(i[a],this._wrapOnceHandler(i[a],t,n));return this},n.off=function(e,t,n){if(!this._eventMap||!e)return this;if(!R(e))return this._switch("off",e,t);if(!t)return this;var o,r,i,a=e.split(" ");n||(n=this);for(var s=0,l=a.length;s<l;s++){if(o=a[s].toLowerCase(),i="Z__"+o,r=this._eventMap[o],!r)return this;for(var c=r.length-1;c>=0;c--){var u=r[c];t!==u.handler&&t!==u.handler[i]||u.context!==n||(delete u.handler[i],r.splice(c,1))}r.length||delete this._eventMap[o]}return this},n.removeEventListener=function(){return this.off.apply(this,arguments)},n.listens=function(e,t,n){if(!this._eventMap||!R(e))return 0;var o=this._eventMap[e.toLowerCase()];if(!o||!o.length)return 0;if(!t)return o.length;for(var r=0,i=o.length;r<i;r++)if(t===o[r].handler&&(M(n)||o[r].context===n))return 1;return 0},n.getListeningEvents=function(){return this._eventMap?Object.keys(this._eventMap):[]},n.copyEventListeners=function(e){var t,n=e._eventMap;if(!n)return this;for(var o in n){t=n[o];for(var r=0,i=t.length;r<i;r++)this.on(o,t[r].handler,t[r].context)}return this},n.fire=function(){return this._eventParent?this._eventParent.fire.apply(this._eventParent,arguments):this._fire.apply(this,arguments)},n._wrapOnceHandler=function(e,t,n){var o=this,r="Z__"+e,i=!1,a=function s(){i||(delete a[r],i=!0,n?t.apply(n,arguments):t.apply(this,arguments),o.off(e,s,this))};return a[r]=t,a},n._switch=function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&this[e](o,t[o],n);return this},n._clearListeners=function(e){if(this._eventMap&&R(e)){var t=this._eventMap[e.toLowerCase()];t&&(this._eventMap[e]=null)}},n._clearAllListeners=function(){this._eventMap=null},n._setEventParent=function(e){return this._eventParent=e,this},n._setEventTarget=function(e){return this._eventTarget=e,this},n._fire=function(e,t){if(!this._eventMap)return this;var n=this._eventMap[e.toLowerCase()];if(!n)return this;t||(t={}),t["type"]=e,t["target"]=this._eventTarget||this;for(var o,r,i,a=n.slice(0),s=0,l=a.length;s<l;s++)a[s]&&(o=a[s].context,r=!0,i=T({},t),r=o?a[s].handler.call(o,i):a[s].handler(i),!1===r&&t["domEvent"]&&Kn(t["domEvent"]));return this},t}(e)},Io=function(){function e(e){this.target=e}var t=e.prototype;return t.enable=function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},t.disable=function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},t.enabled=function(){return!!this._enabled},t.remove=function(){this.disable(),delete this.target,delete this.dom},e}(),zo=Po(Io),No=function(){function e(e){if(!this||!this.setOptions)throw new Error('Class instance is being created without "new" operator.');this.setOptions(e),this.callInitHooks(),this._isUpdatingOptions=!1}var t=e.prototype;return t.proxyOptions=function(){var e=this;return _e.proxy?(this.options.isExtensible||(this.options=new Proxy(this.options,{set:function(t,n,o){if(t[n]===o)return!0;if(t[n]=o,e._isUpdatingOptions)return!0;var r={};return r[n]=o,e.config(r),!0}})),this):this},t.callInitHooks=function(){var e=Object.getPrototypeOf(this);return this._visitInitHooks(e),this},t.setOptions=function(e){if(this.hasOwnProperty("options")||(this.options=this.options?Object.create(this.options):{}),!e)return this;for(var t in e)this.options[t]=e[t];return this},t.config=function(e){if(this._isUpdatingOptions=!0,!e){var t={};for(var n in this.options)this.options.hasOwnProperty(n)&&(t[n]=this.options[n]);return this._isUpdatingOptions=!1,t}if(2===arguments.length){var o={};o[e]=arguments[1],e=o}for(var r in e)this.options[r]=e[r],this[r]&&this[r]instanceof zo&&(e[r]?this[r].enable():this[r].disable());return this.onConfig(e),this._isUpdatingOptions=!1,this},t.onConfig=function(){},t._visitInitHooks=function(e){if(!this._initHooksCalled){var t=Object.getPrototypeOf(e);t._visitInitHooks&&t._visitInitHooks.call(this,t),this._initHooksCalled=!0;var n=e._initHooks;if(n&&n!==t._initHooks)for(var o=0;o<n.length;o++)n[o].call(this)}},e.addInitHook=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r="function"===typeof e?e:function(){this[e].apply(this,n)},i=this.prototype,a=Object.getPrototypeOf(i);return i._initHooks&&i._initHooks!==a._initHooks||(i._initHooks=[]),i._initHooks.push(r),this},e.include=function(){for(var e=0;e<arguments.length;e++)T(this.prototype,e<0||arguments.length<=e?void 0:arguments[e]);return this},e.mergeOptions=function(e){var t=this.prototype,n=Object.getPrototypeOf(t);return t.options&&t.options!==n.options||(t.options=t.options?Object.create(t.options):{}),T(t.options,e),this},e}(),Lo={},Ho=function(e){return function(e){function t(){return e.apply(this,arguments)||this}ke(t,e),t.registerJSONType=function(e){return e?(Lo[e]=this,this):this},t.getJSONClass=function(e){return e?Lo[e]:null};var n=t.prototype;return n.getJSONType=function(){if(void 0===this._jsonType){var e=Object.getPrototypeOf(this).constructor;for(var t in Lo)if(Lo[t]===e){this._jsonType=t;break}}if(!this._jsonType)throw new Error("Found an unregistered geometry class!");return this._jsonType},t}(e)},Fo={},Bo=function(){function e(){this._tree=a()(9,["[0]","[1]","[2]","[3]"])}var t=e.prototype;return t.collides=function(e){return Fo.minX=e[0],Fo.minY=e[1],Fo.maxX=e[2],Fo.maxY=e[3],this._tree.collides(Fo)},t.insertBox=function(e){var t=this._tree;return t.insert(e),this},t.bulkInsertBox=function(e){return this._tree.load(e),this},t.clear=function(){return this._tree.clear(),this},e}();function Uo(e){return function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHandler=function(e,t){if(!t)return this;if(this._handlers||(this._handlers=[]),this[e])return this[e].enable(),this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},n.removeHandler=function(e){if(!e)return this;var t=this[e];if(t){var n=this._handlers.indexOf(t);n>=0&&this._handlers.splice(n,1),this[e].remove(),delete this[e]}return this},n._clearHandlers=function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].remove();this._handlers=[]},t}(e)}var Vo="touchstart mousedown",jo={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Wo={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Zo=function(e){function t(t,n){var o;return void 0===n&&(n={}),o=e.call(this,null)||this,o.dom=t,o.options=n,o}ke(t,e);var n=t.prototype;return n.enable=function(){return this.dom?(this._onMouseDown=function(e){return this.onMouseDown(e)},ho(this.dom,Vo,this._onMouseDown,this),this):this},n.disable=function(){return this.dom?(this._offEvents(),mo(this.dom,Vo,this._onMouseDown),delete this._onMouseDown,this):this},n.onMouseDown=function(e){if((this.options["rightclick"]||2!==e.button)&&!(e.touches&&e.touches.length>1)&&(!this.options["cancelOn"]||!0!==this.options["cancelOn"](e))){var t=this.dom;t.setCapture?t.setCapture():window.captureEvents&&window.captureEvents(window["Event"].MOUSEMOVE|window["Event"].MOUSEUP),t["ondragstart"]=function(){return!1},delete this.moved;var n=e.touches?e.touches[0]:e;this.startPos=new Pe(n.clientX,n.clientY),mo(document,jo[e.type],this.onMouseMove,this),mo(document,Wo[e.type],this.onMouseUp,this),ho(document,jo[e.type],this.onMouseMove,this),ho(document,Wo[e.type],this.onMouseUp,this),this.options["ignoreMouseleave"]||(mo(this.dom,"mouseleave",this.onMouseUp,this),ho(this.dom,"mouseleave",this.onMouseUp,this)),this.fire("mousedown",{domEvent:e,mousePos:new Pe(n.clientX,n.clientY)})}},n.onMouseMove=function(e){if(e.touches&&e.touches.length>1)this.moved&&(this.interupted=!0,this.onMouseUp(e));else{var t=e.touches?e.touches[0]:e,n=new Pe(t.clientX,t.clientY),o=n.sub(this.startPos);(o.x||o.y)&&(this.moved?this.fire("dragging",{domEvent:e,mousePos:new Pe(t.clientX,t.clientY)}):(this.fire("dragstart",{domEvent:e,mousePos:this.startPos.copy()}),this.moved=!0))}},n.onMouseUp=function(e){var t=e.changedTouches?e.changedTouches[0]:e;this._offEvents();var n={domEvent:e};O(t.clientX)&&(n["mousePos"]=new Pe(parseInt(t.clientX,0),parseInt(t.clientY,0))),this.moved&&(n.interupted=this.interupted,this.fire("dragend",n),delete this.interupted,delete this.moved),this.fire("mouseup",n)},n._offEvents=function(){var e=this.dom;if(mo(e,"mouseleave",this.onMouseUp,this),"undefined"!==typeof document&&"undefined"!==typeof window){for(var t in jo)mo(document,jo[t],this.onMouseMove,this),mo(document,Wo[t],this.onMouseUp,this);e["releaseCapture"]?e["releaseCapture"]():window.captureEvents&&window.captureEvents(window["Event"].MOUSEMOVE|window["Event"].MOUSEUP)}},t}(zo),$o=function(e){function t(){return e.apply(this,arguments)||this}return ke(t,e),t.toNumberArrays=function(e){return Array.isArray(e)?Ue(e,(function(e){return[e.x,e.y]})):[e.x,e.y]},t.toCoordinates=function(e){if(O(e[0])&&O(e[1]))return new t(e);if(e instanceof t)return e;for(var n=[],o=0,r=e.length;o<r;o++){var i=e[o];Array.isArray(i)?O(i[0])?n.push(new t(i)):n.push(t.toCoordinates(i)):i instanceof t?n.push(i):n.push(new t(i))}return n},t}(Re),qo=function(){function e(e,t){this.type=e,this.properties=t}return e.createProj4=function(t){return new e("proj4",{proj:t})},e.fromProjectionCode=function(t){return t?(t=t.toUpperCase().replace(":",""),e[t]||null):null},e}();qo.WGS84=qo.createProj4("+proj=longlat +datum=WGS84 +no_defs"),qo.EPSG4326=qo.WGS84,qo.EPSG3857=qo.createProj4("+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"),qo.IDENTITY=qo.createProj4("+proj=identity +no_defs"),qo.CGCS2000=qo.createProj4("+proj=longlat +datum=CGCS2000"),qo.EPSG4490=qo.CGCS2000,qo.BD09LL=qo.createProj4("+proj=longlat +datum=BD09"),qo.GCJ02=qo.createProj4("+proj=longlat +datum=GCJ02");var Go,Ko=new Pe(0,0),Yo=new $o(0,0),Jo=new $o(0,0),Xo=new $o(0,0),Qo=new $o(0,0),er=new $o(0,0),tr=new $o(0,0),nr=new $o(0,0),or=new $o(0,0),rr=[],ir=[],ar=function(){function e(e,t,n,o){this._clazz=$o;var r=arguments.length,i=r>0?arguments[r-1]:null;i&&i.unproject&&(this.projection=arguments[r-1]),this._dirty=!0,this._initialize(e,t,n,o)}var t=e.prototype;return t._initialize=function(e,t,n,o){if(this.xmin=null,this.xmax=null,this.ymin=null,this.ymax=null,!M(e)){var r=this.projection;O(e)&&O(t)&&O(n)&&O(o)?r?this.set(e,t,n,o):this.set(Math.min(e,n),Math.min(t,o),Math.max(e,n),Math.max(t,o)):Array.isArray(e)?r?this.set(e[0],e[1],e[2],e[3]):this.set(Math.min(e[0],e[2]),Math.min(e[1],e[3]),Math.max(e[0],e[2]),Math.max(e[1],e[3])):O(e.x)&&O(t.x)&&O(e.y)&&O(t.y)?r?this.set(e.x,e.y,t.x,t.y):(e.x>t.x?(this["xmin"]=t.x,this["xmax"]=e.x):(this["xmin"]=e.x,this["xmax"]=t.x),e.y>t.y?(this["ymin"]=t.y,this["ymax"]=e.y):(this["ymin"]=e.y,this["ymax"]=t.y)):O(e["xmin"])&&O(e["xmax"])&&O(e["ymin"])&&O(e["ymax"])&&this.set(e["xmin"],e["ymin"],e["xmax"],e["ymax"])}},t._add=function(e){return this._dirty=!0,M(e.x)?M(e.xmin)?M(e[0])||(this["xmin"]+=e[0],this["ymin"]+=e[1],this["xmax"]+=e[0],this["ymax"]+=e[1]):(this["xmin"]+=e.xmin,this["ymin"]+=e.ymin,this["xmax"]+=e.xmax,this["ymax"]+=e.ymax):(this["xmin"]+=e.x,this["ymin"]+=e.y,this["xmax"]+=e.x,this["ymax"]+=e.y),this},t.add=function(){var e=new this.constructor(this["xmin"],this["ymin"],this["xmax"],this["ymax"],this.projection);return e._add.apply(e,arguments)},t._scale=function(e){return this._dirty=!0,this["xmin"]*=e,this["ymin"]*=e,this["xmax"]*=e,this["ymax"]*=e,this},t._sub=function(e){return this._dirty=!0,M(e.x)?M(e.xmin)?M(e[0])||(this["xmin"]-=e[0],this["ymin"]-=e[1],this["xmax"]-=e[0],this["ymax"]-=e[1]):(this["xmin"]-=e.xmin,this["ymin"]-=e.ymin,this["xmax"]-=e.xmax,this["ymax"]-=e.ymax):(this["xmin"]-=e.x,this["ymin"]-=e.y,this["xmax"]-=e.x,this["ymax"]-=e.y),this},t._substract=function(){return this._sub.apply(this,arguments)},t.sub=function(){var e=new this.constructor(this["xmin"],this["ymin"],this["xmax"],this["ymax"],this.projection);return e._sub.apply(e,arguments)},t.substract=function(){return this.sub.apply(this,arguments)},t.round=function(){return new this.constructor(Math.round(this["xmin"]),Math.round(this["ymin"]),Math.round(this["xmax"]),Math.round(this["ymax"]),this.projection)},t._round=function(){return this._dirty=!0,this["xmin"]=Math.round(this["xmin"]),this["ymin"]=Math.round(this["ymin"]),this["xmax"]=Math.round(this["xmax"]),this["ymax"]=Math.round(this["ymax"]),this},t.getMin=function(e){return e?(e.set(this["xmin"],this["ymin"]),e):new this._clazz(this["xmin"],this["ymin"])},t.getMax=function(e){return e?(e.set(this["xmax"],this["ymax"]),e):new this._clazz(this["xmax"],this["ymax"])},t.getCenter=function(e){var t=(this["xmin"]+this["xmax"])/2,n=(this["ymin"]+this["ymax"])/2;return e?(e.set(t,n),e):new this._clazz(t,n)},t.isValid=function(){return!M(this["xmin"])&&!M(this["ymin"])&&!M(this["xmax"])&&!M(this["ymax"])},t.equals=function(e){return this["xmin"]===e["xmin"]&&this["xmax"]===e["xmax"]&&this["ymin"]===e["ymin"]&&this["ymax"]===e["ymax"]},t.intersects=function(e){this._project(this),this._project(e);var t=Math.max(this["pxmin"],e["pxmin"]),n=Math.max(this["pymin"],e["pymin"]),o=Math.min(this["pxmax"],e["pxmax"]),r=Math.min(this["pymax"],e["pymax"]),i=!(t>o||n>r);return i},t.within=function(e){return this._project(this),this._project(e),this.pxmin>=e.pxmin&&this.pxmax<=e.pxmax&&this.pymin>=e.pymin&&this.pymax<=e.pymax},t.contains=function(e){if(!e)return!1;this._project(this);var t=this.projection;if(t)if(void 0!==e.x){var n=Yo;Array.isArray(e)?(n.x=e[0],n.y=e[1]):(n.x=e.x,n.y=e.y),e=t.project(n,n)}else void 0!==e.xmin&&this._project(e);return(e.x||e.pxmin||0)>=this.pxmin&&(e.x||e.pxmax||0)<=this.pxmax&&(e.y||e.pymin||0)>=this.pymin&&(e.y||e.pymax||0)<=this.pymax},t.getWidth=function(){return Math.abs(this["xmax"]-this["xmin"])},t.getHeight=function(){return Math.abs(this["ymax"]-this["ymin"])},t.getSize=function(){return new cn(this.getWidth(),this.getHeight())},t.set=function(e,t,n,o){return this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=o,this._dirty=!0,this},t.__combine=function(e){void 0!==e.x&&(Go.xmin=Go.xmax=e.x,Go.ymin=Go.ymax=e.y,e=Go),this._project(e),this._project(this);var t,n,o,r,i=O(this.pxmin);i?(t=Math.min(this["pxmin"],e["pxmin"]),n=Math.min(this["pymin"],e["pymin"]),o=Math.max(this["pxmax"],e["pxmax"]),r=Math.max(this["pymax"],e["pymax"])):(t=e["pxmin"],n=e["pymin"],o=e["pxmax"],r=e["pymax"]);var a=this.projection;if(a){Jo.set(t,n),Xo.set(o,r);var s=a.unproject(Jo,Jo),l=a.unproject(Xo,Xo);t=s.x,n=s.y,o=l.x,r=l.y}return ir[0]=t,ir[1]=n,ir[2]=o,ir[3]=r,ir},t._combine=function(e){if(!e||e.isValid&&!e.isValid())return this;var t=this.__combine(e);return this.set(t[0],t[1],t[2],t[3]),this._dirty=!0,this},t.combine=function(e){if(!e||e.isValid&&!e.isValid())return this;var t=this.__combine(e);return new this.constructor(t[0],t[1],t[2],t[3],this.projection)},t.intersection=function(e){if(!this.intersects(e))return null;Qo.x=Math.max(this["pxmin"],e["pxmin"]),Qo.y=Math.max(this["pymin"],e["pymin"]),er.x=Math.min(this["pxmax"],e["pxmax"]),er.y=Math.min(this["pymax"],e["pymax"]);var t=Qo,n=er,o=this.projection;return o&&(t=o.unproject(t,t),n=o.unproject(n,n)),new this.constructor(t,n,o)},t.expand=function(e){var t,n;return O(e)?t=n=e:(t=e["width"]||e["x"]||e[0]||0,n=e["height"]||e["y"]||e[1]||0),new this.constructor(this["xmin"]-t,this["ymin"]-n,this["xmax"]+t,this["ymax"]+n,this.projection)},t._expand=function(e){var t,n;return O(e)?t=n=e:(t=e["width"]||e["x"]||e[0]||0,n=e["height"]||e["y"]||e[1]||0),this["xmin"]-=t,this["ymin"]-=n,this["xmax"]+=t,this["ymax"]+=n,this._dirty=!0,this},t.toJSON=function(){return{xmin:this["xmin"],ymin:this["ymin"],xmax:this["xmax"],ymax:this["ymax"]}},t.toArray=function(e){var t=this["xmin"],n=this["ymin"],o=this["xmax"],r=this["ymax"];return e?(e[0].x=t,e[0].y=r,e[1].x=o,e[1].y=r,e[2].x=o,e[2].y=n,e[3].x=t,e[3].y=n,e[4].x=t,e[4].y=r,e):[new this._clazz([t,r]),new this._clazz([o,r]),new this._clazz([o,n]),new this._clazz([t,n]),new this._clazz([t,r])]},t.toString=function(){return this.xmin+","+this.ymin+","+this.xmax+","+this.ymax},t.copy=function(){return new this.constructor(this["xmin"],this["ymin"],this["xmax"],this["ymax"],this.projection)},t.convertTo=function(e,t){if(!this.isValid())return null;var n,o=t||new this.constructor;return t&&o.set(null,null,null,null),this._clazz===$o?n=tr:this._clazz===Pe&&(n=Ko),n.x=this.xmin,n.y=this.ymax,o._combine(e(n)),n.x=this.xmax,o._combine(e(n)),n.y=this.ymin,o._combine(e(n)),n.x=this.xmin,o._combine(e(n)),o},t._project=function(e){if(e&&e.isValid()){var t=this.projection;if(t){if(e._dirty){nr.set(e.xmax,e.ymin),or.set(e.xmin,e.ymax),rr[0]=nr,rr[1]=or;var n=t.projectCoords(rr),o=n[0],r=n[1];e.pxmin=Math.min(o.x,r.x),e.pymin=Math.min(o.y,r.y),e.pxmax=Math.max(o.x,r.x),e.pymax=Math.max(o.y,r.y)}delete e._dirty}else e.pxmin=e.xmin,e.pxmax=e.xmax,e.pymin=e.ymin,e.pymax=e.ymax}else e&&(e.pxmin=e.pxmax=e.pymin=e.pymax=null)},e}();Go=new ar(0,0,0,0);var sr=function(e){function t(t,n,o,r){var i;return i=e.call(this,t,n,o,r)||this,i._clazz=Pe,i}return ke(t,e),t}(ar),lr=function(){function e(e){this.matrix=e}var t=e.prototype;return t.transform=function(e,t,n){var o=this.matrix[0]*(e.x-this.matrix[2])/t,r=-this.matrix[1]*(e.y-this.matrix[3])/t;return n?(n.x=o,n.y=r,n):new Pe(o,r)},t.untransform=function(e,t,n){var o=e.x*t/this.matrix[0]+this.matrix[2],r=e.y*t/-this.matrix[1]+this.matrix[3];return n?(n.x=o,n.y=r,n):new $o(o,r)},e}(),cr={project:function(){},unproject:function(){},projectCoords:function(e,t){var n=this;if(!e)return[];if(!Array.isArray(e))return this.project(e);if(0===e.length)return[];if(!this.isSphere())return Ue(e,this.project,this);if(Array.isArray(e[0]))return e.map((function(e){return n.projectCoords(e,t)}));for(var o,r,i,a,s,l,c=!1!==t,u=this.getCircum(),d=this.getSphereExtent(),h=d.sx,m=d.sy,p=e[0],f=[this.project(p)],g=1,v=e.length;g<v;g++)i=e[g],a=i.x-p.x,s=i.y-p.y,l=this.project(i),Math.abs(a)>180&&c&&(void 0===o&&(o=i.x>p.x),o&&(l._add(-u.x*je(a)*h,0),i._add(-360*je(a),0))),Math.abs(s)>90&&c&&(void 0===r&&(r=i.y<p.y),r&&(l._add(0,-u.y*je(s)*m),i._add(0,-180*je(s)))),p=i,f.push(l);return f},unprojectCoords:function(e){return e?Array.isArray(e)?Ue(e,this.unproject,this):this.unproject(e):[]},isSphere:function(){return!!this.sphere},isOutSphere:function(e){if(!this.isSphere())return!1;var t=this.getSphereExtent();return!t.contains(e)},wrapCoord:function(e){if(!this.isSphere())return e;var t=this.getSphereExtent(),n=new $o(e);return t.contains(n)||(n.x=$e(e.x,t.xmin,t.xmax),n.y=$e(e.y,t.ymin,t.ymax)),n},getCircum:function(){if(!this.circum&&this.isSphere()){var e=this.getSphereExtent();this.circum={x:e.getWidth(),y:e.getHeight()}}return this.circum},getSphereExtent:function(){if(!this.extent&&this.isSphere()){var e=this.project(new $o(180,90)),t=this.project(new $o(-180,-90));this.extent=new ar(t,e,this),this.extent.sx=e.x>t.x?1:-1,this.extent.sy=e.y>t.y?1:-1}return this.extent}},ur={measureLength:function(e,t){if(!Array.isArray(e))return this.measureLenBetween(e,t);for(var n=0,o=0,r=e.length;o<r-1;o++)n+=this.measureLenBetween(e[o],e[o+1]);return n}},dr=T({measure:"IDENTITY",measureLenBetween:function(e,t){if(!e||!t)return 0;try{return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}catch(Zd){return 0}},measureArea:function(e){if(!Array.isArray(e))return 0;for(var t=0,n=0,o=e.length;n<o;n++){var r=e[n],i=null;i=n===o-1?e[0]:e[n+1],t+=r.x*i.y-r.y*i.x}return Math.abs(t/2)},locate:function(e,t,n,o){return o=o||new $o(0,0),o.set(e.x,e.y),this._locate(o,t,n)},_locate:function(e,t,n){return e?(t||(t=0),n||(n=0),t||n?(e.x=e.x+t,e.y=e.y+n,e):e):null},rotate:function(e,t,n){return e=new $o(e.x,e.y),this._rotate(e,t,n)},_rotate:function(){var e=new Pe(0,0);return function(t,n,o){return e.x=t.x-n.x,e.y=t.y-n.y,e._rotate(o*Math.PI/180),t.x=n.x+e.x,t.y=n.y+e.y,t}}()},ur),hr=function(){function e(e){this.radius=e}var t=e.prototype;return t.measureLenBetween=function(e,t){if(!e||!t)return 0;var n=L(e.y),o=L(t.y),r=n-o,i=L(e.x)-L(t.x);return n=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(n)*Math.cos(o)*Math.pow(Math.sin(i/2),2))),n*=this.radius,Math.round(1e5*n)/1e5},t.measureArea=function(e){var t,n=L(this.radius),o=0,r=e,i=r.length;if(i<3)return 0;for(t=0;t<i-1;t++){var a=r[t],s=r[t+1];o+=a.x*n*Math.cos(L(a.y))*s.y*n-s.x*n*Math.cos(L(s.y))*a.y*n}return i=r[t],r=r[0],o+=i.x*n*Math.cos(L(i.y))*r.y*n-r.x*n*Math.cos(L(r.y))*i.y*n,.5*Math.abs(o)},t.locate=function(e,t,n,o){return o=o||new $o(0,0),o.set(e.x,e.y),this._locate(o,t,n)},t._locate=function(e,t,n){if(!e)return null;if(t||(t=0),n||(n=0),!t&&!n)return e;var o,r,i=L(e.y);if(0!==n){var a=Math.abs(n),s=2*Math.sin(a/(2*this.radius));i+=s*(n>0?1:-1),r=$e(180*i/Math.PI,-90,90)}else r=e.y;if(0!==t){var l=Math.abs(t),c=L(e.x),u=2*Math.sqrt(Math.pow(Math.sin(l/(2*this.radius)),2)/Math.pow(Math.cos(i),2));c+=u*(t>0?1:-1),o=$e(180*c/Math.PI,-180,180)}else o=e.x;return e.x=o,e.y=r,e},t.rotate=function(e,t,n){return e=new $o(e),this._rotate(e,t,n)},t._rotate=function(e,t,n){var o=mr(t,e),r=o-n,i=this.measureLenBetween(t,e);return e.x=t.x,e.y=t.y,fr(e,i,r,this.radius)},e}();function mr(e,t,n){var o;void 0===n&&(n={}),o=n.final?pr(t,e):pr(e,t);var r=o>180?-(360-o):o;return r}function pr(e,t){var n=L(e.y),o=L(t.y),r=L(t.x-e.x);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var i=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(r,i);return(H(a)+360)%360}function fr(e,t,n,o){var r=t/o,i=e.x*Math.PI/180,a=L(e.y),s=L(n),l=r*Math.cos(s),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var u=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),d=Math.abs(u)>1e-11?l/u:Math.cos(a),h=r*Math.sin(s)/d,m=i+h;return e.x=(180*m/Math.PI+540)%360-180,e.y=180*c/Math.PI,e}var gr=T({measure:"EPSG:4326",sphere:new hr(6378137),measureLenBetween:function(){return this.sphere.measureLenBetween.apply(this.sphere,arguments)},measureArea:function(){return this.sphere.measureArea.apply(this.sphere,arguments)},_locate:function(){return this.sphere._locate.apply(this.sphere,arguments)},locate:function(){return this.sphere.locate.apply(this.sphere,arguments)},_rotate:function(){return this.sphere._rotate.apply(this.sphere,arguments)},rotate:function(){return this.sphere.rotate.apply(this.sphere,arguments)}},ur),vr=T({measure:"BAIDU",sphere:new hr(6370996.81),measureLenBetween:function(){return this.sphere.measureLenBetween.apply(this.sphere,arguments)},measureArea:function(){return this.sphere.measureArea.apply(this.sphere,arguments)},_locate:function(){return this.sphere._locate.apply(this.sphere,arguments)},locate:function(){return this.sphere.locate.apply(this.sphere,arguments)},_rotate:function(){return this.sphere._rotate.apply(this.sphere,arguments)},rotate:function(){return this.sphere.rotate.apply(this.sphere,arguments)}},ur),yr=gr,br={};function wr(e){br[e.measure]=e}wr(dr),wr(gr),wr(vr);var _r={getInstance:function(e){if(!e)return yr;for(var t in br)if(z(br,t)){var n=br[t]["measure"];if(!n)continue;if(e.toLowerCase()===n.toLowerCase())return br[t]}return null}},xr=1e-7,Cr=T({},cr,{code:"EPSG:3857",rad:Math.PI/180,metersPerDegree:6378137*Math.PI/180,maxLatitude:85.0511287798,project:function(e,t){var n,o=this.rad,r=this.metersPerDegree,i=this.maxLatitude,a=e.x,s=Math.max(Math.min(i,e.y),-i);n=0===s?0:Math.log(Math.tan((90+s)*o/2))/o;var l=a*r,c=n*r;return t?(t.x=l,t.y=c,t):new $o(l,c)},unproject:function(e,t){var n,o=this.rad,r=this.metersPerDegree,i=e.x/r,a=e.y;0===a?n=0:(n=a/r,n=(2*Math.atan(Math.exp(n*o))-Math.PI/2)/o),Math.abs(Math.abs(i)-180)<xr&&(i=180*je(i)),Math.abs(Math.abs(n)-this.maxLatitude)<xr&&(n=je(n)*this.maxLatitude);var s=$e(i,-180,180),l=$e(n,-this.maxLatitude,this.maxLatitude);return t?(t.x=s,t.y=l,t):new $o(s,l)}},gr),Sr=T({},cr,{code:"EPSG:4326",project:function(e,t){return t?(t.x=e.x,t.y=e.y,t):new $o(e)},unproject:function(e,t){return t?(t.x=e.x,t.y=e.y,t):new $o(e)}},gr),kr=T({},Sr,{code:"EPSG:4490"}),Er=T({},cr,{code:"BAIDU",project:function(e,t){return this.convertLL2MC(e,t)},unproject:function(e,t){return this.convertMC2LL(e,t)}},vr,{EARTHRADIUS:6370996.81,MCBAND:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],convertMC2LL:function(e,t){for(var n,o=0,r=this.MCBAND.length;o<r;o++)if(Math.abs(e.y)>=this.MCBAND[o]){n=this.MC2LL[o];break}var i=this.convertor(e,n,t);return i},convertLL2MC:function(e,t){var n,o,r;e.x=this.getLoop(e.x,-180,180),e.y=this.getRange(e.y,-74,74);var i=new $o(e.x,e.y);for(o=0,r=this.LLBAND.length;o<r;o++)if(i.y>=this.LLBAND[o]){n=this.LL2MC[o];break}if(!n)for(o=this.LLBAND.length-1;o>=0;o--)if(i.y<=-this.LLBAND[o]){n=this.LL2MC[o];break}var a=this.convertor(e,n,t);return a},convertor:function(e,t,n){if(!e||!t)return null;var o=t[0]+t[1]*Math.abs(e.x),r=Math.abs(e.y)/t[9],i=t[2]+t[3]*r+t[4]*r*r+t[5]*r*r*r+t[6]*r*r*r*r+t[7]*r*r*r*r*r+t[8]*r*r*r*r*r*r;return o*=e.x<0?-1:1,i*=e.y<0?-1:1,n?(n.x=o,n.y=i,n):new $o(o,i)},toRadians:function(e){return Math.PI*e/180},toDegrees:function(e){return 180*e/Math.PI},getRange:function(e,t,n){return null!=t&&(e=Math.max(e,t)),null!=n&&(e=Math.min(e,n)),e},getLoop:function(e,t,n){if(e===1/0)return n;if(e===-1/0)return t;while(e>n)e-=n-t;while(e<t)e+=n-t;return e}}),Tr=T({},cr,{code:"IDENTITY",project:function(e,t){return t?(t.x=e.x,t.y=e.y,t):e.copy()},unproject:function(e,t){return t?(t.x=e.x,t.y=e.y,t):e.copy()}},dr),Mr=Cr,Or=Object.freeze({EPSG3857:Cr,DEFAULT:Mr,EPSG4326:Sr,EPSG4490:kr,BAIDU:Er,IDENTITY:Tr,Common:cr}),Dr=function(e){return function(e){function t(){return e.apply(this,arguments)||this}return ke(t,e),t.registerRenderer=function(e,t){var n=this.prototype,o=Object.getPrototypeOf(n);return n._rendererClasses&&n._rendererClasses!==o._rendererClasses||(n._rendererClasses=n._rendererClasses?Object.create(n._rendererClasses):{}),n._rendererClasses[e.toLowerCase()]=t,this},t.getRendererClass=function(e){var t=this.prototype;return t._rendererClasses?t._rendererClasses[e.toLowerCase()]:null},t}(e)},Ar={};function Rr(e,t){Ar[e]=t}var Pr,Ir="\n    var adapters = {};\n    onmessage = function (msg) {\n        msg = msg.data;\n        if (msg.messageType === 'batch') {\n            const messages = msg.messages;\n            if (messages) {\n                for (let i = 0; i < messages.length; i++) {\n                    dispatch(messages[i]);\n                }\n            }\n        } else {\n            dispatch(msg);\n        }\n    };\n\n    function dispatch(msg) {\n        var workerKey = msg.workerKey;\n        var adapter = adapters[workerKey];\n        if (!adapter) {\n            post(msg.callback, 'Unregistered worker adapters for ' + workerKey);\n            return;\n        }\n        try {\n            adapter.onmessage(msg, wrap(msg.callback));\n        } catch (err) {\n            post(msg.callback, workerKey + ':' + err.message);\n            console.error(err);\n            throw err;\n        }\n    }\n\n    function post(callback, err, data, buffers) {\n        var msg = {\n            callback : callback\n        };\n        if (err) {\n            msg.error = err;\n        } else {\n            msg.data = data;\n        }\n        if (buffers && buffers.length > 0) {\n            postMessage(msg, buffers);\n        } else {\n            postMessage(msg);\n        }\n    }\n    function wrap(callback) {\n        return function (err, data, buffers) {\n            post(callback, err, data, buffers);\n        };\n    }\n    var workerExports;\n",zr="\n    workerExports = null;\n";function Nr(){var e=Ir;for(var t in Ar){var n=Ar[t];P(n)&&0===n.length&&(n=n()),e+="\n    workerExports = {};\n    ("+n+")(workerExports, self);\n    adapters['"+t+"'] = workerExports",e+="\n    workerExports.initialize && workerExports.initialize(self);\n        "}return e+=zr,e}function Lr(){if("undefined"===typeof window)return null;if(!Pr){var e=Nr();Pr=window.URL.createObjectURL(new Blob([e],{type:"text/javascript"})),Ar=null}return Pr}var Hr,Fr="undefined"!==typeof window?window.navigator.hardwareConcurrency||4:0,Br=Math.max(Math.floor(Fr/2),1),Ur=function(){function e(e){void 0===e&&(e=50),this._limit=e,this._messages=[],this.buffers=[]}var t=e.prototype;return t.addMessage=function(e,t){if(this._messages.push(e),Array.isArray(t))for(var n=0;n<t.length;n++)this.buffers.indexOf(t[n])<0&&this.buffers.push(t[n])},t.isFull=function(){return this._messages.length>=this._limit},t.getMessage=function(){return{messageType:"batch",messages:this._messages}},e}(),Vr=function(){function e(){this.active={},this.workerCount="undefined"!==typeof window?window.MAPTALKS_WORKER_COUNT||Br:0,this._messages=[],this._messageBuffers=[]}var t=e.prototype;return t.acquire=function(e){if(!this.workers){this.workers=[];for(var t=Lr(),n=0;n<this.workerCount;n++){var o=new Worker(t);o.id=n,this.workers.push(o)}URL.revokeObjectURL(t)}return this.active[e]=!0,this.workers.slice()},t.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},t.addMessage=function(e,t,n){var o=this._messages[e];o&&o.length||(o=this._messages[e]=[new Ur]);var r=o[o.length-1];r.isFull()&&(r=new Ur,this._messages[e].push(r)),r.addMessage(t,n)},t.commit=function(){if(this._messages.length)for(var e=0;e<this._messages.length;e++)if(this._messages[e]&&this._messages[e].length){var t=this._messages[e].shift();this.workers[e].postMessage(t.getMessage(),t.buffers)}},e}();function jr(){return Hr||(Hr=new Vr),Hr}function Wr(){jr().commit(),De(Wr)}De&&De(Wr);var Zr=0,$r=[],qr=function(){function e(e){var t=this;this.workerKey=e,this.workerPool=jr(),this.currentActor=0,this.actorId=Le(),this.workers=this.workerPool.acquire(this.actorId),this.callbacks={},this.callbackID=0,this.receiveFn=this.receive.bind(this),this.workers.forEach((function(e){e.addEventListener("message",t.receiveFn,!1)}))}var t=e.prototype;return t.isActive=function(){return!!this.workers},t.broadcast=function(e,t,n){var o=this;return n=n||function(){},Gr(this.workers,(function(n,r){o.send(e,t,r,n.id)}),n),this},t.send=function(e,t,n,o){var r=n?this.actorId+":"+this.callbackID++:null;return n&&(this.callbacks[r]=n),this.post({data:e,callback:String(r)},t,o),this},t.receive=function(e){var t=this,n=e.data,o=n.callback,r=this.callbacks[o];delete this.callbacks[o],"<request>"===n.type?this.actorId===n.actorId&&this[n.command](n.params,(function(e,o,r){var i={type:"<response>",callback:n.callback};e?i.error=e.message:i.data=o,t.post(i,r||$r,n.workerId)})):r&&n.error?r(n.error):r&&r(null,n.data)},t.remove=function(){var e=this;this.workers.forEach((function(t){t.removeEventListener("message",e.receiveFn,!1)})),this.workerPool.release(this.actorId),delete this.receiveFn,delete this.workers,delete this.callbacks,delete this.workerPool},t.post=function(e,t,n){return("number"!==typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.workerPool.workerCount),e.workerId=n,e.workerKey=this.workerKey,e.actorId=this.actorId,this.workerPool.addMessage(n,e,t||$r),n},t.getDedicatedWorker=function(){return Zr=(Zr+1)%this.workerPool.workerCount,Zr},e}();function Gr(e,t,n){e.length||n(null,[]);var o=e.length,r=new Array(e.length),i=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(i=e),r[a]=t,0===--o&&n(i,r)}))}))}var Kr="core-fetch-image",Yr=[],Jr=function(e){function t(){return e.call(this,Kr)||this}ke(t,e);var n=t.prototype;return n.fetchImage=function(e,t){var n={url:e};this.send(n,Yr,t)},t}(qr),Xr=function(e){function t(t){var n;return n=e.call(this)||this,n.layer=t,n._painted=!1,n._drawTime=0,!_e.decodeImageInWorker||"gl"!==t.options["renderer"]&&(_e.safari||_e.iosWeixin)||(n._resWorkerConn=new Jr),n.setToRedraw(),n}ke(t,e);var n=t.prototype;return n.render=function(e){this.prepareRender(),this.getMap()&&this.layer.isVisible()&&(this.resources||(this.resources=new Qr),this.checkAndDraw(this._tryToDraw,e))},n.checkAndDraw=function(e){var t=this;this._toRedraw=!1;for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];if(this.checkResources){var i=this.checkResources();i.length>0?(this._loadingResource=!0,this.loadResources(i).then((function(){t._loadingResource=!1,t.layer&&(t.layer.fire("resourceload"),t.setToRedraw())}))):e.call.apply(e,[this].concat(o))}else e.call.apply(e,[this].concat(o))},n.testIfNeedRedraw=function(){var e=this.getMap();return!this._loadingResource&&(!!this._toRedraw||!(e.isInteracting()&&!this.drawOnInteracting)&&!!this.needToRedraw())},n.needToRedraw=function(){var e=this.getMap();return!(!e.isInteracting()&&!e.getRenderer().isViewChanged())&&!(!e.getPitch()&&e.isMoving()&&!e.isZooming()&&!e.isRotating()&&!this.layer.options["forceRenderOnMoving"])},n.onSkipDrawOnInteracting=function(){},n.isLoadingResource=function(){return this._loadingResource},n.isRenderComplete=function(){return!!this._renderComplete},n.mustRenderOnInteracting=function(){return!this._painted},n.setToRedraw=function(){return this._toRedraw=!0,this},n.setCanvasUpdated=function(){return this._canvasUpdated=!0,this},n.isCanvasUpdated=function(){return!!this._canvasUpdated},n.remove=function(){this.onRemove(),delete this._loadingResource,delete this.southWest,delete this.canvas,delete this.context,delete this.canvasExtent2D,delete this._extent2D,this.resources&&this.resources.remove(),delete this.resources,delete this.layer},n.onRemove=function(){},n.onAdd=function(){},n.getMap=function(){return this.layer?this.layer.getMap():null},n.getCanvasImage=function(){var e=this.getMap();if(this._canvasUpdated=!1,this._renderZoom!==e.getZoom()||!this.canvas||!this._extent2D)return null;if(this.isBlank())return null;if(this.layer.isEmpty&&this.layer.isEmpty())return null;var t=e._pointToContainerPoint(this.southWest)._add(0,-e.height);return{image:this.canvas,layer:this.layer,point:t}},n.clear=function(){this.clearCanvas()},n.isBlank=function(){return!this._painted},n.show=function(){this.setToRedraw()},n.hide=function(){this.clear(),this.setToRedraw()},n.setZIndex=function(){this.setToRedraw()},n.hitDetect=function(e){if(!this.context||this.layer.isEmpty&&this.layer.isEmpty()||this.isBlank()||this._errorThrown||this.layer.isVisible&&!this.layer.isVisible())return!1;var t=this.getMap(),n=t.getDevicePixelRatio(),o=t.getSize();if(e.x<0||e.x>o["width"]*n||e.y<0||e.y>o["height"]*n)return!1;var r=this.getImageData&&this.getImageData();if(r){var i=Math.round(n*e.x),a=Math.round(n*e.y),s=a*r.width*4+4*i;return r.data[s+3]>0}try{var l=this.context.getImageData(n*e.x,n*e.y,1,1).data;if(l[3]>0)return!0}catch(c){return this._errorThrown||(console&&console.warn("hit detect failed with tainted canvas, some geometries have external resources in another domain:\n",c),this._errorThrown=!0),!1}return!1},n.loadResources=function(e){this.resources||(this.resources=new Qr);var t=this.resources,n=[];if(Ge(e))for(var o={},r=e.length-1;r>=0;r--){var i=e[r];i&&i.length&&!o[i.join("-")]&&(o[i.join("-")]=1,t.isResourceLoaded(i,!0)||n.push(new Ro(this._promiseResource(i))))}return Ro.all(n)},n.prepareRender=function(){delete this._renderComplete;var e=this.getMap();this._renderZoom=e.getZoom(),this.canvasExtent2D=this._extent2D=e._get2DExtent(),this.southWest=e._containerPointToPoint(new Pe(0,e.height))},n.createCanvas=function(){if(!this.canvas){var e=this.getMap(),t=e.getSize(),n=e.getDevicePixelRatio(),o=Math.round(n*t.width),r=Math.round(n*t.height);if(this.layer._canvas){var i=this.layer._canvas;i.width=o,i.height=r,i.style&&(i.style.width=t.width+"px",i.style.height=t.height+"px"),this.canvas=this.layer._canvas}else this.canvas=Eo.createCanvas(o,r,e.CanvasClass);this.onCanvasCreate()}},n.onCanvasCreate=function(){},n.createContext=function(){if(!(this.gl&&this.gl.canvas===this.canvas||this.context)&&(this.context=Eo.getCanvas2DContext(this.canvas),this.context)){this.layer.options["globalCompositeOperation"]&&(this.context.globalCompositeOperation=this.layer.options["globalCompositeOperation"]);var e=this.getMap().getDevicePixelRatio();1!==e&&this.context.scale(e,e)}},n.resetCanvasTransform=function(){if(this.context){var e=this.getMap().getDevicePixelRatio();this.context.setTransform(e,0,0,e,0,0)}},n.resizeCanvas=function(e){var t=this.canvas;if(t){var n=e||this.getMap().getSize(),o=this.getMap().getDevicePixelRatio(),r=ht(n,o),i=r.width,a=r.height,s=r.cssWidth,l=r.cssHeight;!this.layer._canvas||t.style.width===s&&t.style.height===l||(t.style.width=s,t.style.height=l),t.width===i&&t.height===a||(t.height=a,t.width=i,1!==o&&this.context&&this.context.scale(o,o))}},n.clearCanvas=function(){if(this.context&&this.getMap()){var e=this.getMap().getDevicePixelRatio(),t=1/e,n=this.canvas.width*t,o=this.canvas.height*t;Eo.clearRect(this.context,0,0,Math.max(n,this.canvas.width),Math.max(o,this.canvas.height))}},n.prepareCanvas=function(){this.canvas?(this.resetCanvasTransform(),this.clearCanvas(),this.resizeCanvas()):(this.createCanvas(),this.createContext(),this.layer.onCanvasCreate(),this.layer.fire("canvascreate",{context:this.context,gl:this.gl})),delete this._maskExtent;var e=this.layer.getMask();if(!e)return this.layer.fire("renderstart",{context:this.context,gl:this.gl}),null;var t=this._maskExtent=e._getMaskPainter().get2DExtent();return t.intersects(this._extent2D),this.layer.fire("renderstart",{context:this.context,gl:this.gl}),t},n.clipCanvas=function(e){var t=this.layer.getMask();if(!t)return!1;var n=this.southWest,o=this.getMap();this.southWest=o._containerPointToPoint(new Pe(0,o.height)),e.save();var r=o.getDevicePixelRatio();if(1!==r&&(e.save(),e.scale(r,r)),t.getGeometries){e.isMultiClip=!0;var i=t.getGeometries()||[];e.beginPath(),i.forEach((function(t){var n=t._getMaskPainter();n.paint(null,e)})),e.stroke(),e.isMultiClip=!1}else{e.isClip=!0,e.beginPath();var a=t._getMaskPainter();a.paint(null,e),e.isClip=!1}return 1!==r&&e.restore(),e.clip(),this.southWest=n,!0},n.getViewExtent=function(){return{extent:this._extent2D,maskExtent:this._maskExtent,zoom:this._renderZoom,southWest:this.southWest}},n.completeRender=function(){this.getMap()&&(this._renderComplete=!0,this.layer.fire("renderend",{context:this.context,gl:this.gl}),this.setCanvasUpdated())},n.getEvents=function(){return{_zoomstart:this.onZoomStart,_zooming:this.onZooming,_zoomend:this.onZoomEnd,_resize:this.onResize,_movestart:this.onMoveStart,_moving:this.onMoving,_moveend:this.onMoveEnd,_dragrotatestart:this.onDragRotateStart,_dragrotating:this.onDragRotating,_dragrotateend:this.onDragRotateEnd,_spatialreferencechange:this.onSpatialReferenceChange}},n.onZoomStart=function(){},n.onZoomEnd=function(){this.setToRedraw()},n.onZooming=function(){},n.onMoveStart=function(){},n.onMoving=function(){},n.onMoveEnd=function(){this.setToRedraw()},n.onResize=function(){delete this._extent2D,this.resizeCanvas(),this.setToRedraw()},n.onDragRotateStart=function(){},n.onDragRotating=function(){},n.onDragRotateEnd=function(){this.setToRedraw()},n.onSpatialReferenceChange=function(){},n.getDrawTime=function(){return this._drawTime},n._tryToDraw=function(e){this._toRedraw=!1,!this.canvas&&this.layer.isEmpty&&this.layer.isEmpty()?this._renderComplete=!0:this._drawAndRecord(e)},n._drawAndRecord=function(e){if(this.getMap()){var t=this._painted;this._painted=!0;var n=E();this.draw(e),n=E()-n,this._drawTime=t?n:n/2,t&&this.layer&&this.layer.options["logDrawTime"]&&console.log(this.layer.getId(),"frameTimeStamp:",e,"drawTime:",this._drawTime)}},n._promiseResource=function(e){var t=this,n=this.resources,o=this.layer.options["crossOrigin"],r=this.layer.options["renderer"]||"";return function(i){if(n.isResourceLoaded(e,!0))i(e);else if(!Ie(e[0])&&t._resWorkerConn){var a=ct(e[0]);t._resWorkerConn.fetchImage(a,(function(n,o){if(n)return n&&"undefined"!==typeof console&&console.warn(n),void i(e);lt(o,(function(n){t._cacheResource(e,n),i(e)}))}))}else{var s=new Image;M(o)?"canvas"!==r&&(s["crossOrigin"]=""):s["crossOrigin"]=o,Ie(e[0])&&!F&&(e[1]&&(e[1]*=2),e[2]&&(e[2]*=2)),s.onload=function(){t._cacheResource(e,s),i(e)},s.onabort=function(t){console&&console.warn("image loading aborted: "+e[0]),t&&console&&console.warn(t),i(e)},s.onerror=function(t){t&&"undefined"!==typeof console&&console.warn(t),n.markErrorResource(e),i(e)},ze(s,e)}}},n._cacheResource=function(e,t){if(this.layer&&this.resources){var n=e[1],o=e[2];if(this.layer.options["cacheSvgOnCanvas"]&&1===Ie(e[0])&&(_e.edge||_e.ie)){M(n)&&(n=t.width||this.layer.options["defaultIconSize"][0]),M(o)&&(o=t.height||this.layer.options["defaultIconSize"][1]);var r=Eo.createCanvas(n,o);Eo.image(r.getContext("2d"),t,0,0,n,o),t=r}this.resources.addResource(e,t)}},t}(No),Qr=function(){function e(){this.resources={},this._errors={}}var t=e.prototype;return t.addResource=function(e,t){var n=this;if(this.resources[e[0]]={image:t,width:+e[1],height:+e[2],refCnt:0},t&&t.width&&t.height&&!t.close&&_e.imageBitMap&&!_e.safari&&!_e.iosWeixin){if(t.src&&Ie(t.src))return;createImageBitmap(t).then((function(t){n.resources[e[0]]&&(n.resources[e[0]].image=t)}))}},t.isResourceLoaded=function(e,t){if(!e)return!1;var n=this._getImgUrl(e);if(this._errors[n])return!0;var o=this.resources[n];return!!o&&!(t&&Ie(e[0])&&(+e[1]>o.width||+e[2]>o.height))},t.login=function(e){var t=this.resources[e];t&&t.refCnt++},t.logout=function(e){var t=this.resources[e];t&&t.refCnt--<=0&&(t.image&&t.image.close&&t.image.close(),delete this.resources[e])},t.getImage=function(e){var t=this._getImgUrl(e);return!this.isResourceLoaded(e)||this._errors[t]?null:this.resources[t].image},t.markErrorResource=function(e){this._errors[this._getImgUrl(e)]=1},t.merge=function(e){if(!e)return this;for(var t in e.resources){var n=e.resources[t];this.addResource([t,n.width,n.height],n.image)}return this},t.forEach=function(e){if(!this.resources)return this;for(var t in this.resources)z(this.resources,t)&&e(t,this.resources[t]);return this},t._getImgUrl=function(e){return Array.isArray(e)?e[0]:e},t.remove=function(){for(var e in this.resources){var t=this.resources[e];t&&t.image&&t.image.close&&t.image.close()}this.resources={}},e}(),ei="\nfunction (exports) {\n    exports.onmessage = function (msg, postResponse) {\n        var url = msg.data.url;\n        var fetchOptions = msg.data.fetchOptions;\n        requestImageOffscreen(url, function (err, data) {\n            var buffers = [];\n            if (data && data.data) {\n                buffers.push(data.data);\n            }\n            postResponse(err, data, buffers);\n        }, fetchOptions);\n    };\n\n    function requestImageOffscreen(url, cb, fetchOptions) {\n        fetch(url, fetchOptions ? fetchOptions : {})\n            .then(response => response.arrayBuffer())\n            .then(arrayBuffer => {\n                const blob=new Blob([arrayBuffer]);\n                return createImageBitmap(blob);\n            })\n            .then(bitmap => {\n                cb(null, {data:bitmap});\n            }).catch(err => {\n                console.warn('error when loading tile:', url);\n                console.warn(err);\n                cb(err);\n            });\n    }\n}";function ti(){_e.decodeImageInWorker&&Rr(Kr,(function(){return ei}))}ti();var ni={markerWidth:10,markerHeight:10,markerLineWidth:1};function oi(){return.5}var ri=new Pe(0,0);function ii(e,t,n,o,r,i,a){var s=ri.set(t,n),l=e.set(s.x,s.y,s.x+i,s.y+a);return l._add(r),o&&pi(l,o),l}var ai=[];function si(e,t,n){n=n||hi(ai,t);var o=di(t,n[0],n[1]);return ii(e,t["markerDx"]||0,t["markerDy"]||0,fi(t),o,n[0],n[1])}function li(e){return"rectangle"===e?"right":"middle"}function ci(e){return"bar"===e||"pie"===e||"pin"===e?"top":"rectangle"===e?"bottom":"middle"}var ui=new cn(0,0);function di(e,t,n){var o=oi(),r=2*(e["shadowBlur"]||0),i=r+o;ui.width=t,ui.height=n;var a=e["markerType"],s=_n(ui,e["markerHorizontalAlignment"]||li(a),e["markerVerticalAlignment"]||ci(a));return s.x!==-t/2&&(s.x-=je(s.x+t/2)*i),s.y!==-n/2&&(s.y-=je(s.y+n/2)*i),s}function hi(e,t){var n=oi(t),o=Ve(t["markerWidth"],ni.markerWidth),r=Ve(t["markerHeight"],ni.markerHeight),i=Ve(t["markerLineWidth"],ni.markerLineWidth),a=2*((t["shadowBlur"]||0)+Math.max(Math.abs(t["shadowOffsetX"]||0)+Math.abs(t["shadowOffsetY"]||0))),s=Math.round(o+i+a+2*n),l=Math.round(r+i+a+2*n);return e[0]=s,e[1]=l,e}var mi=new sr;function pi(e,t){var n=e.xmin,o=e.ymin,r=e.xmax,i=e.ymax;return mi.set(n,o,r,i),mi.convertTo((function(e){return e._rotate(t)}),e)}function fi(e,t){void 0===t&&(t="markerRotation");var n=e[t];return O(n)?-n*Math.PI/180:0}function gi(e,t,n){var o=t["markerFile"],r=n?n.getImage(o):null,i=t["markerWidth"]||(r?r.width:0),a=t["markerHeight"]||(r?r.height:0);ui.width=i,ui.height=a;var s=_n(ui,t["markerHorizontalAlignment"]||"middle",t["markerVerticalAlignment"]||"top");return ii(e,t["markerDx"]||0,t["markerDy"]||0,fi(t),s,i,a)}function vi(e,t,n){var o=n["size"],r=_n(o,t["textHorizontalAlignment"],t["textVerticalAlignment"]);if(t["textHaloRadius"]){var i=t["textHaloRadius"];o=o.add(2*i,2*i)}return ii(e,t["textDx"]||0,t["textDy"]||0,fi(t,"textRotation"),r,o.width,o.height)}var yi=new sr;function bi(e,t,n,o){var r=e||new sr;if(Array.isArray(t)){for(var i=t,a=0;a<i.length;a++)bi(r,i[a],n,o[a]);return r}return wi(t)&&r._combine(vi(yi,t,o)),_i(t)&&r._combine(gi(yi,t,n)),xi(t)&&r._combine(si(yi,t)),Ci(t)&&r._combine(gi(yi,t)),r}function wi(e){return!!e&&!M(e["textName"])}function _i(e){return!!e&&!M(e["markerFile"])}function xi(e){return!!e&&!(!M(e["markerFile"])||M(e["markerType"])||"path"===e["markerType"])}function Ci(e){return!!e&&!(!M(e["markerFile"])||"path"!==e["markerType"])}var Si,ki=["markerWidth","markerHeight","markerHorizontalAlignment","markerVerticalAlignment","markerDx","markerDy","textName","textSize","textDx","textDy","textVerticalAlignment","textHorizontalAlignment","textRotation"],Ei=["textName","markerType","markerFile","textHaloRadius","shadowBlur","shadowOffsetX","shadowOffsetY","textWrapWidth"];function Ti(e,t,n,o){for(var r,i=[],a=0,s=0,l=e.length;s<l-1;s++)r=Mi(e[s],e[s+1],t,s,n,o),r&&(i[a]=i[a]||[],i[a].push({point:r[0],index:s}),r[1]===e[s+1]&&s!==l-2||(i[a].push({point:r[1],index:s+1}),a++));return i}function Mi(e,t,n,o,r,i){var a,s,l,c=o?Si:Ai(e,n),u=Ai(t,n);Si=u;while(1){if(!(c|u))return[e,t];if(c&u)return!1;if(i)return[e,t];a=c||u,s=Di(e,t,a,n,r),l=Ai(s,n),a===c?(e=s,c=l):(t=s,u=l)}}function Oi(e,t,n){var o,r,i,a,s,l,c,u,d,h=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=Ai(e[r],t);for(a=0;a<4;a++){for(u=h[a],o=[],r=0,c=e.length,i=c-1;r<c;i=r++)s=e[r],l=e[i],s._code&u?l._code&u||(d=Di(l,s,u,t,n),d._code=Ai(d,t),o.push(d)):(l._code&u&&(d=Di(l,s,u,t,n),d._code=Ai(d,t),o.push(d)),o.push(s));e=o}return e}function Di(e,t,n,o,r){var i,a,s=t.x-e.x,l=t.y-e.y,c=o.getMin(),u=o.getMax();8&n?(i=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(i=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(i=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(i=c.x,a=e.y+l*(c.x-e.x)/s);var d=new Pe(i,a);return r&&d._round(),d}function Ai(e,t){var n=0;return e.x<t.getMin().x?n|=1:e.x>t.getMax().x&&(n|=2),e.y<t.getMin().y?n|=4:e.y>t.getMax().y&&(n|=8),n}function Ri(e,t,n,o){e=new Pe(e);var r,i,a,s=Math.abs(n.x-t.x),l=Math.abs(n.y-t.y),c=Math.sqrt(Math.abs(s*s-l*l)),u=s>=l;return u?(r=new Pe(t.x-c,t.y),i=new Pe(t.x+c,t.y),a=2*s):(r=new Pe(t.x,t.y-c),i=new Pe(t.x,t.y+c),a=2*l),e.distanceTo(r)+e.distanceTo(i)<=a+2*o}var Pi=function(){function e(){}var t=e.prototype;return t.getMap=function(){return this.geometry.getMap()},t.getPainter=function(){return this.painter},t.isDynamicSize=function(){return!1},e.testColor=function(e){return!(!e||!R(e))&&S.indexOf(e)>=0},e}(),Ii=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n._prepareContext=function(e){if(Ot(this.symbol["opacity"])?this._opacityFn||(this._opacityFn=At(this.symbol["opacity"])):delete this._opacityFn,O(this.symbol["opacity"]))e.globalAlpha!==this.symbol["opacity"]&&(e.globalAlpha=this.symbol["opacity"]);else if(this._opacityFn){var t=this.getMap();e.globalAlpha=this._opacityFn(t.getZoom())}else 1!==e.globalAlpha&&(e.globalAlpha=1)},n.prepareCanvas=function(e,t,n){e.setLineDash&&Ge(t["lineDasharray"])&&e.setLineDash(t["lineDasharray"]);var o=this.getPainter().isHitTesting();Eo.prepareCanvas(e,t,n,o)},n.remove=function(){},n.setZIndex=function(){},n.show=function(){},n.hide=function(){},n._defineStyle=function(e){return en(e,this.geometry)},t}(Pi);function zi(e,t){var n=e&&e.getImage(t);return n||null}function Ni(e,t,n,o){var r,i=Hi(n),a=n,s=a["markerType"].toLowerCase(),l=Fi(s,a["markerWidth"],a["markerHeight"]),c=i["lineOpacity"],u=i["polygonOpacity"],d=En(i["polygonFill"]);d&&(En(i["polygonFill"])&&(r||(r=Li(t,a.markerWidth,a.markerHeight)),i["polygonGradientExtent"]=r));Eo.prepareCanvas(e,i,o);var h=a["markerWidth"],m=a["markerHeight"],p=a["markerLineWidth"]/2;if("ellipse"===s)Eo.ellipse(e,t,h/2,m/2,m/2,c,u);else if("cross"===s||"x"===s){for(var f=l.length-1;f>=0;f--)l[f]._add(t);Eo.path(e,l.slice(0,2),c),Eo.path(e,l.slice(2,4),c)}else if("diamond"===s||"bar"===s||"square"===s||"rectangle"===s||"triangle"===s){"bar"===s?t=t.add(0,-p):"rectangle"===s&&(t=t.add(p,p));for(var g=l.length-1;g>=0;g--)l[g]._add(t);Eo.polygon(e,l,c,u)}else if("pin"===s){t=t.add(0,-p);for(var v=l.length-1;v>=0;v--)l[v]._add(t);var y=e.lineCap;e.lineCap="round",Eo.bezierCurveAndFill(e,l,c,u),e.lineCap=y}else{if("pie"!==s)throw new Error("unsupported markerType: "+s);t=t.add(0,-p);var b=180*Math.atan(h/2/m)/Math.PI,w=e.lineCap;e.lineCap="round",Eo.sector(e,t,m,[90-b,90+b],c,u),e.lineCap=w}return e.canvas}function Li(e,t,n){var o=new sr;return o._combine(e),o["xmin"]+=-t/2,o["ymin"]+=-n/2,o["xmax"]+=t/2,o["ymax"]+=n/2,o}function Hi(e){var t={lineColor:e["markerLineColor"],linePatternFile:e["markerLinePatternFile"],lineWidth:e["markerLineWidth"],lineOpacity:e["markerLineOpacity"],lineDasharray:e["markerLineDasharray"],lineCap:"butt",lineJoin:"round",polygonFill:e["markerFill"],polygonPatternFile:e["markerFillPatternFile"],polygonOpacity:e["markerFillOpacity"]};return 0===t["lineWidth"]&&(t["lineOpacity"]=0),t}function Fi(e,t,n){var o,r,i,a,s=n/2,l=t/2,c=0,u=0;if("triangle"===e)return o=new Pe(c,u-s),r=new Pe(c-l,u+s),i=new Pe(c+l,u+s),[o,r,i];if("cross"===e)return o=new Pe(c-l,u),r=new Pe(c+l,u),i=new Pe(c,u-s),a=new Pe(c,u+s),[o,r,i,a];if("diamond"===e)return o=new Pe(c-l,u),r=new Pe(c,u-s),i=new Pe(c+l,u),a=new Pe(c,u+s),[o,r,i,a];if("square"===e)return o=new Pe(c-l,u+s),r=new Pe(c+l,u+s),i=new Pe(c+l,u-s),a=new Pe(c-l,u-s),[o,r,i,a];if("rectangle"===e)return o=new Pe(c,u),r=o.add(t,0),i=o.add(t,n),a=o.add(0,n),[o,r,i,a];if("x"===e)return o=new Pe(c-l,u+s),r=new Pe(c+l,u-s),i=new Pe(c+l,u+s),a=new Pe(c-l,u-s),[o,r,i,a];if("bar"===e)return o=new Pe(c-l,u-n),r=new Pe(c+l,u-n),i=new Pe(c+l,u),a=new Pe(c-l,u),[o,r,i,a];if("pin"===e||"pie"===e){var d=n*Math.atan(l/s);return o=new Pe(c,u),r=new Pe(c-d,u-n),i=new Pe(c+d,u-n),a=new Pe(c,u),[o,r,i,a]}return[]}var Bi,Ui=new Pe(0,0),Vi=new Pe(0,0),ji=new Pe(0,0),Wi=new Pe(0,0),Zi=function(e){function t(t,n,o){var r;return r=e.call(this)||this,r.symbol=t,r.geometry=n,r.painter=o,r}ke(t,e);var n=t.prototype;return n.get2DExtent=function(){for(var e=this.getMap(),t=e.getGLRes(),n=new sr,o=this._getRenderPoints()[0],r=o.length-1;r>=0;r--)o[r]&&n._combine(e._pointAtResToPoint(o[r],t));return n},n.isDynamicSize=function(){var e=this.symbol;return Ot(e["markerWidth"])||Ot(e["markerHeight"])||Ot(e["textSize"])},n._rotateExtent=function(e,t){return e.convertTo((function(e){return e._rotate(t)}))},n._getRenderPoints=function(){var e=this.getPainter(),t=e.isSpriting()?"center":this.getPlacement();return this.getPainter().getRenderPoints(t)},n._getRenderContainerPoints=function(e){var t=this.getPainter();if(t.isSpriting())return this._getRenderPoints()[0];var n,o=this.geometry,r=this.getDxDy();if(o._cPoint&&!e){var i=e?ji:Wi;i.set(o._cPoint.x,o._cPoint.y);var a=t.containerOffset;i._sub(a);var s=r.x,l=r.y;(s||l)&&i._add(s||0,l||0),n=[i]}else{var c=this._getRenderPoints()[0];n=this.painter._pointContainerPoints(c,r.x,r.y,e,!0,this.getPlacement())}if(!n||!Array.isArray(n[0]))return n;for(var u=[],d=0,h=n.length;d<h;d++)for(var m=0,p=n[d].length;m<p;m++)u.push(n[d][m]);return u},n.getPlacement=function(){return this.symbol["markerPlacement"]},n.getRotation=function(){return fi(this.style)},n.getDxDy=function(){var e=this.style,t=e["markerDx"],n=e["markerDy"];return new Pe(t,n)},n._getRotationAt=function(e){var t=this.getRotation();t||(t=0);var n=this._getRenderPoints()[1];if(!n||!n[e])return t;var o=this.getMap(),r=n[e][0],i=n[e][1];if(o.isTransforming()){var a=o.getGLRes();return r=o._pointAtResToContainerPoint(n[e][0],a,0,Ui),i=o._pointAtResToContainerPoint(n[e][1],a,0,Vi),t+nt(r.x,r.y,i.x,i.y)}return t+-nt(r.x,r.y,i.x,i.y)},n._rotate=function(e,t,n){if(n){var o=this.getDxDy(),r=t.sub(o);return e.save(),e.translate(r.x,r.y),e.rotate(n),o}return null},t}(Ii),$i=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getPlacement=function(){return"point"},n.getDxDy=function(){return new Pe(0,0)},n.symbolize=function(e){var t=this.geometry,n=t.getLayer();if(t.options["debug"]||!n||n.options["debug"]){var o=this.getMap();if(o&&!o.isZooming()){var r=n.options["debugOutline"],i=1;e.strokeStyle=r,e.fillStyle=r;var a=t.getContainerExtent().toArray();Eo.polygon(e,[a],i,0);for(var s=this._getRenderContainerPoints(),l=this.geometry.getId(),c=Fi("cross",10,10),u=0;u<s.length;u++){var d=s[u];M(l)||Eo.fillText(e,l,d.add(8,-4),r);for(var h=[],m=0;m<c.length;m++)h.push(c[m].add(d));Eo.path(e,h.slice(0,2),i),Eo.path(e,h.slice(2,4),i)}}}},t}(Zi),qi=new cn(1,1),Gi=function(e){function t(t,n,o){var r;return r=e.call(this,t,n,o)||this,r.style=r._defineStyle(r.translate()),r}ke(t,e),t.test=function(e){return _i(e)};var n=t.prototype;return n.symbolize=function(e,t){var n=this.style;if(this.painter.isHitTesting()||0!==n["markerWidth"]&&0!==n["markerHeight"]&&0!==n["markerOpacity"]){var o=this._getRenderContainerPoints();if(Ge(o)){var r=this._getImage(t);if(r){this._prepareContext(e);var i,a=n["markerWidth"],s=n["markerHeight"];if(!O(a)||!O(s)){a=r.width,s=r.height,n["markerWidth"]=a,n["markerHeight"]=s;var l=n["markerFile"];t.isResourceLoaded(l)||t.addResource(l,r);var c=this.getPainter();c.isSpriting()||c.removeCache()}"path"!==this.symbol["markerType"]&&O(n["markerOpacity"])&&n["markerOpacity"]<1&&(i=e.globalAlpha,e.globalAlpha*=n["markerOpacity"]),qi.width=a,qi.height=s;for(var u=_n(qi,n["markerHorizontalAlignment"],n["markerVerticalAlignment"]),d=0,h=o.length;d<h;d++){var m=o[d],p=this.getRotation()?this._rotate(e,m,this._getRotationAt(d)):null;p&&(m=p),Eo.image(e,r,m.x+u.x,m.y+u.y,a,s),p&&e.restore()}void 0!==i&&(e.globalAlpha=i)}else"undefined"!==typeof console&&console.warn("no img found for "+(this.style["markerFile"]||this._url[0]))}}},n._getImage=function(e){return zi(e,this.style["markerFile"])},n.getFixedExtent=function(e){return this._fixedExtent=this._fixedExtent||new sr,gi(this._fixedExtent,this.style,e)},n.translate=function(){var e=this.symbol;return{markerFile:e["markerFile"],markerOpacity:Ve(e["markerOpacity"],1),markerWidth:Ve(e["markerWidth"],null),markerHeight:Ve(e["markerHeight"],null),markerRotation:Ve(e["markerRotation"],0),markerDx:Ve(e["markerDx"],0),markerDy:Ve(e["markerDy"],0),markerHorizontalAlignment:Ve(e["markerHorizontalAlignment"],"middle"),markerVerticalAlignment:Ve(e["markerVerticalAlignment"],"top")}},t}(Zi),Ki=new $o(0,0),Yi=new $o(0,0),Ji=function(e){function t(t,n,o){var r;return r=e.call(this)||this,r.symbol=t,r.geometry=n,r.painter=o,"Point"===n.type?Te(r):(r.style=r._defineStyle(r.translate()),r)}ke(t,e),t.test=function(e,t){if(!e)return!1;if(t&&"Point"===t.type)return!1;for(var n in e){var o=n.slice(0,4);if("line"===o||"poly"===o)return!0}return!1};var n=t.prototype;return n.symbolize=function(e,t){var n=this.style;if(0!==n["polygonOpacity"]||0!==n["lineOpacity"]||this.painter.isHitTesting()){var o=this._getPaintParams();if(o){this._prepareContext(e);var r=En(n["lineColor"]),i="Polygon"===this.geometry.getJSONType()||"LineString"===this.geometry.type;!r||!n["lineColor"]["places"]&&i||(n["lineGradientExtent"]=this.geometry.getContainerExtent()._expand(n["lineWidth"])),En(n["polygonFill"])&&(n["polygonGradientExtent"]=this.geometry.getContainerExtent());var a=o[0],s="Polygon"===this.geometry.getJSONType()&&a.length>0&&Array.isArray(a[0][0])||"LineString"===this.geometry.type&&a.length>0&&Array.isArray(a[0]);if(s)for(var l=0;l<a.length;l++){this.prepareCanvas(e,n,t),r&&i&&!n["lineColor"]["places"]&&this._createGradient(e,a[l],n["lineColor"]);var c=[e,a[l]];o.length>1&&c.push.apply(c,o.slice(1)),c.push(n["lineOpacity"],n["polygonOpacity"],n["lineDasharray"]),this.geometry._paintOn.apply(this.geometry,c)}else{this.prepareCanvas(e,n,t),r&&i&&!n["lineColor"]["places"]&&this._createGradient(e,a,n["lineColor"]);var u=[e];u.push.apply(u,o),u.push(n["lineOpacity"],n["polygonOpacity"],n["lineDasharray"]),this.geometry._paintOn.apply(this.geometry,u)}e.setLineDash&&Array.isArray(n["lineDasharray"])&&e.setLineDash([])}}},n.get2DExtent=function(){var e=this.getMap(),t=this.geometry._getPrjExtent();if(!t)return null;this._extMin&&this._extMax||(this._extMin=new $o(0,0),this._extMax=new $o(0,0)),this._extMin.x=t["xmin"],this._extMin.y=t["ymin"],this._extMax.x=t["xmax"],this._extMax.y=t["ymax"];var n=e._prjToPoint(this._extMin,void 0,Ki),o=e._prjToPoint(this._extMax,void 0,Yi);return this._pxExtent?this._pxExtent.set(Math.min(n.x,o.x),Math.min(n.y,o.y),Math.max(n.x,o.x),Math.max(n.y,o.y)):this._pxExtent=new sr(n,o),this._pxExtent},n.getFixedExtent=function(){var e=this.style["lineWidth"]/2;return new sr(-e,-e,e,e)},n._getPaintParams=function(){return this.getPainter().getPaintParams(this.style["lineDx"],this.style["lineDy"])},n.translate=function(){var e=this.symbol,t={lineColor:Ve(e["lineColor"],"#000"),lineWidth:Ve(e["lineWidth"],2),lineOpacity:Ve(e["lineOpacity"],1),lineDasharray:Ve(e["lineDasharray"],[]),lineCap:Ve(e["lineCap"],"butt"),lineJoin:Ve(e["lineJoin"],"miter"),linePatternFile:Ve(e["linePatternFile"],null),lineDx:Ve(e["lineDx"],0),lineDy:Ve(e["lineDy"],0),polygonFill:Ve(e["polygonFill"],null),polygonOpacity:Ve(e["polygonOpacity"],1),polygonPatternFile:Ve(e["polygonPatternFile"],null),polygonPatternDx:Ve(e["polygonPatternDx"],0),polygonPatternDy:Ve(e["polygonPatternDy"],0),linePatternDx:Ve(e["linePatternDx"],0),linePatternDy:Ve(e["linePatternDy"],0)};return 0===t["lineWidth"]&&(t["lineOpacity"]=0),"LineString"!==this.geometry.type||t["polygonFill"]||(t["polygonFill"]=t["lineColor"]),t},n._createGradient=function(e,t,n){if(Array.isArray(t)&&t.length){var o=t.length,r=e.createLinearGradient(t[0].x,t[0].y,t[o-1].x,t[o-1].y);n["colorStops"].forEach((function(e){r.addColorStop.apply(r,e)})),e.strokeStyle=r}},t}(Ii),Xi=function(e){function t(t,n,o){var r;r=e.call(this,t,n,o)||this;var i=r.translate();return r._dynamic=Dt(i),r.style=r._defineStyle(i),0===r.style["textWrapWidth"]?Te(r):(r.strokeAndFill=r._defineStyle(r.translateLineAndFill(r.style)),r)}ke(t,e),t.test=function(e){return wi(e)};var n=t.prototype;return n.symbolize=function(e,t){if(this.painter.isHitTesting()||0!==this.style["textSize"]&&(this.style["textOpacity"]||this.style["textHaloRadius"]&&this.style["textHaloOpacity"])&&0!==this.style["textWrapWidth"]){var n=this._getRenderContainerPoints();if(Ge(n)){var o=this.style,r=this.strokeAndFill,i=bn(this.style["textName"],this.geometry.getProperties());this._dynamic&&delete this._textDesc;var a=this._textDesc=this._textDesc||wn(i,this.style);this._prepareContext(e),this.prepareCanvas(e,r,t),Eo.prepareCanvasFont(e,o);for(var s=0,l=n.length;s<l;s++){var c=n[s],u=this.getRotation()?this._rotate(e,c,this._getRotationAt(s)):null;u&&(c=u),Eo.text(e,i,c,o,a),u&&e.restore()}}}},n.getPlacement=function(){return this.symbol["textPlacement"]},n.getRotation=function(){var e=this.style["textRotation"];return O(e)?-e*Math.PI/180:null},n.getDxDy=function(){var e=this.style;return new Pe(e["textDx"],e["textDy"])},n.getFixedExtent=function(){var e=this.geometry.getTextDesc();return Array.isArray(e)&&(e=e[this._index]),this._fixedExtent=this._fixedExtent||new sr,e?vi(this._fixedExtent,this.style,e):this._fixedExtent},n.translate=function(){var e=this.symbol,t={textName:e["textName"],textFaceName:Ve(e["textFaceName"],"monospace"),textWeight:Ve(e["textWeight"],"normal"),textStyle:Ve(e["textStyle"],"normal"),textSize:Ve(e["textSize"],k),textFont:Ve(e["textFont"],null),textFill:Ve(e["textFill"],"#000"),textOpacity:Ve(e["textOpacity"],1),textHaloFill:Ve(e["textHaloFill"],"#ffffff"),textHaloRadius:Ve(e["textHaloRadius"],0),textHaloOpacity:Ve(e["textHaloOpacity"],1),textWrapWidth:Ve(e["textWrapWidth"],null),textWrapCharacter:Ve(e["textWrapCharacter"],"\n"),textLineSpacing:Ve(e["textLineSpacing"],0),textDx:Ve(e["textDx"],0),textDy:Ve(e["textDy"],0),textHorizontalAlignment:Ve(e["textHorizontalAlignment"],"middle"),textVerticalAlignment:Ve(e["textVerticalAlignment"],"middle"),textAlign:Ve(e["textAlign"],"center"),textRotation:Ve(e["textRotation"],0),textMaxWidth:Ve(e["textMaxWidth"],0),textMaxHeight:Ve(e["textMaxHeight"],0)};return t["textMaxWidth"]>0&&(!t["textWrapWidth"]||t["textWrapWidth"]>t["textMaxWidth"])&&(t["textWrapWidth"]||(t["textMaxHeight"]=1),t["textWrapWidth"]=t["textMaxWidth"]),t},n.translateLineAndFill=function(e){return{lineColor:e["textHaloRadius"]?e["textHaloFill"]:e["textFill"],lineWidth:e["textHaloRadius"],lineOpacity:e["textOpacity"],lineDasharray:null,lineCap:"butt",lineJoin:"round",polygonFill:e["textFill"],polygonOpacity:e["textOpacity"]}},t}(Zi),Qi=[],ea=function(e){function t(t,n,o){var r;r=e.call(this,t,n,o)||this;var i=r.translate();return r._dynamic=Dt(i),r.style=r._defineStyle(i),r.strokeAndFill=r._defineStyle(Hi(r.style)),r.padding=0,r}ke(t,e),t.test=function(e){return xi(e)};var n=t.prototype;return n.symbolize=function(e,t){var n=this.style;if(this.painter.isHitTesting()||0!==n["markerWidth"]&&0!==n["markerHeight"]&&(0!==n["polygonOpacity"]||0!==n["lineOpacity"])){var o=this._getRenderContainerPoints();Ge(o)&&(this._prepareContext(e),this.getPainter().isSpriting()||this.geometry.getLayer().getMask()===this.geometry||this._dynamic||!1===this.geometry.getLayer().options["cacheVectorOnCanvas"]?this._drawMarkers(e,o,t):this._drawMarkersWithCache(e,o,t))}},n._drawMarkers=function(e,t,n){for(var o=t.length-1;o>=0;o--){var r=t[o],i=this.getRotation()?this._rotate(e,r,this._getRotationAt(o)):null;i&&(r=i),this._drawVectorMarker(e,r,n),i&&e.restore()}},n._drawMarkersWithCache=function(e,t,n){var o=this._stampSymbol(),r=n.getImage(o);r||(r=this._createMarkerImage(e,n),n.addResource([o,r.width,r.height],r));for(var i=di(this.style,r.width,r.height),a=t.length-1;a>=0;a--){var s=t[a],l=this.getRotation()?this._rotate(e,s,this._getRotationAt(a)):null;l&&(s=l),Eo.image(e,r,s.x+i.x,s.y+i.y),l&&e.restore()}},n._createMarkerImage=function(e,t){var n=e.canvas.constructor,o=hi(Qi,this.style),r=Eo.createCanvas(o[0],o[1],n),i=this._getCacheImageAnchor(o[0],o[1]),a=r.getContext("2d");return this._drawVectorMarker(a,i,t),r},n._stampSymbol=function(){return this._stamp||(this._stamp=kn([this.style["markerType"],En(this.style["markerFill"])?Tn(this.style["markerFill"]):this.style["markerFill"],this.style["markerFillOpacity"],this.style["markerFillPatternFile"],En(this.style["markerLineColor"])?Tn(this.style["markerLineColor"]):this.style["markerLineColor"],this.style["markerLineWidth"],this.style["markerLineOpacity"],this.style["markerLineDasharray"]?this.style["markerLineDasharray"].join(","):"",this.style["markerLinePatternFile"],this.style["markerWidth"],this.style["markerHeight"],this.style["markerHorizontalAlignment"],this.style["markerVerticalAlignment"]].join("_"))),this._stamp},n._getCacheImageAnchor=function(e,t){var n=2*(this.symbol["shadowBlur"]||0),o=n+this.padding,r=this.style["markerType"];return"bar"===r||"pie"===r||"pin"===r?new Pe(e/2,t-o):"rectangle"===r?new Pe(o,o):new Pe(e/2,t/2)},n._getGraidentExtent=function(e){var t=new sr,n=this.getDxDy(),o=this.getFixedExtent();if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)t._combine(e[r]);else t._combine(e);return t["xmin"]+=o["xmin"]-n.x,t["ymin"]+=o["ymin"]-n.y,t["xmax"]+=o["xmax"]-n.x,t["ymax"]+=o["ymax"]-n.y,t},n._drawVectorMarker=function(e,t,n){Ni(e,t,this.style,n)},n.getFixedExtent=function(){var e=this.isDynamicSize(),t=this.style.markerWidth,n=this.style.markerHeight;return this._fixedExtent=this._fixedExtent||new sr,si(this._fixedExtent,this.style,e?[128,128*(0===t?1:n/t)]:null)},n.translate=function(){var e=this.symbol,t={markerType:Ve(e["markerType"],"ellipse"),markerFill:Ve(e["markerFill"],"#00f"),markerFillOpacity:Ve(e["markerFillOpacity"],1),markerFillPatternFile:Ve(e["markerFillPatternFile"],null),markerLineColor:Ve(e["markerLineColor"],"#000"),markerLineWidth:Ve(e["markerLineWidth"],ni.markerLineWidth),markerLineOpacity:Ve(e["markerLineOpacity"],1),markerLineDasharray:Ve(e["markerLineDasharray"],[]),markerLinePatternFile:Ve(e["markerLinePatternFile"],null),markerDx:Ve(e["markerDx"],0),markerDy:Ve(e["markerDy"],0),markerWidth:Ve(e["markerWidth"],ni.markerWidth),markerHeight:Ve(e["markerHeight"],ni.markerHeight),markerRotation:Ve(e["markerRotation"],0),shadowBlur:Ve(e["shadowBlur"],0),shadowOffsetX:Ve(e["shadowOffsetX"],0),shadowOffsetY:Ve(e["shadowOffsetY"],0)},n=t["markerType"],o=li(n),r=ci(n);return t["markerHorizontalAlignment"]=Ve(e["markerHorizontalAlignment"],o),t["markerVerticalAlignment"]=Ve(e["markerVerticalAlignment"],r),O(e["markerOpacity"])&&(O(e["markerFillOpacity"])&&(t["markerFillOpacity"]*=e["markerOpacity"]),O(e["markerLineOpacity"])&&(t["markerLineOpacity"]*=e["markerOpacity"])),t},t}(Zi),ta=function(e){function t(t,n,o){var r;M(t["markerWidth"])&&(t["markerWidth"]=80),M(t["markerHeight"])&&(t["markerHeight"]=80),r=e.call(this,t,n,o)||this,t=T(t,r.translate());var i=r.style=r._defineStyle(t);return _e.gecko?r._url=[rn(i,i["markerWidth"],i["markerHeight"]),i["markerWidth"],i["markerHeight"]]:r._url=[rn(i),i["markerWidth"],i["markerHeight"]],r}ke(t,e),t.test=function(e){return Ci(e)};var n=t.prototype;return n._prepareContext=function(){},n._getImage=function(e){var t=this;if(e&&e.isResourceLoaded(this._url))return e.getImage(this._url);var n=this.painter,o=new Image;return o.onload=function(){var e=n.getLayer()&&n.getLayer().getRenderer();e&&e.setToRedraw()},o.onerror=function(n){n&&"undefined"!==typeof console&&console.warn(n),e.markErrorResource(t._url)},o.src=this._url[0],e&&e.addResource(this._url,o),o},t}(Gi),na={lineWidth:1,polygonFill:"#fff",polygonOpacity:.5},oa=function(e){function t(t,n,o){var r;return r=e.call(this,t,n,o)||this,r.style=n.getLayer().options["drawAltitude"],r.style&&A(r.style)||(r.style={lineWidth:2}),r.style["lineWidth"]||(r.style["lineWidth"]=0),r.dxdy=r._defineStyle({dx:t["textDx"]||t["markerDx"],dy:t["textDy"]||t["markerDy"]}),r}ke(t,e),t.test=function(e,t){var n=t.getLayer();if(!n)return!1;var o=t.getJSONType();return"Marker"===o||"LineString"===o};var n=t.prototype;return n.symbolize=function(e){var t=this.geometry.getLayer();if(t.options["drawAltitude"]){var n=this.geometry.getProperties();if(n&&n[t.options["altitudeProperty"]]){var o=this._getStyle();if(this._prepareContext(e),"LineString"===this.geometry.type){var r=this._getPaintParams(o["lineDx"],o["lineDy"],!1,!0);if(!r)return;var i=this.getPainter().getPaintParams(o["lineDx"],o["lineDy"],!0,!0,"_groundpt")[0];this._drawLineAltitude(e,r[0],i)}else{var a=this._getRenderContainerPoints(),s=this._getRenderContainerPoints(!0);if(!a||0===a.length)return;this._drawMarkerAltitude(e,a[0],s[0])}}}},n.getDxDy=function(){var e=this.dxdy;return new Pe(e["dx"]||0,e["dy"]||0)},n.get2DExtent=function(){return"LineString"===this.geometry.type?Ji.prototype.get2DExtent.apply(this):e.prototype.get2DExtent.call(this)},n.getPlacement=function(){return"point"},n._getPaintParams=function(e,t){return this.getPainter().getPaintParams(e||0,t||0,null,!0,"_altpt")},n._drawMarkerAltitude=function(e,t,n){var o=this._getStyle();this.prepareCanvas(e,o),Eo.path(e,[t,n],o["lineOpacity"],null,o["lineDasharray"])},n._drawLineAltitude=function(e,t,n){var o=this._getStyle(),r=t.length>0&&Array.isArray(t[0]);if(r)for(var i=0;i<t.length;i++)this._drawLine(e,t[i],n[i]);else this._drawLine(e,t,n);e.setLineDash&&Array.isArray(o["lineDasharray"])&&e.setLineDash([])},n._drawLine=function(e,t,n){var o=this._getStyle();this.prepareCanvas(e,o);for(var r=0,i=t.length-1;r<i;r++)Eo.polygon(e,[t[r],t[r+1],n[r+1],n[r]],o["lineOpacity"],o["polygonOpacity"],o["lineDasharray"])},n._getStyle=function(){var e=this.geometry.getLayer().options["drawAltitude"];return A(e)||(e=na),e["lineWidth"]||(e["lineWidth"]=0,e["lineOpacity"]=0),e},t}(Zi),ra=[oa,Ji,Gi,ta,ea,Xi],ia=new Pe(0,0),aa=new sr,sa=new sr,la=new sr,ca=new sr,ua=new sr,da={},ha={minx:1/0,miny:1/0,maxx:-1/0,maxy:-1/0},ma=function(e){function t(t){var n;return n=e.call(this)||this,n.geometry=t,n.symbolizers=n._createSymbolizers(),n._altAtGL=n._getGeometryAltitude(),n}ke(t,e);var n=t.prototype;return n.getMap=function(){return this.geometry.getMap()},n.getLayer=function(){return this.geometry.getLayer()},n._createSymbolizers=function(){var e=this.getSymbol(),t=[],n=ra,o=e;Array.isArray(e)||(o=[e]);for(var r=o.length-1;r>=0;r--)for(var i=o[r],a=n.length-1;a>=0;a--)if(n[a].test(i,this.geometry)){var s=new n[a](i,this.geometry,this);s._index=r,t.push(s),s instanceof Zi&&(this._hasPoint=!0)}if(!t.length&&console){var l=this.geometry.getId();console.warn("invalid symbol for geometry("+(this.geometry?this.geometry.getType()+(l?":"+l:""):"")+") to draw : "+JSON.stringify(e))}return this._debugSymbolizer=new $i(e,this.geometry,this),t},n.hasPoint=function(){return!!this._hasPoint},n.getRenderPoints=function(e){return this._verifyProjection(),this._renderPoints||(this._renderPoints={}),e||(e="center"),this._renderPoints[e]||(this._renderPoints[e]=this.geometry._getRenderPoints(e)),this._renderPoints[e]},n.getPaintParams=function(e,t,n,o,r){void 0===r&&(r="_pt");var i,a,s,l,c,u=this.getLayer()._getRenderer(),d=u.mapStateCache,h=this.getMap();d&&!this._hitPoint?(i=d.resolution,a=d.pitch,s=d.bearing,l=d.glScale,c=d.containerExtent):(i=h.getResolution(),a=h.getPitch(),s=h.getBearing(),l=h.getGLScale(),c=h.getContainerExtent());var m=this.geometry,p=i,f=0!==a,g=0!==s,v=this._cachedParams,y=m._paintAsPath&&m._paintAsPath();if(y&&this._unsimpledParams&&p<=this._unsimpledParams._res)v=this._unsimpledParams;else if(!v||v._res!==i||this._pitched!==f&&m._redrawWhenPitch()||this._rotated!==g&&m._redrawWhenRotate()){if(v=m._getPaintParams(),!v)return null;v._res=p,!m._simplified&&y&&(this._unsimpledParams||(this._unsimpledParams=v),p>this._unsimpledParams._res&&(this._unsimpledParams._res=p)),this._cachedParams=v}if(!v)return null;this._pitched=f,this._rotated=g;var b=l,w=[],_=v[0],x=c,C=this._pointContainerPoints(_,e,t,n,o||this._hitPoint&&!x.contains(this._hitPoint),null,r);if(!C)return null;w.push(C);for(var S=1,k=v.length;S<k;S++)O(v[S])||v[S]instanceof cn?O(v[S])?w.push(v[S]/b):w.push(v[S].multi(1/b)):w.push(v[S]);return w},n._pointContainerPoints=function(e,t,n,o,r,i,a){if(void 0===a&&(a="_pt"),this._aboveCamera())return null;var s,l,c,u=this.getLayer()._getRenderer(),d=u.mapStateCache,h=this.getMap(),m=this.geometry,p=this.containerOffset;d?(s=d.glRes,l=d.containerExtent):(s=h.getGLRes(),l=h.getContainerExtent());var f=this.getLayer().options["roundPoint"],g=1/0,v=1/0,y=-1/0,b=-1/0,w=!r,_=u.layer.options["clipBBoxBufferSize"]||3,x=this.symbolizers;function C(e,o){void 0===e&&(e=[]),void 0===o&&(o=[]);var r=st(e,a);r=h._pointsAtResToContainerPoints(e,s,o,r);for(var i=0,c=r.length;i<c;i++){var u=r[i];u._sub(p),(t||n)&&u._add(t||0,n||0),f&&(u.x=Math.ceil(u.x),u.y=Math.ceil(u.y)),g=Math.min(u.x,g),v=Math.min(u.y,v),y=Math.max(u.x,y),b=Math.max(u.y,b)}if(w&&Nn(x)){if(ua.ymin=l.ymin,ua.ymin<_&&(ua.ymin=l.ymin-_),ua.xmin=l.xmin-_,ua.xmax=l.xmax+_,ua.ymax=l.ymax+_,m.getShell&&m.getHoles)return Oi(r,ua);var d=Ti(r,ua,!1);if(d.length){var C=[];return d.forEach((function(e){for(var t=0,n=e.length;t<n;t++)C.push(e[t].point)})),C}}return r}var S=this.getAltitude();if(Array.isArray(e)){var k,E=this.geometry;!r&&E.options["enableClip"]?(k=this._clip(e,S),k.inView&&(w=!1)):k={points:e,altitude:S};var T=k.points;S=k.altitude,o&&(S=0);var M=S;c=[];for(var D=[],A=O(S),R=0,P=T.length;R<P;R++){var I=T[R];if(Array.isArray(I)){if(A){var z=C(I,S);c.push(z);continue}for(var N=[],L=0,H=I.length;L<H;L++)Array.isArray(S)&&(M=S[R]?S[R][L]:0),N.push(M);var F=C(I,N);c.push(F)}else Array.isArray(S)&&(M="vertex-last"===i?S[S.length-1-R]:"line"===i?(S[R]+S[R+1])/2:S[R]),D.push(M)}D.length&&(c=C(T,D))}else e instanceof Pe&&(o&&(S=0),c=h._pointAtResToContainerPoint(e,s,S)._sub(p),(t||n)&&c._add(t,n));return ha.minx=g,ha.miny=v,ha.maxx=y,ha.maxy=b,this._containerBbox=ha,c},n._clip=function(e,t){if(O(t)&&0!==t)return{points:e,altitude:t};if(Array.isArray(t)){for(var n=!1,o=0,r=t.length;o<r;o++)if(0!==t[o]){n=!0;break}if(n)return{points:e,altitude:t}}var i=this.getMap(),a=this.geometry,s=this.getSymbol()["lineWidth"];O(s)||(s=4);var l,c,u,d=this.getLayer()._getRenderer(),h=d.mapStateCache;h?(l=h._2DExtent,c=h.glExtent,u=h.pitch):(l=i._get2DExtent(),c=i._get2DExtentAtRes(i.getGLRes()),u=i.getPitch());var m=l._expand(s);if(u>0&&t){var p=i.cameraLookAt,f=i.cameraPosition;ia.set(f.x,f.y),m=m._combine(ia._add(je(p[0]-f[0]),je(p[1]-f[1])))}var g=this.get2DExtent(null,ca),v=e;if(g.within(m))return{points:v,altitude:t,inView:!0};var y=c._expand(s*i._glScale);la.xmin=y.xmin,la.xmax=y.xmax,la.ymin=y.ymin,la.ymax=y.ymax;var b=a.options["smoothness"];if(a.getShell&&this.geometry.getHoles&&!b){var w=y.xmin,_=y.ymin,x=y.xmax,C=y.ymax,S=Math.abs(x-w),k=Math.abs(C-_),E=Math.sqrt(S*S+k*k),T=(E-S)/2,M=(E-k)/2;if(la.xmin=y.xmin-T,la.xmax=y.xmax+T,la.ymin=y.ymin-M,la.ymax=y.ymax+M,Array.isArray(e[0])){v=[];for(var D=0;D<e.length;D++){var A=Oi(e[D],la);A.length&&v.push(A)}}else v=Oi(e,la)}else if("LineString"===a.getJSONType()&&!b){if(Array.isArray(e[0])){v=[];for(var R=0;R<e.length;R++)Fe(v,Ti(e[R],la,!1,!!b))}else v=Ti(e,la,!1,!!b);return this._interpolateSegAlt(v,e,t)}return{points:v,altitude:t}},n._interpolateSegAlt=function(e,t,n){if(!Array.isArray(n)){var o=function(e){return e.point};return{points:e.map((function(e){return Array.isArray(e)?e.map(o):e.point})),altitude:n}}var r=pa(e,t,n);n=[];var i=r.map((function(e){if(Array.isArray(e)){var t=[],o=e.map((function(e){return t.push(e.altitude),e.point}));return n.push(t),o}return n.push(e.altitude),e.point}));return{points:i,altitude:n}},n.getSymbol=function(){return this.geometry._getInternalSymbol()},n.paint=function(e,t,n){if(this.symbolizers){var o=this.getLayer(),r=o._getRenderer();if(r&&(r.context||t)){var i=r.mapStateCache||{};if(this.geometry._isCheck||!e||e.intersects(this.get2DExtent(r.resources,aa))){var a=this.getMap();if(!this._aboveCamera()){this.containerOffset=n||i.offset||a._pointToContainerPoint(r.southWest)._add(0,-a.height),this._beforePaint();for(var s=t||r.context,l=[s,r.resources],c=this.symbolizers.length-1;c>=0;c--)(s.shadowBlur||this.symbolizers[c].symbol["shadowBlur"])&&this._prepareShadow(s,this.symbolizers[c].symbol),this.symbolizers[c].symbolize.apply(this.symbolizers[c],l);this._afterPaint(),this._painted=!0,(this.geometry.options["debug"]||o.options["debug"])&&this._debugSymbolizer.symbolize.apply(this._debugSymbolizer,l)}}}}},n.getSprite=function(e,t){if("Point"!==this.geometry.type)return null;if(this._spriting=!0,!this._sprite&&this.symbolizers.length>0){var n=new sr;this.symbolizers.forEach((function(t){var o=t.getFixedExtent(e);n._combine(o)}));var o,r=n.getMin().multi(-1),i=t||(this.getMap()?this.getMap().CanvasClass:null),a=Eo.createCanvas(n.getWidth(),n.getHeight(),i);this._renderPoints&&(o=this._renderPoints);for(var s=a.getContext("2d"),l=[s,e],c=this.symbolizers.length-1;c>=0;c--){var u=this.symbolizers[c].getDxDy();this._renderPoints={center:[[r.add(u)]]},this._prepareShadow(s,this.symbolizers[c].symbol),this.symbolizers[c].symbolize.apply(this.symbolizers[c],l)}o&&(this._renderPoints=o),this._sprite={canvas:a,offset:n.getCenter()}}return this._spriting=!1,this._sprite},n.isSpriting=function(){return!!this._spriting},n.hitTest=function(e,t){if((!t||t<.5)&&(t=.5),this._hitPoint=e.sub(t,t),!Bi){var n=this.getMap()?this.getMap().CanvasClass:null;Bi=Eo.createCanvas(1,1,n)}Eo.setHitTesting(!0),Bi.width=Bi.height=2*t;var o=Eo.getCanvas2DContext(Bi);try{this.paint(null,o,this._hitPoint)}catch($d){throw $d}finally{Eo.setHitTesting(!1)}delete this._hitPoint;for(var r=o.getImageData(0,0,Bi.width,Bi.height).data,i=3,a=r.length;i<a;i+=4)if(r[i]>0)return!0;return!1},n.isHitTesting=function(){return!!this._hitPoint},n._prepareShadow=function(e,t){t["shadowBlur"]?(e.shadowBlur=this.isHitTesting()?0:t["shadowBlur"],e.shadowColor=t["shadowColor"]||"#000",e.shadowOffsetX=t["shadowOffsetX"]||0,e.shadowOffsetY=t["shadowOffsetY"]||0):e.shadowBlur&&(e.shadowBlur=null,e.shadowColor=null,e.shadowOffsetX=null,e.shadowOffsetY=null)},n._eachSymbolizer=function(e,t){if(this.symbolizers){t||(t=this);for(var n=this.symbolizers.length-1;n>=0;n--)e.apply(t,[this.symbolizers[n]])}},n.get2DExtent=function(e,t){this._verifyProjection();var n=this.getMap();e=e||this.getLayer()._getRenderer().resources;var o=n.getZoom(),r=this._isDynamicSize();if(this._extent2D&&this._extent2D._zoom===o&&this._fixedExtent||(this._extent2D&&this._extent2D._zoom!==o&&delete this._extent2D,this.symbolizers&&(this._extent2D||(this._extent2D=this._computeExtent2D(new sr),this._extent2D._zoom=o),this._fixedExtent||(this._fixedExtent=this._computeFixedExtent(e,new sr)))),!this._extent2D)return r&&delete this._fixedExtent,null;var i=this._fixedExtent,a=i.xmin,s=i.ymin,l=i.xmax,c=i.ymax;return r&&delete this._fixedExtent,sa.set(a,-c,l,-s),t?(t.set(this._extent2D["xmin"],this._extent2D["ymin"],this._extent2D["xmax"],this._extent2D["ymax"]),t._add(sa),t):this._extent2D.add(sa)},n._computeExtent2D=function(e){for(var t=this.symbolizers.length-1;t>=0;t--){var n=this.symbolizers[t];e._combine(n.get2DExtent())}return e},n._computeFixedExtent=function(e,t){for(var n=this.symbolizers.length-1;n>=0;n--){var o=this.symbolizers[n];o.getFixedExtent&&t._combine(o.getFixedExtent(e))}return t},n._isDynamicSize=function(){for(var e=this.symbolizers.length-1;e>=0;e--){var t=this.symbolizers[e];if(t.isDynamicSize())return!0}return!1},n._aboveCamera=function(){var e=this.getMinAltitude(),t=this.getMap(),n=t.getGLRes();e=t.altitudeToPoint(e,n)*je(e);var o=t.getFrustumAltitude();return e&&o&&o<e},n.getFixedExtent=function(){var e=this.getMap(),t=e.getZoom();return this._isDynamicSize()?this._computeFixedExtent(null,new sr):(this._extent2D&&this._extent2D._zoom===t||this.get2DExtent(null,sa),this._fixedExtent)},n.setZIndex=function(e){this._eachSymbolizer((function(t){t.setZIndex(e)}))},n.show=function(){if(this._painted)this.removeCache(),this._eachSymbolizer((function(e){e.show()}));else{var e=this.getLayer();e.isCanvasRender()||this.paint()}},n.hide=function(){this._eachSymbolizer((function(e){e.hide()}))},n.repaint=function(){this._altAtGL=this._getGeometryAltitude(),this.removeCache();var e=this.getLayer();if(e){var t=e.getRenderer();t&&t.setToRedraw()&&t.setToRedraw()}},n.refreshSymbol=function(){this.removeCache(),this._removeSymbolizers(),this.symbolizers=this._createSymbolizers()},n.remove=function(){this.removeCache(),this._removeSymbolizers()},n._removeSymbolizers=function(){this._eachSymbolizer((function(e){delete e.painter,e.remove()})),delete this.symbolizers},n.removeCache=function(){delete this._renderPoints,delete this._paintParams,delete this._sprite,delete this._extent2D,delete this._fixedExtent,delete this._cachedParams,delete this._unsimpledParams},n.getAltitude=function(){var e=this.geometry._getAltitude();return e!==this._propAlt&&(this._altAtGL=this._getGeometryAltitude()),this._altAtGL?this._altAtGL:0},n.getMinAltitude=function(){return this.minAltitude?this.minAltitude:0},n.getMaxAltitude=function(){return this.maxAltitude?this.maxAltitude:0},n._getGeometryAltitude=function(){var e=this,t=this.getMap();if(!t)return 0;var n=this.geometry._getAltitude();if(this._propAlt=n,!n)return this.minAltitude=this.maxAltitude=0,0;var o=this.geometry.getCenter();return o?Array.isArray(n)?(this.minAltitude=Number.MAX_VALUE,this.maxAltitude=Number.MIN_VALUE,n.map((function(t){var n=t;return n<e.minAltitude&&(e.minAltitude=n),n>e.maxAltitude&&(e.maxAltitude=n),n}))):(this.minAltitude=this.maxAltitude=n,this.minAltitude):0},n._verifyProjection=function(){var e=this.geometry._getProjection()||da;this._projCode&&this._projCode!==e.code&&this.removeCache(),this._projCode=e.code},n._beforePaint=function(){},n._afterPaint=function(){},t}(No);function pa(e,t,n){if(!Array.isArray(n))return e;for(var o=[],r=0,i=e.length;r<i;r++)if(Array.isArray(e[r]))o.push(pa(e[r],t,n));else{var a=e[r];if(a.point.equals(t[a.index]))a.altitude=n[a.index],o.push(a);else{var s=void 0,l=void 0;0===a.index?(s=a.index,l=a.index+1):(s=a.index-1,l=a.index);var c=a.point.distanceTo(t[l]),u=c/(c+t[s].distanceTo(a.point)),d=Ze(n[s],n[l],1-u);a.altitude=d,o.push(a)}}return o}var fa=new sr,ga=function(e){function t(t,n){var o;return o=e.call(this)||this,o.geometry=t,o.isMask=n,o}ke(t,e);var n=t.prototype;return n._eachPainter=function(e){for(var t,n=this.geometry.getGeometries(),o=0,r=n.length;o<r;o++)if(t=this.isMask?n[o]._getMaskPainter():n[o]._getPainter(),t&&t&&!1===e.call(this,t))break},n.paint=function(e){this.geometry&&this._eachPainter((function(t){t.paint(e)}))},n.get2DExtent=function(e,t){t&&t.set(null,null,null,null);var n=t||new sr;return this._eachPainter((function(t){n=n._combine(t.get2DExtent(e,fa))})),n},n.remove=function(){var e=arguments;this._eachPainter((function(t){t.remove.apply(t,e)}))},n.setZIndex=function(){var e=arguments;this._eachPainter((function(t){t.setZIndex.apply(t,e)}))},n.show=function(){var e=arguments;this._eachPainter((function(t){t.show.apply(t,e)}))},n.hide=function(){var e=arguments;this._eachPainter((function(t){t.hide.apply(t,e)}))},n.repaint=function(){var e=arguments;this._eachPainter((function(t){t.repaint.apply(t,e)}))},n.refreshSymbol=function(){var e=arguments;this._eachPainter((function(t){t.refreshSymbol.apply(t,e)}))},n.hasPoint=function(){var e=!1;return this._eachPainter((function(t){return!t.hasPoint()||(e=!0,!1)})),e},n.getMinAltitude=function(){var e=!0,t=0;return this._eachPainter((function(n){var o=n.getMinAltitude();(e||o<t)&&(e=!1,t=o)})),t},n.getMaxAltitude=function(){var e=0;return this._eachPainter((function(t){var n=t.getMaxAltitude();n>e&&(e=n)})),e},t}(No),va=23,ya={"EPSG:3857":{projection:"EPSG:3857",resolutions:function(){for(var e=[],t=12756274*Math.PI,n=0;n<va;n++)e[n]=t/(256*Math.pow(2,n));return e}(),fullExtent:{top:6378137*Math.PI,left:-6378137*Math.PI,bottom:-6378137*Math.PI,right:6378137*Math.PI}},"EPSG:4326":{projection:"EPSG:4326",fullExtent:{top:90,left:-180,bottom:-90,right:180},resolutions:function(){for(var e=[],t=0;t<va;t++)e[t]=180/(128*Math.pow(2,t));return e}()},BAIDU:{projection:"baidu",resolutions:function(){for(var e=Math.pow(2,18),t=[],n=0;n<va;n++)t[n]=e,e*=.5;return t}(),fullExtent:{top:33554432,left:-33554432,bottom:-33554432,right:33554432}},IDENTITY:{projection:"identity",resolutions:function(){for(var e=Math.pow(2,8),t=[],n=0;n<va;n++)t[n]=e,e*=.5;return t}(),fullExtent:{top:2e5,left:-2e5,bottom:-2e5,right:2e5}},"PRESET-VT-3857":{projection:"EPSG:3857",resolutions:function(){for(var e=[],t=6378137*Math.PI,n=0;n<va;n++)e[n]=t/(256*Math.pow(2,n));return e}(),fullExtent:{top:6378137*Math.PI,left:-6378137*Math.PI,bottom:-6378137*Math.PI,right:6378137*Math.PI}}};ya["EPSG:4490"]=ya["EPSG:4326"];var ba=function(){function e(e){void 0===e&&(e={}),this.options=e,this._initSpatialRef()}e.registerPreset=function(e,t){if(e=e&&e.toUpperCase(),ya[e])throw new Error("Spatial reference "+e+" already existed.");ya[e]=t},e.getPreset=function(e){return ya[e.toUpperCase()]},e.getAllPresets=function(){return Object.keys(ya)},e.getProjectionInstance=function(e){if(!e)return null;if(A(e))return e.locate||(e=T({},e),"identity"===e.measure?T(e,_r.getInstance("IDENTITY")):T(e,_r.getInstance("EPSG:4326"))),e;for(var t in e=(e+"").toLowerCase(),Or)if(z(Or,t)){var n=Or[t]["code"];if(n&&n.toLowerCase()===e)return Or[t]}return null},e.equals=function(e,t){if(R(e)||R(t))return e===t;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.projection!==t.projection)return!1;var n=e.fullExtent,o=t.fullExtent;if(n&&!o||!n&&o)return!1;if(n&&o&&(n.top!==o.top||n.bottom!==o.bottom||n.left!==o.left||n.right!==o.right))return!1;var r=e.resolutions,i=t.resolutions;if(r&&i){if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a]!==i[a])return!1}else if(r||i)return!1;return!0};var t=e.prototype;return t._initSpatialRef=function(){var t=this.options["projection"];if(t=t?e.getProjectionInstance(t):Mr,!t)throw new Error("must provide a valid projection in map's spatial reference.");t=T({},cr,t),t.measureLength||T(t,_r.DEFAULT),this._projection=t;var n,o=this.options["resolutions"];if(!o&&(t["code"]&&(n=ya[t["code"].toUpperCase()],n&&(o=n["resolutions"],this.isEPSG="IDENTITY"!==t["code"])),!o))throw new Error("must provide valid resolutions in map's spatial reference.");if(this._resolutions=o,this._pyramid=!0,this._pyramid)for(var r=0;r<o.length;r++)if(o[r]&&o[r-1]&&o[r-1]/o[r]!==2){this._pyramid=!1;break}var i=this.options["fullExtent"];if(!i&&(t["code"]&&(n=ya[t["code"].toUpperCase()],n&&(i=n["fullExtent"])),!i))throw new Error("must provide a valid fullExtent in map's spatial reference.");if(M(i["left"])?(this._fullExtent=new ar(i),i["left"]=i["xmin"],i["right"]=i["xmax"],i["top"]=i["ymax"],i["bottom"]=i["ymin"]):this._fullExtent=new ar(new $o(i["left"],i["top"]),new $o(i["right"],i["bottom"])),M(i["top"])||M(i["bottom"])||M(i["left"])||M(i["right"]))throw new Error("must provide valid top/bottom/left/right in fullExtent.");T(this._fullExtent,i),this._projection.fullExtent=i;var a=i["right"]>=i["left"]?1:-1,s=i["top"]>=i["bottom"]?-1:1;this._transformation=new lr([a,s,0,0])},t.getResolutions=function(){return this._resolutions||[]},t.getResolution=function(e){var t=0|e;t<0?t=0:t>this._resolutions.length-1&&(t=this._resolutions.length-1);var n=this._resolutions[t];if(t!==e&&e>0&&t<this._resolutions.length-1){var o=this._resolutions[t+1];return n+(o-n)*(e-t)}return n},t.getProjection=function(){return this._projection},t.getFullExtent=function(){return this._fullExtent},t.getTransformation=function(){return this._transformation},t.getMinZoom=function(){for(var e=0;e<this._resolutions.length;e++)if(!M(this._resolutions[e]))return e;return 0},t.getMaxZoom=function(){for(var e=this._resolutions.length-1;e>=0;e--)if(!M(this._resolutions[e]))return e;return this._resolutions.length-1},t.getZoomDirection=function(){return je(this._resolutions[this.getMinZoom()]-this._resolutions[this.getMaxZoom()])},t.toJSON=function(){return this.json||(this.json={resolutions:this._resolutions,fullExtent:{top:this._fullExtent.top,left:this._fullExtent.left,bottom:this._fullExtent.bottom,right:this._fullExtent.right},projection:this._projection.code}),this.json},t.isPyramid=function(){return this._pyramid},e}(),wa=new Pe(0,0),_a=new sr,xa={},Ca={id:null,visible:!0,interactive:!0,editable:!0,cursor:null,antiMeridian:!1,defaultProjection:"EPSG:4326"},Sa=function(e){function t(t){var n,o=T({},t),r=o["symbol"],i=o["properties"],a=o["id"];return delete o["symbol"],delete o["id"],delete o["properties"],n=e.call(this,o)||this,r?n.setSymbol(r):n._genSizeSymbol(),i&&n.setProperties(i),M(a)||n.setId(a),n}ke(t,e);var n=t.prototype;return n.getFirstCoordinate=function(){if("GeometryCollection"===this.type){var e=this.getGeometries();return e.length?e[0].getFirstCoordinate():null}var t=this.getCoordinates();if(!Array.isArray(t))return t;do{t=t[0]}while(Array.isArray(t)&&t.length>0);return t},n.getLastCoordinate=function(){if("GeometryCollection"===this.type){var e=this.getGeometries();return e.length?e[e.length-1].getLastCoordinate():null}var t=this.getCoordinates();if(!Array.isArray(t))return t;do{t=t[t.length-1]}while(Array.isArray(t)&&t.length>0);return t},n.addTo=function(e,t){return e.addGeometry(this,t),this},n.getLayer=function(){return this._layer?this._layer:null},n.getMap=function(){return this._layer?this._layer.getMap():null},n.getId=function(){return this._id},n.setId=function(e){var t=this.getId();return this._id=e,this._fireEvent("idchange",{old:t,new:e}),this},n.getProperties=function(){return this.properties?this.properties:this._getParent()?this._getParent().getProperties():null},n.setProperties=function(e){var t=this.properties;return this.properties=A(e)?T({},e):e,this._repaint(),this._fireEvent("propertieschange",{old:t,new:e}),this},n.getType=function(){return this.type},n.getSymbol=function(){var e=this._symbol;return e?Array.isArray(e)?Dn(e):T({},e):null},n.setSymbol=function(e){return this._symbolUpdated=e,this._symbol=this._prepareSymbol(e),this.onSymbolChanged(),delete this._compiledSymbol,delete this._symbolHash,this},n.getSymbolHash=function(){return this._symbolHash||(this._symbolHash=Mn(this._symbolUpdated)),this._symbolHash},n.updateSymbol=function(e){if(!e)return this;var t=this._getSymbol();if(Array.isArray(t)){if(!Array.isArray(e))throw new Error("Parameter of updateSymbol is not an array.");for(var n=0;n<e.length;n++)wi(e[n])&&delete this._textDesc,t[n]&&e[n]&&(t[n]=Dn(t[n],e[n]))}else{if(Array.isArray(e))throw new Error("Geometry's symbol is not an array to update.");wi(t)&&delete this._textDesc,t=Dn(t||this._getInternalSymbol(),e)}return this._eventSymbolProperties=e,delete this._compiledSymbol,this.setSymbol(t)},n.getTextContent=function(){var e=this._getInternalSymbol();if(Array.isArray(e)){for(var t=[],n=!1,o=0;o<e.length;o++)t[o]=bn(e[o]&&e[o]["textName"],this.getProperties()),M(t[o])||(n=!0);return n?t:null}return bn(e&&e["textName"],this.getProperties())},n.getTextDesc=function(){if(!this._textDesc){var e=this.getTextContent(),t=this._sizeSymbol,n=Array.isArray(e);Array.isArray(t)?this._textDesc=t.map((function(t,o){return wn(n?e[o]:"",t)})):this._textDesc=wn(e,t)}return this._textDesc},n.getCenter=function(){return this._computeCenter(this._getMeasurer())},n.getExtent=function(){var e=this._getPrjExtent(),t=this._getProjection();if(e&&t){var n=t.unproject(new $o(e["xmin"],e["ymin"])),o=t.unproject(new $o(e["xmax"],e["ymax"]));return new ar(n,o,t)}return this._computeExtent(this._getMeasurer())},n.getContainerExtent=function(e){var t=this.get2DExtent();if(!t||!t.isValid())return null;var n=this.getMap(),o=n.getGLRes(),r=this.getMinAltitude(),i=t.convertTo((function(e){return n._pointAtResToContainerPoint(e,o,r,wa)}),e),a=this.getMaxAltitude();if(a!==r){var s=t.convertTo((function(e){return n._pointAtResToContainerPoint(e,o,a,wa)}),_a);i._combine(s)}var l=this.getLayer();if(l&&"LineString"===this.type&&a&&l.options["drawAltitude"]){var c=t.convertTo((function(e){return n._pointAtResToContainerPoint(e,o,0,wa)}),_a);i._combine(c)}i&&i._add(this._getFixedExtent());var u=this.options["smoothness"];return u&&i._expand(.15*i.getWidth()),i},n._getFixedExtent=function(){this._fixedExtent||(this._fixedExtent=new sr);var e=this._sizeSymbol,t=(e&&e["lineWidth"]||1)/2;this._fixedExtent.set(-t,-t,t,t);var n=e&&e["lineDx"]||0;this._fixedExtent._add([n,0]);var o=e&&e["lineDy"]||0;return this._fixedExtent._add([0,o]),this._fixedExtent},n.get2DExtent=function(){var e=this.getMap();if(!e)return null;if(this._extent2d)return this._extent2d;var t=this._getPrjExtent();if(!t||!t.isValid())return null;var n=t.getMin(),o=t.getMax(),r=e.getGLRes();return e._prjToPointAtRes(n,r,n),e._prjToPointAtRes(o,r,o),this._extent2d=new sr(n,o),this._extent2d.z=e.getZoom(),this._extent2d},n.getSize=function(){var e=this.getContainerExtent();return e?e.getSize():null},n.containsPoint=function(e,t){if(!this.getMap())throw new Error('The geometry is required to be added on a map to perform "containsPoint".');return e instanceof $o&&(e=this.getMap().coordToContainerPoint(e)),this._containsPoint(e,t)},n._containsPoint=function(e,t){var n=this._getPainter();return!!n&&(t=t||0,this._hitTestTolerance&&(t+=this._hitTestTolerance()),n.hitTest(e,t))},n.show=function(){if(this.options["visible"]=!0,this.getMap()){var e=this._getPainter();e&&e.show(),this._fireEvent("show")}return this},n.hide=function(){if(this.options["visible"]=!1,this.getMap()){this.onHide();var e=this._getPainter();e&&e.hide(),this._fireEvent("hide")}return this},n.isVisible=function(){if(!this.options["visible"])return!1;var e=this._getInternalSymbol();if(!e)return!0;if(Array.isArray(e)){if(!e.length)return!0;for(var t=0,n=e.length;t<n;t++)if(M(e[t]["opacity"])||e[t]["opacity"]>0)return!0;return!1}return M(e["opacity"])||A(e["opacity"])||O(e["opacity"])&&e["opacity"]>0},n.getZIndex=function(){return this.options["zIndex"]||0},n.setZIndex=function(e){var t=this.options["zIndex"];return this.options["zIndex"]=e,this._fireEvent("zindexchange",{old:t,new:e}),this},n.setZIndexSilently=function(e){return this.options["zIndex"]=e,this},n.bringToFront=function(){var e=this.getLayer();if(!e||!e.getGeoMaxZIndex)return this;var t=e.getGeoMaxZIndex();return this.setZIndex(t+1),this},n.bringToBack=function(){var e=this.getLayer();if(!e||!e.getGeoMinZIndex)return this;var t=e.getGeoMinZIndex();return this.setZIndex(t-1),this},n.translate=function(e,t){if(M(e))return this;var n=new $o(e,t);if(0===n.x&&0===n.y)return this;var o=this.getCoordinates();if(this._silence=!0,o)if(Array.isArray(o)){var r=Ue(o,(function(e){return e.add(n)}));this.setCoordinates(r)}else this.setCoordinates(o.add(n));return this._silence=!1,this._fireEvent("positionchange"),this},n.flash=function(e,t,n,o){return at.call(this,e,t,n,o)},n.copy=function(){var e=this.toJSON(),n=t.fromJSON(e);return n.options["visible"]=!0,n},n.remove=function(){var e=this.getLayer();return e?(this._fireEvent("removestart"),this._unbind(),this._fireEvent("removeend"),this._fireEvent("remove"),this):this},n.toGeoJSONGeometry=function(){var e=this._exportGeoJSONGeometry();return e},n.toGeoJSON=function(e){e||(e={});var t={type:"Feature",geometry:null};if(M(e["geometry"])||e["geometry"]){var n=this._exportGeoJSONGeometry();t["geometry"]=n}var o,r=this.getId();return M(r)||(t["id"]=r),(M(e["properties"])||e["properties"])&&(o=this._exportProperties()),t["properties"]=o,t},n.toJSON=function(e){e||(e={});var t=this._toJSON(e),n=this._exportGraphicOptions(e);return T(t,n),t},n.getLength=function(){return this._computeGeodesicLength(this._getMeasurer())},n.getArea=function(){return this._computeGeodesicArea(this._getMeasurer())},n.rotate=function(e,t){if("GeometryCollection"===this.type){var n=this.getGeometries();return n.forEach((function(n){return n.rotate(e,t)})),this}t=t?new $o(t):this.getCenter();var o=this._getMeasurer(),r=this.getCoordinates();if(!Array.isArray(r)){if(t.x!==r.x||t.y!==r.y){var i=o._rotate(r,t,e);this.setCoordinates(i)}return this}return Ue(r,(function(n){return o._rotate(n,t,e)})),this.setCoordinates(r),this},n._getConnectPoints=function(){return[this.getCenter()]},n._initOptions=function(e){var t=T({},e),n=t["symbol"],o=t["properties"],r=t["id"];delete t["symbol"],delete t["id"],delete t["properties"],this.setOptions(t),n&&this.setSymbol(n),o&&this.setProperties(o),M(r)||this.setId(r)},n._bindLayer=function(e){if(this.getLayer())throw new Error("Geometry cannot be added to two or more layers at the same time.");this._layer=e,this._clearCache(),this._bindInfoWindow(),this._bindMenu()},n._prepareSymbol=function(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(sn(this._checkAndCopySymbol(e[n])));return t}return e?(e=this._checkAndCopySymbol(e),sn(e)):null},n._checkAndCopySymbol=function(e){var t={};for(var n in e)C[n]&&R(e[n])?t[n]=+e[n]:t[n]=e[n];return t},n._getSymbol=function(){return this._symbol},n._setExternSymbol=function(e){return this._eventSymbolProperties=e,this._symbol||delete this._textDesc,this._externSymbol=this._prepareSymbol(e),this.onSymbolChanged(),this},n._getInternalSymbol=function(){return this._symbol?this._symbol:this._externSymbol?this._externSymbol:this.options["symbol"]?this.options["symbol"]:null},n._getPrjExtent=function(){var e=this._getProjection();return this._verifyProjection(),!this._extent&&e&&(this._extent=this._computePrjExtent(e)),this._extent},n._unbind=function(){var e=this.getLayer();e&&(this._animPlayer&&this._animPlayer.finish(),this._unbindMenu(),this._unbindInfoWindow(),this.isEditing()&&this.endEdit(),this._removePainter(),this.onRemove&&this.onRemove(),e.onRemoveGeometry&&e.onRemoveGeometry(this),delete this._layer,delete this._internalId,delete this._extent)},n._getInternalId=function(){return this._internalId},n._setInternalId=function(e){this._internalId=e},n._getMeasurer=function(){return this._getProjection()?this._getProjection():ba.getProjectionInstance(this.options["defaultProjection"])},n._getProjection=function(){var e=this.getMap();return e?e.getProjection():null},n._verifyProjection=function(){var e=this._getProjection();this._projCode&&e&&this._projCode!==e.code&&this._clearProjection(),this._projCode=e?e.code:this._projCode},n._getExternalResources=function(){var e=this._getInternalSymbol();return an(e)},n._getPainter=function(){var e=this.getLayer();if(!this._painter&&e)if(-1!==b.indexOf(this.type)){if(e.constructor.getCollectionPainterClass){var t=e.constructor.getCollectionPainterClass();t&&(this._painter=new t(this))}}else if(e.constructor.getPainterClass){var n=e.constructor.getPainterClass();n&&(this._painter=new n(this))}return this._painter},n._getMaskPainter=function(){return this._maskPainter||(this._maskPainter=this.getGeometries&&this.getGeometries()?new ga(this,!0):new ma(this)),this._maskPainter},n._removePainter=function(){this._painter&&this._painter.remove(),delete this._painter},n._paint=function(e){if(this._painter){if(this._dirtyCoords){delete this._dirtyCoords;var t=this._getProjection();t&&(this._pcenter=t.project(this._coordinates),this._clearCache())}this._painter.paint(e)}},n._clearCache=function(){delete this._extent,delete this._extent2d},n._clearProjection=function(){delete this._extent,delete this._extent2d},n._repaint=function(){this._painter&&this._painter.repaint()},n.onHide=function(){this.closeMenu(),this.closeInfoWindow()},n.onShapeChanged=function(){this._clearCache(),this._repaint(),this._fireEvent("shapechange")},n.onPositionChanged=function(){this._clearCache(),this._repaint(),this._fireEvent("positionchange")},n.onSymbolChanged=function(){this._painter&&this._painter.refreshSymbol();var e={};this._eventSymbolProperties?(e.properties=JSON.parse(JSON.stringify(this._eventSymbolProperties)),delete this._eventSymbolProperties):delete this._textDesc,this._genSizeSymbol(),this._fireEvent("symbolchange",e)},n._genSizeSymbol=function(){var e=this._getInternalSymbol();if(e)if(Array.isArray(e)){this._sizeSymbol=[];for(var t=!1,n=0;n<e.length;n++){var o=this._sizeSymbol[n]=this._getSizeSymbol(e[n]);!t&&o&&o._dynamic&&(t=!0)}this._sizeSymbol._dynamic=t}else this._sizeSymbol=this._getSizeSymbol(e);else delete this._sizeSymbol},n._getSizeSymbol=function(e){var t=en({lineWidth:e["lineWidth"],lineDx:e["lineDx"],lineDy:e["lineDy"]},this);return(Ot(e["lineWidth"])||Ot(e["lineDx"])||Ot(e["lineDy"]))&&(t._dynamic=!0),t},n._getCompiledSymbol=function(){return this._compiledSymbol||(this._compiledSymbol=en(this._getInternalSymbol(),this)),this._compiledSymbol},n.onConfig=function(e){var t;e["properties"]&&(t=e["properties"],delete e["properties"]);var n=!1;for(var o in e)if(e.hasOwnProperty(o)){var r=o.slice(0,5);if("arrow"===r||"smoot"===r){n=!0;break}}t?(this.setProperties(t),this._repaint()):n&&this._repaint()},n._setParent=function(e){e&&(this._parent=e)},n._getParent=function(){return this._parent},n._fireEvent=function(e,t){this._silence||(this.getLayer()&&this.getLayer()._onGeometryEvent&&(t||(t={}),t["type"]=e,t["target"]=this,this.getLayer()._onGeometryEvent(t)),this.fire(e,t))},n._toJSON=function(e){return{feature:this.toGeoJSON(e)}},n._exportGraphicOptions=function(e){var t={};return(M(e["options"])||e["options"])&&(t["options"]=this.config()),(M(e["symbol"])||e["symbol"])&&(t["symbol"]=this.getSymbol()),(M(e["infoWindow"])||e["infoWindow"])&&this._infoWinOptions&&(t["infoWindow"]=this._infoWinOptions),t},n._exportGeoJSONGeometry=function(){var e=this.getCoordinates(),t=$o.toNumberArrays(e);return{type:this.getType(),coordinates:t}},n._exportProperties=function(){var e=null,t=this.getProperties();return M(t)||(e=A(t)?T({},t):t),e},n._hitTestTolerance=function(){var e=this.getLayer();return e&&e.options["geometryEventTolerance"]||0},n._getAltitude=function(){var e=this.getLayer();if(!e)return 0;var t=e.options,n=e.getAltitude?e.getAltitude():0,o=t["enableAltitude"];if(!o)return n;var r=ka(e),i=this.properties||xa,a=i[r];if(M(a)){var s=Ea(this,n,o);return M(s)?n:s}return Array.isArray(a)?a.map((function(e){return e+n})):a+n},n.getAltitude=function(){var e=this.getLayer(),t=ka(e),n=this.properties||xa,o=n[t];if(!M(o))return o;var r=Ea(this,0,!1);return M(r)?0:r},n.setAltitude=function(e){if(!O(e))return this;var t=this.getLayer(),n=ka(t),o=this.properties||xa,r=o[n];if(!M(r))if(Array.isArray(r))for(var i=0,a=r.length;i<a;i++)r[i]=e;else o[n]=e;var s=this.getCoordinates?this.getCoordinates():null;if(!s)return this;if(Ta(s,e),t){var l=t.getRenderer();l&&l.gl?this.setCoordinates(s):l&&this._repaint()}return this},n._genMinMaxAlt=function(){var e=this,t=this._getAltitude();Array.isArray(t)?(this._minAlt=Number.MAX_VALUE,this._maxAlt=Number.MIN_VALUE,t.forEach((function(t){var n=t;n<e._minAlt&&(e._minAlt=n),n>e._maxAlt&&(e._maxAlt=n)}))):this._minAlt=this._maxAlt=t},n.getMinAltitude=function(){return void 0===this._minAlt&&this._genMinMaxAlt(),this._minAlt?this._minAlt:0},n.getMaxAltitude=function(){return void 0===this._maxAlt&&this._genMinMaxAlt(),this._maxAlt?this._maxAlt:0},t}(Ho(Po(Uo(No))));function ka(e){var t="altitude";if(e){var n=e.options;t=n["altitudeProperty"]}return t}function Ea(e,t,n){var o=e.getCoordinates?e.getCoordinates():null;if(o){var r=[];if(Ma(o,r),r.length){var i=Oa(o,t,n);return e.getShell?i[0][0]:i}}return null}function Ta(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)Ta(e[n],t);else e.z=t}function Ma(e,t){if(!t.length)if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)Ma(e[n],t);else O(e.z)&&t.push(e.z)}function Oa(e,t,n){if(Array.isArray(e)){for(var o=[],r=0,i=e.length;r<i;r++)o.push(Oa(e[r],t,n));return o}return O(e.z)?n?t+e.z:e.z:n?t:0}Sa.mergeOptions(Ca);var Da={attribution:null,minZoom:null,maxZoom:null,visible:!0,opacity:1,globalCompositeOperation:null,renderer:"canvas",debugOutline:"#0f0",cssFilter:null,forceRenderOnMoving:!1,forceRenderOnZooming:!1,forceRenderOnRotating:!1,collision:!1,collisionScope:"layer",hitDetect:function(){return!_e.mobile}()},Aa=function(e){function t(t,n){var o,r;return n&&(r=n.canvas,delete n.canvas),o=e.call(this,n)||this,o._canvas=r,o.setId(t),n&&(o.setZIndex(n.zIndex),n.mask&&o.setMask(Sa.fromJSON(n.mask))),o.proxyOptions(),o}ke(t,e);var n=t.prototype;return n.load=function(){if(!this.getMap())return this;if(this.onLoad()){this._initRenderer();var e=this.getZIndex();M(e)||(this._renderer.setZIndex(e),this.isCanvasRender()||this._renderer.render()),this.onLoadEnd()}return this},n.getId=function(){return this._id},n.setId=function(e){var t=this._id;return M(e)||(e+=""),this._id=e,this.fire("idchange",{old:t,new:e}),this},n.addTo=function(e){return e.addLayer(this),this},n.setZIndex=function(e){return this._zIndex=e,M(e)?delete this.options["zIndex"]:this.options.zIndex=e,this.map&&this.map._sortLayersByZIndex(),this._renderer&&this._renderer.setZIndex(e),this.fire("setzindex",{zIndex:e}),this},n.getZIndex=function(){return this._zIndex||0},n.getMinZoom=function(){var e=this.getMap(),t=this.options["minZoom"];return e?Math.max(e.getMinZoom(),t||0):t},n.getMaxZoom=function(){var e=this.getMap(),t=this.options["maxZoom"];return e?Math.min(e.getMaxZoom(),M(t)?1/0:t):t},n.getOpacity=function(){return this.options["opacity"]},n.setOpacity=function(e){return this.config("opacity",e),this.fire("setopacity",{opacity:e}),this},n.isCanvasRender=function(){var e=this._getRenderer();return e&&e instanceof Xr},n.getMap=function(){return this.map?this.map:null},n.getProjection=function(){var e=this.getMap();return e?e.getProjection():null},n.bringToFront=function(){var e=this._getLayerList();if(!e.length)return this;var t=e[e.length-1];if(1===e.length||t===this)return this;var n=t.getZIndex();return this.setZIndex(n+1),this},n.bringToBack=function(){var e=this._getLayerList();if(!e.length)return this;var t=e[0];if(1===e.length||t===this)return this;var n=t.getZIndex();return this.setZIndex(n-1),this},n.show=function(){var e=this;if(!this.options["visible"]){this.options["visible"]=!0;var t=this.getRenderer();t&&t.show();var n=this.getMap();t&&n?n.once("renderend",(function(){e.fire("show")})):this.fire("show")}return this},n.hide=function(){var e=this;if(this.options["visible"]){this.options["visible"]=!1;var t=this.getRenderer();t&&t.hide();var n=this.getMap();t&&n?n.once("renderend",(function(){e.fire("hide")})):this.fire("hide")}return this},n.isVisible=function(){if(O(this.options["opacity"])&&this.options["opacity"]<=0)return!1;var e=this.getMap();if(e){var t=e.getZoom();if(!M(this.options["maxZoom"])&&this.options["maxZoom"]<t||!M(this.options["minZoom"])&&this.options["minZoom"]>t)return!1}return M(this.options["visible"])&&(this.options["visible"]=!0),this.options["visible"]},n.remove=function(){return this.map&&this.map.removeLayer(this),this},n.getMask=function(){return this._mask},n.setMask=function(e){if(!("Point"===e.type&&e._isVectorMarker()||"Polygon"===e.type||"MultiPolygon"===e.type))throw new Error("Mask for a layer must be a marker with vector marker symbol or a Polygon(MultiPolygon).");if(e._bindLayer(this),"Point"===e.type?e.updateSymbol({markerLineColor:"rgba(0, 0, 0, 0)",markerFillOpacity:0}):e.setSymbol({lineColor:"rgba(0, 0, 0, 0)",polygonOpacity:0}),this._mask=e,this.options.mask=e.toJSON(),!this.getMap()||this.getMap().isZooming())return this;var t=this._getRenderer();return t&&t.setToRedraw&&this._getRenderer().setToRedraw(),this},n.removeMask=function(){if(delete this._mask,delete this.options.mask,!this.getMap()||this.getMap().isZooming())return this;var e=this._getRenderer();return e&&e.setToRedraw&&this._getRenderer().setToRedraw(),this},n.onLoad=function(){return!0},n.onLoadEnd=function(){},n.isLoaded=function(){return!!this._loaded},n.getCollisionIndex=function(){if("layer"===this.options["collisionScope"])return this._collisionIndex||(this._collisionIndex=new Bo),this._collisionIndex;var e=this.getMap();return e?e.getCollisionIndex():null},n.clearCollisionIndex=function(){return"layer"===this.options["collisionScope"]&&this._collisionIndex&&this._collisionIndex.clear(),this},n.getRenderer=function(){return this._getRenderer()},n.onConfig=function(e){var t=e&&Object.keys&&Object.keys(e).length>0;if(t&&M(e["animation"])){if(this._optionsHook&&P(this._optionsHook)&&this._optionsHook(e),this._silentConfig)return;var n=this.getRenderer();n&&n.setToRedraw&&n.setToRedraw()}},n.onAdd=function(){},n.onRendererCreate=function(){},n.onCanvasCreate=function(){},n.onRemove=function(){},n._bindMap=function(e,t){e&&(this.map=e,M(t)||this.setZIndex(t),this._switchEvents("on",this),this.onAdd(),this.fire("add"))},n._initRenderer=function(){var e=this.options["renderer"];if(this.constructor.getRendererClass){var t=this.constructor.getRendererClass(e);if(!t)throw new Error("Invalid renderer for Layer("+this.getId()+"):"+e);this._renderer=new t(this),this._renderer.layer=this,this._renderer.setZIndex(this.getZIndex()),this._switchEvents("on",this._renderer),this._renderer.onAdd&&this._renderer.onAdd(),this.onRendererCreate(),this.fire("renderercreate",{renderer:this._renderer})}},n._doRemove=function(){this._loaded=!1,this._switchEvents("off",this),this.onRemove(),this._renderer&&(this._switchEvents("off",this._renderer),this._renderer.remove(),delete this._renderer),delete this.map,delete this._collisionIndex},n._switchEvents=function(e,t){t&&t.getEvents&&this.getMap()&&this.getMap()[e](t.getEvents(),t)},n._getRenderer=function(){return this._renderer},n._getLayerList=function(){return this.map?this.map._layers:[]},n._getMask2DExtent=function(){if(!this._mask||!this.getMap())return null;var e=this._mask._getMaskPainter();return e?e.get2DExtent():null},t}(Ho(Po(Dr(No))));Aa.mergeOptions(Da);var Ra=Aa.prototype.fire;Aa.prototype.fire=function(e,t){return"layerload"===e&&(this._loaded=!0),this.map&&(t||(t={}),t["type"]=e,t["target"]=this,this.map._onLayerEvent(t)),Ra.apply(this,arguments),["show","hide"].indexOf(e)>-1&&this.fire("visiblechange",Object.assign({},t,{visible:this.options.visible})),this};var Pa=new $o(0,0),Ia=new Pe(0,0),za=["centerCross","fog","fogColor","debugSky"],Na={maxVisualPitch:70,maxPitch:80,centerCross:!1,zoomInCenter:!1,zoomOrigin:null,zoomAnimation:function(){return!F}(),zoomAnimationDuration:330,panAnimation:function(){return!F}(),panAnimationDuration:600,rotateAnimation:function(){return!F}(),zoomable:!0,enableInfoWindow:!0,hitDetect:function(){return!_e.mobile}(),hitDetectLimit:5,fpsOnInteracting:25,layerCanvasLimitOnInteracting:-1,maxZoom:null,minZoom:null,maxExtent:null,fixCenterOnResize:!0,checkSize:!0,checkSizeInterval:1e3,renderer:"canvas",cascadePitches:[10,60],renderable:!0,clickTimeThreshold:280,stopRenderOnOffscreen:!0,preventWheelScroll:!0,preventTouch:!0},La=function(e){function t(n,o){var r;if(!o)throw new Error("Invalid options when creating map.");if(!o["center"])throw new Error("Invalid center when creating map.");var i=T({},o),a=i["zoom"];delete i["zoom"];var s=new $o(i["center"]);delete i["center"];var l=i["baseLayer"];delete i["baseLayer"];var c=i["layers"];return delete i["layers"],r=e.call(this,i)||this,r.VERSION=t.VERSION,Object.defineProperty(Te(Te(r)),"id",{value:Le(),writable:!1}),r._loaded=!1,r._initContainer(n),r._panels={},r._baseLayer=null,r._layers=[],r._zoomLevel=a,r._center=s,r.setSpatialReference(i["spatialReference"]||i["view"]),r._mapViewPoint=new Pe(0,0),r._initRenderer(),r._updateMapSize(r._getContainerDomSize()),l&&r.setBaseLayer(l),c&&r.addLayer(c),r.setMaxExtent(i["maxExtent"]),r._Load(),r.proxyOptions(),r}ke(t,e),t.addOnLoadHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._onLoadHooks=this.prototype._onLoadHooks||[],this.prototype._onLoadHooks.push(n),this};var n=t.prototype;return n.isLoaded=function(){return!!this._loaded},n.getContainer=function(){return this._containerDOM},n.getSpatialReference=function(){return this._spatialReference},n.setSpatialReference=function(e){var t=this.options["spatialReference"];return this._loaded&&ba.equals(t,e)||this._updateSpatialReference(e,t),this},n._updateSpatialReference=function(e,t){if(R(e)&&(e=ba.getPreset(e)),e=T({},e),this._center=this.getCenter(),this.options["spatialReference"]=e,this._spatialReference=new ba(e),this.options["spatialReference"]&&P(this.options["spatialReference"]["projection"])){var n=this._spatialReference.getProjection();this.options["spatialReference"]["projection"]=n["code"]}return this._resetMapStatus(),this._fireEvent("spatialreferencechange",{old:t,new:T({},this.options["spatialReference"])}),this},n.onConfig=function(e){var t=e["spatialReference"]||e["view"];M(t)||this._updateSpatialReference(t,null);for(var n=!1,o=0,r=za.length;o<r;o++){var i=za[o];if(!M(e[i])){n=!0;break}}if(!n)return this;var a=this.getRenderer();return a&&a.setToRedraw(),this},n.getProjection=function(){return this._spatialReference?this._spatialReference.getProjection():null},n.getFullExtent=function(){return this._spatialReference?this._spatialReference.getFullExtent():null},n.setCursor=function(e){return delete this._cursor,this._trySetCursor(e),this._cursor=e,this},n.resetCursor=function(){return this.setCursor(null)},n.getCenter=function(){if(!this._loaded||!this._prjCenter)return this._center;var e=this.getProjection(),t=e.unproject(this._prjCenter);return t.x=Math.round(1e8*t.x)/1e8,t.y=Math.round(1e8*t.y)/1e8,this.centerAltitude&&(t.z=this.centerAltitude),t},n.setCenter=function(e,t){if(!e)return this;e=new $o(e),t&&(e=this._getCenterByPadding(e,this.getZoom(),t));var n=this.getProjection(),o=n.project(e);return this._verifyExtent(o)?this._loaded?(this.onMoveStart(),this._setPrjCenter(o),this.onMoveEnd(this._parseEventFromCoord(this.getCenter())),this):(this._center=e,this):this},n.getSize=function(){return M(this.width)||M(this.height)?this._getContainerDomSize():new cn(this.width,this.height)},n.getContainerExtent=function(){var e=this.height,t=this.getPitch(),n=this.options["maxVisualPitch"];return n&&t>n&&(e=this._getVisualHeight(n)),new sr(0,this.height-e,this.width,this.height)},n._getVisualHeight=function(e){e=e||.01;var t=(90-this.getPitch())*Math.PI/180,n=this.getFov()*Math.PI/180;e*=Math.PI/180;var o=this.cameraCenterDistance/this.getGLScale(),r=Math.tan(n/2),i=Math.tan(e),a=o*r/(1/i-r)/Math.sin(e),s=o*(Math.sin(t)*a/(o+Math.cos(t)*a));return this.height/2+s},n.getExtent=function(){return this._pointToExtent(this._get2DExtent())},n.getProjExtent=function(){var e=this._get2DExtent();return new ar(this._pointToPrj(e.getMin()),this._pointToPrj(e.getMax()))},n.getPrjExtent=function(){return this.getProjExtent()},n.getMaxExtent=function(){return this.options["maxExtent"]?new ar(this.options["maxExtent"],this.getProjection()):null},n.setMaxExtent=function(e){if(e){var t=new ar(e,this.getProjection());this.options["maxExtent"]=t;var n=this.getProjection();this._prjMaxExtent=t.convertTo((function(e){return n.project(e)})),this._verifyExtent(this._getPrjCenter())||(this._loaded?this._panTo(this._prjMaxExtent.getCenter()):this._center=n.unproject(this._prjMaxExtent.getCenter()))}else delete this.options["maxExtent"],delete this._prjMaxExtent;return this},n.getZoom=function(){return this._zoomLevel},n.getZoomForScale=function(e,t,n){var o=this.getZoom();if(M(t)&&(t=o),1===e&&t===o)return o;var r=this._getResolution(t),i=r/e,a=this.getZoomFromRes(i);if(n)return a;var s=1e-6;return this.getSpatialReference().getZoomDirection()<0?Math.ceil(a-s):Math.floor(a+s)},n.getZoomFromRes=function(e){var t=this._getResolutions(),n=this._getResolution(this.getMinZoom()),o=this._getResolution(this.getMaxZoom());if(n<=o){if(e<=n)return this.getMinZoom();if(e>=o)return this.getMaxZoom()}else{if(e>=n)return this.getMinZoom();if(e<=o)return this.getMaxZoom()}for(var r=t.length,i=0;i<r-1;i++)if(t[i]){var a=t[i+1]-t[i],s=e-t[i];if(je(a)===je(s)&&Math.abs(a)>=Math.abs(s))return i+s/a}return r-1},n.setZoom=function(e,t){return void 0===t&&(t={animation:!0}),isNaN(e)||M(e)||(e=+e,this._loaded&&this.options["zoomAnimation"]&&t["animation"]?this._zoomAnimation(e):this._zoom(e)),this},n.getMaxZoom=function(){return M(this.options["maxZoom"])?this.getMaxNativeZoom():this.options["maxZoom"]},n.setMaxZoom=function(e){var t=this.getMaxNativeZoom();return e>t&&(e=t),null!==e&&e<this._zoomLevel&&(this.setZoom(e),e=+e),this.options["maxZoom"]=e,this},n.getMinZoom=function(){return M(this.options["minZoom"])?this._spatialReference.getMinZoom():this.options["minZoom"]},n.setMinZoom=function(e){if(null!==e){e=+e;var t=this._spatialReference.getMinZoom();e<t&&(e=t),e>this._zoomLevel&&this.setZoom(e)}return this.options["minZoom"]=e,this},n.getMaxNativeZoom=function(){var e=this.getSpatialReference();return e?e.getMaxZoom():null},n.getGLRes=function(){if(this._glRes)return this._glRes;var e=this.getSpatialReference().getFullExtent();return this._glRes=(e.right-e.left)/Math.pow(2,19),this._glRes},n.getGLScale=function(e){return M(e)&&(e=this.getZoom()),this._getResolution(e)/this.getGLRes()},n.zoomIn=function(){return this.setZoom(this.getZoom()+1)},n.zoomOut=function(){return this.setZoom(this.getZoom()-1)},n.isZooming=function(){return!!this._zooming},n.isInteracting=function(){return this.isZooming()||this.isMoving()||this.isRotating()},n.setCenterAndZoom=function(e,t){return M(t)||this._zoomLevel===t?this.setCenter(e):(this.setCenter(e),this.setZoom(t,{animation:!1})),this},n._getPaddingSize=function(e){return void 0===e&&(e={}),e["paddingLeft"]||e["paddingTop"]||e["paddingRight"]||e["paddingBottom"]?{width:(e["paddingLeft"]||0)+(e["paddingRight"]||0),height:(e["paddingTop"]||0)+(e["paddingBottom"]||0)}:null},n.getFitZoom=function(e,t,n){var o=this;if(!e||!(e instanceof ar))return this._zoomLevel;if(e["xmin"]===e["xmax"]&&e["ymin"]===e["ymax"])return this.getMaxZoom();var r=this.getSize(),i=this._getPaddingSize(n);i&&(r={width:r.width-(i.width||0),height:r.height-(i.height||0)});var a=e.convertTo((function(e){return o.coordToPoint(e)})),s=a.getWidth(),l=a.getHeight(),c=r["width"]/s,u=r["height"]/l,d=this.getSpatialReference().getZoomDirection()<0?Math.max(c,u):Math.min(c,u),h=this.getZoomForScale(d,null,t);return h},n.getView=function(){return{center:this.getCenter().toArray(),zoom:this.getZoom(),pitch:this.getPitch(),bearing:this.getBearing()}},n.setView=function(e){return e?(e["center"]&&this.setCenter(e["center"]),null===e["zoom"]||isNaN(+e["zoom"])||this.setZoom(+e["zoom"],{animation:!1}),null===e["pitch"]||isNaN(+e["pitch"])||this.setPitch(+e["pitch"]),null===e["pitch"]||isNaN(+e["bearing"])||this.setBearing(+e["bearing"]),this):this},n.getResolution=function(e){return this._getResolution(e)},n.getScale=function(e){var t=M(e)?this.getZoom():e,n=this._getResolution(this.getMaxNativeZoom()),o=this._getResolution(t);return o/n},n._getCenterByPadding=function(e,t,n){void 0===n&&(n={});var o=this.coordinateToPoint(e,t),r=n,i=r.paddingLeft,a=void 0===i?0:i,s=r.paddingRight,l=void 0===s?0:s,c=r.paddingTop,u=void 0===c?0:c,d=r.paddingBottom,h=void 0===d?0:d,m=0,p=0;(a||l)&&(m=(l-a)/2),(u||h)&&(p=(u-h)/2);var f=new Pe({x:o.x+m,y:o.y+p});return this.pointToCoordinate(f,t)},n.fitExtent=function(e,t,n,o){if(void 0===n&&(n={}),!e)return this;e=new ar(e,this.getProjection());var r=this.getFitZoom(e,!1,n)+(t||0),i=e.getCenter();return this._getPaddingSize(n)&&(i=this._getCenterByPadding(i,r,n)),"undefined"===typeof n["animation"]||n["animation"]?this._animateTo({center:i,zoom:r},{duration:n["duration"]||this.options["zoomAnimationDuration"],easing:n["easing"]||"out"},o):this.setCenterAndZoom(i,r)},n.getBaseLayer=function(){return this._baseLayer},n.setBaseLayer=function(e){var t=!1;if(this._baseLayer&&(t=!0,this._fireEvent("baselayerchangestart"),this._baseLayer.remove()),!e)return delete this._baseLayer,this._fireEvent("baselayerchangeend"),this._fireEvent("setbaselayer"),this;function n(){this._fireEvent("baselayerload"),t&&(t=!1,this._fireEvent("baselayerchangeend"))}return this._baseLayer=e,e._bindMap(this,-1),this._baseLayer.on("layerload",n,this),this._loaded&&this._baseLayer.load(),this._fireEvent("setbaselayer"),this},n.removeBaseLayer=function(){return this._baseLayer&&(this._baseLayer.remove(),delete this._baseLayer,this._fireEvent("baselayerremove")),this},n.getLayers=function(e){return this._getLayers((function(t){return!(t===this._baseLayer||t.getId().indexOf(y)>=0)&&(!e||e(t))}))},n.getLayer=function(e){if(!e)return null;var t=this._layerCache?this._layerCache[e]:null;if(t)return t;var n=this.getBaseLayer();return n&&n.getId()===e?n:null},n.addLayer=function(e){if(!e)return this;if(!Array.isArray(e))return e=Array.prototype.slice.call(arguments,0),this.addLayer(e);this._layerCache||(this._layerCache={});for(var t=this._layers,n=0,o=e.length;n<o;n++){var r=e[n],i=r.getId();if(M(i))throw new Error("Invalid id for the layer: "+i);if(r.getMap()!==this){if(this._layerCache[i])throw new Error("Duplicate layer id in the map: "+i);this._layerCache[i]=r,r._bindMap(this),t.push(r),this._loaded&&r.load()}}return this._sortLayersByZIndex(),this._fireEvent("addlayer",{layers:e}),this},n.removeLayer=function(e){if(!e)return this;if(!Array.isArray(e))return this.removeLayer([e]);for(var t=[],n=0,o=e.length;n<o;n++){var r=e[n];if(r instanceof Aa||(r=this.getLayer(r)),r){var i=r.getMap();if(i&&i===this){t.push(r),this._removeLayer(r,this._layers),this._loaded&&r._doRemove();var a=r.getId();this._layerCache&&delete this._layerCache[a]}}}if(t.length>0){var s=this.getRenderer();s&&s.setLayerCanvasUpdated(),t.forEach((function(e){e.fire("remove")}))}return this._fireEvent("removelayer",{layers:e}),this},n.sortLayers=function(e){if(!e||!Array.isArray(e))return this;for(var t=[],n=Number.MAX_VALUE,o=0,r=e.length;o<r;o++){var i=e[o];if(R(e[o])&&(i=this.getLayer(i)),!(i instanceof Aa)||!i.getMap()||i.getMap()!==this)throw new Error("It must be a layer added to this map to order.");i.getZIndex()<n&&(n=i.getZIndex()),t.push(i)}for(var a=0,s=t.length;a<s;a++)t[a].setZIndex(n+a);return this},n.toDataURL=function(e){e||(e={});var t=e["mimeType"];t||(t="image/png");var n=e["save"],o=this._getRenderer();if(o&&o.toDataURL){var r=e["fileName"];r||(r="export");var i=o.toDataURL(t,e.quality||.92);if(n&&i){var a;if("undefined"!==typeof Blob&&"undefined"!==typeof atob){var s=tt(i.replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,""),t);a=URL.createObjectURL(s)}else a=i;var l=document.createElement("a");l.download=r,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l)}return i}return null},n.coordToPoint=function(e,t,n){return this.coordinateToPoint(e,t,n)},n.coordToPointAtRes=function(e,t,n){return this.coordinateToPointAtRes(e,t,n)},n.pointToCoord=function(e,t,n){return this.pointToCoordinate(e,t,n)},n.pointAtResToCoord=function(e,t,n){return this.pointAtResToCoordinate(e,t,n)},n.coordToViewPoint=function(e,t,n){return this.coordinateToViewPoint(e,t,n)},n.viewPointToCoord=function(e,t){return this.viewPointToCoordinate(e,t)},n.coordToContainerPoint=function(e,t,n){return this.coordinateToContainerPoint(e,t,n)},n.containerPointToCoord=function(e,t){return this.containerPointToCoordinate(e,t)},n.containerPointToViewPoint=function(e,t){return t?t.set(e.x,e.y):t=e.copy(),t._sub(this.getViewPoint())},n.viewPointToContainerPoint=function(e,t){return t?t.set(e.x,e.y):t=e.copy(),t._add(this.getViewPoint())},n.checkSize=function(e){var t=E()-this._initTime<1500&&0===this.width||0===this.height,n=this._getContainerDomSize(),o=this.height,r=this.width;if(!e&&n["width"]===r&&n["height"]===o)return this;Xn(this._containerDOM);var i=this.getCenter();if(this.options["fixCenterOnResize"])this._updateMapSize(n);else{var a=this._getVisualHeight(this.getPitch()),s=new Pe(0,this.height-a),l=this._containerPointToPrj(s);this._updateMapSize(n);var c=this._getVisualHeight(this.getPitch()),u=new Pe(0,this.height-c);this._setPrjCoordAtContainerPoint(l,u),this._mapViewCoord=this._getPrjCenter()}var d=0===n["width"]||0===n["height"]||0===r||0===o;return(t||d)&&(this._eventSilence=!0,this.setCenter(i),delete this._eventSilence),this._fireEvent("resize"),this},n.locate=function(e,t,n){return this.getProjection()._locate(new $o(e),t,n)},n.getMainPanel=function(){return this._getRenderer().getMainPanel()},n.getPanels=function(){return this._panels},n.remove=function(){var e=this;if(this.isRemoved())return this;this._fireEvent("removestart"),this._removeDomEvents(),this._clearHandlers(),this.removeBaseLayer();for(var t=this.getLayers(),n=0;n<t.length;n++)t[n].remove();return this._getRenderer()&&this._getRenderer().remove(),this._containerDOM.childNodes&&this._containerDOM.childNodes.length>0&&Array.prototype.slice.call(this._containerDOM.childNodes,0).filter((function(e){return"maptalks-wrapper"===e.className})).forEach((function(t){return e._containerDOM.removeChild(t)})),delete this._panels,delete this._containerDOM,delete this.renderer,this._fireEvent("removeend"),this._clearAllListeners(),_e.removeDPRListening&&_e.removeDPRListening(this),this},n.isRemoved=function(){return!this._containerDOM},n.isMoving=function(){return!!this._moving},n.onMoveStart=function(e){this._mapAnimPlayer&&this._stopAnim(this._mapAnimPlayer);var t=this._getPrjCenter();this._originCenter&&!this._verifyExtent(t)||(this._originCenter=t),this._moving=!0,this._trySetCursor("move"),this._fireEvent("movestart",this._parseEvent(e?e["domEvent"]:null,"movestart"))},n.onMoving=function(e){this._fireEvent("moving",this._parseEvent(e?e["domEvent"]:null,"moving"))},n.onMoveEnd=function(e){if(this._moving=!1,this._suppressRecenter||this._recenterOnTerrain(),this._trySetCursor("default"),this._fireEvent("moveend",e&&e["domEvent"]?this._parseEvent(e["domEvent"],"moveend"):e),!this._verifyExtent(this._getPrjCenter())&&this._originCenter){var t=this._originCenter;this._panTo(t)}},n.onDragRotateStart=function(e){this._dragRotating=!0,this._fireEvent("dragrotatestart",this._parseEvent(e?e["domEvent"]:null,"dragrotatestart"))},n.onDragRotating=function(e){this._fireEvent("dragrotating",this._parseEvent(e?e["domEvent"]:null,"dragrotating"))},n.onDragRotateEnd=function(e){this._dragRotating=!1,this._fireEvent("dragrotateend",this._parseEvent(e?e["domEvent"]:null,"dragrotateend"))},n.isDragRotating=function(){return!!this._dragRotating},n.isOffscreen=function(e,t){void 0===t&&(t=0);var n=this.width,o=this.height,r=n+t,i=o+t,a=e.xmin,s=e.ymin,l=e.xmax,c=e.ymax;return Array.isArray(e)&&(a=e[0],s=e[1],l=e[2],c=e[3]),l<t||a>=r||c<t||s>i},n.getRenderer=function(){return this._getRenderer()},n.getDevicePixelRatio=function(){return this.options["devicePixelRatio"]||_e.devicePixelRatio||1},n.setDevicePixelRatio=function(e){return O(e)&&e>0&&e!==this.options["devicePixelRatio"]&&(this.options["devicePixelRatio"]=e,this.checkSize(!0)),this},n._initContainer=function(e){if(R(e)){if(this._containerDOM=document.getElementById(e),!this._containerDOM)throw new Error("Invalid container when creating map: '"+e+"'")}else this._containerDOM=e,F&&(this.CanvasClass=this._containerDOM.constructor);if(this._containerDOM.childNodes&&this._containerDOM.childNodes.length>0&&"maptalks-wrapper"===this._containerDOM.childNodes[0].className)throw new Error("Container is already loaded with another map instance, use map.remove() to clear it.")},n._trySetCursor=function(e){return this._cursor||this._priorityCursor||(e||(e="default"),this._setCursorToPanel(e)),this},n._setPriorityCursor=function(e){if(e)this._priorityCursor=e,this._setCursorToPanel(e);else{var t=!1;this._priorityCursor&&(t=!0),delete this._priorityCursor,t&&this.setCursor(this._cursor)}return this},n._setCursorToPanel=function(e){var t=this.getMainPanel();t&&t.style&&t.style.cursor!==e&&(t.style.cursor=e)},n._removeLayer=function(e,t){if(e&&t){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},n._sortLayersByZIndex=function(){if(this._layers){for(var e=0,t=this._layers.length;e<t;e++)this._layers[e]._order=e,this._layers[e].sortLayersByZIndex&&this._layers[e].sortLayersByZIndex();this._layers.sort((function(e,t){var n=e.getZIndex()-t.getZIndex();return 0===n?e._order-t._order:n}))}},n._fireEvent=function(e,t){this._eventSilence||(this.fire("_"+e,t),this.fire(e,t))},n._Load=function(){this._resetMapStatus(),this.options["pitch"]&&(this.setPitch(this.options["pitch"]),delete this.options["pitch"]),this.options["bearing"]&&(this.setBearing(this.options["bearing"]),delete this.options["bearing"]),delete this._glRes,this._loadAllLayers(),this._getRenderer().onLoad(),this._loaded=!0,this._callOnLoadHooks(),this._initTime=E()},n._initRenderer=function(){var e=this.options["renderer"],n=t.getRendererClass(e);this._renderer=new n(this),this._renderer.load()},n._getRenderer=function(){return this._renderer},n._loadAllLayers=function(){function e(e){e&&e.load()}this._baseLayer&&this._baseLayer.load(),this._eachLayer(e,this.getLayers())},n._getLayers=function(e){for(var t=this._baseLayer?[this._baseLayer].concat(this._layers):this._layers,n=[],o=0;o<t.length;o++)e&&!e.call(this,t[o])||n.push(t[o]);return n},n._eachLayer=function(e){if(!(arguments.length<2)){var t=Array.prototype.slice.call(arguments,1);t&&!Array.isArray(t)&&(t=[t]);for(var n=[],o=0,r=t.length;o<r;o++)n=n.concat(t[o]);for(var i=0,a=n.length;i<a;i++)e.call(e,n[i])}},n._onLayerEvent=function(e){e&&"idchange"===e["type"]&&(delete this._layerCache[e["old"]],this._layerCache[e["new"]]=e["target"])},n._resetMapStatus=function(){var e=this.getMaxZoom(),t=this.getMinZoom(),n=this._spatialReference.getMaxZoom(),o=this._spatialReference.getMinZoom();(M(e)||-1===e||e>n)&&this.setMaxZoom(n),(M(t)||-1===t||t<o)&&this.setMinZoom(o),e=this.getMaxZoom(),t=this.getMinZoom(),e<t&&this.setMaxZoom(t),(M(this._zoomLevel)||this._zoomLevel>e)&&(this._zoomLevel=e),this._zoomLevel<t&&(this._zoomLevel=t),delete this._prjCenter;var r=this.getProjection();this._prjCenter=r.project(this._center),this._calcMatrices();var i=this._getRenderer();i&&i.resetContainer()},n._getContainerDomSize=function(){if(!this._containerDOM)return null;var e,t,n=this._containerDOM;if(this._containerDomContentRect)return e=this._containerDomContentRect.width,t=this._containerDomContentRect.height,new cn(e,t);if(M(n.width)||M(n.height)){if(M(n.clientWidth)||M(n.clientHeight))throw new Error("can not get size of container");e=parseInt(n.clientWidth,0),t=parseInt(n.clientHeight,0)}else{e=n.width,t=n.height;var o=this.getDevicePixelRatio();1!==o&&n["layer"]&&(e/=o,t/=o)}return new cn(e,t)},n._updateMapSize=function(e){return this.width=e["width"],this.height=e["height"],this._getRenderer().updateMapSize(e),this._calcMatrices(),this},n._getPrjCenter=function(){return this._prjCenter},n._setPrjCenter=function(e){this._prjCenter=e,this.isInteracting()&&!this.isMoving()&&(this._mapViewCoord=e),this._calcMatrices()},n._setPrjCoordAtContainerPoint=function(e,t){if(!this.centerAltitude&&t.x===this.width/2&&t.y===this.height/2)return this;var n=this._containerPointToPoint(t)._sub(this._prjToPoint(this._getPrjCenter())),o=this._pointToPrj(this._prjToPoint(e).sub(n));return this._setPrjCenter(o),this},n._verifyExtent=function(e){if(!e)return!1;var t=this._prjMaxExtent;return!t||t.contains(e)},n._offsetCenterByPixel=function(e){var t=Ia.set(this.width/2-e.x,this.height/2-e.y),n=this._containerPointToPrj(t,Pa),o=Ia.set(this.width/2,this.height/2);this._setPrjCoordAtContainerPoint(n,o)},n.offsetPlatform=function(e){return e?(this._getRenderer().offsetPlatform(e),this._mapViewCoord=this._getPrjCenter(),this._mapViewPoint=this._mapViewPoint.add(e),this):this._mapViewPoint},n.getViewPoint=function(){var e=this._getViewPointFrameOffset(),t=this.offsetPlatform();return e&&(t=t.add(e)),t},n._resetMapViewPoint=function(){this._mapViewPoint=new Pe(0,0),this._mapViewCoord=this._getPrjCenter()},n._getResolution=function(e){return void 0!==e&&e!==this._zoomLevel||void 0===this._mapRes?(M(e)&&(e=this._zoomLevel),this._spatialReference.getResolution(e)):this._mapRes},n._getResolutions=function(){return this._spatialReference.getResolutions()},n._prjToPoint=function(e,t,n){t=M(t)?this.getZoom():t;var o=this._getResolution(t);return this._prjToPointAtRes(e,o,n)},n._prjToPointAtRes=function(e,t,n){return this._spatialReference.getTransformation().transform(e,t,n)},n._prjsToPointsAtRes=function(e,t,n){void 0===n&&(n=[]);for(var o=this._spatialReference.getTransformation(),r=[],i=0,a=e.length;i<a;i++){var s=o.transform(e[i],t,n[i]);r.push(s)}return r},n._pointToPrj=function(e,t,n){t=M(t)?this.getZoom():t;var o=this._getResolution(t);return this._pointToPrjAtRes(e,o,n)},n._pointToPrjAtRes=function(e,t,n){return this._spatialReference.getTransformation().untransform(e,t,n)},n._pointToPoint=function(e,t,n){return M(t)?(n?(n.x=e.x,n.y=e.y):n=e.copy(),n):this._pointAtResToPoint(e,this._getResolution(t),n)},n._pointAtResToPoint=function(e,t,n){return n?(n.x=e.x,n.y=e.y):n=e.copy(),n._multi(t/this._getResolution())},n._pointToPointAtRes=function(e,t,n){return n?(n.x=e.x,n.y=e.y):n=e.copy(),n._multi(this._getResolution()/t)},n._containerPointToPrj=function(e,t){return this._pointToPrj(this._containerPointToPoint(e,void 0,t),void 0,t)},n._callOnLoadHooks=function(){var e=t.prototype;if(e._onLoadHooks)for(var n=0,o=e._onLoadHooks.length;n<o;n++)e._onLoadHooks[n].call(this)},n._fixPrjOnWorldWide=function(e){var t=this.getProjection();if(t&&t.fullExtent&&e){var n=t.fullExtent||{},o=n.left,r=n.bottom,i=n.top,a=n.right;O(o)&&(e.x=Math.max(o,e.x)),O(a)&&(e.x=Math.min(a,e.x)),O(r)&&(e.y=Math.max(r,e.y)),O(i)&&(e.y=Math.min(i,e.y))}return this},t}(Uo(Po(Dr(No))));La.include({coordinateToPoint:function(e,t,n){var o=this._getResolution(t);return this.coordinateToPointAtRes(e,o,n)},coordinateToPointAtRes:function(){var e=new $o(0,0);return function(t,n,o){var r=this.getProjection().project(t,e);return this._prjToPointAtRes(r,n,o)}}(),pointToCoordinate:function(){var e=new $o(0,0);return function(t,n,o){var r=this._pointToPrj(t,n,e);return this.getProjection().unproject(r,o)}}(),pointAtResToCoordinate:function(){var e=new $o(0,0);return function(t,n,o){var r=this._pointToPrjAtRes(t,n,e);return this.getProjection().unproject(r,o)}}(),coordinateToViewPoint:function(){var e=new $o(0,0);return function(t,n,o){return this._prjToViewPoint(this.getProjection().project(t,e),n,o)}}(),viewPointToCoordinate:function(){var e=new $o(0,0);return function(t,n){return this.getProjection().unproject(this._viewPointToPrj(t,e),n)}}(),coordinateToContainerPoint:function(e,t,n){var o=this._getResolution(t);return this.coordinateToContainerPointAtRes(e,o,n)},coordinateToContainerPointAtRes:function(){var e=new $o(0,0);return function(t,n,o){var r=this.getProjection().project(t,e);return this._prjToContainerPointAtRes(r,n,o)}}(),coordinatesToContainerPoints:function(e,t){var n=this._getResolution(t);return this.coordinatesToContainerPointsAtRes(e,n)},coordinatesToContainerPointsAtRes:function(){return function(e,t){for(var n=[],o=this._spatialReference.getTransformation(),r=t/this._getResolution(),i=this.getProjection(),a=new $o(0,0),s=this.isTransforming(),l=this._prjToPoint(this._getPrjCenter(),void 0,Pa),c=0,u=e.length;c<u;c++){var d=i.project(e[c],a),h=o.transform(d,t);h=h._multi(r),this._toContainerPoint(h,s,e[c].z,l),n.push(h)}return n}}(),containerPointToCoordinate:function(){var e=new $o(0,0);return function(t,n){var o=this._containerPointToPrj(t,e);return this.getProjection().unproject(o,n)}}(),containerToExtent:function(){var e=new Pe(0,0),t=new Pe(0,0);return function(n){var o=new sr(this._containerPointToPoint(n.getMin(e),void 0,e),this._containerPointToPoint(n.getMax(t),void 0,t));return this._pointToExtent(o)}}(),distanceToPixel:function(){var e=new Pe(0,0),t=new Pe(0,0);return function(n,o,r){var i=this.getProjection();if(!i)return null;var a=this.getScale()/this.getScale(r),s=this.getCenter(),l=i.locate(s,n,o),c=this.coordToContainerPoint(s,void 0,e),u=this.coordToContainerPoint(l,void 0,t);return u._sub(c)._multi(a)._abs(),new cn(u.x,u.y)}}(),distanceToPoint:function(e,t,n,o){var r=this._getResolution(n);return this.distanceToPointAtRes(e,t,r,o)},distanceToPointAtRes:function(){var e=new Pe(0,0),t=new $o(0,0);return function(n,o,r,i,a){var s=this.getProjection();if(!s)return null;var l=i||this.getCenter(),c=s.locate(l,n,o,t),u=this.coordToPointAtRes(l,r,e),d=this.coordToPointAtRes(c,r,a);return d._sub(u)._abs(),d}}(),altitudeToPoint:function(){var e=new $o(0,40),t=new Pe(0,0);return function(n,o,r){void 0===n&&(n=0);var i=this.distanceToPointAtRes(n,n,o,r||e,t);n<0&&i.x>0&&(i.x=-i.x);var a=this.options["heightFactor"];return a&&1!==a&&(i.x*=a,i.y*=a),i.x}}(),pointAtResToAltitude:function(){var e=new $o(0,40);return function(t,n,o){void 0===t&&(t=0);var r=this.pointAtResToDistance(t,0,n,o||e);return r}}(),pixelToDistance:function(){var e=new $o(0,0),t=new $o(0,0),n=new $o(0,0),o=new $o(0,0);return function(r,i){var a=this.getProjection();if(!a)return null;var s=this.getFullExtent(),l=s["top"]>s["bottom"]?-1:1,c=e.set(this.width/2,this.height/2),u=t.set(this.width/2+r,this.height/2+l*i),d=this.containerPointToCoord(c,n),h=this.containerPointToCoord(u,o);return a.measureLength(d,h)}}(),pointToDistance:function(e,t,n){var o=this.getResolution(n);return this.pointAtResToDistance(e,t,o)},pointAtResToDistance:function(){var e=new Pe(0,0),t=new $o(0,0),n=new $o(0,0),o=new $o(0,0);return function(r,i,a,s){var l=this.getProjection();if(!l)return null;var c=s?l.project(s,t):this._getPrjCenter(),u=this._prjToPointAtRes(c,a,e);u._add(r,i);var d=this.pointAtResToCoord(u,a,n),h=s||l.unproject(c,o);return l.measureLength(h,d)}}(),locateByPoint:function(){var e=new Pe(0,0);return function(t,n,o){var r=this.coordToContainerPoint(t,void 0,e);return this.containerPointToCoord(r._add(n,o))}}(),_get2DExtent:function(e,t){var n;if(void 0!==e&&e!==this._zoomLevel||!this._mapExtent2D||(n=this._mapExtent2D),n)return t?(t.set(n["xmin"],n["ymin"],n["xmax"],n["ymax"]),t):n.copy();var o=this._getResolution(e);return this._get2DExtentAtRes(o,t)},_get2DExtentAtRes:function(){var e=new Pe(0,0);return function(t,n){var o=this;if(t===this._mapGlRes&&this._mapGlExtent2D)return this._mapGlExtent2D;var r=this.getContainerExtent();return r.convertTo((function(n){return o._containerPointToPointAtRes(n,t,e)}),n)}}(),_pointToExtent:function(){var e=new $o(0,0),t=new $o(0,0);return function(n){var o=n.getMin(),r=n.getMax(),i=this.getFullExtent(),a=!i||i.left<=i.right?[o.x,r.x]:[r.x,o.x],s=a[0],l=a[1],c=!i||i.top>i.bottom?[r.y,o.y]:[o.y,r.y],u=c[0],d=c[1],h=o.set(s,d),m=r.set(l,u);return new ar(this.pointToCoord(h,void 0,e),this.pointToCoord(m,void 0,t),this.getProjection())}}(),_getViewPointFrameOffset:function(){var e=new Pe(0,0);return function(){if(this.isZooming())return null;var t=this._getPrjCenter();return this._mapViewCoord&&!this._mapViewCoord.equals(t)?this._prjToContainerPoint(this._mapViewCoord)._sub(this._prjToContainerPoint(t,void 0,e)):null}}(),_viewPointToPrj:function(){var e=new Pe(0,0);return function(t,n){return this._containerPointToPrj(this.viewPointToContainerPoint(t,e),n)}}(),_prjToContainerPoint:function(e,t,n,o){var r=this._getResolution(t);return this._prjToContainerPointAtRes(e,r,n,o)},_prjToContainerPointAtRes:function(){var e=new Pe(0,0);return function(t,n,o,r){return this._pointAtResToContainerPoint(this._prjToPointAtRes(t,n,e),n,r||0,o)}}(),_prjToViewPoint:function(){var e=new Pe(0,0);return function(t,n,o){var r=this._prjToContainerPoint(t,void 0,e,o);return this.containerPointToViewPoint(r,n)}}(),_viewPointToPoint:function(){var e=new Pe(0,0);return function(t,n,o){return this._containerPointToPoint(this.viewPointToContainerPoint(t,e),n,o)}}(),_pointToViewPoint:function(){var e=new $o(0,0);return function(t,n,o){return this._prjToViewPoint(this._pointToPrj(t,n,e),o)}}()}),La.mergeOptions(Na);var Ha=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){this.target&&this.target.on("_dblclick",this._onDoubleClick,this)},n.removeHooks=function(){this.target&&this.target.off("_dblclick",this._onDoubleClick,this)},n._onDoubleClick=function(e){var t=this.target;if(t.options["doubleClickZoom"]){var n=t.getZoom(),o=e["domEvent"]["shiftKey"]?Math.ceil(n)-1:Math.floor(n)+1;t._zoomAnimation(o,e["containerPoint"])}},t}(zo);La.mergeOptions({doubleClickZoom:!0}),La.addOnLoadHook("addHandler","doubleClickZoom",Ha);var Fa=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){var e=this.target;if(e){var t=e._panels.mapWrapper||e._containerDOM;this._dragHandler=new Zo(t,{cancelOn:this._cancelOn.bind(this),rightclick:!0}),this._dragHandler.on("mousedown",this._onMouseDown,this).on("dragstart",this._onDragStart,this).on("dragging",this._onDragging,this).on("dragend",this._onDragEnd,this).enable()}},n.removeHooks=function(){this._dragHandler.off("mousedown",this._onMouseDown,this).off("dragstart",this._onDragStart,this).off("dragging",this._onDragging,this).off("dragend",this._onDragEnd,this),this._dragHandler.remove(),delete this._dragHandler},n._cancelOn=function(e){return!(!this.target.isZooming()&&!this._ignore(e))},n._ignore=function(e){return!!e&&(e.domEvent&&(e=e.domEvent),this.target._ignoreEvent(e))},n._onMouseDown=function(e){delete this.startDragTime,delete this._mode,2===e.domEvent.button||e.domEvent.ctrlKey?(this.target.options["dragRotate"]||this.target.options["dragPitch"])&&(this._mode="rotatePitch"):this.target.options["dragPan"]&&(this._mode="move"),this.target._stopAnim(this.target._mapAnimPlayer),Gn(e["domEvent"])},n._onDragStart=function(e){this.startDragTime=E(),"move"===this._mode?this._moveStart(e):"rotatePitch"===this._mode&&this._rotateStart(e)},n._onDragging=function(e){var t=this.target;t._isEventOutMap(e["domEvent"])||("move"===this._mode?this._moving(e):"rotatePitch"===this._mode&&this._rotating(e))},n._onDragEnd=function(e){"move"===this._mode?this._moveEnd(e):"rotatePitch"===this._mode&&this._rotateEnd(e),delete this.startDragTime,delete this.startBearing},n._start=function(e){this.preX=e["mousePos"].x,this.preY=e["mousePos"].y,this.startX=this.preX,this.startY=this.preY,this._startPrjCenter=this.target._getPrjCenter().copy()},n._moveStart=function(e){this._start(e);var t=this.target;t.onMoveStart(e);var n=Qn(t._getActualEvent(e.domEvent),t.getContainer());this.startPrjCoord=t._containerPointToPrj(n)},n._moving=function(e){if(this.startDragTime){var t=this.target,n=Qn(t._getActualEvent(e.domEvent),t.getContainer());t._setPrjCoordAtContainerPoint(this.startPrjCoord,n),t.onMoving(e)}},n._moveEnd=function(e){if(this.startDragTime){var t="touchend"===e.domEvent.type,n=this.target,o=E()-this.startDragTime,r=e["mousePos"].x,i=e["mousePos"].y,a=r-this.startX,s=i-this.startY,l=n._getPrjCenter(),c=l.sub(this._startPrjCenter);if(this._clear(),n.options["panAnimation"]&&!e.interupted&&n._verifyExtent(n._getPrjCenter())&&o<280&&Math.abs(s)+Math.abs(a)>5){o*=5;var u=t?5:2.8,d=l.add(c._multi(u));n._panTo(d,{duration:t?3*o:2*o,easing:"outExpo"})}else n.onMoveEnd(e)}},n._rotateStart=function(e){this._start(e),delete this._rotateMode,this.startBearing=this.target.getBearing(),this.target.onDragRotateStart(e),this._db=0},n._rotating=function(e){var t=this.target,n=e["mousePos"].x,o=e["mousePos"].y,r=t.getPitch(),i=t.getBearing(),a=Math.abs(n-this.preX),s=Math.abs(o-this.preY);if(this._rotateMode||(t.options["dragRotatePitch"]?this._rotateMode="rotate_pitch":this._rotateMode=a>s?"rotate":a<s?"pitch":"rotate"),!("pitch"===this._rotateMode&&0===r&&s<10)){if(this._rotateMode.indexOf("rotate")>=0&&t.options["dragRotate"]){var l=.15,c=0;c=t.options["dragPitch"]||a>s?-l*(this.preX-n):n>t.width/2?l*(this.preY-o):-l*(this.preY-o);var u=t.getBearing()+c;this._db=this._db||0,this._db+=c,t._setBearing(u)}this._rotateMode.indexOf("pitch")>=0&&t.options["dragPitch"]&&t._setPitch(t.getPitch()+.15*(this.preY-o)),this.preX=n,this.preY=o,t.getBearing()===i&&t.getPitch()===r||t.onDragRotating(e)}},n._rotateEnd=function(e){var t=this.target,n=t.getBearing();this._clear();var o=E()-this.startDragTime;if(t.onDragRotateEnd(e),t.options["rotateAnimation"]&&Math.abs(n-this.startBearing)>20&&("rotate"===this._rotateMode||"rotate_pitch"===this._rotateMode)&&!e.interupted&&o<400){var r=t.getBearing();t._animateTo({bearing:r+this._db/1.5},{easing:"outQuint",duration:1600})}},n._clear=function(){delete this.startPrjCoord,delete this.preX,delete this.preY,delete this.startX,delete this.startY},t}(zo);La.mergeOptions({draggable:!0,dragPan:!0,dragRotatePitch:!0,dragRotate:!0,dragPitch:!0}),La.addOnLoadHook("addHandler","draggable",Fa);var Ba="mousedown mouseup mousemove click dblclick contextmenu touchstart touchmove touchend",Ua={mousemove:["mousemove","mouseover","mouseout","mouseenter"],touchend:["touchend","click"]},Va=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){var e=this.target,t=e._panels.allLayers||e._containerDOM;ho(t,Ba,this._identifyGeometryEvents,this)},n.removeHooks=function(){var e=this.target,t=e._panels.allLayers||e._containerDOM;mo(t,Ba,this._identifyGeometryEvents,this)},n._identifyGeometryEvents=function(e,t){var n=this.target;if(!n.isInteracting()&&!n._ignoreEvent(e)){var o=null,r=t||e.type,i="mousedown"===r||"touchstart"===r&&e.touches&&1===e.touches.length;if(i)this._mouseDownTime=E();else if(("click"===r||"touchend"===r)&&this._mouseDownTime){var a=this._mouseDownTime;delete this._mouseDownTime;var s=E();if(s-a>300){if("click"===r)return}else"touchend"===r&&(o="click")}var l=e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e;if(l){var c=Qn(l,n._containerDOM);"touchstart"===r&&n.options["preventTouch"]&&Gn(e);for(var u=null,d=this.target.getRenderer().getTopElements(),h=i&&2!==e.button,m=0;m<d.length;m++)if(d[m].hitTest(c)){var p=d[m].options["cursor"];if(p&&(u=p),h||d[m].events&&d[m].events.indexOf(r)>=0){var f={target:n,type:r,domEvent:e,containerPoint:c};if(h)return n._setPriorityCursor(u),void d[m].mousedown(f);d[m].onEvent(f)}}var g=n._getLayers((function(e){return!(!e.identify||!e.options["geometryEvents"])}));if(n._setPriorityCursor(u),g.length){var v=Ua[r]||[r],y={includeInternals:!0,filter:function(t){if(!(t instanceof Sa))return!1;var n=t._getEventTypeToFire(e);if("mousemove"===r){if(!u&&t.options["cursor"]&&(u=t.options["cursor"]),!t.listens("mousemove")&&!t.listens("mouseover")&&!t.listens("mouseenter"))return!1}else if(!t.listens(n)&&!t.listens(o))return!1;return!0},count:1,onlyVisible:n.options["onlyVisibleGeometryEvents"],containerPoint:c,layers:g,eventTypes:v},b=w.bind(this);"mousemove"===r||"touchmove"===r?this._queryIdentifyTimeout=n.getRenderer().callInNextFrame((function(){n.isInteracting()||n.identifyAtPoint(y,b)})):n.identifyAtPoint(y,b)}}}function w(t){var i=!0;if("mousemove"===r){var a={};if(t.length>0)for(var s=t.length-1;s>=0;s--){var l=t[s];if(l instanceof Sa){var c=l._getInternalId();a[c]=l,l._onEvent(e),this._prevOverGeos&&this._prevOverGeos.geomap[c]||l._onEvent(e,"mouseenter"),i=l._onEvent(e,"mouseover")}}n._setPriorityCursor(u);var d=this._prevOverGeos&&this._prevOverGeos.geos;if(this._prevOverGeos={geos:t,geomap:a},d&&d.length>0)for(var h=d.length-1;h>=0;h--){var m=d[h];if(m instanceof Sa){var p=d[h]._getInternalId();a[p]||(i=m._onEvent(e,"mouseout"))}}}else{if(!t||!t.length)return;for(var f=t.length-1;f>=0;f--)if(t[f]instanceof Sa){i=t[f]._onEvent(e),o&&t[f]._onEvent(e,o);break}}!1===i&&Kn(e)}},t}(zo);La.mergeOptions({geometryEvents:!0,onlyVisibleGeometryEvents:!0}),La.addOnLoadHook("addHandler","geometryEvents",Va);var ja=4.000244140625,Wa=.01,Za=1/450,$a=2,qa=function(e){function t(t){var n;return n=e.call(this,t)||this,n._thisScrollZoom=n._scrollZoom.bind(Te(Te(n))),n._wheelZoomRate=Za,n._defaultZoomRate=Wa,n._delta=0,n}ke(t,e);var n=t.prototype;return n.addHooks=function(){Zn(this.target._containerDOM,"wheel",this._onWheelScroll,this)},n.removeHooks=function(){$n(this.target._containerDOM,"wheel",this._onWheelScroll)},n._onWheelScroll=function(e){var t=this.target;if(t.options["preventWheelScroll"]&&(Gn(e),Kn(e)),t._ignoreEvent(e)||!t.options["zoomable"])return!1;var n=t._containerDOM,o=t._checkZoomOrigin(Qn(e,n));return t.options["seamlessZoom"]?(this._zooming||(this._trackPadSuspect=0,this._ensureTrackpad=!1),this._seamless(e,o)):this._interval(e,o)},n._seamless=function(e,t){var n=e.deltaMode===window.WheelEvent.DOM_DELTA_LINE?60*e.deltaY:e.deltaY;if(n%ja!==0&&(this._ensureTrackpad||(Math.abs(n)<60?this._trackPadSuspect++:this._trackPadSuspect=0,this._trackPadSuspect>=2&&(this._ensureTrackpad=!0)),this._ensureTrackpad&&(n*=14)),e.shiftKey&&n&&(n/=4),this._lastWheelEvent=e,this._delta-=n,!this._zooming&&this._delta){var o=this.target;this._zoomOrigin=t,o.onZoomStart(null,t)}this._start()},n._start=function(){if(this._delta){this._zooming=!0;var e=this.target;this._active||(e.getRenderer().callInNextFrame(this._thisScrollZoom),this._active=!0)}},n._scrollZoom=function(){var e=this;if(this._active=!1,this._delta){var t=Math.abs(this._delta)>ja?this._wheelZoomRate:this._defaultZoomRate,n=$a/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==n&&(n=1/n);var o=this.target,r=o.getZoom(),i=o.getZoomForScale(n,r,!0);this._delta=0,o.onZooming(i,this._zoomOrigin),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((function(){e._zooming=!1,delete e._timeout,o.onZoomEnd(o.getZoom(),e._zoomOrigin)}),210)}},n._interval=function(e,t){var n=this,o=this.target;if(this._zooming)return this._requesting++,!1;this._requesting=0;var r=(e.deltaY?-1*e.deltaY:e.wheelDelta?e.wheelDelta:e.detail)>0?1:-1;e.detail&&(r*=-1);var i=o.getZoom(),a=i+r;if(a=o._checkZoom(r>0?Math.ceil(a):Math.floor(a)),a===i)return!1;this._zooming=!0,this._delta||(o.onZoomStart(null,t),this._origin=t,this._delta=r,this._startZoom=o.getZoom());var s=90;return o._animateTo({zoom:a-1*this._delta/2,around:this._origin},{continueOnViewChanged:!0,easing:"linear",duration:s,wheelZoom:!0},(function(t){"finished"===t.state.playState?n._requesting<1||Math.abs(a-n._startZoom)>2||a===o.getMaxZoom()||a===o.getMinZoom()?(o._animateTo({zoom:a,around:n._origin},{continueOnViewChanged:!0,duration:100},(function(e){"running"!==e.state.playState&&(delete n._zooming,delete n._requesting)})),delete n._startZoom,delete n._origin,delete n._delta,n._requesting=0):M(n._requesting)||(delete n._zooming,n._onWheelScroll(e)):"running"!==t.state.playState&&(delete n._zooming,delete n._requesting)})),!1},t}(zo);La.mergeOptions({scrollWheelZoom:!0,seamlessZoom:!0}),La.addOnLoadHook("addHandler","scrollWheelZoom",qa);var Ga=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){Zn(this.target.getContainer(),"touchstart",this._onTouchStart,this)},n.removeHooks=function(){$n(this.target.getContainer(),"touchstart",this._onTouchStart)},n._onTouchStart=function(e){var t=this.target;if(e.touches&&!(e.touches.length<2)){var n=t.getContainer(),o=Qn(e.touches[0],n),r=Qn(e.touches[1],n);this.preY=o.y,this._startP1=o,this._startP2=r,this._startDist=o.distanceTo(r),this._startVector=o.sub(r),this._startZoom=t.getZoom(),this._startBearing=t.getBearing(),mo(document,"touchmove",this._onTouchMove,this),mo(document,"touchend",this._onTouchEnd,this),Zn(document,"touchmove",this._onTouchMove,this),Zn(document,"touchend",this._onTouchEnd,this),t.options["preventTouch"]&&Gn(e),t._fireEvent("touchactstart")}},n._onTouchMove=function(e){var t=this.target;if(e.touches&&!(e.touches.length<2)){var n=t.getContainer(),o=Qn(e.touches[0],n),r=Qn(e.touches[1],n),i=o.sub(this._startP1),a=r.sub(this._startP2),s=o.sub(r),l=o.distanceTo(r)/this._startDist,c=180*s.angleWith(this._startVector)/Math.PI,u=this.preY||o.y,d=.4*(u-o.y);this.preY=o.y;var h={domEvent:e,mousePos:[o,r]};if(this.mode||(t.options["touchRotate"]&&Math.abs(c)>8?this.mode=t.options["touchZoomRotate"]?"rotate_zoom":"rotate":t.options["touchPitch"]&&i.y*a.y>0&&Math.abs(i.y)>10&&Math.abs(a.y)>10?this.mode="pitch":t.options["zoomable"]&&t.options["touchZoom"]&&Math.abs(1-l)>.15&&(this.mode=t.options["touchZoomRotate"]&&t.options["touchRotate"]?"rotate_zoom":"zoom"),this._startTouching(h)),"zoom"===this.mode||"rotate_zoom"===this.mode){this._scale=l;var m=t._getResolution(this._startZoom)/l,p=t.getZoomFromRes(m);t.onZooming(p,this._Origin)}"rotate"===this.mode||"rotate_zoom"===this.mode?(t._setBearing(this._startBearing+c),t.onDragRotating(h)):"pitch"===this.mode&&(t._setPitch(t.getPitch()+d),t.onDragRotating(h)),t._fireEvent("touchactinging")}},n._startTouching=function(e){var t=this.target;if("zoom"===this.mode||"rotate_zoom"===this.mode){var n=t.getSize();this._Origin=new Pe(n["width"]/2,n["height"]/2),t.onZoomStart(null,this._Origin)}"rotate"!==this.mode&&"pitch"!==this.mode&&"rotate_zoom"!==this.mode||t.onDragRotateStart(e)},n._onTouchEnd=function(e){delete this.preY;var t=this.target;if(mo(document,"touchmove",this._onTouchMove,this),mo(document,"touchend",this._onTouchEnd,this),"zoom"===this.mode||"rotate_zoom"===this.mode){var n=this._scale,o=t._getResolution(this._startZoom)/n,r=t.getZoomFromRes(o);t.onZoomEnd(r,this._Origin)}"pitch"!==this.mode&&"rotate"!==this.mode&&"rotate_zoom"!==this.mode||t.onDragRotateEnd({domEvent:e}),delete this.mode,t._fireEvent("touchactend")},t}(zo);La.mergeOptions({touchGesture:!0,touchZoom:!0,touchPitch:!0,touchRotate:!0,touchZoomRotate:!1}),La.addOnLoadHook("addHandler","touchGesture",Ga);var Ka="__anim_player",Ya={outExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},outQuint:function(e){return 1-Math.pow(1-e,5)},in:function(e){return Math.pow(e,2)},out:function(e){return 1-Ya.in(1-e)},inAndOut:function(e){return 3*e*e-2*e*e*e},linear:function(e){return e},upAndDown:function(e){return e<.5?Ya.inAndOut(2*e):1-Ya.inAndOut(2*(e-.5))}},Ja=function(){function e(e,t){this.state=e,this.styles=t}return Ce(e,[{key:"playState",get:function(){return this.state.playState}},{key:"symbol",get:function(){return this.styles.symbol}}]),e}(),Xa=function(e,t,n,o){this._animation=e,this.options=t,this._onFrame=n,this.playState="idle",this.ready=!0,this.finished=!1,this.target=o},Qa={speed:{slow:2e3,normal:1e3,fast:500},_resolveStyles:function(e){if(!e)return null;function t(e){if(!Array.isArray(e))return Qa._resolveStyles(e);for(var t=[],n=[],o=[],r=0;r<e.length;r++){var i=Qa._resolveStyles(e[r]);i&&(t.push(i[0]),n.push(i[1]),o.push(i[2]))}return t.length?[t,n,o]:null}function n(e){var t,n=e;Array.isArray(e)||(O(e)?n=[0,e]:e instanceof Pe||e instanceof $o?(t=e.constructor,n=[new t(0,0),e]):n=[e,e]);var o=n[0],r=n[1];return O(o)&&O(r)?o===r?null:[o,r-o,r]:Array.isArray(o)&&O(o[0])||o instanceof $o||o instanceof Pe?(Array.isArray(o)?(o=new $o(o),r=new $o(r)):(t=o.constructor,o=new t(o),r=new t(r)),o.equals(r)?null:[o,r.sub(o),r]):[o,r,r]}function o(e){return!Array.isArray(e)&&e.constructor===Object||!(!Array.isArray(e)||e[0].constructor!==Object)}var r={},i={},a={};for(var s in e)if(e.hasOwnProperty(s)){var l=e[s];if(!l)continue;if(Array.isArray(l)&&(M(l[0])||M(l[1])))continue;var c=void 0;c=o(l)?t(l):n(l),c&&(i[s]=c[0],r[s]=c[1],a[s]=c[2])}return[i,r,a]},framing:function(e,t){t||(t={});var n,o,r,i=t["easing"]?Ya[t["easing"]]:Ya.linear;i||(i=Ya.linear),e=Qa._resolveStyles(e),e&&(o=e[0],n=e[1],r=e[2]);var a=function e(t,n,o){if(!n||!o)return null;var i={};for(var a in o)if(o.hasOwnProperty(a)){if(n[a]===r[a]){i[a]=n[a];continue}var s=n[a],l=o[a];if(O(l))i[a]=s+t*l;else if(Array.isArray(l)){for(var c=[],u=0;u<l.length;u++)c.push(e(t,s[u],l[u]));i[a]=c}else{var d=l.constructor;i[a]=d===Object?e(t,s,l):s instanceof Pe||s instanceof $o?s.add(l.multi(t)):l}}return i};return function(e,t){var s,l;if(e<0)s={playState:"idle",delta:0},l=o;else if(e<t){var c=i(e/t);s={playState:"running",delta:c},l=a(c,o,n)}else s={playState:"finished",delta:1},l=r;return s["startStyles"]=o,s["destStyles"]=r,s["progress"]=e,s["remainingMs"]=t-e,new Ja(s,l)}},_requestAnimFrame:function(e){this._frameQueue||(this._frameQueue=[]),this._frameQueue.push(e),this._a()},_a:function(){this._animationFrameId||(this._animationFrameId=De(Qa._frameFn))},_run:function(){if(this._frameQueue.length){var e=this._frameQueue;this._frameQueue=[];for(var t=0,n=e.length;t<n;t++)e[t]();this._frameQueue.length?this._animationFrameId=De(Qa._frameFn):delete this._animationFrameId}},animate:function(e,t,n,o){t||(t={});var r=Qa.framing(e,t),i=new Xa(r,t,n,o);return i}};Qa._frameFn=Qa._run.bind(Qa),T(Xa.prototype,{_prepare:function(){var e=this.options,t=e["speed"]||e["duration"];R(t)&&(t=Qa.speed[t],t||(t=+t)),t||(t=Qa.speed["normal"]),this.duration=t,this._framer=e["framer"]||Qa._requestAnimFrame.bind(Qa)},play:function(){if("idle"!==this.playState&&"paused"!==this.playState||this.target&&this.target[Ka])return this;this.target&&(this.target[Ka]=1),"idle"===this.playState&&(this.currentTime=0,this._prepare());var e=E();if(!this.startTime){var t=this.options;this.startTime=t["startTime"]?t["startTime"]:e}return this._playStartTime=Math.max(e,this.startTime),"paused"===this.playState&&(this._playStartTime-=this.currentTime),this.playState="running",this._run(),this},pause:function(){return"paused"===this.playState||(this.playState="paused",this._run()),this},cancel:function(){return"idle"===this.playState||(this.playState="idle",this.finished=!1,this._run()),this},finish:function(){return"finished"===this.playState||(this.playState="finished",this.finished=!0,this._run()),this},reverse:function(){},_run:function(){var e=this,t=this._onFrame,n=E(),o=n-this._playStartTime;if(this.options["repeat"]&&o>=this.duration&&(this._playStartTime=n,o=0),"running"===this.playState){var r=this._animation(o,this.duration);this.playState=r.state["playState"],"running"!==this.playState&&this.target&&delete this.target[Ka],"idle"===this.playState?this.startTime>n&&setTimeout(this._run.bind(this),this.startTime-n):"running"===this.playState?this._framer((function(){"running"===e.playState&&(e.currentTime=o,t&&t(r),e._run())})):"finished"===this.playState&&(this.finished=!0,t&&t(r))}else if(this.target&&delete this.target[Ka],t){"finished"===this.playState?o=this.duration:"idle"===this.playState&&(o=0);var i=this._animation(o,this.duration);i.state.playState=this.playState,t(i)}}});Qa.animate;var es={smoothness:0,enableClip:!0,enableSimplify:!0,simplifyTolerance:2,symbol:{lineColor:"#000",lineWidth:2,lineOpacity:1,polygonFill:"#fff",polygonOpacity:1,opacity:1}},ts=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.animateShow=function(e,t){var n=this;void 0===e&&(e={}),this._showPlayer&&this._showPlayer.finish(),P(e)&&(e={},t=e);var o=this.getCoordinates();if(0===o.length)return this;this._animIdx=0,this._animLenSoFar=0,this.show();var r=!!this.getShell,i=r?this.getShell().concat(this.getShell()[0]):o,a=this._getProjection(),s=a.projectCoords(i,this.options["antiMeridian"]);this._prjAniShowCenter=this._getPrjExtent().getCenter(),this._aniShowCenter=a.unproject(this._prjAniShowCenter);var l=e["duration"]||1e3,c=e["easing"]||"out";this.setCoordinates([]);var u=0;s.length&&(s[0]._distance=0);for(var d=1;d<s.length;d++){var h=s[d].distanceTo(s[d-1]);s[d]._distance=h,u+=h}this._tempCoord=new $o(0,0),this._tempPrjCoord=new Pe(0,0);var m=this._showPlayer=Qa.animate({t:l},{duration:l,easing:c},(function(e){if(n.getMap()){var r=n._drawAnimShowFrame(e.styles.t,l,u,i,s);"finished"===e.state.playState&&(delete n._showPlayer,delete n._aniShowCenter,delete n._prjAniShowCenter,delete n._animIdx,delete n._animLenSoFar,delete n._animTailRatio,delete n._tempCoord,delete n._tempPrjCoord,n.setCoordinates(o)),t&&t(e,r)}else if("finished"!==m.playState&&(m.finish(),t)){var a=n.getCoordinates();t(e,a[a.length-1])}}),this);return m.play(),m},n._drawAnimShowFrame=function(e,t,n,o,r){if(0===e)return o[0];var i,a,s=e/t*n,l=0;for(i=this._animIdx+1,a=r.length;i<a;i++){if(l=r[i]._distance,this._animLenSoFar+l>s)break;this._animLenSoFar+=l}if(this._animIdx=i-1,this._animIdx>=a-1)return this.setCoordinates(o),o[o.length-1];var c=this._animIdx,u=r[c],d=r[c+1],h=s-this._animLenSoFar,m=h/l;this._animTailRatio=m;var p=u.x+(d.x-u.x)*m,f=u.y+(d.y-u.y)*m;this._tempPrjCoord.x=p,this._tempPrjCoord.y=f;var g=this._tempPrjCoord,v=o[c],y=o[c+1],b=v.x+(y.x-v.x)*m,w=v.y+(y.y-v.y)*m;this._tempCoord.x=b,this._tempCoord.y=w;var _=this._tempCoord,x=!!this.getShell;if(!x&&this.options["smoothness"]>0){for(var C=[],S=[],k=0;k<=this._animIdx;k++)C.push(o[k]),S.push(r[k]);C.push(_,_),S.push(g,g),this.setCoordinates(C),this._setPrjCoordinates(S)}else{var E=o.slice(0,this._animIdx+1);E.push(_);var T=r.slice(0,this._animIdx+1);T.push(g),x?(this.setCoordinates([this._aniShowCenter].concat(E)),this._setPrjCoordinates([this._prjAniShowCenter].concat(T))):(this.setCoordinates(E),this._setPrjCoordinates(T))}return _},n._getCenterInExtent=function(e,t,n){var o=this.getExtent();if(!e.intersects(o))return null;var r=n(t,e);if(0===r.length)return null;var i=0,a=0,s=0;r.forEach((function(e){Array.isArray(e)?e.forEach((function(e){e.point&&(e=e.point),i+=e.x,a+=e.y,s++})):(e.point&&(e=e.point),i+=e.x,a+=e.y,s++)}));var l=new $o(i,a)._multi(1/s);return l.count=s,l},n._getPath2DPoints=function(e,t,n){if(!Ge(e))return[];var o=this.getMap(),r=!t&&this._shouldSimplify(),i=this.options["simplifyTolerance"]*o._getResolution(),a=Array.isArray(e[0]);if(delete this._simplified,r&&!a){var s=e.length;e=l()(e,i,!1),this._simplified=e.length<s}if(n||(n=o._getResolution()),Array.isArray(e)){var c=[],u="_glPt";if(!Array.isArray(e[0]))return c=st(e,u),o._prjsToPointsAtRes(e,n,c);for(var d=[],h=0,m=e.length;h<m;h++){var p=e[h];c=st(p,u);var f=o._prjsToPointsAtRes(p,n,c);d.push(f)}return d}return o._prjToPointAtRes(e,n)},n._shouldSimplify=function(){var e=this.getLayer(),t=this.getProperties(),n=t&&e.options["enableAltitude"]&&!M(t[e.options["altitudeProperty"]])&&0!==t[e.options["altitudeProperty"]];return e&&e.options["enableSimplify"]&&!n&&this.options["enableSimplify"]&&!this._showPlayer},n._setPrjCoordinates=function(e){this._prjCoords=e,this.onShapeChanged()},n._getPrjCoordinates=function(){return this._verifyProjection(),!this._prjCoords&&this._getProjection()&&(this._prjCoords=this._projectCoords(this._coordinates)),this._prjCoords},n._updateCache=function(){this._clearCache();var e=this._getProjection();e&&this._prjCoords&&(this._coordinates=this._unprojectCoords(this._getPrjCoordinates()))},n._clearProjection=function(){this._prjCoords=null,e.prototype._clearProjection.call(this)},n._projectCoords=function(e){var t=this._getProjection();return t?t.projectCoords(e,this.options["antiMeridian"]):[]},n._unprojectCoords=function(e){var t=this._getProjection();return t?t.unprojectCoords(e):[]},n._computeCenter=function(){var e=this._coordinates;if(!Ge(e))return null;for(var t=0,n=0,o=0,r=e.length,i=0;i<r;i++)e[i]&&O(e[i].x)&&O(e[i].y)&&(t+=e[i].x,n+=e[i].y,o++);return new $o(t/o,n/o)},n._computeExtent=function(){var e=this._coordinates;if(!Ge(e))return null;var t=[e];return this.hasHoles&&this.hasHoles()&&t.push.apply(t,this.getHoles()),this._coords2Extent(t,this._getProjection())},n._computePrjExtent=function(){var e=[this._getPrjCoordinates()];return this.hasHoles&&this.hasHoles()&&e.push.apply(e,this._getPrjHoles()),this._coords2Extent(e)},n._get2DLength=function(){for(var e=this._getPath2DPoints(this._getPrjCoordinates(),!0),t=0,n=1,o=e.length;n<o;n++)t+=e[n].distanceTo(e[n-1]);return t},n._hitTestTolerance=function(){var t,n=this._getInternalSymbol();if(Array.isArray(n)){t=0;for(var o=0;o<n.length;o++)O(n[o]["lineWidth"])&&n[o]["lineWidth"]>t&&(t=n[o]["lineWidth"])}else t=n["lineWidth"];return e.prototype._hitTestTolerance.call(this)+(O(t)?t/2:1.5)},n._coords2Extent=function(e,t){if(!e||0===e.length||Array.isArray(e[0])&&0===e[0].length)return null;for(var n=new ar(t),o=0,r=e.length;o<r;o++)for(var i=0,a=e[o].length;i<a;i++)n._combine(e[o][i]);return n},t}(Sa);ts.mergeOptions(es);var ns="Polygon",os=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o.type="Polygon",t&&o.setCoordinates(t),o}ke(t,e);var n=t.prototype;return n.getOutline=function(){var e=this._getPainter();if(!e)return null;var n=this.getExtent();return new t(n.toArray(),{symbol:{lineWidth:1,lineColor:"6b707b"}})},n.setCoordinates=function(e){if(!e)return this._coordinates=null,this._holes=null,this._projectRings(),this;var t=$o.toCoordinates(e),n=t.length;if(Array.isArray(t[0]))if(this._coordinates=this._trimRing(t[0]),n>1){for(var o=[],r=1;r<n;r++)t[r]&&o.push(this._trimRing(t[r]));this._holes=o}else this._holes=null;else this._coordinates=this._trimRing(t);return this._projectRings(),this},n.getCoordinates=function(){if(!this._coordinates)return[];for(var e=this.getHoles(),t=[this._copyAndCloseRing(this._coordinates)],n=0,o=e.length;n<o;n++)t.push(this._copyAndCloseRing(e[n]));return t},n.getCenterInExtent=function(e){return this._getCenterInExtent(e,this.getShell(),Oi)},n.getShell=function(){return this._coordinates||[]},n.getHoles=function(){return this._holes||[]},n.hasHoles=function(){return this.getHoles().length>0},n._projectRings=function(){this.getMap()?(this._prjCoords=this._projectCoords(this._coordinates),this._prjHoles=this._projectCoords(this._holes),this.onShapeChanged()):this.onShapeChanged()},n._setPrjCoordinates=function(e){this._prjCoords=e,this.onShapeChanged()},n._cleanRing=function(e){for(var t=e.length-1;t>=0;t--)e[t]||e.splice(t,1)},n._checkRing=function(e){if(this._cleanRing(e),!e||!Ge(e))return!1;var t=e[e.length-1],n=!0;return e[0].x===t.x&&e[0].y===t.y||(n=!1),n},n._trimRing=function(e){var t=this._checkRing(e);return Ge(e)&&t&&e.splice(e.length-1,1),e},n._copyAndCloseRing=function(e){e=e.slice(0);var t=this._checkRing(e);return Ge(e)&&!t?(e.push(e[0].copy()),e):e},n._getPrjShell=function(){return this.getJSONType()===ns?this._getPrjCoordinates():(this._verifyProjection(),this._getProjection()&&!this._prjShell&&(this._prjShell=this._projectCoords(this.getShell())),this._prjShell)},n._getPrjHoles=function(){var e=this._getProjection();return this._verifyProjection(),e&&!this._prjHoles&&(this._prjHoles=this._projectCoords(this.getHoles())),this._prjHoles},n._computeGeodesicLength=function(e){var t=this.getCoordinates();if(!Ge(t))return 0;for(var n=0,o=0,r=t.length;o<r;o++)n+=e.measureLength(t[o]);return n},n._computeGeodesicArea=function(e){var t=this.getCoordinates();if(!Ge(t))return 0;for(var n=e.measureArea(t[0]),o=1,r=t.length;o<r;o++)n-=e.measureArea(t[o]);return n},n._updateCache=function(){e.prototype._updateCache.call(this),this._prjHoles&&(this._holes=this._unprojectCoords(this._getPrjHoles()))},n._clearCache=function(){return delete this._prjShell,e.prototype._clearCache.call(this)},n._clearProjection=function(){this._prjHoles&&(this._prjHoles=null),this._prjShell&&(this._prjShell=null),e.prototype._clearProjection.call(this)},t}(ts);function rs(e){return function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getCoordinates=function(){return this._coordinates},n.setCoordinates=function(e){var t=e instanceof $o?e:new $o(e);if(t.equals(this._coordinates))return this;if(this._coordinates=t,!this.getMap())return this._dirtyCoords=!0,this.onPositionChanged(),this;var n=this._getProjection();return this._setPrjCoordinates(n.project(this._coordinates)),this},n._getCenter2DPoint=function(e){var t=this.getMap();if(!t)return null;var n=this._getPrjCoordinates();return n?(e||(e=t._getResolution()),t._prjToPointAtRes(n,e)):null},n._getPrjCoordinates=function(){var e=this._getProjection();return this._verifyProjection(),!this._pcenter&&e&&this._coordinates&&(this._pcenter=e.project(this._coordinates)),this._pcenter},n._setPrjCoordinates=function(e){this._pcenter=e,this.onPositionChanged()},n._updateCache=function(){this._clearCache();var e=this._getProjection();this._pcenter&&e&&(this._coordinates=e.unproject(this._pcenter))},n._clearProjection=function(){this._pcenter=null,e.prototype._clearProjection.call(this)},n._computeCenter=function(){return this._coordinates?this._coordinates.copy():null},t}(e)}os.registerJSONType(ns);var is=new sr,as={symbol:{markerType:"path",markerPath:[{path:"M8 23l0 0 0 0 0 0 0 0 0 0c-4,-5 -8,-10 -8,-14 0,-5 4,-9 8,-9l0 0 0 0c4,0 8,4 8,9 0,4 -4,9 -8,14z M3,9 a5,5 0,1,0,0,-0.9Z",fill:"#DE3333"}],markerPathWidth:16,markerPathHeight:23,markerWidth:24,markerHeight:34},hitTestForEvent:!1,collision:!0},ss=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o.type="Point",t&&o.setCoordinates(t),o}ke(t,e);var n=t.prototype;return n.getOutline=function(){var e=this.getCoordinates(),n=this.getContainerExtent(),o=this.getMap().coordToContainerPoint(e);return new t(e,{symbol:{markerType:"square",markerWidth:n.getWidth(),markerHeight:n.getHeight(),markerLineWidth:1,markerLineColor:"6b707b",markerFill:"rgba(0, 0, 0, 0)",markerDx:n.xmin-(o.x-n.getWidth()/2),markerDy:n.ymin-(o.y-n.getHeight()/2)}})},n.setSymbol=function(){var t;delete this._fixedExtent;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.prototype.setSymbol).call.apply(t,[this].concat(o))},n._getSizeSymbol=function(e){for(var t,n={},o=!1,r=!1,i=0;i<ki.length;i++){var a=e[ki[i]];M(a)||(!o&&Ot(a)&&(o=!0,r=!0),n[ki[i]]=a)}for(var s=0;s<Ei.length;s++){var l=e[Ei[s]];M(l)||(!o&&Ot(l)&&(o=!0),n[Ei[s]]=l)}return o?(t=en(n,this),r&&(t._dynamic=!0)):t=n,t},n._setExternSymbol=function(t){return this._symbol||delete this._fixedExtent,e.prototype._setExternSymbol.call(this,t)},n._isDynamicSize=function(){return this._sizeSymbol&&this._sizeSymbol._dynamic},n._getFixedExtent=function(){if(this._fixedExtent&&!this._isDynamicSize())return this._fixedExtent;this._fixedExtent=this._fixedExtent||new sr,this._fixedExtent.set(null,null,null,null);var e=this._sizeSymbol;if(!e)return this._fixedExtent;var t=this.getLayer()&&this.getLayer().getRenderer(),n=t&&t.resources,o=this.getTextDesc();if(Array.isArray(e)){is.set(1/0,1/0,-1/0,-1/0);for(var r=0;r<e.length;r++)e[r]&&this._fixedExtent._combine(bi(is,e[r],n,o&&o[r]))}else this._fixedExtent=bi(this._fixedExtent,e,n,o);return this._fixedExtent},n._isVectorMarker=function(){var e=this._getInternalSymbol();return!Array.isArray(e)&&xi(e)},n._canEdit=function(){var e=this._getInternalSymbol();return!Array.isArray(e)&&(xi(e)||Ci(e)||_i(e))},n._containsPoint=function(t,n){var o=this.getContainerExtent();return n&&(o=o.expand(n)),!!o.contains(t)&&(!this.options["hitTestForEvent"]||e.prototype._containsPoint.call(this,t,n))},n._computeExtent=function(){return ls.call(this,"getCenter")},n._computePrjExtent=function(){return ls.call(this,"_getPrjCoordinates")},n._computeGeodesicLength=function(){return 0},n._computeGeodesicArea=function(){return 0},n._getSprite=function(e,t){return this._getPainter()?this._getPainter().getSprite(e,t):new ma(this).getSprite(e,t)},t}(rs(Sa));function ls(e){var t=this[e]();return t?new ar(t,t,this._getProjection()):null}ss.mergeOptions(as),ss.registerJSONType("Marker");var cs={arrowStyle:null,arrowPlacement:"vertex-last"},us=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o.type="LineString",t&&o.setCoordinates(t),o}ke(t,e);var n=t.prototype;return n.getOutline=function(){return os.prototype.getOutline.call(this)},n.setCoordinates=function(e){return e?(this._coordinates=$o.toCoordinates(e),this.getMap()?this._setPrjCoordinates(this._projectCoords(this._coordinates)):this.onShapeChanged(),this):(this._coordinates=null,this._setPrjCoordinates(null),this)},n.getCoordinates=function(){return this._coordinates||[]},n.getCenterInExtent=function(e){return this._getCenterInExtent(e,this.getCoordinates(),Ti)},n._computeGeodesicLength=function(e){return e.measureLength(this.getCoordinates())},n._computeGeodesicArea=function(){return 0},t}(ts);us.mergeOptions(cs),us.registerJSONType("LineString");var ds=new sr,hs=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o.type="GeometryCollection",o.setGeometries(t),o}ke(t,e);var n=t.prototype;return n.getContainerExtent=function(e){var t=e||new sr;return this.forEach((function(e){t._combine(e.getContainerExtent(ds))})),t},n.setGeometries=function(e){for(var t=this._checkGeometries(e||[]),n=this._getSymbol(),o=this.config(),r=t.length-1;r>=0;r--)t[r]._initOptions(o),t[r]._setParent(this),t[r]._setEventParent(this),n&&t[r].setSymbol(n);return this._geometries=t,this.getLayer()&&(this._bindGeometriesToLayer(),this.onShapeChanged()),this},n.getGeometries=function(){return this._geometries||[]},n.forEach=function(e,t){for(var n=this.getGeometries(),o=0,r=n.length;o<r;o++)n[o]&&(t?e.call(t,n[o],o):e(n[o],o));return this},n.filter=function(e,n){if(!e)return new t;var o=[],r=P(e),i=r?e:Lt(e);return this.forEach((function(e){var t=r?e:Kt(e);(n?i.call(n,t):i(t))&&o.push(e)}),this),new t(o)},n.translate=function(e){if(!e)return this;if(this.isEmpty())return this;var t=arguments;return this.forEach((function(e){e&&e.translate&&e.translate.apply(e,t)})),this},n.isEmpty=function(){return!Ge(this.getGeometries())},n.remove=function(){return this.forEach((function(e){e._unbind()})),Sa.prototype.remove.apply(this,arguments)},n.show=function(){return this.options["visible"]=!0,this.forEach((function(e){e.show()})),this},n.hide=function(){return this.options["visible"]=!1,this.forEach((function(e){e.hide()})),this},n.onConfig=function(e){this.forEach((function(t){t.config(e)}))},n.getSymbol=function(){var t=e.prototype.getSymbol.call(this);if(!t){var n=[],o=!1;this.forEach((function(e){var t=e.getSymbol();t&&!o&&(o=!0),n.push(e.getSymbol())})),o&&(t={children:n})}return t},n.setSymbol=function(e){var t=this;if(e&&e["children"])this._symbol=null,this.forEach((function(n,o){n._eventSymbolProperties=t._eventSymbolProperties,n.setSymbol(e["children"][o])}));else{var n=this._prepareSymbol(e);this._symbol=n,this.forEach((function(e){e._eventSymbolProperties=t._eventSymbolProperties,e.setSymbol(n)}))}return this.onSymbolChanged(),this},n._setExternSymbol=function(e){return e=this._prepareSymbol(e),this._externSymbol=e,this.forEach((function(t){t._setExternSymbol(e)})),this.onSymbolChanged(),this},n._bindLayer=function(){e.prototype._bindLayer.apply(this,arguments),this._bindGeometriesToLayer()},n._bindGeometriesToLayer=function(){var e=this.getLayer();this.forEach((function(t){t._bindLayer(e)}))},n._checkGeometries=function(e){var t="The geometry added to collection is invalid.";if(e&&!Array.isArray(e)){if(e instanceof Sa)return[e];throw new Error(t)}for(var n=0,o=e.length;n<o;n++)if(!this._checkGeo(e[n]))throw new Error(t+" Index: "+n);return e},n._checkGeo=function(e){return e instanceof Sa},n._updateCache=function(){this._clearCache(),this.isEmpty()||this.forEach((function(e){e&&e._updateCache&&e._updateCache()}))},n._removePainter=function(){this._painter&&this._painter.remove(),delete this._painter,this.forEach((function(e){e._removePainter()}))},n._computeCenter=function(e){if(!e||this.isEmpty())return null;for(var t=0,n=0,o=0,r=this.getGeometries(),i=0,a=r.length;i<a;i++)if(r[i]){var s=r[i]._computeCenter(e);s&&(t+=s.x,n+=s.y,o++)}return 0===o?null:new $o(t/o,n/o)},n._containsPoint=function(e,t){if(this.isEmpty())return!1;delete this._pickGeometryIndex;for(var n=this.getGeometries(),o=0,r=n.length;o<r;o++)if(n[o]._containsPoint(e,t))return this._pickGeometryIndex=o,!0;return!1},n._computeExtent=function(e){return ms.call(this,e,"_computeExtent")},n._computePrjExtent=function(e){return ms.call(this,e,"_computePrjExtent")},n._computeGeodesicLength=function(e){if(!e||this.isEmpty())return 0;for(var t=this.getGeometries(),n=0,o=0,r=t.length;o<r;o++)t[o]&&(n+=t[o]._computeGeodesicLength(e));return n},n._computeGeodesicArea=function(e){if(!e||this.isEmpty())return 0;for(var t=this.getGeometries(),n=0,o=0,r=t.length;o<r;o++)t[o]&&(n+=t[o]._computeGeodesicArea(e));return n},n._exportGeoJSONGeometry=function(){var e=[];if(!this.isEmpty())for(var t=this.getGeometries(),n=0,o=t.length;n<o;n++)t[n]&&e.push(t[n]._exportGeoJSONGeometry());return{type:"GeometryCollection",geometries:e}},n._toJSON=function(e){var t,n={type:"Feature",geometry:{type:"GeometryCollection",geometries:this.getGeometries().filter((function(e){return e&&e._toJSON})).map((function(e){var t=e._toJSON();return t.subType?t:e._exportGeoJSONGeometry()}))}},o=this.getId();return M(o)||(n["id"]=o),(M(e["properties"])||e["properties"])&&(t=this._exportProperties()),n["properties"]=t,e.feature=n,e},n._clearProjection=function(){if(!this.isEmpty())for(var e=this.getGeometries(),t=0,n=e.length;t<n;t++)e[t]&&e[t]._clearProjection()},n._getConnectPoints=function(){var e=this.getExtent(),t=[new $o(e.xmin,e.ymax),new $o(e.xmax,e.ymin),new $o(e.xmin,e.ymin),new $o(e.xmax,e.ymax)];return t},n._getExternalResources=function(){if(this.isEmpty())return[];for(var e,t,n,o=this.getGeometries(),r=[],i={},a=0,s=o.length;a<s;a++)if(o[a]){e=o[a]._getInternalSymbol(),t=an(e);for(var l=0,c=t.length;l<c;l++)n=t[l].join(),i[n]||(r.push(t[l]),i[n]=1)}return r},n.startEdit=function(e){var t=this;if(this.isEmpty())return this;e||(e={}),e["symbol"]&&(this._originalSymbol=this.getSymbol(),this.setSymbol(e["symbol"])),this._draggbleBeforeEdit=this.options["draggable"],this.config("draggable",!1);for(var n=this.getGeometries(),o=0,r=n.length;o<r;o++)n[o].startEdit(e);this._editing=!0;var i=this.getLayer(),a=i&&"canvas"===i.options["renderer"];return a&&this.hide(),setTimeout((function(){t.fire("editstart")}),1),this},n.endEdit=function(){if(this.isEmpty())return this;for(var e=this.getGeometries(),t=0,n=e.length;t<n;t++)e[t].endEdit();return this._originalSymbol&&(this.setSymbol(this._originalSymbol),delete this._originalSymbol),this._editing=!1,this.show(),this.config("draggable",this._draggbleBeforeEdit),this.fire("editend"),this},n.isEditing=function(){return!!this._editing},t}(Sa);function ms(e,t){if(this.isEmpty())return null;for(var n=new ar,o=this.getGeometries(),r=0,i=o.length;r<i;r++)if(o[r]){var a=o[r][t](e);a&&n._combine(a)}return n}hs.registerJSONType("GeometryCollection");var ps=function(e){function t(t,n,o,r){var i;return i=e.call(this,null,r)||this,i.GeometryType=t,i.type=n,i._initData(o),i}ke(t,e);var n=t.prototype;return n.getCoordinates=function(){for(var e=[],t=this.getGeometries(),n=0,o=t.length;n<o;n++){var r=t[n];e.push(r.getShell&&"Polygon"!==r.getJSONType()?[r.getShell()]:r.getCoordinates())}return e},n.setCoordinates=function(e){e=e||[];for(var t=[],n=0,o=e.length;n<o;n++){var r=new this.GeometryType(e[n],this.config());t.push(r)}return this.setGeometries(t),this},n._initData=function(e){e=e||[],e.length&&(e[0]instanceof this.GeometryType?this.setGeometries(e):this.setCoordinates(e))},n._checkGeo=function(e){return e instanceof this.GeometryType},n._exportGeoJSONGeometry=function(){var e=this.getCoordinates(),t=$o.toNumberArrays(e);return{type:this.getType(),coordinates:t}},n._toJSON=function(e){return{feature:this.toGeoJSON(e)}},t}(hs),fs=function(e){function t(t,n){return e.call(this,ss,"MultiPoint",t,n)||this}ke(t,e);var n=t.prototype;return n.findClosest=function(e){if(!e)return null;var t=this.getCoordinates(),n=null,o=1/0;return t.forEach((function(t){var r=gs(t,e);r<o&&(n=t,o=r)})),n},t}(ps);function gs(e,t){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}fs.registerJSONType("MultiPoint");var vs=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getCenterInExtent=function(e){var t=this.getGeometries(),n=0,o=0,r=0;return t.forEach((function(t){var i=t.getCenterInExtent(e);i&&(n+=i.x*i.count,o+=i.y*i.count,r+=i.count)})),0===r?null:new $o(n,o)._multi(1/r)},t}(ps),ys=function(e){function t(t,n){return e.call(this,us,"MultiLineString",t,n)||this}return ke(t,e),t}(vs);ys.registerJSONType("MultiLineString");var bs=function(e){function t(t,n){return e.call(this,os,"MultiPolygon",t,n)||this}return ke(t,e),t}(vs);bs.registerJSONType("MultiPolygon");var ws={Marker:ss,LineString:us,Polygon:os,MultiPoint:fs,MultiLineString:ys,MultiPolygon:bs},_s={toGeometry:function(e,t){if(R(e)&&(e=He(e)),Array.isArray(e)){for(var n=[],o=0,r=e.length;o<r;o++){var i=_s._convert(e[o],t);Array.isArray(i)?Fe(n,i):n.push(i)}return n}var a=_s._convert(e,t);return a},_convert:function(e,t){if(!e||M(e["type"]))return null;var n=e["type"];if("Feature"===n){var o=e["geometry"],r=_s._convert(o);return r?(r.setId(e["id"]),r.setProperties(e["properties"]),t&&t(r),r):null}if("FeatureCollection"===n){var i=e["features"];return i?_s.toGeometry(i,t):null}if(["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"].indexOf(n)>=0){var a="Point"===n?"Marker":n,s=new ws[a](e["coordinates"]);return t&&t(s),s}if("GeometryCollection"===n){var l=e["geometries"];if(!Ge(l)){var c=new hs;return t&&t(c),c}for(var u=[],d=l.length,h=0;h<d;h++)l[h].subType?u.push(Sa.getJSONClass(l[h].subType).fromJSON(l[h])):u.push(_s._convert(l[h]));var m=new hs(u);return t&&t(m),m}return null}},xs={numberOfShellPoints:60},Cs=function(e){function t(t,n,o){var r;return r=e.call(this,null,o)||this,t&&r.setCoordinates(t),r._radius=n,r}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(e["coordinates"],e["radius"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n.getRadius=function(){return this._radius},n.setRadius=function(e){return this._radius=e,this.onShapeChanged(),this},n.getShell=function(){for(var e,t,n,o=this._getMeasurer(),r=this.getCoordinates(),i=this.options["numberOfShellPoints"],a=this.getRadius(),s=[],l=0,c=i-1;l<c;l++){e=360*l/c*Math.PI/180,t=a*Math.cos(e),n=a*Math.sin(e);var u=o.locate(r,t,n);s.push(u)}return s.push(s[0]),s},n.getHoles=function(){return[]},n.animateShow=function(){return this.show()},n._containsPoint=function(t,n){var o=this.getMap();if(o.getPitch())return e.prototype._containsPoint.call(this,t,n);var r=o._pointToContainerPoint(this._getCenter2DPoint()),i=this.getSize(),a=M(n)?this._hitTestTolerance():n,s=r.add(i.width/2,i.height/2);return Ri(t,r,s,a)},n._computePrjExtent=function(e){var t=this._getMinMax(e);if(!t)return null;var n=this._getPrjCoordinates(),o=t.map((function(t){return e.project(t)})),r=o[0].x-n.x,i=o[1].x-n.x,a=o[2].y-n.y,s=o[3].y-n.y;return new ar(n.add(r,a),n.add(i,s))},n._computeExtent=function(e){var t=this._getMinMax(e);return t?new ar(t[0].x,t[2].y,t[1].x,t[3].y,this._getProjection()):null},n._getMinMax=function(e){if(!e||!this._coordinates||M(this._radius))return null;var t=this._radius,n=e.locate(this._coordinates,-t,0),o=e.locate(this._coordinates,t,0),r=e.locate(this._coordinates,0,t),i=e.locate(this._coordinates,0,-t);return[n,o,r,i]},n._computeGeodesicLength=function(){return M(this._radius)?0:2*Math.PI*this._radius},n._computeGeodesicArea=function(){return M(this._radius)?0:Math.PI*Math.pow(this._radius,2)},n._exportGeoJSONGeometry=function(){var e=$o.toNumberArrays([this.getShell()]);return{type:"Polygon",coordinates:e}},n._toJSON=function(e){var t=this.getCenter(),n=T({},e);n.geometry=!1;var o=this.toGeoJSON(n);return o["geometry"]={type:"Polygon"},{feature:o,subType:"Circle",coordinates:[t.x,t.y],radius:this.getRadius()}},t}(rs(os));Cs.mergeOptions(xs),Cs.registerJSONType("Circle");var Ss={numberOfShellPoints:80},ks=function(e){function t(t,n,o,r){var i;return i=e.call(this,null,r)||this,t&&i.setCoordinates(t),i.width=n,i.height=o,i}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(e["coordinates"],e["width"],e["height"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n.getWidth=function(){return this.width},n.setWidth=function(e){return this.width=e,this.onShapeChanged(),this},n.getHeight=function(){return this.height},n.setHeight=function(e){return this.height=e,this.onShapeChanged(),this},n.getShell=function(){for(var e,t,n,o,r=this._getMeasurer(),i=this.getCoordinates(),a=this.options["numberOfShellPoints"],s=this.getWidth(),l=this.getHeight(),c=[],u=Math.pow(s/2,2)*Math.pow(l/2,2),d=Math.pow(s/2,2),h=Math.pow(l/2,2),m=0;m<a;m++){e=360*m/a,t=e*Math.PI/180,n=Math.sqrt(u/(d*Math.pow(Math.tan(t),2)+h)),o=Math.sqrt(u/(h*Math.pow(1/Math.tan(t),2)+d)),e>90&&e<270&&(n*=-1),e>180&&e<360&&(o*=-1);var p=r.locate(i,n,o);c.push(p)}return c},n.getHoles=function(){return[]},n.animateShow=function(){return this.show()},n._containsPoint=function(t,n){var o=this.getMap();if(o.isTransforming())return e.prototype._containsPoint.call(this,t,n);var r=o.getProjection(),i=M(n)?this._hitTestTolerance():n,a=r.projectCoords([this._coordinates,o.locate(this._coordinates,this.getWidth()/2,this.getHeight()/2)],this.options["antiMeridian"]),s=o._prjToContainerPoint(a[0]),l=o._prjToContainerPoint(a[1]);return Ri(t,s,l,i)},n._computePrjExtent=function(){return Cs.prototype._computePrjExtent.apply(this,arguments)},n._computeExtent=function(){return Cs.prototype._computeExtent.apply(this,arguments)},n._getMinMax=function(e){if(!e||!this._coordinates||M(this.width)||M(this.height))return null;var t=this.getWidth(),n=this.getHeight(),o=e.locate(this._coordinates,-t/2,0),r=e.locate(this._coordinates,t/2,0),i=e.locate(this._coordinates,0,-n/2),a=e.locate(this._coordinates,0,n/2);return[o,r,i,a]},n._computeGeodesicLength=function(){if(M(this.width)||M(this.height))return 0;var e=this.width>this.height?this.width:this.height;return 2*Math.PI*e/2-4*Math.abs(this.width-this.height)},n._computeGeodesicArea=function(){return M(this.width)||M(this.height)?0:Math.PI*this.width*this.height/4},n._exportGeoJSONGeometry=function(){var e=$o.toNumberArrays([this.getShell()]);return{type:"Polygon",coordinates:e}},n._toJSON=function(e){var t=T({},e),n=this.getCenter();t.geometry=!1;var o=this.toGeoJSON(t);return o["geometry"]={type:"Polygon"},{feature:o,subType:"Ellipse",coordinates:[n.x,n.y],width:this.getWidth(),height:this.getHeight()}},t}(rs(os));ks.mergeOptions(Ss),ks.registerJSONType("Ellipse");var Es=function(e){function t(t,n,o,r){var i;return i=e.call(this,null,r)||this,t&&i.setCoordinates(t),i._width=n,i._height=o,i}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(e["coordinates"],e["width"],e["height"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n.getCoordinates=function(){return this._coordinates},n.setCoordinates=function(e){if(this._coordinates=e instanceof $o?e:new $o(e),!this._coordinates||!this.getMap())return this.onPositionChanged(),this;var t=this._getProjection();return this._setPrjCoordinates(t.project(this._coordinates)),this},n.getWidth=function(){return this._width},n.setWidth=function(e){return this._width=e,this.onShapeChanged(),this},n.getHeight=function(){return this._height},n.setHeight=function(e){return this._height=e,this.onShapeChanged(),this},n.getShell=function(){var e=this._getMeasurer(),t=this._coordinates,n=this.getMap(),o=1,r=-1;if(n){var i=n.getFullExtent();i["left"]>i["right"]&&(o=-1),i["bottom"]>i["top"]&&(r=1)}var a=[];return a.push(t),a.push(e.locate(t,o*this._width,0)),a.push(e.locate(t,o*this._width,r*this._height)),a.push(e.locate(t,0,r*this._height)),a.push(t),a},n.getHoles=function(){return[]},n.animateShow=function(){return this.show()},n._getPrjCoordinates=function(){var e=this._getProjection();return this._verifyProjection(),!this._pnw&&e&&this._coordinates&&(this._pnw=e.project(this._coordinates)),this._pnw},n._setPrjCoordinates=function(e){this._pnw=e,this.onPositionChanged()},n._getPrjShell=function(){var t=e.prototype._getPrjShell.call(this),n=this._getProjection();if(!n.isSphere())return t;for(var o=n.getSphereExtent(),r=o.sx,i=o.sy,a=this._getProjection().getCircum(),s=t[0],l=1,c=t.length;l<c;l++){var u=t[l],d=0,h=0;r*(s.x-u.x)>0&&(d=a.x*r),i*(s.y-u.y)<0&&(h=a.y*i),t[l]._add(d,h)}return t},n._updateCache=function(){this._clearCache();var e=this._getProjection();this._pnw&&e&&(this._coordinates=e.unproject(this._pnw))},n._clearProjection=function(){this._pnw=null,e.prototype._clearProjection.call(this)},n._computeCenter=function(e){return e.locate(this._coordinates,this._width/2,-this._height/2)},n._containsPoint=function(t,n){var o=this.getMap();if(o.isTransforming())return e.prototype._containsPoint.call(this,t,n);var r=M(n)?this._hitTestTolerance():n,i=o._getResolution()*r,a=this._getPrjExtent().expand(i),s=o._containerPointToPrj(t);return a.contains(s)},n._computePrjExtent=function(e){var t=this._getSouthEast(e);if(!t)return null;var n=e.projectCoords([new $o(this._coordinates.x,t.y),new $o(t.x,this._coordinates.y)],this.options["antiMeridian"]);return new ar(n[0],n[1])},n._computeExtent=function(e){var t=this._getSouthEast(e);return t?new ar(this._coordinates,t,this._getProjection()):null},n._getSouthEast=function(e){if(!e||!this._coordinates||M(this._width)||M(this._height))return null;var t=this.getWidth(),n=this.getHeight(),o=t,r=-n;if(e.fullExtent){var i=e.fullExtent,a=i.right>i.left?1:-1,s=i.top>i.bottom?1:-1;o*=a,r*=s}var l=e.locate(this._coordinates,o,0),c=e.locate(this._coordinates,0,r);return l.y=c.y,l},n._computeGeodesicLength=function(){return M(this._width)||M(this._height)?0:2*(this._width+this._height)},n._computeGeodesicArea=function(){return M(this._width)||M(this._height)?0:this._width*this._height},n._exportGeoJSONGeometry=function(){var e=$o.toNumberArrays([this.getShell()]);return{type:"Polygon",coordinates:e}},n._toJSON=function(e){var t=T({},e),n=this.getCoordinates();t.geometry=!1;var o=this.toGeoJSON(t);return o["geometry"]={type:"Polygon"},{feature:o,subType:"Rectangle",coordinates:[n.x,n.y],width:this.getWidth(),height:this.getHeight()}},t}(os);Es.registerJSONType("Rectangle");var Ts={numberOfShellPoints:60},Ms=function(e){function t(t,n,o,r,i){var a;return a=e.call(this,t,n,i)||this,a.startAngle=o,a.endAngle=r,a}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(e["coordinates"],e["radius"],e["startAngle"],e["endAngle"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n.getStartAngle=function(){return this.startAngle},n.setStartAngle=function(e){return this.startAngle=e,this.onShapeChanged(),this},n.getEndAngle=function(){return this.endAngle},n.setEndAngle=function(e){return this.endAngle=e,this.onShapeChanged(),this},n.getShell=function(){for(var e,t,n,o=this._getMeasurer(),r=this.getCoordinates(),i=this.options["numberOfShellPoints"]-2,a=this.getRadius(),s=[r.copy()],l=this.getStartAngle(),c=this.getEndAngle()-l,u=0;u<i;u++){e=(c*u/(i-1)+l)*Math.PI/180,t=a*Math.cos(e),n=a*Math.sin(e);var d=o.locate(r,t,n);s.push(d)}return s.push(r.copy()),s},n._containsPoint=function(t,n){var o=this.getMap();if(o.isTransforming())return e.prototype._containsPoint.call(this,t,n);var r=o._pointToContainerPoint(this._getCenter2DPoint()),i=M(n)?this._hitTestTolerance():n,a=this.getSize(),s=r,l=t,c=l.x-s.x,u=s.y-l.y,d=Math.atan2(u,c),h=d<0?360*(d+2*Math.PI)/(2*Math.PI):360*d/(2*Math.PI),m=this.startAngle%360,p=this.endAngle%360,f=!1;return f=m>p?!(h>p&&h<m):h>=m&&h<=p,l.distanceTo(s)<=a.width/2+i&&f},n._computeGeodesicLength=function(){return M(this._radius)?0:2*Math.PI*this._radius*Math.abs(this.startAngle-this.endAngle)/360+2*this._radius},n._computeGeodesicArea=function(){return M(this._radius)?0:Math.PI*Math.pow(this._radius,2)*Math.abs(this.startAngle-this.endAngle)/360},n._toJSON=function(e){var t=T({},e),n=this.getCenter();t.geometry=!1;var o=this.toGeoJSON(t);return o["geometry"]={type:"Polygon"},{feature:o,subType:"Sector",coordinates:[n.x,n.y],radius:this.getRadius(),startAngle:this.getStartAngle(),endAngle:this.getEndAngle()}},t}(Cs);Ms.mergeOptions(Ts),Ms.registerJSONType("Sector");var Os={enableSimplify:!1,enableClip:!1},Ds=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n._arc=function(e,t,n){for(var o=this.options["arcDegree"]*Math.PI/180,r=1,i=t.length;r<i;r++){var a=Eo._arcBetween(e,t[r-1],t[r],o),s=[t[r-1].x+t[r].x-a[0],t[r-1].y+t[r].y-a[1]];t[r-1].nextCtrlPoint=s,t[r].prevCtrlPoint=s,Eo._stroke(e,n)}},n._quadraticCurve=function(e,t){if(t.length<=2)Eo._path(e,t);else{var n,o;for(n=2,o=t.length;n<o;n+=2)e.quadraticCurveTo(t[n-1].x,t[n-1].y,t[n].x,t[n].y);if(n-=1,n<o)for(;n<o;n++)e.lineTo(t[n].x,t[n].y)}},n._bezierCurve=function(e,t){if(t.length<=3)Eo._path(e,t);else{var n,o;for(n=1,o=t.length;n+2<o;n+=3)e.bezierCurveTo(t[n].x,t[n].y,t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y);if(n<o)for(;n<o;n++)e.lineTo(t[n].x,t[n].y)}},n._getCurveArrowPoints=function(e,t,n,o,r,i){var a,s=t.length;for(a=i;a<s;a+=i){var l=this._getArrowShape(t[a-1],t[a],n,o,r);l&&e.push(l)}if(a-=i,a<s-1)for(a+=1;a<s;a++){var c=this._getArrowShape(t[a-1],t[a],n,o,r);c&&e.push(c)}},t}(us);Ds.mergeOptions(Os);var As={arcDegree:90},Rs=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n._toJSON=function(e){return{feature:this.toGeoJSON(e),subType:"ArcCurve"}},n._paintOn=function(e,t,n){e.beginPath(),this._arc(e,t,n),Eo._stroke(e,n),this._paintArrow(e,t,n)},t.fromJSON=function(e){var n=e["feature"],o=new t(n["geometry"]["coordinates"],e["options"]);return o.setProperties(n["properties"]),o},t}(Ds);Rs.registerJSONType("ArcCurve"),Rs.mergeOptions(As);var Ps=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(n["geometry"]["coordinates"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n._toJSON=function(e){return{feature:this.toGeoJSON(e),subType:"CubicBezierCurve"}},n._paintOn=function(e,t,n){e.beginPath(),e.moveTo(t[0].x,t[0].y),this._bezierCurve(e,t),Eo._stroke(e,n),this._paintArrow(e,t,n)},n._getArrowPoints=function(e,t,n,o,r){return this._getCurveArrowPoints(e,t,n,o,r,3)},t}(Ds);Ps.registerJSONType("CubicBezierCurve");var Is=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e),t.fromJSON=function(e){var n=e["feature"],o=new t(n["geometry"]["coordinates"],e["options"]);return o.setProperties(n["properties"]),o};var n=t.prototype;return n._toJSON=function(e){return{feature:this.toGeoJSON(e),subType:"QuadBezierCurve"}},n._paintOn=function(e,t,n){e.beginPath(),e.moveTo(t[0].x,t[0].y),this._quadraticCurve(e,t,n),Eo._stroke(e,n),this._paintArrow(e,t,n)},n._getArrowPoints=function(e,t,n,o,r){return this._getCurveArrowPoints(e,t,n,o,r,2)},t}(Ds);Is.registerJSONType("QuadBezierCurve");var zs={textFaceName:"monospace",textSize:12,textLineSpacing:8,textWrapCharacter:"\n",textHorizontalAlignment:"middle",textVerticalAlignment:"middle"},Ns={markerType:"square",markerLineColor:"#000",markerLineWidth:2,markerLineOpacity:1,markerFill:"#fff",markerOpacity:1},Ls=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getContent=function(){return this._content},n.setContent=function(e){var t=this._content;return this._content=hn(e),this._refresh(),this._fireEvent("contentchange",{old:t,new:e}),this},n.onAdd=function(){this._refresh()},n.toJSON=function(){var t=e.prototype.toJSON.call(this);return delete t["symbol"],t},n.setSymbol=function(t){if(this._refreshing||!t)return e.prototype.setSymbol.call(this,t);var n=this._parseSymbol(t);if(this.setTextStyle){var o=this.getTextStyle()||{};o.symbol=n[0],this.setTextStyle(o)}else this.setTextSymbol&&this.setTextSymbol(n[0]);if(this.setBoxStyle){var r=this.getBoxStyle()||{};r.symbol=n[1],this.setBoxStyle(r)}else this.setBoxSymbol&&this.setBoxSymbol(n[1]);return this},n._parseSymbol=function(e){var t={},n={};for(var o in e)z(e,o)&&(0===o.indexOf("text")?t[o]=e[o]:n[o]=e[o]);return[t,n]},n._getTextSize=function(e){return Sn(this._content,e)["size"]},n._getInternalSymbol=function(){return this._symbol},n._getDefaultTextSymbol=function(){return T({},zs)},n._getDefaultBoxSymbol=function(){return T({},Ns)},n._getDefaultPadding=function(){return[12,8]},t}(ss),Hs={textStyle:{wrap:!0,padding:[12,8],verticalAlignment:"middle",horizontalAlignment:"middle"},boxSymbol:null},Fs=function(e){function t(t,n,o,r,i){var a;return void 0===i&&(i={}),a=e.call(this,n,i)||this,a._content=hn(t),a._width=M(o)?100:o,a._height=M(r)?40:r,i.boxSymbol&&a.setBoxSymbol(i.boxSymbol),i.textStyle&&a.setTextStyle(i.textStyle),a._refresh(),a}ke(t,e);var n=t.prototype;return n.getWidth=function(){return this._width},n.setWidth=function(e){return this._width=e,this._refresh(),this},n.getHeight=function(){return this._height},n.setHeight=function(e){return this._height=e,this._refresh(),this},n.getBoxSymbol=function(){return T({},this.options.boxSymbol)},n.setBoxSymbol=function(e){return this.options.boxSymbol=e?T({},e):e,this.getSymbol()&&this._refresh(),this},n.getTextStyle=function(){return this.options.textStyle?T({},this.options.textStyle):null},n.setTextStyle=function(e){return this.options.textStyle=e?T({},e):e,this.getSymbol()&&this._refresh(),this},t.fromJSON=function(e){var n=e["feature"],o=new t(e["content"],n["geometry"]["coordinates"],e["width"],e["height"],e["options"]);return o.setProperties(n["properties"]),o.setId(n["id"]),e["symbol"]&&o.setSymbol(e["symbol"]),o},n._toJSON=function(e){return{feature:this.toGeoJSON(e),width:this.getWidth(),height:this.getHeight(),subType:"TextBox",content:this._content}},n._refresh=function(){var e,t,n=this.getTextStyle()||{},o=n["padding"]||[12,8];if(Ot(this._width)){e=JSON.parse(JSON.stringify(this._width));var r=e.stops;if(r)for(var i=0;i<r.length;i++)r[i][1]=r[i][1]-2*o[0]}else e=this._width-2*o[0];if(Ot(this._height)){t=JSON.parse(JSON.stringify(this._height));var a=t.stops;if(a)for(var s=0;s<a.length;s++)a[s][1]=a[s][1]-2*o[1]}else t=this._height-2*o[1];var l=T({},n.symbol||this._getDefaultTextSymbol(),this.options.boxSymbol||this._getDefaultBoxSymbol(),{textName:this._content,markerWidth:this._width,markerHeight:this._height,textHorizontalAlignment:"middle",textVerticalAlignment:"middle",textMaxWidth:e,textMaxHeight:t});n["wrap"]&&!l["textWrapWidth"]&&(l["textWrapWidth"]=e);var c,u=n["horizontalAlignment"];if(l["textDx"]=l["markerDx"]||0,Ot(this._width)){c=JSON.parse(JSON.stringify(this._width));var d=c.stops;if(d)for(var h=0;h<d.length;h++)d[h][1]=d[h][1]/2-o[0],"left"===u&&(d[h][1]*=-1)}else c=l["markerWidth"]/2-o[0],"left"===u&&(c*=-1);"left"===u?(l["textHorizontalAlignment"]="right",l["textDx"]=c):"right"===u&&(l["textHorizontalAlignment"]="left",l["textDx"]=c);var m,p=n["verticalAlignment"];if(l["textDy"]=l["markerDy"]||0,Ot(this._height)){m=JSON.parse(JSON.stringify(this._height));var f=m.stops;if(f)for(var g=0;g<f.length;g++)f[g][1]=f[g][1]/2-o[1],"top"===p&&(f[g][1]*=-1)}else m=l["markerHeight"]/2-o[1],"top"===p&&(m*=-1);"top"===p?(l["textVerticalAlignment"]="bottom",l["textDy"]=m):"bottom"===p&&(l["textVerticalAlignment"]="top",l["textDy"]=m),this._refreshing=!0,this.updateSymbol(l),delete this._refreshing},n.startEdit=function(t){var n=this._getCompiledSymbol();if(Ot(this._width)){var o=n["markerWidth"];this._oldWidth=this._width,this.setWidth(o)}if(Ot(this._height)){var r=n["markerHeight"];this._oldHeight=this._height,this.setHeight(r)}e.prototype.startEdit.call(this,t)},n.endEdit=function(){var t=this.getMap(),n=t&&t.getZoom();if(this._oldWidth){for(var o=this._width,r=At(this._oldWidth),i=r(n),a=o/i,s=this._oldWidth.stops,l=0;l<s.length;l++)s[l][1]*=a;this.setWidth(this._oldWidth),delete this._oldWidth}if(this._oldHeight){for(var c=this._height,u=At(this._oldHeight),d=u(n),h=c/d,m=this._oldHeight.stops,p=0;p<m.length;p++)m[p][1]*=h;this.setHeight(this._oldHeight),delete this._oldHeight}e.prototype.endEdit.call(this)},t}(Ls);Fs.mergeOptions(Hs),Fs.registerJSONType("TextBox");var Bs={boxStyle:null,textSymbol:null},Us=function(e){function t(t,n,o){var r;return void 0===o&&(o={}),r=e.call(this,n,o)||this,o.textSymbol&&r.setTextSymbol(o.textSymbol),o.boxStyle&&r.setBoxStyle(o.boxStyle),r._content=hn(t),r._refresh(),r}ke(t,e);var n=t.prototype;return n.getBoxStyle=function(){return this.options.boxStyle?T({},this.options.boxStyle):null},n.setBoxStyle=function(e){return this.options.boxStyle=e?T({},e):e,this._refresh(),this},n.getTextSymbol=function(){return T({},this._getDefaultTextSymbol(),this.options.textSymbol)},n.setTextSymbol=function(e){return this.options.textSymbol=e?T({},e):e,this._refresh(),this},t.fromJSON=function(e){var n=e["feature"],o=new t(e["content"],n["geometry"]["coordinates"],e["options"]);return o.setProperties(n["properties"]),o.setId(n["id"]),e["symbol"]&&o.setSymbol(e["symbol"]),o},n._canEdit=function(){return!1},n._toJSON=function(e){return{feature:this.toGeoJSON(e),subType:"Label",content:this._content}},n._refresh=function(){var e=T({},this.getTextSymbol(),{textName:this._content}),t=this.getBoxStyle();if(t){T(e,t.symbol);var n=this._getBoxSize(e),o=n[1],r=t["padding"]||this._getDefaultPadding(),i=n[0];e["markerWidth"]=i["width"],e["markerHeight"]=i["height"];var a=e["textDx"]||0,s=e["textDy"]||0,l=_n(o,e["textHorizontalAlignment"],e["textVerticalAlignment"])._add(a,s),c=t["horizontalAlignment"]||"middle";e["markerDx"]=l.x,"left"===c?e["markerDx"]+=e["markerWidth"]/2-r[0]:"right"===c?e["markerDx"]-=e["markerWidth"]/2-o["width"]-r[0]:e["markerDx"]+=o["width"]/2;var u=t["verticalAlignment"]||"middle";e["markerDy"]=l.y,"top"===u?e["markerDy"]+=e["markerHeight"]/2-r[1]:"bottom"===u?e["markerDy"]-=e["markerHeight"]/2-o["height"]-r[1]:e["markerDy"]+=o["height"]/2}this._refreshing=!0,this.updateSymbol(e),delete this._refreshing},n._getBoxSize=function(e){e["markerType"]||(e["markerType"]="square");var t,n,o=this.getBoxStyle(),r=this._getTextSize(e),i=o["padding"]||this._getDefaultPadding();return t=r["width"]+2*i[0],n=r["height"]+2*i[1],o["minWidth"]&&(!t||t<o["minWidth"])&&(t=o["minWidth"]),o["minHeight"]&&(!n||n<o["minHeight"])&&(n=o["minHeight"]),[new cn(t,n),r]},t}(Ls);Us.mergeOptions(Bs),Us.registerJSONType("Label");var Vs=function(e){return function(e){function t(){return e.apply(this,arguments)||this}ke(t,e),t._hasConnectors=function(e){return!M(e.__connectors)&&e.__connectors.length>0},t._getConnectors=function(e){return e.__connectors};var n=t.prototype;return n.getConnectSource=function(){return this._connSource},n.setConnectSource=function(e){var t=this._connTarget;return this.onRemove(),this._connSource=e,this._connTarget=t,this.onAdd(),this},n.getConnectTarget=function(){return this._connTarget},n.setConnectTarget=function(e){var t=this._connSource;return this.onRemove(),this._connSource=t,this._connTarget=e,this._updateCoordinates(),this._registerEvents(),this},n._updateCoordinates=function(){var e=this.getMap();if(!e&&this._connSource&&(e=this._connSource.getMap()),!e&&this._connTarget&&(e=this._connTarget.getMap()),e&&this._connSource&&this._connTarget){for(var t,n,o=this._connSource._getConnectPoints(),r=this._connTarget._getConnectPoints(),i=0,a=this.getCoordinates(),s=0,l=o.length;s<l;s++)for(var c=o[s],u=0,d=r.length;u<d;u++){var h=r[u],m=e.computeLength(c,h);0===s&&0===u?(t=c,n=h,i=m):m<i&&(t=c,n=h)}Ge(a)&&a[0].equals(t)&&a[1].equals(n)||this.setCoordinates([t,n])}},n.onAdd=function(){this._registerEvents(),this._updateCoordinates()},n.onRemove=function(){if(this._connSource&&(this._connSource.__connectors&&Be(this,this._connSource.__connectors),this._connSource.off("dragging positionchange",this._updateCoordinates,this).off("remove",this.onRemove,this),this._connSource.off("dragstart mousedown mouseover",this._showConnect,this),this._connSource.off("dragend mouseup mouseout",this.hide,this),this._connSource.off("show",this._showConnect,this).off("hide",this.hide,this),delete this._connSource),this._connTarget&&(Be(this,this._connTarget.__connectors),this._connTarget.off("dragging positionchange",this._updateCoordinates,this).off("remove",this.onRemove,this),this._connTarget.off("show",this._showConnect,this).off("hide",this.hide,this),delete this._connTarget),!(this._connSource instanceof Sa)||!(this._connTarget instanceof Sa)){var e=this.getMap();e&&e.off("movestart moving moveend zoomstart zooming zoomend rotate pitch fovchange spatialreferencechange",this._updateCoordinates,this)}},n._showConnect=function(){this._connSource&&this._connTarget&&this._connSource.isVisible()&&this._connTarget.isVisible()&&(this._updateCoordinates(),this.show())},n._registerEvents=function(){if(this._connSource&&this._connTarget){this._connSource.__connectors||(this._connSource.__connectors=[]),this._connTarget.__connectors||(this._connTarget.__connectors=[]),this._connSource.__connectors.push(this),this._connTarget.__connectors.push(this),this._connSource.on("dragging positionchange",this._updateCoordinates,this).on("remove",this.remove,this),this._connTarget.on("dragging positionchange",this._updateCoordinates,this).on("remove",this.remove,this),this._connSource.on("show",this._showConnect,this).on("hide",this.hide,this),this._connTarget.on("show",this._showConnect,this).on("hide",this.hide,this);var e=this.options["showOn"];if(this.hide(),"moving"===e?(this._connSource.on("dragstart",this._showConnect,this).on("dragend",this.hide,this),this._connTarget.on("dragstart",this._showConnect,this).on("dragend",this.hide,this)):"click"===e?(this._connSource.on("mousedown",this._showConnect,this).on("mouseup",this.hide,this),this._connTarget.on("mousedown",this._showConnect,this).on("mouseup",this.hide,this)):"mouseover"===e?(this._connSource.on("mouseover",this._showConnect,this).on("mouseout",this.hide,this),this._connTarget.on("mouseover",this._showConnect,this).on("mouseout",this.hide,this)):this._showConnect(),!(this._connSource instanceof Sa)||!(this._connTarget instanceof Sa)){var t=this.getMap();t&&t.on("movestart moving moveend zoomstart zooming zoomend rotate pitch fovchange spatialreferencechange",this._updateCoordinates,this)}}},t}(e)},js={showOn:"always"},Ws=function(e){function t(t,n,o){var r;return r=e.call(this,null,o)||this,1===arguments.length&&(o=t,t=null,n=null),r._connSource=t,r._connTarget=n,r}return ke(t,e),t}(Vs(us));Ws.mergeOptions(js),Ws.registerJSONType("ConnectorLine");var Zs=function(e){function t(t,n,o){var r;return r=e.call(this,null,o)||this,1===arguments.length&&(o=t,t=null,n=null),r._connSource=t,r._connTarget=n,r}return ke(t,e),t}(Vs(Rs));Zs.mergeOptions(js),Zs.registerJSONType("ArcConnectorLine");var $s={drawImmediate:!1,geometryEvents:!0},qs=[],Gs=function(e){function t(t,n,o){var r;n&&!(n instanceof Sa)&&!Array.isArray(n)&&w.indexOf(n.type)<0&&(o=n,n=null),r=e.call(this,t,o)||this,r._maxZIndex=0,r._minZIndex=0,r._initCache(),n&&r.addGeometry(n);var i=r.options["style"];return i&&r.setStyle(i),r}ke(t,e);var n=t.prototype;return n.getGeometryById=function(e){return M(e)||""===e?null:this._geoMap[e]?this._geoMap[e]:null},n.getGeometries=function(e,t){if(!e)return this._geoList.slice(0);for(var n,o,r=[],i=0,a=this._geoList.length;i<a;i++)n=this._geoList[i],o=t?e.call(t,n):e(n),o&&r.push(n);return r},n.getFirstGeometry=function(){return this._geoList.length?this._geoList[0]:null},n.getLastGeometry=function(){var e=this._geoList.length;return 0===e?null:this._geoList[e-1]},n.getCount=function(){return this._geoList.length},n.getExtent=function(){if(0===this.getCount())return null;var e=new ar(this.getProjection());return this.forEach((function(t){e._combine(t.getExtent())})),e},n.forEach=function(e,t){for(var n=this._geoList.slice(0),o=0,r=n.length;o<r;o++)t?e.call(t,n[o],o):e(n[o],o);return this},n.filter=function(e,t){var n=[],o=P(e),r=o?e:Lt(e);return this.forEach((function(e){var i=o?e:Kt(e);(t?r.call(t,i):r(i))&&n.push(e)}),this),n},n.isEmpty=function(){return!this._geoList.length},n.addGeometry=function(e,t){if(!e)return this;if("FeatureCollection"===e.type)return this.addGeometry(_s.toGeometry(e),t);if(!Array.isArray(e)){var n=arguments.length,o=arguments[n-1];return e=Array.prototype.slice.call(arguments,0,n-1),t=o,o&&A(o)&&("type"in o||o instanceof Sa)&&(e.push(o),t=!1),this.addGeometry(e,t)}if(0===e.length)return this;var r;this._initCache(),t&&(r=new ar),this._toSort=this._maxZIndex>0;for(var i=[],a=0,s=e.length;a<s;a++){var l=e[a];if(!l)throw new Error("Invalid geometry to add to layer("+this.getId()+") at index:"+a);if(!(l instanceof Sa)&&(l=Sa.fromJSON(l),Array.isArray(l)))for(var c=0,u=l.length;c<u;c++)this._add(l[c],r,a),i.push(l[c]);Array.isArray(l)||(this._add(l,r,a),i.push(l))}var d=this.getMap();if(d&&(this._getRenderer().onGeometryAdd(i),r&&!M(r.xmin))){var h=r.getCenter(),m=d.getFitZoom(r);if(A(t)){var p=P(t.step)?t.step:function(){};d.animateTo({center:h,zoom:m},T({duration:d.options.zoomAnimationDuration,easing:"out"},t),p)}else!0===t&&d.setCenterAndZoom(h,m)}return this.fire("addgeo",{geometries:e}),this},n.getGeoMinZIndex=function(){return this._minZIndex},n.getGeoMaxZIndex=function(){return this._maxZIndex},n._add=function(e,t,n){this._toSort||(this._toSort=0!==e.getZIndex()),this._updateZIndex(e.getZIndex());var o=e.getId();if(!M(o)){if(!M(this._geoMap[o]))throw new Error("Duplicate geometry id in layer("+this.getId()+"):"+o+", at index:"+n);this._geoMap[o]=e}var r=Le();e._setInternalId(r),this._geoList.push(e),this.onAddGeometry(e),e._bindLayer(this),e.onAdd&&e.onAdd(),t&&t._combine(e.getExtent()),e._fireEvent("add",{layer:this}),this._cookedStyles&&this._styleGeometry(e)},n.removeGeometry=function(e){if(!Array.isArray(e))return this.removeGeometry([e]);for(var t=e.length-1;t>=0;t--)e[t]instanceof Sa||(e[t]=this.getGeometryById(e[t])),e[t]&&this===e[t].getLayer()&&e[t].remove();return this.fire("removegeo",{geometries:e}),this},n.clear=function(){this._clearing=!0,this.forEach((function(e){e.remove()})),this._geoMap={};var e=this._geoList;this._geoList=[];var t=this._getRenderer();return t&&(t.onGeometryRemove(e),t.clearImageData&&(t.clearImageData(),delete t._lastGeosToDraw)),this._clearing=!1,this.fire("clear"),this},n.onRemoveGeometry=function(e){if(e&&!this._clearing&&this===e.getLayer()){var t=e._getInternalId();if(!M(t)){var n=e.getId();M(n)||delete this._geoMap[n];var o=this._findInList(e);o>=0&&this._geoList.splice(o,1),this._getRenderer()&&this._getRenderer().onGeometryRemove([e])}}},n.getStyle=function(){return this.options["style"]?this.options["style"]:null},n.setStyle=function(e){return this.options.style=e,e=An(e),this._cookedStyles=Yt(e),this.forEach((function(e){this._styleGeometry(e)}),this),this.fire("setstyle",{style:e}),this},n._styleGeometry=function(e){if(!this._cookedStyles)return!1;for(var t=Kt(e),n=0,o=this._cookedStyles.length;n<o;n++)if(!0===this._cookedStyles[n]["filter"](t))return e._setExternSymbol(this._cookedStyles[n]["symbol"]),!0;return!1},n.removeStyle=function(){return this.options.style?(delete this.options.style,delete this._cookedStyles,this.forEach((function(e){e._setExternSymbol(null)}),this),this.fire("removestyle"),this):this},n.onAddGeometry=function(e){var t=this.getStyle();t&&this._styleGeometry(e)},n.hide=function(){for(var e=0,t=this._geoList.length;e<t;e++)this._geoList[e].onHide();return Aa.prototype.hide.call(this)},n._initCache=function(){this._geoList||(this._geoList=[],this._geoMap={})},n._updateZIndex=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._maxZIndex=Math.max(this._maxZIndex,Math.max.apply(Math,t)),this._minZIndex=Math.min(this._minZIndex,Math.min.apply(Math,t))},n._sortGeometries=function(){var e=this;this._toSort&&(this._maxZIndex=0,this._minZIndex=0,this._geoList.sort((function(t,n){return e._updateZIndex(t.getZIndex(),n.getZIndex()),e._compare(t,n)})),this._toSort=!1)},n._compare=function(e,t){return e.getZIndex()===t.getZIndex()?e._getInternalId()-t._getInternalId():e.getZIndex()-t.getZIndex()},n._findInList=function(e){var t=this._geoList.length;if(0===t)return-1;this._sortGeometries();var n,o=0,r=t-1;while(o<=r){if(n=Math.floor((o+r)/2),this._geoList[n]===e)return n;this._compare(this._geoList[n],e)>0?r=n-1:o=n+1}return-1},n._onGeometryEvent=function(e){if(e&&e["target"]){var t=e["type"];"idchange"===t?this._onGeometryIdChange(e):"zindexchange"===t?this._onGeometryZIndexChange(e):"positionchange"===t?this._onGeometryPositionChange(e):"shapechange"===t?this._onGeometryShapeChange(e):"symbolchange"===t?this._onGeometrySymbolChange(e):"show"===t?this._onGeometryShow(e):"hide"===t?this._onGeometryHide(e):"propertieschange"===t&&this._onGeometryPropertiesChange(e)}},n._onGeometryIdChange=function(e){if(e["new"]!==e["old"]||!this._geoMap[e["old"]]||this._geoMap[e["old"]]!==e["target"]){if(!M(e["new"])){if(this._geoMap[e["new"]])throw new Error("Duplicate geometry id in layer("+this.getId()+"):"+e["new"]);this._geoMap[e["new"]]=e["target"]}M(e["old"])||e["new"]===e["old"]||delete this._geoMap[e["old"]]}},n._onGeometryZIndexChange=function(e){e["old"]!==e["new"]&&(this._updateZIndex(e["new"]),this._toSort=!0,this._getRenderer()&&this._getRenderer().onGeometryZIndexChange(e))},n._onGeometryPositionChange=function(e){this._getRenderer()&&this._getRenderer().onGeometryPositionChange(e)},n._onGeometryShapeChange=function(e){this._getRenderer()&&this._getRenderer().onGeometryShapeChange(e)},n._onGeometrySymbolChange=function(e){this._getRenderer()&&this._getRenderer().onGeometrySymbolChange(e)},n._onGeometryShow=function(e){this._getRenderer()&&this._getRenderer().onGeometryShow(e)},n._onGeometryHide=function(e){this._getRenderer()&&this._getRenderer().onGeometryHide(e)},n._onGeometryPropertiesChange=function(e){this._getRenderer()&&this._getRenderer().onGeometryPropertiesChange(e)},n._hasGeoListeners=function(e){if(!e)return!1;Array.isArray(e)||(qs[0]=e,e=qs);for(var t=this.getGeometries()||[],n=0,o=t.length;n<o;n++)for(var r=0,i=e.length;r<i;r++){var a=e[r],s=t[n].listens(a);if(s>0)return!0}return!1},t}(Aa);Gs.mergeOptions($s);var Ks=new sr,Ys={debug:!1,enableSimplify:!0,defaultIconSize:[20,20],cacheVectorOnCanvas:!0,cacheSvgOnCanvas:_e.gecko,enableAltitude:!1,altitudeProperty:"altitude",drawAltitude:!1,sortByDistanceToCamera:!1,roundPoint:!1,altitude:0,clipBBoxBufferSize:3,geometryEventTolerance:1,collision:!1,collisionBufferSize:2,collisionDelay:250},Js=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}ke(t,e);var n=t.prototype;return n.onConfig=function(t){if(e.prototype.onConfig.call(this,t),t["enableAltitude"]||t["drawAltitude"]||t["altitudeProperty"]){var n=this.getRenderer();n&&n.setToRedraw&&n.setToRedraw()}},n.identify=function(e,t){void 0===t&&(t={});var n=this.getRenderer();e instanceof $o||(e=new $o(e));var o=this.getMap().coordToContainerPoint(e);return t["onlyVisible"]&&n&&n.identifyAtPoint?n.identifyAtPoint(o,t):this._hitGeos(this._geoList,o,t)},n.identifyAtPoint=function(e,t){void 0===t&&(t={});var n=this.getRenderer();return e instanceof Pe||(e=new Pe(e)),t["onlyVisible"]&&n&&n.identifyAtPoint?n.identifyAtPoint(e,t):this._hitGeos(this._geoList,e,t)},n._hitGeos=function(e,t,n){void 0===n&&(n={});var o=n["filter"],r=[],i=n["tolerance"],a=this.getMap(),s=this.getRenderer(),l=s&&s.getImageData&&s.getImageData();if(l){for(var c=0,u=e.length-1;u>=0;u--){var d=e[u]._hitTestTolerance()+(i||0);d>c&&(c=d)}var h=a.getDevicePixelRatio();l.r=h;for(var m=!1,p=t.x-c,f=t.y-c,g=-c;g<=c;g++){for(var v=-c;v<=c;v++){var y=Math.round((p+g)*h),b=Math.round((f+v)*h),w=b*l.width*4+4*y;if(l.data[w+3]>0){m=!0;break}}if(m)break}if(!m)return r}for(var _=e.length-1;_>=0;_--){var x=e[_];if(x&&x.isVisible()&&x._getPainter()&&x.options["interactive"]){if(!(x instanceof us)||!x._getArrowStyle()&&!(x instanceof Ds)){var C=x.getContainerExtent(Ks);if(i&&(C=C._expand(i)),!C||!C.contains(t))continue}if(x._containsPoint(t,i)&&(!o||o(x))&&(r.push(x),n["count"]&&r.length>=n["count"]))break}}return r},n.getAltitude=function(){return this.options["altitude"]||0},n.toJSON=function(e){e||(e={});var t={type:this.getJSONType(),id:this.getId(),options:this.config()};if(M(e["geometries"])||e["geometries"]){var n;if(e["clipExtent"]){var o=this.getMap(),r=o?o.getProjection():null;n=new ar(e["clipExtent"],r)}for(var i=[],a=this.getGeometries(),s=0,l=a.length;s<l;s++){var c=a[s],u=c.getExtent();if(u&&(!n||n.intersects(u))){var d=c.toJSON(e["geometries"]);i.push(d)}}t["geometries"]=i}return t},t.fromJSON=function(e){if(!e||"VectorLayer"!==e["type"])return null;for(var n=new t(e["id"],e["options"]),o=e["geometries"],r=[],i=0;i<o.length;i++){var a=Sa.fromJSON(o[i]);a&&r.push(a)}return n.addGeometry(r),n},t.getPainterClass=function(){return ma},t.getCollectionPainterClass=function(){return ga},t}(Gs);Js.mergeOptions(Ys),Js.registerJSONType("VectorLayer");var Xs="_map_tool",Qs=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addTo=function(e){return e?(this._map=e,e[Xs]&&e[Xs].disable(),this.onAdd&&this.onAdd(),this.enable(),e[Xs]=this,this._fireEvent("add"),this):this},n.getMap=function(){return this._map},n.enable=function(){var e=this._map;return!e||this._enabled||(this._enabled=!0,this._switchEvents("off"),this._registerEvents(),this.onEnable&&this.onEnable(),this._fireEvent("enable")),this},n.disable=function(){return this._enabled&&this._map?(this._enabled=!1,this._switchEvents("off"),this.onDisable&&this.onDisable(),this._fireEvent("disable"),this):this},n.isEnabled=function(){return!!this._enabled},n.remove=function(){return this._map?(this.disable(),this._map&&(delete this._map[Xs],delete this._map),this._fireEvent("remove"),this):this},n._registerEvents=function(){this._switchEvents("on")},n._switchEvents=function(e){var t=this.getEvents();t&&this._map[e](t,this)},n._fireEvent=function(e,t){t||(t={}),this.fire(e,t)},t}(Po(No)),el={symbol:{lineColor:"#000",lineWidth:2,lineOpacity:1,polygonFill:"#fff",polygonOpacity:.3},doubleClickZoom:!1,mode:null,once:!1,autoPanAtEdge:!1,ignoreMouseleave:!0,blockGeometryEvents:!1},tl={},nl=function(e){function t(t){var n;return n=e.call(this,t)||this,n._checkMode(),n._events={click:n._clickHandler,"mousemove touchmove":n._mouseMoveHandler,dblclick:n._doubleClickHandler,"mousedown touchstart":n._mouseDownHandler,"mouseup touchend":n._mouseUpHandler,mousemove:n._mouseMoveHandler,mousedown:n._mouseDownHandler,mouseup:n._mouseUpHandler},n}ke(t,e),t.registerMode=function(e,t){tl[e.toLowerCase()]=t},t.getRegisterMode=function(e){return tl[e.toLowerCase()]};var n=t.prototype;return n.getMode=function(){return this.options["mode"]?this.options["mode"].toLowerCase():null},n.setMode=function(e){return this._geometry&&(this._geometry.remove(),delete this._geometry),this._clearStage(),this._switchEvents("off"),this.options["mode"]=e,this._checkMode(),this.isEnabled()&&(this._switchEvents("on"),this._restoreMapCfg(),this._saveMapCfg()),this},n.getSymbol=function(){var e=this.options["symbol"];return Dn(e||this.options["symbol"])},n.setSymbol=function(e){return e?(this.options["symbol"]=e,this._geometry&&this._geometry.setSymbol(e),this):this},n.getCurrentGeometry=function(){return this._geometry},n.onAdd=function(){this._checkMode()},n.onEnable=function(){this._saveMapCfg(),this._drawToolLayer=this._getDrawLayer(),this._clearStage(),this._loadResources();var e=this.getMap();return this.options["autoPanAtEdge"]&&(this._mapAutoPanAtEdge=e.options["autoPanAtEdge"],this._mapAutoPanAtEdge||e.config({autoPanAtEdge:!0})),this._geometryEvents=e.options["geometryEvents"],this.options["blockGeometryEvents"]&&e.config("geometryEvents",!1),this},n.onDisable=function(){var e=this.getMap();return this._restoreMapCfg(),this.endDraw({ignoreEndEvent:!0}),this._map&&(e.removeLayer(this._getDrawLayer()),this.options["autoPanAtEdge"]&&(this._mapAutoPanAtEdge||e.config({autoPanAtEdge:!1}))),this.options["blockGeometryEvents"]&&e.config("geometryEvents",this._geometryEvents),this},n.undo=function(){var e=this._getRegisterMode(),t=e.action;if(!this._shouldRecordHistory(t)||!this._historyPointer)return this;var n=this._clickCoords.slice(0,--this._historyPointer);return e.update(this.getMap().getProjection(),n,this._geometry),this},n.redo=function(){var e=this._getRegisterMode(),t=e.action;if(!this._shouldRecordHistory(t)||M(this._historyPointer)||this._historyPointer===this._clickCoords.length)return this;var n=this._clickCoords.slice(0,++this._historyPointer);return e.update(this.getMap().getProjection(),n,this._geometry),this},n._shouldRecordHistory=function(e){return Array.isArray(e)&&"click"===e[0]&&"mousemove"===e[1]&&"dblclick"===e[2]},n._checkMode=function(){this._getRegisterMode()},n._saveMapCfg=function(){var e=this.getMap();this._mapDoubleClickZoom=e.options["doubleClickZoom"],e.config({doubleClickZoom:this.options["doubleClickZoom"]});for(var t=this._getRegisterMode()["action"],n=!1,o=0;o<t.length;o++)if(t[o].indexOf("mousedown")>=0||t[o].indexOf("touchstart")>=0){n=!0;break}if(n){var r=this.getMap();this._mapDraggable=r.options["draggable"],r.config({draggable:!1})}},n._restoreMapCfg=function(){var e=this.getMap();e.config({doubleClickZoom:this._mapDoubleClickZoom}),M(this._mapDraggable)||e.config("draggable",this._mapDraggable),delete this._mapDraggable,delete this._mapDoubleClickZoom},n._loadResources=function(){var e=this.getSymbol(),t=an(e);t.length>0&&this._drawToolLayer._getRenderer().loadResources(t)},n._getProjection=function(){return this._map.getProjection()},n._getRegisterMode=function(){var e=this.getMode(),n=t.getRegisterMode(e);if(!n)throw new Error(e+" is not a valid mode of DrawTool.");return n},n.getEvents=function(){var e=this._getRegisterMode()["action"],t={};if(Array.isArray(e)){for(var n=0;n<e.length;n++)t[e[n]]=this._events[e[n]];return t}return null},n._mouseDownHandler=function(e){this._createGeometry(e)},n._mouseUpHandler=function(e){this.endDraw(e)},n._clickHandler=function(e){var t=this.getMap(),n=this._getRegisterMode();if(this._clickCoords&&this._clickCoords.length){var o=this._clickCoords.length,r=t._pointToPrj(e["point2d"]);if(this._clickCoords[o-1].equals(r))return}if(this._geometry){var i=t._pointToPrj(e["point2d"]);M(this._historyPointer)||(this._clickCoords=this._clickCoords.slice(0,this._historyPointer));var a=this._geometry.snapTo;if(a&&P(a)){var s=this._getSnapResult(a,e.containerPoint);if(i=s.prjCoord,this._clickCoords=this._clickCoords.concat(s.effectedVertex),this._clickCoords[this._clickCoords.length-1].equals(i))return}if(this._clickCoords.push(i),this._historyPointer=this._clickCoords.length,e.drawTool=this,n["update"](t.getProjection(),this._clickCoords,this._geometry,e),"point"===this.getMode())return void this.endDraw(e);this._clickCoords.length<=1?this._fireEvent("drawstart",e):this._fireEvent("drawvertex",e),n["clickLimit"]&&n["clickLimit"]===this._historyPointer&&this.endDraw(e)}else this._createGeometry(e)},n._createGeometry=function(e){var t=this.getMode(),n=this._getRegisterMode(),o=this.getMap()._pointToPrj(e["point2d"]),r=this.getSymbol();if(!this._geometry){this._clickCoords=[o],e.drawTool=this,this._geometry=n["create"](this.getMap().getProjection(),this._clickCoords,e),r&&"point"!==t?this._geometry.setSymbol(r):this.options.hasOwnProperty("symbol")&&this._geometry.setSymbol(this.options["symbol"]),this._addGeometryToStage(this._geometry),this._fireEvent("drawstart",e);var i=this._geometry.snapTo;if(i&&P(i)){var a=this._getSnapResult(i,e.containerPoint),s=this.getMap();if(s&&a){var l=a.prjCoord;this._clickCoords=[l],n["update"](s.getProjection(),this._clickCoords,this._geometry,e)}}}"point"===t&&"mousemove"!==e.type&&this.endDraw(e)},n._mouseMoveHandler=function(e){var t=this.getMap();if(t&&!t.isInteracting())if("point"!==this.getMode()||this._geometry){if(this._geometry){var n=this._getMouseContainerPoint(e);if(this._isValidContainerPoint(n)){var o=t._pointToPrj(e["point2d"]),r=[],i=this._geometry.snapTo;if(i&&P(i)){var a=this._getSnapResult(i,n);o=a.prjCoord,r=a.effectedVertex}var s=t.getProjection();e.drawTool=this;var l=this._getRegisterMode();if(this._shouldRecordHistory(l.action)){var c=this._clickCoords.slice(0,this._historyPointer);if(c&&c.length>0&&o.equals(c[c.length-1]))return;l["update"](s,c.concat(r,[o]),this._geometry,e)}else l["update"](s,o,this._geometry,e);this._fireEvent("mousemove",e)}}}else this._createGeometry(e)},n._doubleClickHandler=function(e){if(this._geometry){var t=this._getMouseContainerPoint(e);if(this._isValidContainerPoint(t)){var n=this._getRegisterMode(),o=this._clickCoords;if(!(o.length<2)){var r=this.getMode();if(!(r&&r.indexOf("polygon")>-1&&o.length<3)){for(var i=this.getMap().getProjection(),a=[o[0]],s=1,l=o.length;s<l;s++)o[s].x===o[s-1].x&&o[s].y===o[s-1].y||a.push(o[s]);a.length<2||this._geometry&&this._geometry instanceof os&&a.length<3||(e.drawTool=this,n["update"](i,a,this._geometry,e),this.endDraw(e))}}}}},n._addGeometryToStage=function(e){var t=this._getDrawLayer();t.addGeometry(e)},n.endDraw=function(e){if(!this._geometry||this._ending)return this;this._ending=!0;var t=this._geometry;return this._clearStage(),e=e||{},this._geometry=t,e.ignoreEndEvent||this._fireEvent("drawend",e),delete this._geometry,this.options["once"]&&this.disable(),delete this._ending,delete this._historyPointer,this._vertexes&&(this._vertexes=[]),this},n._clearStage=function(){this._getDrawLayer().clear(),delete this._geometry,delete this._clickCoords},n._getMouseContainerPoint=function(e){var t=this._getRegisterMode()["action"];return(t[0].indexOf("mousedown")>=0||t[0].indexOf("touchstart")>=0)&&Kn(e["domEvent"]),e["containerPoint"]},n._isValidContainerPoint=function(e){var t=this._map.getSize(),n=t["width"],o=t["height"];return!(e.x<0||e.y<0)&&!(e.x>n||e.y>o)},n._getSnapResult=function(e,t){var n=this.getMap(),o=[];if(this.options.edgeAutoComplete){var r=this._clickCoords[(this._historyPointer||1)-1];o.push(n._prjToContainerPoint(r));var i=this._clickCoords[(this._historyPointer||1)-2];i&&o.push(n._prjToContainerPoint(i))}var a=e(t,o);t=(a.effectedVertex?a.point:a)||t;var s=n._containerPointToPrj(t);return a.effectedVertex&&(a.effectedVertex=a.effectedVertex.map((function(e){return n._containerPointToPrj(e)}))),{prjCoord:s,effectedVertex:a.effectedVertex||[]}},n._getDrawLayer=function(){var e=y+"drawtool",t=this._map.getLayer(e);return t||(t=new Js(e,{enableSimplify:!1,enableAltitude:this.options["enableAltitude"]}),this._map.addLayer(t)),t},n._fireEvent=function(e,t){t||(t={}),t=T({},t),this._geometry&&(t["geometry"]=this._getRegisterMode()["generate"](this._geometry,{drawTool:this}),t.tempGeometry=this._geometry),Qs.prototype._fireEvent.call(this,e,t)},t}(Qs);nl.mergeOptions(el);var ol=function(e){function t(t){var n;return n=e.call(this,t)||this,n.drawTool=new nl({mode:"boxZoom",ignoreMouseleave:!1}),n}ke(t,e);var n=t.prototype;return n.addHooks=function(){this.target.on("_mousedown",this._onMouseDown,this)},n.removeHooks=function(){this.target.off("_mousedown",this._onMouseDown,this),this.drawTool.isEnabled()&&this.drawTool.remove()},n._onMouseDown=function(e){this.target.options["boxZoom"]&&e.domEvent.shiftKey&&this.drawTool.setSymbol(this.target.options["boxZoomSymbol"]).on("drawend",this._boxZoom,this).addTo(this.target)},n._boxZoom=function(e){var t=this.target;this.drawTool.remove();var n=e.geometry,o=n.getCenter(),r=n.getSymbol(),i=r.markerWidth,a=r.markerHeight,s=new ar(o,t.locateByPoint(o,i,a),t.getProjection()),l=t.getFitZoom(s);t._animateTo({center:s.getCenter(),zoom:l})},t}(zo);La.mergeOptions({boxZoom:!0,boxZoomSymbol:{markerType:"rectangle",markerLineWidth:3,markerLineColor:"#1bbc9b",markerLineDasharray:[10,5],markerFillOpacity:.1,markerFill:"#1bbc9b",markerWidth:1,markerHeight:1}}),La.addOnLoadHook("addHandler","boxZoom",ol);var rl=30,il=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){this.target&&this.target.on("_mousemove",this._onMouseMove,this)},n.removeHooks=function(){this.target&&this.target.off("_mousemove",this._onMouseMove,this)},n._onMouseMove=function(e){var t=this.target;if(t.options["autoPanAtEdge"]){var n=e.containerPoint,o=t.getContainerExtent();if(o){var r,i=n.x,a=n.y,s=o.xmax,l=o.ymax;i<rl&&(r=[Math.abs(i-rl),0]),a<rl&&(r=[0,Math.abs(a-rl)]),i+rl>s&&(r=[-Math.abs(i+rl-s),0]),a+rl>l&&(r=[0,-Math.abs(a+rl-l)]),r&&t.panBy(r,{duration:1})}}},t}(zo);function al(e,t,n){return e*(1-n)+t*n}La.mergeOptions({autoPanAtEdge:!1}),La.addOnLoadHook("addHandler","autoPanAtEdge",il),La.include({animateTo:function(e,t,n){var o=this;void 0===t&&(t={}),e=T({},this.getView(),e),P(t)&&(n=t,t={});var r=this.getProjection(),i=this.getView(),a={},s=!0;for(var l in e)if(z(e,l)&&!M(e[l])&&("prjCenter"===l||!M(i[l])))if(s=!1,"center"===l){var c=new $o(i[l]),u=new $o(e[l]);c.equals(u)||(a["center"]=[c,u])}else if("prjCenter"===l){var d=new $o(this._getPrjCenter()),h=new $o(e[l]);d.equals(h)||(a["prjCenter"]=[d,h])}else i[l]!==e[l]&&"around"!==l&&(a[l]=[i[l],e[l]]);if(s)return null;this._animPlayer&&(this._isInternalAnimation?"running"===this._animPlayer.playState&&(this._animPlayer.pause(),this._prevAnimPlayer=this._animPlayer):(delete this._prevAnimPlayer,this._stopAnim(this._animPlayer)));var m=e["around"]||new Pe(this.width/2,this.height/2),p=this._getRenderer(),f=function(e){p.callInNextFrame(e)},g=this._animPlayer=Qa.animate(a,{easing:t["easing"]||"out",duration:t["duration"]||this.options["zoomAnimationDuration"],framer:f,repeat:t["repeat"]},(function(e){if(o.isRemoved())g.finish();else{if("running"===g.playState){if(e.styles["center"]){var i=e.styles["center"];o._setPrjCenter(r.project(i)),o.onMoving(o._parseEventFromCoord(o.getCenter()))}else if(e.styles["prjCenter"]){var s=e.styles["prjCenter"];o._setPrjCenter(s),o.onMoving(o._parseEventFromCoord(o.getCenter()))}M(e.styles["zoom"])||o.onZooming(e.styles["zoom"],m),M(e.styles["pitch"])||o._setPitch(e.styles["pitch"]),M(e.styles["bearing"])||o._setBearing(e.styles["bearing"]),o._fireEvent("animating")}else"paused"===g.playState&&g!==o._mapAnimPlayer||(g._interupted||(a["center"]?o._setPrjCenter(r.project(a["center"][1])):a["prjCenter"]&&o._setPrjCenter(a["prjCenter"][1]),M(a["pitch"])||o._setPitch(a["pitch"][1]),M(a["bearing"])||o._setBearing(a["bearing"][1])),o._endAnim(g,a,m,t));n&&n(e)}}),this);return this._startAnim(a,m),g},_animateTo:function(e,t,n){return void 0===t&&(t={}),this._mapAnimPlayer&&this._stopAnim(this._mapAnimPlayer),this._isInternalAnimation=!0,this._mapAnimPlayer=this.animateTo(e,t,n),delete this._isInternalAnimation,this._mapAnimPlayer},flyTo:function(e,t,n){var o=this;void 0===t&&(t={}),e=T({},this.getView(),e),this._animPlayer&&(this._isInternalAnimation?"running"===this._animPlayer.playState&&(this._animPlayer.pause(),this._prevAnimPlayer=this._animPlayer):(delete this._prevAnimPlayer,this._stopAnim(this._animPlayer))),P(t)&&(n=t,t={}),t=T({curve:1.42},t);var r=this;function i(e,t){return r.getResolution(t)/r.getResolution(e)}var a=e["around"]||new Pe(this.width/2,this.height/2),s=this.getMinZoom(),l=this.getMaxZoom(),c=this.getProjection(),u=this.getView(),d=u.zoom,h=u.bearing,m=u.pitch,p="zoom"in e?qe(+e.zoom,s,l):d,f="bearing"in e?+e.bearing:h,g="pitch"in e?+e.pitch:m,v=c.project(e.center&&new $o(e.center)||this.getCenter()),y=i(p,d),b=c.project(this.getCenter()),w=v.sub(b),_=t.curve,x=Math.max(this.width,this.height),C=x/y,S=w.mag();if("minZoom"in t){var k=qe(Math.min(t.minZoom,d,p),s,l),E=x/i(k,d);_=Math.sqrt(E/S*2)}var M=_*_;function O(e){var t=(C*C-x*x+(e?-1:1)*M*M*S*S)/(2*(e?C:x)*M*S);return Math.log(Math.sqrt(t*t+1)-t)}function D(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}function R(e){return D(e)/A(e)}var I=O(0),z=function(e){return A(I)/A(I+_*e)},N=function(e){return x*((A(I)*R(I+_*e)-D(I))/M)/S},L=(O(1)-I)/_;if(Math.abs(S)<1e-6||!isFinite(L)){if(Math.abs(x-C)<1e-6)return this.animateTo(e,t,n);var H=C<x?-1:1;L=Math.abs(Math.log(C/x))/_,N=function(){return 0},z=function(e){return Math.exp(H*_*e)}}var F=this._getRenderer(),B=function(e){F.callInNextFrame(e)},U=this._animPlayer=Qa.animate({k:[0,1]},{easing:t["easing"]||"out",duration:t["duration"]||8,framer:B},(function(r){if(o.isRemoved())U.finish();else{var i=r.styles.k,s=i*L,l=1/z(s),c={};if(e.center){var u=1===i?v:b.add(w.multi(N(s)));c.prjCenter=[v,u]}if(d!==p){var y=1===i?p:o.getZoomForScale(l,d,!0);c.zoom=[d,y]}if(m!==g){var _=al(m,g,i);c.pitch=[g,_]}if(h!==f){var x=al(h,f,i);c.bearing=[f,x]}if("running"===U.playState){if(c["prjCenter"]){var C=c["prjCenter"];o._setPrjCenter(C[1]),o.onMoving(o._parseEventFromCoord(o.getCenter()))}c["zoom"]&&o.onZooming(c["zoom"][1],a),c["pitch"]&&o._setPitch(c["pitch"][1]),c["bearing"]&&o._setBearing(c["bearing"][1]),o._fireEvent("animating")}else"paused"===U.playState&&U!==o._mapAnimPlayer||(U._interupted||(c["prjCenter"]&&o._setPrjCenter(c["prjCenter"][1]),c["pitch"]&&o._setPitch(c["pitch"][1]),c["bearing"]&&o._setBearing(c["bearing"][1])),o._endAnim(U,c,a,t));n&&n(r)}}));return this._startAnim({center:e.center,zoom:e.zoom!==d,pitch:g!==m,bearing:f!==h},a),this},isAnimating:function(){return!!this._animPlayer},isRotating:function(){return this.isDragRotating()||!!this._animRotating},_endAnim:function(e,t,n,o){delete this._animRotating;var r,i=e._interupted?"animateinterrupted":"animateend";if(e===this._animPlayer&&delete this._animPlayer,e===this._mapAnimPlayer&&delete this._mapAnimPlayer,t["center"])r=e._interupted?this.getCenter():t["center"][1],this.onMoveEnd(this._parseEventFromCoord(r));else if(t["prjCenter"]){var a;a=e._interupted?this._getPrjCenter():t["prjCenter"][1];var s=this._parseEventFromCoord(this.getProjection().unproject(a));s["point2d"]=this._prjToPoint(a),this.onMoveEnd(s)}M(t["zoom"])||(e._interupted?this.onZoomEnd(this.getZoom()):o["wheelZoom"]?this.onZooming(t["zoom"][1],n):this.onZoomEnd(t["zoom"][1])),i&&this._fireEvent(i),M(t["pitch"])||this.getPitch()||this.getRenderer().setToRedraw(),o["wheelZoom"]||this._resumePrev(e)},_startAnim:function(e,t){this._animPlayer&&((e["center"]||e["prjCenter"])&&this.onMoveStart(),e["zoom"]&&!this.isZooming()&&this.onZoomStart(e["zoom"][1],t),(e["pitch"]||e["bearing"])&&(this._animRotating=!0),this._fireEvent("animatestart"),this._animPlayer.play())},_stopAnim:function(e){e&&(delete this._animRotating,"finished"!==e.playState&&(e._interupted=!0,e.cancel()),e===this._animPlayer&&delete this._animPlayer,e===this._mapAnimPlayer&&delete this._mapAnimPlayer)},_resumePrev:function(e){if(this._prevAnimPlayer){var t=this._prevAnimPlayer;"paused"!==t.playState&&delete this._prevAnimPlayer,e!==t&&(this._animPlayer=t,t.play())}}});var sl="mousedown mouseup mouseover mouseout mouseenter mouseleave mousemove click dblclick contextmenu keypress touchstart touchmove touchend ";function ll(e){if(!e._domMouseDownView)return!0;var t=e.getView(),n=e._domMouseDownView;return t.bearing!==n.bearing||t.pitch!==n.pitch}function cl(e,t,n,o,r){var i=1/Math.tan(t/2),a=1/(o-r);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(r+o)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*r*o*a,e[15]=0,e}function ul(e,t,n){var o,r,i,a,s,l,c,u,d,h,m,p,f=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*f+t[4]*g+t[8]*v+t[12],e[13]=t[1]*f+t[5]*g+t[9]*v+t[13],e[14]=t[2]*f+t[6]*g+t[10]*v+t[14],e[15]=t[3]*f+t[7]*g+t[11]*v+t[15]):(o=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],m=t[10],p=t[11],e[0]=o,e[1]=r,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=m,e[11]=p,e[12]=o*f+s*g+d*v+t[12],e[13]=r*f+l*g+h*v+t[13],e[14]=i*f+c*g+m*v+t[14],e[15]=a*f+u*g+p*v+t[15]),e}function dl(e,t,n){var o=n[0],r=n[1],i=n[2];return e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hl(e,t,n){var o=Math.sin(n),r=Math.cos(n),i=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+c*o,e[5]=a*r+u*o,e[6]=s*r+d*o,e[7]=l*r+h*o,e[8]=c*r-i*o,e[9]=u*r-a*o,e[10]=d*r-s*o,e[11]=h*r-l*o,e}function ml(e,t,n){var o=Math.sin(n),r=Math.cos(n),i=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+c*o,e[1]=a*r+u*o,e[2]=s*r+d*o,e[3]=l*r+h*o,e[4]=c*r-i*o,e[5]=u*r-a*o,e[6]=d*r-s*o,e[7]=h*r-l*o,e}function pl(e,t,n){var o=t[0],r=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],m=t[10],p=t[11],f=t[12],g=t[13],v=t[14],y=t[15],b=n[0],w=n[1],_=n[2],x=n[3];return e[0]=b*o+w*s+_*d+x*f,e[1]=b*r+w*l+_*h+x*g,e[2]=b*i+w*c+_*m+x*v,e[3]=b*a+w*u+_*p+x*y,b=n[4],w=n[5],_=n[6],x=n[7],e[4]=b*o+w*s+_*d+x*f,e[5]=b*r+w*l+_*h+x*g,e[6]=b*i+w*c+_*m+x*v,e[7]=b*a+w*u+_*p+x*y,b=n[8],w=n[9],_=n[10],x=n[11],e[8]=b*o+w*s+_*d+x*f,e[9]=b*r+w*l+_*h+x*g,e[10]=b*i+w*c+_*m+x*v,e[11]=b*a+w*u+_*p+x*y,b=n[12],w=n[13],_=n[14],x=n[15],e[12]=b*o+w*s+_*d+x*f,e[13]=b*r+w*l+_*h+x*g,e[14]=b*i+w*c+_*m+x*v,e[15]=b*a+w*u+_*p+x*y,e}function fl(e,t){var n=t[0],o=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],m=t[11],p=t[12],f=t[13],g=t[14],v=t[15],y=n*s-o*a,b=n*l-r*a,w=n*c-i*a,_=o*l-r*s,x=o*c-i*s,C=r*c-i*l,S=u*f-d*p,k=u*g-h*p,E=u*v-m*p,T=d*g-h*f,M=d*v-m*f,O=h*v-m*g,D=y*O-b*M+w*T+_*E-x*k+C*S;return D?(D=1/D,e[0]=(s*O-l*M+c*T)*D,e[1]=(r*M-o*O-i*T)*D,e[2]=(f*C-g*x+v*_)*D,e[3]=(h*x-d*C-m*_)*D,e[4]=(l*E-a*O-c*k)*D,e[5]=(n*O-r*E+i*k)*D,e[6]=(g*w-p*C-v*b)*D,e[7]=(u*C-h*w+m*b)*D,e[8]=(a*M-s*E+c*S)*D,e[9]=(o*E-n*M-i*S)*D,e[10]=(p*x-f*w+v*y)*D,e[11]=(d*w-u*x-m*y)*D,e[12]=(s*k-a*T-l*S)*D,e[13]=(n*T-o*k+r*S)*D,e[14]=(f*b-p*_-g*y)*D,e[15]=(u*_-d*b+h*y)*D,e):null}function gl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vl(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function yl(e,t,n,o){return e[0]=t,e[1]=n,e[2]=o,e}function bl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function wl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function _l(e){var t=e[0],n=e[1],o=e[2];return Math.sqrt(t*t+n*n+o*o)}function xl(e,t){var n=t[0],o=t[1],r=t[2],i=n*n+o*o+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function Cl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Sl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function kl(e,t,n){var o=t[0],r=t[1],i=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-i*s,e[1]=i*a-o*l,e[2]=o*s-r*a,e}function El(e,t){var n=t[0]-e[0],o=t[1]-e[1],r=t[2]-e[2];return Math.hypot?Math.hypot(n,o,r):Ml(n,o,r)}function Tl(e,t,n){var o=t[0],r=t[1],i=t[2],a=n[3]*o+n[7]*r+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*o+n[4]*r+n[8]*i+n[12])/a,e[1]=(n[1]*o+n[5]*r+n[9]*i+n[13])/a,e[2]=(n[2]*o+n[6]*r+n[10]*i+n[14])/a,e}function Ml(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)}function Ol(e,t,n){var o=t[0],r=t[1],i=t[2],a=1/(n[3]*o+n[7]*r+n[11]*i+n[15]);return e[0]=(n[0]*o+n[4]*r+n[8]*i+n[12])*a,e[1]=(n[1]*o+n[5]*r+n[9]*i+n[13])*a,e[2]=(n[2]*o+n[6]*r+n[10]*i+n[14])*a,e}function Dl(e,t){var n,o=t[0],r=t[4],i=t[8],a=t[1],s=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=o+s+d;return h>0?(n=.5/Math.sqrt(h+1),e.w=.25/n,e.x=(u-l)*n,e.y=(i-c)*n,e.z=(a-r)*n):o>s&&o>d?(n=2*Math.sqrt(1+o-s-d),e.w=(u-l)/n,e.x=.25*n,e.y=(r+a)/n,e.z=(i+c)/n):s>d?(n=2*Math.sqrt(1+s-o-d),e.w=(i-c)/n,e.x=(r+a)/n,e.y=.25*n,e.z=(l+u)/n):(n=2*Math.sqrt(1+d-o-s),e.w=(a-r)/n,e.x=(i+c)/n,e.y=(l+u)/n,e.z=.25*n),this}function Al(e,t){var n=e,o=t.x,r=t.y,i=t.z,a=t.w,s=o+o,l=r+r,c=i+i,u=o*s,d=o*l,h=o*c,m=r*l,p=r*c,f=i*c,g=a*s,v=a*l,y=a*c;return n[0]=1-(m+f),n[4]=d-y,n[8]=h+v,n[1]=d+y,n[5]=1-(u+f),n[9]=p-g,n[2]=h-v,n[6]=p+g,n[10]=1-(u+m),n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Rl(e,t){var n=e;return n[12]=t[0],n[13]=t[1],n[14]=t[2],e}function Pl(e,t,n,o){var r=[0,0,0],i=[0,0,0],a=[0,0,0];return wl(a,t,n),0===_l(a)&&(a[2]=1),xl(a,a),kl(r,o,a),0===_l(a)&&(1===Math.abs(o[2])?a[0]+=1e-4:a[2]+=1e-4,xl(a,a),kl(r,o,a)),xl(r,r),kl(i,a,r),e[0]=r[0],e[4]=i[0],e[8]=a[0],e[1]=r[1],e[5]=i[1],e[9]=a[1],e[2]=r[2],e[6]=i[2],e[10]=a[2],e}La.include({_registerDomEvents:function(){var e=this._panels.mapWrapper||this._containerDOM;Zn(e,sl,this._handleDOMEvent,this)},_removeDomEvents:function(){var e=this._panels.mapWrapper||this._containerDOM;$n(e,sl,this._handleDOMEvent,this)},_handleDOMEvent:function(e){var t=this.options["clickTimeThreshold"],n=e.type,o="mousedown"===n||"touchstart"===n&&(!e.touches||1===e.touches.length);o&&(this._domMouseDownTime=E(),this._domMouseDownView=this.getView());var r="contextmenu"===n&&ll(this);if("contextmenu"===n){Gn(e);var i=this._domMouseDownTime,a=E();a-i<=t&&!r&&this._fireDOMEvent(this,e,"dom:"+e.type)}else this._fireDOMEvent(this,e,"dom:"+e.type);if(!this._ignoreEvent(e)){var s,l=!1;if(o)this._mouseDownTime=E();else if("click"===n||"touchend"===n||"contextmenu"===n){if(!this._mouseDownTime)return;var c=this._mouseDownTime;delete this._mouseDownTime;var u=E();if(u-c>t){if("click"===n||"contextmenu"===n)return}else if("contextmenu"===n){if(r)return}else"touchend"===n&&(l=!0)}l&&(this._clickTime&&E()-this._clickTime<=t?(delete this._clickTime,s="dblclick",this._fireDOMEvent(this,e,"dom:dblclick")):(this._clickTime=E(),s="click",this._fireDOMEvent(this,e,"dom:click"))),this._ignoreEvent(e)||(this._fireDOMEvent(this,e,n),s&&this._fireDOMEvent(this,e,s))}},_ignoreEvent:function(e){if(!e||!this._panels.control)return!1;if(this._isEventOutMap(e))return!0;var t,n=e.srcElement||e.target;if(n)while(n&&n!==this._containerDOM){if(n.className&&n.className.indexOf&&(n.className.indexOf("maptalks-control")>=0||n.className.indexOf("maptalks-ui")>=0&&t&&!t["eventsPropagation"]))return!0;t=n,n=n.parentNode}return!1},_isEventOutMap:function(e){if(this.getPitch()>this.options["maxVisualPitch"]){var t=this._getActualEvent(e),n=Qn(t,this._containerDOM);if(!this.getContainerExtent().contains(n))return!0}return!1},_parseEvent:function(e,t){if(!e)return null;var n={domEvent:e};if("keypress"!==t){var o=this._getActualEvent(e);if(o&&void 0!==o.clientX){var r=Qn(o,this._containerDOM);n=T(n,{containerPoint:r,viewPoint:this.containerPointToViewPoint(r)});var i=this.options["maxVisualPitch"];(this.getPitch()<=i||r.y>=this.height-this._getVisualHeight(i))&&(n=T(n,{coordinate:this.containerPointToCoord(r),point2d:this._containerPointToPoint(r)}))}}return n},_parseEventFromCoord:function(e){var t=this.coordToContainerPoint(e),n=this.containerPointToViewPoint(t),o={coordinate:e,containerPoint:t,viewPoint:n,point2d:this.coordToPoint(e)};return o},_getActualEvent:function(e){return e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e},_fireDOMEvent:function(e,t,n){if(!this.isRemoved()){var o=this._parseEvent(t,n);this._fireEvent(n,o)}},_getEventParams:function(e){var t=this,n={domEvent:e},o=e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e;if(o){var r=Qn(o,t._containerDOM);n["coordinate"]=t.containerPointToCoordinate(r),n["containerPoint"]=r,n["viewPoint"]=t.containerPointToViewPoint(r),n["pont2d"]=t._containerPointToPoint(r)}return n}}),La.addOnLoadHook("_registerDomEvents"),La.include({isFullScreen:function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},requestFullScreen:function(e){return this._fireEvent("fullscreenstart"),this._requestFullScreen(e||this._containerDOM),this._fireEvent("fullscreenend"),this},cancelFullScreen:function(){return this._cancelFullScreen(),this._fireEvent("cancelfullscreen"),this},_requestFullScreen:function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullScreen)e.webkitRequestFullScreen();else if(e.msRequestFullScreen)e.msRequestFullScreen();else{var t="fullscreen=1,status=no,resizable=yes,top=0,left=0,scrollbars=no,titlebar=no,menubar=no,location=no,toolbar=no,z-look=yes,width="+(screen.availWidth-8)+",height="+(screen.availHeight-45),n=window.open(location.href,"_blank",t);null!==n&&(window.opener=null,window.close())}},_cancelFullScreen:function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else{var e="fullscreen=no,status=yes,resizable=yes,scrollbars=no,titlebar=no,menubar=yes,location=yes,toolbar=yes,z-look=yes",t=window.open(location.href,"_blank",e);null!==t&&(window.opener=null,window.close())}}}),La.include({panTo:function(e,t,n){if(void 0===t&&(t={}),!e)return this;if(P(t)&&(n=t,t={}),e=new $o(e),"undefined"===typeof t["animation"]||t["animation"]){var o=this.getProjection().project(e);return this._panAnimation(o,t["duration"],n)}return this.setCenter(e),this},_panTo:function(e,t){return void 0===t&&(t={}),"undefined"===typeof t["animation"]||t["animation"]?this._panAnimation(e,t["duration"]):(this.onMoveStart(),this._setPrjCenter(e),this.onMoveEnd(this._parseEventFromCoord(this.getCenter())),this)},panBy:function(e,t,n){if(void 0===t&&(t={}),!e)return this;P(t)&&(n=t,t={}),e=new Pe(e);var o=this.getContainerExtent(),r=o.ymin;if(r>0&&e.y>30){var i=e.y;e.y=30,e.x=30*e.x/i,console.warn("offset is limited to panBy when pitch is above maxPitch")}if("undefined"===typeof t["animation"]||t["animation"]){e=e.multi(-1);var a=this._containerPointToPrj(new Pe(this.width/2+e.x,this.height/2+e.y));this._panAnimation(a,t["duration"],n)}else{this.onMoveStart(),this._offsetCenterByPixel(e);var s=this.containerPointToCoord(new Pe(this.width/2,this.height/2));this.onMoveEnd(this._parseEventFromCoord(s))}return this},_panAnimation:function(e,t,n){return this._animateTo({prjCenter:e},{duration:t||this.options["panAnimationDuration"]},n)}}),Sa.fromJSON=function(e){if(Array.isArray(e)){for(var t=[],n=0,o=e.length;n<o;n++){var r=Sa.fromJSON(e[n]);Array.isArray(e)?t=t.concat(r):t.push(r)}return t}return e&&!e["feature"]?_s.toGeometry(e):(e["subType"]?(i=Sa.getJSONClass(e["subType"]).fromJSON(e),M(e["feature"]["id"])||i.setId(e["feature"]["id"])):(i=_s.toGeometry(e["feature"]),e["options"]&&i.config(e["options"])),e["symbol"]&&i.setSymbol(e["symbol"]),e["infoWindow"]&&i.setInfoWindow(e["infoWindow"]),i);var i},Aa.fromJSON=function(e){if(!e)return null;var t=e["type"],n=Aa.getJSONClass(t);if(!n||!n.fromJSON)throw new Error("unsupported layer type:"+t);return n.fromJSON(e)},La.include({JSON_VERSION:"1.0",toJSON:function(e){e||(e={});var t={jsonVersion:this["JSON_VERSION"],version:this.VERSION,extent:this.getExtent().toJSON()};t["options"]=this.config(),t["options"]["center"]=this.getCenter(),t["options"]["zoom"]=this.getZoom(),t["options"]["bearing"]=this.getBearing(),t["options"]["pitch"]=this.getPitch();var n=this.getBaseLayer();(M(e["baseLayer"])||e["baseLayer"])&&n&&(t["baseLayer"]=n.toJSON(e["baseLayer"]));var o={};e["clipExtent"]&&(!0===e["clipExtent"]?o["clipExtent"]=this.getExtent():o["clipExtent"]=e["clipExtent"]);var r=[];if(M(e["layers"])||e["layers"]&&!Array.isArray(e["layers"])){for(var i=this.getLayers(),a=0,s=i.length;a<s;a++)if(i[a].toJSON){var l=T({},A(e["layers"])?e["layers"]:{},o);r.push(i[a].toJSON(l))}t["layers"]=r}else if(Ge(e["layers"])){for(var c=e["layers"],u=0;u<c.length;u++){var d=c[u],h=this.getLayer(d["id"]);if(h.toJSON){var m=T({},d["options"],o);r.push(h.toJSON(m))}}t["layers"]=r}else t["layers"]=[];return t}}),La.fromJSON=function(e,t,n){if(!e||!t)return null;n||(n={});var o=new La(e,t["options"]);if(M(n["baseLayer"])||n["baseLayer"]){var r=Aa.fromJSON(t["baseLayer"]);r&&o.setBaseLayer(r)}if(M(n["layers"])||n["layers"]){for(var i=[],a=t["layers"],s=0;s<a.length;s++){var l=Aa.fromJSON(a[s]);i.push(l)}o.addLayer(i)}return o},La.include({computeLength:function(e,t){if(!this.getProjection())return null;var n=new $o(e),o=new $o(t);return n.equals(o)?0:this.getProjection().measureLength(n,o)},computeGeometryLength:function(e){return e._computeGeodesicLength(this.getProjection())},computeGeometryArea:function(e){return e._computeGeodesicArea(this.getProjection())},identify:function(e,t){e=e||{};var n=new $o(e["coordinate"]);return this._identify(e,t,(function(t){return t.identify(n,e)}))},identifyAtPoint:function(e,t){e=e||{};var n=new Pe(e["containerPoint"]),o=this.containerPointToCoord(n);return this._identify(e,t,(function(t){return t.identifyAtPoint?t.identifyAtPoint(n,e):o?t.identify(o,e):[]}))},_identify:function(e,t,n){var o=e["layers"];if(!Ge(o))return this;for(var r=e.eventTypes,i=[],a=0,s=o.length;a<s;a++)R(o[a])?i.push(this.getLayer(o[a])):i.push(o[a]);r&&(i=i.filter((function(e){return!e._hasGeoListeners||e._hasGeoListeners(r)})));for(var l=[],c=i.length-1;c>=0;c--){if(e["count"]&&l.length>=e["count"])break;var u=i[c];if(u&&u.getMap()&&(e["includeInvisible"]||u.isVisible())&&(e["includeInternals"]||!(u.getId().indexOf(y)>=0))){var d=n(u);d&&(Array.isArray(d)?Fe(l,d):l.push(d))}}return t.call(this,l),this}}),La.include({_zoom:function(e,t){this.options["zoomable"]&&!this.isZooming()&&(t=this._checkZoomOrigin(t),e=this._checkZoom(e),this.onZoomStart(e,t),this._frameZoom=this.getZoom(),this.onZoomEnd(e,t))},_zoomAnimation:function(e,t,n){this.options["zoomable"]&&!this.isZooming()&&(e=this._checkZoom(e),this.getZoom()!==e&&(t=this._checkZoomOrigin(t),this._startZoomAnim(e,t,n)))},_checkZoomOrigin:function(e){return e&&!this.options["zoomInCenter"]||(e=new Pe(this.width/2,this.height/2)),this.options["zoomOrigin"]&&(e=new Pe(this.options["zoomOrigin"])),e},_startZoomAnim:function(e,t,n){M(n)&&(n=1);var o=this._getResolution(this._startZoomVal)/this._getResolution(e),r=this.options["zoomAnimationDuration"]*Math.abs(o-n)/Math.abs(o-1);this._frameZoom=this._startZoomVal,this._animateTo({zoom:e,around:t},{continueOnViewChanged:!0,duration:r})},onZoomStart:function(e,t){this.options["zoomable"]&&!this.isZooming()&&(this._mapAnimPlayer&&this._stopAnim(this._mapAnimPlayer),delete this.cameraZenithDistance,this._zooming=!0,this._startZoomVal=this.getZoom(),this._startZoomCoord=this._containerPointToPrj(t),this._fireEvent("zoomstart",{from:this._startZoomVal,to:e}))},onZooming:function(e,t,n){if(this.options["zoomable"]){var o=this._frameZoom;if(o!==e){M(n)&&(n=1),this._zoomTo(e,t);var r=this.getResolution(e),i=this.getResolution(this._startZoomVal),a=i/r/n,s=this._prjToContainerPoint(this._startZoomCoord,this._startZoomVal),l=this.getViewPoint();if(!this.isRotating()&&!s.equals(t)&&1!==a){var c=this.getPitch(),u=s._sub(t)._multi(1/(1-a));c&&(u.y/=Math.cos(c*Math.PI/180)),t=t.add(u)}var d={view:[a,0,0,a,(t.x-l.x)*(1-a),(t.y-l.y)*(1-a)]},h=this.getDevicePixelRatio();1!==h&&(t=t.multi(h)),d["container"]=[a,0,0,a,t.x*(1-a),t.y*(1-a)],this._fireEvent("zooming",{from:this._startZoomVal,to:e,origin:t,matrix:d}),this._frameZoom=e}}},onZoomEnd:function(e,t){if(this.options["zoomable"]){var n=this._startZoomVal;this._zoomTo(e,t),this._zooming=!1,this._getRenderer().onZoomEnd(),this._suppressRecenter||this._recenterOnTerrain(),this._fireEvent("zoomend",{from:n,to:e}),this._verifyExtent(this._getPrjCenter())||this._panTo(this._prjMaxExtent.getCenter())}},_zoomTo:function(e,t){this._zoomLevel=e,this._calcMatrices(),t&&this._setPrjCoordAtContainerPoint(this._startZoomCoord,t)},_checkZoom:function(e){var t=this.getMaxZoom(),n=this.getMinZoom();return e<n&&(e=n),e>t&&(e=t),e}});var Il=Math.PI/180,zl=.6435011087932844,Nl=new $o(0,0),Ll=new Pe(0,0),Hl=function(e){if(O(e))return 0!==e;if(Array.isArray(e)&&e.length>0)for(var t=0,n=e.length;t<n;t++)if(O(e[t])&&0!==e[t])return!0;return!1};function Fl(){return gl(new Array(16))}function Bl(e,t){var n=L(e[0]),o=L(t[0]),r=L(e[1]),i=L(t[1]),a=Math.sin(o-n)*Math.cos(i),s=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(o-n);return H(Math.atan2(a,s))}La.include({getFov:function(){return this._fov||(this._fov=zl),this._fov/Il},setFov:function(e){if(this.isZooming())return this;if(e=Math.max(.01,Math.min(60,e)),this._fov===e)return this;var t=this.getFov();return this._fov=e*Il,this._calcMatrices(),this._renderLayers(),this._fireEvent("fovchange",{from:t,to:this.getFov()}),this},getBearing:function(){return this._angle?-this._angle/Il:0},setBearing:function(e){return this._mapAnimPlayer&&this._stopAnim(this._mapAnimPlayer),this._setBearing(e)},_setBearing:function(e){if(_e.ie9)throw new Error("map can't rotate in IE9.");var t=-$e(e,-180,180)*Il;if(this._angle===t)return this;var n=this.getBearing();return this._fireEvent("rotatestart",{from:n,to:t}),this._angle=t,this._calcMatrices(),this._renderLayers(),this._fireEvent("rotate",{from:n,to:t}),this._fireEvent("rotateend",{from:n,to:t}),this},getPitch:function(){return this._pitch?this._pitch/Math.PI*180:0},setPitch:function(e){return this._mapAnimPlayer&&this._stopAnim(this._mapAnimPlayer),this._setPitch(e)},_setPitch:function(e){if(_e.ie9)throw new Error("map can't tilt in IE9.");var t=qe(e,0,this.options["maxPitch"])*Il;if(this._pitch===t)return this;var n=this.getPitch();return this._fireEvent("pitchstart",{from:n,to:t}),this._pitch=t,this._calcMatrices(),this._renderLayers(),this._fireEvent("pitch",{from:n,to:t}),this._fireEvent("pitchend",{from:n,to:t}),this},setCameraMovements:function(e,t){var n=this;if(!Array.isArray(e)||!e.length)return this;if(this.setView({center:e[0].center,zoom:e[0].zoom,pitch:e[0].pitch,bearing:e[0].bearing}),1===e.length)return this;var o=1,r=function(i){if("finished"===i.state.playState){o++,o===e.length-1&&(r=null);var a=e[o];a.duration=a.timestamp-e[o-1].timestamp,t&&t.autoRotate&&(a.bearing=Bl(e[o-1].center,a.center)),n._setCameraMovement(a,r)}};2===e.length&&(r=null);var i=this.getBearing();this._setCameraMovement(Se({bearing:i},e[o],{duration:e[o].timestamp-e[o-1].timestamp}),r);var a=function(){n._animPlayer.play()},s=function(){n._animPlayer.pause()},l=function(){n._animPlayer.cancel()},c=function(){n._animPlayer.finish()},u=function(){n._animPlayer.reverse()};return{play:a,pause:s,cancel:l,finish:c,reverse:u}},_setCameraMovement:function(e,t){this.animateTo({zoom:e.zoom,center:e.center,pitch:e.pitch,bearing:e.bearing},{duration:e.duration,easing:"out"},t)},setCameraPosition:function(e){var t=e.position,n=e.pitch,o=e.bearing,r=t[2]*this._meterToGLPoint,i=this.centerAltitude||0,a=i*this._meterToGLPoint,s=r-a,l=n*Il,c=s/Math.cos(l),u=Math.sin(l)*c,d=c+a,h=this._getZoomFromCameraToCenterDistance(d),m=$e(o,-180,180),p=m*Il,f=this.getGLRes(),g=new $o(t[0],t[1]),v=this.coordToPointAtRes(g,f),y=new Pe(0,0);y.x=v.x+u*Math.sin(p),y.y=v.y+u*Math.cos(p);var b=this._pointToPrjAtRes(y,this.getGLRes());return this._setPrjCenter(b),this.setView({bearing:o,pitch:n,zoom:h}),this},_getZoomFromCameraToCenterDistance:function(e){var t=this._getFovRatio(),n=e*t*2/(this.height||1)*this.getGLRes(),o=this._getResolutions(),r=0;for(r;r<o.length-1;r++){if(o[r]===n)return r;if(o[r+1]===n)return r+1;if(n<o[r]&&n>o[r+1])return r=(n-o[r])/(o[r+1]-o[r])+r,r-1}return r},isTransforming:function(){return!(!this._pitch&&!this._angle)},getFrustumAltitude:function(){return this._frustumAltitude},_calcFrustumAltitude:function(){var e=90-this.getPitch(),t=this.getFov()/2,n=this.cameraPosition?this.cameraPosition[2]:0;if(t<=e)return n;t=Math.PI*t/180;var o=new Pe(this.cameraPosition).distanceTo(new Pe(this.cameraLookAt)),r=n*Math.tan(2*t),i=Math.tan(t)*(o+r);return n+i},_pointToContainerPoint:function(e,t,n,o){void 0===n&&(n=0);var r=this._getResolution(t);return this._pointAtResToContainerPoint(e,r,n,o)},_pointAtResToContainerPoint:function(e,t,n,o){void 0===n&&(n=0),o||(o=new Pe(0,0)),e=this._pointAtResToPoint(e,t,o);var r,i=this.isTransforming();return i||n||(r=this._prjToPoint(this._getPrjCenter(),void 0,Nl)),this._toContainerPoint(o,i,n,r),o},_pointsAtResToContainerPoints:function(e,t,n,o){void 0===n&&(n=[]),void 0===o&&(o=[]);var r=this.getPitch(),i=this.getBearing(),a=t/this._getResolution();if(0===r&&0===i&&!Hl(n)){var s=this._get2DExtent(),l=s.xmin,c=s.ymin,u=s.xmax,d=s.ymax;if(u>l&&d>c){for(var h=this.getSize(),m=h.width,p=h.height,f=(u-l)/m,g=(d-c)/p,v=0,y=e.length;v<y;v++)if(e[v]){var b=o[v];b.x=e[v].x,b.y=e[v].y,b._multi(a),b.x=(b.x-l)*f,b.y=p-(b.y-c)*g}else o[v]=null;return o}}for(var w=Array.isArray(n),_=this.isTransforming(),x=this._prjToPoint(this._getPrjCenter(),void 0,Nl),C=0,S=e.length;C<S;C++)if(e[C]){var k=o[C];k.x=e[C].x,k.y=e[C].y,k._multi(a);var E=w?n[C]||0:n;this._toContainerPoint(k,_,E,x)}else o[C]=null;return o},_toContainerPoint:function(){var e=[0,0,0];return function(t,n,o,r){var i=this.width/2,a=this.height/2;if(n||o){this._altitudeScale||(this._altitudeScale=this.altitudeToPoint(100,this.getGLRes())/100);var s=this._glScale;yl(e,t.x*s,t.y*s,o*this._altitudeScale);var l=this._projIfBehindCamera(e,this.cameraPosition,this.cameraForward);Ol(l,l,this.projViewMatrix),t.x=l[0]*i+i,t.y=-l[1]*a+a}else t._sub(r.x,r.y),t.set(t.x,-t.y),t._add(i,a)}}(),_projIfBehindCamera:function(){var e=new Array(3),t=new Array(3),n=new Array(3);return function(o,r,i){wl(e,o,r);var a=Cl(i,e);return a<=0&&(Sl(t,i,1.01*a),bl(o,r,wl(n,e,t))),o}}(),_containerPointToPoint:function(e,t,n){var o=this._getResolution(t);return this._containerPointToPointAtRes(e,o,n)},_containerPointToPointAtRes:function(){var e=[0,0,0],t=[0,0,0,1],n=[0,0,0,1];return function(o,r,i){if(this.isTransforming()){var a=this.width/2||1,s=this.height/2||1;yl(e,(o.x-a)/a,(s-o.y)/s,0),yl(t,e[0],e[1],0),yl(n,e[0],e[1],1),t[3]=n[3]=1,Ol(t,t,this.projViewMatrixInverse),Ol(n,n,this.projViewMatrixInverse);var l=t[0],c=n[0],u=t[1],d=n[1],h=t[2],m=n[2],p=h===m?0:(0-h)/(m-h),f=Ze(l,c,p),g=Ze(u,d,p);return i?(i.x=f,i.y=g):i=new Pe(f,g),i._multi(1/this._glScale),this._getResolution()===r?i:this._pointToPointAtRes(i,r,i)}var v=this._prjToPointAtRes(this._getPrjCenter(),r,i),y=this._getResolution()/r,b=y*(o.x-this.width/2),w=y*(o.y-this.height/2);return v._add(b,-w)}}(),_calcMatrices:function(){var e=Fl();return function(){delete this._mapRes,delete this._mapGlRes,delete this._mapExtent2D,delete this._mapGlExtent2D;var t=this.getSize(),n=t.width||1,o=t.height||1;this._glScale=this.getGLScale();var r=this._getCameraWorldMatrix(),i=this.getFov()*Math.PI/180,a=this._getCameraFar(i,this.getPitch());this.cameraFar=a,this.cameraNear=this.cameraCenterDistance/20;var s=this.projMatrix||Fl();cl(s,i,n/o,this.cameraNear,a),this.projMatrix=s,this.viewMatrix=fl(this.viewMatrix||Fl(),r),this.projViewMatrix=pl(this.projViewMatrix||Fl(),s,this.viewMatrix),this._calcCascadeMatrixes(),this.projViewMatrixInverse=pl(this.projViewMatrixInverse||Fl(),r,fl(e,s)),this.domCssMatrix=this._calcDomMatrix(),this._frustumAltitude=this._calcFrustumAltitude(),this._mapRes=this._getResolution(),this._mapGlRes=this.getGLRes(),this._mapExtent2D=this._get2DExtent(),this._mapGlExtent2D=this._get2DExtentAtRes(this._mapGlRes)}}(),_getCameraFar:function(e,t){var n=this.cameraCenterDistance=El(this.cameraPosition,this.cameraLookAt),o=n,r=(this.options["cameraInfiniteFar"]?10:4)*n;if(t>0&&(t=t*Math.PI/180,2/Math.PI-t>e/2)){var i=Math.tan(e/2),a=Math.tan(t);r=Math.max(n*i/(1/a-i),r)}return o+=r,o+1},_calcCascadeMatrixes:function(){var e=Fl();function t(t,n,o){var r=this.width,i=this.height,a=this.getFov()*Math.PI/180,s=this._getCameraFar(a,n),l=this.cameraCenterDistance;s=l+(s-l)/Math.cos((90-n)*Math.PI/180)*Math.cos((90-t)*Math.PI/180),cl(e,a,r/i,.1,s);var c=this.viewMatrix;return pl(o,e,c)}return function(){var e=this.getPitch(),n=this.options["cascadePitches"][0],o=this.options["cascadePitches"][1],r=this.cascadeFrustumMatrix0=this.cascadeFrustumMatrix0||Fl(),i=this.cascadeFrustumMatrix1=this.cascadeFrustumMatrix1||Fl();e>n?t.call(this,e,n,r):vl(this.cascadeFrustumMatrix0,this.projViewMatrix),e>o?t.call(this,e,o,i):vl(this.cascadeFrustumMatrix1,this.cascadeFrustumMatrix0)}}(),_calcDomMatrix:function(){var e=Fl(),t=Fl(),n=[1,-1,1],o=[0,0,0];return function(){var r=this.width||1,i=this.height||1,a=.5/Math.tan(this._fov/2)*i;return dl(e,this.projMatrix,n),ul(e,e,yl(o,0,0,-a)),this._pitch&&hl(e,e,this._pitch),this._angle&&ml(e,e,this._angle),gl(t),dl(t,t,yl(o,r/2,-i/2,1)),pl(this.domCssMatrix||Fl(),t,e)}}(),_getFovZ:function(e){var t=this.getGLScale(e),n=this._getFovRatio();return t*(this.height||1)/2/n},_getCameraWorldMatrix:function(){var e={};return function(){var t=this.getGLRes();this._meterToGLPoint||(this._meterToGLPoint=this.distanceToPointAtRes(100,0,t).x/100);var n=this._prjToPointAtRes(this._prjCenter,t,Ll),o=this.centerAltitude||0,r=o*this._meterToGLPoint;this.cameraLookAt=yl(this.cameraLookAt||[0,0,0],n.x,n.y,r);var i=this.getPitch()*Il,a=this.getBearing()*Il,s=this._getFovZ(),l=void 0===this.cameraZenithDistance?s:this.cameraZenithDistance,c=l-r,u=c*Math.cos(i),d=Math.sin(i)*c,h=n.x-d*Math.sin(a),m=n.y-d*Math.cos(a);this.cameraPosition=yl(this.cameraPosition||[0,0,0],h,m,u+r),this.cameraToCenterDistance=s;var p=d||1,f=this.cameraUp=yl(this.cameraUp||[0,0,0],Math.sin(a)*p,Math.cos(a)*p,0),g=this.cameraWorldMatrix=this.cameraWorldMatrix||Fl();Pl(g,this.cameraPosition,this.cameraLookAt,f);var v=this.cameraForward||[0,0,0];return wl(v,this.cameraLookAt,this.cameraPosition),this.cameraForward=xl(v,v),Dl(e,g),Al(g,e),Rl(g,this.cameraPosition),g}}(),updateCenterAltitude:function(){this.getRenderer().setToRedraw(),!this.centerAltitude&&this._hasAltitudeLayer()&&(this.centerAltitude=0),this._recenterOnTerrain()},_recenterOnTerrain:function(){if(void 0!==this.centerAltitude){var e=this._queryTerrainByProjCoord(this._prjCenter);M(e)&&this._hasAltitudeLayer()&&(e=this.centerAltitude);var t=e||0,n=this.getPitch()*Il,o=this.getBearing()*Il,r=(t-this.centerAltitude)*this._meterToGLPoint,i=this._getFovZ(),a=void 0===this.cameraZenithDistance?i:this.cameraZenithDistance,s=a-this.centerAltitude*this._meterToGLPoint,l=s-r/Math.cos(n),c=this.cameraPosition,u=Math.sin(n)*l,d=Ll;d.x=c[0]+u*Math.sin(o),d.y=c[1]+u*Math.cos(o);var h=t*this._meterToGLPoint;this.cameraZenithDistance=(c[2]-h)/Math.cos(n)+h,this.centerAltitude=t;var m=this.pointAtResToCoordinate(d,this.getGLRes(),Nl);this._eventSilence=!0,this._suppressRecenter=!0,this.setCenter(m),delete this._suppressRecenter,delete this._eventSilence,M(e)&&delete this.centerAltitude}},_queryTerrainByProjCoord:function(e){for(var t=this._getLayers(),n=0;n<t.length;n++)if(t[n].queryTerrainByProjCoord)return t[n].queryTerrainByProjCoord(e)[0];return 0},_hasAltitudeLayer:function(){for(var e=this._getLayers(),t=0;t<e.length;t++)if(e[t].getTerrainLayer&&e[t].getTerrainLayer())return!0;return!1},_getFovRatio:function(){var e=this.getFov();return Math.tan(e/2*Il)},_renderLayers:function(){if(!this.isInteracting()){var e=this._getLayers();e.forEach((function(e){if(e){var t=e._getRenderer();t&&t.setToRedraw&&t.setToRedraw()}}))}}}),La.include({_onViewChange:function(e){this._viewHistory||(this._viewHistory=[],this._viewHistoryPointer=0);for(var t=this._getCurrentView(),n=this._viewHistory.length-1;n>=0;n--)if(rt(e,this._viewHistory[n]))return this._viewHistoryPointer=n,void this._fireViewChange(t,e);this._viewHistoryPointer<this._viewHistory.length-1&&this._viewHistory.splice(this._viewHistoryPointer+1),this._viewHistory.push(e);var o=this.options["viewHistoryCount"];o>0&&this._viewHistory.length>o&&this._viewHistory.splice(0,this._viewHistory.length-o),this._viewHistoryPointer=this._viewHistory.length-1,this._fireViewChange(t,e)},zoomToPreviousView:function(e){if(void 0===e&&(e={}),!this.hasPreviousView())return null;var t=this._viewHistory[--this._viewHistoryPointer];return this._zoomToView(t,e),t},hasPreviousView:function(){return!(!this._viewHistory||0===this._viewHistoryPointer)},zoomToNextView:function(e){if(void 0===e&&(e={}),!this.hasNextView())return null;var t=this._viewHistory[++this._viewHistoryPointer];return this._zoomToView(t,e),t},hasNextView:function(){return!(!this._viewHistory||this._viewHistoryPointer===this._viewHistory.length-1)},_zoomToView:function(e,t){var n=this,o=this.getView();t["animation"]?this._animateTo(e,{duration:t["duration"]},(function(t){"finished"===t.state.playState&&n._fireViewChange(o,e)})):(this.setView(e),this._fireViewChange(o,e))},getViewHistory:function(){return this._viewHistory},_fireViewChange:function(e,t){this._fireEvent("viewchange",{old:e,new:t}),this._insertUICollidesQueue()},_getCurrentView:function(){return this._viewHistory?this._viewHistory[this._viewHistoryPointer]:null}}),La.mergeOptions({viewHistory:!0,viewHistoryCount:10});var Ul=new Bo;La.include({getCollisionIndex:function(){return this._collisionIndex||this.createCollisionIndex(),this._collisionIndex||this.createCollisionIndex()},createCollisionIndex:function(){return this.clearCollisionIndex(),this._collisionIndex=new Bo,this._collisionIndex},clearCollisionIndex:function(){return this.collisionFrameTime=0,this._collisionIndex&&this._collisionIndex.clear(),this},_insertUICollidesQueue:function(){return this._uiCollidesQueue||(this._uiCollidesQueue=[]),this._uiCollidesQueue.push(1),this},uiCollides:function(){if(!this.uiList||0===this.uiList.length||!this._uiCollidesQueue||0===this._uiCollidesQueue.length)return this;var e=Ul;e.clear();for(var t=this.uiList,n=0,o=t.length;n<o;n++){var r=t[n],i=r.options,a=i.collisionBufferSize,s=i.collision;if(s){var l=r.getDOM();if(r.isVisible()&&l&&l.getBoundingClientRect){r.bbox||(r.bbox=[0,0,0,0]);var c=l.getBoundingClientRect(),u=c.x,d=c.y,h=c.width,m=c.height;if(0===h||0===m){var p=r.getSize();p&&(h=p.width,m=p.height)}var f=u-a,g=u+h+a,v=d-a,y=d+m+a;r.bbox[0]=f,r.bbox[1]=v,r.bbox[2]=g,r.bbox[3]=y,e.collides(r.bbox)?r._collidesEffect(!1):(e.insertBox(r.bbox),r._collidesEffect(!0))}}}return this._uiCollidesQueue=[],this},_addUI:function(e){this.uiList||(this.uiList=[]);var t=this.uiList.indexOf(e);return t>-1||(this.uiList.push(e),this.uiList=this.uiList.sort((function(e,t){return t.options["collisionWeight"]-e.options["collisionWeight"]}))),this},_removeUI:function(e){if(!this.uiList)return-1;var t=this.uiList.indexOf(e);return t<0||this.uiList.splice(t,1),t}});var Vl={decimalPlaces:2,mode:"LineString",language:"zh-CN",metric:!0,imperial:!1,symbol:{lineColor:"#000",lineWidth:3,lineOpacity:1},vertexSymbol:{markerType:"ellipse",markerFill:"#fff",markerLineColor:"#000",markerLineWidth:3,markerWidth:11,markerHeight:11},labelOptions:{textSymbol:{textFaceName:"monospace",textLineSpacing:1,textHorizontalAlignment:"right",textDx:15},boxStyle:{padding:[6,2],symbol:{markerType:"square",markerFill:"#fff",markerFillOpacity:.9,markerLineColor:"#b4b3b3"}}},clearButtonSymbol:[{markerType:"square",markerFill:"#fff",markerLineColor:"#b4b3b3",markerLineWidth:2,markerWidth:15,markerHeight:15,markerDx:20},{markerType:"x",markerWidth:10,markerHeight:10,markerDx:20}]},jl=function(e){function t(t){var n;return n=e.call(this,t)||this,n.on("enable",n._afterEnable,Te(Te(n))).on("disable",n._afterDisable,Te(Te(n))),n._measureLayers=[],n}ke(t,e);var n=t.prototype;return n.clear=function(){if(Ge(this._measureLayers))for(var e=0;e<this._measureLayers.length;e++)this._measureLayers[e].remove();return delete this._lastMeasure,delete this._lastVertex,this._measureLayers=[],this},n.getMeasureLayers=function(){return this._measureLayers},n.getLastMeasure=function(){return this._lastMeasure?this._lastMeasure:0},n.undo=function(){e.prototype.undo.call(this);var t=this._historyPointer;if(t!==this._vertexes.length)for(var n=t;n<this._vertexes.length;n++)this._vertexes[n].label&&this._vertexes[n].label.remove(),this._vertexes[n].marker.remove();return this},n.redo=function(){e.prototype.redo.call(this);var t=this._historyPointer-1;return this._vertexes[t]&&(this._vertexes[t].marker.getLayer()||(this._vertexes[t].label&&this._vertexes[t].label.addTo(this._measureMarkerLayer),this._vertexes[t].marker.addTo(this._measureMarkerLayer))),this},n._measure=function(e){var t,n,o=this.getMap();e instanceof Sa?t=o.computeGeometryLength(e):Array.isArray(e)&&(t=o.getProjection().measureLength(e)),this._lastMeasure=t,n="zh-CN"===this.options["language"]?[" 米"," 公里"," 英尺"," 英里"]:[" m"," km"," feet"," mile"];var r="",i=this.options["decimalPlaces"];return this.options["metric"]&&(r+=t<1e3?t.toFixed(i)+n[0]:(t/1e3).toFixed(i)+n[1]),this.options["imperial"]&&(t*=3.2808399,r.length>0&&(r+="\n"),r+=t<5280?t.toFixed(i)+n[2]:(t/5280).toFixed(i)+n[3]),r},n._registerMeasureEvents=function(){this.on("drawstart",this._msOnDrawStart,this).on("drawvertex",this._msOnDrawVertex,this).on("mousemove",this._msOnMouseMove,this).on("drawend",this._msOnDrawEnd,this)},n._afterEnable=function(){this._registerMeasureEvents()},n._afterDisable=function(){this.off("drawstart",this._msOnDrawStart,this).off("drawvertex",this._msOnDrawVertex,this).off("mousemove",this._msOnMouseMove,this).off("drawend",this._msOnDrawEnd,this)},n._msOnDrawStart=function(e){var t=this.getMap(),n=t._pointToPrj(e["point2d"]),o=Le(),r="distancetool_"+o,i="distancetool_markers_"+o;t.getLayer(r)?(this._measureLineLayer=t.getLayer(r),this._measureMarkerLayer=t.getLayer(i)):(this._measureLineLayer=new Js(r).addTo(t),this._measureMarkerLayer=new Js(i).addTo(t)),this._measureLayers.push(this._measureLineLayer),this._measureLayers.push(this._measureMarkerLayer);var a=new ss(e["coordinate"],{symbol:this.options["vertexSymbol"]});a._setPrjCoordinates(n);var s="zh-CN"===this.options["language"]?"起点":"start",l=new Us(s,e["coordinate"],this.options["labelOptions"]);l._setPrjCoordinates(n),this._lastVertex=l,this._addVertexMarker(a,l)},n._msOnMouseMove=function(e){var t=this._measure(this._msGetCoordsToMeasure(e));if(!this._tailMarker){var n=Dn(this.options["vertexSymbol"]);n["markerWidth"]/=2,n["markerHeight"]/=2,this._tailMarker=new ss(e["coordinate"],{symbol:n}).addTo(this._measureMarkerLayer),this._tailLabel=new Us(t,e["coordinate"],this.options["labelOptions"]).addTo(this._measureMarkerLayer)}var o=this._geometry._getPrjCoordinates(),r=o[o.length-1];this._tailMarker.setCoordinates(e["coordinate"]),this._tailMarker._setPrjCoordinates(r),this._tailLabel.setContent(t),this._tailLabel.setCoordinates(e["coordinate"]),this._tailLabel._setPrjCoordinates(r)},n._msGetCoordsToMeasure=function(e){return e["geometry"].getCoordinates().concat([e["coordinate"]])},n._msOnDrawVertex=function(e){var t=this._geometry._getPrjCoordinates(),n=t[t.length-1],o=e["geometry"],r=new ss(e["coordinate"],{symbol:this.options["vertexSymbol"]}),i=this._measure(o),a=new Us(i,e["coordinate"],this.options["labelOptions"]);this._addVertexMarker(r,a),a._setPrjCoordinates(n),r._setPrjCoordinates(n),this._lastVertex=a},n._addVertexMarker=function(e,t){this._vertexes||(this._vertexes=[]),void 0!==this._historyPointer&&this._vertexes.length>this._historyPointer-1&&(this._vertexes.length=this._historyPointer-1),this._vertexes.push({label:t,marker:e}),this._measureMarkerLayer.addGeometry(e),t&&this._measureMarkerLayer.addGeometry(t)},n._msOnDrawEnd=function(e){if(this._clearTailMarker(),e["geometry"]._getPrjCoordinates().length<2)return this._lastMeasure=0,void this._clearMeasureLayers();var t=this._lastVertex.getSize();t||(t=new cn(10,10)),this._addClearMarker(this._lastVertex.getCoordinates(),this._lastVertex._getPrjCoordinates(),t["width"]);var n=e["geometry"].copy();n._setPrjCoordinates(e["geometry"]._getPrjCoordinates()),n.addTo(this._measureLineLayer),this._lastMeasure=n.getLength()},n._addClearMarker=function(e,t,n){var o=this.options["clearButtonSymbol"],r={markerDx:(o["markerDx"]||0)+n,textDx:(o["textDx"]||0)+n};Array.isArray(o)&&(r=o.map((function(e){return e?{markerDx:(e["markerDx"]||0)+n,textDx:(e["textDx"]||0)+n}:null}))),o=Dn(o,r);var i=new ss(e,{symbol:o}),a=this._measureLineLayer,s=this._measureMarkerLayer;i.on("click",(function(){return a.remove(),s.remove(),!1}),this),i.addTo(this._measureMarkerLayer),i._setPrjCoordinates(t)},n._clearTailMarker=function(){this._tailMarker&&(this._tailMarker.remove(),delete this._tailMarker),this._tailLabel&&(this._tailLabel.remove(),delete this._tailLabel)},n._clearMeasureLayers=function(){this._measureLineLayer.remove(),this._measureMarkerLayer.remove()},t}(nl);jl.mergeOptions(Vl);var Wl={mode:"Polygon",symbol:{lineColor:"#000000",lineWidth:2,lineOpacity:1,lineDasharray:"",polygonFill:"#ffffff",polygonOpacity:.5}},Zl=function(e){function t(t){var n;return n=e.call(this,t)||this,n._measureLayers=[],n}ke(t,e);var n=t.prototype;return n._measure=function(e){var t,n,o=this.getMap();e instanceof Sa?t=o.computeGeometryArea(e):Array.isArray(e)&&(t=o.getProjection().measureArea(e)),this._lastMeasure=t,n="zh-CN"===this.options["language"]?[" 平方米"," 平方公里"," 平方英尺"," 平方英里"]:[" sq.m"," sq.km"," sq.ft"," sq.mi"];var r="",i=this.options["decimalPlaces"];if(this.options["metric"]&&(r+=t<1e6?t.toFixed(i)+n[0]:(t/1e6).toFixed(i)+n[1]),this.options["imperial"]){t*=3.2808399,r.length>0&&(r+="\n");var a=27878400;r+=t<a?t.toFixed(i)+n[2]:(t/a).toFixed(i)+n[3]}return r},n._msGetCoordsToMeasure=function(e){return e["geometry"].getShell().concat([e["coordinate"]])},n._msOnDrawVertex=function(e){var t=this.getMap()._pointToPrj(e["point2d"]),n=new ss(e["coordinate"],{symbol:this.options["vertexSymbol"]});n._setPrjCoordinates(t),this._measure(e["geometry"]),this._lastVertex=n,this._addVertexMarker(n)},n._msOnDrawEnd=function(e){var t;if(this._clearTailMarker(),e["point2d"])t=this.getMap()._pointToPrj(e["point2d"]);else{var n=e["geometry"]._getPrjCoordinates();n=n.slice(0,n.length-1),e["geometry"]._setPrjCoordinates(n),t=n[n.length-1]}if(e["geometry"]._getPrjCoordinates().length<3)return this._lastMeasure=0,void this._clearMeasureLayers();var o=this._measure(e["geometry"]),r=this.getMap().getProjection(),i=r.unproject(t),a=new Us(o,i,this.options["labelOptions"]).addTo(this._measureMarkerLayer);a._setPrjCoordinates(t);var s=a.getSize();s||(s=new cn(10,10)),this._addClearMarker(i,t,s["width"]);var l=e["geometry"].copy();l._setPrjCoordinates(e["geometry"]._getPrjCoordinates()),l.addTo(this._measureLineLayer),this._lastMeasure=l.getArea()},t}(jl);Zl.mergeOptions(Wl);var $l={create:function(e,t){var n=e.unproject(t[0]),o=new Cs(n,0);return o._setPrjCoordinates(t[0]),o},update:function(e,t,n){var o=n.getMap(),r=Array.isArray(t)?t[t.length-1]:t,i=e.unproject(r),a=o.computeLength(n.getCenter(),i);n.setRadius(a)},generate:function(e){return e}};nl.registerMode("circle",T({clickLimit:2,action:["click","mousemove","click"]},$l)),nl.registerMode("freeHandCircle",T({action:["mousedown touchstart","mousemove touchmove","mouseup touchend"]},$l));var ql={create:function(e,t){var n=e.unproject(t[0]),o=new ks(n,0,0);return o._setPrjCoordinates(t[0]),o},update:function(e,t,n){var o=n.getMap(),r=n.getCenter(),i=Array.isArray(t)?t[t.length-1]:t,a=e.unproject(i),s=o.computeLength(r,new $o({x:a.x,y:r.y})),l=o.computeLength(r,new $o({x:r.x,y:a.y}));n.setWidth(2*s),n.setHeight(2*l)},generate:function(e){return e}};nl.registerMode("ellipse",T({clickLimit:2,action:["click","mousemove","click"]},ql)),nl.registerMode("freeHandEllipse",T({action:["mousedown touchstart","mousemove touchmove","mouseup touchend"]},ql));var Gl={create:function(e,t){var n=new os([]);return n._firstClick=t[0],n},update:function(e,t,n,o){var r=n.getMap(),i=o["containerPoint"],a=r._prjToContainerPoint(n._firstClick),s=[[a.x,a.y],[i.x,a.y],[i.x,i.y],[a.x,i.y]];n.setCoordinates(s.map((function(e){return r.containerPointToCoord(new Pe(e))}))),n._setPrjCoordinates(s.map((function(e){return r._containerPointToPrj(new Pe(e))})))},generate:function(e){return e}};nl.registerMode("rectangle",T({clickLimit:2,action:["click","mousemove","click"]},Gl)),nl.registerMode("freeHandRectangle",T({action:["mousedown touchstart","mousemove touchmove","mouseup touchend"]},Gl)),nl.registerMode("point",{clickLimit:1,action:["click","mousemove"],create:function(e,t){var n=e.unproject(t[0]),o=new ss(n);return o._setPrjCoordinates(t[0]),o},generate:function(e){return e},update:function(e,t,n){if(Array.isArray(t)&&(t=t[t.length-1]),!t)return n;var o=e.unproject(t);return n.setCoordinates(o),n}});var Kl={create:function(e,t){var n=t.map((function(t){return e.unproject(t)})),o=new us(n);return o._setPrjCoordinates(t),o},update:function(e,t,n){var o,r=n.getSymbol();Array.isArray(t)?o=t:(o=n._getPrjCoordinates(),o.push(t));var i=o.map((function(t){return e.unproject(t)}));n.setCoordinates(i),n._setPrjCoordinates(o);var a=n.getLayer();if(a){var s=a.getGeometryById("polygon");if(!s&&o.length>=3){if(s=new os([i],{id:"polygon"}),r){var l=Dn(r,{lineOpacity:0});s.setSymbol(l)}s.addTo(a)}s&&s._setPrjCoordinates(o)}},generate:function(e){var t=new os(e.getCoordinates(),{symbol:e.getSymbol()});return t._setPrjCoordinates(e._getPrjCoordinates()),t._projCode=e._projCode,t}};nl.registerMode("polygon",T({action:["click","mousemove","dblclick"]},Kl)),nl.registerMode("freeHandPolygon",T({action:["mousedown touchstart","mousemove touchmove","mouseup touchend"]},Kl));var Yl={create:function(e,t){var n=t.map((function(t){return e.unproject(t)})),o=new us(n);return o._setPrjCoordinates(t),o},update:function(e,t,n){var o;Array.isArray(t)?o=t:(o=n._getPrjCoordinates(),o.push(t));var r=o.map((function(t){return e.unproject(t)}));n.setCoordinates(r),n._setPrjCoordinates(o)},generate:function(e){return e}};function Jl(e){for(var t=e["tileInfo"],n=[t["cols"],t["rows"]],o=[],r=t["lods"],i=0,a=r.length;i<a;i++)o.push(r[i]["resolution"]);var s=e["fullExtent"],l=t["origin"],c=[1,-1,l["x"],l["y"]];return delete s["spatialReference"],{spatialReference:{resolutions:o,fullExtent:s},tileSystem:c,tileSize:n}}function Xl(e){for(var t="",n=e.split(""),o=n.length,r=o-1;r>=0;r--){if(isNaN(n[r]))break;t=n[r]+t}return t}function Ql(e){var t=e.indexOf("EPSG")>-1?e:"EPSG:"+e;return t=ec(t,[["4490","4326"],["102100","3857"],["900913","3857"]]),t}function ec(e,t){return void 0===t&&(t=[]),t.forEach((function(t){var n=t[0],o=t[1];e=e.replace(n,o)})),e}function tc(e){var t=e.projection,n=e.isArcgis,o=e.isGeoServer,r=e.isSuperMap,i=.0002645833333333333;return(n||o||r)&&(i=28e-5),t&&t.indexOf("4326")>-1&&(i=2.3767925226029154e-9,(n||r)&&(i=2.518101729011901e-9),o&&(i=2.51528279553466e-9)),i}nl.registerMode("linestring",T({action:["click","mousemove","dblclick"]},Yl)),nl.registerMode("freeHandLinestring",T({action:["mousedown touchstart","mousemove touchmove","mouseup touchend"]},Yl)),nl.registerMode("arccurve",{action:["click","mousemove","dblclick"],create:function(e,t){var n=t.map((function(t){return e.unproject(t)})),o=new Rs(n);return o._setPrjCoordinates(t),o},update:Yl.update,generate:function(e){return e}}),nl.registerMode("quadbeziercurve",{action:["click","mousemove","dblclick"],create:function(e,t){var n=t.map((function(t){return e.unproject(t)})),o=new Is(n);return o._setPrjCoordinates(t),o},update:Yl.update,generate:function(e){return e}}),nl.registerMode("cubicbeziercurve",{action:["click","mousemove","dblclick"],create:function(e,t){var n=t.map((function(t){return e.unproject(t)})),o=new Ps(n);return o._setPrjCoordinates(t),o},update:Yl.update,generate:function(e){return e}}),nl.registerMode("boxZoom",{action:["mousedown","mousemove","mouseup"],create:function(e,t){t=t[0];var n=e.unproject(t),o=new ss(n);return o._firstClick=t,o},update:function(e,t,n,o){var r=n.getMap(),i=r._prjToContainerPoint(n._firstClick),a=o["containerPoint"];t=r._containerPointToPrj(new $o(Math.min(i.x,a.x),Math.min(i.y,a.y)));var s=e.unproject(t);n.setCoordinates(s)._setPrjCoordinates(t),n.updateSymbol({markerWidth:Math.abs(i.x-a.x),markerHeight:Math.abs(i.y-a.y)})},generate:function(e){return e}}),ba.loadArcgis=function(e,t,n){if(void 0===n&&(n={jsonp:!0}),R(e)&&"{"!==e.substring(0,1))yo.getJSON(e,(function(e,n){if(e)t(e);else{var o=Jl(n);t(null,o)}}),n);else{R(e)&&(e=He(e));var o=Jl(e);t(null,o)}return this};var nc="wmts";function oc(e,t){var n=e.getElementsByTagName(t);if(n&&n.length)return n;var o=nc+":"+t;return e.getElementsByTagName(o)}function rc(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o=o.getElementsByTagName("ows:Identifier")[0],o&&o.textContent===t)return e[n]}return null}function ic(e,t,n){null==n.isArcgis&&(n.isArcgis=e.indexOf("arcgis")>-1),null==n.isSuperMap&&(n.isSuperMap=e.indexOf("supermap")>-1);var o=new DOMParser,r=o.parseFromString(e,"text/xml"),i=r.querySelectorAll("Contents")[0];if(!i)return[];var a=oc(i,"Layer");if(!a.length)return[];for(var s=[],l=0,c=i.childNodes.length;l<c;l++)"TileMatrixSet"===i.childNodes[l].localName&&s.push(i.childNodes[l]);if(!s.length)return[];for(var u=[],d=0,h=a.length;d<h;d++){var m=a[d],p=m.querySelectorAll("Style")[0];p&&(p=p.getElementsByTagName("ows:Identifier")[0],p&&(p=p.textContent));var f=m.getElementsByTagName("ows:Identifier")[0];f&&(f=f.textContent);var g=oc(m,"TileMatrixSetLink");if(0!==g.length)for(var v=0,y=g.length;v<y;v++){var b=g[v];b=oc(b,"TileMatrixSet")[0],b&&(b=b.textContent);var w=rc(s,b);if(w){var _=m.querySelectorAll("ResourceURL")[0],x="";_&&(x=_.attributes.template.value);var C=ac(w,n),S=C.resolutions,k=C.tileSize,E=C.tileSystem,T=C.projection,M=C.TileMatrixSet,O=C.isGeoServer,D=C.levelStr;x.length||(x=t.substr(0,t.lastIndexOf("?")),x+="?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER={LAYER}&STYLE={Style}&TILEMATRIXSET={TileMatrixSet}&FORMAT={tiles}&TILEMATRIX={TileMatrix}&TILEROW={TileRow}&TILECOL={TileCol}");var A=ec(x,[["{LAYER}",f],["{Layer}",f],["{layer}",f],["{STYLE}",p],["{Style}",p],["{style}",p],["{TileMatrixSet}",M],["{TileMatrix}",O?D+":{z}":"{z}"],["{TileRow}","{y}"],["{TileCol}","{x}"],["{tiles}",O?"image/png":"tiles"]]);u.push({tileSize:k,tileSystem:E,spatialReference:{resolutions:S,projection:T},urlTemplate:A,info:{layerName:f,TileMatrixSet:M,style:p,tileSize:k,tileSystem:E,resolutions:S,projection:T,urlTemplate:A}})}}}return u}function ac(e,t){void 0===t&&(t={});var n,o,r,i=oc(e,"TileMatrix"),a=[],s=[],l=[],c=!1;if(!n){var u=e.getElementsByTagName("ows:SupportedCRS")[0];u&&(n=u.textContent,n=n.split("EPSG")[1],n=Xl(n),n=Ql(n))}o||(o=e.getElementsByTagName("ows:Identifier")[0],o&&(o=o.textContent)),t.projection=n;for(var d=1/0,h=0;h<i.length;h++){var m=i[h],p=m.getElementsByTagName("ows:Identifier")[0].textContent;isNaN(parseInt(p))?(r=p.substr(0,p.lastIndexOf(":")),p=p.split(":"),p=p[p.length-1],p=parseInt(p),c=!0,t.isGeoServer=!0):p=parseInt(p),d=Math.min(d,p);var f=oc(m,"ScaleDenominator")[0].textContent,g=oc(m,"TopLeftCorner")[0].textContent,v=oc(m,"TileWidth")[0].textContent,y=oc(m,"TileHeight")[0].textContent;if(0===l.length&&l.push(parseInt(v),parseInt(y)),0===s.length){var b=g.split(" ").filter((function(e){return""!==e})).map((function(e){return parseFloat(e)})),w=b[0],_=b[1];w>0?s.push(1,-1,_,w):s.push(1,-1,w,_)}var x=tc(t),C=parseFloat(f)*x;a.push(C)}if(d>0)for(var S=a[0],k=d-1;k>=0;k--)S*=2,a.splice(0,0,S);return{resolutions:a,tileSize:l,tileSystem:s,projection:n,TileMatrixSet:o,isGeoServer:c,levelStr:r}}ba.loadWMTS=function(e,t,n){return void 0===n&&(n={jsonp:!0}),R(e)&&yo.get(e,(function(o,r){if(o)t(o);else{var i=ic(r,e,n);t(null,i)}}),n),this};var sc={eventsPropagation:!1,eventsToStop:null,dx:0,dy:0,autoPan:!1,autoPanDuration:600,single:!0,animation:"scale",animationOnHide:!1,animationDuration:500,pitchWithMap:!1,rotateWithMap:!1,visible:!0,roundPoint:!1,collision:!1,collisionBufferSize:2,collisionWeight:0,collisionFadeIn:!1},lc=function(e){function t(t){var n;return n=e.call(this,t)||this,n.proxyOptions(),n}ke(t,e);var n=t.prototype;return n.addTo=function(e){return this._owner=e,this._switchEvents("on"),this.onAdd&&this.onAdd(),this.fire("add"),this},n.getMap=function(){return this._owner?this._owner.getBaseLayer?this._owner:this._owner.getMap():null},n._collides=function(){var e=this.getMap();return e?(e._addUI(this),e._insertUICollidesQueue(),this):this},n._collidesEffect=function(e){var t=this.getDOM();if(!t)return this;var n=e?"visible":"hidden";if(t.style.visibility=n,!t.classList||!t.classList.add)return this;if(!this.options["collisionFadeIn"])return this;var o=t.classList,r="mtk-ui-fadein",i=o.contains(r);return e&&!i?t.classList.add(r):!e&&i&&t.classList.remove(r),this},n.show=function(e){var t=this,n=this.getMap();if(!n)return this;this.options["visible"]=!0,e=e||this._coordinate||this._owner.getCenter();var o=this.isVisible();this._showBySymbolChange||this.fire("showstart");var r=this._getUIContainer();this._coordinate=e,this._removePrevDOM(),this._mapEventsOn||this._switchMapEvents("on");var i=this.__uiDOM=this.buildOn(n);if(i["eventsPropagation"]=this.options["eventsPropagation"],this._observerDomSize(i),!i)return this._showBySymbolChange||this.fire("showend"),this._collides(),this;this._measureSize(i),this._singleton()&&(i._uiComponent=this,n[this._uiDomKey()]=i),this._setPosition(),i.style[Un]=null,r.appendChild(i);var a=this._getAnimation();if(o&&(a.ok=!1),a.ok&&(a.fade&&(i.style.opacity=0),a.scale)){if(this.getTransformOrigin){var s=this.getTransformOrigin();i.style[Bn]=s}i.style[Fn]=this._toCSSTranslate(this._pos)+" scale(0)"}this.isSupportZoomFilter()||(i.style.display=""),this.options["eventsToStop"]&&ho(i,this.options["eventsToStop"],Kn);var l=a.transition;return a.ok&&l&&(i.offsetHeight,l&&(i.style[Un]=l),a.fade&&(i.style.opacity=1),a.scale&&(i.style[Fn]=this._toCSSTranslate(this._pos)+" scale(1)")),this._showBySymbolChange||this.fire("showend"),this._collides(),clearTimeout(this._autoPanId),this.options["autoPan"]&&(this._autoPanId=setTimeout((function(){t._autoPan()}),32)),this},n.hide=function(){var e=this;if(!this.getDOM())return this;this._onDomMouseout&&this._onDomMouseout(),this.options["visible"]=!1;var t=this._getAnimation(),n=this.getDOM();return this.options["animationOnHide"]||(t.ok=!1),t.ok?(n.offsetHeight,n.style[Un]=t.transition,setTimeout((function(){n.style.display="none",e.fire("hide")}),this.options["animationDuration"])):(n.style.display="none",this.fire("hide")),t.fade&&(n.style.opacity=0),t.scale&&(n.style[Fn]=this._toCSSTranslate(this._pos)+" scale(0)"),this._switchMapEvents("off"),this._collides(),this},n.isVisible=function(){if(!this.options["visible"])return!1;var e=this.getDOM();return this.getMap()&&e&&e.parentNode&&"none"!==e.style.display},n.remove=function(){if(delete this._mapEventsOn,!this._owner)return this;var e=this.getMap();return e&&e._removeUI(this),this.hide(),this._switchEvents("off"),this.onRemove&&this.onRemove(),!this._singleton()&&this.__uiDOM&&this._removePrevDOM(),delete this._owner,this.fire("remove"),this._collides(),this},n.getSize=function(){return this._domContentRect&&this._size&&(this._size.width=this._domContentRect.width,this._size.height=this._domContentRect.height),this._size?this._size.copy():null},n.getOwner=function(){return this._owner},n.getDOM=function(){return this.__uiDOM},n._roundPoint=function(e){return this.options.roundPoint&&(e=e._round()),e},n.getPosition=function(){if(!this.getMap())return null;var e=this._roundPoint(this._getViewPoint());if(this.getOffset){var t=this._roundPoint(this.getOffset());t&&e._add(t)}return e},n._getAnimation=function(){for(var e={fade:!1,scale:!1},t=this.options["animation"]?this.options["animation"].split(","):[],n=0;n<t.length;n++){var o=un(t[n]);"fade"===o?e.fade=!0:"scale"===o&&(e.scale=!0)}var r=null;return e.fade&&(r="opacity "+this.options["animationDuration"]+"ms"),e.scale&&(r=r?r+",":"",r+=Fn+" "+this.options["animationDuration"]+"ms"),e.transition=r,e.ok=null!==r,e},n._getViewPoint=function(){var e=0,t=this._coordinate||{};O(t.z)?e=t.z:this._owner&&this._owner.getAltitude&&(e=this._owner.getAltitude()||0);var n=this._meterToPoint(this._coordinate,e);return this.getMap().coordToViewPoint(this._coordinate,void 0,n)._add(this.options["dx"],this.options["dy"])},n._meterToPoint=function(e,t){return t},n._autoPan=function(){var e=this.getMap(),t=this.getDOM();if(t&&e&&!e.isMoving()){var n=this._getViewPoint()._round(),o=e.width,r=e.height;if(t&&t.getBoundingClientRect){var i=50,a=t.getBoundingClientRect(),s=0,l=0,c=a.left,u=a.right,d=a.top,h=a.bottom,m=a.width,p=a.height;if(m>0&&p>0){if(c<i&&(s=i-c),0===s&&u+i>o&&(s=-(u+i-o)),d<i&&(l=i-d),0===l&&h+i>r&&(l=-(h+i-r)),0!==s||0!==l){var f=e.getPitch();f>40&&0!==l&&this._coordinate?e.animateTo({center:this._coordinate},{duration:e.options["panAnimationDuration"]}):e.panBy([Math.ceil(s),Math.ceil(l)])}return}}var g=e.viewPointToContainerPoint(n),v=this.getOffset(),y=g.add(v),b=e._viewPointToPrj(n),w=parseInt(t.clientWidth),_=parseInt(t.clientHeight),x=50,C=0,S=0;if(y.x<0?C=-y.x+x:y.x+w>o&&(C=-(y.x+w-o)-x),y.y-_<0?S=Math.abs(y.y-_)+x:y.y+_>r&&(S=r-(y.y+_)-x),w>=o&&(C=o/2-g.x),0!==S||0!==C){var k=g.add(C,S),E=e._containerPointToPoint(k)._sub(e._prjToPoint(e._getPrjCenter())),T=e._pointToPrj(e._prjToPoint(b).sub(E));e._panAnimation(T)}}},n._measureSize=function(e){var t=this._getUIContainer();e.style.position="absolute";var n=e.style.bottom?"bottom":"top";if(e.style.display="",t.appendChild(e),e.getBoundingClientRect){var o=e.getBoundingClientRect();this._size=new cn(o.width,o.height)}else this._size=new cn(e.clientWidth,e.clientHeight);return e.style.display="none",e.style.left="0px",e.style[n]="0px",this._size},n._removePrevDOM=function(){this.onDomRemove&&this.onDomRemove();var e=this.options["eventsToStop"];if(this._singleton()){var t=this.getMap(),n=this._uiDomKey();if(t[n]){e&&mo(t[n],e,Kn);var o=t[n]._uiComponent;o&&o!==this&&o.isVisible()&&o.fire("hide"),Wn(t[n]),o&&!this.hideDom&&o._switchMapEvents("off"),delete t[n]}delete this.__uiDOM}else this.__uiDOM&&(e&&mo(this.__uiDOM,e,Kn),Wn(this.__uiDOM),delete this.__uiDOM);this._resizeObserver&&(this._resizeObserver.disconnect(),delete this._resizeObserver,delete this._domContentRect)},n._uiDomKey=function(){return"__ui_"+this._getClassName()},n._singleton=function(){return this.options["single"]},n._getUIContainer=function(){return this.getMap()._panels["ui"]},n._getClassName=function(){return"UIComponent"},n._switchMapEvents=function(e){var t=this.getMap();if(t){this._mapEventsOn="on"===e;var n=this._getDefaultEvents();if(this.getEvents&&T(n,this.getEvents()),n)for(var o in n)n.hasOwnProperty(o)&&t[e](o,n[o],this)}},n._switchEvents=function(e){var t=this._getOwnerEvents();if(this._owner)for(var n in t)t.hasOwnProperty(n)&&this._owner[e](n,t[n],this)},n._getDefaultEvents=function(){return{"zooming rotate pitch":this.onEvent,zoomend:this.onZoomEnd,moving:this.onMoving,moveend:this.onMoving,resize:this.onResize}},n._getOwnerEvents=function(){var e={};return this._owner&&this._owner instanceof Sa&&(e.positionchange=this.onGeometryPositionChange,e.symbolchange=this._updatePosition),this.getOwnerEvents&&T(e,this.getOwnerEvents()),e},n.onGeometryPositionChange=function(e){this._owner&&this.isVisible()&&(this._showBySymbolChange=!0,this.show(e["target"].getCenter()),delete this._showBySymbolChange)},n.onMoving=function(){this.isVisible()&&this.getMap().isTransforming()&&this._updatePosition()},n.onEvent=function(){this.isVisible()&&this._updatePosition()},n.onZoomEnd=function(){this.isVisible()&&this._setPosition()},n.onResize=function(){this.isVisible()&&this._setPosition()},n.onDomSizeChange=function(){this.isVisible()&&(this._setPosition(),this._collides())},n._updatePosition=function(){if(!this.getMap())return this;var e=this.getMap()._getRenderer();return e.callInNextFrame(this._setPosition.bind(this)),this},n._setPosition=function(){var e=this.getDOM();if(e){e.style[Un]=null;var t=this.getPosition();this._pos=t,e.style[Fn]=this._toCSSTranslate(t)+" scale(1)"}},n._toCSSTranslate=function(e){if(!e)return"";if(_e.any3d){var t=this.getMap(),n=t?t.getBearing():0,o=t?t.getPitch():0,r="";return this.options["pitchWithMap"]&&o&&(r+=" rotateX("+Math.round(o)+"deg)"),this.options["rotateWithMap"]&&n&&(r+=" rotateZ("+Math.round(-n)+"deg)"),"translate3d("+e.x+"px,"+e.y+"px, 0px)"+r}return"translate("+e.x+"px,"+e.y+"px)"},n._observerDomSize=function(e){var t=this;return e&&_e.resizeObserver&&!this._resizeObserver?(this._resizeObserver=new ResizeObserver((function(e){if(e.length){var n=e[0].borderBoxSize;n&&n.length?t._domContentRect={width:n[0].inlineSize,height:n[0].blockSize}:t._domContentRect=e[0].contentRect}else delete t._domContentRect;t.onDomSizeChange&&t.onDomSizeChange()})),this._resizeObserver.observe(e),this):this},n.isSupportZoomFilter=function(){return!1},n.onConfig=function(){return this._updatePosition(),this},t.isSupport=function(e){return!!(e&&P(e.on)&&P(e.off)&&P(e.getCenter))},t}(Po(No));lc.mergeOptions(sc);var cc={containerClass:null,eventsPropagation:!0,draggable:!1,single:!1,content:null,altitude:0,minZoom:0,maxZoom:null,horizontalAlignment:"middle",verticalAlignment:"middle"},uc="mousedown mouseup mouseenter mouseover mouseout mousemove click dblclick contextmenu keypress touchstart touchmove touchend",dc=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o._markerCoord=new $o(t),o}ke(t,e);var n=t.prototype;return n._getClassName=function(){return"UIMarker"},n.setCoordinates=function(e){return this._markerCoord=e,this.fire("positionchange"),this.isVisible()&&(this._coordinate=this._markerCoord,this._setPosition(),this._collides()),this},n.getCoordinates=function(){return this._markerCoord},n.getCenter=function(){return this.getCoordinates()},n.getAltitude=function(){var e=this.getCoordinates()||{};return O(e.z)?e.z:this.options.altitude||0},n.setAltitude=function(e){return O(e)&&this._markerCoord&&(this._markerCoord.z=e,this._updatePosition&&(this._updatePosition(),this._collides())),this},n.setContent=function(e){var t=this.options["content"];return this.options["content"]=e,this.fire("contentchange",{old:t,new:e}),this.isVisible()&&this.show(),this},n.getContent=function(){return this.options["content"]},n.onAdd=function(){this.show()},n.show=function(){return e.prototype.show.call(this,this._markerCoord)},n.flash=function(e,t,n,o){return at.call(this,e,t,n,o)},n.buildOn=function(){var e,t=this.options["content"],n=R(t);return n||P(t)?(e=Vn("div"),n?e.innerHTML=this.options["content"]:t.bind(this)(e)):e=this.options["content"],this.options["containerClass"]&&(e.className=this.options["containerClass"]),this._registerDOMEvents(e),e},n.getOffset=function(){var e=this.getSize(),t=-e.width/2,n=-e.height/2,o=this.options,r=o.horizontalAlignment,i=o.verticalAlignment;return"left"===r?t=-e.width:"right"===r&&(t=0),"top"===i?n=-e.height:"bottom"===i&&(n=0),new Pe(t,n)},n.getTransformOrigin=function(){return"center center"},n.onDomRemove=function(){var e=this.getDOM();this._removeDOMEvents(e)},n.isDragging=function(){return!!this["draggable"]&&this["draggable"].isDragging()},n._registerDOMEvents=function(e){ho(e,uc,this._onDomEvents,this)},n._onDomEvents=function(e){var t=this.getMap()._parseEvent(e,e.type),n=e.type;if("mousedown"===n&&(this._mousedownEvent=e),"mouseup"===n&&(this._mouseupEvent=e),("click"!==n||!this._mouseClickPositionIsChange())&&("touchstart"===n&&(this._touchstartTime=E()),this.fire(e.type,t),"touchend"===n&&_e.touch)){var o=this.getMap().options.clickTimeThreshold||280;E()-this._touchstartTime<o&&this._onDomEvents(T({},e,{type:"click"}))}},n._removeDOMEvents=function(e){mo(e,uc,this._onDomEvents,this)},n._mouseClickPositionIsChange=function(){var e=this._mousedownEvent||{},t=e.x,n=e.y,o=this._mouseupEvent||{},r=o.x,i=o.y;return t!==r||n!==i},n._getConnectPoints=function(){var e=this.getMap(),t=e.coordToContainerPoint(this.getCoordinates()),n=this.getSize(),o=n.width,r=n.height,i=[e.containerPointToCoordinate(t.add(-o/2,0)),e.containerPointToCoordinate(t.add(o/2,0)),e.containerPointToCoordinate(t.add(0,r/2)),e.containerPointToCoordinate(t.add(0,-r/2))];return i},n._getViewPoint=function(){var e=0;if(this._owner){var t=this.getAltitude();t>0&&(e=this._meterToPoint(this._coordinate,t))}return this.getMap().coordToViewPoint(this._coordinate,void 0,e)._add(this.options["dx"],this.options["dy"])},n._getDefaultEvents=function(){return T({},e.prototype._getDefaultEvents.call(this),{"zooming zoomend":this.onZoomFilter})},n._setPosition=function(){this.onZoomFilter(),e.prototype._setPosition.call(this)},n.onZoomFilter=function(){var e=this.getDOM();e&&(this.isVisible()||"none"===e.style.display?this.isVisible()&&"none"===e.style.display&&(e.style.display=""):e.style.display="none")},n.isVisible=function(){var e=this.getMap();if(!e)return!1;if(!this.options["visible"])return!1;var t=e.getZoom(),n=this.options,o=n.minZoom,r=n.maxZoom;if(!M(o)&&t<o||!M(r)&&t>r)return!1;var i=this.getDOM();return i&&!0},n.isSupportZoomFilter=function(){return!0},t}(Uo(lc));dc.mergeOptions(cc);var hc=_e.touch?"touchstart mousedown":"mousedown",mc=function(e){function t(t){return e.call(this,t)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){this.target.on(hc,this._startDrag,this)},n.removeHooks=function(){this.target.off(hc,this._startDrag,this)},n._startDrag=function(e){var t=e["domEvent"];t.touches&&t.touches.length>1||2===t.button||this.isDragging()||(this.target.on("click",this._endDrag,this),this._lastCoord=e["coordinate"],this._lastPoint=e["containerPoint"],this._prepareDragHandler(),this._dragHandler.onMouseDown(e["domEvent"]),this.target.fire("dragstart",e))},n._prepareDragHandler=function(){this._dragHandler=new Zo(this.target.getDOM(),{cancelOn:this._cancelOn.bind(this),ignoreMouseleave:!0}),this._dragHandler.on("mousedown",this._onMouseDown,this),this._dragHandler.on("dragging",this._dragging,this),this._dragHandler.on("mouseup",this._endDrag,this),this._dragHandler.enable()},n._cancelOn=function(e){var t=e.srcElement||e.target,n=t.tagName.toLowerCase();return"button"===n||"input"===n||"select"===n||"option"===n||"textarea"===n},n._onMouseDown=function(e){Kn(e["domEvent"])},n._dragging=function(e){var t=this.target,n=t.getMap(),o=n._parseEvent(e["domEvent"]),r=o["domEvent"];if(!(r.touches&&r.touches.length>1))if(this._isDragging){var i=o["coordinate"],a=o["containerPoint"];this._lastCoord||(this._lastCoord=i),this._lastPoint||(this._lastPoint=a);var s=i.sub(this._lastCoord),l=a.sub(this._lastPoint);this._lastCoord=i,this._lastPoint=a,this.target.setCoordinates(this.target.getCoordinates().add(s)),o["coordOffset"]=s,o["pointOffset"]=l,t.fire("dragging",o)}else this._isDragging=!0},n._endDrag=function(e){var t=this.target,n=t.getMap();if(this._dragHandler&&(t.off("click",this._endDrag,this),this._dragHandler.disable(),delete this._dragHandler),delete this._lastCoord,delete this._lastPoint,this._isDragging=!1,n){var o=n._parseEvent(e["domEvent"]);t&&t._mouseClickPositionIsChange&&t._mouseClickPositionIsChange()&&t.fire("dragend",o)}},n.isDragging=function(){return!!this._isDragging},t}(zo);dc.addInitHook("addHandler","draggable",mc);var pc=/\{ *([\w_]+) *\}/g,fc={containerClass:"maptalks-msgBox",autoPan:!0,autoCloseOn:null,autoOpenOn:"click",width:"auto",minHeight:120,custom:!1,title:null,content:null,enableTemplate:!1},gc=new cn(0,0),vc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n._getClassName=function(){return"InfoWindow"},n.addTo=function(t){return t instanceof Sa&&(t.getInfoWindow()&&t.getInfoWindow()!==this&&t.removeInfoWindow(),t._infoWindow=this),e.prototype.addTo.call(this,t)},n.setContent=function(e){var t=this.options["content"];return this.options["content"]=e,this.fire("contentchange",{old:t,new:e}),this.isVisible()&&this.show(this._coordinate),this},n.getContent=function(){return this.options["content"]},n.setTitle=function(e){var t=e;return this.options["title"]=e,this.fire("contentchange",{old:t,new:e}),this.isVisible()&&this.show(this._coordinate),this},n.getTitle=function(){return this.options["title"]},n.buildOn=function(){var e=P(this.options["content"]),t=R(this.options["content"]);if(this.options["custom"]){if(t||e){var n=Vn("div");return t?(n.innerHTML=this.options["content"],this._replaceTemplate(n)):this.options["content"].bind(this)(n),n}return this._replaceTemplate(this.options["content"]),this.options["content"]}this._bindDomEvents(this.getDOM(),"off");var o=Vn("div");this.options["containerClass"]&&(o.className=this.options["containerClass"]);var r=this._getWindowWidth();o.style.width=O(r)?r+"px":"auto",o.style.bottom="0px";var i='<em class="maptalks-ico"></em>';this.options["title"]&&(i+="<h2>"+this.options["title"]+"</h2>"),i+='<a href="javascript:void(0);" class="maptalks-close">×</a><div class="maptalks-msgContent"></div>',o.innerHTML=i,this._replaceTemplate(o);var a=o.querySelector(".maptalks-msgContent");t||e?t?a.innerHTML=this.options["content"]:this.options["content"].bind(this)(a):a.appendChild(this.options["content"]),this._onCloseBtnClick=this.hide.bind(this);var s=o.querySelector(".maptalks-close");return Zn(s,"click touchend",this._onCloseBtnClick),e||this._replaceTemplate(a),this._bindDomEvents(o,"on"),o},n._replaceTemplate=function(e){if(this.options["enableTemplate"]&&this._owner&&this._owner.getProperties&&e&&e.innerHTML){var t=this._owner.getProperties()||{};if(A(t)){var n=e.innerHTML;e.innerHTML=n.replace(pc,(function(e,n){return t[n]}))}}return this},n.getTransformOrigin=function(){var e=this.getSize();return e.width/2+"px bottom"},n.getOffset=function(){var e=this.getSize(),t=new Pe(-e["width"]/2,0);this.options["custom"]?t._sub(0,e["height"]):t._sub(4,12);var n=this.getOwner();if(n instanceof ss||n instanceof fs){var o,r;if(n instanceof ss)o=n._getPainter(),r=n.getSize();else{var i=n.getGeometries();if(!i||!i.length)return t;o=i[0]._getPainter(),r=i[0].getSize()}if(r||(r=gc),o){var a=o.getFixedExtent();t._add(a.xmax-r.width/2,a.ymin)}else t._add(0,-r.height)}return t},n.show=function(t){return this.getMap()&&this.getMap().options["enableInfoWindow"]?e.prototype.show.call(this,t):this},n.getEvents=function(){if(!this.options["autoCloseOn"])return null;var e={};return e[this.options["autoCloseOn"]]=this.hide,e},n.getOwnerEvents=function(){var e=this.getOwner();if(!this.options["autoOpenOn"]||!e)return null;var t={};return t[this.options["autoOpenOn"]]=this._onAutoOpen,t},n.onRemove=function(){this._onDomMouseout(),this.onDomRemove()},n.onDomRemove=function(){if(this._onCloseBtnClick){var e=this.getDOM(),t=e.childNodes[2];$n(t,"click touchend",this._onCloseBtnClick),delete this._onCloseBtnClick}},n._onAutoOpen=function(e){var t=this,n=this.getOwner();setTimeout((function(){n instanceof ss||n instanceof lc?t.show(n.getCoordinates()):n instanceof fs?t.show(n.findClosest(e.coordinate)):n instanceof us||n instanceof ys?(t.getMap().getScale()>=8&&(e.coordinate=t._rectifyMouseCoordinte(n,e.coordinate)),t.show(e.coordinate)):t.show(e.coordinate)}),1)},n._rectifyMouseCoordinte=function(e,t){var n=this;return e instanceof us?this._rectifyLineStringMouseCoordinate(e,t).coordinate:e instanceof ys?e.getGeometries().map((function(e){return n._rectifyLineStringMouseCoordinate(e,t)})).sort((function(e,t){return e.dis-t.dis}))[0].coordinate:t},n._rectifyLineStringMouseCoordinate=function(e,t){for(var n=this,o=e.getCoordinates().map((function(e){return n.getMap().coordToContainerPoint(e)})),r=this.getMap().coordToContainerPoint(t),i=1/0,a=-1,s=0,l=o.length;s<l;s++){var c=o[s],u=r.distanceTo(c);u<i&&(i=u,a=s)}var d=[];0===a?d.push(o[0],o[1]):a===o.length-1?d.push(o[a-1],o[a]):d.push(o[a-1],o[a],o[a+1]);for(var h=[],m=this.getMap().getSize(),p=m.width,f=m.height,g=0,v=d.length-1;g<v;g++){var y=d[g],b=d[g+1];if(y.x===b.x)for(var w=Math.max(0,Math.min(y.y,b.y)),_=Math.min(f,Math.max(y.y,b.y)),x=w;x<=_;x++)h.push(new Pe(y.x,x));else for(var C=(b.y-y.y)/(b.x-y.x),S=Math.max(0,Math.min(y.x,b.x)),k=Math.min(p,Math.max(y.x,b.x)),E=S;E<=k;E++){var T=C*(E-y.x)+y.y;h.push(new Pe(E,T))}}for(var M=1/0,O=-1,D=0,A=h.length;D<A;D++){var R=h[D],P=r.distanceTo(R);P<M&&(M=P,O=D)}return{dis:M,coordinate:O<0?t:this.getMap().containerPointToCoord(h[O])}},n._getWindowWidth=function(){var e=fc.width,t=this.options["width"];return t||(t=e),t},n._bindDomEvents=function(e,t){if(e){var n=this._getDomEvents(),o="on"===t?ho:mo;for(var r in n)o(e,r,n[r],this)}},n._getDomEvents=function(){return{mouseover:this._onDomMouseover,mouseout:this._onDomMouseout}},n._onDomMouseover=function(e){var t=this.getMap();t&&(t.options["preventWheelScroll"]=!1)},n._onDomMouseout=function(e){var t=this.getMap();t&&(t.options["preventWheelScroll"]=!0)},t}(lc);vc.mergeOptions(fc);var yc="remove hide shapechange positionchange dragend animatestart",bc={width:0,height:0,animation:"fade",containerClass:"maptalks-tooltip",showTimeout:400},wc=function(e){ke(n,e);var t=n.prototype;function n(t,n){var o;return void 0===n&&(n={}),o=e.call(this,n)||this,o._content=t,o}return t._getClassName=function(){return"ToolTip"},t.addTo=function(t){if(n.isSupport(t))return t.on("mousemove",this.onMouseMove,this),t.on("mouseout",this.onMouseOut,this),t.on(yc,this.hideDom,this),e.prototype.addTo.call(this,t);throw new Error("Invalid geometry or UIMarker the tooltip is added to.")},t.setStyle=function(e){return this.options.containerClass=e,this},t.getStyle=function(){return this.options.containerClass},t.getContent=function(){return this._content},t.buildOn=function(){var e=Vn("div"),t=this.options||{};t.height&&(e.style.height=t.height+"px"),t.width&&(e.style.width=t.width+"px");var n=t.containerClass||t.cssName;return!n&&t.height&&(e.style.lineHeight=t.height+"px"),P(this._content)?this._content.bind(this)(e):e.innerHTML='<div class="'+n+'">'+this._content+"</div>",e},t.onMouseOut=function(){clearTimeout(this._timeout),this.isVisible()&&this._removePrevDOM(),this._switchMapEvents("off")},t.onMouseMove=function(e){var t=this;clearTimeout(this._timeout);var n=this.getMap();if(n){var o=n.locateByPoint(e.coordinate,-5,25);0===this.options["showTimeout"]?this.show(o):this._timeout=setTimeout((function(){n&&t.show(o)}),this.options["showTimeout"])}},t.onRemove=function(){clearTimeout(this._timeout),this._owner&&(this._owner.off("mouseover",this.onMouseOver,this),this._owner.off("mouseout",this.onMouseOut,this),this._owner.off(yc,this.hideDom,this))},t.hideDom=function(){return this.hide()},t.onEvent=function(){return e.prototype.onEvent.call(this),this.hideDom(),this},t._getViewPoint=function(){return this.getMap().coordToViewPoint(this._coordinate,void 0,0)._add(this.options["dx"],this.options["dy"])},n}(lc);wc.mergeOptions(bc);var _c={containerClass:"maptalks-menu",animation:null,animationDelay:10,animationOnHide:!1,autoPan:!1,width:160,maxHeight:0,custom:!1,items:[]},xc=function(e){function t(t){return e.call(this,t)||this}ke(t,e);var n=t.prototype;return n._getClassName=function(){return"Menu"},n.addTo=function(e){return e._menu&&e._menu!==this&&e.removeMenu(),e._menu=this,this._owner=e,lc.prototype.addTo.apply(this,arguments)},n.setItems=function(e){return this.options["items"]=e,this},n.getItems=function(){return this.options["items"]||[]},n.buildOn=function(){if(this.options["custom"]){if(R(this.options["items"])){var e=Vn("div");return e.innerHTML=this.options["items"],e}return this.options["items"]}var t=Vn("div");this.options["containerClass"]&&oo(t,this.options["containerClass"]),t.style.width=this._getMenuWidth()+"px";var n=this._createMenuItemDom();return t.appendChild(n),ho(t,"contextmenu",Gn),t},n.getOffset=function(){if(!this.getMap())return null;var e=this.getMap().getSize(),t=this.getMap().viewPointToContainerPoint(this._getViewPoint()),n=this.getSize(),o=0,r=0;return t.x+n["width"]>e["width"]&&(o=-n["width"]),t.y+n["height"]>e["height"]&&(r=-n["height"]),new Pe(o,r)},n.getTransformOrigin=function(){var e=this.getOffset()._multi(-1);return e.x+"px "+e.y+"px"},n.getEvents=function(){return{"_zoomstart _zoomend _movestart _dblclick _click":this._removePrevDOM}},n._createMenuItemDom=function(){var e=this,t=this.getMap(),n=Vn("ul");oo(n,"maptalks-menu-items");var o,r,i=this.getItems();function a(n){return function(o){var r=t._parseEvent(o,"click");r["target"]=e,r["owner"]=e._owner,r["index"]=n;var i=this._callback(r);!1!==i&&(e.hide(),e._owner&&e._owner.fire("closemenu"))}}for(var s=0,l=i.length;s<l;s++){if(o=i[s],"-"===o||"_"===o)r=Vn("li"),oo(r,"maptalks-menu-splitter");else{r=Vn("li");var c=o["item"];P(c)&&(c=c({owner:this._owner,index:s})),r.innerHTML=c,r._callback=o["click"],ho(r,"click",a(s))}n.appendChild(r)}var u=this.options["maxHeight"]||0;return u>0&&to(n,"max-height: "+u+"px; overflow-y: auto;"),n},n._getMenuWidth=function(){var e=160,t=this.options["width"]||e;return t},t}(lc);xc.mergeOptions(_c);var Cc={setMenu:function(e){return this._menuOptions=e,this._menu?this._menu.setOptions(e):this.on("contextmenu",this._defaultOpenMenu,this),this},getMenu:function(){return this._menu},openMenu:function(e){var t=this instanceof La?this:this.getMap();return e||(e=this.getCenter()),this._menu?this._menu.show(e):this._menuOptions&&t&&(this._bindMenu(),this._menu.show(e)),this.fire("openmenu",{coordinate:e}),this},setMenuItems:function(e){return this._menuOptions||(this._menuOptions={}),Array.isArray(e)&&(this._menuOptions["custom"]=!1),this._menuOptions["items"]=e,this.setMenu(this._menuOptions),this},getMenuItems:function(){return this._menu?this._menu.getItems():this._menuOptions&&this._menuOptions["items"]||[]},closeMenu:function(){return this._menu&&this._menu.hide(),this.fire("closemenu",{}),this},removeMenu:function(){return this.off("contextmenu",this._defaultOpenMenu,this),this._unbindMenu(),delete this._menuOptions,this.fire("removemenu",{}),this},_bindMenu:function(){return this._menuOptions?(this._menu=new xc(this._menuOptions),this._menu.addTo(this),this):this},_unbindMenu:function(){return this._menu&&(this.closeMenu(),this._menu.remove(),delete this._menu),this},_defaultOpenMenu:function(e){return this.openMenu(e["coordinate"]),!1}};La.include(Cc),Sa.include(Cc);var Sc=function(e){function t(t){return t&&t["position"]&&!R(t["position"])&&(t["position"]=T({},t["position"])),e.call(this,t)||this}ke(t,e);var n=t.prototype;return n.addTo=function(e){if(this.remove(),!e.options["control"])return this;this._map=e;var t=e._panels.control;return this.__ctrlContainer=Vn("div"),to(this.__ctrlContainer,"position:absolute;overflow:visible;"),this.update(),t.appendChild(this.__ctrlContainer),this.onAdd&&this.onAdd(),this.fire("add",{dom:t}),this},n.update=function(){return this.__ctrlContainer.innerHTML="",this._controlDom=this.buildOn(this.getMap()),this._controlDom&&(this._updatePosition(),this.__ctrlContainer.appendChild(this._controlDom)),this},n.getMap=function(){return this._map},n.getPosition=function(){return T({},this._parse(this.options["position"]))},n.setPosition=function(e){return R(e)?this.options["position"]=e:this.options["position"]=T({},e),this._updatePosition(),this},n.getContainerPoint=function(){var e,t,n=this.getPosition(),o=this.getMap().getSize();return M(n["left"])?M(n["right"])||(e=o["width"]-parseInt(n["right"])):e=parseInt(n["left"]),M(n["top"])?M(n["bottom"])||(t=o["height"]-parseInt(n["bottom"])):t=parseInt(n["top"]),new Pe(e,t)},n.getContainer=function(){return this.__ctrlContainer},n.getDOM=function(){return this._controlDom},n.show=function(){return this.__ctrlContainer.style.display="",this},n.hide=function(){return this.__ctrlContainer.style.display="none",this},n.isVisible=function(){return this.__ctrlContainer&&""===this.__ctrlContainer.style.display},n.remove=function(){return this._map?(Wn(this.__ctrlContainer),this.onRemove&&this.onRemove(),delete this._map,delete this.__ctrlContainer,delete this._controlDom,this.fire("remove"),this):this},n._parse=function(e){var n=e;return R(e)&&(n=t["positions"][n]),n},n._updatePosition=function(){var e=this.getPosition();for(var t in e||(e={top:20,left:20}),e)e.hasOwnProperty(t)&&(e[t]=parseInt(e[t]),this.__ctrlContainer.style[t]=e[t]+"px");this.fire("positionchange",{position:T({},e)})},t}(Po(No));Sc.positions={"top-left":{top:20,left:20},"top-right":{top:20,right:20},"bottom-left":{bottom:20,left:20},"bottom-right":{bottom:20,right:20}},La.mergeOptions({control:!0}),La.include({addControl:function(e){return this._containerDOM.getContext||e.addTo(this),this},removeControl:function(e){return e&&e.getMap()===this?(e.remove(),this):this}});var kc={position:{bottom:0,left:0},content:'<a href="http://maptalks.org" target="_blank">maptalks</a>'},Ec="addlayer removelayer setbaselayer baselayerremove",Tc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(){return this._attributionContainer=Vn("div"),this._attributionContainer.className="maptalks-attribution",this._update(),this._attributionContainer},n.onAdd=function(){this.getMap().on(Ec,this._update,this)},n.onRemove=function(){this.getMap().off(Ec,this._update,this)},n._update=function(){var e=this.getMap();if(e){var t=e._getLayers((function(e){return e.options["attribution"]})).reverse().map((function(e){return e.options["attribution"]})),n=this.options["content"]+(t.length>0?" - "+t.join(", "):"");this._attributionContainer.innerHTML='<span style="padding:0px 4px">'+n+"</span>"}},t}(Sc);Tc.mergeOptions(kc),La.mergeOptions({attribution:!0}),La.addOnLoadHook((function(){var e=this.options["attribution"]||this.options["attributionControl"];e&&(this.attributionControl=new Tc(e),this.addControl(this.attributionControl))}));var Mc={position:{top:120,left:20}},Oc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(e){var t=this._getCompass();return this._compass=t,this._registerDomEvents(),e.on("resize moving moveend zooming zoomend rotate rotateend dragrotating dragrotateend viewchange",this._rotateCompass,this),t},n.onAdd=function(){this._rotateCompass()},n._getCompass=function(){var e=Vn("div","maptalks-compass");return e},n._registerDomEvents=function(){ho(this._compass,"click",this._resetView,this)},n._rotateCompass=function(){var e=this.getMap().getBearing().toFixed(1);e<=180&&(e*=-1),e!==this._bearing&&(this._bearing=e,to(this._compass,"transform: rotate("+this._bearing+"deg);"))},n.onRemove=function(){this.getMap().off("resize moving moveend zooming zoomend rotate rotateend dragrotating dragrotateend viewchange",this._rotateCompass,this),delete this._compass,delete this._bearing},n._resetView=function(){var e={bearing:0};this.getMap().animateTo(e)},t}(Sc);Oc.mergeOptions(Mc),La.mergeOptions({compassControl:!1}),La.addOnLoadHook((function(){this.options["compassControl"]&&(this.compassControl=new Oc(this.options["compassControl"]),this.addControl(this.compassControl))}));var Dc={position:"top-right",baseTitle:"Base Layers",overlayTitle:"Layers",excludeLayers:[],containerClass:"maptalks-layer-switcher"},Ac=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(){var e=this.container=Vn("div",this.options["containerClass"]),t=this.panel=Vn("div","panel"),n=this.button=Vn("button");return e.appendChild(n),e.appendChild(t),e},n.onAdd=function(){ho(this.button,"mouseover",this._show,this),ho(this.panel,"mouseleave",this._hide,this),ho(this.getMap(),"click",this._hide,this)},n.onRemove=function(){this.panel&&(mo(this.button,"mouseover",this._show,this),mo(this.panel,"mouseleave",this._hide,this),mo(this.getMap(),"click",this._hide,this),Wn(this.panel),Wn(this.button),delete this.panel,delete this.button,delete this.container)},n._show=function(){no(this.container,"shown")||(oo(this.container,"shown"),this._createPanel())},n._hide=function(e){this.panel.contains(e.toElement||e.relatedTarget)||ro(this.container,this.options["containerClass"])},n._createPanel=function(){this.panel.innerHTML="";var e=Vn("ul");this.panel.appendChild(e),this._renderLayers(this.getMap(),e)},n._renderLayers=function(e,t){var n=this,o=e.getBaseLayer(),r=e.getLayers(),i=r.length;if(o){var a=o.layers||[o],s=Vn("li","group"),l=Vn("ul"),c=Vn("label");c.innerHTML=this.options["baseTitle"],s.appendChild(c);for(var u=0,d=a.length;u<d;u++){var h=a[u];this._isExcluded(h)&&(l.appendChild(this._renderLayer(a[u],!0)),s.appendChild(l),t.appendChild(s))}}if(i){var m=Vn("li","group"),p=Vn("ul"),f=Vn("label"),g=Vn("input");g.type="checkbox",g.checked=!0,f.innerHTML=this.options["overlayTitle"],m.appendChild(g),m.appendChild(f);for(var v=function(e){var t=e.target.checked,n=e.target.parentNode;if(n){var o=n.getElementsByTagName("ul")[0];if(o){var r=function(e){var n=e._layer;n&&n[t?"show":"hide"]()},i=function(e){var n=e._layer,o=e.childNodes[0];o&&(o.checked=t),n&&n[t?"show":"hide"]()};r(n),o.childNodes.forEach((function(e){i(e);var t=e.getElementsByTagName("ul")[0];t&&(r(e),t.childNodes.forEach((function(e){i(e)})))}))}}},y=0;y<i;y++){var b=r[y];this._isExcluded(b)&&(b.getLayers?function(){var e=Vn("li","group"),t=Vn("ul"),o=Vn("label"),r=Vn("input");o.innerHTML=b.getId(),r.type="checkbox",r.checked=b.isVisible(),r.onchange=v,e.appendChild(r),e.appendChild(o),e.appendChild(t),e._layer=b,p.appendChild(e);var i=b.getLayers()||[];i.forEach((function(e){t.appendChild(n._renderLayer(e,!1,r.checked))}))}():p.appendChild(this._renderLayer(b)),b&&!b.isVisible()&&(g.checked=!1))}m.appendChild(p),t.appendChild(m),g.onchange=v}},n._isExcluded=function(e){var t=e.getId(),n=this.options["excludeLayers"];return!(n.length&&n.indexOf(t)>=0)},n._renderLayer=function(e,t,n){var o=this;void 0===n&&(n=!0);var r=Vn("li","layer"),i=Vn("label"),a=Vn("input"),s=this.getMap(),l=e.options["visible"];e.options["visible"]=!0;var c=e.isVisible();return e.options["visible"]=l,r.className="layer",t?(a.type="radio",a.name="base"):a.type="checkbox",a.checked=l&&c,n||(a.checked=!1),c||a.setAttribute("disabled","disabled"),a.onchange=function(t){if("radio"===t.target.type){var n=s.getBaseLayer(),r=n.layers;if(r)for(var i=0,a=r.length;i<a;i++){var l=r[i];l[l===e?"show":"hide"]()}else n.isVisible()||n.show();s._fireEvent("setbaselayer")}else e[t.target.checked?"show":"hide"]();o.fire("layerchange",{target:e})},r.appendChild(a),i.innerHTML=e.getId(),r.appendChild(i),r._layer=e,r},t}(Sc);Ac.mergeOptions(Dc),La.mergeOptions({layerSwitcherControl:!1}),La.addOnLoadHook((function(){this.options["layerSwitcherControl"]&&(this.layerSwitcherControl=new Ac(this.options["layerSwitcherControl"]),this.addControl(this.layerSwitcherControl))}));var Rc={level:4,position:{right:1,bottom:1},size:[300,200],maximize:!0,symbol:{lineWidth:3,lineColor:"#1bbc9b",polygonFill:"#1bbc9b",polygonOpacity:.4},containerClass:"maptalks-overview",buttonClass:"maptalks-overview-button"},Pc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(){var e=this.options["size"];this.options["maximize"]||(e=[0,0]);var t=Vn("div"),n=this.mapContainer=Vn("div");n.style.width=e[0]+"px",n.style.height=e[1]+"px",n.className=this.options["containerClass"];var o=this.button=Vn("div");return o.className=this.options["buttonClass"],t.appendChild(n),t.appendChild(o),t},n.onAdd=function(){this.options["maximize"]&&this._createOverview(),this.getMap().on("resize moving zooming rotate dragrotating viewchange",this._update,this).on("setbaselayer",this._updateBaseLayer,this).on("spatialreferencechange",this._updateSpatialReference,this),ho(this.button,"click",this._onButtonClick,this),this._updateButtonText()},n.onRemove=function(){this.getMap().off("resize moving zooming rotate dragrotating viewchange",this._update,this).off("setbaselayer",this._updateBaseLayer,this).off("spatialreferencechange",this._updateSpatialReference,this),this._overview&&(this._overview.remove(),delete this._overview,delete this._perspective),mo(this.button,"click",this._onButtonClick,this)},n.maxmize=function(){var e=this.options["size"],t=this.mapContainer;return t.style.width=e[0]+"px",t.style.height=e[1]+"px",this._createOverview(),this},n.minimize=function(){this._overview&&this._overview.remove(),delete this._overview,delete this._perspective;var e=this.mapContainer;return e.style.width="0px",e.style.height="0px",this},n.getOverviewMap=function(){return this._overview},n._onButtonClick=function(){this._overview?this.minimize():this.maxmize(),this._updateButtonText()},n._updateButtonText=function(){this._overview?this.button.innerHTML="-":this.button.innerHTML="+"},n._createOverview=function(){var e=this.getMap(),t=this.mapContainer,n=e.config();T(n,{center:e.getCenter(),zoom:this._getOverviewZoom(),zoomAnimationDuration:150,pitch:0,bearing:0,scrollWheelZoom:!1,checkSize:!1,doubleClickZoom:!1,touchZoom:!1,control:!1,draggable:!1,maxExtent:null}),this._overview=new La(t,n),this._updateBaseLayer(),this._perspective=new os(this._getPerspectiveCoords(),{draggable:!0,cursor:"move",symbol:this.options["symbol"]}).on("dragend",this._onDragEnd,this),new Js("perspective_layer",this._perspective).addTo(this._overview),this.fire("load")},n._getOverviewZoom=function(){var e=this.getMap(),t=e.getZoom(),n=e.getMinZoom(),o=this.options["level"];if(o>0){for(var r=o;r>0;r--)if(t-r>=n)return t-r}else for(var i=o;i<0;i++)if(t-i>=n)return t-i;return t},n._onDragEnd=function(){var e=this._perspective.getCenter();this._overview.setCenter(e),this.getMap().panTo(e)},n._getPerspectiveCoords=function(){var e=this.getMap(),t=e.getProjection();return e.getContainerExtent().toArray().map((function(n){if(t){var o=e._containerPointToPrj(n);return e._fixPrjOnWorldWide(o),t.unproject(o)}return e.containerPointToCoordinate(n)}))},n._update=function(){if(this._overview){Xn(this._overview._containerDOM);var e=this._getPerspectiveCoords();this._perspective.setCoordinates(e),this._overview.setCenterAndZoom(this.getMap().getCenter(),this._getOverviewZoom())}},n._updateSpatialReference=function(){if(this._overview){var e=this.getMap(),t=e.options["spatialReference"];this._overview.setSpatialReference(t)}},n._updateBaseLayer=function(){if(this._overview){var e=this.getMap(),t=e.getBaseLayer();if(t){var n=t.layers,o=0;if(n)for(var r=0,i=n.length;r<i;r++){var a=n[r];if(a.isVisible()){o=r;break}}var s=t.toJSON(),l=null;n?(l=s.layers[o].options,l.visible=!0):l=s.options,this._overview.setMinZoom(l.minZoom||null).setMaxZoom(l.maxZoom||null),delete l.minZoom,delete l.maxZoom,delete s.options.canvas,s.options.visible=!0,s.options.renderer="canvas";var c=Aa.fromJSON(s);for(var u in t)P(t[u])&&t.hasOwnProperty(u)&&t[u]!==t.constructor.prototype[u]&&(c[u]=t[u]);this._overview.setBaseLayer(c)}else this._overview.setBaseLayer(null)}},t}(Sc);Pc.mergeOptions(Rc),La.mergeOptions({overviewControl:!1}),La.addOnLoadHook((function(){this.options["overviewControl"]&&(this.overviewControl=new Pc(this.options["overviewControl"]),this.addControl(this.overviewControl))}));var Ic={position:"top-right",draggable:!0,custom:!1,content:"",closeButton:!0},zc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(){var e;if(this.options["custom"])R(this.options["content"])?(e=Vn("div"),e.innerHTML=this.options["content"]):e=this.options["content"];else{if(e=Vn("div","maptalks-panel"),this.options["closeButton"]){var t=Vn("a","maptalks-close");t.innerText="×",t.href="javascript:;",t.onclick=function(){e.style.display="none"},e.appendChild(t)}var n=Vn("div","maptalks-panel-content");n.innerHTML=this.options["content"],e.appendChild(n)}return this.draggable=new Zo(e,{cancelOn:this._cancelOn.bind(this),ignoreMouseleave:!0}),this.draggable.on("dragstart",this._onDragStart,this).on("dragging",this._onDragging,this).on("dragend",this._onDragEnd,this),this.options["draggable"]&&this.draggable.enable(),e},n.update=function(){return this.draggable&&(this.draggable.disable(),delete this.draggable),Sc.prototype.update.call(this)},n.setContent=function(e){var t=this.options["content"];return this.options["content"]=e,this.fire("contentchange",{old:t,new:e}),this.isVisible()&&this.update(),this},n.getContent=function(){return this.options["content"]},n._cancelOn=function(e){var t=e.srcElement||e.target,n=t.tagName.toLowerCase();return"button"===n||"input"===n||"select"===n||"option"===n||"textarea"===n},n._onDragStart=function(e){this._startPos=e["mousePos"],this._startPosition=T({},this.getPosition()),this.fire("dragstart",e)},n._onDragging=function(e){var t=e["mousePos"],n=t.sub(this._startPos),o=this._startPosition,r=this.getPosition();M(r["top"])||(r["top"]=parseInt(o["top"])+n.y),M(r["bottom"])||(r["bottom"]=parseInt(o["bottom"])-n.y),M(r["left"])||(r["left"]=parseInt(o["left"])+n.x),M(r["right"])||(r["right"]=parseInt(o["right"])-n.x),this.setPosition(r),this.fire("dragging",e)},n._onDragEnd=function(e){delete this._startPos,delete this._startPosition,this.fire("dragend",e)},n._getConnectPoints=function(){var e=this.getMap(),t=this.getContainerPoint(),n=this.getDOM(),o=parseInt(n.clientWidth),r=parseInt(n.clientHeight),i=[e.containerPointToCoordinate(t.add(o/2,0)),e.containerPointToCoordinate(t.add(o,r/2)),e.containerPointToCoordinate(t.add(o/2,r)),e.containerPointToCoordinate(t.add(0,r/2))];return i},t}(Sc);zc.mergeOptions(Ic);var Nc={position:{top:156,left:20},view:null},Lc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(){var e=this._getReset();return this._reset=e,this._registerDomEvents(),e},n.onAdd=function(){this._view=this.options.view?this.options.view:this.getMap().getView()},n.setView=function(e){this._view=e},n._getReset=function(){var e=Vn("div","maptalks-reset");return e},n._registerDomEvents=function(){ho(this._reset,"click",this._resetView,this)},n.onRemove=function(){delete this._reset,delete this._view},n._resetView=function(){this.getMap().setView(this._view)},t}(Sc);Lc.mergeOptions(Nc),La.mergeOptions({resetControl:!1}),La.addOnLoadHook((function(){this.options["resetControl"]&&(this.resetControl=new Lc(this.options["resetControl"]),this.addControl(this.resetControl))}));var Hc={position:"bottom-left",maxWidth:100,metric:!0,imperial:!1,containerClass:null},Fc="zoomend moving moveend",Bc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(e){return this._map=e,this._scaleContainer=Vn("div",this.options["containerClass"]),this._addScales(),e.on(Fc,this._update,this),this._map._loaded&&this._update(),this._scaleContainer},n.onRemove=function(){this.getMap().off(Fc,this._update,this)},n._addScales=function(){var e="border: 2px solid #000000;border-top: none;line-height: 1.1;padding: 0px;color: #000000;font-size: 11px;text-align:center;white-space: nowrap;overflow: hidden;-moz-box-sizing: content-box;box-sizing: content-box;background: #fff; background: rgba(255, 255, 255, 0);";this.options["metric"]&&(this._mScale=jn("div",this.options["containerClass"]?null:e,this._scaleContainer)),this.options["imperial"]&&(this._iScale=jn("div",this.options["containerClass"]?null:e,this._scaleContainer))},n._update=function(){var e=this._map,t=e.pixelToDistance(this.options["maxWidth"],0);this._updateScales(t)},n._updateScales=function(e){this.options["metric"]&&e&&this._updateMetric(e),this.options["imperial"]&&e&&this._updateImperial(e)},n._updateMetric=function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},n._updateImperial=function(e){var t,n,o,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mile",n/t)):(o=this._getRoundNum(r),this._updateScale(this._iScale,o+" feet",o/r))},n._updateScale=function(e,t,n){e["style"]["width"]=Math.round(this.options["maxWidth"]*n)+"px",e["innerHTML"]=t},n._getRoundNum=function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n},t}(Sc);Bc.mergeOptions(Hc),La.mergeOptions({scaleControl:!1}),La.addOnLoadHook((function(){this.options["scaleControl"]&&(this.scaleControl=new Bc(this.options["scaleControl"]),this.addControl(this.scaleControl))}));var Uc={height:28,vertical:!1,position:"top-right",reverseMenu:!1,items:{}},Vc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(e){this._map=e;var t=Vn("div"),n=Vn("ul","maptalks-toolbar-hx");t.appendChild(n),this.options["vertical"]?oo(t,"maptalks-toolbar-vertical"):oo(t,"maptalks-toolbar-horizonal");var o=this;function r(e,t,n,r){var i=o._getItems()[t];return function(o){return Kn(o),e({target:i,index:t,childIndex:n,dom:r})}}var i=this.options["items"];if(Ge(i))for(var a=0,s=i.length;a<s;a++){var l=i[a],c=Vn("li");if(28!==this.options["height"]&&(c.style.lineHeight=this.options["height"]+"px"),c.style.height=this.options["height"]+"px",c.style.cursor="pointer",so(l["item"])){c.style.textAlign="center";var u=lo("div",l["item"]);c.innerHTML='<div style="margin-top:'+(this.options["height"]-u["height"])/2+'px;">'+l["item"]+"</div>"}else c.innerHTML=l["item"];if(l["click"]&&ho(c,"click",r(l["click"],a,null,c)),Ge(l["children"])){var d=this._createDropMenu(a);c.appendChild(d),c._menu=d,ho(c,"mouseover",(function(){this._menu.style.display=""})),ho(c,"mouseout",(function(){this._menu.style.display="none"}))}n.appendChild(c)}return t},n._createDropMenu=function(e){var t=this;function n(e,n,o){var r=t._getItems()[n]["children"][o];return function(t){return Kn(t),e({target:r,index:n,childIndex:o})}}var o=Vn("div","maptalks-dropMenu"),r=this._getItems(),i=r.length,a=Vn("ul"),s=r[e]["children"];e===i-1&&s&&(o.style.cssText="right: 0px;",a.style.cssText="right: 0px;position: absolute;",this.options["reverseMenu"]&&(a.style.bottom=0)),o.appendChild(Vn("em","maptalks-ico"));for(var l=0,c=0,u=s.length;c<u;c++){var d=gn(s[c]["item"],"12px");d.width>l&&(l=d.width)}for(var h=0,m=s.length;h<m;h++){var p=s[h],f=Vn("li");f.innerHTML='<a href="javascript:;">'+p["item"]+"</a>",f.style.cursor="pointer",f.style.width=l+24+"px",ho(f.childNodes[0],"click",n(p["click"],e,h)),a.appendChild(f)}if(this.options["vertical"]){var g=l<95?95:l;this.options["reverseMenu"]?o.style.right=-(g+20+2)+"px":o.style.left=-(g+20+2)+"px"}else this.options["reverseMenu"]?o.style.bottom="28px":o.style.top="29px";return o.appendChild(a),o.style.display="none",o},n._getItems=function(){return this.options["items"]||[]},t}(Sc);Vc.mergeOptions(Uc);var jc={position:"top-left",zoomLevel:!0,seamless:!1},Wc=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.buildOn=function(e){var t=this.options,n=Vn("div","maptalks-zoom");if(t["zoomLevel"]){var o=Vn("span","maptalks-zoom-zoomlevel"),r=Vn("span","maptalks-zoom-zoomlevel-text");o.appendChild(r),n.appendChild(o),this._levelDOM=r}var i=Vn("div","maptalks-zoom-slider"),a=Vn("a","maptalks-zoom-zoomin");a.href="javascript:;",i.appendChild(a),this._zoomInButton=a;var s=Vn("a","maptalks-zoom-zoomout");return s.href="javascript:;",i.appendChild(s),this._zoomOutButton=s,n.appendChild(i),e.on("_zoomend _zooming _zoomstart _spatialreferencechange",this._update,this),this._update(),this._registerDomEvents(),n},n.onRemove=function(){this.getMap().off("_zoomend _zooming _zoomstart _spatialreferencechange",this._update,this)},n._update=function(){this._updateText()},n._updateText=function(){if(this._levelDOM){var e=this.getMap(),t=e.getZoom();D(t)||(t=Math.floor(10*t)/10),this._levelDOM.innerHTML=t}},n._registerDomEvents=function(){this._zoomInButton&&ho(this._zoomInButton,"click",this._onZoomInClick,this),this._zoomOutButton&&ho(this._zoomOutButton,"click",this._onZoomOutClick,this)},n._onZoomInClick=function(e){Gn(e),this.getMap().zoomIn()},n._onZoomOutClick=function(e){Gn(e),this.getMap().zoomOut()},t}(Sc);Wc.mergeOptions(jc),La.mergeOptions({zoomControl:!1}),La.addOnLoadHook((function(){this.options["zoomControl"]&&(this.zoomControl=new Wc(this.options["zoomControl"]),this.addControl(this.zoomControl))}));var Zc=Object.freeze({Control:Sc,Attribution:Tc,Compass:Oc,LayerSwitcher:Ac,Overview:Pc,Panel:zc,Reset:Lc,Scale:Bc,Toolbar:Vc,Zoom:Wc}),$c=function(){function e(e,t,n,o){Array.isArray(e)?(this.scale={x:e[0],y:e[1]},this.origin={x:e[2],y:e[3]}):(this.scale={x:e,y:t},this.origin={x:n,y:o})}return e.getDefault=function(e){return"baidu"===e["code"].toLowerCase()?"baidu":e["code"].toLowerCase()==="EPSG:4326".toLowerCase()?"tms-global-geodetic":"identity"===e["code"].toLowerCase()?[1,-1,0,0]:"web-mercator"},e}(),qc=6378137*Math.PI;T($c,{"web-mercator":new $c([1,-1,-qc,qc]),"tms-global-mercator":new $c([1,1,-qc,-qc]),"tms-global-geodetic":new $c([1,1,-180,-90]),baidu:new $c([1,1,0,0])});var Gc=function(){function e(e,t,n,o){this.map=e,this.tileSize=o,this.fullExtent=n,this.prepareTileInfo(t,n),this._xScale=n["right"]>=n["left"]?1:-1,this._yScale=n["top"]>=n["bottom"]?1:-1;var r=e.getGLRes();this._pointOrigin=e._prjToPointAtRes(new Pe(this.tileSystem["origin"]),r),this._glRes=r}var t=e.prototype;return t.prepareTileInfo=function(e,t){if(R(e)?e=$c[e.toLowerCase()]:Array.isArray(e)&&(e=new $c(e)),!e)throw new Error("Invalid TileSystem");this.tileSystem=e;var n=t["right"]>t["left"]?1:-1,o=t["top"]>t["bottom"]?-1:1,r=e["origin"]["x"],i=e["origin"]["y"];this.transformation=new lr([n,o,r,i])},t._getTileNum=function(e,t){var n=this.tileSystem,o=this["tileSize"],r=1e-7,i=Math.floor(r*n["scale"]["x"]+e.x/(o["width"]*t)),a=Math.ceil(r*n["scale"]["y"]+e.y/(o["height"]*t));return{x:n["scale"]["x"]*i,y:n["scale"]["y"]*a}},t.getTileIndex=function(e,t,n){var o=this.tileSystem,r=this.transformation.transform(e,1),i=this._getTileNum(r,t);return o["scale"]["x"]<0&&(i["x"]-=1),o["scale"]["y"]>0&&(i["y"]-=1),this.getNeighorTileIndex(i["x"],i["y"],0,0,t,n)},t.getNeighorTileIndex=function(e,t,n,o,r,i){var a=this.tileSystem,s=e+a["scale"]["x"]*n,l=t-a["scale"]["y"]*o,c=!1,u=s,d=l,h=this._getTileFullIndex(r);return i&&(!0!==i&&"x"!==i||(h["xmax"]===h["xmin"]?s=h["xmin"]:s<h["xmin"]?(s=h["xmax"]-(h["xmin"]-s)%(h["xmax"]-h["xmin"]),s===h["xmax"]&&(s=h["xmin"])):s>=h["xmax"]&&(s=h["xmin"]+(s-h["xmin"])%(h["xmax"]-h["xmin"]))),!0!==i&&"y"!==i||(h["ymax"]===h["ymin"]?l=h["ymin"]:l>=h["ymax"]?l=h["ymin"]+(l-h["ymin"])%(h["ymax"]-h["ymin"]):l<h["ymin"]&&(l=h["ymax"]-(h["ymin"]-l)%(h["ymax"]-h["ymin"]),l===h["ymax"]&&(l=h["ymin"])))),(s<h["xmin"]||s>h["xmax"]||l>h["ymax"]||l<h["ymin"])&&(c=!0),{x:s,y:l,idx:u,idy:d,out:c}},t._getTileFullIndex=function(e){if(this._tileFullIndex||(this._tileFullIndex={}),this._tileFullIndex[e])return this._tileFullIndex[e];var t=this.fullExtent,n=this.transformation,o=this._getTileNum(n.transform(new $o(t["left"],t["top"]),1),e),r=this._getTileNum(n.transform(new $o(t["right"],t["bottom"]),1),e),i=this.tileSystem;return i["scale"]["x"]<0&&(o.x-=1,r.x-=1),i["scale"]["y"]>0&&(o.y-=1,r.y-=1),this._tileFullIndex[e]=new ar(o,r),this._tileFullIndex[e]},t.getTilePrjNW=function(e,t,n,o){var r=this.tileSystem,i=this["tileSize"],a=r["origin"]["y"]+this._yScale*r["scale"]["y"]*(t+(1===r["scale"]["y"]?1:0))*n*i["height"],s=r["origin"]["x"]+this._xScale*r["scale"]["x"]*(e+(1===r["scale"]["x"]?0:1))*n*i["width"];return o?(o.set(s,a),o):new $o(s,a)},t.getTilePointNW=function(e,t,n,o){var r=this._glRes/n,i=this.tileSystem,a=this["tileSize"],s=this._pointOrigin.y*r+this._yScale*i["scale"]["y"]*(t+(1===i["scale"]["y"]?1:0))*a["height"],l=this._pointOrigin.x*r+this._xScale*i["scale"]["x"]*(e+(1===i["scale"]["x"]?0:1))*a["width"];return o?(o.set(l,s),o):new Pe(l,s)},t.getTilePrjSE=function(e,t,n,o){var r=this.tileSystem,i=this["tileSize"],a=r["origin"]["y"]+this._yScale*r["scale"]["y"]*(t+(1===r["scale"]["y"]?0:1))*n*i["height"],s=r["origin"]["x"]+this._xScale*r["scale"]["x"]*(e+(1===r["scale"]["x"]?1:0))*n*i["width"];return o?(o.set(s,a),o):new $o(s,a)},t.getTilePointSE=function(e,t,n,o){var r=this._glRes/n,i=this.tileSystem,a=this["tileSize"],s=this._pointOrigin.y*r+this._yScale*i["scale"]["y"]*(t+(1===i["scale"]["y"]?0:1))*a["height"],l=this._pointOrigin.x*r+this._xScale*i["scale"]["x"]*(e+(1===i["scale"]["x"]?1:0))*a["width"];return o?(o.set(l,s),o):new Pe(l,s)},t.getTilePrjExtent=function(e,t,n){var o=this.getTilePrjNW(e,t,n),r=this.getTilePrjSE(e,t,n);return new ar(o,r)},e}(),Kc=1,Yc=new Pe(0,0),Jc=32,Xc="undefined"!==typeof Set,Qc=function(){function e(){this._table=Xc?new Set:{}}var t=e.prototype;return t.add=function(e){Xc?this._table.add(e):this._table[e]=!0},t.has=function(e){return Xc?this._table.has(e):this._table[e]},t.reset=function(){Xc?this._table.clear():this._table={}},e}(),eu={urlTemplate:null,subdomains:null,errorUrl:null,repeatWorld:!0,background:!0,loadingLimitOnInteracting:3,tileRetryCount:0,placeholder:!1,crossOrigin:null,tileSize:[256,256],offset:[0,0],tileSystem:null,fadeAnimation:!F,fadeDuration:1e3/60*10,debug:!1,spatialReference:null,maxCacheSize:256,renderer:function(){return _e.webgl?"gl":"canvas"}(),clipByPitch:!0,maxAvailableZoom:null,cascadeTiles:!0,zoomOffset:0,pyramidMode:1,decodeImageInWorker:!1,tileLimitPerFrame:0,tileStackStartDepth:7,tileStackDepth:3,awareOfTerrain:!0},tu=/\{ *([\w_]+) *\}/g,nu=new Pe(0,0),ou=new Pe(0,0),ru=new Pe(0,0),iu=new Pe(0,0),au=new Pe(0,0),su=new Pe(0,0),lu=[[0,0,0],[0,0,0]],cu=[0,0,0],uu=[0,0,0],du=[],hu=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e),t.fromJSON=function(e){return e&&"TileLayer"===e["type"]?new t(e["id"],e["options"]):null};var n=t.prototype;return n.forceReload=function(){return this.clear(),this.load(),this},n.getTileSize=function(){if(this._tileSize)return this._tileSize;var e=this.options["tileSize"];return O(e)&&(e=[e,e]),this._tileSize=new cn(e),this._tileSize},n.getTiles=function(e,t){return this._coordCache={},this._isPyramidMode()?this._getPyramidTiles(e,t):this._getCascadeTiles(e,t)},n._isPyramidMode=function(){var e=this.getSpatialReference();return!this._disablePyramid&&!this._hasOwnSR&&this.options["pyramidMode"]&&e&&e.isPyramid()},n._getTileFullExtent=function(){if(this._tileFullExtent)return this._tileFullExtent;var e=this.getSpatialReference(),t=e.getFullExtent(),n=e.getResolution(0),o=this.getMap();return this._tileFullExtent=t.convertTo((function(e){return o._prjToPointAtRes(e,n,Yc)})),this._tileFullExtent},n._getRootNodes=function(e){var t=this.getMap();if(this._rootNodes){var n=this._rootNodes,o=n.tiles,r=n.mapWidth,i=n.mapHeight;if(t.width!==r||t.height!==i){for(var a=this._getRootError(),s=0;s<o.length;s++)o[s].error=a;this._rootNodes.mapWidth=t.width,this._rootNodes.mapHeight=t.height}for(var l=0;l<o.length;l++)o[l].offset[0]=e[0],o[l].offset[1]=e[1];return this._rootNodes}var c=this.getSpatialReference(),u=c.getResolution(0),d=this._getTileConfig(),h=c.getFullExtent(),m=d.tileSystem,p=m.origin,f=m.scale,g=d.getTilePrjExtent(0,0,u),v=g.getWidth(),y=g.getHeight(),b=1e-5,w=Math.abs((p.x-h.left)/v);w=Math.ceil(w-b);var _=Math.abs((h.right-p.x)/v);_=Math.ceil(_-b);var x=Math.ceil(Math.abs(h.top-p.y)/y);x=Math.ceil(x-b);var C=Math.ceil(Math.abs(h.bottom-p.y)/y);if(C=Math.ceil(C-b),(_+w)*(C+x)>Jc)return{status:0,error:"Too many root nodes"};for(var S=this._getRootError(),k=[],E=0,T=-w;T<_;T++)for(var M=-x;M<C;M++){var O=f.y<0?M:-(M+1);k.push({x:T,y:O,z:E,idx:T,idy:O,res:u,extent2d:d.getTilePrjExtent(T,O,u).convertTo((function(e){return t._prjToPointAtRes(e,u,Yc)})),id:this._getTileId(T,O,E),url:this.getTileUrl(T,O,E+this.options["zoomOffset"]),offset:[0,0],error:S,children:[]})}return this._rootNodes={status:1,tiles:k,mapWidth:t.width,mapHeight:t.height},this._getRootNodes(e)},n._getRootError=function(){var e=this.getMap(),t=L(e.getFov()),n=e.width/e.height,o=e.cameraPosition[2],r=o*Math.tan(.5*t),i=r*n,a=Math.sqrt(o*o+r*r+i*i),s=e._getFovZ(0),l=s*(a/o),c=this.getSpatialReference(),u=c.getResolution(0);return l*u/e.getResolution(0)},n._getPyramidTiles=function(e,t){var n=this.getMap();isNaN(+e)&&(e=this._getTileZoom(n.getZoom()));var o,r=this.getSpatialReference(),i=Math.min(e,this.getMaxZoom(),this.options["maxAvailableZoom"]||1/0),a=n.projViewMatrix,s=this._getTileFullExtent(),l=this._getTileOffset(0);if(this.options["repeatWorld"]){var c=n.getContainerExtent(),u=this._convertToExtent2d(c),d=r.getResolution(0)/n.getResolution();if(u.within(s.copy()._scale(d))){var h=this._getRootNodes(l);if(1!==h.status)return console.warn(h.error),this._disablePyramid=!0,this.getTiles(e,t);o=h.tiles.concat()}else{var m=n.getPitch(),p=n.options["cascadePitches"][1],f=Math.floor(n._getVisualHeight(p)),g=m<=p?c:new sr(0,n.height-f,n.width,n.height);this._visitedTiles=new Qc;var v=this._getTiles(0,g,2,t&&t.getRenderer(),!0),y=this._getRootError();v.tiles.forEach((function(e){e.error=y})),o=v.tiles}}else{var b=this._getRootNodes(l);if(1!==b.status)return console.warn(b.error),this._disablePyramid=!0,this.getTiles(e,t);o=b.tiles.concat()}var w=n.getGLRes(),_={0:l},x=new sr,C=[],S=[];while(o.length>0){var k=o.pop();k.z!==i?(_[k.z+1]||(_[k.z+1]=this._getTileOffset(k.z+1)),this._splitNode(k,a,o,C,x,i,_[k.z+1],t&&t.getRenderer(),w),this.isParentTile(e,i,k)&&S.push(k)):(x._combine(k.extent2d),C.push(k))}return S.sort(pu),{tileGrids:[{extent:x,count:C.length,tiles:C,parents:S,offset:[0,0],zoom:e}],count:C.length}},n.isParentTile=function(e,t,n){var o=Math.max(this.getMinZoom(),e-this.options["tileStackStartDepth"]),r=Math.min(t,o+this.options["tileStackDepth"]);return n.z>=o&&n.z<r},n._splitNode=function(e,t,n,o,r,i,a,s,l){for(var c=this._getTileConfig().tileSystem,u=c.scale.y,d=e.z+1,h=this.getSpatialReference(),m=e.x,p=e.y,f=e.extent2d,g=e.idx,v=e.idy,y=2,b=f.getWidth()/2*y,w=f.getHeight()/2*y,_=f.xmin*y,x=f.ymax*y,C=f.ymin*y,S=s||this.getRenderer(),k=!1,E=[],T=h.getResolution(d),M=T/l,O=0;O<4;O++){var D=O%2,A=O>>1,R=(m<<1)+D,P=(p<<1)+A,I=(g<<1)+D,z=(v<<1)+A;e.children||(e.children=[]);var N=e.children[O];N||(N=this._getTileId(I,z,d),e.children[O]=N);var L=S.isTileCachedOrLoading(N),H=void 0,F=L&&L.info;if(!F){if(this.tileInfoCache||(this.tileInfoCache=new vo(4*this.options["maxCacheSize"])),F=this.tileInfoCache.get(N),!F){if(u<0){var B=_+D*b,U=x-A*w;H=new sr(B,U-w,B+b,U)}else{var V=_+D*b,j=C+A*w;H=new sr(V,j,V+b,j+w)}F={x:R,y:P,idx:I,idy:z,z:d,extent2d:H,error:e.error/2,res:T,id:N,children:[],url:this.getTileUrl(R,P,d+this.options["zoomOffset"]),offset:a},this.tileInfoCache.add(N,F)}s&&(F["layer"]=this.getId())}F.error=e.error/2,F.offset[0]=a[0],F.offset[1]=a[1];var W=this._isTileVisible(F,t,M,i,a);if(1===W)k=!0;else{if(-1===W)continue;if(0===W&&d!==i)return o.push(e),void r._combine(e.extent2d)}E.push(F)}d===i?k?n.push.apply(n,E):(o.push(e),r._combine(e.extent2d)):n.push.apply(n,E)},n._isTileVisible=function(e,t,n,o,r){if(0===e.z)return 1;if(!this._isTileInFrustum(e,t,n,r))return-1;var i=this.options["maxError"];M(i)&&(i=Kc);var a=this._getScreenSpaceError(e,n,o,r);return a>=i?1:0},n._isTileInFrustum=function(e,t,n,o){if(!this._zScale){var r=this.getMap(),i=r.getGLRes();this._zScale=r.altitudeToPoint(100,i)/100}var a=this.getRenderer(),s=e.extent2d,l=s.xmin,c=s.ymin,u=s.xmax,d=s.ymax;lu[0][0]=(l-o[0])*n,lu[0][1]=(c-o[1])*n;var m=e.minAltitude||a&&a.avgMinAltitude||0;lu[0][2]=m*this._zScale,lu[1][0]=(u-o[0])*n,lu[1][1]=(d-o[1])*n;var p=e.maxAltitude||a&&a.avgMaxAltitude||0;return lu[1][2]=p*this._zScale,h(t,lu)},n._getScreenSpaceError=function(e,t,n,o){var r=e.error,i=this.getMap(),a=e.extent2d,s=a.xmin,l=a.ymin,c=a.xmax,u=a.ymax;cu[0]=(s-o[0])*t,cu[1]=(l-o[1])*t,uu[0]=(c-o[0])*t,uu[1]=(u-o[1])*t;var d,h=mu(cu,uu,i.cameraPosition),m=Math.max(Math.abs(h),1e-7),p=Math.abs(e.z-n);d=i.height<1e3||p<=1?1:p<=2?.7:.605;var f=r*d/m;return f},n._getCascadeTiles=function(e,t){var n=this.getMap(),o=n.getPitch(),r=t&&t.getRenderer(),i=n.getContainerExtent(),a=[],s=0,l=this.getMinZoom(),c=n.options["cascadePitches"][0],u=n.options["cascadePitches"][1],d=Math.floor(n._getVisualHeight(u)),h=M(e)?this._getTileZoom(n.getZoom()):e;if(this._visitedTiles=new Qc,!M(e)||!this.options["cascadeTiles"]||o<=c||!M(l)&&h<=l){var m=o<=u?i:new sr(0,n.height-d,n.width,n.height),p=this._getTiles(h,m,2,r);return p&&(s+=p.tiles.length,a.push(p)),{tileGrids:a,count:s}}var f=Math.floor(n._getVisualHeight(c)),g=new sr(0,n.height-f,n.width,n.height),v=this._getTiles(h,g,0,r);s+=v?v.tiles.length:0,a.push(v);var y,b,w=g.ymin,_=n.getSpatialReference().getZoomDirection(),x=_;if(o>u){h-x<=l&&(x=0);var C=new sr(0,n.height-d,n.width,w);y=this._getTiles(h-x,C,1,r),s+=y?y.tiles.length:0,w=C.ymin,x+=4*_,a.push(y)}if(h-x>=l){var S=new sr(0,i.ymin,n.width,w);b=this._getTiles(h-x,S,2,r),s+=b?b.tiles.length:0,a.push(b)}return y&&b&&(a[1]=b,a[2]=y),{tileGrids:a,count:s}},n.getTileUrl=function(e,t,n){var o=this.options["urlTemplate"],r="";if(this.options["subdomains"]){var i=this.options["subdomains"];if(Ge(i)){var a=i.length,s=(e+t)%a;s<0&&(s=0),r=i[s]}}if(P(o))return o(e,t,n,r);var l={x:e,y:t,z:n,s:r};return this.options.token&&(l.token=this.options.token),this.options.customTags&&T(l,this.options.customTags),o.replace(tu,(function(e,t){var n=l[t];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"===typeof n&&(n=n(l)),n}))},n.clear=function(){return this._renderer&&this._renderer.clear(),this.tileInfoCache&&this.tileInfoCache.reset(),this.fire("clear"),this},n.toJSON=function(){var e={type:this.getJSONType(),id:this.getId(),options:this.config()};return e},n.getSpatialReference=function(){var e=this.getMap();if(e&&(!this.options["spatialReference"]||ba.equals(this.options["spatialReference"],e.options["spatialReference"])))return e.getSpatialReference();if(this._sr)return this._sr;var t=this.options["spatialReference"];if(R(t)&&(t=ba.getPreset(t),!t))throw new Error("Unsupported spatial reference: "+this.options["spatialReference"]+", possible values: "+ba.getAllPresets().join());return this._sr=new ba(t),this._srMinZoom=this._sr.getMinZoom(),this._srMaxZoom=this._sr.getMaxZoom(),this._hasOwnSR=this._sr.toJSON().projection!==e.getSpatialReference().toJSON().projection,this._sr},n.getMinZoom=function(){var t=this.getSpatialReference();return t!==this.getMap().getSpatialReference()?Math.max(e.prototype.getMinZoom.call(this),this._srMinZoom):e.prototype.getMinZoom.call(this)},n.getMaxZoom=function(){var t=this.getSpatialReference();return t!==this.getMap().getSpatialReference()?Math.min(e.prototype.getMaxZoom.call(this),this._srMaxZoom):e.prototype.getMaxZoom.call(this)},n._getTileZoom=function(e){if(!this._hasOwnSR){var t=this.getMap().getResolution(e),n=this.getSpatialReference().getResolution(e),o=Math.log(n/t)*Math.LOG2E;e+=o}var r=this.options["maxAvailableZoom"];return!M(r)&&e>r&&(e=r),D(e)||(e=Math.round(e)),e=Math.max(0,e),e},n._getTiles=function(e,t,n,o,r){var i=this.getMap(),a=e,s=i.projViewMatrix,l=i.getResolution(e)/i.getResolution(e-1)===.5;n<2&&(0===n&&l&&(a-=1),s=0===n?i.cascadeFrustumMatrix0:1===n?i.cascadeFrustumMatrix1:i.projViewMatrix);var c=a+this.options["zoomOffset"],u=this._getTileOffset(c),d=u[0]||u[1],h={zoom:a,extent:null,offset:u,tiles:[]};if(c<0)return h;if(!i||!this.isVisible()||!i.width||!i.height)return h;if(!r){var m=this.getMinZoom(),p=this.getMaxZoom();if(!M(m)&&a<m||!M(p)&&a>p)return h}var f=this._getTileConfig();if(!f)return h;var g,v={zoom:u},y=this.getSpatialReference(),b=y.getResolution(c);g=this._hasOwnSR?i.getGLScale(a):b/i.getGLRes();var w=!this._hasOwnSR&&this.options["repeatWorld"],_=this._convertToExtent2d(t),x=this._getMask2DExtent();if(x){var C=x.intersection(_);if(!C)return h;t=C.convertTo((function(e){return i._pointToContainerPoint(e,void 0,0,Yc)}))}var S,k=i._containerPointToPrj(t.getCenter(),nu),E=i._prjToPoint(k,c,ou);S=d?this._project(i._pointToPrj(E._add(u),c,ou),ou):this._project(k,ou);var T=i.getGLScale()/i.getGLScale(c);ru.x=_.xmin*T,ru.y=_.ymax*T,iu.x=_.xmax*T,iu.y=_.ymin*T;for(var O=this._project(i._pointToPrj(ru._add(u),c,ru),ru),D=this._project(i._pointToPrj(iu._add(u),c,iu),iu),A=f.getTileIndex(S,b,w),R=f.getTileIndex(O,b,w),P=f.getTileIndex(D,b,w),I=Math.ceil(Math.abs(A.idy-R.idy)),z=Math.ceil(Math.abs(A.idx-R.idx)),N=Math.ceil(Math.abs(A.idy-P.idy)),L=Math.ceil(Math.abs(A.idx-P.idx)),H=(I+N+1)*(z+L+1),F=this.getTileSize(),B=this.getRenderer()||o,U=this._getTileConfig().tileSystem.scale,V=[],j=new sr,W=new Pe(0,0),Z=-I;Z<=N;Z++){var $=-z,q=-1/0,G=!1;while($>=q&&$<=L){var K=f.getNeighorTileIndex(A.idx,A.idy,$,Z,b,w);q===-1/0?$++:$--;var Y=this._getTileId(K.idx,K.idy,a);if(!(K.out||this._visitedTiles&&this._visitedTiles.has(Y))){var J=B&&B.isTileCachedOrLoading(Y);J&&(J=J.info);var X=void 0;if(J){var Q=J,ee=Q.extent2d;W.set(ee.xmin,ee.ymax),X=W}else if(this._hasOwnSR){var te=f.getTilePrjNW(K.x,K.y,b);X=i._prjToPoint(this._unproject(te,iu),a)}else X=f.getTilePointNW(K.x,K.y,b);var ne=void 0,oe=void 0;if(this._hasOwnSR){var re=void 0;if(this._hasOwnSR){var ie=f.getTilePrjSE(K.x,K.y,b);re=i._prjToPoint(this._unproject(ie,iu),a,iu)}else re=f.getTilePointSE(K.x,K.y,b);ne=Math.ceil(Math.abs(re.x-X.x)),oe=Math.ceil(Math.abs(re.y-X.y))}else ne=F.width,oe=F.height;var ae=U.x*(K.idx-K.x)*ne,se=U.y*(K.idy-K.y)*oe;J||!ae&&!se||X._add(ae,se);var le=J&&J.extent2d||new sr(X.x,X.y-oe,X.x+ne,X.y);if(H<=4||G||this._isTileInExtent(s,le,u,g)){var ce=this._hasOwnSR?i._getResolution(a):b;this._visitedTiles&&0===n&&this._visitedTiles.add(Y),l&&0===n?(this._splitTiles(s,V,B,K,a+1,ce,le,ae,se,v,o),j._combine(le)):(J?(J.offset[0]=u[0],J.offset[1]=u[1]):(J={z:a,x:K.x,y:K.y,idx:K.idx,idy:K.idy,extent2d:le,offset:u,id:Y,res:ce,url:this.getTileUrl(K.x,K.y,a)},o&&(J["layer"]=this.getId())),V.push(J),j._combine(le)),q===-1/0?(q=$,$=L):G||(G=!0)}}}}if(V.length){var ue=i._containerPointToPoint(t.getCenter(),a,Yc)._add(u),de=new Pe(0,0),he=new Pe(0,0);V.sort((function(e,t){return de.set((e.extent2d.xmin+e.extent2d.xmax)/2,(e.extent2d.ymin+e.extent2d.ymax)/2),he.set((t.extent2d.xmin+t.extent2d.xmax)/2,(t.extent2d.ymin+t.extent2d.ymax)/2),de.distanceTo(ue)-he.distanceTo(ue)}))}return{offset:u,zoom:e,extent:j,tiles:V}},n._convertToExtent2d=function(e){var t=this,n=this.getMap();return e.convertTo((function(e){var o;if(e.y>0&&e.y<n.height){var r=(0===e.x?0:1)+e.y;t._coordCache[r]||(t._coordCache[r]=n._containerPointToPoint(e)),o=t._coordCache[r]}return o=n._containerPointToPoint(e,void 0,Yc),o}))},n._splitTiles=function(e,t,n,o,r,i,a,s,l,c,u){var d=this._getTileConfig().tileSystem.scale.y,h=this.getMap().getGLScale(r),m=au.set(2*a.xmin,d<0?2*a.ymax:2*a.ymin),p=a.getWidth(),f=a.getHeight(),g=2*o.idx,v=2*o.idy,y=2*o.x,b=2*o.y,w=this._checkAndAddTile(e,n,g,v,y,b,r,i,0,0,p,f,m,h,c,u);w&&t.push(w),w=this._checkAndAddTile(e,n,g,v,y,b,r,i,0,1,p,f,m,h,c,u),w&&t.push(w),w=this._checkAndAddTile(e,n,g,v,y,b,r,i,1,0,p,f,m,h,c,u),w&&t.push(w),w=this._checkAndAddTile(e,n,g,v,y,b,r,i,1,1,p,f,m,h,c,u),w&&t.push(w)},n._checkAndAddTile=function(e,t,n,o,r,i,a,s,l,c,u,d,h,m,p,f){var g=this._getTileId(n+l,o+c,a);if(this._visitedTiles&&this._visitedTiles.has(g))return null;var v=p[a];v||(v=p[a]=this._getTileOffset(a));var y=this._getTileConfig().tileSystem.scale.y,b=new sr(h.x+l*u,h.y+y*c*d,h.x+(l+1)*u,h.y+y*(c+1)*d);if(!this._isSplittedTileInExtent(e,b,v,m))return null;var w=s/2,_=t&&t.isTileCachedOrLoading(g);return _?_=_.info:(_={z:a,x:r+l,y:i+c,extent2d:b,id:g,offset:v,res:w,url:this.getTileUrl(r+l,i+c,a+this.options["zoomOffset"])},f&&(_["layer"]=this.getId())),_},n._getTileOffset=function(e){if(this._tileOffsets||(this._tileOffsets={}),this._tileOffsets[e])return this._tileOffsets[e];var t=this.options["offset"];return P(t)&&(t=t.call(this,e)),O(t)&&(t=[t,t]),this._tileOffsets[e]=t||[0,0],this._tileOffsets[e]},n._getTileId=function(e,t,n,o){return(o||this.getId())+"_"+e+"_"+t+"_"+n},n._project=function(e,t){if(this._hasOwnSR){var n=this.getMap(),o=n.getProjection(),r=this.getSpatialReference().getProjection();return r.project(o.unproject(e,t),t)}return e},n._unproject=function(e,t){if(this._hasOwnSR){var n=this.getMap(),o=this.getSpatialReference(),r=n.getProjection(),i=o.getProjection();return r.project(i.unproject(e,t),t)}return e},n._initTileConfig=function(){var e=this.getMap(),t=this.getTileSize(),n=this.getSpatialReference(),o=n.getProjection(),r=n.getFullExtent();this._defaultTileConfig=new Gc(e,$c.getDefault(o),r,t),this.options.hasOwnProperty("tileSystem")&&(this._tileConfig=new Gc(e,this.options["tileSystem"],r,t)),delete this._rootNodes,delete this._tileFullExtent,delete this._disablePyramid},n._getTileConfig=function(){return this._defaultTileConfig||this._initTileConfig(),this._tileConfig||this._defaultTileConfig},n._bindMap=function(t){var n=t.getBaseLayer();return n===this&&(n.options.hasOwnProperty("forceRenderOnMoving")||this.config({forceRenderOnMoving:!0})),this._onSpatialReferenceChange(),e.prototype._bindMap.apply(this,arguments)},n._isTileInExtent=function(e,t,n,o){var r,i=this.getMap();if(e!==i.projViewMatrix){var a=t.getCenter(su)._sub(n[0],n[1])._multi(o);yl(du,a.x,a.y,0);var s=Tl(du,du,i.projViewMatrix);r=s[1]<0?i.projViewMatrix:e}else r=i.projViewMatrix;return lu[0][0]=(t.xmin-n[0])*o,lu[0][1]=(t.ymin-n[1])*o,lu[1][0]=(t.xmax-n[0])*o,lu[1][1]=(t.ymax-n[1])*o,h(r,lu)},n._isSplittedTileInExtent=function(e,t,n,o){var r=this.getMap();return lu[0][0]=(t.xmin-n[0])*o,lu[0][1]=(t.ymin-n[1])*o,lu[1][0]=(t.xmax-n[0])*o,lu[1][1]=(t.ymax-n[1])*o,h(r.projViewMatrix,lu)},n.getEvents=function(){return{spatialreferencechange:this._onSpatialReferenceChange}},n._onSpatialReferenceChange=function(){delete this._tileConfig,delete this._defaultTileConfig,delete this._sr,delete this._srMinZoom,delete this._hasOwnSR,delete this._rootNodes,this.tileInfoCache&&this.tileInfoCache.reset();var e=this.getRenderer();e&&e.clear()},n.getPolygonOffsetCount=function(){return 2},n.getPolygonOffset=function(){return this._polygonOffset||0},n.setPolygonOffset=function(e){return this._polygonOffset=e,this},t}(Aa);function mu(e,t,n){var o=Math.max(e[0]-n[0],0,n[0]-t[0]),r=Math.max(e[1]-n[1],0,n[1]-t[1]),i=Math.max(e[2]-n[2],0,n[2]-t[2]);return Math.sqrt(o*o+r*r+i*i)}function pu(e,t){return e.z-t.z}hu.registerJSONType("TileLayer"),hu.mergeOptions(eu);var fu={maxCacheSize:1024},gu=new cn(256,256),vu="show hide remove setzindex";function yu(e){return Array.isArray(e)||(e=[e]),e}var bu=function(e){function t(t,n,o){var r;return r=e.call(this,t,o)||this,r.layers=n||[],r._checkChildren(),r.layerMap={},r._groupChildren=[],r}ke(t,e),t.fromJSON=function(e){if(!e||"GroupTileLayer"!==e["type"])return null;var n=e["layers"].map((function(e){return Aa.fromJSON(e)}));return new t(e["id"],n,e["options"])};var n=t.prototype;return n.getLayers=function(){return this.layers},n.addLayer=function(e){var t=this;void 0===e&&(e=[]),e=yu(e);var n=this.layers.length;return e.forEach((function(e){e instanceof hu&&(-1!==t.layers.indexOf(e)||t.layerMap[e.getId()]||t.layers.push(e))})),n!==this.layers.length&&(this._sortLayers(),this._refresh(),this._renderLayers()),this},n.removeLayer=function(e){var t=this;void 0===e&&(e=[]),e=yu(e);var n=this.layers.length;return e.forEach((function(e){if(e instanceof hu||(e=t.layerMap[e]),e instanceof hu){var n=t.layers.indexOf(e);n>=0&&(t.layers.splice(n,1),e._doRemove(),e.off(vu,t._onLayerShowHide,t))}})),n!==this.layers.length&&(this._refresh(),this._renderLayers()),this},n.clearLayers=function(){var e=this;return this.layers.forEach((function(t){t._doRemove(),t.off(vu,e._onLayerShowHide,e)})),this.layers=[],this._refresh(),this._renderLayers(),this},n.toJSON=function(){var e={type:this.getJSONType(),id:this.getId(),layers:this.layers.map((function(e){return e.toJSON()})),options:this.config()};return e},n.getTileSize=function(e){var t=this.getLayer(e);return t?t.getTileSize():gu},n.getTiles=function(e,t){for(var n=this.layers,o=[],r=0,i=0,a=n.length;i<a;i++){var s=n[i];if(s&&s.options["visible"]&&s.isVisible()&&s.getMap()){var l=s.getTiles(e,t||this);l&&0!==l.count&&(r+=l.count,Fe(o,l.tileGrids))}}return{count:r,tileGrids:o}},n.onAdd=function(){this._sortLayers(),this._refresh(),e.prototype.onAdd.call(this)},n.onRemove=function(){var t=this;this.layers.forEach((function(e){e._doRemove(),e.off(vu,t._onLayerShowHide,t)})),this.layerMap={},this._groupChildren=[],e.prototype.onRemove.call(this)},n.getLayer=function(e){return this.getChildLayer(e)},n.getChildLayer=function(e){var t=this.layerMap[e];if(t)return t;for(var n=0;n<this._groupChildren.length;n++){var o=this._groupChildren[n].getChildLayer(e);if(o)return o}return null},n._onLayerShowHide=function(e){var t=e||{},n=t.type,o=t.target;return"remove"===n&&o?(this.layers.splice(this.layers.indexOf(o),1),o._doRemove(),o.off(vu,this._onLayerShowHide,this),this._refresh()):"setzindex"===n&&this._sortLayers(),this._renderLayers(),this},n._renderLayers=function(){var e=this.getRenderer();return e&&e.setToRedraw(),this},n._refresh=function(){var e=this,t=this.getMap();return this._groupChildren=[],this.layerMap={},this.layers.forEach((function(n){e.layerMap[n.getId()]=n,n.getChildLayer&&e._groupChildren.push(n),n.getMap()||n._bindMap(t),n.on(vu,e._onLayerShowHide,e)})),this},n.isVisible=function(){if(!e.prototype.isVisible.call(this))return!1;for(var t=this.layers,n=0,o=t.length;n<o;n++)if(t[n].isVisible())return!0;return!1},n._checkChildren=function(){var e=this,t={};this.layers.forEach((function(n){var o=n.getId();if(t[o])throw new Error("Duplicate child layer id ("+o+") in the GroupTileLayer ("+e.getId()+")");t[o]=1}))},n._sortLayers=function(){this.layers.sort((function(e,t){return e.options.zIndex-t.options.zIndex}))},t}(hu);bu.registerJSONType("GroupTileLayer"),bu.mergeOptions(fu);var wu,_u={crs:null,uppercase:!1,detectRetina:!1},xu={service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},Cu=function(e){function t(t,n){var o;return o=e.call(this,t)||this,wu||(wu=T({},o.options)),o.wmsParams=T({},xu),o.setOptions(n),o.setZIndex(n.zIndex),_e.proxy||o._optionsHook(n),o}ke(t,e);var n=t.prototype;return n._optionsHook=function(e){for(var t in void 0===e&&(e={}),e)"tileSize"===t&&(this._tileSize=null),t in wu||(this.wmsParams[t]=e[t]);var n=this.getTileSize();return this.wmsParams.width=n.width,this.wmsParams.height=n.height,this._wmsVersion=parseFloat(this.wmsParams.version),this},n.onAdd=function(){var t=this.getMap().getDevicePixelRatio(),n=_u.detectRetina?t:1;this.wmsParams.width*=n,this.wmsParams.height*=n;var o=this.options.crs||this.getMap().getProjection().code,r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=o,e.prototype.onAdd.call(this)},n.getTileUrl=function(t,n,o){var r=this.getSpatialReference().getResolution(o),i=this._getTileConfig(),a=i.getTilePrjExtent(t,n,r),s=a.getMax(),l=a.getMin(),c=(this._wmsVersion>=1.3&&("EPSG:4326"===this.wmsParams.crs||"EPSG:4490"===this.wmsParams.crs)?[l.y,l.x,s.y,s.x]:[l.x,l.y,s.x,s.y]).join(","),u=e.prototype.getTileUrl.call(this,t,n,o);return u+Su(this.wmsParams,u,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+c},n.toJSON=function(){return{type:"WMSTileLayer",id:this.getId(),options:this.config()}},t.fromJSON=function(e){return e&&"WMSTileLayer"===e["type"]?new t(e["id"],e["options"]):null},t}(hu);function Su(e,t,n){var o=[];for(var r in e)o.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+o.join("&")}Cu.registerJSONType("WMSTileLayer"),Cu.mergeOptions(_u);var ku=function(e){function t(t,n){var o;return o=e.call(this,t,n)||this,o.options.hasOwnProperty("forceRenderOnMoving")||(o.options["forceRenderOnMoving"]=!1),o}ke(t,e);var n=t.prototype;return n.drawTile=function(){},n.toJSON=function(){return{type:"CanvasTileLayer",id:this.getId(),options:this.config()}},t.fromJSON=function(e){return e&&"CanvasTileLayer"===e["type"]?new t(e["id"],e["options"]):null},t}(hu);function Eu(e,t){for(var n={alpha:!0,stencil:!0,preserveDrawingBuffer:!0,antialias:!1},o=["webgl","experimental-webgl"],r=null,i=0;i<o.length;++i){try{r=e.getContext(o[i],t||n)}catch($d){}if(r)break}return r}function Tu(e,t,n){var o=e.createShader(t);e.shaderSource(o,n),e.compileShader(o);var r=e.getShaderParameter(o,e.COMPILE_STATUS);if(!r){var i=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error("Failed to compile shader: "+i)}return o}function Mu(e,t,n){var o=Tu(e,e.VERTEX_SHADER,t),r=Tu(e,e.FRAGMENT_SHADER,n);if(!o||!r)return null;var i=e.createProgram();return i?(e.attachShader(i,o),e.attachShader(i,r),e.linkProgram(i),{program:i,vertexShader:o,fragmentShader:r}):null}function Ou(e,t,n){if(Array.isArray(n[0])){for(var o=Float32Array.BYTES_PER_ELEMENT,r=0,i=0;i<n.length;i++)r+=n[i][1]||0;for(var a=0,s=0;s<n.length;s++){var l=e.getAttribLocation(t,n[s][0]);if(l<0)throw new Error("Failed to get the storage location of "+n[s][0]);e.vertexAttribPointer(l,n[s][1],e[n[s][2]||"FLOAT"],!1,o*r,o*a),a+=n[s][1]||0,e.enableVertexAttribArray(l)}}else{var c=e.getAttribLocation(t,n[0]);e.vertexAttribPointer(c,n[1],e[n[2]||"FLOAT"],!1,0,0),e.enableVertexAttribArray(c)}}ku.registerJSONType("CanvasTileLayer");var Du=[1,1,1,1],Au={vertexShader:"\n        attribute vec2 a_position;\n\n        attribute vec2 a_texCoord;\n\n        uniform mat4 u_matrix;\n\n        varying vec2 v_texCoord;\n\n        void main() {\n            gl_Position = u_matrix * vec4(a_position, 0., 1.);\n\n            v_texCoord = a_texCoord;\n        }\n    ",fragmentShader:"\n        precision mediump float;\n\n        uniform sampler2D u_image;\n\n        uniform float u_opacity;\n        uniform float u_debug_line;\n        uniform vec4 u_base_color;\n\n        varying vec2 v_texCoord;\n\n        void main() {\n            if (u_debug_line == 1.) {\n                gl_FragColor = vec4(0., 1., 0., 1.);\n            } else {\n                gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n            }\n            gl_FragColor *= u_base_color;\n        }\n    "},Ru=[0,0],Pu=[0,0,0],Iu=new Array(16),zu=new Pe(20,20),Nu=function(e){var t=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.drawGLImage=function(e,t,n,o,r,i,a,s,l){this.gl.program!==this.program&&this.useProgram(this.program);var c=this.gl;this.loadTexture(e);var u=this.canvas.gl&&this.canvas.gl.wrap;if(u){var d=this.layer&&this.layer.options["opacity"];M(d)&&(d=1),a*=d}Pu[0]=t||0,Pu[1]=n||0;var h=gl(Iu);ul(h,h,Pu),dl(h,h,[i,i,1]),pl(h,this.getMap().projViewMatrix,h),c.uniformMatrix4fv(this.program["u_matrix"],!1,h),c.uniform1f(this.program["u_opacity"],a),c.uniform1f(this.program["u_debug_line"],0),c.uniform4fv(this.program["u_base_color"],l||Du);var m=e.glBuffer;!m||m.width===o&&m.height===r||(this.saveImageBuffer(m),delete e.glBuffer),e.glBuffer?c.bindBuffer(c.ARRAY_BUFFER,m):e.glBuffer=this.bufferTileData(0,0,o,r),Ru[0]="a_position",Ru[1]=2,Ru[2]=e.glBuffer.type,this.enableVertexAttrib(Ru),c.drawArrays(c.TRIANGLE_STRIP,0,4),s&&this.drawDebug(h,0,0,o,r,s)},n.drawDebug=function(e,t,n,o,r,i){var a=this.gl;a.disable(a.DEPTH_TEST),a.bindBuffer(a.ARRAY_BUFFER,this._debugBuffer),this.enableVertexAttrib(["a_position",2,"FLOAT"]),a.bufferData(a.ARRAY_BUFFER,new Float32Array([t,n,t+o,n,t+o,n-r,t,n-r,t,n]),a.DYNAMIC_DRAW),a.uniformMatrix4fv(this.program["u_matrix"],!1,e),a.uniform1f(this.program["u_opacity"],1),a.uniform1f(this.program["u_debug_line"],1),a.uniform4fv(this.program["u_base_color"],Du),a.drawArrays(a.LINE_STRIP,0,5);var s=this._debugInfoCanvas;if(!s){var l=this.getMap().getDevicePixelRatio()>1?2:1;s=this._debugInfoCanvas=document.createElement("canvas"),s.width=256*l,s.height=32*l;var c=s.getContext("2d");c.font="20px monospace",c.scale(l,l)}var u=s.getContext("2d");u.clearRect(0,0,s.width,s.height);var d=this.layer.options["debugOutline"];Eo.fillText(u,i,zu,d),this.loadTexture(s),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,s),o=256;var h=t,m=t+o,p=n-r+32,f=n-r;a.bufferData(a.ARRAY_BUFFER,this.set8(h,p,h,f,m,p,m,f),a.DYNAMIC_DRAW),a.uniform1f(this.program["u_debug_line"],0),a.drawArrays(a.TRIANGLE_STRIP,0,4),a.enable(a.DEPTH_TEST)},n.bufferTileData=function(e,t,n,o,r){var i,a=e,s=e+n,l=t,c=t-o;i=D(a)&&D(s)&&D(l)&&D(c)?this.set8Int(a,l,a,c,s,l,s,c):this.set8(a,l,a,c,s,l,s,c);var u=this.loadImageBuffer(i,r);return u.width=n,u.height=o,u.type=i instanceof Int16Array?"SHORT":"FLOAT",u},n.drawTinImage=function(e,t,n,o,r){var i=this.gl;this.loadTexture(e),i.uniformMatrix4fv(this.program["u_matrix"],!1,this.getMap().projViewMatrix),i.uniform1f(this.program["u_opacity"],r),i.bindBuffer(i.ARRAY_BUFFER,this.posBuffer),this.enableVertexAttrib(["a_position",3]),i.bufferData(i.ARRAY_BUFFER,new Float32Array(t),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,this.texBuffer),this.enableVertexAttrib(["a_texCoord",2]),i.bufferData(i.ARRAY_BUFFER,new Float32Array(n),i.DYNAMIC_DRAW),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),i.DYNAMIC_DRAW),i.drawElements(i.TRIANGLES,o.length,i.UNSIGNED_SHORT,0)},n.createCanvas2=function(){this.canvas2=Eo.createCanvas(this.canvas.width,this.canvas.height)},n.createGLContext=function(){this.canvas.gl&&this.canvas.gl.wrap?this.gl=this.canvas.gl.wrap():this.gl=Eu(this.canvas2||this.canvas,this.layer.options["glOptions"]);var e=this.gl;e.clearColor(0,0,0,0),e.enable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this.program=this.createProgram(Au["vertexShader"],this.layer.options["fragmentShader"]||Au["fragmentShader"]),this._debugBuffer=this.createBuffer(),this.useProgram(this.program),this.texBuffer=this.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.texBuffer),this.enableVertexAttrib(["a_texCoord",2,"UNSIGNED_BYTE"]),e.bufferData(e.ARRAY_BUFFER,new Uint8Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.enableSampler("u_image"),e.activeTexture(e["TEXTURE0"]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)},n.resizeGLCanvas=function(){this.gl&&this.gl.viewport(0,0,this.canvas.width,this.canvas.height),this.canvas2&&(this.canvas2.width===this.canvas.width&&this.canvas2.height===this.canvas.height||(this.canvas2.width=this.canvas.width,this.canvas2.height=this.canvas.height))},n.clearGLCanvas=function(){this.gl&&(this.gl.clearStencil(255),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT)),this.gl.wrap||this.gl.clear(this.gl.DEPTH_BUFFER_BIT)},n.disposeImage=function(e){e&&(e.texture&&this.saveTexture(e.texture),e.glBuffer&&this.saveImageBuffer(e.glBuffer),delete e.texture,delete e.glBuffer)},n._createTexture=function(e){var t=this.gl,n=this.getTexture()||t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),D(We(e.width))&&D(We(e.width))&&t.generateMipmap(t.TEXTURE_2D),n},n.getTexture=function(){this._textures||(this._textures=[]);var e=this._textures;return e&&e.length>0?e.pop():null},n.saveTexture=function(e){this._textures.push(e)},n.loadTexture=function(e){var t=this.gl,n=e.texture;return n||(n=this._createTexture(e),e.texture=n),t.bindTexture(t.TEXTURE_2D,n),n},n.getImageBuffer=function(){this._imageBuffers||(this._imageBuffers=[]);var e=this._imageBuffers;return e&&e.length>0?e.pop():null},n.saveImageBuffer=function(e){this._imageBuffers||(this._imageBuffers=[]),this._imageBuffers.push(e)},n.loadImageBuffer=function(e,t){var n=this.gl,o=t||this.createImageBuffer();return n.bindBuffer(n.ARRAY_BUFFER,o),n.bufferData(n.ARRAY_BUFFER,e,n.STATIC_DRAW),o},n.createImageBuffer=function(){return this.getImageBuffer()||this.createBuffer()},n.removeGLCanvas=function(){var e=this.gl;if(e){if(this._debugBuffer&&(e.deleteBuffer(this._debugBuffer),delete this._debugBuffer),this._buffers&&(this._buffers.forEach((function(t){e.deleteBuffer(t)})),delete this._buffers),this._textures&&(this._textures.forEach((function(t){return e.deleteTexture(t)})),delete this._textures),this._debugInfoCanvas){var t=this._debugInfoCanvas.texture;t&&e.deleteTexture(t),delete this._debugInfoCanvas.texture,delete this._debugInfoCanvas}var n=e.program;e.deleteShader(n.fragmentShader),e.deleteShader(n.vertexShader),e.deleteProgram(n),delete this.gl,delete this.canvas2}},n.createBuffer=function(){var e=this.gl,t=e.createBuffer();if(!t)throw new Error("Failed to create the buffer object");return this._buffers||(this._buffers=[]),this._buffers.push(t),t},n.enableVertexAttrib=function(e){Ou(this.gl,this.gl.program,e)},n.createProgram=function(e,t){for(var n=this.gl,o=Mu(n,e,t),r=o.program,i=o.vertexShader,a=o.fragmentShader,s=n.getProgramParameter(r,35718),l=[],c=0;c<s;++c){var u=n.getActiveUniform(r,c);l.push(u.name)}return r.vertexShader=i,r.fragmentShader=a,this._initUniforms(r,l),r},n.useProgram=function(e){var t=this.gl;return t.useProgram(e),t.program=e,this},n.enableSampler=function(e,t){var n=this.gl,o=this._getUniform(n.program,e);return t||(t=0),n.uniform1i(o,t),o},n._initUniforms=function(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=t[n],i=o.indexOf("[");i>=0&&(o=o.substring(0,i),F||(r=r.substring(0,i))),e[o]=this._getUniform(e,r)}},n._getUniform=function(e,t){var n=this.gl,o=n.getUniformLocation(e,t);if(!o)throw new Error("Failed to get the storage location of "+t);return o},t}(e);return T(t.prototype,{set8:function(){var e=_e.ie9?null:new Float32Array(8);return function(t,n,o,r,i,a,s,l){return e[0]=t,e[1]=n,e[2]=o,e[3]=r,e[4]=i,e[5]=a,e[6]=s,e[7]=l,e}}(),set8Int:function(){var e=_e.ie9?null:new Int16Array(8);return function(t,n,o,r,i,a,s,l){return e[0]=t,e[1]=n,e[2]=o,e[3]=r,e[4]=i,e[5]=a,e[6]=s,e[7]=l,e}}()}),t},Lu={renderer:_e.webgl?"gl":"canvas",crossOrigin:null},Hu=new Pe(0,0),Fu=function(e){function t(t,n,o){var r;return!n||Array.isArray(n)||n.url||(o=n,n=null),r=e.call(this,t,o)||this,r._images=n,r}ke(t,e);var n=t.prototype;return n.onAdd=function(){this._prepareImages(this._images)},n.setImages=function(e){return this._images=e,this._prepareImages(e),this},n.getImages=function(){return this._images},n._prepareImages=function(e){e=e||[],Array.isArray(e)||(e=[e]);var t=this.getMap(),n=t.getGLRes();this._imageData=e.map((function(e){var o=new ar(e.extent);return T({},e,{extent:o,extent2d:o.convertTo((function(e){return t.coordToPointAtRes(e,n)}))})})),this._images=e;var o=this.getRenderer();o&&o.refreshImages()},t}(Aa);Fu.mergeOptions(Lu);var Bu=[],Uu=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.isDrawable=function(){return!this.getMap().getPitch()||(console&&console.warn("ImageLayer with canvas renderer can't be pitched, use gl renderer ('renderer' : 'gl') instead."),!1)},n.checkResources=function(){var e=this;if(this._imageLoaded)return Bu;var t=this.layer,n=t._imageData.map((function(e){return[e.url,null,null]}));if(this.resources){var o=[],r=new Qr;n.forEach((function(t){if(e.resources.isResourceLoaded(t)){var n=e.resources.getImage(t);r.addResource(t,n)}else o.push(t)})),this.resources.forEach((function(t,n){r.isResourceLoaded(t)||e.retireImage(n.image)})),this.resources=r,n=o}return this._imageLoaded=!0,n},n.retireImage=function(e){e.close&&e.close()},n.refreshImages=function(){this._imageLoaded=!1,this.setToRedraw()},n.draw=function(){this.isDrawable()&&(this.prepareCanvas(),this._painted=!1,this._drawImages(),this.completeRender())},n._drawImages=function(){var e=this.layer._imageData,t=this.getMap(),n=t._get2DExtentAtRes(t.getGLRes());if(e&&e.length)for(var o=0;o<e.length;o++){var r=e[o].extent2d,i=this.resources&&this.resources.getImage(e[o].url);i&&n.intersects(r)&&(this._painted=!0,this._drawImage(i,r,e[o].opacity||1))}},n._drawImage=function(e,t,n){var o=0,r=this.context;n<1&&(o=r.globalAlpha,r.globalAlpha=n);var i=this.getMap(),a=Hu.set(t.xmin,t.ymax),s=i._pointAtResToContainerPoint(a,i.getGLRes()),l=s.x,c=s.y,u=i.getBearing();u&&(r.save(),r.translate(l,c),u&&r.rotate(-u*Math.PI/180),l=c=0);var d=i.getGLScale();r.drawImage(e,l,c,t.getWidth()/d,t.getHeight()/d),u&&r.restore(),o&&(r.globalAlpha=o)},n.drawOnInteracting=function(){this.draw()},t}(Xr),Vu=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.isDrawable=function(){return!0},n._drawImage=function(e,t,n){this.drawGLImage(e,t.xmin,t.ymax,t.getWidth(),t.getHeight(),1,n)},n.createContext=function(){this.createGLContext()},n.resizeCanvas=function(t){this.canvas&&(e.prototype.resizeCanvas.call(this,t),this.resizeGLCanvas())},n.clearCanvas=function(){this.canvas&&(e.prototype.clearCanvas.call(this),this.clearGLCanvas())},n.retireImage=function(e){e.close&&e.close(),this.disposeImage(e)},n.onRemove=function(){this.removeGLCanvas(),e.prototype.onRemove.call(this)},t}(Nu(Uu));Fu.registerRenderer("canvas",Uu),Fu.registerRenderer("gl",Vu);var ju=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getPrepareParams=function(){return[]},n.getDrawParams=function(){return[]},n.onCanvasCreate=function(){this.canvas&&this.layer.options["doubleBuffer"]&&(this.buffer=Eo.createCanvas(this.canvas.width,this.canvas.height,this.getMap().CanvasClass))},n.needToRedraw=function(){if(this.layer.options["animation"])return!0;var t=this.getMap();return!(t.isInteracting()&&!this.layer.drawOnInteracting)&&e.prototype.needToRedraw.call(this)},n.draw=function(){this.prepareCanvas(),this.prepareDrawContext(),this._drawLayer.apply(this,arguments)},n.drawOnInteracting=function(){this._drawLayerOnInteracting.apply(this,arguments)},n.getCanvasImage=function(){var t=e.prototype.getCanvasImage.call(this);if(t&&t.image&&this.layer.options["doubleBuffer"]){var n=t.image;this.buffer.width===n.width&&this.buffer.height===n.height||(this.buffer.width=n.width,this.buffer.height=n.height);var o=this.buffer.getContext("2d"),r=this.layer.doubleBuffer(o,this.context);(void 0===r||r)&&(Eo.image(o,n,0,0),t.image=this.buffer)}return t},n.remove=function(){return delete this._drawContext,e.prototype.remove.call(this)},n.onZoomStart=function(t){this.layer.onZoomStart(t),e.prototype.onZoomStart.call(this,t)},n.onZooming=function(t){this.layer.onZooming(t),e.prototype.onZooming.call(this,t)},n.onZoomEnd=function(t){this.layer.onZoomEnd(t),e.prototype.onZoomEnd.call(this,t)},n.onMoveStart=function(t){this.layer.onMoveStart(t),e.prototype.onMoveStart.call(this,t)},n.onMoving=function(t){this.layer.onMoving(t),e.prototype.onMoving.call(this,t)},n.onMoveEnd=function(t){this.layer.onMoveEnd(t),e.prototype.onMoveEnd.call(this,t)},n.onResize=function(t){this.layer.onResize(t),e.prototype.onResize.call(this,t)},n.prepareDrawContext=function(){if(!this._predrawed){var e=Wu(this.getPrepareParams());this._drawContext=this.layer.prepareToDraw.apply(this.layer,[this.context].concat(e)),this._drawContext||(this._drawContext=[]),Array.isArray(this._drawContext)||(this._drawContext=[this._drawContext]),this._predrawed=!0}},n._prepareDrawParams=function(){if(!this.getMap())return null;var e=this.getViewExtent();if(e["maskExtent"]&&!e["extent"].intersects(e["maskExtent"]))return this.completeRender(),null;var t=[this.context,e],n=Wu(this.getDrawParams());return t.push.apply(t,n),t.push.apply(t,this._drawContext),t},n._drawLayer=function(){var e=this._prepareDrawParams();if(e){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.layer.draw.apply(this.layer,e.concat(n)),this.completeRender()}},n._drawLayerOnInteracting=function(){if(this.layer.drawOnInteracting){var e=this._prepareDrawParams();if(e){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.layer.drawOnInteracting.apply(this.layer,e.concat(n)),this.completeRender()}}},t}(Xr);function Wu(e){return e||(e=[]),Array.isArray(e)||(e=[e]),e}var Zu={doubleBuffer:!1,animation:!1},$u=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.isCanvasRender=function(){return!0},n.prepareToDraw=function(){},n.draw=function(){},n.redraw=function(){return this._getRenderer()&&this._getRenderer().setToRedraw(),this},n.play=function(){return this.config("animation",!0),this},n.pause=function(){return this.config("animation",!1),this},n.isPlaying=function(){return this.options["animation"]},n.clearCanvas=function(){return this._getRenderer()&&this._getRenderer().clearCanvas(),this},n.requestMapToRender=function(){return this._getRenderer()&&this._getRenderer().requestMapToRender(),this},n.completeRender=function(){return this._getRenderer()&&this._getRenderer().completeRender(),this},n.onCanvasCreate=function(){return this},n.onZoomStart=function(){},n.onZooming=function(){},n.onZoomEnd=function(){},n.onMoveStart=function(){},n.onMoving=function(){},n.onMoveEnd=function(){},n.onResize=function(){},n.doubleBuffer=function(e){return e.clearRect(0,0,e.canvas.width,e.canvas.height),this},t}(Aa);$u.mergeOptions(Zu),$u.registerRenderer("canvas",ju);var qu=new Pe(0,0),Gu={animation:!0},Ku=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.getParticles=function(){},n.draw=function(e,t){var n=this.getParticles(E());if(n&&0!==n.length){var o=this.getMap(),r=t.extent;t.maskExtent&&(r=t.extent.intersection(t.maskExtent)),r=r.convertTo((function(e){return o._pointToContainerPoint(e,void 0,0,qu)}));for(var i=2*Math.PI,a=0,s=n.length;a<s;a++){var l=n[a].point;if(r.contains(l)){var c=n[a].color||this.options["lineColor"]||"#fff",u=n[a].r;e.fillStyle!==c&&(e.fillStyle=c),u<=2?e.fillRect(l.x-u/2,l.y-u/2,u,u):(e.beginPath(),e.arc(l.x,l.y,u/2,0,i),e.fill())}}this._fillCanvas(e)}else{var d=this._getRenderer();d&&(this._getRenderer()._shouldClear=!0)}},n._fillCanvas=function(e){var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";var n=this.options["trail"]||30;e.fillStyle="rgba(0, 0, 0, "+1/n+")",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.globalCompositeOperation=t},t}($u);Ku.mergeOptions(Gu),Ku.registerRenderer("canvas",function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.draw=function(){this.canvas&&this.layer.options["animation"]&&!this._shouldClear||(this.prepareCanvas(),this._shouldClear=!1),this.prepareDrawContext(),this._drawLayer()},n.drawOnInteracting=function(){this.draw(),this._shouldClear=!1},n.onSkipDrawOnInteracting=function(){this._shouldClear=!0},t}(ju));var Yu,Ju,Xu=new Qr,Qu=function(e){function t(t,n,o){var r;r=e.call(this,o)||this,r.target=t,t.once("remove",r.delete,Te(Te(r)));var i=r.options["symbol"],a=i["markerLineWidth"]||1;return r.w=i["markerWidth"]+a,r.h=i["markerHeight"]+a,r.opacity=M(i["opacity"])?1:i["opacity"],r.map=n,r.events=o.events,r._fetchImage(),r.addTo(n),r}ke(t,e);var n=t.prototype;return n.getCursor=function(){return this.options["cursor"]||"default"},n._fetchImage=function(){var e=this.map,t=this.options.symbol,n=t.markerFile;this.url=n||Mn(t);var o=Xu.getImage(this.url);if(!o){var r=this.w,i=this.h;if(n)o=new Image,o.onload=function(){var t=e.getRenderer();t&&t.setToRedraw()},o.src=this.url;else{var a=document.createElement("canvas");a.width=r,a.height=i;var s=a.getContext("2d");o=Ni(s,{x:r/2,y:i/2},t,Xu)}Xu.addResource([this.url,r,i],o)}Xu.login(this.url),this._img=o},n.setContainerPoint=function(e){this._point=e,this._point._sub(this.w/2,this.h/2)},n.getContainerPoint=function(){return this._point.add(this.w/2,this.h/2)},n.offset=function(e){this._point._add(e)},n.render=function(e){if(!this._img)return!1;var t=this.options["symbol"],n=t["markerDx"]||0,o=t["markerDy"]||0,r=this.map,i=this._point,a=i.x,s=i.y,l=this.w,c=this.h;if(a+l>0&&a<r.width&&s+c>0&&s<r.height){var u=r.getDevicePixelRatio();return e.globalAlpha=this.opacity,e.drawImage(this._img,Math.round((a+n)*u),Math.round((s+o)*u),Math.round(l*u),Math.round(c*u)),!0}return!1},n.delete=function(){if(this.map){var e=this.map.getRenderer();e&&e.removeTopElement(this)}Xu.logout(this.url),this._dragger&&(this._dragger.disable(),delete this._dragger),delete this.map},n.hitTest=function(e){var t=this.options["symbol"],n=t["markerDx"]||0,o=t["markerDy"]||0,r=this.w,i=this.h,a=this._point.x+n,s=this._point.y+o;return e.x>=a&&e.x<=a+r&&e.y>=s&&e.y<=s+i},n.addTo=function(e){this.map=e;var t=e.getRenderer();t.addTopElement(this)},n.onEvent=function(e){this.fire(e.type,e)},n.mousedown=function(e){var t=e.target,n=this.options["cursor"];n&&t.setCursor(n),this.onDragstart(e)},n.onDragstart=function(e){var t=e.containerPoint,n=e.target,o=n._panels.mapWrapper||n._containerDOM,r=this._dragger=new Zo(o);r.on("dragging",this.onDragging,this).on("mouseup",this.onDragend,this).enable(),r.type="handle",r.onMouseDown(e["domEvent"]),Yu=t.x,Ju=t.y,this.fire("dragstart",{containerPoint:t})},n.onDragging=function(e){if(this._dragger){var t=this.map,n=Qn(e.domEvent,t._containerDOM),o={x:n.x-Yu,y:n.y-Ju},r=t.containerPointToCoord(new Pe(Yu,Ju)),i=t.containerPointToCoord(n);Yu=n.x,Ju=n.y,this.offset(o),this.fire("dragging",{containerPoint:n,coordOffset:i._sub(r)})}},n.onDragend=function(e){if(this._dragger){var t=this.map;t.resetCursor();var n=Qn(e.domEvent,t._containerDOM),o={x:n.x-Yu,y:n.y-Ju};this.offset(o),this._dragger.disable(),delete this._dragger,this.fire("dragend",{containerPoint:n})}},t}(Po(No)),ed=function(){function e(e,t){this.target=e,e.once("remove",this.delete,this),this.map=t,this.addTo(t)}var t=e.prototype;return t.setPoints=function(e){this.points=e;var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y}));this.xmin=Math.min.apply(Math,t),this.xmax=Math.max.apply(Math,t),this.ymin=Math.min.apply(Math,n),this.ymax=Math.max.apply(Math,n)},t.hitTest=function(){return!1},t.render=function(e){var t=this.map;if(!(this.xmax<=0||this.xmin>=t.width||this.ymax<=0||this.ymin>=t.height)){var n=t.getDevicePixelRatio(),o=.5;e.lineWidth=1,e.strokeStyle="#000",e.globalAlpha=1,e.beginPath();var r=this.points;e.moveTo(a(r[0].x),a(r[0].y));for(var i=1;i<this.points.length;i++)e.lineTo(a(r[i].x),a(r[i].y));e.closePath(),e.stroke()}function a(e){return Math.round(e)*n+o}},t.addTo=function(e){this.map=e;var t=e.getRenderer();t.addTopElement(this)},t.delete=function(){if(this.map){var e=this.map.getRenderer();e&&e.removeTopElement(this)}},e}(),td=y+"_edit_stage_";function nd(e,t){return{markerType:e,markerFill:"#fff",markerLineColor:"#000",markerLineWidth:2,markerWidth:10,markerHeight:10,opacity:t}}var od={fixAspectRatio:!1,symbol:null,removeVertexOn:"contextmenu",centerHandleSymbol:nd("ellipse",1),vertexHandleSymbol:nd("square",1),newVertexHandleSymbol:nd("square",.4)},rd=function(e){function t(t,n){var o;return o=e.call(this,n)||this,o._geometry=t,o._geometry?o:Te(o)}ke(t,e);var n=t.prototype;return n.getMap=function(){return this._geometry.getMap()},n.prepare=function(){var e=this.getMap();e&&(e.on("drawtopstart",this._refresh,this),this.options["symbol"]&&(this._originalSymbol=this._geometry.getSymbol(),this._geometry.setSymbol(this.options["symbol"])),this._prepareEditStageLayer())},n._prepareEditStageLayer=function(){var e=this._geometry.getLayer();if("canvas"===e.options["renderer"]){var t=this.getMap(),n=Le(),o=td+n+"_shadow";if(this._shadowLayer=t.getLayer(o),!this._shadowLayer){var r=e.constructor;this._shadowLayer=new r(o),t.addLayer(this._shadowLayer)}}},n.start=function(){if(this._geometry&&this._geometry.getMap()&&!this._geometry.editing){this.editing=!0,this.prepare();var e,t=this._geometry,n=this._geometry.getLayer(),o="canvas"===n.options["renderer"];this._geometryDraggble=t.options["draggable"],o?(t.config("draggable",!1),e=t.copy(),e.setSymbol(t._getInternalSymbol()),e.copyEventListeners(t),t._getParent()&&e.copyEventListeners(t._getParent()),e._setEventTarget(t),e.setId(null).config({draggable:!1}),this._shadow=e,t.hide()):t instanceof ss&&t.config("draggable",!0),this._switchGeometryEvents("on"),(t instanceof ss||t instanceof Cs||t instanceof Es||t instanceof ks)&&this._createOrRefreshOutline(),this._shadowLayer&&this._shadowLayer.bringToFront().addGeometry(e),t instanceof ss?e&&(e.config("draggable",!0),e.on("dragend",this._onMarkerDragEnd,this)):this._createCenterHandle(),t instanceof ss&&!1!==this.options["resize"]?this.createMarkerEditor():t instanceof Cs?this.createCircleEditor():t instanceof Es||t instanceof ks?this.createEllipseOrRectEditor():t instanceof Ms||(t instanceof os||t instanceof us)&&this.createPolygonEditor()}},n.stop=function(){delete this._history,delete this._historyPointer,delete this._editOutline,this._switchGeometryEvents("off");var e=this.getMap();e?(this._geometry.config("draggable",this._geometryDraggble),this._shadow&&(delete this._shadow,delete this._geometryDraggble,this._geometry.show()),this._shadowLayer&&(this._shadowLayer.remove(),delete this._shadowLayer),this._refreshHooks=[],this.options["symbol"]&&(this._geometry.setSymbol(this._originalSymbol),delete this._originalSymbol),this.editing=!1,this.fire("remove")):this.fire("remove")},n.isEditing=function(){return!M(this.editing)&&this.editing},n._getGeometryEvents=function(){return{symbolchange:this._onGeoSymbolChange,dragstart:this._onDragStart,dragend:this._onDragEnd,"positionchange shapechange":this._exeAndReset}},n._switchGeometryEvents=function(e){if(this._geometry){var t=this._getGeometryEvents();for(var n in t)this._geometry[e](n,t[n],this)}},n._onGeoSymbolChange=function(e){this._shadow&&this._shadow.setSymbol(e.target._getInternalSymbol())},n._onMarkerDragEnd=function(){this._update("setCoordinates",this._shadow.getCoordinates().toArray())},n._createOrRefreshOutline=function(){var e=this._geometry,t=this._editOutline;t||(this._editOutline=new ed(this,this.getMap()),this._addRefreshHook(this._createOrRefreshOutline));var n=this._editOutline.points;if(e instanceof ss)this._editOutline.setPoints(e.getContainerExtent().toArray(n));else{var o=this.getMap(),r=e._getPrjExtent();n=r.toArray(n),n.forEach((function(e){return o._prjToContainerPoint(e,null,e)})),this._editOutline.setPoints(n)}return t},n._createCenterHandle=function(){var e,t=this,n=this.getMap(),o=this.options["centerHandleSymbol"],r=n.coordToContainerPoint(this._geometry.getCenter()),i=this.createHandle(r,{symbol:o,cursor:"move",onDown:function(){if(t._shadow){e=t._shadow.copy();var n=On(e._getInternalSymbol(),.5);e.setSymbol(n).addTo(t._geometry.getLayer())}},onMove:function(n){var o=n["coordOffset"];e?e.translate(o):t._geometry.translate(o)},onUp:function(){var n=e||t._geometry;t._update("setCoordinates",$o.toNumberArrays(n.getCoordinates())),e&&e.remove()}});this._addRefreshHook((function(){var e=t._geometry.getCenter();i.setContainerPoint(n.coordToContainerPoint(e))}))},n._createHandleInstance=function(e,t){var n=this.getMap(),o=Rt(t["symbol"],(function(){return[n.getZoom(),{"{bearing}":n.getBearing(),"{pitch}":n.getPitch(),"{zoom}":n.getZoom()}]})),r=this.options["removeVertexOn"],i=new Qu(this,n,{symbol:o,cursor:t["cursor"],events:r});return i.setContainerPoint(e),i},n.createHandle=function(e,t){t||(t={});var n=this._createHandleInstance(e,t),o=this;function r(e){return this._updating=!0,t.onDown&&(this._geometry.fire("handledragstart"),t.onDown.call(o,e["containerPoint"],e)),!1}function i(e){return o._hideContext(),t.onMove&&(this._geometry.fire("handledragging"),t.onMove.call(o,e)),!1}function a(e){return t.onUp&&(this._geometry.fire("handledragend"),t.onUp.call(o,e)),this._updating=!1,!1}return n.on("dragstart",r,this),n.on("dragging",i,this),n.on("dragend",a,this),t.onRefresh&&(n.refresh=t.onRefresh),n},n._createResizeHandles=function(e,t,n){var o=this,r=["nw-resize","n-resize","ne-resize","w-resize","e-resize","sw-resize","s-resize","se-resize"],i=[null,"y",null,"x","x",null,"y",null],a=this._geometry,s=a instanceof ss;function l(){if(s){var e=a.getContainerExtent();return[new Pe(e["xmin"],e["ymin"]),new Pe((e["xmax"]+e["xmin"])/2,e["ymin"]),new Pe(e["xmax"],e["ymin"]),new Pe(e["xmin"],(e["ymin"]+e["ymax"])/2),new Pe(e["xmax"],(e["ymin"]+e["ymax"])/2),new Pe(e["xmin"],e["ymax"]),new Pe((e["xmax"]+e["xmin"])/2,e["ymax"]),new Pe(e["xmax"],e["ymax"])]}var t=a._getPrjExtent();return[new Pe(t["xmin"],t["ymax"]),new Pe((t["xmax"]+t["xmin"])/2,t["ymax"]),new Pe(t["xmax"],t["ymax"]),new Pe(t["xmin"],(t["ymax"]+t["ymin"])/2),new Pe(t["xmax"],(t["ymax"]+t["ymin"])/2),new Pe(t["xmin"],t["ymin"]),new Pe((t["xmax"]+t["xmin"])/2,t["ymin"]),new Pe(t["xmax"],t["ymin"])]}e||(e=[]);var c=this,u=[],d={},h=this.getMap(),m=this.options["vertexHandleSymbol"],p=function(){for(var p=l(),f=function(l){if(Array.isArray(e)){var f=e.some((function(e){return e===l}));if(f)return"continue"}var g=p[l],v=s?g:h._prjToContainerPoint(g);if(u.length<p.length-e.length){var y=o.createHandle(v,{symbol:m,cursor:r[l],axis:i[l],onMove:function(e){return function(n){c._updating=!0,t(n.containerPoint,e),a.fire("resizing")}}(l),onUp:function(){c._updating=!1,n()}});d[l]=u.length,u.push(y)}else u[d[l]].setContainerPoint(v)},g=0;g<p.length;g++)f(g)};return p(),this._addRefreshHook(p),u},n.createMarkerEditor=function(){var e=this,t=this._shadow||this._geometry,n=this.getMap();if(t._canEdit()){this._history||this._recordHistory(m());var o=t._getInternalSymbol(),r=new Pe(0,0);O(o["markerDx"])&&(r.x=o["markerDx"]),O(o["markerDy"])&&(r.y=o["markerDy"]);var i=null,a="middle",s="middle";if(ea.test(o)){var l=o["markerType"];"pin"===l||"pie"===l||"bar"===l?(i=[5,6,7],a="bottom"):"rectangle"===l&&(i=[0,1,2,3,5],a="top",s="left")}else(Gi.test(o)||ta.test(o))&&(a="bottom",i=[5,6,7]);var c,u=[2,1,2,0,0,2,1,2];if(this.options["fixAspectRatio"]){var d=t.getSize();c=d.width/d.height}var h=this._createResizeHandles(i,(function(o,l){if(i&&i.indexOf(l)>=0){var d=n.containerPointToCoordinate(o.sub(r)),m=t.getCoordinates();d.x=m.x,t.setCoordinates(d),e._updateCoordFromShadow(!0);var p=h[h.length-1-l],f=p.getContainerPoint();o=f}var g=n.coordToContainerPoint(t.getCoordinates()).add(r),v=t._getInternalSymbol(),y=o.sub(g);"bottom"===a&&o.y>g.y&&(y.y=0);var b="middle"===a?2:1,w="left"===s?1:2,_=Math.abs(y.x)*w,x=Math.abs(y.y)*b;c&&(_=Math.max(_,x*c),x=_/c);var C=u[l];t instanceof Fs?((c||0===C||2===C)&&(t.setWidth(_),t!==e._geometry&&e._geometry.setWidth(_)),(c||1===C||2===C)&&(t.setHeight(x),t!==e._geometry&&e._geometry.setHeight(x))):((c||0===C||2===C)&&(v["markerWidth"]=Math.min(_,e._geometry.options["maxMarkerWidth"]||1/0)),(c||1===C||2===C)&&(v["markerHeight"]=Math.min(x,e._geometry.options["maxMarkerHeight"]||1/0)),t.setSymbol(v),t!==e._geometry&&e._geometry.setSymbol(v))}),(function(){e._update(m())}))}else console&&console.warn("A marker can't be resized with symbol:",t.getSymbol());function m(){var e=[["setCoordinates",t.getCoordinates().toArray()]];return t instanceof Fs?(e.push(["setWidth",t.getWidth()]),e.push(["setHeight",t.getHeight()])):e.push(["setSymbol",t.getSymbol()]),e}},n.createCircleEditor=function(){var e=this,t=this._shadow||this._geometry,n=this.getMap();this._history||this._recordHistory([["setCoordinates",t.getCoordinates().toArray()],["setRadius",t.getRadius()]]),this._createResizeHandles(null,(function(o){var r=t.getCenter(),i=n.containerPointToCoord(o),a=new us([[r.x,r.y],[i.x,r.y]]),s=new us([[r.x,r.y],[r.x,i.y]]),l=Math.max(n.computeGeometryLength(a),n.computeGeometryLength(s));t.setRadius(l),t!==e._geometry&&e._geometry.setRadius(l)}),(function(){e._update("setRadius",t.getRadius())}))},n.createEllipseOrRectEditor=function(){var e=this,t=[2,1,2,0,0,2,1,2],n=this._shadow||this._geometry;this._history||this._recordHistory(s());var o,r=this.getMap(),i=this._geometry instanceof Es;this.options["fixAspectRatio"]&&(o=n.getWidth()/n.getHeight());var a=this._createResizeHandles(null,(function(s,l){var c,u,d,h=i?1:2,m=a[l],p=m.getContainerPoint(),f=t[l];if(i){var g=a[7-l],v=g.getContainerPoint();c=p.sub(v);var y=c.abs();u=r.pixelToDistance(y.x,0),d=r.pixelToDistance(0,y.y);var b=n.getSize(),w=n.getCoordinates(),_=n.getWidth(),x=n.getHeight(),C=r.containerPointToCoord(s),S=r.containerPointToCoord(v),k=new us([[S.x,S.y],[C.x,S.y]]),E=new us([[S.x,S.y],[S.x,C.y]]);if(u=r.computeGeometryLength(k),d=r.computeGeometryLength(E),0===f)if(o&&(y.y=y.x/o,b.height=Math.abs(y.y),d=u/o),p.y=v.y-b.height/2,C.y=w.y,4===l)C.x=Math.min(C.x,w.x);else{var T=r.locate(w,_,0);C.x=r.locate(new $o(T.x,C.y),-u,0).x}else if(1===f)o&&(y.x=y.y*o,b.width=Math.abs(y.x),u=d*o),p.x=v.x-b.width/2,C.x=w.x,C.y=Math.max(C.y,S.y);else{if(o&&(u>d*o?(d=u/o,p.y=v.y+y.x*je(c.y)/o):(u=d*o,p.x=v.x+y.y*je(c.x)*o)),0===l||5===l){var M=0===l?r.locate(w,_,0):r.locate(w,_,-x);C.x=r.locate(new $o(M.x,C.y),-u,0).x}else C.x=Math.min(C.x,S.x);C.y=Math.max(C.y,S.y)}n.setCoordinates(C),e._updateCoordFromShadow(!0)}else{var O=n.getCenter(),D=r.containerPointToCoord(p),A=new us([[O.x,O.y],[D.x,O.y]]),R=new us([[O.x,O.y],[O.x,D.y]]);u=r.computeGeometryLength(A),d=r.computeGeometryLength(R),o&&(u=Math.max(u,d*o),d=u/o)}(o||0===f||2===f)&&(n.setWidth(u*h),n!==e._geometry&&e._geometry.setWidth(u*h)),(o||1===f||2===f)&&(n.setHeight(d*h),n!==e._geometry&&e._geometry.setHeight(d*h))}),(function(){e._update(s())}));function s(){return[["setCoordinates",n.getCoordinates().toArray()],["setWidth",n.getWidth()],["setHeight",n.getHeight()]]}},n.createPolygonEditor=function(){var e=this.getMap(),t=this._shadow||this._geometry,n=this;this._history||this._recordHistory("setCoordinates",$o.toNumberArrays(t.getCoordinates()));var o=t instanceof os?3:2,r="maptalks--editor-vertex-index",i={0:[]},a={0:[]};function s(e){if(void 0===e&&(e=0),t instanceof os){var n=t.getCoordinates()[e]||[];return n.slice(0,n.length-1)}return t.getCoordinates()}function l(e){return void 0===e&&(e=0),0===e?t._getPrjCoordinates():t._getPrjHoles()[e-1]}function c(){for(var e in i){for(var t=i[e].length-1;t>=0;t--)i[e][t][r]=t;for(var o=a[e].length-1;o>=0;o--)a[e][o][r]=o}n._updateCoordFromShadow()}function u(e){n._updating=!0;var s=e["target"],u=s[r],d=O(s._ringIndex)?s._ringIndex:0,h=l(d);if(!(h.length<=o)){var m,p=t instanceof us&&(0===u||u===h.length-1);if(h.splice(u,1),d>0?t._prjHoles[d-1]=h:t._setPrjCoordinates(h),t._updateCache(),i[d].splice(u,1)[0].delete(),u<a[d].length&&a[d].splice(u,1)[0].delete(),m=0===u?a[d].length-1:u-1,a[d].splice(m,1)[0].delete(),p||a[d].splice(m,0,g.call(n,m,d)),d>0){var f=t.getCoordinates(),v=f[d];v&&Array.isArray(v)&&v.length>1&&(v.splice(u,1),t!==this._geometry&&t.setCoordinates(f))}c(),n._updating=!1}}function d(o,r,i){void 0===i&&(i=0);var s=n._geometry.snapTo;s&&P(s)&&(o=n._geometry.snapTo(o)||o);var c,u=l(i),d=e._containerPointToPrj(o.sub(m())),h=u[r];h.x=d.x,h.y=d.y,t._updateCache(),t.onShapeChanged(),n._updateCoordFromShadow(!0),c=0===r?a[i].length-1:r-1,a[i][r]&&a[i][r].refresh(),a[i][c]&&a[i][c].refresh()}var h=new Pe(0,0);function m(){var e=t._getCompiledSymbol();return h.x=e.lineDx||0,h.y=e.lineDy||0,h}function p(t,o,i){void 0===o&&(o=0);var a=(i||s(o))[t],l=n.createHandle(e.coordToContainerPoint(a)._add(m()),{symbol:n.options["vertexHandleSymbol"],cursor:"pointer",axis:null,onMove:function(){d(l.getContainerPoint(),l[r],o)},onRefresh:function(t,n){a=(n||s(o))[l[r]];var i=e.coordToContainerPoint(a);l.setContainerPoint(i._add(m()))},onUp:function(){n._updateCoordFromShadow()},onDown:function(e,t){!t||!t.domEvent||t.domEvent.button}});return l[r]=t,l._ringIndex=o,l.on(n.options["removeVertexOn"],u),l}var f=!1;function g(o,u,h){void 0===u&&(u=0);var v,y=h||s(u);v=o+1>=y.length?y[0]:y[o+1];var b=y[o].add(v).multi(.5),w=n.createHandle(b,{symbol:n.options["newVertexHandleSymbol"],cursor:"pointer",axis:null,onDown:function(o,i){if(!i||!i.domEvent||2!==i.domEvent.button){var s=l(u),c=w[r],d=w.getContainerPoint(),h=e._containerPointToPrj(d);s.splice(c+1,0,h),u>0?t._prjHoles[u-1]=s:t._setPrjCoordinates(s),t._updateCache(),w.opacity=1,a[u].splice(c,0,g.call(n,c,u),g.call(n,c+1,u)),f=!0}},onMove:function(){d(w.getContainerPoint(),w[r]+1,u)},onUp:function(e){if(e&&e.domEvent&&2===e.domEvent.button)f=!1;else{var t=w[r];Be(w,a[u]),w.delete(),i[u].splice(t+1,0,p.call(n,t+1,u)),c(),n._updateCoordFromShadow(),f=!1}},onRefresh:function(t,n){y=n||s(t);var o,i=w[r];o=i===y.length-1?0:i+1;var a=y[i].add(y[o]).multi(.5),l=e.coordToContainerPoint(a);w.setContainerPoint(l._add(m()))}});return w[r]=o,w}if(t instanceof os)for(var v=t.getHoles().length+1,y=0;y<v;y++){i[y]=[],a[y]=[];for(var b=s(y),w=0,_=b.length;w<_;w++)i[y].push(p.call(this,w,y,b)),w<_-1&&a[y].push(g.call(this,w,y,b));a[y].push(g.call(this,b.length-1,y,b))}else{for(var x=0,C=s(x),S=0,k=C.length;S<k;S++)i[x].push(p.call(this,S,x,C)),S<k-1&&a[x].push(g.call(this,S,x,C));a[x].length&&2===t.getCoordinates().length&&(a[x][0].options.symbol["markerDx"]=12)}this._addRefreshHook((function(){if(!f){for(var e in a)for(var n=s(e),o=a[e].length-1;o>=0;o--)a[e][o].refresh(e,n);for(var r in a[0].length&&t instanceof us&&(2===t.getCoordinates().length?a[0][0].options.symbol["markerDx"]=12:t.getCoordinates().length>2&&(a[0][0].options.symbol["markerDx"]=0)),i)for(var l=s(r),c=i[r].length-1;c>=0;c--)i[r][c].refresh(r,l)}}))},n._refresh=function(){if(this._refreshHooks)for(var e=this._refreshHooks.length-1;e>=0;e--)this._refreshHooks[e].call(this)},n._hideContext=function(){this._geometry&&(this._geometry.closeMenu(),this._geometry.closeInfoWindow())},n._addRefreshHook=function(e){e&&(this._refreshHooks||(this._refreshHooks=[]),this._refreshHooks.push(e))},n._update=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this._exeHistory([e,n]),this._recordHistory.apply(this,[e].concat(n))},n._updateCoordFromShadow=function(e){var t=this._shadow||this._geometry,n=t.getCoordinates(),o=this._geometry,r=this._updating;this._updating=!0,o.setCoordinates(n),e||this._recordHistory("setCoordinates",$o.toNumberArrays(o.getCoordinates())),this._updating=r},n._recordHistory=function(e){this._history||(this._history=[],this._historyPointer=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(this._history.length){var r=this._history[this._history.length-1];if(r[0]===e&&JSON.stringify(r[1])===JSON.stringify(n))return}this._historyPointer<this._history.length-1&&this._history.splice(this._historyPointer+1),this._history.push([e,n]),this._historyPointer=this._history.length-1,this._geometry.fire("editrecord")},n.cancel=function(){if(!this._history||0===this._historyPointer)return this;this._historyPointer=0;var e=this._history[0];return this._exeAndReset(e),this},n.undo=function(){if(!this._history||0===this._historyPointer)return this;var e=this._history[--this._historyPointer];return this._exeAndReset(e),this},n.redo=function(){if(!this._history||this._historyPointer===this._history.length-1)return this;var e=this._history[++this._historyPointer];return this._exeAndReset(e),this},n._exeAndReset=function(e){if(!this._updating){this._exeHistory(e);var t=this._history,n=this._historyPointer;this.stop(),this._history=t,this._historyPointer=n,this.start()}},n._onDragStart=function(){this._updating=!0},n._onDragEnd=function(){this._updating=!1},n._exeHistory=function(e){if(Array.isArray(e)){var t=this._updating;this._updating=!0;var n=this._shadow||this._geometry,o=this._geometry;Array.isArray(e[0])?e[0].forEach((function(e){var t=e[0],r=e.slice(1);n[t].apply(n,r),n!==o&&o[t].apply(o,r)})):(n[e[0]].apply(n,e[1]),n!==o&&o[e[0]].apply(o,e[1])),this._updating=t}},t}(Po(No));rd.mergeOptions(od);var id={startEditText:function(){return this.getMap()?(this.hide(),this.endEditText(),this._prepareEditor(),this._fireEvent("edittextstart"),this):this},endEditText:function(){if(this._textEditor){var e=this._textEditor.innerHTML;e=e.replace(/<p>/gi,"").replace(/<\/p>/gi,"<br/>"),this._textEditor.innerHTML=e;var t=this._textEditor.innerText.replace(/[\r\n]+$/gi,"");this.setContent(t),mo(this._textEditor,"mousedown dblclick",Kn),this.getMap().off("mousedown",this.endEditText,this),this._editUIMarker.remove(),delete this._editUIMarker,this._textEditor.onkeyup=null,delete this._textEditor,this.show(),this._fireEvent("edittextend")}return this},isEditingText:function(){return!!this._textEditor},getTextEditor:function(){return this._editUIMarker},_prepareEditor:function(){var e=this.getMap(),t=this._createEditor();this._textEditor=t,e.on("mousedown",this.endEditText,this);var n=this._getEditorOffset();this._editUIMarker=new dc(this.getCoordinates(),{animation:null,content:t,dx:n.dx,dy:n.dy}).addTo(e),this._setCursorToLast(this._textEditor)},_getEditorOffset:function(){var e=this._getInternalSymbol()||{},t=0,n=0,o=e["textHorizontalAlignment"];return"middle"===o||M(o)?(t=(e["textDx"]||0)-2,n=(e["textDy"]||0)-2):(t=(e["markerDx"]||0)-2,n=(e["markerDy"]||0)-2),{dx:t,dy:n}},_createEditor:function(){var e=this.getContent(),t=this.getSize(),n=this._getInternalSymbol()||{},o=t.width,r=n["textFill"]||"#000000",i=n["textSize"]||12,a=t.height,s=n["markerLineColor"]||"#000",l=n["markerFill"]||"#3398CC",c=n["textLineSpacing"]||0,u=Vn("div");return u.contentEditable=!0,u.style.cssText="background:"+l+"; border:1px solid "+s+";\n            color:"+r+";font-size:"+i+"px;width:"+(o-2)+"px;height:"+(a-2)+"px;margin: auto;\n            line-height:"+(i+c)+"px;outline: 0; padding:0; margin:0;word-wrap: break-word;\n            overflow: hidden;-webkit-user-modify: read-write-plaintext-only;",u.innerText=e,ho(u,"mousedown dblclick",Kn),u.onkeyup=function(e){var t=u.style.height||0;13===e.keyCode&&(u.style.height=parseInt(t)+i/2+"px")},u},_setCursorToLast:function(e){var t;window.getSelection?(e.focus(),t=window.getSelection(),t.selectAllChildren(e),t.collapseToEnd()):document.selection&&(t=document.selection.createRange(),t.moveToElementText(e),t.collapse(!1),t.select())}};Ls.include(id),Sa.include({animate:function(e,t,n){var o=this;this._animPlayer&&this._animPlayer.finish(),P(t)&&(n=t),t||(t={});var r,i=this.getMap(),a=this._getProjection(),s=this._prepareAnimationStyles(e),l=t["focus"];if(delete this._animationStarted,i){var c=i._getRenderer(),u=function(e){c.callInNextFrame(e)};t["framer"]=u}var d=Qa.animate(s,t,(function(e){if(i&&i.isRemoved())d.finish();else{i&&!o._animationStarted&&l&&i.onMoveStart();var t=e.styles;for(var s in t)if("symbol"!==s&&"translate"!==s&&t.hasOwnProperty(s)){var c="set"+s[0].toUpperCase()+s.slice(1);o[c](t[s])}var u=t["translate"];if(u){var h=u;r&&(h=u.sub(r)),r=u,o.translate(h)}var m=t["symbol"];if(m){var p=o.getSymbol()||{};o.setSymbol(Dn(p,m))}if(i&&l){var f=a.project(o.getCenter());i._setPrjCenter(f);var g=i._parseEventFromCoord(a.unproject(f));"running"!==d.playState?i.onMoveEnd(g):i.onMoving(g)}o._fireAnimateEvent(d.playState),n&&n(e)}}),this);return this._animPlayer=d,this._animPlayer.play()},_prepareAnimationStyles:function(e){var t=this._getInternalSymbol(),n={};for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];if("translate"!==o&&"symbol"!==o){var i="get"+o[0].toUpperCase()+o.substring(1),a=this[i]();n[o]=[a,r]}else if("symbol"===o){var s=void 0;if(Array.isArray(e["symbol"])){if(!Array.isArray(t))throw new Error("geometry'symbol isn't a composite symbol, while the symbol in styles is.");s=[];for(var l=e["symbol"],c=0;c<l.length;c++)if(l[c]){var u={};for(var d in l[c])l[c].hasOwnProperty(d)&&(u[d]=[t[c][d],l[c][d]]);s.push(u)}else s.push(null)}else{if(Array.isArray(t))throw new Error("geometry'symbol is a composite symbol, while the symbol in styles isn't.");for(var h in s={},r)r.hasOwnProperty(h)&&(s[h]=[t[h],r[h]])}n["symbol"]=s}else"translate"===o&&(n["translate"]=new $o(r))}return n},_fireAnimateEvent:function(e){"finished"===e?(delete this._animationStarted,this._fireEvent("animateend")):"running"===e&&(this._animationStarted?this._fireEvent("animating"):(this._fireEvent("animatestart"),this._animationStarted=!0))}});var ad=y+"_drag_stage",sd=_e.touch?"touchstart mousedown":"mousedown",ld=function(e){function t(t){return e.call(this,t)||this}ke(t,e);var n=t.prototype;return n.addHooks=function(){this.target.on(sd,this._startDrag,this)},n.removeHooks=function(){this._endDrag(),this.target.off(sd,this._startDrag,this),delete this.container},n._prepareDragHandler=function(){this._dragHandler=new Zo(this.container),this._dragHandler.on("dragging",this._dragging,this).on("mouseup",this._endDrag,this).enable()},n._prepareShadow=function(){var e=this,t=this.target,n="canvas"===t.getLayer().options["renderer"];if(n){this._prepareDragStageLayer(),this._shadow&&this._shadow.remove();var o=this._shadow=t.copy();if(o.getGeometries){var r=o.getGeometries(),i=t.getGeometries();r.forEach((function(t,n){e._updateShadowSymbol(t,i[n])}))}else this._updateShadowSymbol(o,t);o.setId(null),this._prepareShadowConnectors()}},n._updateShadowSymbol=function(e,t){if(e.setSymbol(t._getInternalSymbol()),t.options["dragShadow"]){var n=On(e._getInternalSymbol(),.5);e.setSymbol(n)}},n._prepareShadowConnectors=function(){var e=this.target,t=this._shadow,n=this._dragStageLayer._getRenderer().resources,o=[];if(Ws._hasConnectors(e))for(var r=Ws._getConnectors(e),i=0,a=r.length;i<a;i++){var s=r[i],l=s.config(),c=s._getInternalSymbol();l["symbol"]=On(c,.5);var u=void 0;u=s.getConnectSource()===e?new s.constructor(t,s.getConnectTarget(),l):new s.constructor(s.getConnectSource(),t,l),o.push(u),s.getLayer()&&s.getLayer()._getRenderer()&&n.merge(s.getLayer()._getRenderer().resources)}this._shadowConnectors=o,o.push(t),this._dragStageLayer.bringToFront().addGeometry(o)},n._onTargetUpdated=function(){this._shadow&&this._shadow.setSymbol(this.target._getSymbol())},n._prepareDragStageLayer=function(){var e=this.target.getMap(),t=this.target.getLayer();this._dragStageLayer=e.getLayer(ad),this._dragStageLayer||(this._dragStageLayer=new Js(ad,{enableAltitude:t.options["enableAltitude"],altitudeProperty:t.options["altitudeProperty"]}),e.addLayer(this._dragStageLayer));var n=new Qr;n.merge(t._getRenderer().resources),this._dragStageLayer._getRenderer().resources=n},n._startDrag=function(e){var t=this.target.getMap();if(t){var n=this.target._getParent();if(!n&&!this.isDragging()){var o=e["domEvent"];o.touches&&o.touches.length>1||2===o.button||(this.container=t._panels.mapWrapper||t._containerDOM,this.target.on("click",this._endDrag,this),this._lastCoord=this._correctCoord(e["coordinate"]),this._lastPoint=e["containerPoint"],this._prepareDragHandler(),this._dragHandler.onMouseDown(e["domEvent"]),ho(this.container,"mouseleave",this._endDrag,this),this._startParam=e,this._moved=!1)}}},n._dragging=function(e){var t=this.target,n=t.getMap(),o=n._parseEvent(e["domEvent"]),r=o["domEvent"];if(!(r.touches&&r.touches.length>1)){var i=n._getVisualHeight(n.options["maxVisualPitch"]);if(!(o.containerPoint.y<n.height-i)){if(!this._moved)return this._moved=!0,t.on("symbolchange",this._onTargetUpdated,this),this._isDragging=!0,this._prepareShadow(),this._shadow&&(t.options["dragShadow"]||t.hide(),this._shadow._fireEvent("dragstart",o)),this.target._fireEvent("dragstart",this._startParam||o),void delete this._startParam;var a=this._shadow||t,s=a.options["dragOnAxis"],l=a.options["dragOnScreenAxis"],c=o["containerPoint"],u=o["coordinate"];this._lastPoint=this._lastPoint||c,this._lastCoord=this._lastCoord||u,l?("x"===s?c.y=this._lastPoint.y:"y"===s&&(c.x=this._lastPoint.x),u=n.containerPointToCoord(c)):u=this._correctCoord(u);var d=c.sub(this._lastPoint),h=u.sub(this._lastCoord);l||("x"===s?d.y=h.y=0:"y"===s&&(d.x=h.x=0)),this._lastPoint=c,this._lastCoord=u,a.translate(h),a===t||t.options["dragShadow"]||t.translate(h),o["coordOffset"]=h,o["pointOffset"]=d,a._fireEvent("dragging",o),a!==t&&t._fireEvent("dragging",o)}}},n._endDrag=function(e){if(this._dragHandler&&(this._dragHandler.disable(),delete this._dragHandler),this.container&&mo(this.container,"mouseleave",this._endDrag,this),this.target){var t=this.target;t.off("click",this._endDrag,this),t.off("symbolchange",this._onTargetUpdated,this),delete this._lastCoord,delete this._lastPoint,this._isDragging=!1;var n=t.getMap();if(this.enabled()&&n){var o=n._parseEvent(e?e["domEvent"]:null);this._updateTargetAndRemoveShadow(o),this._moved&&t._fireEvent("dragend",o)}}},n.isDragging=function(){return!!this._isDragging},n._updateTargetAndRemoveShadow=function(e){if(this._shadow){var t=this.target,n=t.getMap();t.options["dragShadow"]||t.show();var o=this._shadow;if(o){if(t.options["dragShadow"])if(t.getGeometries){var r=o.getGeometries(),i=t.getGeometries();r.forEach((function(e,t){i[t].setCoordinates(r[t].getCoordinates())}))}else t.setCoordinates(o.getCoordinates());o._fireEvent("dragend",e),o.remove(),delete this._shadow}this._shadowConnectors&&(n.getLayer(ad).removeGeometry(this._shadowConnectors),delete this._shadowConnectors),this._dragStageLayer&&(this._dragStageLayer._getRenderer().resources=new Qr,this._dragStageLayer.remove())}},n._correctCoord=function(e){var t=this.target.getMap();if(!t.getPitch())return e;var n=this.target;if(!n.getMinAltitude())return e;var o=(n.getMinAltitude()+n.getMaxAltitude())/2;return t.locateByPoint(e,0,-o)},t}(zo);Sa.mergeOptions({draggable:!1,dragShadow:!0,dragOnAxis:null,dragOnScreenAxis:!1}),Sa.addInitHook("addHandler","draggable",ld),Sa.include({isDragging:function(){return this._getParent()?this._getParent().isDragging():!!this["draggable"]&&this["draggable"].isDragging()}}),Sa.include({startEdit:function(e){var t=this.getMap();return t&&this.options["editable"]?(this._editor&&this.endEdit(),this._editor=new rd(this,e),this._editor.start(),this._getParent()||this.fire("editstart"),t.getRenderer().setToRedraw(),this):this},endEdit:function(){if(this._editor){this._editor.stop(),delete this._editor,this._getParent()||this.fire("editend");var e=this.getMap();e&&e.getRenderer().setToRedraw()}return this},redoEdit:function(){return this.isEditing()?(this._editor.redo(),this._getParent()||this.fire("redoedit"),this):this},undoEdit:function(){return this.isEditing()?(this._editor.undo(),this._getParent()||this.fire("undoedit"),this):this},cancelEdit:function(){return this.isEditing()?(this._editor.cancel(),this._getParent()||this.fire("canceledit"),this):this},isEditing:function(){return!!this._editor&&this._editor.isEditing()}}),Sa.include({_onEvent:function(e,t){var n=this.getMap();if(n){var o=t||this._getEventTypeToFire(e);"contextmenu"===o&&this.listens("contextmenu")&&(Kn(e),Gn(e));var r=n._getEventParams(e);O(this._pickGeometryIndex)&&(r.pickGeometryIndex=this._pickGeometryIndex),this._fireEvent(o,r)}},_getEventTypeToFire:function(e){return e.type}}),Sa.include({setInfoWindow:function(e){return this.removeInfoWindow(),e instanceof vc?(this._infoWindow=e,this._infoWinOptions=T({},this._infoWindow.options),this._infoWindow.addTo(this),this):(this._infoWinOptions=T({},e),this._infoWindow?this._infoWindow.setOptions(e):this.getMap()&&this._bindInfoWindow(),this)},getInfoWindow:function(){return this._infoWindow?this._infoWindow:null},openInfoWindow:function(e){return this.getMap()?(e||(e=this.getCenter()),this._infoWindow?this._infoWindow.show(e):this._infoWinOptions&&this.getMap()&&(this._bindInfoWindow(),this._infoWindow.show(e)),this):this},closeInfoWindow:function(){return this._infoWindow&&this._infoWindow.hide(),this},removeInfoWindow:function(){return this._unbindInfoWindow(),delete this._infoWinOptions,delete this._infoWindow,this},_bindInfoWindow:function(){var e=this._infoWinOptions;return e?(this._infoWindow=new vc(e),this._infoWindow.addTo(this),this):this},_unbindInfoWindow:function(){return this._infoWindow&&(this.closeInfoWindow(),this._infoWindow.remove(),delete this._infoWindow),this}});var cd=new Pe(0,0),ud=new Pe(0,0),dd=new Pe(0,0),hd=new Pe(0,0),md=[],pd=function(e){function t(){return e.call(this,Kr)||this}ke(t,e);var n=t.prototype;return n.checkUrl=function(e){return e&&R(e)?ct(e):e},n.fetchImage=function(e,t,n,o){e=this.checkUrl(e);var r={url:e,fetchOptions:o};this.send(r,md,n,t)},t}(qr),fd=new Image,gd=function(e){function t(t){var n;return n=e.call(this,t)||this,n.tilesInView={},n.tilesLoading={},n._parentTiles=[],n._childTiles=[],n._tileQueue=[],n.tileCache=new vo(t.options["maxCacheSize"],(function(e){n.deleteTile(e)})),_e.decodeImageInWorker&&n.layer.options["decodeImageInWorker"]&&("gl"===t.options["renderer"]||!_e.safari&&!_e.iosWeixin)&&(n._tileImageWorkerConn=new pd),n._compareTiles=bd.bind(Te(Te(n))),n}ke(t,e);var n=t.prototype;return n.getCurrentTileZoom=function(){return this._tileZoom},n.draw=function(e,t){var n=this.getMap();if(this.isDrawable()){var o=this.prepareCanvas();if(!o||o.intersects(this.canvasExtent2D)){var r;this._renderTimestamp!==e&&(this._consumeTileQueue(),this._computeAvgTileAltitude(),this._renderTimestamp=e);var i=!1,a=this._frameTiles;if(a&&e===a.timestamp){if(a.empty)return;r=a}else{if(r=this._getTilesInCurrentFrame(),!r)return this._frameTiles={empty:!0,timestamp:e},void this.completeRender();i=!0,this._frameTiles=r,this._frameTiles.timestamp=e,r.loadingCount&&this.loadTileQueue(r.tileQueue)}var s=r,l=s.tiles,c=s.childTiles,u=s.parentTiles,d=s.placeholders,h=s.loading,m=s.loadingCount;this._drawTiles(l,u,c,d,t),m||h||(n.isAnimating()||!this._parentTiles.length&&!this._childTiles.length||(this._parentTiles=[],this._childTiles=[],this.setToRedraw()),this.completeRender()),i&&this._retireTiles()}else this.completeRender()}},n.getTileGridsInCurrentFrame=function(){return this._frameTileGrids},n._getTilesInCurrentFrame=function(){var e=this.getMap(),t=this.layer,n=t.getTiles();if(this._frameTileGrids=n,n=n.tileGrids,!n||!n.length)return null;var o=n.reduce((function(e,t){return e+(t&&t.tiles&&t.tiles.length||0)}),0);o>=this.tileCache.max/2&&this.tileCache.setMaxSize(2*o+1);var r=0,i=!1,a={},s=[],l=[],c={},u=[],d={},h=[],m={},p={},f=this._markTiles(),g=this._getLoadLimit(),v=n.length;this._tileZoom=n[0]["zoom"];for(var y=0;y<v;y++){var b=n[y],w=b["tiles"],_=b["parents"]||md,x=_.length,C=_.concat(w),S=void 0;C.length&&(S=this._generatePlaceHolder(C[0].res));for(var k=0,E=C.length;k<E;k++){var T=C[k],M=T["id"],O=k<x,D=!1;if(this._isLoadingTile(M))D=i=!0,this.tilesLoading[M].current=!0;else{var A=this._getCachedTile(M,O);if(A)O||(A.image&&this.isTileFadingIn(A.image)&&(D=i=!0,this.setToRedraw()),s.push(A),this.isTileComplete(A)||(D=!0));else{D=i=!0;var R=g&&r+f[0]>g;if(!R&&(!e.isInteracting()||e.isMoving()||e.isRotating())){r++;var P=M;p[P]=T}}}if(!O&&(D&&!a[M])){a[M]=1,S&&!m[M]&&(T.cache=!1,h.push({image:S,info:T}),m[M]=1);var I=this._findChildTiles(T);if(I.length&&I.forEach((function(e){d[e.info.id]||(u.push(e),d[e.info.id]=1)})),!I.length||4!==I.length){var z=this._findParentTile(T);if(z){var N=z.info.id;void 0===c[N]&&(c[N]=l.length,l.push(z))}}}}}return this.tileCache.shrink(),{childTiles:u,parentTiles:l,tiles:s,placeholders:h,loading:i,loadingCount:r,tileQueue:p}},n.removeTileCache=function(e){delete this.tilesInView[e],this.tileCache.remove(e)},n.isTileCachedOrLoading=function(e){return this.tileCache.get(e)||this.tilesInView[e]||this.tilesLoading[e]},n.isTileCached=function(e){return!(!this.tileCache.get(e)&&!this.tilesInView[e])},n.isTileFadingIn=function(e){return this._getTileFadingOpacity(e)<1},n._drawTiles=function(e,t,n,o,r){var i=this;t.length&&(t.sort(this._compareTiles),this._parentTiles=t),n.length&&(this._childTiles=n,this._childTiles.sort(this._compareTiles));var a=!0,s=this.canvas._parentTileTimestamp;this.layer.constructor!==hu&&this.layer.constructor!==Cu||(this._renderTimestamp===s?a=!1:this.canvas._parentTileTimestamp=this._renderTimestamp);var l={tiles:e,parentTiles:this._parentTiles,childTiles:this._childTiles,parentContext:r};if(this.onDrawTileStart(l,r),a&&1===this.layer.options["opacity"]){this.layer._silentConfig=!0;var c=this.layer.options["fadeAnimation"];this.layer.options["fadeAnimation"]=!1,this.drawingChildTiles=!0,this._childTiles.forEach((function(e){return i._drawTile(e.info,e.image,r)})),delete this.drawingChildTiles,this.drawingParentTiles=!0,this._parentTiles.forEach((function(e){return i._drawTile(e.info,e.image,r)})),delete this.drawingParentTiles,this.layer.options["fadeAnimation"]=c,this.layer._silentConfig=!1}this.drawingCurrentTiles=!0,e.sort(this._compareTiles);for(var u=0,d=e.length;u<d;u++)this._drawTileAndCache(e[u],r);if(delete this.drawingCurrentTiles,a&&this.layer.options["opacity"]<1){this.layer._silentConfig=!0;var h=this.layer.options["fadeAnimation"];this.layer.options["fadeAnimation"]=!1,this.drawingChildTiles=!0,this._childTiles.forEach((function(e){return i._drawTile(e.info,e.image,r)})),delete this.drawingChildTiles,this.drawingParentTiles=!0,this._parentTiles.forEach((function(e){return i._drawTile(e.info,e.image,r)})),delete this.drawingParentTiles,this.layer.options["fadeAnimation"]=h,this.layer._silentConfig=!1}o.forEach((function(e){return i._drawTile(e.info,e.image,r)})),this.onDrawTileEnd(l,r)},n.onDrawTileStart=function(){},n.onDrawTileEnd=function(){},n._drawTile=function(e,t,n){t&&this.drawTile(e,t,n)},n._drawTileAndCache=function(e,t){this.tilesInView[e.info.id]=e,this._drawTile(e.info,e.image,t)},n.drawOnInteracting=function(e,t,n){this.draw(t,n)},n.needToRedraw=function(){var t=this.getMap();return!!this._tileQueue.length||(t.getPitch()?e.prototype.needToRedraw.call(this):!(!t.isRotating()&&!t.isZooming())||(t.isMoving()?!!this.layer.options["forceRenderOnMoving"]:e.prototype.needToRedraw.call(this)))},n.hitDetect=function(){return!1},n._getLoadLimit=function(){return this.getMap().isInteracting()?this.layer.options["loadingLimitOnInteracting"]:0},n.isDrawable=function(){return!this.getMap().getPitch()||(console&&console.warn("TileLayer with canvas renderer can't be pitched, use gl renderer ('renderer' : 'gl') instead."),this.clear(),!1)},n.clear=function(){this._retireTiles(!0),this.tileCache.reset(),this.tilesInView={},this.tilesLoading={},this._parentTiles=[],this._childTiles=[],e.prototype.clear.call(this)},n._isLoadingTile=function(e){return!!this.tilesLoading[e]},n.clipCanvas=function(t){return e.prototype.clipCanvas.call(this,t)},n._clipByPitch=function(e){var t=this.getMap();if(t.getPitch()<=t.options["maxVisualPitch"])return!1;if(!this.layer.options["clipByPitch"])return!1;var n=t.getContainerExtent(),o=t.getDevicePixelRatio();return e.save(),e.strokeStyle="rgba(0, 0, 0, 0)",e.beginPath(),e.rect(0,Math.ceil(n.ymin)*o,Math.ceil(n.getWidth())*o,Math.ceil(n.getHeight())*o),e.stroke(),e.clip(),!0},n.loadTileQueue=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],o=this.loadTile(n);void 0===o.loadTime&&(this.tilesLoading[n["id"]]={image:o,current:!0,info:n})}},n.loadTile=function(e){var t=this,n={};if(this.loadTileBitmap){var o=function(n){t.onTileLoad(n,e)};this.loadTileBitmap(e["url"],e,o)}else if(this._tileImageWorkerConn&&this.loadTileImage===this.constructor.prototype.loadTileImage)this._fetchImage(n,e);else{var r=this.layer.getTileSize(e.layer);n=new Image,n.width=r["width"],n.height=r["height"],n.onload=this.onTileLoad.bind(this,n,e),n.onerror=this.onTileError.bind(this,n,e),this.loadTileImage(n,e["url"])}return n},n._fetchImage=function(e,t){var n=this;if(e instanceof Image)e.src=t.url;else{var o=t.x,r=t.y,i=Math.abs(o+r)%this._tileImageWorkerConn.workers.length;this._tileImageWorkerConn.fetchImage(t.url,i,(function(o,r){o?n.onTileError(e,t,o):lt(r,(function(e){n.onTileLoad(e,t)}))}),this.layer.options["fetchOptions"]||{referrer:document.location.href,headers:{accept:"image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8"}})}},n.loadTileImage=function(e,t){var n=this.layer.options["crossOrigin"];return M(n)||(e.crossOrigin=n),ze(e,[t])},n.abortTileLoading=function(e){e&&(e.onload=vd,e.onerror=vd,e.src=ot)},n.onTileLoad=function(e,t){this._tileQueue.push({tileInfo:t,tileData:e})},n._consumeTileQueue=function(){var e=0,t=this.layer.options["tileLimitPerFrame"],n=this._tileQueue;while(n.length&&(t<=0||e<t)){var o=n.shift(),r=o.tileData,i=o.tileInfo;this.checkTileInQueue(r,i)&&(this.consumeTile(r,i),e++)}},n._computeAvgTileAltitude=function(){var e=0,t=0,n=0;for(var o in this.tilesInView){var r=this.tilesInView[o]&&this.tilesInView[o].info;r&&(e+=r.minAltitude||0,t+=r.maxAltitude||0,n++)}this.avgMinAltitude=e/n,this.avgMaxAltitude=t/n},n.checkTileInQueue=function(){return!0},n.consumeTile=function(e,t){if(this.layer){var n=t["id"];if(this.tilesInView){var o={tile:t,tileImage:e};this.layer.fire("tileload",o),e=o.tileImage,this.resetTileLoadTime(e),delete this.tilesLoading[n],this._addTileToCache(t,e),this.setToRedraw()}}},n.resetTileLoadTime=function(e){e.loadTime=E()},n.onTileError=function(e,t){if(this.layer){e.onerrorTick=e.onerrorTick||0;var n=this.layer.options["tileRetryCount"];if(n>e.onerrorTick)return e.onerrorTick++,void this._fetchImage(e,t);var o=this.layer.options["errorUrl"];if(o){if(e instanceof Image&&e.src!==o)return void(e.src=o);e=new Image,e.src=o}e=e instanceof Image?e:fd,this.abortTileLoading(e,t),e.loadTime=0,delete this.tilesLoading[t["id"]],this._addTileToCache(t,e),this.setToRedraw(),this.layer.fire("tileerror",{tile:t})}},n.drawTile=function(e,t){if(t&&this.getMap()){var n=e.extent2d,o=e.offset,r=cd.set(n.xmin-o[0],n.ymax-o[1]),i=e.z,a=e.id,s=this.getMap(),l=s.getZoom(),c=this.context,u=s._pointAtResToContainerPoint(r,e.res,0,ud),d=s.getBearing(),h=d||l!==i,m=this.getTileOpacity(t,e),p=c.globalAlpha;m<1&&(c.globalAlpha=m),h||u._round();var f=u.x,g=u.y,v=e.extent2d.xmax-e.extent2d.xmin,y=e.extent2d.ymax-e.extent2d.ymin;if(h){c.save(),c.translate(f,g),d&&c.rotate(-d*Math.PI/180),v+=.5,y+=.5;var b=s._getResolution();if(b!==e.res){var w=e.res/b;c.scale(w,w)}f=g=0}if(Eo.image(c,t,f,g,v,y),this.layer.options["debug"]){var _=this.layer.options["debugOutline"];c.save(),c.strokeStyle=_,c.fillStyle=_,c.strokeWidth=10,c.font="20px monospace";var x=new Pe(f,g);Eo.rectangle(c,x,{width:v,height:y},1,0),Eo.fillText(c,this.getDebugInfo(a),x._add(32,y-14),_),Eo.drawCross(c,f+v/2,g+y/2,2,_),c.restore()}h&&c.restore(),c.globalAlpha!==p&&(c.globalAlpha=p),this.setCanvasUpdated()}},n.getDebugInfo=function(e){var t=e.split("_"),n=t.length;return t[n-3]+"/"+t[n-2]+"/"+t[n-1]},n._findChildTiles=function(e){var t=this._getLayerOfTile(e.layer);if(!t||!t.options["background"]||e.z>this.layer.getMaxZoom())return md;var n=this.getMap(),o=[];if(t._isPyramidMode()){for(var r=t.options["zoomOffset"],i=2*e.x,a=2*e.y,s=e.z+1,l=0;l<2;l++)for(var c=0;c<2;c++){var u=t._getTileId(i+l,a+c,s+r,e.layer);if(this.tileCache.has(u)){var d=this.tileCache.getAndRemove(u);this.isValidCachedTile(d)&&(o.push(d),this.tileCache.add(u,d))}}return o}for(var h=1,m=e.res,p=e.extent2d.getMin(),f=e.extent2d.getMax(),g=t._project(n._pointToPrjAtRes(p,m,dd),dd),v=t._project(n._pointToPrjAtRes(f,m,hd),hd),y=1;y<h;y++)this._findChildTilesAt(o,g,v,t,e.z+y);return o},n._findChildTilesAt=function(e,t,n,o,r){var i=o.options["zoomOffset"],a=o.getId(),s=o.getSpatialReference().getResolution(r+i);if(s)for(var l,c,u=o._getTileConfig().getTileIndex(t,s),d=o._getTileConfig().getTileIndex(n,s),h=Math.min(u.idx,d.idx),m=Math.max(u.idx,d.idx),p=Math.min(u.idy,d.idy),f=Math.max(u.idy,d.idy),g=h;g<m;g++)for(var v=p;v<f;v++)l=o._getTileId(g,v,r+i,a),this.tileCache.has(l)&&(c=this.tileCache.getAndRemove(l),this.isValidCachedTile(c)&&(e.push(c),this.tileCache.add(l,c)))},n._findParentTile=function(e){var t=this.getMap(),n=this._getLayerOfTile(e.layer);if(!n||!n.options["background"])return null;var o=n.options["zoomOffset"],r=n.getMinZoom(),i=e.z-r;if(n._isPyramidMode()){for(var a=e.z-1;a>=r;a--){var s=e.z-a,l=Math.pow(2,s),c=Math.floor(e.x/l),u=Math.floor(e.y/l),d=n._getTileId(c,u,a+o,e.layer);if(this.tileCache.has(d)){var h=this.tileCache.getAndRemove(d);if(this.isValidCachedTile(h))return this.tileCache.add(d,h),h}}return null}for(var m=n.getSpatialReference(),p=m.getZoomDirection(),f=e.res,g=e.extent2d.getCenter(),v=n._project(t._pointToPrjAtRes(g,f)),y=1;y<=i;y++){var b=e.z-p*y,w=m.getResolution(b+o);if(w){var _=n._getTileConfig().getTileIndex(v,w),x=n._getTileId(_.x,_.y,b+o,e.layer);if(this.tileCache.has(x)){var C=this.tileCache.getAndRemove(x);return this.tileCache.add(x,C),C}}}return null},n.isValidCachedTile=function(e){return!!e.image},n.isTileComplete=function(){return!0},n._getLayerOfTile=function(e){return this.layer.getChildLayer?this.layer.getChildLayer(e):this.layer},n._getCachedTile=function(e,t){var n=this.tilesInView,o=this.tileCache.getAndRemove(e);if(o){t||(n[e]=o);var r=this.tilesLoading;if(r&&r[e]){r[e].current=!1;var i=r[e],a=i.image,s=i.info;this.abortTileLoading(a,s),delete r[e]}}else o=n[e];return o&&(o.current=!0,this.tileCache.add(e,o)),o},n._addTileToCache=function(e,t){this.tilesInView[e.id]={image:t,current:!0,info:e}},n.getTileOpacity=function(e,t){var n=this._getTileFadingOpacity(e);if(this.layer.getChildLayer){var o=this.layer.getLayer(t.layer);o&&(n*=o.options["opacity"])}return n},n._getTileFadingOpacity=function(e){return this.layer.options["fadeAnimation"]&&e.loadTime?Math.min(1,(E()-e.loadTime)/this.layer.options["fadeDuration"]):1},n.onRemove=function(){this.clear(),delete this.tileCache,delete this._tilePlaceHolder,e.prototype.onRemove.call(this)},n._markTiles=function(){var e=0,t=0;if(this.tilesLoading)for(var n in this.tilesLoading)this.tilesLoading[n].current=!1,e++;if(this.tilesInView)for(var o in this.tilesInView)this.tilesInView[o].current=!1,t++;return[e,t]},n._retireTiles=function(e){for(var t in this.tilesLoading){var n=this.tilesLoading[t];!e&&n.current||(n.image&&this.abortTileLoading(n.image,n.info),this.deleteTile(n),delete this.tilesLoading[t])}for(var o in this.tilesInView){var r=this.tilesInView[o];r.current||(delete this.tilesInView[o],this.tileCache.has(o)||this.deleteTile(r))}},n.deleteTile=function(e){e&&e.image&&(e.image.close&&e.image.close(),e.image.onload=null,e.image.onerror=null)},n._generatePlaceHolder=function(e){var t=this.getMap(),n=this.layer.options["placeholder"];if(!n||t.getPitch())return null;var o=this.layer.getTileSize(),r=e/t._getResolution(),i=this._tilePlaceHolder=this._tilePlaceHolder||Eo.createCanvas(1,1,t.CanvasClass);return i.width=o.width*r,i.height=o.height*r,P(n)?n(i):yd(i),i},t}(Xr);function vd(){return!1}function yd(e){var t=e.getContext("2d"),n=e.width,o=e.height,r=n/16,i=o/16;t.beginPath();for(var a=0;a<16;a++)t.moveTo(0,a*i),t.lineTo(n,a*i),t.moveTo(a*r,0),t.lineTo(a*r,o);t.strokeStyle="rgba(180, 180, 180, 0.1)",t.lineWidth=1,t.stroke(),t.beginPath();for(var s=[[0,0],[n,0],[0,o],[n,o],[0,0],[0,o],[n,0],[n,o],[0,o/2],[n,o/2],[n/2,0],[n/2,o]],l=1;l<s.length;l+=2)t.moveTo(s[l-1][0],s[l-1][1]),t.lineTo(s[l][0],s[l][1]);t.lineWidth=4,t.stroke()}function bd(e,t){return Math.abs(this._tileZoom-e.info.z)-Math.abs(this._tileZoom-t.info.z)}hu.registerRenderer("canvas",gd);var wd=new Pe(0,0),_d={properties:{}},xd=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.isDrawable=function(){return!0},n.needToRedraw=function(){var t=this.getMap();return!(!this._gl()||t.getPitch()||!t.isZooming()||t.isMoving()||t.isRotating())||e.prototype.needToRedraw.call(this)},n.onDrawTileStart=function(e,t){var n=this.gl;n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.enable(n.POLYGON_OFFSET_FILL),n.enable(n.STENCIL_TEST),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var o=M(this.layer.options["depthMask"])||!!this.layer.options["depthMask"];if(n.depthMask(o),t&&t.renderTarget){var r=t.renderTarget.fbo;if(r){var i=t.renderTarget.getFramebuffer(r);n.bindFramebuffer(n.FRAMEBUFFER,i)}}},n.onDrawTileEnd=function(e,t){var n=this.gl;if(t&&t.renderTarget){var o=t.renderTarget.fbo;o&&n.bindFramebuffer(n.FRAMEBUFFER,null)}},n.drawTile=function(t,n,o){if(!o||!o.sceneFilter||o.sceneFilter(_d)){var r=this.getMap();if(t&&r&&n){var i=t._glScale=t._glScale||t.res/r.getGLRes(),a=t.extent2d.xmax-t.extent2d.xmin,s=t.extent2d.ymax-t.extent2d.ymin;if(!1!==t.cache&&this._bindGLBuffer(n,a,s),this._gl()){var l=t.extent2d,c=t.offset,u=wd.set(l.xmin-c[0],t.extent2d.ymax-c[1]),d=u.x*i,h=u.y*i,m=this.getTileOpacity(n,t),p=null;this.layer.options["debug"]&&(p=this.getDebugInfo(t.id));var f=this.gl;f.stencilFunc(f.LEQUAL,Math.abs(this.getCurrentTileZoom()-t.z),255);var g=this.layer.getPolygonOffset(),v=this.drawingCurrentTiles?-g-1:-g;f.polygonOffset(v,v),this.drawGLImage(n,d,h,a,s,i,m,p),this._getTileFadingOpacity(n)<1?this.setToRedraw():this.setCanvasUpdated()}else e.prototype.drawTile.call(this,t,n)}}},n._bindGLBuffer=function(e,t,n){e.glBuffer||(e.glBuffer=this.bufferTileData(0,0,t,n))},n.loadTileImage=function(e,t){var n=this.layer.options["crossOrigin"];e.crossOrigin=null!==n?n:"",e.src=t},n.onCanvasCreate=function(){this.canvas.gl&&this.canvas.gl.wrap||this.createCanvas2()},n.createContext=function(){e.prototype.createContext.call(this),this.createGLContext()},n.resizeCanvas=function(t){this.canvas&&(e.prototype.resizeCanvas.call(this,t),this.resizeGLCanvas())},n.clearCanvas=function(){this.canvas&&(e.prototype.clearCanvas.call(this),this.clearGLCanvas())},n.getCanvasImage=function(){if(!this._gl()||!this.canvas2)return e.prototype.getCanvasImage.call(this);var t=e.prototype.getCanvasImage.call(this);return t&&(t.image=this.canvas2),t},n._gl=function(){if(this.canvas.gl&&this.canvas.gl.wrap)return!0;var e=this.getMap();return e&&(e.getPitch()||e.getBearing())||this.layer&&!!this.layer.options["fragmentShader"]},n.deleteTile=function(t){e.prototype.deleteTile.call(this,t),t&&t.image&&this.disposeImage(t.image),delete t.image},n.onRemove=function(){e.prototype.onRemove.call(this),this.removeGLCanvas()},t}(Nu(gd));function Cd(e){var t=this.layer.getTileSize(),n=this.canvas.constructor,o=this.getMap(),r=o.getDevicePixelRatio(),i=Eo.createCanvas(t["width"]*r,t["height"]*r,n);i["layer"]=this.layer;var a=this,s=new Pe(e["extent2d"].xmin,e["extent2d"].ymax),l=new ar(o.pointToCoordinate(s),o.pointToCoordinate(s.add(t.width,t.height)),o.getProjection());return this.layer.drawTile(i,{url:e["url"],point:s,center:o.pointToCoordinate(s.add(t["width"]/2,t["height"]/2)),extent:l,z:e["z"],x:e["x"],y:e["y"]},(function(t){t?a.onTileError(i,e):a.onTileLoad(i,e)})),i}hu.registerRenderer("gl",xd);var Sd=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.loadTile=function(){return Cd.apply(this,arguments)},t}(gd),kd=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.loadTile=function(){return Cd.apply(this,arguments)},t}(xd);ku.registerRenderer("canvas",Sd),ku.registerRenderer("gl",kd);var Ed="undefined"!==typeof Int8Array?new Int8Array([-1,1,0,-1,-1,0,1,1,0,1,-1,0]):[],Td="\n    attribute vec3 a_position;\n    uniform mat4 transform;\n\n    void main()\n    {\n        gl_Position = transform * vec4(a_position, 1.0);\n    }\n",Md="\n    precision mediump float;\n    uniform vec3 color;\n    void main()\n    {\n        gl_FragColor = vec4(color, 1.0);\n    }\n";(function(){function e(e,t,n){this.gl=e,this.quadVertices=t||Ed,this.attributes=["a_position",3,Od(t)],this.debug=n}var t=e.prototype;t.start=function(){var e=this.gl;e.enable(e.STENCIL_TEST),e.stencilMask(255),e.stencilOp(e.KEEP,e.REPLACE,e.REPLACE),e.depthMask(!1),this._save(),this.buffer||(this._createBuffer(),this._createProgram()),e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),Ou(e,this.program,this.attributes),this.transformLoc||(this.transformLoc=e.getUniformLocation(this.program,"transform")),this.colorLoc||(this.colorLoc=e.getUniformLocation(this.program,"color")),this.debug||e.colorMask(!1,!1,!1,!1)},t.end=function(){var e=this.gl;e.depthMask(!0),this._restore(),this.debug||e.colorMask(!0,!0,!0,!0)},t.draw=function(e){var t=this.gl;t.uniformMatrix4fv(this.transformLoc,!1,e),t.uniform3fv(this.colorLoc,[Math.random(),Math.random(),Math.random()]),t.drawArrays(t.TRIANGLE_STRIP,0,4)},t.remove=function(){var e=this.gl;return this.buffer&&e.deleteBuffer(this.buffer),this.program&&(e.deleteShader(this.program.fragmentShader),e.deleteShader(this.program.vertexShader),e.deleteProgram(this.program)),delete this.transformLoc,delete this.gl,this},t.stencilMask=function(e){return this.gl.stencilMask(e),this},t.stencilFunc=function(e,t,n){return this.ref=t,this.gl.stencilFunc(e,t,n),this},t.stencilOp=function(e,t,n){return this.gl.stencilOp(e,t,n),this},t.resetFunc=function(){return this.ref=1,this.gl.stencilFunc(this.gl.ALWAYS,1,255),this},t._save=function(){var e=this.gl;this._savedProgram=e.program},t._restore=function(){var e=this.gl;e.program=this._savedProgram,e.program&&e.useProgram(e.program)},t._createBuffer=function(){var e=this.gl;if(this.buffer=e.createBuffer(),!this.buffer)throw new Error("Failed to create the buffer object");e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.quadVertices,e.STATIC_DRAW)},t._createProgram=function(){var e=Mu(this.gl,Td,Md),t=e.program,n=e.vertexShader,o=e.fragmentShader;t.vertexShader=n,t.fragmentShader=o,this.program=t}})();function Od(e){return e instanceof Float32Array?"FLOAT":e instanceof Int16Array?"SHORT":e instanceof Uint16Array?"UNSIGNED_SHORT":e instanceof Int8Array?"BYTE":e instanceof Uint8Array||e instanceof Uint8ClampedArray?"UNSIGNED_BYTE":"FLOAT"}var Dd=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n.checkResources=function(){var e=this._geosToCheck;if(this._resourceChecked||e||(e=this.layer._geoList),!Ge(e))return[];for(var t=[],n={},o=e.length-1;o>=0;o--){var r=e[o],i=r._getExternalResources();if(i.length)if(this.resources)for(var a=0;a<i.length;a++){var s=i[a][0];this.resources.isResourceLoaded(i[a])||n[s]||(t.push(i[a]),n[s]=1)}else t.push.apply(t,i)}return this._resourceChecked=!0,delete this._geosToCheck,t},n.render=function(){return this.layer._sortGeometries(),e.prototype.render.apply(this,arguments)},n._addGeoToCheckRes=function(e){e&&(Array.isArray(e)||(e=[e]),this._geosToCheck||(this._geosToCheck=[]),Fe(this._geosToCheck,e))},n.onGeometryAdd=function(e){this._addGeoToCheckRes(e),Ad(this)},n.onGeometryRemove=function(){Ad(this)},n.onGeometrySymbolChange=function(e){this._addGeoToCheckRes(e.target),Ad(this)},n.onGeometryShapeChange=function(){Ad(this)},n.onGeometryPositionChange=function(){Ad(this)},n.onGeometryZIndexChange=function(){Ad(this)},n.onGeometryShow=function(){Ad(this)},n.onGeometryHide=function(){Ad(this)},n.onGeometryPropertiesChange=function(){Ad(this)},t}(Xr);function Ad(e){e.layer.options["drawImmediate"]&&e.render(),e.setToRedraw()}var Rd=new sr,Pd=[],Id=new sr,zd="center",Nd=new Bo,Ld=function(e){function t(){return e.apply(this,arguments)||this}ke(t,e);var n=t.prototype;return n._geoIsCollision=function(e){if(!e)return!1;var t=e.options.collision;if(!t)return!1;var n=e.getType();if("Point"===n&&e.getContainerExtent){e.bbox||(e.bbox=[0,0,0,0]);var o=this.layer.options["collisionBufferSize"],r=e.getContainerExtent();if(!r)return!1;if(e.bbox[0]=r.xmin-o,e.bbox[1]=r.ymin-o,e.bbox[2]=r.xmax+o,e.bbox[3]=r.ymax+o,Nd.collides(e.bbox))return!0;Nd.insertBox(e.bbox)}return!1},n.getImageData=function(){if(!this.layer.options["geometryEvents"]||!this._lastRenderTime||E()-this._lastRenderTime<32)return null;if(!this.context||!this.context.canvas)return null;if(!this._imageData){var e=this.context.canvas,t=e.width,n=e.height;try{this._imageData=this.context.getImageData(0,0,t,n)}catch(o){console.warn("hit detect failed with tainted canvas, some geometries have external resources in another domain:\n",o)}}return this._imageData},n.clearImageData=function(){this._imageData=null,delete this._imageData,this._lastRenderTime=E()},n.checkResources=function(){var t=this,n=e.prototype.checkResources.apply(this,arguments),o=this.layer.getStyle();return o&&(Array.isArray(o)||(o=[o]),o.forEach((function(e){for(var o=an(e["symbol"],!0),r=0,i=o.length;r<i;r++)t.resources.isResourceLoaded(o[r])||n.push(o[r])}))),n},n.needToRedraw=function(){var t=this.getMap();return!(!t.isInteracting()||!this.layer.options["enableAltitude"])||!(t.isZooming()&&!t.isRotating()&&!t.getPitch()&&!this._hasPoint&&this.layer.constructor===Js)&&e.prototype.needToRedraw.call(this)},n.draw=function(){if(this.getMap()){if(!this.layer.isVisible()||this.layer.isEmpty())return this.clearCanvas(),void this.completeRender();this.prepareCanvas(),this.drawGeos(),this.completeRender()}},n.isBlank=function(){return!!this.context&&!this.context.canvas._drawn},n.drawOnInteracting=function(){if(this._geosToDraw){this._updateMapStateCache(),this._updateDisplayExtent();var e=this.getMap(),t=this.layer.getCount(),n=this.mapStateCache.resolution;(e.isZooming()&&e.options["seamlessZoom"]&&void 0!==this._drawnRes&&n>1.5*this._drawnRes&&this._geosToDraw.length<t||e.isMoving()||e.isInteracting())&&(this.prepareToDraw(),this._batchConversionMarkers(this.mapStateCache.glRes),this._onlyHasPoint||this.forEachGeo(this.checkGeo,this),this._drawnRes=n),this._sortByDistanceToCamera(e.cameraPosition);var o=this.layer.options,r=o.collision,i=o.collisionDelay;if(r){var a=E();this._lastCollisionTime||(this._lastCollisionTime=a),a-this._lastCollisionTime<=i?this._geosToDraw=this._lastGeosToDraw||this._geosToDraw:(this._collidesGeos(),this._lastCollisionTime=a)}for(var s=0,l=this._geosToDraw.length;s<l;s++){var c=this._geosToDraw[s];c._isCheck||c.isVisible()?(c._paint(this._displayExtent),this._geosToDraw[s]._cPoint=void 0,this._geosToDraw[s]._inCurrentView=void 0):(delete c._cPoint,delete c._inCurrentView)}this.clearImageData(),this._lastGeosToDraw=this._geosToDraw}},n.show=function(){this.layer.forEach((function(e){e._repaint()})),e.prototype.show.apply(this,arguments)},n.forEachGeo=function(e,t){this.layer.forEach(e,t)},n.drawGeos=function(){this._updateMapStateCache(),this._drawnRes=this.mapStateCache.resolution,this._updateDisplayExtent(),this.prepareToDraw(),this._batchConversionMarkers(this.mapStateCache.glRes),this._onlyHasPoint||this.forEachGeo(this.checkGeo,this),this._sortByDistanceToCamera(this.getMap().cameraPosition),this._collidesGeos();for(var e=0,t=this._geosToDraw.length;e<t;e++)this._geosToDraw[e]._paint(),this._geosToDraw[e]._cPoint=void 0,this._geosToDraw[e]._inCurrentView=void 0;this.clearImageData(),this._lastGeosToDraw=this._geosToDraw},n.prepareToDraw=function(){this._hasPoint=!1,this._geosToDraw=[]},n.checkGeo=function(e){if("Point"!==e.type||void 0===this._onlyHasPoint){if(e._isCheck=!1,e&&e.isVisible()&&e.getMap()&&e.getLayer()&&e.getLayer().isCanvasRender()){var t=e._getPainter(),n=!0;if(e._inCurrentView)n=!0;else if(!1===e._inCurrentView)n=!1;else{var o=t.get2DExtent(this.resources,Rd);o&&o.intersects(this._displayExtent)||(n=!1)}n&&(t.hasPoint()&&(this._hasPoint=!0),e._isCheck=!0,this._geosToDraw.push(e))}}else e._inCurrentView&&(this._hasPoint=!0,e._isCheck=!0,this._geosToDraw.push(e))},n._collidesGeos=function(){var e=this.layer.options["collision"];if(!e)return this;Nd.clear();var t=this._geosToDraw;this._geosToDraw=[];for(var n=0,o=t.length;n<o;n++)this._geoIsCollision(t[n])||this._geosToDraw.push(t[n]);return this},n.onZoomEnd=function(){delete this.canvasExtent2D,e.prototype.onZoomEnd.apply(this,arguments)},n.onRemove=function(){this.forEachGeo((function(e){e.onHide()})),delete this._geosToDraw},n.onGeometryPropertiesChange=function(t){t&&this.layer._styleGeometry(t["target"]),e.prototype.onGeometryPropertiesChange.call(this,t)},n._updateDisplayExtent=function(){var e=this.canvasExtent2D;if(this._maskExtent){if(!this._maskExtent.intersects(e))return void this.completeRender();e=e.intersection(this._maskExtent)}this._displayExtent=e},n.identifyAtPoint=function(e,t){void 0===t&&(t={});var n=this._geosToDraw;return n?this.layer._hitGeos(n,e,t):[]},n._updateMapStateCache=function(){var e=this.getMap(),t=e._pointToContainerPoint(this.southWest)._add(0,-e.height),n=e.getResolution(),o=e.getPitch(),r=e.getBearing(),i=e.getGLScale(),a=e.getGLRes(),s=e.getContainerExtent(),l=e._get2DExtent(),c=e._get2DExtentAtRes(a);return this.mapStateCache={resolution:n,pitch:o,bearing:r,glScale:i,glRes:a,_2DExtent:l,glExtent:c,containerExtent:s,offset:t},this},n._batchConversionMarkers=function(e){if(this._onlyHasPoint=void 0,!this._constructorIsThis())return[];var t=[],n=[],o=[],r={},i=this.layer,a=i.options,s=i.getAltitude?i.getAltitude():0,l=i.isCanvasRender();this._onlyHasPoint=!0;for(var c=0,u=0,d=this.layer._geoList.length;u<d;u++){var h=this.layer._geoList[u],m=h.getType();if("Point"===m){var p=h._painter;p||(p=h._getPainter());var f=p.getRenderPoints(zd)[0][0],g=a["enableAltitude"]?h._getAltitude():s;void 0===r[g]&&(r[g]=p.getAltitude()),t[c]=f,o[c]=r[g],n[c]=h,c++}else this._onlyHasPoint=!1}if(0===c)return[];var v=this.getMap(),y=st(t,"_pt");y=v._pointsAtResToContainerPoints(t,e,o,y);for(var b=v.getContainerExtent(),w=b.xmax,_=b.ymax,x=b.xmin,C=b.ymin,S={},k=0,E=n.length;k<E;k++){var T=n[k];if(T._cPoint=y[k],T._cPoint){var M=y[k],O=M.x,D=M.y;if(T._inCurrentView=O>=x&&D>=C&&O<=w&&D<=_,!T._inCurrentView){var A=T.getSymbolHash(),R=void 0;R=A?S[A]=S[A]||T._painter.getFixedExtent():T._painter.getFixedExtent(),Id.set(R.xmin,R.ymin,R.xmax,R.ymax),Id._add(y[k]),T._inCurrentView=Id.intersects(b)}T._inCurrentView&&(T.isVisible()&&l||(T._inCurrentView=!1),this._onlyHasPoint&&T._inCurrentView&&(this._hasPoint=!0,T._isCheck=!0,this._geosToDraw.push(T)))}else T._inCurrentView=!1}return y},n._sortByDistanceToCamera=function(e){if(this.layer.options["sortByDistanceToCamera"]&&this._geosToDraw.length){var t=this.getMap(),n=t.distanceToPoint(1e3,0,t.getGLScale()).x,o=n/1e3,r="center";this._geosToDraw.sort((function(t,n){var i=t.getType(),a=n.getType();if("Point"!==i||"Point"!==a)return 0;var s=t._painter,l=n._painter;if(!s||!l)return 0;var c=s.getRenderPoints(r)[0][0],u=l.getRenderPoints(r)[0][0],d=s.getAltitude()*o,h=l.getAltitude()*o;yl(Pd,c.x,c.y,d);var m=El(Pd,e);yl(Pd,u.x,u.y,h);var p=El(Pd,e);return p-m}))}},n._constructorIsThis=function(){return this.constructor===t},t}(Dd);Js.registerRenderer("canvas",Ld);var Hd=function(e){function t(t){var n;return n=e.call(this)||this,n.map=t,n._handlerQueue=[],n._thisDocVisibilitychange=n._onDocVisibilitychange.bind(Te(Te(n))),n._thisDocDragStart=n._onDocDragStart.bind(Te(Te(n))),n._thisDocDragEnd=n._onDocDragEnd.bind(Te(Te(n))),n}ke(t,e);var n=t.prototype;return n.callInNextFrame=function(e){this._handlerQueue.push(e)},n.executeFrameCallbacks=function(){var e=this._handlerQueue;this._handlerQueue=[];for(var t=0,n=e.length;t<n;t++)e[t]()},n.offsetPlatform=function(e,t){if(!this.map._panels.front)return this;if(!t&&0===e.x&&0===e.y)return this;var n=this.map._panels,o=this._frontCount=n.back.layerDOM.childElementCount,r=this._backCount=n.front.layerDOM.childElementCount,i=this._uiCount=n.front.uiDOM.childElementCount;if(o||r||i){var a=this.map.offsetPlatform();a=e?a.add(e)._round():a.round(),r&&Jn(n.back,a),(o||i)&&Jn(n.front,a)}return this},n.domChanged=function(){var e=this.map._panels;if(!e.front)return!1;var t=e.back.layerDOM.childElementCount;if(void 0===this._frontCount||this._frontCount!==t)return!0;var n=e.front.layerDOM.childElementCount;if(void 0===this._backCount||this._backCount!==n)return!0;var o=e.front.uiDOM.childElementCount;return void 0===this._uiCount||this._uiCount!==o},n.resetContainer=function(){if(this.map&&(this.map._resetMapViewPoint(),this.map._panels.front)){var e=new Pe(0,0);Jn(this.map._panels.back,e),Jn(this.map._panels.front,e)}},n.onZoomEnd=function(){this.resetContainer()},n.onLoad=function(){this._frameLoop()},n._onDocVisibilitychange=function(){"visible"===document.visibilityState&&this.setToRedraw()},n._getWrapPanel=function(){if(!this.map)return null;var e=this.map.getPanels();return e&&e.mapWrapper},n._onDocDragStart=function(){var e=this._getWrapPanel();e&&(e.style.overflow="visible")},n._onDocDragEnd=function(){var e=this._getWrapPanel();e&&(e.style.overflow="hidden")},n._containerIsOffscreen=function(){var e=this.map.getContainer();if(!e||!e.style||"none"===e.style.display)return!0;var t=Math.min(e.clientWidth,e.clientHeight);return t<=0},t}(No),Fd=function(e){function t(t){var n;return n=e.call(this,t)||this,n._containerIsCanvas=!!t._containerDOM.getContext,n._registerEvents(),n._loopTime=0,n}ke(t,e);var n=t.prototype;return n.load=function(){this.initContainer()},n.renderFrame=function(e){var t=this.map;if(!t||!t.options["renderable"])return!1;if(t.options["stopRenderOnOffscreen"]&&this._containerIsOffscreen())return!0;this._updateDomPosition(e),delete this._isViewChanged,t._fireEvent("framestart"),this.updateMapDOM(),t.clearCollisionIndex();var n=this._getAllLayerToRender();this.drawLayers(n,e);var o=this.drawLayerCanvas(n);return o&&(this.drawTops(),this._drawCenterCross(),t.options["debugSky"]&&this._debugSky()),this._needClear=!1,t._fireEvent("frameend"),this._recordView(),this._mapview=this._getMapView(),delete this._spatialRefChanged,this._fireLayerLoadEvents(),this.executeFrameCallbacks(),this._canvasUpdated=!1,t.uiCollides(),!0},n.updateMapDOM=function(){var e=this.map;if(!e.isZooming()){var t=e._getViewPointFrameOffset();t?e.offsetPlatform(t):this.domChanged()&&this.offsetPlatform(null,!0)}},n.drawLayers=function(e,t){for(var n=this.map,o=n.isInteracting(),r=[],i=[],a=n.options["fpsOnInteracting"]||0,s=0===a?0:1e3/a,l=this.map.options["layerCanvasLimitOnInteracting"],c=e.length,u=n.getBaseLayer(),d=0,h=0;h<c;h++){var m=e[h];if(m.isVisible()){var p=m.isCanvasRender();p&&r.push(m.getId());var f=m._getRenderer();if(f){var g=this._checkLayerRedraw(m);p&&f.isCanvasUpdated()&&(g||i.push(m.getId()),this.setLayerCanvasUpdated());var v=f.__zoomTransformMatrix;if(delete f.__zoomTransformMatrix,g){if(o&&p){if(l>0&&c-1-h>l&&m!==u){m._getRenderer().clearCanvas();continue}d+=this._drawCanvasLayerOnInteracting(m,d,s,t)}else o&&f.drawOnInteracting?(f.prepareRender&&f.prepareRender(),f.checkAndDraw?f.checkAndDraw(f.drawOnInteracting,this._eventParam,t):f.drawOnInteracting(this._eventParam,t)):(f.render(t),p&&v&&f.isLoadingResource()&&(f.__zoomTransformMatrix=v));p&&(i.push(m.getId()),this.setLayerCanvasUpdated())}else p&&o&&(n.isZooming()&&!n.getPitch()?(f.prepareRender(),f.__zoomTransformMatrix=this._zoomMatrix):(n.getPitch()||n.isRotating())&&f.clearCanvas())}}}var y=this._canvasIds||[],b=this._updatedIds||[];if(this._canvasIds=r,this._updatedIds=i,!this.isLayerCanvasUpdated()){var w="---";y.join(w)===r.join(w)&&b.join(w)===i.join(w)||this.setLayerCanvasUpdated()}},n._checkLayerRedraw=function(e){if(this.isSpatialReferenceChanged())return!0;var t=this.map,n=e._getRenderer();return e.isCanvasRender()?n.testIfNeedRedraw():!(!n.needToRedraw||!n.needToRedraw())||(t.isInteracting()||this.isViewChanged())},n._drawCanvasLayerOnInteracting=function(e,t,n,o){var r=this.map,i=e._getRenderer(),a=i.getDrawTime(),s=0===n||n>0&&t+a<=n;if(i.mustRenderOnInteracting&&i.mustRenderOnInteracting())i.render(o);else{if(i.drawOnInteracting&&(e===r.getBaseLayer()||s||r.isZooming()&&e.options["forceRenderOnZooming"]||r.isMoving()&&e.options["forceRenderOnMoving"]||r.isRotating()&&e.options["forceRenderOnRotating"]))return i.prepareRender(),i.prepareCanvas(),i.checkAndDraw?i.checkAndDraw(i.drawOnInteracting,this._eventParam,o):i.drawOnInteracting(this._eventParam,o),a;!r.isZooming()||r.getPitch()||r.isRotating()?(r.getPitch()||r.isRotating())&&i.clearCanvas():(i.prepareRender(),i.__zoomTransformMatrix=this._zoomMatrix)}return i.drawOnInteracting&&!s&&i.onSkipDrawOnInteracting(this._eventParam,o),0},n._fireLayerLoadEvents=function(){if(this._updatedIds&&this._updatedIds.length>0){var e=this.map;this._updatedIds.reverse().forEach((function(t){var n=e.getLayer(t);if(n){var o=n._getRenderer();o&&o.isRenderComplete()&&n.fire("layerload")}}))}},n.isLayerCanvasUpdated=function(){return this._canvasUpdated},n.setLayerCanvasUpdated=function(){this._canvasUpdated=!0},n.drawLayerCanvas=function(e){var t=this.map;if(!t)return!1;if(!this.isLayerCanvasUpdated()&&!this.isViewChanged()&&!1===this._needClear)return!1;this.canvas||this.createCanvas(),t._fireEvent("renderstart",{context:this.context}),this._updateCanvasSize()||this.clearCanvas();for(var n,o=t.isInteracting(),r=t.options["layerCanvasLimitOnInteracting"],i=e.length,a=[],s=0;s<i;s++)if(e[s].isVisible()&&e[s].isCanvasRender()){var l=e[s]._getRenderer();if(l){var c=this._getLayerImage(e[s]);c&&c["image"]&&(e[s]===t.getBaseLayer()?n=[e[s],c]:a.push([e[s],c]))}}var u=this.canvas.width,d=this.canvas.height;n&&(this._drawLayerCanvasImage(n[0],n[1],u,d),this._drawFog()),i=a.length;for(var h=o&&r>=0&&i>r?i-r:0,m=h;m<i;m++)this._drawLayerCanvasImage(a[m][0],a[m][1],u,d);return t._fireEvent("renderend",{context:this.context}),!0},n.setToRedraw=function(){var e=this._getAllLayerToRender();this._needClear=!0;for(var t=0,n=e.length;t<n;t++){var o=e[t].getRenderer();o&&o.canvas&&o.setToRedraw&&o.setToRedraw()}},n.updateMapSize=function(e){if(e&&!this._containerIsCanvas){var t=e["width"]+"px",n=e["height"]+"px",o=this.map._panels;o.mapWrapper.style.width=t,o.mapWrapper.style.height=n,this._updateCanvasSize()}},n.getMainPanel=function(){return this.map?this._containerIsCanvas?this.map._containerDOM:this.map._panels?this.map._panels.mapWrapper:null:null},n.toDataURL=function(e,t){return this.canvas?this.canvas.toDataURL(e,t):null},n.remove=function(){_e.webgl&&"undefined"!==typeof document&&($n(document,"visibilitychange",this._thisDocVisibilitychange,this),$n(document,"dragstart",this._thisDocDragStart,this),$n(document,"dragend",this._thisDocDragEnd,this)),this._resizeInterval&&clearInterval(this._resizeInterval),this._resizeObserver&&this._resizeObserver.disconnect(),delete this.context,delete this.canvas,delete this.map,delete this._spatialRefChanged,this._cancelFrameLoop()},n.hitDetect=function(e){var t=this.map;if(t&&t.options["hitDetect"]&&!t.isInteracting()){var n=t._getLayers(),o="default",r=t.options["hitDetectLimit"]||0,i=0;e&&e._round&&e._round();for(var a=n.length-1;a>=0;a--){var s=n[a];if(!(!s.options["hitDetect"]||s.isEmpty&&s.isEmpty())){var l=s._getRenderer();if(l&&l.hitDetect&&(!l.isBlank||!l.isBlank())){if("default"!==s.options["cursor"]&&l.hitDetect(e)){o=s.options["cursor"]||"pointer";break}if(i++,r>0&&i>r)break}}}t._trySetCursor(o)}},n._getLayerImage=function(e){var t=e._getRenderer();return t.getCanvasImage?t.getCanvasImage():null},n.initContainer=function(){var e=this.map._panels;function t(t,n,o,r){var i=Vn("div",n);return o&&(i.style.cssText=o),e[t]=i,r||Yn(i),i}var n=this.map._containerDOM;if(!this._containerIsCanvas){n.innerHTML="";var o="position:absolute;top:0px;left:0px;",r=t("mapWrapper","maptalks-wrapper","position:absolute;overflow:hidden;",!0),i=t("allLayers","maptalks-all-layers",o+"padding:0px;margin:0px;z-index:0;overflow:visible;",!0),a=t("backStatic","maptalks-back-static",o+"z-index:0;",!0),s=t("back","maptalks-back",o+"z-index:1;"),l=t("backLayer","maptalks-back-layer",o),c=t("canvasContainer","maptalks-canvas-layer",o+"border:none;z-index:2;"),u=t("frontStatic","maptalks-front-static",o+"z-index:3;",!0),d=t("front","maptalks-front",o+"z-index:4;",!0),h=t("frontLayer","maptalks-front-layer",o+"z-index:0;"),m=t("ui","maptalks-ui",o+"border:none;z-index:1;",!0),p=t("control","maptalks-control","z-index:1",!0);n.appendChild(r),i.appendChild(a),s.appendChild(l),s.layerDOM=l,i.appendChild(s),i.appendChild(c),d.appendChild(h),d.layerDOM=h,d.uiDOM=m,i.appendChild(u),i.appendChild(d),d.appendChild(m),r.appendChild(i),r.appendChild(p),this.createCanvas(),this.resetContainer();var f=this.map._getContainerDomSize();this.updateMapSize(f)}},n.isViewChanged=function(){if(void 0!==this._isViewChanged)return this._isViewChanged;var e=this._mapview,t=this._getMapView();return this._isViewChanged=!e||!rt(e,t),this._isViewChanged},n._recordView=function(){var e=this.map;!e._onViewChange||e.isInteracting()||e.isAnimating()||rt(e.getView(),e._getCurrentView())||e._onViewChange(e.getView())},n.isSpatialReferenceChanged=function(){return this._spatialRefChanged},n._getMapView=function(){var e=this.map,t=e._getPrjCenter();return{x:t.x,y:t.y,zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing(),width:e.width,height:e.height}},n._frameLoop=function(e){var t=this;this.map?(e=e||0,this._frameTimestamp=e,this._resizeCount=0,this.renderFrame(e),this._animationFrame=De((function(e){t._frameLoop(e)}))):this._cancelFrameLoop()},n._cancelFrameLoop=function(){this._animationFrame&&Ae(this._animationFrame)},n._drawLayerCanvasImage=function(e,t,n,o){var r=this.context,i=t["point"].round(),a=this.map.getDevicePixelRatio();1!==a&&i._multi(a);var s=t["image"],l=s.width,c=s.height;if(!(i.x+l<=0||i.y+c<=0)){var u=e.options["opacity"];if(O(u)||(u=1),!(u<=0)){var d=t["opacity"];if(O(d)||(d=1),!(d<=0)){var h=r.globalAlpha;u<1&&(r.globalAlpha*=u),d<1&&(r.globalAlpha*=d),e.options["cssFilter"]&&(r.filter=e.options["cssFilter"]);var m=e.getRenderer(),p=m.__zoomTransformMatrix,f=m.clipCanvas(this.context);p&&(r.save(),r.setTransform.apply(r,p)),r.drawImage(s,0,0,l,c,i.x,i.y,n,o),p&&r.restore(),f&&r.restore(),"none"!==r.filter&&(r.filter="none"),r.globalAlpha=h}}}},n._drawCenterCross=function(){var e=this.map.options["centerCross"];if(e){var t=this.context,n=new Pe(this.canvas.width/2,this.canvas.height/2);P(e)?e(t,n):Eo.drawCross(this.context,n.x,n.y,2,"#f00")}},n._drawContainerExtent=function(){var e=this.map.options.cascadePitches,t=this.map.height-this.map._getVisualHeight(e[0]),n=this.map.height-this.map._getVisualHeight(e[1]),o=this.map.getContainerExtent(),r=this.context;r.beginPath(),r.moveTo(0,o.ymin),r.lineTo(o.xmax,o.ymin),r.stroke(),r.beginPath(),r.moveTo(0,t),r.lineTo(o.xmax,t),r.stroke(),r.beginPath(),r.moveTo(0,n),r.lineTo(o.xmax,n),r.stroke()},n._drawFog=function(){var e=this.map;if(!(e.getPitch()<=e.options["maxVisualPitch"])&&e.options["fog"]){var t=30,n=e.getDevicePixelRatio(),o=this.context,r=e.getContainerExtent(),i=(e.height-e._getVisualHeight(75))*n;i<0&&(i=0);var a=r.ymin*n,s=Math.ceil(a-i),l=e.options["fogColor"].join(),c=o.createLinearGradient(0,i,0,a+t),u=1-t/(s+t);c.addColorStop(0,"rgba("+l+", 0)"),c.addColorStop(.3,"rgba("+l+", 0.3)"),c.addColorStop(u,"rgba("+l+", 1)"),c.addColorStop(1,"rgba("+l+", 0)"),o.beginPath(),o.fillStyle=c,o.fillRect(0,i,Math.ceil(r.getWidth())*n,Math.ceil(s+t))}},n._debugSky=function(){var e=this.map;if(!e)return this;var t=e.getContainerExtent().ymin;if(t<=0)return this;var n=this.context;return n.strokeStyle="red",n.strokeRect(0,0,e.width,t),this},n._getAllLayerToRender=function(){return this.map._getLayers()},n.clearCanvas=function(){this.canvas&&Eo.clearRect(this.context,0,0,this.canvas.width,this.canvas.height)},n._updateCanvasSize=function(){if(!this.canvas||this._containerIsCanvas)return!1;var e=this.map,t=e.getSize(),n=this.canvas,o=e.getDevicePixelRatio(),r=ht(t,o),i=r.width,a=r.height,s=r.cssWidth,l=r.cssHeight;return!n.style||n.style.width===s&&n.style.height===l||(n.style.width=s,n.style.height=l),(i!==n.width||a!==n.height)&&(n.height=a,n.width=i,this.topLayer.width=n.width,this.topLayer.height=n.height,!0)},n.createCanvas=function(){this.topLayer=Vn("canvas"),this.topCtx=this.topLayer.getContext("2d"),this._containerIsCanvas?this.canvas=this.map._containerDOM:(this.canvas=Vn("canvas"),this._updateCanvasSize(),this.map._panels.canvasContainer.appendChild(this.canvas)),this.context=this.canvas.getContext("2d")},n._updateDomPosition=function(e){void 0===this._checkPositionTime&&(this._checkPositionTime=-1/0);var t=Math.abs(e-this._checkPositionTime);return t>=500&&(Xn(this.map._containerDOM),this._checkPositionTime=Math.min(e,this._checkPositionTime)),this},n._checkSize=function(){this.map&&this.map.checkSize()},n._setCheckSizeInterval=function(e){var t=this;_e.resizeObserver?(this._resizeObserver&&this._resizeObserver.disconnect(),this.map&&(this._resizeObserver=new ResizeObserver((function(e){!t.map||t.map.isRemoved()?t._resizeObserver.disconnect():e.length&&(t.map._containerDomContentRect=e[0].contentRect,t._checkSize(e[0].contentRect),t._resizeCount=t._resizeCount||0,t.renderFrame((t._frameTimestamp||0)+ ++t._resizeCount/100))})),this._resizeObserver.observe(this.map._containerDOM))):(clearInterval(this._resizeInterval),this._checkSizeInterval=e,this._resizeInterval=setInterval((function(){!t.map||t.map.isRemoved()?clearInterval(t._resizeInterval):t._checkSize()}),this._checkSizeInterval))},n._registerEvents=function(){var e=this,t=this.map;t.options["checkSize"]&&!F&&"undefined"!==typeof window&&this._setCheckSizeInterval(t.options["checkSizeInterval"]),_e.mobile||t.on("_mousemove",this._onMapMouseMove,this),t.on("_dragrotatestart _dragrotating _dragrotateend _movestart _moving _moveend _zoomstart",(function(t){e._eventParam=t})),t.on("_zooming",(function(n){t.getPitch()||(e._zoomMatrix=n["matrix"]["container"]),e._eventParam=n})),t.on("_zoomend",(function(t){e._eventParam=t,delete e._zoomMatrix})),t.on("_spatialreferencechange",(function(){e._spatialRefChanged=!0})),_e.webgl&&"undefined"!==typeof document&&(Zn(document,"visibilitychange",this._thisDocVisibilitychange,this),Zn(document,"dragstart",this._thisDocDragStart,this),Zn(document,"dragend",this._thisDocDragEnd,this)),_e.addDPRListening&&_e.addDPRListening(this.map)},n._onMapMouseMove=function(e){var t=this,n=this.map;!n.isInteracting()&&n.options["hitDetect"]&&(this._hitDetectFrame&&Ae(this._hitDetectFrame),this._hitDetectFrame=De((function(){t.hitDetect(e["containerPoint"])})))},n._getCanvasLayers=function(){return this.map._getLayers((function(e){return e.isCanvasRender()}))},n.addTopElement=function(e){this._tops||(this._tops=[]),this._tops.push(e)},n.removeTopElement=function(e){if(this._tops){var t=this._tops.indexOf(e);t>=0&&this._tops.splice(t,1)}},n.getTopElements=function(){return this._tops||[]},n.drawTops=function(){this.topCtx.clearRect(0,0,this.topLayer.width,this.topLayer.height),this.map.fire("drawtopstart"),this.map.fire("drawtops");for(var e=this.getTopElements(),t=!1,n=0;n<e.length;n++)e[n].render(this.topCtx)&&(t=!0);t&&this.context.drawImage(this.topLayer,0,0),this.map.fire("drawtopsend")},t}(Hd);La.registerRenderer("canvas",Fd),La.mergeOptions({fog:!1,fogColor:[233,233,233]});var Bd={_getRenderPoints:function(){return[[this._getCenter2DPoint(this.getMap().getGLRes())],null]}};ss.include(Bd),ks.include(Bd),Cs.include(Bd),Ms.include(Bd),Es.include({_getRenderPoints:function(e){var t=this.getMap(),n=t.getGLRes();if("vertex"===e){for(var o=this._trimRing(this.getShell()),r=[],i=0,a=o.length;i<a;i++)r.push(t.coordToPointAtRes(o[i],n));return[r,null]}var s=t.coordToPointAtRes(this.getCenter(),n);return[[s],null]}});var Ud={_getRenderPoints:function(e){var t,n=this.getMap(),o=n.getGLRes(),r=null;if("point"===e)t=this._getPath2DPoints(this._getPrjCoordinates(),!1,o),t&&t.length>0&&Array.isArray(t[0])&&(t=t[0].concat(t[1]));else if("vertex"===e)if(t=this._getPath2DPoints(this._getPrjCoordinates(),!1,o),r=[],t&&t.length>0&&Array.isArray(t[0])){for(var i=0,a=t.length;i<a;i++)for(var s=0,l=t[i].length;s<l;s++)0===s?r.push([t[i][s],t[i][s+1]]):r.push([t[i][s-1],t[i][s]]);t=t[0].concat(t[1])}else for(var c=0,u=t.length;c<u;c++)0===c?r.push([t[c],t[c+1]]):r.push([t[c-1],t[c]]);else if("line"===e){t=[],r=[];var d=this._getPath2DPoints(this._getPrjCoordinates(),!1,o),h=d.length>0&&Array.isArray(d[0]);if(h)for(var m,p=1,f=d.length;p<f;p++){m=d[p],this instanceof os&&m.length>0&&!m[0].equals(m[m.length-1])&&m.push(m[0]);for(var g=1,v=m.length;g<v;g++)t.push(m[g].add(m[g-1])._multi(.5)),r.push([m[g-1],m[g]])}else{this instanceof os&&d.length>0&&!d[0].equals(d[d.length-1])&&d.push(d[0]);for(var y=1,b=d.length;y<b;y++)t.push(d[y].add(d[y-1])._multi(.5)),r.push([d[y-1],d[y]])}}else if("vertex-first"===e){var w=this._getPrjCoordinates(),_=w.length,x=_?n._prjToPointAtRes(w[0],o):null;t=_?[x]:[],r=_?[[x,w[1]?n._prjToPointAtRes(w[1],o):x]]:[]}else if("vertex-last"===e){var C=this._getPrjCoordinates(),S=C.length,k=S?n._prjToPointAtRes(C[S-1],o):null;t=S?[k]:[];var E=S>1?S-2:S-1;r=S?[[C[E]?n._prjToPointAtRes(C[E],o):k,k]]:[]}else{var T=this.getCenter();if(T){var M=this._getProjection().project(T);t=[n._prjToPointAtRes(M,o)]}else t=[]}return[t,r]}};us.include(Ud),os.include(Ud);var Vd={within:!1,center:[0,0]};function jd(e){if(e&&e._containerBbox){Vd.within=!1;var t=e._containerBbox,n=t.minx,o=t.miny,r=t.maxx,i=t.maxy,a=Math.abs(r-n),s=Math.abs(i-o);a<=1&&s<=1&&(Vd.within=!0,Vd.center[0]=(n+r)/2,Vd.center[1]=(o+i)/2),delete e._containerBbox}else Vd.within=!1;return Vd}Sa.include({_redrawWhenPitch:function(){return!1},_redrawWhenRotate:function(){return!1}});var Wd={_redrawWhenPitch:function(){return!0},_redrawWhenRotate:function(){return this instanceof ks||this instanceof Ms},_paintAsPath:function(){var e=this.getMap(),t=this._getAltitude();return t>0||e.getPitch()||this instanceof ks&&e.getBearing()},_getPaintParams:function(){var e=this.getMap();if(this._paintAsPath())return os.prototype._getPaintParams.call(this,!0);var t=this._getPrjCoordinates(),n=e._prjToPointAtRes(t,e.getGLRes()),o=this._getRenderSize(n);return[n].concat(o)},_paintOn:function(){return this._paintAsPath()?Eo.polygon.apply(Eo,arguments):Eo.ellipse.apply(Eo,arguments)},_getRenderSize:function(e){var t=this.getMap(),n=t.getGLRes(),o=this._getPrjExtent(),r=t._prjToPointAtRes(o.getMin(),n),i=t._prjToPointAtRes(o.getMax(),n);return[Math.abs(i.x-r.x)/2,Math.abs(i.y-e.y),Math.abs(e.y-r.y)]}};ks.include(Wd),Cs.include(Wd),Es.include({_getPaintParams:function(){var e=this.getMap(),t=this._getPrjShell(),n=this._getPath2DPoints(t,!1,e.getGLRes());return[n]},_paintOn:Eo.polygon}),Ms.include(Wd,{_redrawWhenPitch:function(){return!0},_getPaintParams:function(){if(this._paintAsPath())return os.prototype._getPaintParams.call(this,!0);var e=this.getMap(),t=e._prjToPointAtRes(this._getPrjCoordinates(),e.getGLRes()),n=this._getRenderSize(t);return[t,n[0],[this.getStartAngle(),this.getEndAngle()]]},_paintOn:function(){if(this._paintAsPath())return Eo.polygon.apply(Eo,arguments);var e=this.getMap().getBearing(),t=arguments;return e&&(t[3]=t[3].slice(0),t[3][0]+=e,t[3][1]+=e),Eo.sector.apply(Eo,t)}}),ts.include({_paintAsPath:function(){return!0}}),us.include({arrowStyles:{classic:[3,4]},_getArrowShape:function(e,t,n,o,r){if(!e||!t||e.equals(t))return null;r||(r=0);var i,a=n*o[0],s=n*o[1]+r,l=a/2+r;i=t.nextCtrlPoint||t.prevCtrlPoint?t.prevCtrlPoint?t.sub(new Pe(t.prevCtrlPoint)):t.sub(new Pe(t.nextCtrlPoint)):t.sub(e),i._unit();var c=t.sub(i.multi(s));i._perp();var u=c.add(i.multi(l));i._multi(-1);var d=c.add(i.multi(l));return[u,t,d,u]},_getPaintParams:function(){var e=this._getPrjCoordinates(),t=this._getPath2DPoints(e,!1,this.getMap().getGLRes());return[t]},_paintOn:function(e,t,n,o,r){var i=jd(this._painter);i.within?Eo.pixelRect(e,i.center,n,o):this.options["smoothness"]?Eo.paintSmoothLine(e,t,n,this.options["smoothness"],!1,this._animIdx,this._animTailRatio):Eo.path(e,t,n,null,r),this._paintArrow(e,t,n)},_getArrowPlacement:function(){return this.options["arrowPlacement"]},_getArrowStyle:function(){var e=this.options["arrowStyle"];return e?Array.isArray(e)?e:this.arrowStyles[e]:null},_getArrows:function(e,t,n){var o=this._getArrowStyle();if(!o||e.length<2)return[];for(var r=e.length>0&&Array.isArray(e[0]),i=r?e:[e],a=this._getArrowPlacement(),s=[],l=this.getMap(),c=l.coordToContainerPoint(this.getFirstCoordinate()),u=l.coordToContainerPoint(this.getLastCoordinate()),d=i.length-1;d>=0;d--){if("vertex-first"===a||"vertex-firstlast"===a&&i[d][0].closeTo(c,.01)){var h=this._getArrowShape(i[d][1],i[d][0],t,o,n);h&&s.push(h)}if("vertex-last"===a||"vertex-firstlast"===a&&i[d][i[d].length-1].closeTo(u,.01)){var m=this._getArrowShape(i[d][i[d].length-2],i[d][i[d].length-1],t,o,n);m&&s.push(m)}else"point"===a&&this._getArrowPoints(s,i[d],t,o,n)}return s},_getArrowPoints:function(e,t,n,o,r){for(var i=0,a=t.length-1;i<a;i++){var s=this._getArrowShape(t[i],t[i+1],n,o,r);s&&e.push(s)}},_paintArrow:function(e,t,n){var o=this._getInternalSymbol()["lineWidth"];(!O(o)||o<3)&&(o=3);var r=this._getArrows(t,o);if(r.length){e.setLineDash&&e.setLineDash([]);for(var i=r.length-1;i>=0;i--)e.fillStyle=e.strokeStyle,Eo.polygon(e,r[i],n,n)}}}),os.include({_getPaintParams:function(e){var t=this.getMap().getGLRes(),n=this._getPrjShell(),o=this._getPath2DPoints(n,e,t),r=o.length>0&&Array.isArray(o[0]);r&&(o=[[o[0]],[o[1]]]);var i=this._getPrjHoles(),a=[];if(i&&i.length>0){for(var s=this._simplified,l=0;l<i.length;l++){var c=this._getPath2DPoints(i[l],e,t);Array.isArray(c)&&r?Array.isArray(c[0])?(o[0].push(c[0]),o[1].push(c[1])):o[0].push(c):a.push(c)}s&&(this._simplified=s)}return r||(o=[o],Fe(o,a)),[o]},_paintOn:function(e,t,n,o,r){var i=jd(this._painter);i.within?Eo.pixelRect(e,i.center,n,o):Eo.polygon(e,t,n,o,r,this.options["smoothness"])}}),La.VERSION=v},7369:function(e){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(e,n,r,i,a){t(e,n,r||0,i||e.length-1,a||o)}function t(e,o,r,i,a){while(i>r){if(i-r>600){var s=i-r+1,l=o-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),h=Math.max(r,Math.floor(o-l*u/s+d)),m=Math.min(i,Math.floor(o+(s-l)*u/s+d));t(e,o,h,m,a)}var p=e[o],f=r,g=i;n(e,r,o),a(e[i],p)>0&&n(e,r,i);while(f<g){n(e,f,g),f++,g--;while(a(e[f],p)<0)f++;while(a(e[g],p)>0)g--}0===a(e[r],p)?n(e,r,g):(g++,n(e,g,i)),g<=o&&(r=g+1),o<=g&&(i=g-1)}}function n(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function o(e,t){return e<t?-1:e>t?1:0}return e}))},5693:function(e,t,n){"use strict";n(7658),e.exports=r,e.exports["default"]=r;var o=n(7369);function r(e,t){if(!(this instanceof r))return new r(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var o=0;o<t.length;o++)if(n(e,t[o]))return o;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,o,r){r||(r=v(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],l(r,e.leaf?o(i):i);return r}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function m(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function p(e,t){var n=Math.max(e.minX,t.minX),o=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,i-o)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function v(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,n,r,i){var a,s=[t,n];while(s.length)n=s.pop(),t=s.pop(),n-t<=r||(a=t+Math.ceil((n-t)/r/2)*r,o(e,a,t,n,i),s.push(t,a,a,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],o=this.toBBox;if(!g(e,t))return n;var r,i,a,s,l=[];while(t){for(r=0,i=t.children.length;r<i;r++)a=t.children[r],s=t.leaf?o(a):a,g(e,s)&&(t.leaf?n.push(a):f(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!g(e,t))return!1;var o,r,i,a,s=[];while(t){for(o=0,r=t.children.length;o<r;o++)if(i=t.children[o],a=t.leaf?n(i):i,g(e,a)){if(t.leaf||f(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var o=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){var r=this.data;this.data=o,o=r}this._insert(o,this.data.height-o.height-1,!0)}else this.data=o;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(e,t){if(!e)return this;var n,o,r,a,s=this.data,l=this.toBBox(e),c=[],u=[];while(s||c.length){if(s||(s=c.pop(),o=c[c.length-1],n=u.pop(),a=!0),s.leaf&&(r=i(e,s.children,t),-1!==r))return s.children.splice(r,1),c.push(s),this._condense(c),this;a||s.leaf||!f(s,l)?o?(n++,s=o.children[n],a=!1):s=null:(c.push(s),u.push(n),n=0,o=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){var n=[];while(e)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,o){var r,i=n-t+1,s=this._maxEntries;if(i<=s)return r=v(e.slice(t,n+1)),a(r,this.toBBox),r;o||(o=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,o-1))),r=v([]),r.leaf=!1,r.height=o;var l,c,u,d,h=Math.ceil(i/s),m=h*Math.ceil(Math.sqrt(s));for(y(e,t,n,m,this.compareMinX),l=t;l<=n;l+=m)for(u=Math.min(l+m-1,n),y(e,l,u,h,this.compareMinY),c=l;c<=u;c+=h)d=Math.min(c+h-1,u),r.children.push(this._build(e,c,d,o-1));return a(r,this.toBBox),r},_chooseSubtree:function(e,t,n,o){var r,i,a,s,l,c,u,h;while(1){if(o.push(t),t.leaf||o.length-1===n)break;for(u=h=1/0,r=0,i=t.children.length;r<i;r++)a=t.children[r],l=d(a),c=m(e,a)-l,c<h?(h=c,u=l<u?l:u,s=a):c===h&&l<u&&(u=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var o=this.toBBox,r=n?e:o(e),i=[],a=this._chooseSubtree(r,this.data,t,i);a.children.push(e),l(a,r);while(t>=0){if(!(i[t].children.length>this._maxEntries))break;this._split(i,t),t--}this._adjustParentBBoxes(r,i,t)},_split:function(e,t){var n=e[t],o=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,o);var i=this._chooseSplitIndex(n,r,o),s=v(n.children.splice(i,n.children.length-i));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=v([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var o,r,i,a,l,c,u,h;for(c=u=1/0,o=t;o<=n-t;o++)r=s(e,0,o,this.toBBox),i=s(e,o,n,this.toBBox),a=p(r,i),l=d(r)+d(i),a<c?(c=a,h=o,u=l<u?l:u):a===c&&l<u&&(u=l,h=o);return h},_chooseSplitAxis:function(e,t,n){var o=e.leaf?this.compareMinX:c,r=e.leaf?this.compareMinY:u,i=this._allDistMargin(e,t,n,o),a=this._allDistMargin(e,t,n,r);i<a&&e.children.sort(o)},_allDistMargin:function(e,t,n,o){e.children.sort(o);var r,i,a=this.toBBox,c=s(e,0,t,a),u=s(e,n-t,n,a),d=h(c)+h(u);for(r=t;r<n-t;r++)i=e.children[r],l(c,e.leaf?a(i):i),d+=h(c);for(r=n-t-1;r>=t;r--)i=e.children[r],l(u,e.leaf?a(i):i),d+=h(u);return d},_adjustParentBBoxes:function(e,t,n){for(var o=n;o>=0;o--)l(t[o],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},487:function(e,t,n){var o;n(7658),function(){"use strict";function r(e,t){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function i(e,t,n){var o=t.x,r=t.y,i=n.x-o,a=n.y-r;if(0!==i||0!==a){var s=((e.x-o)*i+(e.y-r)*a)/(i*i+a*a);s>1?(o=n.x,r=n.y):s>0&&(o+=i*s,r+=a*s)}return i=e.x-o,a=e.y-r,i*i+a*a}function a(e,t){for(var n,o=e[0],i=[o],a=1,s=e.length;a<s;a++)n=e[a],r(n,o)>t&&(i.push(n),o=n);return o!==n&&i.push(n),i}function s(e,t,n,o,r){for(var a,l=o,c=t+1;c<n;c++){var u=i(e[c],e[t],e[n]);u>l&&(a=c,l=u)}l>o&&(a-t>1&&s(e,t,a,o,r),r.push(e[a]),n-a>1&&s(e,a,n,o,r))}function l(e,t){var n=e.length-1,o=[e[0]];return s(e,0,n,t,o),o.push(e[n]),o}function c(e,t,n){if(e.length<=2)return e;var o=void 0!==t?t*t:1;return e=n?e:a(e,o),e=l(e,o),e}o=function(){return c}.call(t,n,t,e),void 0===o||(e.exports=o)}()},3652:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},1709:function(e,t,n){n(3652)},3793:function(e,t,n){n(710)},710:function(e,t,n){n(7658),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,i=e=>t=>e===t,a=o("string"),s=o("object"),l=o("array"),c=i(null),u=r("boolean"),d=i(void 0),h=e=>null===e||void 0===e,m=e=>!h(e),p=r("function"),f=r("number"),g=()=>{},v=(e,t)=>(...n)=>e(t.apply(null,n)),y=(e,t)=>n=>e(t(n)),b=e=>()=>e,w=e=>e,_=(e,t)=>e===t;function x(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const C=e=>t=>!e(t),S=e=>()=>{throw new Error(e)},k=e=>e(),E=b(!1),T=b(!0);class M{constructor(e,t){this.tag=e,this.value=t}static some(e){return new M(!0,e)}static none(){return M.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?M.some(e(this.value)):M.none()}bind(e){return this.tag?e(this.value):M.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:M.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return m(e)?M.some(e):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(!1);const O=Array.prototype.slice,D=Array.prototype.indexOf,A=Array.prototype.push,R=(e,t)=>D.call(e,t),P=(e,t)=>R(e,t)>-1,I=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},z=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},N=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},L=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},H=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},F=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r],a=t(i,r)?n:o;a.push(i)}return{pass:n,fail:o}},B=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},U=(e,t,n)=>(H(e,((e,o)=>{n=t(n,e,o)})),n),V=(e,t,n)=>(L(e,((e,o)=>{n=t(n,e,o)})),n),j=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return M.some(r);if(n(r,o))break}return M.none()},W=(e,t)=>j(e,t,E),Z=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return M.some(n)}return M.none()},$=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);A.apply(t,e[n])}return t},q=(e,t)=>$(N(e,t)),G=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},K=e=>{const t=O.call(e,0);return t.reverse(),t},Y=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},J=(e,t)=>{const n=O.call(e,0);return n.sort(t),n},X=(e,t)=>t>=0&&t<e.length?M.some(e[t]):M.none(),Q=e=>X(e,0),ee=e=>X(e,e.length-1),te=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return M.none()},ne=Object.keys,oe=Object.hasOwnProperty,re=(e,t)=>{const n=ne(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},ie=(e,t)=>ae(e,((e,n)=>({k:n,v:t(e,n)}))),ae=(e,t)=>{const n={};return re(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},se=e=>(t,n)=>{e[n]=t},le=(e,t,n,o)=>{re(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},ce=(e,t)=>{const n={};return le(e,t,se(n),g),n},ue=(e,t)=>{const n=[];return re(e,((e,o)=>{n.push(t(e,o))})),n},de=e=>ue(e,w),he=(e,t)=>me(e,t)?M.from(e[t]):M.none(),me=(e,t)=>oe.call(e,t),pe=(e,t)=>me(e,t)&&void 0!==e[t]&&null!==e[t],fe=e=>{for(const t in e)if(oe.call(e,t))return!1;return!0},ge="undefined"!==typeof window?window:Function("return this;")(),ve=(e,t)=>{let n=void 0!==t&&null!==t?t:ge;for(let o=0;o<e.length&&void 0!==n&&null!==n;++o)n=n[e[o]];return n},ye=(e,t)=>{const n=e.split(".");return ve(n,t)},be=(e,t)=>ye(e,t),we=(e,t)=>{const n=be(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},_e=Object.getPrototypeOf,xe=e=>we("HTMLElement",e),Ce=e=>{const t=ye("ownerDocument.defaultView",e);return s(e)&&(xe(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(_e(e).constructor.name))},Se=8,ke=9,Ee=11,Te=1,Me=3,Oe=e=>{const t=e.dom.nodeName;return t.toLowerCase()},De=e=>e.dom.nodeType,Ae=e=>t=>De(t)===e,Re=e=>De(e)===Se||"#comment"===Oe(e),Pe=e=>Ie(e)&&Ce(e.dom),Ie=Ae(Te),ze=Ae(Me),Ne=Ae(ke),Le=Ae(Ee),He=e=>t=>Ie(t)&&Oe(t)===e,Fe=(e,t,n)=>{if(!(a(n)||u(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Be=(e,t,n)=>{Fe(e.dom,t,n)},Ue=(e,t)=>{const n=e.dom;re(t,((e,t)=>{Fe(n,t,e)}))},Ve=(e,t)=>{re(t,((t,n)=>{t.fold((()=>{Ze(e,n)}),(t=>{Fe(e.dom,n,t)}))}))},je=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},We=(e,t)=>M.from(je(e,t)),Ze=(e,t)=>{e.dom.removeAttribute(t)},$e=e=>V(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),qe=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Ye(o.childNodes[0])},Ge=(e,t)=>{const n=t||document,o=n.createElement(e);return Ye(o)},Ke=(e,t)=>{const n=t||document,o=n.createTextNode(e);return Ye(o)},Ye=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Je=(e,t,n)=>M.from(e.dom.elementFromPoint(t,n)).map(Ye),Xe={fromHtml:qe,fromTag:Ge,fromText:Ke,fromDom:Ye,fromPoint:Je},Qe=(e,t)=>{const n=e.dom;if(n.nodeType!==Te)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},et=e=>e.nodeType!==Te&&e.nodeType!==ke&&e.nodeType!==Ee||0===e.childElementCount,tt=(e,t)=>{const n=void 0===t?document:t.dom;return et(n)?[]:N(n.querySelectorAll(e),Xe.fromDom)},nt=(e,t)=>{const n=void 0===t?document:t.dom;return et(n)?M.none():M.from(n.querySelector(e)).map(Xe.fromDom)},ot=(e,t)=>e.dom===t.dom,rt=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},it=Qe,at=e=>Xe.fromDom(e.dom.ownerDocument),st=e=>Ne(e)?e:at(e),lt=e=>Xe.fromDom(st(e).dom.documentElement),ct=e=>Xe.fromDom(st(e).dom.defaultView),ut=e=>M.from(e.dom.parentNode).map(Xe.fromDom),dt=e=>M.from(e.dom.parentElement).map(Xe.fromDom),ht=(e,t)=>{const n=p(t)?t:E;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=Xe.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},mt=e=>M.from(e.dom.previousSibling).map(Xe.fromDom),pt=e=>M.from(e.dom.nextSibling).map(Xe.fromDom),ft=e=>N(e.dom.childNodes,Xe.fromDom),gt=(e,t)=>{const n=e.dom.childNodes;return M.from(n[t]).map(Xe.fromDom)},vt=e=>gt(e,0),yt=(e,t)=>{const n=ut(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},bt=(e,t)=>{const n=pt(e);n.fold((()=>{const n=ut(e);n.each((e=>{_t(e,t)}))}),(e=>{yt(e,t)}))},wt=(e,t)=>{const n=vt(e);n.fold((()=>{_t(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},_t=(e,t)=>{e.dom.appendChild(t.dom)},xt=(e,t,n)=>{gt(e,n).fold((()=>{_t(e,t)}),(e=>{yt(e,t)}))},Ct=(e,t)=>{yt(e,t),_t(t,e)},St=(e,t)=>{L(t,((n,o)=>{const r=0===o?e:t[o-1];bt(r,n)}))},kt=(e,t)=>{L(t,(t=>{_t(e,t)}))},Et=e=>{e.dom.textContent="",L(ft(e),(e=>{Tt(e)}))},Tt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Mt=e=>{const t=ft(e);t.length>0&&St(e,t),Tt(e)},Ot=(e,t)=>Xe.fromDom(e.dom.cloneNode(t)),Dt=e=>Ot(e,!1),At=e=>Ot(e,!0),Rt=(e,t)=>{const n=Xe.fromTag(t),o=$e(e);return Ue(n,o),n},Pt=(e,t)=>{const n=Rt(e,t),o=ft(At(e));return kt(n,o),n},It=(e,t)=>{const n=Rt(e,t);bt(e,n);const o=ft(e);return kt(n,o),Tt(e),n},zt=["tfoot","thead","tbody","colgroup"],Nt=e=>P(zt,e),Lt=(e,t)=>({rows:e,columns:t}),Ht=(e,t)=>({row:e,column:t}),Ft=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Bt=(e,t,n,o)=>({element:e,rowspan:t,colspan:n,isNew:o}),Ut=(e,t,n,o,r,i)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:i}),Vt=(e,t,n)=>({element:e,cells:t,section:n}),jt=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),Wt=(e,t,n)=>({element:e,isNew:t,isLocked:n}),Zt=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),$t=(e,t,n,o)=>({startRow:e,startCol:t,finishRow:n,finishCol:o}),qt=(e,t,n)=>({element:e,colspan:t,column:n}),Gt=(e,t)=>({element:e,columns:t}),Kt=e=>Le(e)&&m(e.dom.host),Yt=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),Jt=b(Yt),Xt=Yt?e=>Xe.fromDom(e.dom.getRootNode()):st,Qt=e=>{const t=Xt(e);return Kt(t)?M.some(t):M.none()},en=e=>Xe.fromDom(e.dom.host),tn=e=>{if(Jt()&&m(e.target)){const t=Xe.fromDom(e.target);if(Ie(t)&&nn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return Q(t)}}return M.from(e.target)},nn=e=>m(e.dom.shadowRoot),on=e=>{const t=ze(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Qt(Xe.fromDom(t)).fold((()=>n.body.contains(t)),y(on,en))},rn=()=>an(Xe.fromDom(document)),an=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Xe.fromDom(t)},sn=(e,t,n)=>B(ht(e,n),t),ln=(e,t)=>B(ft(e),t),cn=(e,t)=>{let n=[];return L(ft(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(cn(e,t))})),n},un=(e,t,n)=>sn(e,(e=>Qe(e,t)),n),dn=(e,t)=>ln(e,(e=>Qe(e,t))),hn=(e,t)=>tt(t,e);var mn=(e,t,n,o,r)=>e(n,o)?M.some(n):p(r)&&r(n)?M.none():t(n,o,r);const pn=(e,t,n)=>{let o=e.dom;const r=p(n)?n:E;while(o.parentNode){o=o.parentNode;const e=Xe.fromDom(o);if(t(e))return M.some(e);if(r(e))break}return M.none()},fn=(e,t,n)=>{const o=(e,t)=>t(e);return mn(o,pn,e,t,n)},gn=(e,t)=>{const n=e=>t(Xe.fromDom(e)),o=W(e.dom.childNodes,n);return o.map(Xe.fromDom)},vn=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Xe.fromDom(e.childNodes[o]);if(t(r))return M.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return M.none()};return n(e.dom)},yn=(e,t,n)=>pn(e,(e=>Qe(e,t)),n),bn=(e,t)=>gn(e,(e=>Qe(e,t))),wn=(e,t)=>nt(t,e),_n=(e,t,n)=>{const o=(e,t)=>Qe(e,t);return mn(o,yn,e,t,n)},xn=(e,t,n=_)=>e.exists((e=>n(e,t))),Cn=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},Sn=(e,t)=>void 0!==e&&null!==e?t(e):M.none(),kn=(e,t)=>e?M.some(t):M.none(),En=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Tn=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!d(o)||r+t.length<=o)},Mn=(e,t)=>En(e,t,0),On=(e,t)=>En(e,t,e.length-t.length),Dn=e=>t=>t.replace(e,""),An=Dn(/^\s+|\s+$/g),Rn=e=>e.length>0,Pn=e=>{const t=parseFloat(e);return isNaN(t)?M.none():M.some(t)},In=e=>void 0!==e.style&&p(e.style.getPropertyValue),zn=(e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);In(e)&&e.style.setProperty(t,n)},Nn=(e,t)=>{In(e)&&e.style.removeProperty(t)},Ln=(e,t,n)=>{const o=e.dom;zn(o,t,n)},Hn=(e,t)=>{const n=e.dom;re(t,((e,t)=>{zn(n,t,e)}))},Fn=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||on(e)?r:Bn(n,t)},Bn=(e,t)=>In(e)?e.style.getPropertyValue(t):"",Un=(e,t)=>{const n=e.dom,o=Bn(n,t);return M.from(o).filter((e=>e.length>0))},Vn=(e,t)=>{const n=e.dom;Nn(n,t),xn(We(e,"style").map(An),"")&&Ze(e,"style")},jn=(e,t)=>{const n=e.dom,o=t.dom;In(n)&&In(o)&&(o.style.cssText=n.style.cssText)},Wn=(e,t,n=0)=>We(e,t).map((e=>parseInt(e,10))).getOr(n),Zn=(e,t)=>Wn(e,t,1),$n=e=>He("col")(e)?Wn(e,"span",1)>1:Zn(e,"colspan")>1,qn=e=>Zn(e,"rowspan")>1,Gn=(e,t)=>parseInt(Fn(e,t),10),Kn=b(10),Yn=b(10),Jn=(e,t)=>Xn(e,t,T),Xn=(e,t,n)=>q(ft(e),(e=>Qe(e,t)?n(e)?[e]:[]:Xn(e,t,n))),Qn=(e,t,n=E)=>{if(n(t))return M.none();if(P(e,Oe(t)))return M.some(t);const o=e=>Qe(e,"table")||n(e);return yn(t,e.join(","),o)},eo=(e,t)=>Qn(["td","th"],e,t),to=e=>Jn(e,"th,td"),no=e=>Qe(e,"colgroup")?dn(e,"col"):q(io(e),(e=>dn(e,"col"))),oo=(e,t)=>_n(e,"table",t),ro=e=>Jn(e,"tr"),io=e=>oo(e).fold(b([]),(e=>dn(e,"colgroup"))),ao=(e,t)=>N(e,(e=>{if("colgroup"===Oe(e)){const t=N(no(e),(e=>{const t=Wn(e,"span",1);return Ft(e,1,t)}));return Vt(e,t,"colgroup")}{const n=N(to(e),(e=>{const t=Wn(e,"rowspan",1),n=Wn(e,"colspan",1);return Ft(e,t,n)}));return Vt(e,n,t(e))}})),so=e=>ut(e).map((e=>{const t=Oe(e);return Nt(t)?t:"tbody"})).getOr("tbody"),lo=e=>{const t=ro(e),n=io(e),o=[...n,...t];return ao(o,so)},co=(e,t)=>ao(e,(()=>t)),uo=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},ho=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),l=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:b(r),isiPhone:b(i),isTablet:b(l),isPhone:b(c),isTouch:b(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(u),isDesktop:b(d)}},mo=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},po=(e,t)=>{const n=mo(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return vo(o(1),o(2))},fo=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?go():po(e,n)},go=()=>vo(0,0),vo=(e,t)=>({major:e,minor:t}),yo={nu:vo,detect:fo,unknown:go},bo=(e,t)=>te(t.brands,(t=>{const n=t.brand.toLowerCase();return W(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:yo.nu(parseInt(t.version,10),0)})))})),wo=(e,t)=>{const n=String(t).toLowerCase();return W(e,(e=>e.search(n)))},_o=(e,t)=>wo(e,t).map((e=>{const n=yo.detect(e.versionRegexes,t);return{current:e.name,version:n}})),xo=(e,t)=>wo(e,t).map((e=>{const n=yo.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Co=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,So=e=>t=>Tn(t,e),ko=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Tn(e,"edge/")&&Tn(e,"chrome")&&Tn(e,"safari")&&Tn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Co],search:e=>Tn(e,"chrome")&&!Tn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Tn(e,"msie")||Tn(e,"trident")},{name:"Opera",versionRegexes:[Co,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:So("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:So("firefox")},{name:"Safari",versionRegexes:[Co,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Tn(e,"safari")||Tn(e,"mobile/"))&&Tn(e,"applewebkit")}],Eo=[{name:"Windows",search:So("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Tn(e,"iphone")||Tn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:So("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:So("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:So("linux"),versionRegexes:[]},{name:"Solaris",search:So("sunos"),versionRegexes:[]},{name:"FreeBSD",search:So("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:So("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],To={browsers:b(ko),oses:b(Eo)},Mo="Edge",Oo="Chromium",Do="IE",Ao="Opera",Ro="Firefox",Po="Safari",Io=()=>zo({current:void 0,version:yo.unknown()}),zo=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Mo),isChromium:o(Oo),isIE:o(Do),isOpera:o(Ao),isFirefox:o(Ro),isSafari:o(Po)}},No={unknown:Io,nu:zo,edge:b(Mo),chromium:b(Oo),ie:b(Do),opera:b(Ao),firefox:b(Ro),safari:b(Po)},Lo="Windows",Ho="iOS",Fo="Android",Bo="Linux",Uo="macOS",Vo="Solaris",jo="FreeBSD",Wo="ChromeOS",Zo=()=>$o({current:void 0,version:yo.unknown()}),$o=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Lo),isiOS:o(Ho),isAndroid:o(Fo),isMacOS:o(Uo),isLinux:o(Bo),isSolaris:o(Vo),isFreeBSD:o(jo),isChromeOS:o(Wo)}},qo={unknown:Zo,nu:$o,windows:b(Lo),ios:b(Ho),android:b(Fo),linux:b(Bo),macos:b(Uo),solaris:b(Vo),freebsd:b(jo),chromeos:b(Wo)},Go=(e,t,n)=>{const o=To.browsers(),r=To.oses(),i=t.bind((e=>bo(o,e))).orThunk((()=>_o(o,e))).fold(No.unknown,No.nu),a=xo(r,e).fold(qo.unknown,qo.nu),s=ho(a,i,e,n);return{browser:i,os:a,deviceType:s}},Ko={detect:Go},Yo=e=>window.matchMedia(e).matches;let Jo=uo((()=>Ko.detect(navigator.userAgent,M.from(navigator.userAgentData),Yo)));const Xo=()=>Jo(),Qo=(e,t)=>{const n=(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;In(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=Fn(n,e);return parseFloat(t)||0}return o},r=o,i=(e,t)=>V(t,((t,n)=>{const o=Fn(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),a=(e,t,n)=>{const o=i(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:i,max:a}},er=(e,t)=>Pn(e).getOr(t),tr=(e,t,n)=>er(Fn(e,t),n),nr=(e,t,n,o)=>{const r=tr(e,`padding-${n}`,0),i=tr(e,`padding-${o}`,0),a=tr(e,`border-${n}-width`,0),s=tr(e,`border-${o}-width`,0);return t-r-i-a-s},or=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:nr(e,o,"left","right")},rr=e=>tr(e,"height",e.dom.offsetHeight),ir=e=>tr(e,"width",e.dom.offsetWidth),ar=e=>or(e,"content-box"),sr=Qo("width",(e=>e.dom.offsetWidth)),lr=e=>sr.get(e),cr=e=>sr.getOuter(e),ur=ar,dr=ir,hr=(e,t,n)=>{const o=e.cells,r=o.slice(0,t),i=o.slice(t),a=r.concat(n).concat(i);return fr(e,a)},mr=(e,t,n)=>hr(e,t,[n]),pr=(e,t,n)=>{const o=e.cells;o[t]=n},fr=(e,t)=>Zt(e.element,t,e.section,e.isNew),gr=(e,t)=>{const n=e.cells,o=N(n,t);return Zt(e.element,o,e.section,e.isNew)},vr=(e,t)=>e.cells[t],yr=(e,t)=>vr(e,t).element,br=e=>e.cells.length,wr=e=>{const t=F(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},_r=(e,t,n)=>{const o=N(e.cells,n);return Zt(t(e.element),o,e.section,!0)},xr="data-snooker-locked-cols",Cr=e=>We(e,xr).bind((e=>M.from(e.match(/\d+/g)))).map((e=>Y(e,T))),Sr=e=>{const t=V(wr(e).rows,((e,t)=>(L(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=ue(t,((e,t)=>parseInt(t,10)));return J(n)},kr=(e,t)=>e+","+t,Er=(e,t,n)=>M.from(e.access[kr(t,n)]),Tr=(e,t,n)=>{const o=Mr(e,(e=>n(t,e.element)));return o.length>0?M.some(o[0]):M.none()},Mr=(e,t)=>{const n=q(e.all,(e=>e.cells));return B(n,t)},Or=e=>{const t={};let n=0;return L(e.cells,(e=>{const o=e.colspan;z(o,(r=>{const i=n+r;t[i]=qt(e.element,o,i)})),n+=o})),t},Dr=e=>{const t={},n=[],o=Q(e).map((e=>e.element)).bind(oo),r=o.bind(Cr).getOr({});let i=0,a=0,s=0;const{pass:l,fail:c}=F(e,(e=>"colgroup"===e.section));L(c,(e=>{const o=[];L(e.cells,(e=>{let n=0;while(void 0!==t[kr(s,n)])n++;const i=pe(r,n.toString()),l=Ut(e.element,e.rowspan,e.colspan,s,n,i);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=s+r,i=n+o,c=kr(e,i);t[c]=l,a=Math.max(a,i+1)}o.push(l)})),i++,n.push(Vt(e.element,o,e.section)),s++}));const{columns:u,colgroups:d}=ee(l).map((e=>{const t=Or(e),n=Gt(e.element,de(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),h=Lt(i,a);return{grid:h,access:t,all:n,columns:u,colgroups:d}},Ar=e=>{const t=lo(e);return Dr(t)},Rr=e=>q(e.all,(e=>e.cells)),Pr=e=>de(e.columns),Ir=e=>ne(e.columns).length>0,zr=(e,t)=>M.from(e.columns[t]),Nr={fromTable:Ar,generate:Dr,getAt:Er,findItem:Tr,filterItems:Mr,justCells:Rr,justColumns:Pr,hasColumns:Ir,getColumnAt:zr},Lr=(e,t=T)=>{const n=e.grid,o=z(n.columns,w),r=z(n.rows,w);return N(o,(n=>{const o=()=>q(r,(t=>Nr.getAt(e,t,n).filter((e=>e.column===n)).toArray())),i=e=>1===e.colspan&&t(e.element),a=()=>Nr.getAt(e,0,n);return Hr(o,i,a)}))},Hr=(e,t,n)=>{const o=e(),r=W(o,t),i=r.orThunk((()=>M.from(o[0]).orThunk(n)));return i.map((e=>e.element))},Fr=e=>{const t=e.grid,n=z(t.rows,w),o=z(t.columns,w);return N(n,(t=>{const n=()=>q(o,(n=>Nr.getAt(e,t,n).filter((e=>e.row===t)).fold(b([]),(e=>[e])))),r=e=>1===e.rowspan,i=()=>Nr.getAt(e,t,0);return Hr(n,r,i)}))},Br=(e,t)=>{if(t<0||t>=e.length-1)return M.none();const n=e[t].fold((()=>{const n=K(e.slice(0,t));return te(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>M.some({value:e,delta:0}))),o=e[t+1].fold((()=>{const n=e.slice(t+1);return te(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>M.some({value:e,delta:1})));return n.bind((e=>o.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))},Ur=(e,t)=>n=>"rtl"===Vr(n)?t:e,Vr=e=>"rtl"===Fn(e,"direction")?"rtl":"ltr",jr=Qo("height",(e=>{const t=e.dom;return on(e)?t.getBoundingClientRect().height:t.offsetHeight})),Wr=e=>jr.get(e),Zr=e=>jr.getOuter(e),$r=rr,qr=(e,t)=>{const n=(n,o)=>qr(e+n,t+o);return{left:e,top:t,translate:n}},Gr=qr,Kr=e=>{const t=e.getBoundingClientRect();return Gr(t.left,t.top)},Yr=(e,t)=>void 0!==e?e:void 0!==t?t:0,Jr=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Gr(n.offsetLeft,n.offsetTop);const i=Yr(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),a=Yr(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),s=Yr(r.clientTop,n.clientTop),l=Yr(r.clientLeft,n.clientLeft);return Xr(e).translate(a-l,i-s)},Xr=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?Gr(o.offsetLeft,o.offsetTop):on(e)?Kr(t):Gr(0,0)},Qr=(e,t)=>({row:e,y:t}),ei=(e,t)=>({col:e,x:t}),ti=e=>{const t=Jr(e);return t.left+cr(e)},ni=e=>Jr(e).left,oi=(e,t)=>ei(e,ni(t)),ri=(e,t)=>ei(e,ti(t)),ii=e=>Jr(e).top,ai=(e,t)=>Qr(e,ii(t)),si=(e,t)=>Qr(e,ii(t)+Zr(t)),li=(e,t,n)=>{if(0===n.length)return[];const o=N(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),r=n[n.length-1].map((e=>t(n.length-1,e)));return o.concat([r])},ci=e=>-e,ui={delta:w,positions:e=>li(ai,si,e),edge:ii},di={delta:w,edge:ni,positions:e=>li(oi,ri,e)},hi={delta:ci,edge:ti,positions:e=>li(ri,oi,e)},mi=Ur(di,hi),pi={delta:(e,t)=>mi(t).delta(e,t),positions:(e,t)=>mi(t).positions(e,t),edge:e=>mi(e).edge(e)},fi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gi=(()=>{const e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,o="\\.",r=e=>`(?:${e})?`,i=["Infinity",e+o+r(e)+r(n),o+e+r(n),e+r(n)].join("|"),a=`[+-]?(?:${i})`;return new RegExp(`^(${a})(.*)$`)})(),vi=(e,t)=>I(t,(t=>I(fi[t],(t=>e===t)))),yi=(e,t)=>{const n=M.from(gi.exec(e));return n.bind((e=>{const n=Number(e[1]),o=e[2];return vi(o,t)?M.some({value:n,unit:o}):M.none()}))},bi=/(\d+(\.\d+)?)%/,wi=/(\d+(\.\d+)?)px|em/,_i=He("col"),xi=(e,t,n)=>{const o=dt(e).getOrThunk((()=>an(at(e))));return t(e)/n(o)*100},Ci=(e,t)=>{Ln(e,"width",t+"px")},Si=(e,t)=>{Ln(e,"width",t+"%")},ki=(e,t)=>{Ln(e,"height",t+"px")},Ei=e=>$r(e)+"px",Ti=(e,t,n,o)=>{const r=oo(e).map((e=>{const o=n(e);return Math.floor(t/100*o)})).getOr(t);return o(e,r),r},Mi=(e,t,n,o)=>{const r=parseFloat(e);return On(e,"%")&&"table"!==Oe(t)?Ti(t,r,n,o):r},Oi=e=>{const t=Ei(e);return t?Mi(t,e,Wr,ki):Wr(e)},Di=(e,t,n)=>{const o=n(e),r=Zn(e,t);return o/r},Ai=(e,t)=>Un(e,t).orThunk((()=>We(e,t).map((e=>e+"px")))),Ri=e=>Ai(e,"width"),Pi=e=>Ai(e,"height"),Ii=e=>xi(e,lr,ur),zi=e=>_i(e)?lr(e):dr(e),Ni=e=>Di(e,"rowspan",Oi),Li=e=>{const t=Ri(e);return t.bind((e=>yi(e,["fixed","relative","empty"])))},Hi=(e,t,n)=>{Ln(e,"width",t+n)},Fi=e=>lr(e)+"px",Bi=e=>xi(e,lr,ur)+"%",Ui=e=>Ri(e).exists((e=>bi.test(e))),Vi=e=>Ri(e).exists((e=>wi.test(e))),ji=e=>Ri(e).isNone(),Wi=b(bi),Zi=He("col"),$i=e=>Ri(e).getOrThunk((()=>zi(e)+"px")),qi=e=>Pi(e).getOrThunk((()=>Ni(e)+"px")),Gi=e=>N(Nr.justColumns(e),(e=>M.from(e.element))),Ki=e=>{const t=Xo().browser,n=t.isChromium()||t.isFirefox();return!Zi(e)||n},Yi=(e,t,n,o,r,i)=>e.filter(o).fold((()=>i(Br(n,t))),(e=>r(e))),Ji=(e,t,n,o)=>{const r=Lr(e),i=Nr.hasColumns(e)?Gi(e):r,a=[M.some(pi.edge(t))].concat(N(pi.positions(r,t),(e=>e.map((e=>e.x))))),s=C($n);return N(i,((e,t)=>Yi(e,t,a,s,(e=>{if(Ki(e))return n(e);{const e=Sn(r[t],w);return Yi(e,t,a,s,(e=>o(M.some(lr(e)))),o)}}),o)))},Xi=e=>e.map((e=>e+"px")).getOr(""),Qi=(e,t)=>Ji(e,t,$i,Xi),ea=(e,t,n)=>Ji(e,t,Ii,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))),ta=(e,t,n)=>Ji(e,t,zi,(e=>e.getOrThunk(n.minCellWidth))),na=(e,t,n,o,r)=>{const i=Fr(e),a=[M.some(n.edge(t))].concat(N(n.positions(i,t),(e=>e.map((e=>e.y)))));return N(i,((e,t)=>Yi(e,t,a,C(qn),o,r)))},oa=(e,t,n)=>na(e,t,n,Ni,(e=>e.getOrThunk(Yn))),ra=(e,t,n)=>na(e,t,n,qi,Xi),ia=(e,t)=>()=>on(e)?t(e):parseFloat(Un(e,"width").getOr("0")),aa=e=>{const t=ia(e,lr),n=b(0),o=(t,n)=>ta(t,e,n);return{width:t,pixelWidth:t,getWidths:o,getCellDelta:n,singleColumnWidth:b([0]),minCellWidth:n,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:"none"}},sa=e=>{const t=ia(e,(e=>parseFloat(Bi(e)))),n=ia(e,lr),o=e=>e/n()*100,r=(e,t)=>[100-e],i=()=>Kn()/n()*100,a=n=>{const o=t(),r=n/100*o,i=o+r;Si(e,i)},s=(t,n)=>ea(t,e,n);return{width:t,pixelWidth:n,getWidths:s,getCellDelta:o,singleColumnWidth:r,minCellWidth:i,setElementWidth:Si,adjustTableWidth:a,isRelative:!0,label:"percent"}},la=e=>{const t=ia(e,lr),n=w,o=(e,t)=>{const n=Math.max(Kn(),e+t);return[n-e]},r=n=>{const o=t()+n;Ci(e,o)},i=(t,n)=>ta(t,e,n);return{width:t,pixelWidth:t,getWidths:i,getCellDelta:n,singleColumnWidth:o,minCellWidth:Kn,setElementWidth:Ci,adjustTableWidth:r,isRelative:!1,label:"pixel"}},ca=(e,t)=>{const n=Wi().exec(t);return null!==n?sa(e):la(e)},ua=e=>{const t=Ri(e);return t.fold((()=>aa(e)),(t=>ca(e,t)))},da={getTableSize:ua,pixelSize:la,percentageSize:sa,noneSize:aa},ha=(e,t,n,o,r,i)=>({minRow:e,minCol:t,maxRow:n,maxCol:o,allCells:r,selectedCells:i}),ma=(e,t)=>{const n=e.grid.columns,o=e.grid.rows;let r=o,i=n,a=0,s=0;const l=[],c=[];return re(e.access,(e=>{if(l.push(e),t(e)){c.push(e);const t=e.row,n=t+e.rowspan-1,o=e.column,l=o+e.colspan-1;t<r?r=t:n>a&&(a=n),o<i?i=o:l>s&&(s=l)}})),ha(r,i,a,s,l,c)},pa=(e,t,n)=>{const o=e[n].element,r=Xe.fromTag("td");_t(r,Xe.fromTag("br"));const i=t?_t:wt;i(o,r)},fa=(e,t,n,o)=>{const r=B(e,(e=>"colgroup"!==e.section)),i=t.grid.columns,a=t.grid.rows;for(let s=0;s<a;s++){let e=!1;for(let a=0;a<i;a++)if(!(s<n.minRow||s>n.maxRow||a<n.minCol||a>n.maxCol)){const n=Nr.getAt(t,s,a).filter(o).isNone();n?pa(r,e,s):e=!0}}},ga=(e,t,n,o)=>{re(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&Tt(e.element)}));const r=B(Jn(e,"tr"),(e=>0===e.dom.childElementCount));L(r,Tt),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||L(Jn(e,"th,td"),(e=>{Ze(e,"rowspan"),Ze(e,"colspan")})),Ze(e,xr),Ze(e,"data-snooker-col-series");const i=da.getTableSize(e);i.adjustTableWidth(o)},va=(e,t,n,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;const r=ta(t,e,n),i=V(r,((e,t)=>e+t),0),a=V(r.slice(o.minCol,o.maxCol+1),((e,t)=>e+t),0),s=a/i*n.pixelWidth(),l=s-n.pixelWidth();return n.getCellDelta(l)},ya=(e,t)=>{const n=e=>Qe(e.element,t),o=At(e),r=lo(o),i=da.getTableSize(e),a=Nr.generate(r),s=ma(a,n),l="th:not("+t+"),td:not("+t+")",c=Xn(o,"th,td",(e=>Qe(e,l)));L(c,Tt),fa(r,a,s,n);const u=Nr.fromTable(e),d=va(e,u,i,s);return ga(o,s,a,d),o},ba=" ",wa=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?M.from(t.dom.nodeValue):M.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},_a=wa(ze,"text"),xa=e=>_a.get(e),Ca=e=>_a.getOption(e),Sa=(e,t)=>_a.set(e,t),ka=e=>"img"===Oe(e)?1:Ca(e).fold((()=>ft(e).length),(e=>e.length)),Ea=e=>Ca(e).filter((e=>0!==e.trim().length||e.indexOf(ba)>-1)).isSome(),Ta=e=>Pe(e)&&"false"===je(e,"contenteditable"),Ma=["img","br"],Oa=e=>{const t=Ea(e);return t||P(Ma,Oe(e))||Ta(e)},Da=e=>vn(e,Oa),Aa=e=>Ra(e,Oa),Ra=(e,t)=>{const n=e=>{const o=ft(e);for(let r=o.length-1;r>=0;r--){const e=o[r];if(t(e))return M.some(e);const i=n(e);if(i.isSome())return i}return M.none()};return n(e)},Pa={scope:["row","col"]},Ia=e=>()=>{const t=Xe.fromTag("td",e.dom);return _t(t,Xe.fromTag("br",e.dom)),t},za=e=>()=>Xe.fromTag("col",e.dom),Na=e=>()=>Xe.fromTag("colgroup",e.dom),La=e=>()=>Xe.fromTag("tr",e.dom),Ha=(e,t,n)=>{const o=Pt(e,t);return re(n,((e,t)=>{null===e?Ze(o,t):Be(o,t,e)})),o},Fa=e=>e,Ba=(e,t,n)=>{const o=Da(e);return o.map((o=>{const r=n.join(","),i=un(o,r,(t=>ot(t,e)));return U(i,((e,t)=>{const n=Dt(t);return _t(e,n),n}),t)})).getOr(t)},Ua=(e,t)=>{re(Pa,((n,o)=>We(e,o).filter((e=>P(n,e))).each((e=>Be(t,o,e)))))},Va=(e,t,n)=>{const o=(e,t)=>{jn(e.element,t),Vn(t,"height"),1!==e.colspan&&Vn(t,"width")},r=r=>{const i=Xe.fromTag(Oe(r.element),t.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=a.length>0?Ba(r.element,i,a):i;return _t(s,Xe.fromTag("br")),o(r,i),Ua(r.element,i),e(r.element,i),i},i=n=>{const r=Xe.fromTag(Oe(n.element),t.dom);return o(n,r),e(n.element,r),r};return{col:i,colgroup:Na(t),row:La(t),cell:r,replace:Ha,colGap:za(t),gap:Ia(t)}},ja=e=>({col:za(e),colgroup:Na(e),row:La(e),cell:Ia(e),replace:Fa,colGap:za(e),gap:Ia(e)}),Wa=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,ft(Xe.fromDom(o))},Za=e=>N(e,Xe.fromDom),$a=e=>t=>t.options.get(e),qa="100%",Ga=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return ur(Xe.fromDom(o))+"px"},Ka=(e,t)=>ss(e)||!cs(e)?t:as(e)?{...t,width:Ga(e)}:{...t,width:qa},Ya=(e,t)=>ss(e)||cs(e)?t:as(e)?{...t,width:Ga(e)}:{...t,width:qa},Ja=e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=P(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=P(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0})},Xa=e=>M.from(e.options.get("table_clone_elements")),Qa=e=>{const t=e.options.get("object_resizing");return P(t.split(","),"table")},es=$a("table_header_type"),ts=$a("table_column_resizing"),ns=e=>"preservetable"===ts(e),os=e=>"resizetable"===ts(e),rs=$a("table_sizing_mode"),is=e=>"relative"===rs(e),as=e=>"fixed"===rs(e),ss=e=>"responsive"===rs(e),ls=$a("table_resize_bars"),cs=$a("table_style_by_css"),us=$a("table_merge_content_on_paste"),ds=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:Ya(e,n)},hs=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:Ka(e,n)},ms=$a("table_use_colgroups"),ps=e=>_n(e,"[contenteditable]"),fs=(e,t=!1)=>on(e)?e.dom.isContentEditable:ps(e).fold(b(t),(e=>"true"===gs(e))),gs=e=>e.dom.contentEditable,vs=e=>Xe.fromDom(e.getBody()),ys=e=>t=>ot(t,vs(e)),bs=e=>{Ze(e,"data-mce-style");const t=e=>Ze(e,"data-mce-style");L(to(e),t),L(no(e),t),L(ro(e),t)},ws=e=>Xe.fromDom(e.selection.getStart()),_s=e=>e.getBoundingClientRect().width,xs=e=>e.getBoundingClientRect().height,Cs=(e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return M.from(n).filter(Rn)},Ss=e=>/^(\d+(\.\d+)?)%$/.test(e),ks=e=>/^(\d+(\.\d+)?)px$/.test(e),Es=e=>fn(e,He("table")).exists(fs),Ts=(e,t)=>{const n=t.column,o=t.column+t.colspan-1,r=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&o>=e.startCol&&r<=e.finishRow&&i>=e.startRow},Ms=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Os=(e,t)=>{let n=!0;const o=x(Ms,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let i=t.startCol;i<=t.finishCol;i++)n=n&&Nr.getAt(e,r,i).exists(o);return n?M.some(t):M.none()},Ds=(e,t)=>$t(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),As=(e,t,n)=>{const o=Nr.findItem(e,t,ot),r=Nr.findItem(e,n,ot);return o.bind((e=>r.map((t=>Ds(e,t)))))},Rs=(e,t,n)=>As(e,t,n).bind((t=>Os(e,t))),Ps=(e,t,n,o)=>Nr.findItem(e,t,ot).bind((t=>{const r=n>0?t.row+t.rowspan-1:t.row,i=o>0?t.column+t.colspan-1:t.column,a=Nr.getAt(e,r+n,i+o);return a.map((e=>e.element))})),Is=(e,t,n)=>As(e,t,n).map((t=>{const n=Nr.filterItems(e,x(Ts,t));return N(n,(e=>e.element))})),zs=(e,t)=>{const n=(e,t)=>rt(t,e);return Nr.findItem(e,t,n).map((e=>e.element))},Ns=(e,t,n)=>oo(e).bind((o=>{const r=Bs(o);return Ps(r,e,t,n)})),Ls=(e,t,n)=>{const o=Bs(e);return Is(o,t,n)},Hs=(e,t,n,o,r)=>{const i=Bs(e),a=ot(e,n)?M.some(t):zs(i,t),s=ot(e,r)?M.some(o):zs(i,o);return a.bind((e=>s.bind((t=>Is(i,e,t)))))},Fs=(e,t,n)=>{const o=Bs(e);return Rs(o,t,n)},Bs=Nr.fromTable;var Us=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Vs=()=>{const e=e=>Xe.fromDom(e.dom.cloneNode(!1)),t=e=>st(e).dom,n=e=>!!Ie(e)&&("body"===Oe(e)||P(Us,Oe(e))),o=e=>!!Ie(e)&&P(["br","img","hr","input"],Oe(e)),r=e=>Ie(e)&&"false"===je(e,"contenteditable"),i=(e,t)=>e.dom.compareDocumentPosition(t.dom),a=(e,t)=>{const n=$e(e);Ue(t,n)},s=e=>{const t=Oe(e);return P(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},l=e=>Ie(e)?We(e,"lang"):M.none();return{up:b({selector:yn,closest:_n,predicate:pn,all:ht}),down:b({selector:hn,predicate:cn}),styles:b({get:Fn,getRaw:Un,set:Ln,remove:Vn}),attrs:b({get:je,set:Be,remove:Ze,copyTo:a}),insert:b({before:yt,after:bt,afterAll:St,append:_t,appendAll:kt,prepend:wt,wrap:Ct}),remove:b({unwrap:Mt,remove:Tt}),create:b({nu:Xe.fromTag,clone:e,text:Xe.fromText}),query:b({comparePosition:i,prevSibling:mt,nextSibling:pt}),property:b({children:ft,name:Oe,parent:ut,document:t,isText:ze,isComment:Re,isElement:Ie,isSpecial:s,getLanguage:l,getText:xa,setText:Sa,isBoundary:n,isEmptyTag:o,isNonEditable:r}),eq:ot,is:it}};const js=(e,t,n,o)=>{const r=n[0],i=n.slice(1);return o(e,t,r,i)},Ws=(e,t,n)=>n.length>0?js(e,t,n,Zs):M.none(),Zs=(e,t,n,o)=>{const r=t(e,n);return U(o,((n,o)=>{const r=t(e,o);return $s(e,n,r)}),r)},$s=(e,t,n)=>t.bind((t=>n.filter(x(e.eq,t)))),qs=(e,t)=>x(e.eq,t),Gs=(e,t,n,o=E)=>{const r=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=e=>{const t=Z(e,o);return t.fold((()=>e),(t=>e.slice(0,t+1)))},s=a(r),l=a(i),c=W(s,(t=>I(l,qs(e,t))));return{firstpath:s,secondpath:l,shared:c}},Ks=Ws,Ys=Gs,Js=Vs(),Xs=(e,t)=>Ks(Js,((t,n)=>e(n)),t),Qs=(e,t,n)=>Ys(Js,e,t,n),el=e=>yn(e,"table"),tl=(e,t,n)=>{const o=e=>t=>void 0!==n&&n(t)||ot(t,e);return ot(e,t)?M.some({boxes:M.some([e]),start:e,finish:t}):el(e).bind((r=>el(t).bind((i=>{if(ot(r,i))return M.some({boxes:Ls(r,e,t),start:e,finish:t});if(rt(r,i)){const n=un(t,"td,th",o(r)),a=n.length>0?n[n.length-1]:t;return M.some({boxes:Hs(r,e,r,t,i),start:e,finish:a})}if(rt(i,r)){const n=un(e,"td,th",o(i)),a=n.length>0?n[n.length-1]:e;return M.some({boxes:Hs(i,e,r,t,i),start:e,finish:a})}return Qs(e,t).shared.bind((a=>_n(a,"table",n).bind((n=>{const a=un(t,"td,th",o(n)),s=a.length>0?a[a.length-1]:t,l=un(e,"td,th",o(n)),c=l.length>0?l[l.length-1]:e;return M.some({boxes:Hs(n,e,r,t,i),start:c,finish:s})}))))}))))},nl=(e,t)=>{const n=hn(e,t);return n.length>0?M.some(n):M.none()},ol=(e,t)=>W(e,(e=>Qe(e,t))),rl=(e,t,n)=>wn(e,t).bind((t=>wn(e,n).bind((e=>Xs(el,[t,e]).map((n=>({first:t,last:e,table:n}))))))),il=(e,t)=>yn(e,"table").bind((n=>wn(n,t).bind((t=>tl(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))),al=(e,t,n,o,r)=>ol(e,r).bind((e=>Ns(e,t,n).bind((e=>il(e,o))))),sl=(e,t)=>nl(e,t),ll=(e,t,n)=>rl(e,t,n).bind((t=>{const n=t=>ot(e,t),o="thead,tfoot,tbody,table",r=yn(t.first,o,n),i=yn(t.last,o,n);return r.bind((e=>i.bind((n=>ot(e,n)?Fs(t.table,t.first,t.last):M.none()))))})),cl=w,ul=e=>{const t=(e,t)=>We(e,t).exists((e=>parseInt(e,10)>1)),n=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&G(e,n)?M.some(e):M.none()},dl=(e,t,n)=>t.length<=1?M.none():ll(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),hl="data-mce-selected",ml="td["+hl+"],th["+hl+"]",pl="["+hl+"]",fl="data-mce-first-selected",gl="td["+fl+"],th["+fl+"]",vl="data-mce-last-selected",yl="td["+vl+"],th["+vl+"]",bl=pl,wl={selected:hl,selectedSelector:ml,firstSelected:fl,firstSelectedSelector:gl,lastSelected:vl,lastSelectedSelector:yl},_l=(e,t,n)=>({element:n,mergable:dl(t,e,wl),unmergable:ul(e),selection:cl(e)}),xl=(e,t,n)=>({element:e,clipboard:t,generators:n}),Cl=(e,t,n,o)=>({selection:cl(e),clipboard:n,generators:o}),Sl=e=>oo(e).bind((e=>sl(e,wl.firstSelectedSelector))).fold(b(e),(e=>e[0])),kl=e=>(t,n)=>{const o=Oe(t),r="col"===o||"colgroup"===o?Sl(t):t;return _n(r,e,n)},El=kl("th,td,caption"),Tl=kl("th,td"),Ml=e=>Za(e.model.table.getSelectedCells()),Ol=e=>B(Ml(e),(e=>Qe(e,wl.selectedSelector))),Dl=e=>oo(e[0]).map((e=>{const t=ya(e,bl);return bs(t),[t]})),Al=(e,t)=>N(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""),Rl=e=>N(e,(e=>e.dom.innerText)).join(""),Pl=(e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),Dl(n).each((n=>{t.content="text"===t.format?Rl(n):Al(e,n)}))};if(!0===t.selection){const t=Ol(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const o=Ml(e);Q(o).each((o=>{oo(o).each((r=>{const i=B(Wa(n.content),(e=>"meta"!==Oe(e))),a=He("table");if(us(e)&&1===i.length&&a(i[0])){n.preventDefault();const a=Xe.fromDom(e.getDoc()),s=ja(a),l=xl(o,i[0],s);t.pasteCells(r,l).each((()=>{e.focus()}))}}))}))}}))},Il=(e,t)=>({element:e,offset:t}),zl=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>zl(e,t,n).orThunk((()=>M.some(t))))):M.none(),Nl=(e,t)=>{if(e.property().isText(t))return e.property().getText(t).length;const n=e.property().children(t);return n.length},Ll=(e,t)=>{const n=zl(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return Il(n,Nl(e,n));const o=e.property().children(n);return o.length>0?Ll(e,o[o.length-1]):Il(n,Nl(e,n))},Hl=Ll,Fl=Vs(),Bl=e=>Hl(Fl,e),Ul=(e,t)=>{if(!$n(e)){const n=Li(e);n.each((n=>{const o=n.value/2;Hi(e,o,n.unit),Hi(t,o,n.unit)}))}},Vl=e=>N(e,b(0)),jl=(e,t,n,o,r)=>r(e.slice(0,t)).concat(o).concat(r(e.slice(n))),Wl=e=>(t,n,o,r)=>{if(e(o)){const e=Math.max(r,t[n]-Math.abs(o)),i=Math.abs(e-t[n]);return o>=0?i:-i}return o},Zl=Wl((e=>e<0)),$l=Wl(T),ql=()=>{const e=(e,t,n,o,r)=>{const i=Zl(e,t,o,r);return jl(e,t,n+1,[i,0],Vl)},t=(e,t,n,o)=>{const r=(100+n)/100,i=Math.max(o,(e[t]+n)/r);return N(e,((e,n)=>{const o=n===t?i:e/r;return o-e}))},n=(n,o,r,i,a,s)=>s?t(n,o,i,a):e(n,o,r,i,a),o=(e,t,o,r,i,a,s)=>n(e,o,r,i,a,s),r=(e,t)=>e(t),i=(e,n,o,r,i,a)=>{if(a)return t(e,o,r,i);{const t=Zl(e,o,r,i);return Vl(e.slice(0,o)).concat([t])}},a=(e,t,n,o)=>{if(o){const o=t+n,r=o/t,i=N(e,(e=>e/r));return{delta:100*r-100,newSizes:i}}return{delta:n,newSizes:e}};return{resizeTable:r,clampTableDelta:Zl,calcLeftEdgeDeltas:n,calcMiddleDeltas:o,calcRightEdgeDeltas:i,calcRedestributedWidths:a}},Gl=()=>{const e=(e,t,n,o,r)=>{const i=o>=0?n:t,a=$l(e,i,o,r);return jl(e,t,n+1,[a,-a],Vl)},t=(t,n,o,r,i,a)=>e(t,o,r,i,a),n=(e,t,n)=>{n&&e(t)},o=(e,t,n,o,r,i)=>{if(i)return Vl(e);{const t=o/e.length;return N(e,b(t))}},r=(e,t,n,o,r)=>{if(r){if(n>=0)return n;{const t=V(e,((e,t)=>e+t-o),0);return Math.max(-t,n)}}return Zl(e,t,n,o)},i=(e,t,n,o)=>({delta:0,newSizes:e});return{resizeTable:n,clampTableDelta:r,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:o,calcRedestributedWidths:i}},Kl=e=>{const t=Nr.fromTable(e);return t.grid},Yl=He("th"),Jl=e=>G(e,(e=>Yl(e.element))),Xl=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Ql=e=>{const t="thead"===e.section,n=xn(ec(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Xl(t,n)}:{type:"body"}},ec=e=>{const t=B(e,(e=>Yl(e.element)));return 0===t.length?M.some("td"):t.length===e.length?M.some("th"):M.none()},tc=e=>{const t=N(e,(e=>Ql(e).type)),n=P(t,"header"),o=P(t,"footer");if(n||o){const e=P(t,"body");return!n||e||o?n||e||!o?M.none():M.some("footer"):M.some("header")}return M.some("body")},nc=e=>te(e.all,(e=>{const t=Ql(e);return"header"===t.type?M.from(t.subType):M.none()})),oc=(e,t,n)=>Wt(n(e.element,t),!0,e.isLocked),rc=(e,t)=>e.section!==t?Zt(e.element,e.cells,t,e.isNew):e,ic=()=>({transformRow:rc,transformCell:(e,t,n)=>{const o=n(e.element,t),r="td"!==Oe(o)?It(o,"td"):o;return Wt(r,e.isNew,e.isLocked)}}),ac=()=>({transformRow:rc,transformCell:oc}),sc=()=>({transformRow:(e,t)=>{const n="thead"===t?"tbody":t;return rc(e,n)},transformCell:oc}),lc=()=>({transformRow:w,transformCell:oc}),cc=(e,t)=>{const n=Nr.fromTable(e),o=nc(n).getOr(t);switch(o){case"section":return ic();case"sectionCells":return ac();case"cells":return sc()}},uc={getTableSectionType:cc,section:ic,sectionCells:ac,cells:sc,fallback:lc},dc=(e,t,n,o)=>{n===o?Ze(e,t):Be(e,t,n)},hc=(e,t,n)=>{ee(dn(e,t)).fold((()=>wt(e,n)),(e=>bt(e,n)))},mc=(e,t)=>{const n=bn(e,t).getOrThunk((()=>{const n=Xe.fromTag(t,at(e).dom);return"thead"===t?hc(e,"caption,colgroup",n):"colgroup"===t?hc(e,"caption",n):_t(e,n),n}));return Et(n),n},pc=(e,t)=>{const n=[],o=[],r=e=>N(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return Et(t),L(e.cells,(e=>{e.isNew&&o.push(e.element),dc(e.element,"colspan",e.colspan,1),dc(e.element,"rowspan",e.rowspan,1),_t(t,e.element)})),t})),i=e=>q(e,(e=>N(e.cells,(e=>(dc(e.element,"span",e.colspan,1),e.element))))),a=(t,n)=>{const o=mc(e,n),a="colgroup"===n?i:r,s=a(t);kt(o,s)},s=t=>{bn(e,t).each(Tt)},l=(e,t)=>{e.length>0?a(e,t):s(t)},c=[],u=[],d=[],h=[];return L(t,(e=>{switch(e.section){case"thead":c.push(e);break;case"tbody":u.push(e);break;case"tfoot":d.push(e);break;case"colgroup":h.push(e);break}})),l(h,"colgroup"),l(c,"thead"),l(u,"tbody"),l(d,"tfoot"),{newRows:n,newCells:o}},fc=e=>N(e,(e=>{const t=Dt(e.element);return L(e.cells,(e=>{const n=At(e.element);dc(n,"colspan",e.colspan,1),dc(n,"rowspan",e.rowspan,1),_t(t,n)})),t})),gc=(e,t)=>N(e,(e=>vr(e,t))),vc=(e,t)=>e[t],yc=(e,t)=>{if(0===e.length)return 0;const n=e[0],o=Z(e,(e=>!t(n.element,e.element)));return o.getOr(e.length)},bc=(e,t,n,o)=>{const r=vc(e,t),i="colgroup"===r.section,a=yc(r.cells.slice(n),o),s=i?1:yc(gc(e.slice(t),n),o);return{colspan:a,rowspan:s}},wc=(e,t)=>{const n=N(e,(e=>N(e.cells,E))),o=(e,t,o,r)=>{for(let i=e;i<e+o;i++)for(let e=t;e<t+r;e++)n[i][e]=!0};return N(e,((r,i)=>{const a=q(r.cells,((r,a)=>{if(!1===n[i][a]){const n=bc(e,i,a,t);return o(i,a,n.rowspan,n.colspan),[Bt(r.element,n.rowspan,n.colspan,r.isNew)]}return[]}));return jt(r.element,a,r.section,r.isNew)}))},_c=(e,t,n)=>{const o=[];L(e.colgroups,(r=>{const i=[];for(let o=0;o<e.grid.columns;o++){const r=Nr.getColumnAt(e,o).map((e=>Wt(e.element,n,!1))).getOrThunk((()=>Wt(t.colGap(),!0,!1)));i.push(r)}o.push(Zt(r.element,i,"colgroup",n))}));for(let r=0;r<e.grid.rows;r++){const i=[];for(let o=0;o<e.grid.columns;o++){const a=Nr.getAt(e,r,o).map((e=>Wt(e.element,n,e.isLocked))).getOrThunk((()=>Wt(t.gap(),!0,!1)));i.push(a)}const a=e.all[r],s=Zt(a.element,i,a.section,n);o.push(s)}return o},xc=(e,t)=>_c(e,t,!1),Cc=e=>wc(e,ot),Sc=(e,t)=>te(e.all,(e=>W(e.cells,(e=>ot(t,e.element))))),kc=(e,t,n)=>{const o=N(t.selection,(t=>eo(t).bind((t=>Sc(e,t))).filter(n))),r=Cn(o);return kn(r.length>0,r)},Ec=(e,t,n,o,r)=>(i,a,s,l)=>{const c=Nr.fromTable(i),u=M.from(null===l||void 0===l?void 0:l.section).getOrThunk(uc.fallback),d=t(c,a).map((t=>{const n=xc(c,s),o=e(n,t,ot,r(s),u),i=Sr(o.grid),a=Cc(o.grid);return{info:t,grid:a,cursor:o.cursor,lockedColumns:i}}));return d.bind((e=>{const t=pc(i,e.grid),r=M.from(null===l||void 0===l?void 0:l.sizing).getOrThunk((()=>da.getTableSize(i))),a=M.from(null===l||void 0===l?void 0:l.resize).getOrThunk(Gl);return n(i,e.grid,e.info,{sizing:r,resize:a,section:u}),o(i),Ze(i,xr),e.lockedColumns.length>0&&Be(i,xr,e.lockedColumns.join(",")),M.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},Tc=(e,t)=>eo(t.element).bind((n=>Sc(e,n).map((e=>{const n={...e,generators:t.generators,clipboard:t.clipboard};return n})))),Mc=(e,t)=>kc(e,t,T).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),Oc=(e,t)=>t.mergable,Dc=(e,t)=>t.unmergable,Ac=(e,t)=>kc(e,t,T),Rc=(e,t)=>kc(e,t,(e=>!e.isLocked)),Pc=(e,t)=>Sc(e,t).exists((e=>!e.isLocked)),Ic=(e,t)=>G(t,(t=>Pc(e,t))),zc=(e,t)=>Oc(e,t).filter((t=>Ic(e,t.cells))),Nc=(e,t)=>Dc(e,t).filter((t=>Ic(e,t))),Lc=(e,t,n,o)=>{const r=wr(e).rows;if(0===r.length)return e;for(let i=t.startRow;i<=t.finishRow;i++)for(let e=t.startCol;e<=t.finishCol;e++){const t=r[i],n=vr(t,e).isLocked;pr(t,e,Wt(o(),!1,n))}return e},Hc=(e,t,n,o)=>{const r=wr(e).rows;let i=!0;for(let a=0;a<r.length;a++)for(let e=0;e<br(r[0]);e++){const s=r[a],l=vr(s,e),c=l.element,u=n(c,t);u&&!i?pr(s,e,Wt(o(),!0,l.isLocked)):u&&(i=!1)}return e},Fc=(e,t)=>V(e,((e,n)=>I(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]),Bc=(e,t,n,o)=>(t>0&&t<e[0].cells.length&&L(e,(e=>{const r=e.cells[t-1];let i=0;const a=o();while(e.cells.length>t+i&&n(r.element,e.cells[t+i].element))pr(e,t+i,Wt(a,!0,e.cells[t+i].isLocked)),i++})),e),Uc=(e,t,n,o)=>{const r=wr(e).rows;if(t>0&&t<r.length){const e=r[t-1].cells,i=Fc(e,n);L(i,(e=>{let i=M.none();for(let a=t;a<r.length;a++)for(let t=0;t<br(r[0]);t++){const s=r[a],l=vr(s,t),c=n(l.element,e.element);c&&(i.isNone()&&(i=M.some(o())),i.each((e=>{pr(s,t,Wt(e,!0,l.isLocked))})))}}))}return e},Vc=e=>{const t=t=>t(e),n=b(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:T,isError:E,map:t=>Zc.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>M.some(e)};return r},jc=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:E,isError:T,map:t,mapError:t=>Zc.error(t(e)),bind:t,exists:E,forall:T,getOr:w,or:w,getOrThunk:k,orThunk:k,getOrDie:S(String(e)),each:g,toOptional:M.none};return n},Wc=(e,t)=>e.fold((()=>jc(t)),Vc),Zc={value:Vc,error:jc,fromOption:Wc},$c=(e,t,n)=>{if(e.row>=t.length||e.column>br(t[0]))return Zc.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const o=t.slice(e.row),r=o[0].cells.slice(e.column),i=br(n[0]),a=n.length;return Zc.value({rowDelta:o.length-a,colDelta:r.length-i})},qc=(e,t)=>{const n=br(e[0]),o=br(t[0]);return{rowDelta:0,colDelta:n-o}},Gc=(e,t)=>{const n=e.length,o=t.length;return{rowDelta:n-o,colDelta:0}},Kc=(e,t,n,o)=>{const r="colgroup"===t.section?n.col:n.cell;return z(e,(e=>Wt(r(),!0,o(e))))},Yc=(e,t,n,o)=>{const r=e[e.length-1];return e.concat(z(t,(()=>{const e="colgroup"===r.section?n.colgroup:n.row,t=_r(r,e,w),i=Kc(t.cells.length,t,n,(e=>me(o,e.toString())));return fr(t,i)})))},Jc=(e,t,n,o)=>N(e,(e=>{const r=Kc(t,e,n,E);return hr(e,o,r)})),Xc=(e,t,n)=>N(e,(e=>V(n,((n,o)=>{const r=Kc(1,e,t,T)[0];return mr(n,o,r)}),e))),Qc=(e,t,n)=>{const o=t.colDelta<0?Jc:w,r=t.rowDelta<0?Yc:w,i=Sr(e),a=br(e[0]),s=I(i,(e=>e===a-1)),l=o(e,Math.abs(t.colDelta),n,s?a-1:a),c=Sr(l);return r(l,Math.abs(t.rowDelta),n,Y(c,T))},eu=(e,t,n,o)=>{const r=vr(e[t],n),i=x(o,r.element),a=e[t];return e.length>1&&br(a)>1&&(n>0&&i(yr(a,n-1))||n<a.cells.length-1&&i(yr(a,n+1))||t>0&&i(yr(e[t-1],n))||t<e.length-1&&i(yr(e[t+1],n)))},tu=(e,t,n,o,r,i)=>{const a=e.row,s=e.column,l=n.length,c=br(n[0]),u=a+l,d=s+c+i.length,h=Y(i,T);for(let m=a;m<u;m++){let e=0;for(let i=s;i<d;i++){if(h[i]){e++;continue}eu(t,m,i,r)&&Hc(t,yr(t[m],i),r,o.cell);const l=i-s-e,c=vr(n[m-a],l),u=c.element,d=o.replace(u);pr(t[m],i,Wt(d,!0,c.isLocked))}}return t},nu=(e,t,n)=>{const o=br(t[0]),r=wr(t).cols.length+e.row,i=z(o-e.column,(t=>t+e.column)),a=W(i,(e=>G(n,(t=>t!==e)))).getOr(o-1);return{row:r,column:a}},ou=(e,t,n)=>B(n,(n=>n>=e.column&&n<=br(t[0])+e.column)),ru=(e,t,n,o,r)=>{const i=Sr(t),a=nu(e,t,i),s=wr(n).rows,l=ou(a,s,i),c=$c(a,t,s);return c.map((e=>{const n={...e,colDelta:e.colDelta-l.length},i=Qc(t,n,o),c=Sr(i),u=ou(a,s,c);return tu(a,i,s,o,r,u)}))},iu=(e,t,n,o,r)=>{Bc(t,e,r,o.cell);const i=Gc(n,t),a=Qc(n,i,o),s=Gc(t,a),l=Qc(t,s,o);return N(l,((t,n)=>hr(t,e,a[n].cells)))},au=(e,t,n,o,r)=>{Uc(t,e,r,o.cell);const i=Sr(t),a=qc(t,n),s={...a,colDelta:a.colDelta-i.length},l=Qc(t,s,o),{cols:c,rows:u}=wr(l),d=Sr(l),h=qc(n,t),m={...h,colDelta:h.colDelta+d.length},p=Xc(n,o,d),f=Qc(p,m,o);return[...c,...u.slice(0,e),...f,...u.slice(e,u.length)]},su=(e,t,n,o)=>_r(e,(e=>o(e,n)),t),lu=(e,t,n,o,r)=>{const{rows:i,cols:a}=wr(e),s=i.slice(0,t),l=i.slice(t),c=su(i[n],((e,n)=>{const a=t>0&&t<i.length&&o(yr(i[t-1],n),yr(i[t],n)),s=a?vr(i[t],n):Wt(r(e.element,o),!0,e.isLocked);return s}),o,r);return[...a,...s,c,...l]},cu=(e,t,n,o,r,i,a)=>{if("colgroup"!==n&&o)return vr(e,t);{const t=vr(e,r);return Wt(a(t.element,i),!0,!1)}},uu=(e,t,n,o,r)=>N(e,(e=>{const i=t>0&&t<br(e)&&o(yr(e,t-1),yr(e,t)),a=cu(e,t,e.section,i,n,o,r);return mr(e,t,a)})),du=(e,t)=>q(e,(e=>{const n=e.cells,o=U(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return o.length>0?[Zt(e.element,o,e.section,e.isNew)]:[]})),hu=(e,t,n)=>{const{rows:o,cols:r}=wr(e);return[...r,...o.slice(0,t),...o.slice(n+1)]},mu=(e,t,n,o)=>void 0!==yr(e[t],n)&&t>0&&o(yr(e[t-1],n),yr(e[t],n)),pu=(e,t,n)=>t>0&&n(yr(e,t-1),yr(e,t)),fu=(e,t,n,o)=>mu(e,t,n,o)||pu(e[t],n,o),gu=(e,t)=>{const n=G(t,w)&&Jl(e.cells);return n?T:(e,n,o)=>{const r=Oe(e.element);return!("th"===r&&t[o])}},vu=(e,t)=>{const n=G(t,w)&&Jl(e);return n?T:(e,n,o)=>{const r=Oe(e.element);return!("th"===r&&t[n])}},yu=(e,t,n,o)=>{const r=e=>"row"===e?qn(t):$n(t),i=e=>r(e)?`${e}group`:e;if(e)return Yl(t)?i(n):null;if(o&&Yl(t)){const e="row"===n?"col":"row";return i(e)}return null},bu=(e,t)=>(n,o,r)=>M.some(yu(e,n.element,"col",t[r])),wu=(e,t)=>(n,o)=>M.some(yu(e,n.element,"row",t[o])),_u=(e,t,n)=>Wt(n(e.element,t),!0,e.isLocked),xu=(e,t,n,o,r,i,a)=>{const s=e=>I(t,(t=>n(e.element,t.element)));return N(e,((e,t)=>gr(e,((e,l)=>{if(s(e)){const s=a(e,t,l)?r(e,n,o):e;return i(s,t,l).each((e=>{Ve(s.element,{scope:M.from(e)})})),s}return e}))))},Cu=(e,t,n)=>q(e,((o,r)=>fu(e,r,t,n)?[]:[vr(o,t)])),Su=(e,t,n)=>{const o=e[t];return q(o.cells,((o,r)=>fu(e,t,r,n)?[]:[o]))},ku=(e,t,n,o,r)=>{const i=wr(e).rows,a=q(t,(e=>Cu(i,e,o))),s=N(i,(e=>Jl(e.cells))),l=vu(a,s),c=wu(n,s);return xu(e,a,o,r,_u,c,l)},Eu=(e,t,n,o,r,i,a)=>{const{cols:s,rows:l}=wr(e),c=l[t[0]],u=q(t,(e=>Su(l,e,r))),d=N(c.cells,((e,t)=>Jl(Cu(l,t,r)))),h=[...l];L(t,(e=>{h[e]=a.transformRow(l[e],n)}));const m=[...s,...h],p=gu(c,d),f=bu(o,d);return xu(m,u,r,i,a.transformCell,f,p)},Tu=(e,t,n,o)=>{const r=wr(e).rows,i=N(t,(e=>vr(r[e.row],e.column)));return xu(e,i,n,o,_u,M.none,T)},Mu=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return L(e,((o,r)=>{const i=ne(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],s=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!l(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+o);const i=e=>{const o=ne(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=G(t,(e=>P(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:i,log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},Ou={generate:Mu},Du=Ou.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Au={...Du},Ru=(e,t)=>0===e.length?Au.none():1===e.length?Au.only(0):0===t?Au.left(0,1):t===e.length-1?Au.right(t-1,t):t>0&&t<e.length-1?Au.middle(t-1,t,t+1):Au.none(),Pu=(e,t,n,o,r)=>{const i=e.slice(0),a=Ru(e,t),s=b(N(i,b(0))),l=e=>o.singleColumnWidth(i[e],n),c=(e,t)=>r.calcLeftEdgeDeltas(i,e,t,n,o.minCellWidth(),o.isRelative),u=(e,t,a)=>r.calcMiddleDeltas(i,e,t,a,n,o.minCellWidth(),o.isRelative),d=(e,t)=>r.calcRightEdgeDeltas(i,e,t,n,o.minCellWidth(),o.isRelative);return a.fold(s,l,c,u,d)},Iu=(e,t,n)=>{let o=0;for(let r=e;r<t;r++)o+=void 0!==n[r]?n[r]:0;return o},zu=(e,t)=>{const n=Nr.justCells(e);return N(n,(e=>{const n=Iu(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))},Nu=(e,t)=>{const n=Nr.justColumns(e);return N(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))},Lu=(e,t)=>{const n=Nr.justCells(e);return N(n,(e=>{const n=Iu(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},Hu=(e,t)=>N(e.all,((e,n)=>({element:e.element,height:t[n]}))),Fu=e=>U(e,((e,t)=>e+t),0),Bu=(e,t)=>Nr.hasColumns(e)?Nu(e,t):zu(e,t),Uu=(e,t,n)=>{const o=Bu(e,t);L(o,(e=>{n.setElementWidth(e.element,e.width)}))},Vu=(e,t,n,o,r)=>{const i=Nr.fromTable(e),a=r.getCellDelta(t),s=r.getWidths(i,r),l=n===i.grid.columns-1,c=o.clampTableDelta(s,n,a,r.minCellWidth(),l),u=Pu(s,n,c,r,o),d=N(u,((e,t)=>e+s[t]));Uu(i,d,r),o.resizeTable(r.adjustTableWidth,c,l)},ju=(e,t,n,o)=>{const r=Nr.fromTable(e),i=oa(r,e,o),a=N(i,((e,o)=>n===o?Math.max(t+e,Yn()):e)),s=Lu(r,a),l=Hu(r,a);L(l,(e=>{ki(e.element,e.height)})),L(s,(e=>{ki(e.element,e.height)}));const c=Fu(a);ki(e,c)},Wu=(e,t,n,o,r)=>{const i=Nr.generate(t),a=o.getWidths(i,o),s=o.pixelWidth(),{newSizes:l,delta:c}=r.calcRedestributedWidths(a,s,n.pixelDelta,o.isRelative);Uu(i,l,o),o.adjustTableWidth(c)},Zu=(e,t,n,o)=>{const r=Nr.generate(t),i=o.getWidths(r,o);Uu(r,i,o)},$u=e=>{const t=(e,t)=>{const n=I(e,(e=>e.column===t.column));return n?e:e.concat([t])};return V(e,t,[]).sort(((e,t)=>e.column-t.column))},qu=He("col"),Gu=He("colgroup"),Ku=e=>"tr"===Oe(e)||Gu(e),Yu=e=>{const t=Wn(e,"colspan",1),n=Wn(e,"rowspan",1);return{element:e,colspan:t,rowspan:n}},Ju=(e,t=Yu)=>{const n=t=>qu(t.element)?e.col(t):e.cell(t),o=t=>Gu(t.element)?e.colgroup(t):e.row(t),r=e=>{if(Ku(e))return o({element:e});{const o=e,r=n(t(o));return i=M.some({item:o,replacement:r}),r}};let i=M.none();const a=(e,t)=>i.fold((()=>r(e)),(n=>t(e,n.item)?n.replacement:r(e)));return{getOrInit:a}},Xu=e=>t=>{const n=[],o=(e,t)=>W(n,(n=>t(n.item,e))),r=o=>{const r="td"===e?{scope:null}:{},i=t.replace(o,e,r);return n.push({item:o,sub:i}),i},i=(e,t)=>{if(Ku(e)||qu(e))return e;{const n=e;return o(n,t).fold((()=>r(n)),(o=>t(e,o.item)?o.sub:r(n)))}};return{replaceOrInit:i}},Qu=e=>We(e,"scope").map((e=>e.substr(0,3))),ed=e=>{const t=t=>{const n=Qu(t);return n.each((e=>Be(t,"scope",e))),()=>{const o=e.cell({element:t,colspan:1,rowspan:1});return Vn(o,"width"),Vn(t,"width"),n.each((e=>Be(o,"scope",e))),o}},n=e=>{const t=()=>{const t=Cn(N(e,Qu));if(0===t.length)return M.none();{const e=t[0],n=["row","col"],o=I(t,(t=>t!==e&&P(n,t)));return o?M.none():M.from(e)}};return Vn(e[0],"width"),t().fold((()=>Ze(e[0],"scope")),(t=>Be(e[0],"scope",t+"group"))),b(e[0])};return{unmerge:t,merge:n}},td={modification:Ju,transform:Xu,merging:ed},nd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],od=(e,t)=>{const n=e.property().name(t);return P(["ol","ul"],n)},rd=(e,t)=>{const n=e.property().name(t);return P(nd,n)},id=(e,t)=>P(["br","img","hr","input"],e.property().name(t)),ad=Vs(),sd=e=>rd(ad,e),ld=e=>od(ad,e),cd=e=>id(ad,e),ud=e=>{const t=He("br"),n=e=>G(e,(e=>t(e)||ze(e)&&0===xa(e).trim().length)),o=e=>"li"===Oe(e)||pn(e,ld).isSome(),r=e=>pt(e).map((e=>!!sd(e)||!!cd(e)&&"img"!==Oe(e))).getOr(!1),i=e=>Aa(e).bind((n=>{const i=r(n);return ut(n).map((r=>!0===i||o(r)||t(n)||sd(r)&&!ot(e,r)?[]:[Xe.fromTag("br")]))})).getOr([]),a=()=>{const t=q(e,(e=>{const t=ft(e);return n(t)?[]:t.concat(i(e))}));return 0===t.length?[Xe.fromTag("br")]:t},s=a();Et(e[0]),kt(e[0],s)},dd=e=>fs(e,!0),hd=e=>{const t=to(e);0===t.length&&Tt(e)},md=(e,t)=>({grid:e,cursor:t}),pd=e=>te(e,(e=>te(e.cells,(e=>{const t=e.element;return kn(dd(t),t)})))),fd=(e,t,n)=>{var o,r;const i=wr(e).rows;return M.from(null===(r=null===(o=i[t])||void 0===o?void 0:o.cells[n])||void 0===r?void 0:r.element).filter(dd).orThunk((()=>pd(i)))},gd=(e,t,n)=>{const o=fd(e,t,n);return md(e,o)},vd=e=>{const t=(e,t)=>{const n=I(e,(e=>e.row===t.row));return n?e:e.concat([t])};return V(e,t,[]).sort(((e,t)=>e.row-t.row))},yd=(e,t,n,o)=>{const r=t[0].row,i=vd(t),a=U(i,((e,t)=>{const i=lu(e.grid,r,t.row+e.delta,n,o.getOrInit);return{grid:i,delta:e.delta+1}}),{grid:e,delta:0}).grid;return gd(a,r,t[0].column)},bd=(e,t,n,o)=>{const r=vd(t),i=r[r.length-1],a=i.row+i.rowspan,s=U(r,((e,t)=>lu(e,a,t.row,n,o.getOrInit)),e);return gd(s,a,t[0].column)},wd=(e,t,n,o)=>{const r=t.details,i=$u(r),a=i[0].column,s=U(i,((e,t)=>{const r=uu(e.grid,a,t.column+e.delta,n,o.getOrInit);return{grid:r,delta:e.delta+1}}),{grid:e,delta:0}).grid;return gd(s,r[0].row,a)},_d=(e,t,n,o)=>{const r=t.details,i=r[r.length-1],a=i.column+i.colspan,s=$u(r),l=U(s,((e,t)=>uu(e,a,t.column,n,o.getOrInit)),e);return gd(l,r[0].row,a)},xd=(e,t,n,o)=>{const r=$u(t),i=N(r,(e=>e.column)),a=ku(e,i,!0,n,o.replaceOrInit);return gd(a,t[0].row,t[0].column)},Cd=(e,t,n,o)=>{const r=Tu(e,t,n,o.replaceOrInit);return gd(r,t[0].row,t[0].column)},Sd=(e,t,n,o)=>{const r=$u(t),i=N(r,(e=>e.column)),a=ku(e,i,!1,n,o.replaceOrInit);return gd(a,t[0].row,t[0].column)},kd=(e,t,n,o)=>{const r=Tu(e,t,n,o.replaceOrInit);return gd(r,t[0].row,t[0].column)},Ed=(e,t)=>(n,o,r,i,a)=>{const s=vd(o),l=N(s,(e=>e.row)),c=Eu(n,l,e,t,r,i.replaceOrInit,a);return gd(c,o[0].row,o[0].column)},Td=Ed("thead",!0),Md=Ed("tbody",!1),Od=Ed("tfoot",!1),Dd=(e,t,n,o)=>{const r=$u(t.details),i=du(e,N(r,(e=>e.column))),a=i.length>0?i[0].cells.length-1:0;return gd(i,r[0].row,Math.min(r[0].column,a))},Ad=(e,t,n,o)=>{const r=vd(t),i=hu(e,r[0].row,r[r.length-1].row),a=i.length>0?i.length-1:0;return gd(i,Math.min(t[0].row,a),t[0].column)},Rd=(e,t,n,o)=>{const r=t.cells;ud(r);const i=Lc(e,t.bounds,n,o.merge(r));return md(i,M.from(r[0]))},Pd=(e,t,n,o)=>{const r=(e,t)=>Hc(e,t,n,o.unmerge(t)),i=U(t,r,e);return md(i,M.from(t[0]))},Id=(e,t,n,o)=>{const r=(e,t)=>{const n=Nr.fromTable(e);return _c(n,t,!0)},i=r(t.clipboard,t.generators),a=Ht(t.row,t.column),s=ru(a,e,i,t.generators,n);return s.fold((()=>md(e,M.some(t.element))),(e=>gd(e,t.row,t.column)))},zd=(e,t,n)=>{const o=co(e,n.section),r=Nr.generate(o);return _c(r,t,!0)},Nd=(e,t,n,o)=>{const r=wr(e).rows,i=t.cells[0].column,a=r[t.cells[0].row],s=zd(t.clipboard,t.generators,a),l=iu(i,e,s,t.generators,n);return gd(l,t.cells[0].row,t.cells[0].column)},Ld=(e,t,n,o)=>{const r=wr(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,a=r[t.cells[0].row],s=zd(t.clipboard,t.generators,a),l=iu(i,e,s,t.generators,n);return gd(l,t.cells[0].row,t.cells[0].column)},Hd=(e,t,n,o)=>{const r=wr(e).rows,i=t.cells[0].row,a=r[i],s=zd(t.clipboard,t.generators,a),l=au(i,e,s,t.generators,n);return gd(l,t.cells[0].row,t.cells[0].column)},Fd=(e,t,n,o)=>{const r=wr(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,a=r[t.cells[0].row],s=zd(t.clipboard,t.generators,a),l=au(i,e,s,t.generators,n);return gd(l,t.cells[0].row,t.cells[0].column)},Bd=(e,t)=>{const n=Nr.fromTable(e),o=Ac(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,i=$(N(n.all,(e=>B(e.cells,(e=>e.column>=o&&e.column<r)))));return ec(i)})).getOr("")},Ud=(e,t)=>{const n=Nr.fromTable(e),o=Ac(n,t);return o.bind(ec).getOr("")},Vd=(e,t)=>{const n=Nr.fromTable(e),o=Ac(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,i=n.all.slice(o,r);return tc(i)})).getOr("")},jd=(e,t,n,o)=>Zu(e,t,n,o.sizing),Wd=(e,t,n,o)=>Wu(e,t,n,o.sizing,o.resize),Zd=(e,t)=>I(t,(e=>0===e.column&&e.isLocked)),$d=(e,t)=>I(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),qd=(e,t)=>{const n=Lr(e),o=$u(t);return V(o,((e,t)=>{const o=n[t.column],r=o.map(cr).getOr(0);return e+r}),0)},Gd=e=>(t,n)=>Ac(t,n).filter((n=>{const o=e?Zd:$d;return!o(t,n)})).map((e=>({details:e,pixelDelta:qd(t,e)}))),Kd=(e,t)=>Rc(e,t).map((t=>({details:t,pixelDelta:-qd(e,t)}))),Yd=e=>(t,n)=>Mc(t,n).filter((n=>{const o=e?Zd:$d;return!o(t,n.cells)})),Jd=td.transform("th"),Xd=td.transform("td"),Qd=Ec(yd,Ac,g,g,td.modification),eh=Ec(bd,Ac,g,g,td.modification),th=Ec(wd,Gd(!0),Wd,g,td.modification),nh=Ec(_d,Gd(!1),Wd,g,td.modification),oh=Ec(Dd,Kd,Wd,hd,td.modification),rh=Ec(Ad,Ac,g,hd,td.modification),ih=Ec(xd,Rc,g,g,Jd),ah=Ec(Sd,Rc,g,g,Xd),sh=Ec(Td,Rc,g,g,Jd),lh=Ec(Md,Rc,g,g,Xd),ch=Ec(Od,Rc,g,g,Xd),uh=Ec(Cd,Rc,g,g,Jd),dh=Ec(kd,Rc,g,g,Xd),hh=Ec(Rd,zc,jd,g,td.merging),mh=Ec(Pd,Nc,jd,g,td.merging),ph=Ec(Id,Tc,jd,g,td.modification),fh=Ec(Nd,Yd(!0),g,g,td.modification),gh=Ec(Ld,Yd(!1),g,g,td.modification),vh=Ec(Hd,Mc,g,g,td.modification),yh=Ec(Fd,Mc,g,g,td.modification),bh=Bd,wh=Ud,_h=Vd,xh=(e,t)=>e.dispatch("NewRow",{node:t}),Ch=(e,t)=>e.dispatch("NewCell",{node:t}),Sh=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},kh=(e,t,n,o,r)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:o,otherCells:r})},Eh=e=>{e.dispatch("TableSelectionClear")},Th=(e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})},Mh=(e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})},Oh={structure:!1,style:!0},Dh={structure:!0,style:!1},Ah={structure:!0,style:!0},Rh=(e,t)=>is(e)?da.percentageSize(t):as(e)?da.pixelSize(t):da.getTableSize(t),Ph=(e,t,n)=>{const o=e=>"table"===Oe(vs(e)),r=t=>!o(e)||Kl(t).rows>1,i=t=>!o(e)||Kl(t).columns>1,a=Xa(e),s=os(e)?g:Ul,l=t=>{switch(es(e)){case"section":return uc.section();case"sectionCells":return uc.sectionCells();case"cells":return uc.cells();default:return uc.getTableSectionType(t,"section")}},c=(t,o)=>o.cursor.fold((()=>{const o=to(t);return Q(o).filter(on).map((o=>{n.clearSelectedCells(t.dom);const r=e.dom.createRng();return r.selectNode(o.dom),e.selection.setRng(r),Be(o,"data-mce-selected","1"),r}))}),(o=>{const r=Bl(o),i=e.dom.createRng();return i.setStart(r.element.dom,r.offset),i.setEnd(r.element.dom,r.offset),e.selection.setRng(i),n.clearSelectedCells(t.dom),M.some(i)})),u=(n,o,r,i)=>(s,u,d=!1)=>{bs(s);const h=Xe.fromDom(e.getDoc()),m=Va(r,h,a),p={sizing:Rh(e,s),resize:os(e)?ql():Gl(),section:l(s)};return o(s)?n(s,u,m,p).bind((n=>{t.refresh(s.dom),L(n.newRows,(t=>{xh(e,t.dom)})),L(n.newCells,(t=>{Ch(e,t.dom)}));const o=c(s,n);return on(s)&&(bs(s),d||Sh(e,s.dom,i)),o.map((e=>({rng:e,effect:i})))})):M.none()},d=u(rh,r,g,Dh),h=u(oh,i,g,Dh),m=u(Qd,T,g,Dh),p=u(eh,T,g,Dh),f=u(th,T,s,Dh),v=u(nh,T,s,Dh),y=u(hh,T,g,Dh),b=u(mh,T,g,Dh),w=u(fh,T,g,Dh),_=u(gh,T,g,Dh),x=u(vh,T,g,Dh),C=u(yh,T,g,Dh),S=u(ph,T,g,Ah),k=u(uh,T,g,Dh),E=u(dh,T,g,Dh),O=u(ih,T,g,Dh),D=u(ah,T,g,Dh),A=u(sh,T,g,Dh),R=u(lh,T,g,Dh),P=u(ch,T,g,Dh),I=wh,z=bh,N=_h;return{deleteRow:d,deleteColumn:h,insertRowsBefore:m,insertRowsAfter:p,insertColumnsBefore:f,insertColumnsAfter:v,mergeCells:y,unmergeCells:b,pasteColsBefore:w,pasteColsAfter:_,pasteRowsBefore:x,pasteRowsAfter:C,pasteCells:S,makeCellsHeader:k,unmakeCellsHeader:E,makeColumnsHeader:O,unmakeColumnsHeader:D,makeRowsHeader:A,makeRowsBody:R,makeRowsFooter:P,getTableRowType:N,getTableCellType:I,getTableColType:z}},Ih=(e,t,n)=>{const o=Wn(e,t,1);1===n||o<=1?Ze(e,t):Be(e,t,Math.min(n,o))},zh=(e,t)=>n=>{const o=n.column+n.colspan-1,r=n.column;return o>=e&&r<t},Nh=(e,t,n)=>{if(Nr.hasColumns(e)){const o=B(Nr.justColumns(e),zh(t,n)),r=N(o,(e=>{const o=At(e.element);return Ih(o,"span",n-t),o})),i=Xe.fromTag("colgroup");return kt(i,r),[i]}return[]},Lh=(e,t,n)=>N(e.all,(e=>{const o=B(e.cells,zh(t,n)),r=N(o,(e=>{const o=At(e.element);return Ih(o,"colspan",n-t),o})),i=Xe.fromTag("tr");return kt(i,r),i})),Hh=(e,t)=>{const n=Nr.fromTable(e),o=Rc(n,t);return o.map((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,i=Nh(n,o,r),a=Lh(n,o,r);return[...i,...a]}))},Fh=(e,t,n)=>{const o=Nr.fromTable(e),r=Ac(o,t);return r.bind((e=>{const t=_c(o,n,!1),r=wr(t).rows,i=r.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),a=q(i,(e=>{const t=B(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=Cc(a);return kn(s.length>0,s)})).map((e=>fc(e)))},Bh=Ou.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Uh=(e,t,n)=>{const o=n.substring(0,n.length-e.length),r=parseFloat(o);return o===r.toString()?t(r):Bh.invalid(n)},Vh=e=>On(e,"%")?Uh("%",Bh.percent,e):On(e,"px")?Uh("px",Bh.pixels,e):Bh.invalid(e),jh={...Bh,from:Vh},Wh=(e,t)=>N(e,(e=>{const n=jh.from(e);return n.fold((()=>e),(e=>{const n=e/t*100;return n+"%"}),(e=>e+"%"))})),Zh=(e,t,n)=>{const o=n/t;return N(e,(e=>{const t=jh.from(e);return t.fold((()=>e),(e=>e*o+"px"),(e=>e/100*n+"px"))}))},$h=(e,t)=>{const n=e.fold((()=>b("")),(e=>{const n=e/t;return b(n+"px")}),(()=>{const e=100/t;return b(e+"%")}));return z(t,n)},qh=(e,t,n)=>e.fold((()=>t),(e=>Zh(t,n,e)),(e=>Wh(t,n))),Gh=(e,t,n)=>{const o=jh.from(n),r=G(e,(e=>"0px"===e))?$h(o,e.length):qh(o,e,t);return Xh(r)},Kh=(e,t)=>0===e.length?t:U(e,((e,t)=>jh.from(t).fold(b(0),w,w)+e),0),Yh=(e,t)=>{const n=Math.floor(e);return{value:n+t,remainder:e-n}},Jh=(e,t)=>jh.from(e).fold(b(e),(e=>e+t+"px"),(e=>e+t+"%")),Xh=e=>{if(0===e.length)return e;const t=U(e,((e,t)=>{const n=jh.from(t).fold((()=>({value:t,remainder:0})),(e=>Yh(e,"px")),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([Jh(n[n.length-1],Math.round(t.remainder))])},Qh=jh.from,em=(e,t,n)=>{L(t,(t=>{const o=e.slice(t.column,t.colspan+t.column),r=Kh(o,Kn());Ln(t.element,"width",r+n)}))},tm=(e,t,n)=>{L(t,((t,o)=>{const r=Kh([e[o]],Kn());Ln(t.element,"width",r+n)}))},nm=(e,t,n,o)=>{L(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),r=Kh(n,Yn());Ln(t.element,"height",r+o)})),L(t,((t,n)=>{Ln(t.element,"height",e[n])}))},om=e=>Qh(e).fold(b("px"),b("px"),b("%")),rm=(e,t,n)=>{const o=Nr.fromTable(e),r=o.all,i=Nr.justCells(o),a=Nr.justColumns(o);t.each((t=>{const n=om(t),r=lr(e),s=Qi(o,e),l=Gh(s,r,t);Nr.hasColumns(o)?tm(l,a,n):em(l,i,n),Ln(e,"width",t)})),n.each((t=>{const n=om(t),a=Wr(e),s=ra(o,e,ui),l=Gh(s,a,t);nm(l,r,i,n),Ln(e,"height",t)}))},im=Ui,am=Vi,sm=ji,lm=e=>{Ze(e,"width")},cm=e=>{const t=Bi(e);rm(e,M.some(t),M.none()),lm(e)},um=e=>{const t=Fi(e);rm(e,M.some(t),M.none()),lm(e)},dm=e=>{Vn(e,"width");const t=no(e),n=t.length>0?t:to(e);L(n,(e=>{Vn(e,"width"),lm(e)})),lm(e)},hm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},mm=()=>Xe.fromTag("th"),pm=()=>Xe.fromTag("td"),fm=()=>Xe.fromTag("col"),gm=(e,t,n,o)=>{const r=Xe.fromTag("tr");for(let i=0;i<e;i++){const e=o<t||i<n?mm():pm();i<n&&Be(e,"scope","row"),o<t&&Be(e,"scope","col"),_t(e,Xe.fromTag("br")),_t(r,e)}return r},vm=e=>{const t=Xe.fromTag("colgroup");return z(e,(()=>_t(t,fm()))),t},ym=(e,t,n,o)=>z(e,(e=>gm(t,n,o,e))),bm=(e,t,n,o,r,i=hm)=>{const a=Xe.fromTag("table"),s="cells"!==r;Hn(a,i.styles),Ue(a,i.attributes),i.colGroups&&_t(a,vm(t));const l=Math.min(e,n);if(s&&n>0){const e=Xe.fromTag("thead");_t(a,e);const i="sectionCells"===r?l:0,s=ym(n,t,i,o);kt(e,s)}const c=Xe.fromTag("tbody");_t(a,c);const u=s?e-l:e,d=s?0:n,h=ym(u,t,d,o);return kt(c,h),a},wm=e=>e.dom.innerHTML,_m=e=>{const t=Xe.fromTag("div"),n=Xe.fromDom(e.dom.cloneNode(!0));return _t(t,n),wm(t)},xm=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},Cm=(e,t)=>{wn(t,"td,th").each(x(xm,e))},Sm=(e,t)=>{L(hn(t,"tr"),(t=>{xh(e,t.dom),L(hn(t,"th,td"),(t=>{Ch(e,t.dom)}))}))},km=e=>a(e)&&-1!==e.indexOf("%"),Em=(e,t,n,o,r)=>{const i=hs(e),a={styles:i,attributes:ds(e),colGroups:ms(e)};return e.undoManager.ignore((()=>{const i=bm(n,t,r,o,es(e),a);Be(i,"data-mce-id","__mce");const s=_m(i);e.insertContent(s),e.addVisual()})),wn(vs(e),'table[data-mce-id="__mce"]').map((t=>(as(e)?um(t):ss(e)?dm(t):(is(e)||km(i.width))&&cm(t),bs(t),Ze(t,"data-mce-id"),Sm(e,t),Cm(e,t),t.dom))).getOrNull()},Tm=(e,t,n,o={})=>{const r=e=>f(e)&&e>0;if(r(t)&&r(n)){const r=o.headerRows||0,i=o.headerColumns||0;return Em(e,n,t,i,r)}return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var Mm=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Om="x-tinymce/dom-table-",Dm=Om+"rows",Am=Om+"columns",Rm=e=>{const t=Mm.FakeClipboardItem(e);Mm.write([t])},Pm=e=>{var t;const n=null!==(t=Mm.read())&&void 0!==t?t:[];return te(n,(t=>M.from(t.getType(e))))},Im=e=>{Pm(e).isSome()&&Mm.clear()},zm=e=>{e.fold(Lm,(e=>Rm({[Dm]:e})))},Nm=()=>Pm(Dm),Lm=()=>Im(Dm),Hm=e=>{e.fold(Bm,(e=>Rm({[Am]:e})))},Fm=()=>Pm(Am),Bm=()=>Im(Am),Um=e=>El(ws(e),ys(e)).filter(Es),Vm=e=>Tl(ws(e),ys(e)).filter(Es),jm=(e,t)=>{const n=ys(e),o=()=>Um(e).each((t=>{oo(t,n).filter(C(n)).each((t=>{const n=Xe.fromText("");if(bt(t,n),Tt(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),r=t=>Um(e).each((o=>{const r=ss(e)||as(e)||is(e);r||oo(o,n).each((n=>{"relative"!==t||im(n)?"fixed"!==t||am(n)?"responsive"!==t||sm(n)||dm(n):um(n):cm(n),bs(n),Sh(e,n.dom,Dh)}))})),i=e=>oo(e,n),l=t=>Vm(e).bind((e=>i(e).map((n=>t(n,e))))),c=(t,n)=>{l((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),Sh(e,t.dom,Oh)}))},u=(t,n)=>{l((t=>{const o=Ml(e),r=G(o,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),i=r?e.formatter.remove:e.formatter.apply;L(o,(e=>i("tablecellclass",{value:n},e.dom))),Sh(e,t.dom,Oh)}))},d=()=>{Um(e).each((t=>{oo(t,n).each((n=>{bn(n,"caption").fold((()=>{const t=Xe.fromTag("caption");_t(t,Xe.fromText("Caption")),xt(n,t,0),e.selection.setCursorLocation(t.dom,0)}),(o=>{He("caption")(t)&&nt("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),Tt(o)})),Sh(e,n.dom,Dh)}))}))},h=t=>{e.focus()},m=(t,n=!1)=>l(((o,r)=>{const i=_l(Ml(e),o,r);t(o,i,n).each(h)})),p=()=>l(((t,n)=>{const o=_l(Ml(e),t,n),r=Va(g,Xe.fromDom(e.getDoc()),M.none());return Fh(t,o,r)})),f=()=>l(((t,n)=>{const o=_l(Ml(e),t,n);return Hh(t,o)})),v=(t,n)=>n().each((n=>{const o=N(n,(e=>At(e)));l(((n,r)=>{const i=ja(Xe.fromDom(e.getDoc())),a=Cl(Ml(e),r,o,i);t(n,a).each(h)}))})),y=e=>(t,n)=>he(n,"type").each((t=>{m(e(t),n.no_events)}));re({mceTableSplitCells:()=>m(t.unmergeCells),mceTableMergeCells:()=>m(t.mergeCells),mceTableInsertRowBefore:()=>m(t.insertRowsBefore),mceTableInsertRowAfter:()=>m(t.insertRowsAfter),mceTableInsertColBefore:()=>m(t.insertColumnsBefore),mceTableInsertColAfter:()=>m(t.insertColumnsAfter),mceTableDeleteCol:()=>m(t.deleteColumn),mceTableDeleteRow:()=>m(t.deleteRow),mceTableCutCol:()=>f().each((e=>{Hm(e),m(t.deleteColumn)})),mceTableCutRow:()=>p().each((e=>{zm(e),m(t.deleteRow)})),mceTableCopyCol:()=>f().each((e=>Hm(e))),mceTableCopyRow:()=>p().each((e=>zm(e))),mceTablePasteColBefore:()=>v(t.pasteColsBefore,Fm),mceTablePasteColAfter:()=>v(t.pasteColsAfter,Fm),mceTablePasteRowBefore:()=>v(t.pasteRowsBefore,Nm),mceTablePasteRowAfter:()=>v(t.pasteRowsAfter,Nm),mceTableDelete:o,mceTableCellToggleClass:u,mceTableToggleClass:c,mceTableToggleCaption:d,mceTableSizingMode:(e,t)=>r(t),mceTableCellType:y((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:y((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:y((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{Tm(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const o=e=>"tablecell"+e.toLowerCase().replace("-","");if(!s(n))return;const r=B(Ml(e),Es);if(0===r.length)return;const l=ce(n,((t,n)=>e.formatter.has(o(n))&&a(t)));fe(l)||(re(l,((t,n)=>{const i=o(n);L(r,(n=>{""===t?e.formatter.remove(i,{value:null},n.dom,!0):e.formatter.apply(i,{value:t},n.dom)}))})),i(r[0]).each((t=>Sh(e,t.dom,Oh))))}))},Wm=(e,t)=>{const n=ys(e),o=t=>Tl(ws(e)).bind((o=>oo(o,n).map((n=>{const r=_l(Ml(e),n,o);return t(n,r)})))).getOr("");re({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))},Zm=Ou.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$m=(e,t,n,o)=>e.fold(t,n,o),qm=e=>e.fold(w,w,w),Gm=Zm.before,Km=Zm.on,Ym=Zm.after,Jm={before:Gm,on:Km,after:Ym,cata:$m,getStart:qm},Xm=(e,t)=>({selection:e,kill:t}),Qm={create:Xm},ep=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},tp=(e,t)=>{const n=e.document.createRange();return np(n,t),n},np=(e,t)=>e.selectNodeContents(t.dom),op=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},rp=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},ip=(e,t,n)=>{const o=e.document.createRange();return op(o,t),rp(o,n),o},ap=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},sp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),lp=e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?M.some(n).map(sp):M.none()},cp=Ou.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),up=(e,t,n)=>t(Xe.fromDom(n.startContainer),n.startOffset,Xe.fromDom(n.endContainer),n.endOffset),dp=(e,t)=>t.match({domRange:e=>({ltr:b(e),rtl:M.none}),relative:(t,n)=>({ltr:uo((()=>ip(e,t,n))),rtl:uo((()=>M.some(ip(e,n,t))))}),exact:(t,n,o,r)=>({ltr:uo((()=>ap(e,t,n,o,r))),rtl:uo((()=>M.some(ap(e,o,r,t,n))))})}),hp=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>cp.rtl(Xe.fromDom(e.endContainer),e.endOffset,Xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>up(e,cp.ltr,n)))}return up(e,cp.ltr,n)},mp=(e,t)=>{const n=dp(e,t);return hp(e,n)},pp=(e,t)=>{const n=mp(e,t);return n.match({ltr:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}})};cp.ltr,cp.rtl;const fp=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),gp={create:fp},vp=(e,t,n,o)=>({start:Jm.on(e,t),finish:Jm.on(n,o)}),yp={create:vp},bp=(e,t)=>{const n=pp(e,t);return gp.create(Xe.fromDom(n.startContainer),n.startOffset,Xe.fromDom(n.endContainer),n.endOffset)},wp=yp.create,_p=(e,t,n,o,r,i,a)=>ot(n,r)&&o===i?M.none():_n(n,"td,th",t).bind((n=>_n(r,"td,th",t).bind((o=>xp(e,t,n,o,a))))),xp=(e,t,n,o,r)=>ot(n,o)?M.none():tl(n,o,t).bind((t=>{const o=t.boxes.getOr([]);return o.length>1?(r(e,o,t.start,t.finish),M.some(Qm.create(M.some(wp(n,0,n,ka(n))),!0))):M.none()})),Cp=(e,t,n,o,r)=>{const i=e=>(r.clearBeforeUpdate(n),r.selectRange(n,e.boxes,e.start,e.finish),e.boxes);return al(o,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map(i)},Sp=(e,t)=>({item:e,mode:t}),kp=(e,t,n,o=Ep)=>e.property().parent(t).map((e=>Sp(e,o))),Ep=(e,t,n,o=Tp)=>n.sibling(e,t).map((e=>Sp(e,o))),Tp=(e,t,n,o=Tp)=>{const r=e.property().children(t),i=n.first(r);return i.map((e=>Sp(e,o)))},Mp=[{current:kp,next:Ep,fallback:M.none()},{current:Ep,next:Tp,fallback:M.some(kp)},{current:Tp,next:Tp,fallback:M.some(Ep)}],Op=(e,t,n,o,r=Mp)=>{const i=W(r,(e=>e.current===n));return i.bind((n=>n.current(e,t,o,n.next).orThunk((()=>n.fallback.bind((n=>Op(e,t,n,o)))))))},Dp=()=>{const e=(e,t)=>e.query().prevSibling(t),t=e=>e.length>0?M.some(e[e.length-1]):M.none();return{sibling:e,first:t}},Ap=()=>{const e=(e,t)=>e.query().nextSibling(t),t=e=>e.length>0?M.some(e[0]):M.none();return{sibling:e,first:t}},Rp={left:Dp,right:Ap},Pp=(e,t,n,o,r,i)=>{const a=Op(e,t,o,r);return a.bind((t=>i(t.item)?M.none():n(t.item)?M.some(t.item):Pp(e,t.item,n,t.mode,r,i)))},Ip=(e,t,n,o)=>Pp(e,t,n,Ep,Rp.left(),o),zp=(e,t,n,o)=>Pp(e,t,n,Ep,Rp.right(),o),Np=e=>t=>0===e.property().children(t).length,Lp=(e,t,n)=>Fp(e,t,Np(e),n),Hp=(e,t,n)=>Bp(e,t,Np(e),n),Fp=Ip,Bp=zp,Up=Vs(),Vp=(e,t)=>Lp(Up,e,t),jp=(e,t)=>Hp(Up,e,t),Wp=(e,t,n)=>Fp(Up,e,t,n),Zp=(e,t,n)=>Bp(Up,e,t,n),$p=(e,t,n)=>pn(e,t,n).isSome(),qp=Ou.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Gp=(e,t,n)=>{const o=e.getRect(t),r=e.getRect(n);return r.right>o.left&&r.left<o.right},Kp=e=>_n(e,"tr"),Yp=(e,t,n,o,r,i,a)=>_n(o,"td,th",a).bind((n=>_n(t,"td,th",a).map((t=>ot(n,t)?ot(o,n)&&ka(n)===r?i(t):qp.none("in same cell"):Xs(Kp,[n,t]).fold((()=>Gp(e,t,n)?qp.success():i(t)),(e=>i(t))))))).getOr(qp.none("default")),Jp=(e,t,n,o,r)=>e.fold(t,n,o,r),Xp={...qp,verify:Yp,cata:Jp},Qp=(e,t,n,o)=>({parent:e,children:t,element:n,index:o}),ef=e=>ut(e).bind((t=>{const n=ft(t);return tf(n,e).map((o=>Qp(t,n,e,o)))})),tf=(e,t)=>Z(e,x(ot,t)),nf=He("br"),of=(e,t,n)=>t(e,n).bind((e=>ze(e)&&0===xa(e).trim().length?of(e,t,n):M.some(e))),rf=(e,t,n)=>n.traverse(t).orThunk((()=>of(t,n.gather,e))).map(n.relative),af=(e,t)=>gt(e,t).filter(nf).orThunk((()=>gt(e,t-1).filter(nf))),sf=(e,t,n,o)=>af(t,n).bind((t=>o.traverse(t).fold((()=>of(t,o.gather,e).map(o.relative)),(e=>ef(e).map((e=>Jm.on(e.parent,e.index))))))),lf=(e,t,n,o)=>{const r=nf(t)?rf(e,t,o):sf(e,t,n,o);return r.map((e=>({start:e,finish:e})))},cf=e=>Xp.cata(e,(e=>M.none()),(()=>M.none()),(e=>M.some(Il(e,0))),(e=>M.some(Il(e,ka(e))))),uf=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),df=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),hf=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),mf=e=>e.top,pf=e=>e.bottom,ff=(e,t,n)=>n>=0&&n<ka(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):M.none(),gf=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),vf=(e,t)=>M.some(e.getRect(t)),yf=(e,t,n)=>Ie(t)?vf(e,t).map(gf):ze(t)?ff(e,t,n).map(gf):M.none(),bf=(e,t)=>Ie(t)?vf(e,t).map(gf):ze(t)?e.getRangedRect(t,0,t,ka(t)).map(gf):M.none(),wf=5,_f=100,xf=Ou.generate([{none:[]},{retry:["caret"]}]),Cf=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right,Sf=(e,t,n)=>fn(t,sd).fold(E,(t=>bf(e,t).exists((e=>Cf(n,e))))),kf=(e,t,n,o,r)=>{const i=uf(r,wf);return Math.abs(n.bottom-o.bottom)<1||n.top>r.bottom?xf.retry(i):n.top===r.bottom?xf.retry(uf(r,1)):Sf(e,t,r)?xf.retry(hf(i,wf,0)):xf.none()},Ef=(e,t,n,o,r)=>{const i=df(r,wf);return Math.abs(n.top-o.top)<1||n.bottom<r.top?xf.retry(i):n.bottom===r.top?xf.retry(df(r,1)):Sf(e,t,r)?xf.retry(hf(i,wf,0)):xf.none()},Tf={point:mf,adjuster:Ef,move:df,gather:Vp},Mf={point:pf,adjuster:kf,move:uf,gather:jp},Of=(e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===Oe(e))).isSome(),Df=(e,t,n,o,r)=>Af(e,t,n,t.move(o,wf),r),Af=(e,t,n,o,r)=>0===r?M.some(o):Of(e,o.left,t.point(o))?Df(e,t,n,o,r-1):e.situsFromPoint(o.left,t.point(o)).bind((i=>i.start.fold(M.none,(i=>bf(e,i).bind((a=>t.adjuster(e,i,a,n,o).fold(M.none,(o=>Af(e,t,n,o,r-1))))).orThunk((()=>M.some(o)))),M.none))),Rf=(e,t,n)=>e.point(t)>n.getInnerHeight()?M.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?M.some(-e.point(t)):M.none(),Pf=(e,t,n)=>{const o=e.move(n,wf),r=Af(t,e,n,o,_f).getOr(o);return Rf(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(n=>(t.scrollBy(0,n),t.situsFromPoint(r.left,e.point(r)-n))))},If={tryUp:x(Pf,Tf),tryDown:x(Pf,Mf),getJumpSize:b(wf)},zf=20,Nf=(e,t,n)=>e.getSelection().bind((o=>lf(t,o.finish,o.foffset,n).fold((()=>M.some(Il(o.finish,o.foffset))),(r=>{const i=e.fromSitus(r),a=Xp.verify(e,o.finish,o.foffset,i.finish,i.foffset,n.failure,t);return cf(a)})))),Lf=(e,t,n,o,r,i)=>0===i?M.none():Bf(e,t,n,o,r).bind((a=>{const s=e.fromSitus(a),l=Xp.verify(e,n,o,s.finish,s.foffset,r.failure,t);return Xp.cata(l,(()=>M.none()),(()=>M.some(a)),(a=>ot(n,a)&&0===o?Hf(e,n,o,df,r):Lf(e,t,a,0,r,i-1)),(a=>ot(n,a)&&o===ka(a)?Hf(e,n,o,uf,r):Lf(e,t,a,ka(a),r,i-1)))})),Hf=(e,t,n,o,r)=>yf(e,t,n).bind((t=>Ff(e,r,o(t,If.getJumpSize())))),Ff=(e,t,n)=>{const o=Xo().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,n):M.none()},Bf=(e,t,n,o,r)=>yf(e,n,o).bind((t=>Ff(e,r,t))),Uf=(e,t,n)=>Nf(e,t,n).bind((o=>Lf(e,t,o.element,o.offset,n,zf).map(e.fromSitus))),Vf=(e,t)=>$p(e,(e=>ut(e).exists((e=>ot(e,t))))),jf=(e,t,n,o,r)=>_n(o,"td,th",t).bind((o=>_n(o,"table",t).bind((i=>Vf(r,i)?Uf(e,t,n).bind((e=>_n(e.finish,"td,th",t).map((t=>({start:o,finish:t,range:e}))))):M.none())))),Wf=(e,t,n,o,r,i)=>i(o,t).orThunk((()=>jf(e,t,n,o,r).map((e=>{const t=e.range;return Qm.create(M.some(wp(t.start,t.soffset,t.finish,t.foffset)),!0)})))),Zf=(e,t)=>_n(e,"tr",t).bind((e=>_n(e,"table",t).bind((n=>{const o=hn(n,"tr");return ot(e,o[0])?Wp(n,(e=>Aa(e).isSome()),t).map((e=>{const t=ka(e);return Qm.create(M.some(wp(e,t,e,t)),!0)})):M.none()})))),$f=(e,t)=>_n(e,"tr",t).bind((e=>_n(e,"table",t).bind((n=>{const o=hn(n,"tr");return ot(e,o[o.length-1])?Zp(n,(e=>Da(e).isSome()),t).map((e=>Qm.create(M.some(wp(e,0,e,0)),!0))):M.none()})))),qf=(e,t,n,o,r,i,a)=>jf(e,n,o,r,i).bind((e=>xp(t,n,e.start,e.finish,a))),Gf=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},Kf=e=>{const t=Gf(M.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(M.none())},r=()=>t.get().isSome(),i=()=>t.get(),a=e=>{n(),t.set(M.some(e))};return{clear:o,isSet:r,get:i,set:a}},Yf=()=>{const e=Kf(g),t=t=>e.get().each(t);return{...e,on:t}},Jf=(e,t)=>_n(e,"td,th",t),Xf=e=>dt(e).exists(fs),Qf=(e,t,n,o)=>{const r=Yf(),i=r.clear,a=i=>{r.on((r=>{o.clearBeforeUpdate(t),Jf(i.target,n).each((a=>{tl(r,a,n).each((n=>{const r=n.boxes.getOr([]);if(1===r.length){const n=r[0],a="false"===gs(n),s=xn(ps(i.target),n,ot);a&&s&&(o.selectRange(t,r,n,n),e.selectContents(n))}else r.length>1&&(o.selectRange(t,r,n.start,n.finish),e.selectContents(a))}))}))}))},s=e=>{o.clear(t),Jf(e.target,n).filter(Xf).each(r.set)},l=e=>{a(e)},c=e=>{a(e),i()};return{clearstate:i,mousedown:s,mouseover:l,mouseup:c}},eg={traverse:pt,gather:jp,relative:Jm.before,retry:If.tryDown,failure:Xp.failedDown},tg={traverse:mt,gather:Vp,relative:Jm.before,retry:If.tryUp,failure:Xp.failedUp},ng=e=>t=>t===e,og=ng(38),rg=ng(40),ig=e=>e>=37&&e<=40,ag={isBackward:ng(37),isForward:ng(39)},sg={isBackward:ng(39),isForward:ng(37)},lg=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Gr(n,o)},cg=(e,t,n)=>{const o=void 0!==n?n.dom:document,r=o.defaultView;r&&r.scrollBy(e,t)},ug=Ou.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),dg=e=>ug.exact(e.start,e.soffset,e.finish,e.foffset),hg=e=>e.match({domRange:e=>Xe.fromDom(e.startContainer),relative:(e,t)=>Jm.getStart(e),exact:(e,t,n,o)=>e}),mg=ug.domRange,pg=ug.relative,fg=ug.exact,gg=e=>{const t=hg(e);return ct(t)},vg=gp.create,yg={domRange:mg,relative:pg,exact:fg,exactFromRange:dg,getWin:gg,range:vg},bg=(e,t,n)=>{var o,r;return M.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return M.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),M.some(n)}))},wg=(e,t,n)=>{var o,r;return M.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},_g=(()=>document.caretPositionFromPoint?bg:document.caretRangeFromPoint?wg:M.none)(),xg=(e,t,n)=>{const o=Xe.fromDom(e.document);return _g(o,t,n).map((e=>gp.create(Xe.fromDom(e.startContainer),e.startOffset,Xe.fromDom(e.endContainer),e.endOffset)))},Cg=(e,t)=>{const n=Oe(e);return"input"===n?Jm.after(e):P(["br","img"],n)?0===t?Jm.before(e):Jm.after(e):Jm.on(e,t)},Sg=(e,t)=>{const n=e.fold(Jm.before,Cg,Jm.after),o=t.fold(Jm.before,Cg,Jm.after);return yg.relative(n,o)},kg=(e,t,n,o)=>{const r=Cg(e,t),i=Cg(n,o);return yg.relative(r,i)},Eg=(e,t,n,o)=>{const r=at(e),i=r.dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,o),i},Tg=(e,t,n,o)=>{const r=Eg(e,t,n,o),i=ot(e,n)&&t===o;return r.collapsed&&!i},Mg=e=>M.from(e.getSelection()),Og=(e,t)=>{Mg(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},Dg=(e,t,n,o,r)=>{const i=ap(e,t,n,o,r);Og(e,i)},Ag=(e,t,n,o,r,i)=>{t.collapse(n.dom,o),t.extend(r.dom,i)},Rg=(e,t)=>mp(e,t).match({ltr:(t,n,o,r)=>{Dg(e,t,n,o,r)},rtl:(t,n,o,r)=>{Mg(e).each((i=>{if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,o.dom,r);else if(i.extend)try{Ag(e,i,t,n,o,r)}catch(a){Dg(e,o,r,t,n)}else Dg(e,o,r,t,n)}))}}),Pg=(e,t,n,o,r)=>{const i=kg(t,n,o,r);Rg(e,i)},Ig=(e,t,n)=>{const o=Sg(t,n);Rg(e,o)},zg=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return M.some(gp.create(Xe.fromDom(t.startContainer),t.startOffset,Xe.fromDom(n.endContainer),n.endOffset))}return M.none()},Ng=e=>{if(null===e.anchorNode||null===e.focusNode)return zg(e);{const t=Xe.fromDom(e.anchorNode),n=Xe.fromDom(e.focusNode);return Tg(t,e.anchorOffset,n,e.focusOffset)?M.some(gp.create(t,e.anchorOffset,n,e.focusOffset)):zg(e)}},Lg=(e,t,n=!0)=>{const o=n?tp:ep,r=o(e,t);Og(e,r)},Hg=e=>Mg(e).filter((e=>e.rangeCount>0)).bind(Ng),Fg=e=>Hg(e).map((e=>yg.exact(e.start,e.soffset,e.finish,e.foffset))),Bg=(e,t)=>{const n=pp(e,t);return lp(n)},Ug=(e,t,n)=>xg(e,t,n),Vg=e=>{Mg(e).each((e=>e.removeAllRanges()))},jg=e=>{const t=(t,n)=>Xe.fromPoint(Xe.fromDom(e.document),t,n),n=e=>e.dom.getBoundingClientRect(),o=(t,n,o,r)=>{const i=yg.exact(t,n,o,r);return Bg(e,i)},r=()=>Fg(e).map((t=>bp(e,t))),i=t=>{const n=yg.relative(t.start,t.finish);return bp(e,n)},a=(t,n)=>Ug(e,t,n).map((e=>yp.create(e.start,e.soffset,e.finish,e.foffset))),s=()=>{Vg(e)},l=(t=!1)=>{Fg(e).each((n=>n.fold((e=>e.collapse(t)),((n,o)=>{const r=t?n:o;Ig(e,r,r)}),((n,o,r,i)=>{const a=t?n:r,s=t?o:i;Pg(e,a,s,a,s)}))))},c=t=>{Lg(e,t,!1)},u=t=>{Lg(e,t)},d=t=>{Pg(e,t.start,t.soffset,t.finish,t.foffset)},h=(t,n)=>{Ig(e,t,n)},m=()=>e.innerHeight,p=()=>{const t=lg(Xe.fromDom(e.document));return t.top},f=(t,n)=>{cg(t,n,Xe.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:o,getSelection:r,fromSitus:i,situsFromPoint:a,clearSelection:s,collapseSelection:l,setSelection:d,setRelativeSelection:h,selectNode:c,selectContents:u,getInnerHeight:m,getScrollY:p,scrollBy:f}},Wg=(e,t)=>({rows:e,cols:t}),Zg=(e,t,n,o)=>{const r=jg(e),i=Qf(r,t,n,o);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},$g=e=>fn(e,Pe).exists(fs),qg=(e,t)=>$g(e)||$g(t),Gg=(e,t,n,o)=>{const r=jg(e),i=()=>(o.clear(t),M.none()),a=(e,a,s,l,c,u)=>{const d=e.raw,h=d.which,m=!0===d.shiftKey,p=nl(t,o.selectedSelector).fold((()=>(ig(h)&&!m&&o.clearBeforeUpdate(t),ig(h)&&m&&!qg(a,l)?M.none:rg(h)&&m?x(qf,r,t,n,eg,l,a,o.selectRange):og(h)&&m?x(qf,r,t,n,tg,l,a,o.selectRange):rg(h)?x(Wf,r,n,eg,l,a,$f):og(h)?x(Wf,r,n,tg,l,a,Zf):M.none)),(e=>{const n=n=>()=>{const i=te(n,(n=>Cp(n.rows,n.cols,t,e,o)));return i.fold((()=>rl(t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>{const n=rg(h)||u.isForward(h)?Jm.after:Jm.before;return r.setRelativeSelection(Jm.on(e.first,0),n(e.table)),o.clear(t),Qm.create(M.none(),!0)}))),(e=>M.some(Qm.create(M.none(),!0))))};return ig(h)&&m&&!qg(a,l)?M.none:rg(h)&&m?n([Wg(1,0)]):og(h)&&m?n([Wg(-1,0)]):u.isBackward(h)&&m?n([Wg(0,-1),Wg(-1,0)]):u.isForward(h)&&m?n([Wg(0,1),Wg(1,0)]):ig(h)&&!m?i:M.none}));return p()},s=(e,r,i,a,s)=>nl(t,o.selectedSelector).fold((()=>{const l=e.raw,c=l.which,u=!0===l.shiftKey;return u&&ig(c)&&qg(r,a)?_p(t,n,r,i,a,s,o.selectRange):M.none()}),M.none);return{keydown:a,keyup:s}},Kg=(e,t,n,o)=>{const r=jg(e);return(e,i)=>{o.clearBeforeUpdate(t),tl(e,i,n).each((e=>{const n=e.boxes.getOr([]);o.selectRange(t,n,e.start,e.finish),r.selectContents(i),r.collapseSelection()}))}},Yg=(e,t)=>{const n=je(e,t);return void 0===n||""===n?[]:n.split(" ")},Jg=(e,t,n)=>{const o=Yg(e,t),r=o.concat([n]);return Be(e,t,r.join(" ")),!0},Xg=(e,t,n)=>{const o=B(Yg(e,t),(e=>e!==n));return o.length>0?Be(e,t,o.join(" ")):Ze(e,t),!1},Qg=e=>void 0!==e.dom.classList,ev=e=>Yg(e,"class"),tv=(e,t)=>Jg(e,"class",t),nv=(e,t)=>Xg(e,"class",t),ov=(e,t)=>{Qg(e)?e.dom.classList.add(t):tv(e,t)},rv=e=>{const t=Qg(e)?e.dom.classList:ev(e);0===t.length&&Ze(e,"class")},iv=(e,t)=>{if(Qg(e)){const n=e.dom.classList;n.remove(t)}else nv(e,t);rv(e)},av=(e,t)=>Qg(e)&&e.dom.classList.contains(t),sv=(e,t)=>{L(t,(t=>{iv(e,t)}))},lv=e=>t=>{ov(t,e)},cv=e=>t=>{sv(t,e)},uv=e=>{const t=lv(e.selected),n=cv([e.selected,e.lastSelected,e.firstSelected]),o=t=>{const o=hn(t,e.selectedSelector);L(o,n)},r=(n,r,i,a)=>{o(n),L(r,t),ov(i,e.firstSelected),ov(a,e.lastSelected)};return{clearBeforeUpdate:o,clear:o,selectRange:r,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},dv=(e,t,n)=>{const o=t=>{Ze(t,e.selected),Ze(t,e.firstSelected),Ze(t,e.lastSelected)},r=t=>{Be(t,e.selected,"1")},i=e=>{a(e),n()},a=t=>{const n=hn(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);L(n,o)},s=(n,o,a,s)=>{i(n),L(o,r),Be(a,e.firstSelected,"1"),Be(s,e.lastSelected,"1"),t(o,a,s)};return{clearBeforeUpdate:a,clear:i,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},hv={byClass:uv,byAttr:dv},mv=(e,t,n,o)=>{switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return n(e.elements)}},pv=()=>({tag:"none"}),fv=e=>({tag:"multiple",elements:e}),gv=e=>({tag:"single",element:e}),vv=(e,t,n)=>{const o=()=>sl(e(),n).fold((()=>t().fold(pv,gv)),fv);return{get:o}},yv=(e,t)=>{const n=e.slice(0,t[t.length-1].row+1),o=Cc(n);return q(o,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return N(n,(e=>e.element))}))},bv=(e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),o=Cc(n);return q(o,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return N(n,(e=>e.element))}))},wv=(e,t,n)=>{const o=Nr.fromTable(e),r=Ac(o,t);return r.map((e=>{const t=_c(o,n,!1),{rows:r}=wr(t),i=yv(r,e),a=bv(r,e);return{upOrLeftCells:i,downOrRightCells:a}}))},_v=(e,t,n,o,r,i,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}),xv=e=>{const t=Xe.fromDom(tn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=v(o,n);return _v(t,e.clientX,e.clientY,n,o,r,e)},Cv=(e,t)=>n=>{e(n)&&t(xv(n))},Sv=(e,t,n,o,r)=>{const i=Cv(n,o);return e.dom.addEventListener(t,i,r),{unbind:x(Ev,e,t,i,r)}},kv=(e,t,n,o)=>Sv(e,t,n,o,!1),Ev=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Tv=T,Mv=(e,t,n)=>kv(e,t,Tv,n),Ov=xv,Dv=e=>!av(Xe.fromDom(e.target),"ephox-snooker-resizer-bar"),Av=(e,t)=>{const n=vv((()=>Xe.fromDom(e.getBody())),(()=>Tl(ws(e),ys(e))),wl.selectedSelector),o=(t,n,o)=>{const r=oo(n);r.each((r=>{const i=Xa(e),a=Va(g,Xe.fromDom(e.getDoc()),i),s=Ml(e),l=wv(r,{selection:s},a);kh(e,t,n,o,l)}))},r=()=>Eh(e),i=hv.byAttr(wl,o,r);e.on("init",(n=>{const o=e.getWin(),r=vs(e),a=ys(e),s=()=>{const t=e.selection,n=Xe.fromDom(t.getStart()),o=Xe.fromDom(t.getEnd()),a=Xs(oo,[n,o]);a.fold((()=>i.clear(r)),g)},l=Zg(o,r,a,i),c=Gg(o,r,a,i),u=Kg(o,r,a,i),d=e=>!0===e.raw.shiftKey;e.on("TableSelectorChange",(e=>u(e.start,e.finish)));const h=(t,n)=>{d(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=yg.relative(t.start,t.finish),r=pp(o,n);e.selection.setRng(r)})))},m=t=>{const n=Ov(t);if(n.raw.shiftKey&&ig(n.raw.which)){const t=e.selection.getRng(),o=Xe.fromDom(t.startContainer),r=Xe.fromDom(t.endContainer);c.keyup(n,o,t.startOffset,r,t.endOffset).each((e=>{h(n,e)}))}},p=n=>{const o=Ov(n);t.hide();const r=e.selection.getRng(),i=Xe.fromDom(r.startContainer),a=Xe.fromDom(r.endContainer),s=Ur(ag,sg)(Xe.fromDom(e.selection.getStart()));c.keydown(o,i,r.startOffset,a,r.endOffset,s).each((e=>{h(o,e)})),t.show()},f=e=>0===e.button,v=e=>void 0===e.buttons||0!==(1&e.buttons),y=e=>{l.clearstate()},b=e=>{f(e)&&Dv(e)&&l.mousedown(Ov(e))},w=e=>{v(e)&&Dv(e)&&l.mouseover(Ov(e))},_=e=>{f(e)&&Dv(e)&&l.mouseup(Ov(e))},x=()=>{const e=Gf(Xe.fromDom(r)),t=Gf(0),n=n=>{const o=Xe.fromDom(n.target);if(He("td")(o)||He("th")(o)){const r=e.get(),i=t.get();ot(r,o)&&n.timeStamp-i<300&&(n.preventDefault(),u(o,o))}e.set(o),t.set(n.timeStamp)};return{touchEnd:n}},C=x();e.on("dragstart",y),e.on("mousedown",b),e.on("mouseover",w),e.on("mouseup",_),e.on("touchend",C.touchEnd),e.on("keyup",m),e.on("keydown",p),e.on("NodeChange",s)})),e.on("PreInit",(()=>{e.serializer.addTempAttr(wl.firstSelected),e.serializer.addTempAttr(wl.lastSelected)}));const a=e=>i.clear(Xe.fromDom(e)),s=()=>mv(n.get(),b([]),(e=>N(e,(e=>e.dom))),(e=>[e.dom]));return{getSelectedCells:s,clearSelectedCells:a}},Rv=e=>{let t=[];const n=e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},o=e=>{t=B(t,(t=>t!==e))},r=(...n)=>{const o={};L(e,((e,t)=>{o[e]=n[t]})),L(t,(e=>{e(o)}))};return{bind:n,unbind:o,trigger:r}},Pv=e=>{const t=ie(e,(e=>({bind:e.bind,unbind:e.unbind}))),n=ie(e,(e=>e.trigger));return{registry:t,trigger:n}},Iv=(e,t)=>{let n=null;const o=()=>{c(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},zv=e=>e.slice(0).sort(),Nv=(e,t)=>{throw new Error("All required keys ("+zv(e).join(", ")+") were not specified. Specified keys were: "+zv(t).join(", ")+".")},Lv=e=>{throw new Error("Unsupported keys for object: "+zv(e).join(", "))},Hv=(e,t)=>{if(!l(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");L(t,(t=>{if(!a(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},Fv=(e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+zv(e).join(", ")+") were not.")},Bv=e=>{const t=zv(e),n=W(t,((e,n)=>n<t.length-1&&e===t[n+1]));n.each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},Uv=(e,t)=>Vv(e,t,{validate:p,label:"function"}),Vv=(e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return Hv("required",t),Bv(t),o=>{const r=ne(o),i=G(t,(e=>P(r,e)));i||Nv(t,r),e(t,r);const a=B(t,(e=>!n.validate(o[e],e)));return a.length>0&&Fv(a,n.label),o}},jv=(e,t)=>{const n=B(t,(t=>!P(e,t)));n.length>0&&Lv(n)},Wv=e=>Uv(jv,e),Zv=Wv(["compare","extract","mutate","sink"]),$v=Wv(["element","start","stop","destroy"]),qv=Wv(["forceDrop","drop","move","delayDrop"]),Gv=()=>{let e=M.none();const t=()=>{e=M.none()},n=(t,n)=>{const o=e.map((e=>t.compare(e,n)));return e=M.some(n),o},o=(e,t)=>{const o=t.extract(e);o.each((e=>{const o=n(t,e);o.each((e=>{r.trigger.move(e)}))}))},r=Pv({move:Rv(["info"])});return{onEvent:o,reset:t,events:r.registry}},Kv=()=>{const e=Pv({move:Rv(["info"])});return{onEvent:g,reset:g,events:e.registry}},Yv=()=>{const e=Kv(),t=Gv();let n=e;const o=()=>{n.reset(),n=t},r=()=>{n.reset(),n=e},i=(e,t)=>{n.onEvent(e,t)},a=()=>n===t;return{on:o,off:r,isOn:a,onEvent:i,events:t.events}},Jv=(e,t,n)=>{let o=!1;const r=Pv({start:Rv([]),stop:Rv([])}),i=Yv(),a=()=>{p.stop(),i.isOn()&&(i.off(),r.trigger.stop())},s=Iv(a,200),l=e=>{p.start(e),i.on(),r.trigger.start()},c=e=>{s.cancel(),i.onEvent(e,t)};i.events.move.bind((n=>{t.mutate(e,n.info)}));const u=()=>{o=!0},d=()=>{o=!1},h=()=>o,m=e=>(...t)=>{o&&e.apply(null,t)},p=t.sink(qv({forceDrop:a,drop:m(a),move:m(c),delayDrop:m(s.throttle)}),n),f=()=>{p.destroy()};return{element:p.element,go:l,on:u,off:d,isActive:h,destroy:f,events:r.registry}},Xv=e=>{const t=e.replace(/\./g,"-"),n=e=>t+"-"+e;return{resolve:n}},Qv=Xv("ephox-dragster"),ey=Qv.resolve,ty=e=>{const t={layerClass:ey("blocker"),...e},n=Xe.fromTag("div");Be(n,"role","presentation"),Hn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ov(n,ey("blocker")),ov(n,t.layerClass);const o=b(n),r=()=>{Tt(n)};return{element:o,destroy:r}},ny=(e,t)=>Gr(t.left-e.left,t.top-e.top),oy=e=>M.some(Gr(e.x,e.y)),ry=(e,t)=>{e.mutate(t.left,t.top)},iy=(e,t)=>{const n=ty(t),o=Mv(n.element(),"mousedown",e.forceDrop),r=Mv(n.element(),"mouseup",e.drop),i=Mv(n.element(),"mousemove",e.move),a=Mv(n.element(),"mouseout",e.delayDrop),s=()=>{n.destroy(),r.unbind(),i.unbind(),a.unbind(),o.unbind()},l=e=>{_t(e,n.element())},c=()=>{Tt(n.element())};return $v({element:n.element,start:l,stop:c,destroy:s})};var ay=Zv({compare:ny,extract:oy,sink:iy,mutate:ry});const sy=(e,t={})=>{var n;const o=null!==(n=t.mode)&&void 0!==n?n:ay;return Jv(e,o,t)},ly=Xv("ephox-snooker"),cy=ly.resolve,uy=()=>{const e=Pv({drag:Rv(["xDelta","yDelta"])}),t=(t,n)=>{e.trigger.drag(t,n)};return{mutate:t,events:e.registry}},dy=()=>{const e=Pv({drag:Rv(["xDelta","yDelta","target"])});let t=M.none();const n=uy();n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))}));const o=e=>{t=M.some(e)},r=()=>t;return{assign:o,get:r,mutate:n.mutate,events:e.registry}},hy=(e,t,n,o,r)=>{const i=Xe.fromTag("div");return Hn(i,{position:"absolute",left:t-o/2+"px",top:n+"px",height:r+"px",width:o+"px"}),Ue(i,{"data-column":e,role:"presentation"}),i},my=(e,t,n,o,r)=>{const i=Xe.fromTag("div");return Hn(i,{position:"absolute",left:t+"px",top:n-r/2+"px",height:r+"px",width:o+"px"}),Ue(i,{"data-row":e,role:"presentation"}),i},py=cy("resizer-bar"),fy=cy("resizer-rows"),gy=cy("resizer-cols"),vy=7,yy=(e,t)=>q(e.all,((e,n)=>t(e.element)?[n]:[])),by=(e,t)=>{const n=[];return z(e.grid.columns,(o=>{const r=Nr.getColumnAt(e,o).map((e=>e.element));r.forall(t)&&n.push(o)})),B(n,(n=>{const o=Nr.filterItems(e,(e=>e.column===n));return G(o,(e=>t(e.element)))}))},wy=e=>{const t=hn(e.parent(),"."+py);L(t,Tt)},_y=(e,t,n)=>{const o=e.origin();L(t,(t=>{t.each((t=>{const r=n(o,t);ov(r,py),_t(e.parent(),r)}))}))},xy=(e,t,n,o)=>{_y(e,t,((e,t)=>{const r=hy(t.col,t.x-e.left,n.top-e.top,vy,o);return ov(r,gy),r}))},Cy=(e,t,n,o)=>{_y(e,t,((e,t)=>{const r=my(t.row,n.left-e.left,t.y-e.top,o,vy);return ov(r,fy),r}))},Sy=(e,t,n,o,r)=>{const i=Jr(n),a=t.isResizable,s=o.length>0?ui.positions(o,n):[],l=s.length>0?yy(e,a):[],c=B(s,((e,t)=>I(l,(e=>t===e))));Cy(t,c,i,cr(n));const u=r.length>0?pi.positions(r,n):[],d=u.length>0?by(e,a):[],h=B(u,((e,t)=>I(d,(e=>t===e))));xy(t,h,i,Zr(n))},ky=(e,t)=>{if(wy(e),e.isResizable(t)){const n=Nr.fromTable(t),o=Fr(n),r=Lr(n);Sy(n,e,t,o,r)}},Ey=(e,t)=>{const n=hn(e.parent(),"."+py);L(n,t)},Ty=e=>{Ey(e,(e=>{Ln(e,"display","none")}))},My=e=>{Ey(e,(e=>{Ln(e,"display","block")}))},Oy=e=>av(e,fy),Dy=e=>av(e,gy),Ay=cy("resizer-bar-dragging"),Ry=e=>{const t=dy(),n=sy(t,{});let o=M.none();const r=(e,t)=>M.from(je(e,t));t.events.drag.bind((e=>{r(e.target,"data-row").each((t=>{const n=Gn(e.target,"top");Ln(e.target,"top",n+e.yDelta+"px")})),r(e.target,"data-column").each((t=>{const n=Gn(e.target,"left");Ln(e.target,"left",n+e.xDelta+"px")}))}));const i=(e,t)=>{const n=Gn(e,t),o=Wn(e,"data-initial-"+t,0);return n-o};n.events.stop.bind((()=>{t.get().each((t=>{o.each((n=>{r(t,"data-row").each((e=>{const o=i(t,"top");Ze(t,"data-initial-top"),m.trigger.adjustHeight(n,o,parseInt(e,10))})),r(t,"data-column").each((e=>{const o=i(t,"left");Ze(t,"data-initial-left"),m.trigger.adjustWidth(n,o,parseInt(e,10))})),ky(e,n)}))}))}));const a=(o,r)=>{m.trigger.startAdjust(),t.assign(o),Be(o,"data-initial-"+r,Gn(o,r)),ov(o,Ay),Ln(o,"opacity","0.2"),n.go(e.parent())},s=Mv(e.parent(),"mousedown",(e=>{Oy(e.target)&&a(e.target,"top"),Dy(e.target)&&a(e.target,"left")})),l=t=>ot(t,e.view()),c=e=>_n(e,"table",l).filter(fs),u=Mv(e.view(),"mouseover",(t=>{c(t.target).fold((()=>{on(t.target)&&wy(e)}),(t=>{n.isActive()&&(o=M.some(t),ky(e,t))}))})),d=()=>{s.unbind(),u.unbind(),n.destroy(),wy(e)},h=t=>{ky(e,t)},m=Pv({adjustHeight:Rv(["table","delta","row"]),adjustWidth:Rv(["table","delta","column"]),startAdjust:Rv([])});return{destroy:d,refresh:h,on:n.on,off:n.off,hideBars:x(Ty,e),showBars:x(My,e),events:m.registry}},Py=(e,t,n)=>{const o=ui,r=pi,i=Ry(e),a=Pv({beforeResize:Rv(["table","type"]),afterResize:Rv(["table","type"]),startDrag:Rv([])});return i.events.adjustHeight.bind((e=>{const t=e.table;a.trigger.beforeResize(t,"row");const n=o.delta(e.delta,t);ju(t,n,e.row,o),a.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((e=>{a.trigger.startDrag()})),i.events.adjustWidth.bind((e=>{const o=e.table;a.trigger.beforeResize(o,"col");const i=r.delta(e.delta,o),s=n(o);Vu(o,i,e.column,t,s),a.trigger.afterResize(o,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},Iy={create:Py},zy=(e,t)=>{const n=Ne(e)?lt(e):e;return{parent:b(n),view:b(e),origin:b(Gr(0,0)),isResizable:t}},Ny=(e,t,n)=>{const o=()=>Jr(t);return{parent:b(t),view:b(e),origin:o,isResizable:n}},Ly=(e,t,n)=>({parent:b(t),view:b(e),origin:b(Gr(0,0)),isResizable:n}),Hy={only:zy,detached:Ny,body:Ly},Fy=()=>{const e=Xe.fromTag("div");return Hn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),_t(rn(),e),e},By=(e,t)=>e.inline?Hy.body(Xe.fromDom(e.getBody()),Fy(),t):Hy.only(Xe.fromDom(e.getDoc()),t),Uy=(e,t)=>{e.inline&&Tt(t.parent())},Vy=e=>m(e)&&"TABLE"===e.nodeName,jy="bar-",Wy=e=>"false"!==je(e,"data-mce-resize"),Zy=e=>{const t=Nr.fromTable(e);Nr.hasColumns(t)||L(to(e),(e=>{const t=Fn(e,"width");Ln(e,"width",t),Ze(e,"width")}))},$y=e=>{const t=Yf(),n=Yf(),o=Yf();let r,i;const a=t=>Rh(e,t),s=()=>ns(e)?Gl():ql(),l=e=>Kl(e).columns,c=(t,n,o)=>{const c=On(n,"e");if(""===i&&cm(t),o!==r&&""!==i){Ln(t,"width",i);const n=s(),u=a(t),d=ns(e)||c?l(t)-1:0;Vu(t,o-r,d,n,u)}else if(Ss(i)){const e=parseFloat(i.replace("%","")),n=o*e/r;Ln(t,"width",n+"%")}ks(i)&&Zy(t)},u=()=>{n.on((e=>{e.destroy()})),o.on((t=>{Uy(e,t)}))};e.on("init",(()=>{const r=By(e,Wy);if(o.set(r),Qa(e)&&ls(e)){const o=s(),i=Iy.create(r,o,a);i.on(),i.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),i.events.beforeResize.bind((t=>{const n=t.table.dom;Th(e,n,_s(n),xs(n),jy+t.type)})),i.events.afterResize.bind((n=>{const o=n.table,r=o.dom;bs(o),t.on((t=>{e.selection.setRng(t),e.focus()})),Mh(e,r,_s(r),xs(r),jy+n.type),e.undoManager.add()})),n.set(i)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(Vy(n)){const o=Xe.fromDom(n);L(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+ts(e)+"-columns")})),!am(o)&&as(e)?um(o):!im(o)&&is(e)&&cm(o),sm(o)&&Mn(t.origin,jy)&&cm(o),r=t.width,i=ss(e)?"":Cs(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(Vy(n)){const o=Xe.fromDom(n),r=t.origin;Mn(r,"corner-")&&c(o,r,t.width),bs(o),Sh(e,o.dom,Oh)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{n.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{u()}));const d=e=>{n.on((t=>t.refreshBars(Xe.fromDom(e))))},h=()=>{n.on((e=>e.hideBars()))},m=()=>{n.on((e=>e.showBars()))};return{refresh:d,hide:h,show:m}},qy=e=>{Ja(e);const t=$y(e),n=Av(e,t),o=Ph(e,t,n);return jm(e,o),Wm(e,o),Pl(e,o),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Gy=e=>{const t=qy(e);return{table:t}};var Ky=()=>{e.add("dom",Gy)};Ky()}()},8018:function(e,t,n){n(8266)},8266:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()},n=e=>e.getContent({source_view:!0}),o=e=>{const o=n(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:o},onSubmit:n=>{t(e,n.getData().code),n.close()}})},r=e=>{e.addCommand("mceCodeEditor",(()=>{o(e)}))},i=e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};var a=()=>{e.add("code",(e=>(r(e),i(e),{})))};a()})()},599:function(e,t,n){n(923)},923:function(e,t,n){n(7658),function(){"use strict";const e=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},r=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&o(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},i=e=>t=>r(t)===e,a=e=>t=>typeof t===e,s=e=>t=>e===t,l=i("string"),c=i("array"),u=s(null),d=a("boolean"),h=s(void 0),m=e=>null===e||void 0===e,p=e=>!m(e),f=a("function"),g=a("number"),v=()=>{},y=(e,t)=>(...n)=>e(t.apply(null,n)),b=(e,t)=>n=>e(t(n)),w=e=>()=>e;function _(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const x=w(!1),C=w(!0);class S{constructor(e,t){this.tag=e,this.value=t}static some(e){return new S(!0,e)}static none(){return S.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?S.some(e(this.value)):S.none()}bind(e){return this.tag?e(this.value):S.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:S.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return p(e)?S.some(e):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const k=t=>{const n=e(S.none()),o=()=>n.get().each(t),r=()=>{o(),n.set(S.none())},i=()=>n.get().isSome(),a=()=>n.get(),s=e=>{o(),n.set(S.some(e))};return{clear:r,isSet:i,get:a,set:s}},E=()=>k((e=>e.unbind())),T=()=>{const e=k(v),t=t=>e.get().each(t);return{...e,on:t}},M=(e,t)=>{let n=null;const o=()=>{u(n)||(clearTimeout(n),n=null)},r=(...o)=>{u(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},O=Array.prototype.push,D=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},A=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},R=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},P=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return S.some(r);if(n(r,o))break}return S.none()},I=(e,t)=>P(e,t,x),z=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},N=(e,t)=>z(D(e,t)),L=(e,t)=>t>=0&&t<e.length?S.some(e[t]):S.none(),H=e=>L(e,0),F=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return S.none()},B=Object.keys,U=(e,t)=>{const n=B(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},V=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!h(o)||r+t.length<=o)},j=e=>void 0!==e.style&&f(e.style.getPropertyValue),W=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return q(o.childNodes[0])},Z=(e,t)=>{const n=t||document,o=n.createElement(e);return q(o)},$=(e,t)=>{const n=t||document,o=n.createTextNode(e);return q(o)},q=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},G=(e,t,n)=>S.from(e.dom.elementFromPoint(t,n)).map(q),K={fromHtml:W,fromTag:Z,fromText:$,fromDom:q,fromPoint:G};"undefined"!==typeof window?window:Function("return this;")();const Y=9,J=11,X=1,Q=3,ee=e=>e.dom.nodeType,te=e=>t=>ee(t)===e,ne=te(X),oe=te(Q),re=te(Y),ie=te(J),ae=(e,t)=>{const n=e.dom;if(n.nodeType!==X)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},se=e=>e.nodeType!==X&&e.nodeType!==Y&&e.nodeType!==J||0===e.childElementCount,le=(e,t)=>{const n=void 0===t?document:t.dom;return se(n)?[]:D(n.querySelectorAll(e),K.fromDom)},ce=(e,t)=>e.dom===t.dom,ue=e=>K.fromDom(e.dom.ownerDocument),de=e=>re(e)?e:ue(e),he=e=>S.from(e.dom.parentNode).map(K.fromDom),me=(e,t)=>{const n=f(t)?t:x;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=K.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},pe=e=>{const t=t=>R(t,(t=>!ce(e,t)));return he(e).map(fe).map(t).getOr([])},fe=e=>D(e.dom.childNodes,K.fromDom),ge=e=>ie(e)&&p(e.dom.host),ve=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode),ye=w(ve),be=ve?e=>K.fromDom(e.dom.getRootNode()):de,we=e=>{const t=be(e);return ge(t)?S.some(t):S.none()},_e=e=>K.fromDom(e.dom.host),xe=e=>{if(ye()&&p(e.target)){const t=K.fromDom(e.target);if(ne(t)&&Ce(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return H(t)}}return S.from(e.target)},Ce=e=>p(e.dom.shadowRoot),Se=e=>{const t=oe(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return we(K.fromDom(t)).fold((()=>n.body.contains(t)),b(Se,_e))},ke=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return K.fromDom(t)},Ee=(e,t,n)=>{if(!(l(n)||d(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Te=(e,t,n)=>{Ee(e.dom,t,n)},Me=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Oe=(e,t)=>{e.dom.removeAttribute(t)},De=(e,t,n)=>{if(!l(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);j(e)&&e.style.setProperty(t,n)},Ae=(e,t)=>{const n=e.dom;U(t,((e,t)=>{De(n,t,e)}))},Re=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Se(e)?r:Pe(n,t)},Pe=(e,t)=>j(e)?e.style.getPropertyValue(t):"",Ie=(e,t,n,o,r,i,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}),ze=e=>{const t=K.fromDom(xe(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=y(o,n);return Ie(t,e.clientX,e.clientY,n,o,r,e)},Ne=(e,t)=>n=>{e(n)&&t(ze(n))},Le=(e,t,n,o,r)=>{const i=Ne(n,o);return e.dom.addEventListener(t,i,r),{unbind:_(Fe,e,t,i,r)}},He=(e,t,n,o)=>Le(e,t,n,o,!1),Fe=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Be=C,Ue=(e,t,n)=>He(e,t,Be,n),Ve=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},je=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),l=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:w(r),isiPhone:w(i),isTablet:w(l),isPhone:w(c),isTouch:w(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(u),isDesktop:w(d)}},We=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},Ze=(e,t)=>{const n=We(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ge(o(1),o(2))},$e=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?qe():Ze(e,n)},qe=()=>Ge(0,0),Ge=(e,t)=>({major:e,minor:t}),Ke={nu:Ge,detect:$e,unknown:qe},Ye=(e,t)=>F(t.brands,(t=>{const n=t.brand.toLowerCase();return I(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Ke.nu(parseInt(t.version,10),0)})))})),Je=(e,t)=>{const n=String(t).toLowerCase();return I(e,(e=>e.search(n)))},Xe=(e,t)=>Je(e,t).map((e=>{const n=Ke.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Qe=(e,t)=>Je(e,t).map((e=>{const n=Ke.detect(e.versionRegexes,t);return{current:e.name,version:n}})),et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tt=e=>t=>V(t,e),nt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>V(e,"edge/")&&V(e,"chrome")&&V(e,"safari")&&V(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:e=>V(e,"chrome")&&!V(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>V(e,"msie")||V(e,"trident")},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(V(e,"safari")||V(e,"mobile/"))&&V(e,"applewebkit")}],ot=[{name:"Windows",search:tt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>V(e,"iphone")||V(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:tt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tt("linux"),versionRegexes:[]},{name:"Solaris",search:tt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:tt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],rt={browsers:w(nt),oses:w(ot)},it="Edge",at="Chromium",st="IE",lt="Opera",ct="Firefox",ut="Safari",dt=()=>ht({current:void 0,version:Ke.unknown()}),ht=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(it),isChromium:o(at),isIE:o(st),isOpera:o(lt),isFirefox:o(ct),isSafari:o(ut)}},mt={unknown:dt,nu:ht,edge:w(it),chromium:w(at),ie:w(st),opera:w(lt),firefox:w(ct),safari:w(ut)},pt="Windows",ft="iOS",gt="Android",vt="Linux",yt="macOS",bt="Solaris",wt="FreeBSD",_t="ChromeOS",xt=()=>Ct({current:void 0,version:Ke.unknown()}),Ct=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(pt),isiOS:o(ft),isAndroid:o(gt),isMacOS:o(yt),isLinux:o(vt),isSolaris:o(bt),isFreeBSD:o(wt),isChromeOS:o(_t)}},St={unknown:xt,nu:Ct,windows:w(pt),ios:w(ft),android:w(gt),linux:w(vt),macos:w(yt),solaris:w(bt),freebsd:w(wt),chromeos:w(_t)},kt=(e,t,n)=>{const o=rt.browsers(),r=rt.oses(),i=t.bind((e=>Ye(o,e))).orThunk((()=>Xe(o,e))).fold(mt.unknown,mt.nu),a=Qe(r,e).fold(St.unknown,St.nu),s=je(a,i,e,n);return{browser:i,os:a,deviceType:s}},Et={detect:kt},Tt=e=>window.matchMedia(e).matches;let Mt=Ve((()=>Et.detect(navigator.userAgent,S.from(navigator.userAgentData),Tt)));const Ot=()=>Mt(),Dt=(e,t)=>{const n=(n,o)=>Dt(e+n,t+o);return{left:e,top:t,translate:n}},At=Dt,Rt=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return At(n,o)},Pt=e=>{const t=void 0===e?window:e;return Ot().browser.isFirefox()?S.none():S.from(t.visualViewport)},It=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),zt=e=>{const t=void 0===e?window:e,n=t.document,o=Rt(K.fromDom(n));return Pt(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return It(o.left,o.top,n,r)}),(e=>It(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Nt=(e,t,n)=>Pt(n).map((n=>{const o=e=>t(ze(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:v})));var Lt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ht=tinymce.util.Tools.resolve("tinymce.Env");const Ft=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Bt=e=>t=>t.options.get(e),Ut=e=>{const t=e.options.register;t("fullscreen_native",{processor:"boolean",default:!1})},Vt=Bt("fullscreen_native"),jt=e=>{const t=K.fromDom(e.getElement());return we(t).map(_e).getOrThunk((()=>ke(ue(t))))},Wt=e=>void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null,Zt=()=>void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",$t=e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},qt=e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},Gt=e=>e.dom===Wt(ue(e).dom),Kt=(e,t,n)=>R(me(e,n),t),Yt=(e,t)=>R(pe(e),t),Jt=e=>le(e),Xt=(e,t,n)=>Kt(e,(e=>ae(e,t)),n),Qt=(e,t)=>Yt(e,(e=>ae(e,t))),en="data-ephox-mobile-fullscreen-style",tn="display:none!important;",nn="position:absolute!important;",on="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",rn="background-color:rgb(255,255,255)!important;",an=Ht.os.isAndroid(),sn=e=>{const t=Re(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":rn},ln=(e,t,n)=>{const o=e=>Qt(e,"*:not(.tox-silver-sink)"),r=t=>n=>{const o=Me(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(Te(n,en,r),Ae(n,e.parseStyle(t)))},i=Xt(t,"*"),a=N(i,o),s=sn(n);A(a,r(tn)),A(i,r(nn+on+s));const l=!0===an?"":nn;r(l+on+s)(t)},cn=e=>{const t=Jt("["+en+"]");A(t,(t=>{const n=Me(t,en);n&&"no-styles"!==n?Ae(t,e.parseStyle(n)):Oe(t,"style"),Oe(t,en)}))},un=Lt.DOM,dn=()=>zt(window),hn=e=>window.scrollTo(e.x,e.y),mn=Pt().fold((()=>({bind:v,unbind:v})),(e=>{const t=T(),n=E(),o=E(),r=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},i=()=>{window.requestAnimationFrame((()=>{t.on((t=>Ae(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))},a=M((()=>{r(),i()}),50),s=e=>{t.set(e),a.throttle(),n.set(Nt("resize",a.throttle)),o.set(Nt("scroll",a.throttle))},l=()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()};return{bind:s,unbind:l}})),pn=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),i=K.fromDom(r),a=jt(e),s=t.get(),l=K.fromDom(e.getBody()),c=Ht.deviceType.isTouch(),u=r.style,d=e.iframeElement,h=null===d||void 0===d?void 0:d.style,m=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),we(i).map((e=>_e(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},p=()=>{c&&cn(e.dom),m(un.removeClass),mn.unbind(),S.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(s)s.fullscreenChangeHandler.unbind(),Vt(e)&&Gt(a)&&qt(ue(a)),h.width=s.iframeWidth,h.height=s.iframeHeight,u.width=s.containerWidth,u.height=s.containerHeight,u.top=s.containerTop,u.left=s.containerLeft,p(),hn(s.scrollPos),t.set(null),Ft(e,!1),e.off("remove",p);else{const n=Ue(ue(a),Zt(),(n=>{Vt(e)&&(Gt(a)||null===t.get()||pn(e,t))})),o={scrollPos:dn(),containerWidth:u.width,containerHeight:u.height,containerTop:u.top,containerLeft:u.left,iframeWidth:h.width,iframeHeight:h.height,fullscreenChangeHandler:n};c&&ln(e.dom,i,l),h.width=h.height="100%",u.width=u.height="",m(un.addClass),mn.bind(i),e.on("remove",p),t.set(o),Vt(e)&&$t(a),Ft(e,!0)}},fn=(e,t)=>{e.addCommand("mceFullScreen",(()=>{pn(e,t)}))},gn=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)},vn=(e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:gn(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:gn(e,t)})};var yn=()=>{t.add("fullscreen",(t=>{const o=e(null);return t.inline||(Ut(t),fn(t,o),vn(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))};yn()}()},5272:function(e,t,n){n(8061)},8061:function(e,t,n){n(7658),n(2062),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf,n=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},o=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&n(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},r=e=>t=>o(t)===e,i=e=>t=>typeof t===e,a=e=>t=>e===t,s=(e,o)=>c(e)&&n(e,o,((e,n)=>t(e)===n)),l=r("string"),c=r("object"),u=e=>s(e,Object),d=r("array"),h=a(null),m=i("boolean"),p=e=>null===e||void 0===e,f=e=>!p(e),g=i("function"),v=i("number"),y=(e,t)=>{if(d(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},b=()=>{};class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return f(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const _=Object.keys,x=Object.hasOwnProperty,C=(e,t)=>{const n=_(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},S=e=>(t,n)=>{e[n]=t},k=(e,t,n,o)=>{C(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},E=(e,t)=>{const n={};return k(e,t,S(n),b),n},T=(e,t)=>x.call(e,t),M=(e,t)=>T(e,t)&&void 0!==e[t]&&null!==e[t],O=Array.prototype.push,D=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!d(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},A=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none(),R=e=>A(e,0),P=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()};"undefined"!==typeof window?window:Function("return this;")();const I=(e,t,n)=>{if(!(l(n)||m(n)||v(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},z=(e,t,n)=>{I(e.dom,t,n)},N=(e,t)=>{e.dom.removeAttribute(t)},L=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return B(o.childNodes[0])},H=(e,t)=>{const n=t||document,o=n.createElement(e);return B(o)},F=(e,t)=>{const n=t||document,o=n.createTextNode(e);return B(o)},B=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},U=(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(B),V={fromHtml:L,fromTag:H,fromText:F,fromDom:B,fromPoint:U};var j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.util.URI");const Z=e=>e.length>0,$=e=>t=>t.options.get(e),q=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:!0}),t("image_advtab",{processor:"boolean",default:!1}),t("image_uploadtab",{processor:"boolean",default:!0}),t("image_prepend_url",{processor:"string",default:""}),t("image_class_list",{processor:"object[]"}),t("image_description",{processor:"boolean",default:!0}),t("image_title",{processor:"boolean",default:!1}),t("image_caption",{processor:"boolean",default:!1}),t("image_list",{processor:e=>{const t=!1===e||l(e)||y(e,c)||g(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},G=$("image_dimensions"),K=$("image_advtab"),Y=$("image_uploadtab"),J=$("image_prepend_url"),X=$("image_class_list"),Q=$("image_description"),ee=$("image_title"),te=$("image_caption"),ne=$("image_list"),oe=$("a11y_advanced_options"),re=$("automatic_uploads"),ie=e=>Z(e.options.get("images_upload_url")),ae=e=>f(e.options.get("images_upload_handler")),se=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10)),le=e=>new Promise((t=>{const n=document.createElement("img"),o=e=>{n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=()=>{const e=se(n.width,n.clientWidth),t=se(n.height,n.clientHeight),r={width:e,height:t};o(Promise.resolve(r))},n.onerror=()=>{o(Promise.reject(`Failed to get image dimensions for: ${e}`))};const r=n.style;r.visibility="hidden",r.position="fixed",r.bottom=r.left="0px",r.width=r.height="auto",document.body.appendChild(n),n.src=e})),ce=e=>(e&&(e=e.replace(/px$/,"")),e),ue=e=>(e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e),de=e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},he=(e,t)=>{const n=ne(e);l(n)?fetch(n).then((e=>{e.ok&&e.json().then(t)})):g(n)?n(t):t(n)},me=(e,t,n)=>{const o=()=>{n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=()=>{t.width||t.height||!G(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),o()},n.onerror=o},pe=e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)})),fe=e=>"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder")),ge=(e,t)=>{const n=e.options.get;return W.isDomSafe(t,"img",{allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")})},ve=j.DOM,ye=e=>e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ce(e.style.marginLeft):"",be=e=>e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ce(e.style.marginTop):"",we=e=>e.style.borderWidth?ce(e.style.borderWidth):"",_e=(e,t)=>{var n;return e.hasAttribute(t)&&null!==(n=e.getAttribute(t))&&void 0!==n?n:""},xe=e=>null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName,Ce=(e,t,n)=>{""===n||null===n?e.removeAttribute(t):e.setAttribute(t,n)},Se=e=>{const t=ve.create("figure",{class:"image"});ve.insertAfter(t,e),t.appendChild(e),t.appendChild(ve.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},ke=e=>{const t=e.parentNode;f(t)&&(ve.insertAfter(e,t),ve.remove(t))},Ee=e=>{xe(e)?ke(e):Se(e)},Te=(e,t)=>{const n=e.getAttribute("style"),o=t(null!==n?n:"");o.length>0?(e.setAttribute("style",o),e.setAttribute("data-mce-style",o)):e.removeAttribute("style")},Me=(e,t)=>(e,n,o)=>{const r=e.style;r[n]?(r[n]=ue(o),Te(e,t)):Ce(e,n,o)},Oe=(e,t)=>e.style[t]?ce(e.style[t]):_e(e,t),De=(e,t)=>{const n=ue(t);e.style.marginLeft=n,e.style.marginRight=n},Ae=(e,t)=>{const n=ue(t);e.style.marginTop=n,e.style.marginBottom=n},Re=(e,t)=>{const n=ue(t);e.style.borderWidth=n},Pe=(e,t)=>{e.style.borderStyle=t},Ie=e=>{var t;return null!==(t=e.style.borderStyle)&&void 0!==t?t:""},ze=e=>f(e)&&"FIGURE"===e.nodeName,Ne=e=>"IMG"===e.nodeName,Le=e=>0===ve.getAttrib(e,"alt").length&&"presentation"===ve.getAttrib(e,"role"),He=e=>Le(e)?"":_e(e,"alt"),Fe=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),Be=(e,t)=>{var n;const o=document.createElement("img");return Ce(o,"style",t.style),(ye(o)||""!==t.hspace)&&De(o,t.hspace),(be(o)||""!==t.vspace)&&Ae(o,t.vspace),(we(o)||""!==t.border)&&Re(o,t.border),(Ie(o)||""!==t.borderStyle)&&Pe(o,t.borderStyle),e(null!==(n=o.getAttribute("style"))&&void 0!==n?n:"")},Ue=(e,t)=>{const n=document.createElement("img");if(qe(e,{...t,caption:!1},n),We(n,t.alt,t.isDecorative),t.caption){const e=ve.create("figure",{class:"image"});return e.appendChild(n),e.appendChild(ve.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false",e}return n},Ve=(e,t)=>({src:_e(t,"src"),alt:He(t),title:_e(t,"title"),width:Oe(t,"width"),height:Oe(t,"height"),class:_e(t,"class"),style:e(_e(t,"style")),caption:xe(t),hspace:ye(t),vspace:be(t),border:we(t),borderStyle:Ie(t),isDecorative:Le(t)}),je=(e,t,n,o,r)=>{n[o]!==t[o]&&r(e,o,String(n[o]))},We=(e,t,n)=>{if(n){ve.setAttrib(e,"role","presentation");const t=V.fromDom(e);z(t,"alt","")}else{if(h(t)){const t=V.fromDom(e);N(t,"alt")}else{const n=V.fromDom(e);z(n,"alt",t)}"presentation"===ve.getAttrib(e,"role")&&ve.setAttrib(e,"role","")}},Ze=(e,t,n)=>{n.alt===t.alt&&n.isDecorative===t.isDecorative||We(e,n.alt,n.isDecorative)},$e=(e,t)=>(n,o,r)=>{e(n,r),Te(n,t)},qe=(e,t,n)=>{const o=Ve(e,n);je(n,o,t,"caption",((e,t,n)=>Ee(e))),je(n,o,t,"src",Ce),je(n,o,t,"title",Ce),je(n,o,t,"width",Me("width",e)),je(n,o,t,"height",Me("height",e)),je(n,o,t,"class",Ce),je(n,o,t,"style",$e(((e,t)=>Ce(e,"style",t)),e)),je(n,o,t,"hspace",$e(De,e)),je(n,o,t,"vspace",$e(Ae,e)),je(n,o,t,"border",$e(Re,e)),je(n,o,t,"borderStyle",$e(Pe,e)),Ze(n,o,t)},Ge=(e,t)=>{const n=e.dom.styles.parse(t),o=de(n),r=e.dom.styles.parse(e.dom.styles.serialize(o));return e.dom.styles.serialize(r)},Ke=e=>{const t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||fe(t))?null:t},Ye=(e,t)=>{var n;const o=e.dom,r=E(e.schema.getTextBlockElements(),((t,n)=>!e.schema.isValidChild(n,"figure"))),i=o.getParent(t.parentNode,(e=>M(r,e.nodeName)),e.getBody());return i&&null!==(n=o.split(i,t))&&void 0!==n?n:t},Je=e=>{const t=Ke(e);return t?Ve((t=>Ge(e,t)),t):Fe()},Xe=(e,t)=>{const n=Ue((t=>Ge(e,t)),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);const o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),ze(o)){const t=Ye(e,o);e.selection.select(t)}else e.selection.select(o)},Qe=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))},et=(e,t)=>{if(t){const n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},tt=(e,t)=>{const n=Ke(e);if(n)if(qe((t=>Ge(e,t)),t,n),Qe(e,n),ze(n.parentNode)){const t=n.parentNode;Ye(e,t),e.selection.select(n.parentNode)}else e.selection.select(n),me(e,t,n)},nt=(e,t)=>{const n=t.src;return{...t,src:ge(e,n)?n:""}},ot=(e,t)=>{const n=Ke(e);if(n){const o=Ve((t=>Ge(e,t)),n),r={...o,...t},i=nt(e,r);r.src?tt(e,i):et(e,n)}else t.src&&Xe(e,{...Fe(),...t})},rt=(e,t)=>{const n=u(e)&&u(t);return n?at(e,t):t},it=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)T(r,t)&&(n[t]=e(n[t],r[t]))}return n},at=it(rt);var st=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),lt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ct=e=>l(e.value)?e.value:"",ut=e=>l(e.text)?e.text:l(e.title)?e.title:"",dt=(e,t)=>{const n=[];return lt.each(e,(e=>{const o=ut(e);if(void 0!==e.menu){const r=dt(e.menu,t);n.push({text:o,items:r})}else{const r=t(e);n.push({text:o,value:r})}})),n},ht=(e=ct)=>t=>t?w.from(t).map((t=>dt(t,e))):w.none(),mt=e=>ht(ct)(e),pt=e=>T(e,"items"),ft=(e,t)=>P(e,(e=>pt(e)?ft(e.items,t):e.value===t?w.some(e):w.none())),gt=(e,t)=>e.bind((e=>ft(e,t))),vt={sanitizer:ht,sanitize:mt,findEntry:gt},yt=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}),bt={makeTab:yt},wt=e=>{const t=vt.sanitizer((t=>e.convertURL(t.value||t.url||"","src"))),n=new Promise((n=>{he(e,(e=>{n(t(e).map((e=>D([[{text:"None",value:""}],e]))))}))})),o=vt.sanitize(X(e)),r=K(e),i=Y(e),a=ie(e),s=ae(e),c=Je(e),u=Q(e),d=ee(e),h=G(e),m=te(e),p=oe(e),f=re(e),g=w.some(J(e)).filter((e=>l(e)&&e.length>0));return n.then((e=>({image:c,imageList:e,classList:o,hasAdvTab:r,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:s,hasDescription:u,hasImageTitle:d,hasDimensions:h,hasImageCaption:m,prependURL:g,hasAccessibilityOptions:p,automaticUploads:f})))},_t=e=>{const t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map((e=>({name:"images",type:"listbox",label:"Image list",items:e}))),o={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)},r={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},s=e.classList.map((e=>({name:"classes",type:"listbox",label:"Class",items:e}))),l={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},c=e=>e?{type:"grid",columns:2}:{type:"panel"};return D([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[o]:[],e.hasImageTitle?[r]:[],e.hasDimensions?[i]:[],[{...c(e.classList.isSome()&&e.hasImageCaption),items:D([s.toArray(),e.hasImageCaption?[l]:[]])}]])},xt=e=>({title:"General",name:"general",items:_t(e)}),Ct={makeTab:xt,makeItems:_t},St=e=>{const t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},kt={makeTab:St},Et=e=>({prevImage:vt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}),Tt=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}),Mt=(e,t)=>({src:e.src.value,alt:null!==e.alt&&0!==e.alt.length||!t?e.alt:null,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}),Ot=(e,t)=>/^(?:[a-zA-Z]+:)?\/\//.test(t)?w.none():e.prependURL.bind((e=>t.substring(0,e.length)!==e?w.some(e+t):w.none())),Dt=(e,t)=>{const n=t.getData();Ot(e,n.src.value).each((e=>{t.setData({src:{value:e,meta:n.src.meta}})}))},At=(e,t,n)=>{e.hasDescription&&l(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&l(n.title)&&(t.title=n.title),e.hasDimensions&&(l(n.width)&&(t.dimensions.width=n.width),l(n.height)&&(t.dimensions.height=n.height)),l(n.class)&&vt.findEntry(e.classList,n.class).each((e=>{t.classes=e.value})),e.hasImageCaption&&m(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(l(n.style)&&(t.style=n.style),l(n.vspace)&&(t.vspace=n.vspace),l(n.border)&&(t.border=n.border),l(n.hspace)&&(t.hspace=n.hspace),l(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Rt=(e,t)=>{const n=t.getData(),o=n.src.meta;if(void 0!==o){const r=at({},n);At(e,r,o),t.setData(r)}},Pt=(e,t,n,o)=>{const r=o.getData(),i=r.src.value,a=r.src.meta||{};a.width||a.height||!t.hasDimensions||(Z(i)?e.imageSize(i).then((e=>{n.open&&o.setData({dimensions:e})})).catch((e=>console.error(e))):o.setData({dimensions:{width:"",height:""}}))},It=(e,t,n)=>{const o=n.getData(),r=vt.findEntry(e.imageList,o.src.value);t.prevImage=r,n.setData({images:r.map((e=>e.value)).getOr("")})},zt=(e,t,n,o)=>{Dt(t,o),Rt(t,o),Pt(e,t,n,o),It(t,n,o)},Nt=(e,t,n,o)=>{const r=o.getData(),i=vt.findEntry(t.imageList,r.images);i.each((e=>{const t=""===r.alt||n.prevImage.map((e=>e.text===r.alt)).getOr(!1);t?""===e.value?o.setData({src:e,alt:n.prevAlt}):o.setData({src:e,alt:e.text}):o.setData({src:e})})),n.prevImage=i,zt(e,t,n,o)},Lt=(e,t,n,o)=>{const r=o.getData();o.block("Uploading image"),R(r.fileinput).fold((()=>{o.unblock()}),(r=>{const i=URL.createObjectURL(r),a=()=>{o.unblock(),URL.revokeObjectURL(i)},s=r=>{o.setData({src:{value:r,meta:{}}}),o.showTab("general"),zt(e,t,n,o)};pe(r).then((n=>{const l=e.createBlobCache(r,i,n);t.automaticUploads?e.uploadImage(l).then((e=>{s(e.url),a()})).catch((t=>{a(),e.alertErr(t)})):(e.addToBlobCache(l),s(l.blobUri()),o.unblock())}))}))},Ht=(e,t,n)=>(o,r)=>{"src"===r.name?zt(e,t,n,o):"images"===r.name?Nt(e,t,n,o):"alt"===r.name?n.prevAlt=o.getData().alt:"fileinput"===r.name?Lt(e,t,n,o):"isDecorative"===r.name&&o.setEnabled("alt",!o.getData().isDecorative)},Ft=e=>()=>{e.open=!1},Bt=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){const t={type:"tabpanel",tabs:D([[Ct.makeTab(e)],e.hasAdvTab?[bt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[kt.makeTab(e)]:[]])};return t}{const t={type:"panel",items:Ct.makeItems(e)};return t}},Ut=(e,t,n)=>o=>{const r=at(Tt(t.image),o.getData()),i={...r,style:Be(n.normalizeCss,Mt(r,!1))};e.execCommand("mceUpdateImage",!1,Mt(i,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),o.close()},Vt=e=>t=>ge(e,t)?le(e.documentBaseURI.toAbsolute(t)).then((e=>({width:String(e.width),height:String(e.height)}))):Promise.resolve({width:"",height:""}),jt=e=>(t,n,o)=>{var r;return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:null===(r=t.name)||void 0===r?void 0:r.replace(/\.[^\.]+$/,""),filename:t.name,base64:o.split(",")[1]})},Wt=e=>t=>{e.editorUpload.blobCache.add(t)},Zt=e=>t=>{e.windowManager.alert(t)},$t=e=>t=>Ge(e,t),qt=e=>t=>e.dom.parseStyle(t),Gt=e=>(t,n)=>e.dom.serializeStyle(t,n),Kt=e=>t=>st(e).upload([t],!1).then((e=>{var t;return 0===e.length?Promise.reject("Failed to upload image"):!1===e[0].status?Promise.reject(null===(t=e[0].error)||void 0===t?void 0:t.message):e[0]})),Yt=e=>{const t={imageSize:Vt(e),addToBlobCache:Wt(e),createBlobCache:jt(e),alertErr:Zt(e),normalizeCss:$t(e),parseStyle:qt(e),serializeStyle:Gt(e),uploadImage:Kt(e)},n=()=>{wt(e).then((n=>{const o=Et(n);return{title:"Insert/Edit Image",size:"normal",body:Bt(n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Tt(n.image),onSubmit:Ut(e,n,t),onChange:Ht(t,n,o),onClose:Ft(o)}})).then(e.windowManager.open)};return{open:n}},Jt=e=>{e.addCommand("mceImage",Yt(e).open),e.addCommand("mceUpdateImage",((t,n)=>{e.undoManager.transact((()=>ot(e,n)))}))},Xt=e=>{const t=e.attr("class");return f(t)&&/\bimage\b/.test(t)},Qt=e=>t=>{let n=t.length;const o=t=>{t.attr("contenteditable",e?"true":null)};while(n--){const r=t[n];Xt(r)&&(r.attr("contenteditable",e?"false":null),lt.each(r.getAll("figcaption"),o))}},en=e=>{e.on("PreInit",(()=>{e.parser.addNodeFilter("figure",Qt(!0)),e.serializer.addNodeFilter("figure",Qt(!1))}))},tn=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},nn=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Yt(e).open,onSetup:t=>{t.setActive(f(Ke(e)));const n=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind,o=tn(e)(t);return()=>{n(),o()}}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Yt(e).open,onSetup:tn(e)}),e.ui.registry.addContextMenu("image",{update:e=>ze(e)||Ne(e)&&!fe(e)?["image"]:[]})};var on=()=>{e.add("image",(e=>{q(e),en(e),nn(e),Jt(e)}))};on()}()},9995:function(e,t,n){n(6442)},6442:function(e,t,n){n(7658),n(2087),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,i=e=>t=>e===t,a=o("string"),s=o("object"),l=o("array"),c=i(null),u=r("boolean"),d=e=>null===e||void 0===e,h=e=>!d(e),m=r("function"),p=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},f=()=>{},g=e=>()=>e,v=(e,t)=>e===t;class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return h(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const b=Array.prototype.indexOf,w=Array.prototype.push,_=(e,t)=>b.call(e,t),x=(e,t)=>_(e,t)>-1,C=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},k=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),E=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t},T=(e,t)=>E(C(e,t)),M=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},O=(e,t,n=v)=>e.exists((e=>n(e,t))),D=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},A=(e,t)=>e?y.some(t):y.none(),R=e=>t=>t.options.get(e),P=e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=a(e)||u(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>a(e)||m(e)||p(e,s)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>u(e)||p(e,s),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1})},I=R("link_assume_external_targets"),z=R("link_context_toolbar"),N=R("link_list"),L=R("link_default_target"),H=R("link_default_protocol"),F=R("link_target_list"),B=R("link_rel_list"),U=R("link_class_list"),V=R("link_title"),j=R("allow_unsafe_link_target"),W=R("link_quicklink");var Z=tinymce.util.Tools.resolve("tinymce.util.Tools");const $=e=>a(e.value)?e.value:"",q=e=>a(e.text)?e.text:a(e.title)?e.title:"",G=(e,t)=>{const n=[];return Z.each(e,(e=>{const o=q(e);if(void 0!==e.menu){const r=G(e.menu,t);n.push({text:o,items:r})}else{const r=t(e);n.push({text:o,value:r})}})),n},K=(e=$)=>t=>y.from(t).map((t=>G(t,e))),Y=e=>K($)(e),J=(e,t)=>n=>({name:e,type:"listbox",label:t,items:n}),X={sanitize:Y,sanitizeWith:K,createUi:J,getValue:$},Q=Object.keys,ee=Object.hasOwnProperty,te=(e,t)=>{const n=Q(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},ne=e=>(t,n)=>{e[n]=t},oe=(e,t,n,o)=>{te(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},re=(e,t)=>{const n={};return oe(e,t,ne(n),f),n},ie=(e,t)=>ee.call(e,t),ae=(e,t)=>ie(e,t)&&void 0!==e[t]&&null!==e[t];var se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),le=tinymce.util.Tools.resolve("tinymce.util.URI");const ce=e=>h(e)&&"a"===e.nodeName.toLowerCase(),ue=e=>ce(e)&&!!me(e),de=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=n.firstChild,r=new se(o,n),i=[];let a=o;do{t(a)&&i.push(a)}while(a=r.next());return i}},he=e=>/^\w+:/i.test(e),me=e=>{var t,n;return null!==(n=null!==(t=e.getAttribute("data-mce-href"))&&void 0!==t?t:e.getAttribute("href"))&&void 0!==n?n:""},pe=(e,t)=>{const n=["noopener"],o=e?e.split(/\s+/):[],r=e=>Z.trim(e.sort().join(" ")),i=e=>(e=a(e),e.length>0?e.concat(n):n),a=e=>e.filter((e=>-1===Z.inArray(n,e))),s=t?i(o):a(o);return s.length>0?r(s):""},fe=e=>e.replace(/\uFEFF/g,""),ge=(e,t)=>(t=t||be(e.selection.getRng())[0]||e.selection.getNode(),Se(t)?y.from(e.dom.select("a[href]",t)[0]):y.from(e.dom.getParent(t,"a[href]"))),ve=(e,t)=>ge(e,t).isSome(),ye=(e,t)=>{const n=t.fold((()=>e.getContent({format:"text"})),(e=>e.innerText||e.textContent||""));return fe(n)},be=e=>de(e,ue),we=e=>Z.grep(e,ue),_e=e=>we(e).length>0,xe=e=>be(e).length>0,Ce=e=>{const t=e.schema.getTextInlineElements(),n=e=>1===e.nodeType&&!ce(e)&&!ie(t,e.nodeName.toLowerCase()),o=ge(e).exists((e=>e.hasAttribute("data-mce-block")));if(o)return!1;const r=e.selection.getRng();if(r.collapsed)return!0;{const e=de(r,n);return 0===e.length}},Se=e=>h(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ke=e=>{const t=["title","rel","class","target"];return k(t,((t,n)=>(e[n].each((e=>{t[n]=e.length>0?e:null})),t)),{href:e.href})},Ee=(e,t)=>"http"!==t&&"https"!==t||he(e)?e:t+"://"+e,Te=(e,t)=>{const n={...t};if(0===B(e).length&&!j(e)){const e=pe(n.rel,"_blank"===n.target);n.rel=e||null}return y.from(n.target).isNone()&&!1===F(e)&&(n.target=L(e)),n.href=Ee(n.href,I(e)),n},Me=(e,t,n,o)=>{n.each((e=>{ie(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,o),e.selection.select(t)},Oe=(e,t,n,o)=>{const r=e.dom;Se(t)?He(r,t,o):n.fold((()=>{e.execCommand("mceInsertLink",!1,o)}),(t=>{e.insertContent(r.createHTML("a",o,r.encode(t)))}))},De=(e,t,n)=>{const o=e.selection.getNode(),r=ge(e,o),i=Te(e,ke(n));e.undoManager.transact((()=>{n.href===t.href&&t.attach(),r.fold((()=>{Oe(e,o,n.text,i)}),(t=>{e.focus(),Me(e,t,n.text,i)}))}))},Ae=e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),i=t.getParent(r.startContainer,"a[href]",e.getBody()),a=t.getParent(r.endContainer,"a[href]",e.getBody());i&&r.setStartBefore(i),a&&r.setEndAfter(a),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(o)},Re=e=>{e.undoManager.transact((()=>{const t=e.selection.getNode();Se(t)?Le(e,t):Ae(e),e.focus()}))},Pe=e=>{const{class:t,href:n,rel:o,target:r,text:i,title:a}=e;return re({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:r.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},((e,t)=>!1===c(e)))},Ie=(e,t)=>{const n=e.options.get,o={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},r=t.href;return{...t,href:le.isDomSafe(r,"a",o)?r:""}},ze=(e,t,n)=>{const o=Ie(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,Pe(o)):De(e,t,o)},Ne=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):Re(e)},Le=(e,t)=>{var n;const o=e.dom.select("img",t)[0];if(o){const r=e.dom.getParents(o,"a[href]",t)[0];r&&(null===(n=r.parentNode)||void 0===n||n.insertBefore(o,r),e.dom.remove(r))}},He=(e,t,n)=>{var o;const r=e.select("img",t)[0];if(r){const t=e.create("a",n);null===(o=r.parentNode)||void 0===o||o.insertBefore(t,r),t.appendChild(r)}},Fe=e=>ae(e,"items"),Be=(e,t)=>M(t,(t=>Fe(t)?Be(e,t.items):A(t.value===e,t))),Ue=(e,t,n,o)=>{const r=o[t],i=e.length>0;return void 0!==r?Be(r,n).map((t=>({url:{value:t.value,meta:{text:i?e:t.text,attach:f}},text:i?e:t.text}))):y.none()},Ve=(e,t)=>"link"===t?e.link:"anchor"===t?e.anchor:y.none(),je=(e,t)=>{const n={text:e.text,title:e.title},o=e=>{var t;return A(n.title.length<=0,y.from(null===(t=e.meta)||void 0===t?void 0:t.title).getOr(""))},r=e=>{var t;return A(n.text.length<=0,y.from(null===(t=e.meta)||void 0===t?void 0:t.text).getOr(e.value))},i=e=>{const t=r(e.url),n=o(e.url);return t.isSome()||n.isSome()?y.some({...t.map((e=>({text:e}))).getOr({}),...n.map((e=>({title:e}))).getOr({})}):y.none()},a=(e,o)=>{const r=Ve(t,o).getOr([]);return Ue(n.text,o,r,e)},s=(e,t)=>{const o=t.name;return"url"===o?i(e()):x(["anchor","link"],o)?a(e(),o):"text"===o||"title"===o?(n[o]=e()[o],y.none()):y.none()};return{onChange:s}},We={init:je,getDelta:Ue};var Ze=tinymce.util.Tools.resolve("tinymce.util.Delay");const $e=(e,t,n)=>{const o=e.selection.getRng();Ze.setEditorTimeout(e,(()=>{e.windowManager.confirm(t,(t=>{e.selection.setRng(o),n(t)}))}))},qe=e=>{const t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?y.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):y.none()},Ge=(e,t)=>n=>{const o=n.href,r=1===e&&!he(o)||0===e&&/^\s*www(\.|\d\.)/i.test(o);return r?y.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+o})}):y.none()},Ke=(e,t)=>M([qe,Ge(I(e),H(e))],(e=>e(t))).fold((()=>Promise.resolve(t)),(n=>new Promise((o=>{$e(e,n.message,(e=>{o(e?n.preprocess(t):t)}))})))),Ye={preprocess:Ke},Je=e=>{const t=e.dom.select("a:not([href])"),n=T(t,(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?y.some([{text:"None",value:""}].concat(n)):y.none()},Xe={getAnchors:Je},Qe=e=>{const t=U(e);return t.length>0?X.sanitize(t):y.none()},et={getClasses:Qe},tt=e=>{try{return y.some(JSON.parse(e))}catch(t){return y.none()}},nt=e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),n=N(e);return new Promise((e=>{a(n)?fetch(n).then((e=>e.ok?e.text().then(tt):Promise.reject())).then(e,(()=>e(y.none()))):m(n)?n((t=>e(y.some(t)))):e(y.from(n))})).then((e=>e.bind(X.sanitizeWith(t)).map((e=>{if(e.length>0){const t=[{text:"None",value:""}];return t.concat(e)}return e}))))},ot={getLinks:nt},rt=(e,t)=>{const n=B(e);if(n.length>0){const o=O(t,"_blank"),r=!1===j(e),i=e=>pe(X.getValue(e),o),a=r?X.sanitizeWith(i):X.sanitize;return a(n)}return y.none()},it={getRels:rt},at=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],st=e=>{const t=F(e);return l(t)?X.sanitize(t).orThunk((()=>y.some(at))):!1===t?y.none():y.some(at)},lt={getTargets:st},ct=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?y.some(o):y.none()},ut=(e,t)=>{const n=e.dom,o=Ce(e),r=o?y.some(ye(e.selection,t)):y.none(),i=t.bind((e=>y.from(n.getAttrib(e,"href")))),a=t.bind((e=>y.from(n.getAttrib(e,"target")))),s=t.bind((e=>ct(n,e,"rel"))),l=t.bind((e=>ct(n,e,"class"))),c=t.bind((e=>ct(n,e,"title")));return{url:i,text:r,title:c,target:a,rel:s,linkClass:l}},dt=(e,t)=>ot.getLinks(e).then((n=>{const o=ut(e,t);return{anchor:o,catalogs:{targets:lt.getTargets(e),rels:it.getRels(e,o.target),classes:et.getClasses(e),anchor:Xe.getAnchors(e),link:n},optNode:t,flags:{titleEnabled:V(e)}}})),ht={collect:dt},mt=(e,t)=>n=>{const o=n.getData();if(!o.url.value)return Ne(e),void n.close();const r=e=>y.from(o[e]).filter((n=>!O(t.anchor[e],n))),i={href:o.url.value,text:r("text"),target:r("target"),rel:r("rel"),class:r("linkClass"),title:r("title")},a={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:f};Ye.preprocess(e,i).then((t=>{ze(e,a,t)})),n.close()},pt=e=>{const t=ge(e);return ht.collect(e,t)},ft=(e,t)=>{const n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},gt=(e,t,n)=>{const o=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r=e.anchor.text.map((()=>({name:"text",type:"input",label:"Text to display"}))).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=y.from(L(n)),s=ft(e,a),l=e.catalogs,c=We.init(s,l),u={type:"panel",items:E([o,r,i,D([l.anchor.map(X.createUi("anchor","Anchors")),l.rels.map(X.createUi("rel","Rel")),l.targets.map(X.createUi("target","Open link in...")),l.link.map(X.createUi("link","Link list")),l.classes.map(X.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onChange:(e,{name:t})=>{c.onChange(e.getData,{name:t}).each((t=>{e.setData(t)}))},onSubmit:t}},vt=e=>{const t=pt(e);t.then((t=>{const n=mt(e,t);return gt(t,n,e)})).then((t=>{e.windowManager.open(t)}))},yt=e=>{e.addCommand("mceLink",((t,n)=>{!0!==(null===n||void 0===n?void 0:n.dialog)&&W(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):vt(e)}))};var bt=tinymce.util.Tools.resolve("tinymce.util.VK");const wt=(e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},_t=e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),wt(t,n)},xt=(e,t)=>e.dom.getParent(t,"a[href]"),Ct=e=>xt(e,e.selection.getStart()),St=e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey,kt=(e,t)=>{if(t){const n=me(t);if(/^#/.test(n)){const t=e.dom.select(n);t.length&&e.selection.scrollIntoView(t[0],!0)}else _t(t.href)}},Et=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},Tt=e=>()=>{kt(e,Ct(e))},Mt=e=>{e.on("click",(t=>{const n=xt(e,t.target);n&&bt.metaKeyPressed(t)&&(t.preventDefault(),kt(e,n))})),e.on("keydown",(t=>{if(!t.isDefaultPrevented()&&13===t.keyCode&&St(t)){const n=Ct(e);n&&(t.preventDefault(),kt(e,n))}}))},Ot=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),Dt=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&ve(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),Ot(e,n)},At=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),Ot(e,n)},Rt=e=>{const t=e.selection.isCollapsed()?we(e.dom.getParents(e.selection.getStart())):be(e.selection.getRng());return 1===t.length},Pt=e=>t=>{const n=()=>t.setEnabled(Rt(e));return n(),Ot(e,n)},It=e=>t=>{const n=t=>_e(t)||xe(e.selection.getRng()),o=e.dom.getParents(e.selection.getStart()),r=o=>{t.setEnabled(n(o)&&e.selection.isEditable())};return r(o),Ot(e,(e=>r(e.parents)))},zt=e=>{e.addShortcut("Meta+K","",(()=>{e.execCommand("mceLink")}))},Nt=e=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Et(e),onSetup:Dt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Tt(e),onSetup:Pt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ne(e),onSetup:It(e)})},Lt=e=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Tt(e),onSetup:Pt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:At(e),onAction:Et(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ne(e),onSetup:It(e)})},Ht=e=>{const t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:o=>{const r=e.dom.isEditable(o);return r?_e(e.dom.getParents(o,"a"))?t:n:""}})},Ft=e=>{const t=e=>{e.selection.collapse(!1)},n=t=>{const n=e.selection.getNode();return t.setEnabled(ve(e,n)),f},o=t=>{const n=ge(e),o=Ce(e);if(n.isNone()&&o){const o=ye(e.selection,n);return A(0===o.length,t)}return y.none()};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Dt(e)},label:"Link",predicate:t=>z(e)&&ve(e,t),initValue:()=>{const t=ge(e);return t.fold(g(""),me)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(ve(e,n)),Dt(e)(t)},onAction:n=>{const r=n.getValue(),i=o(r),a={href:r,attach:f};ze(e,a,{href:r,text:i,title:y.none(),rel:y.none(),target:y.none(),class:y.none()}),t(e),n.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{Ne(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:t=>{Tt(e)(),t.hide()}}]})};var Bt=()=>{e.add("link",(e=>{P(e),Nt(e),Lt(e),Ht(e),Ft(e),Mt(e),yt(e),zt(e)}))};Bt()}()},5554:function(e,t,n){n(9754)},9754:function(e,t,n){n(7658),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,i=o("string"),a=o("object"),s=o("array"),l=r("boolean"),c=e=>null===e||void 0===e,u=e=>!c(e),d=r("function"),h=r("number"),m=()=>{},p=e=>()=>e,f=(e,t)=>e===t,g=e=>t=>!e(t),v=p(!1);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return u(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const b=Array.prototype.slice,w=Array.prototype.indexOf,_=Array.prototype.push,x=(e,t)=>w.call(e,t),C=(e,t)=>x(e,t)>-1,S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},k=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},E=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},T=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},M=(e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let i=0,a=e.length;i<a;i++){const a=e[i],s=t(a);s!==n&&(o.push(r),r=[]),n=s,r.push(a)}return 0!==r.length&&o.push(r),o}},O=(e,t,n)=>(E(e,((e,o)=>{n=t(n,e,o)})),n),D=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()},A=(e,t)=>D(e,t,v),R=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);_.apply(t,e[n])}return t},P=(e,t)=>R(k(e,t)),I=e=>{const t=b.call(e,0);return t.reverse(),t},z=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),N=e=>z(e,0),L=e=>z(e,e.length-1),H=(e,t)=>{const n=[],o=d(t)?e=>S(n,(n=>t(n,e))):e=>C(n,e);for(let r=0,i=e.length;r<i;r++){const t=e[r];o(t)||n.push(t)}return n},F=(e,t,n=f)=>e.exists((e=>n(e,t))),B=(e,t,n=f)=>U(e,t,n).getOr(e.isNone()&&t.isNone()),U=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),V=1,j=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return $(o.childNodes[0])},W=(e,t)=>{const n=t||document,o=n.createElement(e);return $(o)},Z=(e,t)=>{const n=t||document,o=n.createTextNode(e);return $(o)},$=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},q=(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map($),G={fromHtml:j,fromTag:W,fromText:Z,fromDom:$,fromPoint:q},K=(e,t)=>{const n=e.dom;if(n.nodeType!==V)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Y=(e,t)=>e.dom===t.dom,J=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},X=K;var Q=(e,t,n,o,r)=>e(n,o)?y.some(n):d(r)&&r(n)?y.none():t(n,o,r);"undefined"!==typeof window?window:Function("return this;")();const ee=e=>{const t=e.dom.nodeName;return t.toLowerCase()},te=e=>e.dom.nodeType,ne=e=>t=>te(t)===e,oe=ne(V),re=e=>t=>oe(t)&&ee(t)===e,ie=e=>y.from(e.dom.parentNode).map(G.fromDom),ae=e=>y.from(e.dom.parentElement).map(G.fromDom),se=e=>y.from(e.dom.nextSibling).map(G.fromDom),le=e=>k(e.dom.childNodes,G.fromDom),ce=(e,t)=>{const n=e.dom.childNodes;return y.from(n[t]).map(G.fromDom)},ue=e=>ce(e,0),de=e=>ce(e,e.dom.childNodes.length-1),he=(e,t,n)=>{let o=e.dom;const r=d(n)?n:v;while(o.parentNode){o=o.parentNode;const e=G.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},me=(e,t,n)=>{const o=(e,t)=>t(e);return Q(o,he,e,t,n)},pe=(e,t)=>{const n=ie(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},fe=(e,t)=>{const n=se(e);n.fold((()=>{const n=ie(e);n.each((e=>{ge(e,t)}))}),(e=>{pe(e,t)}))},ge=(e,t)=>{e.dom.appendChild(t.dom)},ve=(e,t)=>{E(t,(t=>{pe(e,t)}))},ye=(e,t)=>{E(t,(t=>{ge(e,t)}))},be=e=>{e.dom.textContent="",E(le(e),(e=>{we(e)}))},we=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var _e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),xe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ce=tinymce.util.Tools.resolve("tinymce.util.VK");const Se=e=>k(e,G.fromDom),ke=Object.keys,Ee=(e,t)=>{const n=ke(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},Te=e=>(t,n)=>{e[n]=t},Me=(e,t,n,o)=>{Ee(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},Oe=(e,t)=>{const n={};return Me(e,t,Te(n),m),n},De=(e,t,n)=>{if(!(i(n)||l(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ae=(e,t)=>{const n=e.dom;Ee(t,((e,t)=>{De(n,t,e)}))},Re=e=>O(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Pe=(e,t)=>G.fromDom(e.dom.cloneNode(t)),Ie=e=>Pe(e,!0),ze=(e,t)=>{const n=G.fromTag(t),o=Re(e);return Ae(n,o),n},Ne=(e,t)=>{const n=ze(e,t);fe(e,n);const o=le(e);return ye(n,o),we(e),n};var Le=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),He=tinymce.util.Tools.resolve("tinymce.util.Tools");const Fe=e=>t=>u(t)&&t.nodeName.toLowerCase()===e,Be=e=>t=>u(t)&&e.test(t.nodeName),Ue=e=>u(e)&&3===e.nodeType,Ve=e=>u(e)&&1===e.nodeType,je=Be(/^(OL|UL|DL)$/),We=Be(/^(OL|UL)$/),Ze=Fe("ol"),$e=Be(/^(LI|DT|DD)$/),qe=Be(/^(DT|DD)$/),Ge=Be(/^(TH|TD)$/),Ke=Fe("br"),Ye=e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},Je=(e,t)=>u(t)&&t.nodeName in e.schema.getTextBlockElements(),Xe=(e,t)=>u(e)&&e.nodeName in t,Qe=(e,t)=>u(t)&&t.nodeName in e.schema.getVoidElements(),et=(e,t)=>!!Ke(t)&&(e.isBlock(t.nextSibling)&&!Ke(t.previousSibling)),tt=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},nt=(e,t)=>e.isChildOf(t,e.getRoot()),ot=e=>t=>t.options.get(e),rt=e=>{const t=e.options.register;t("lists_indent_on_tab",{processor:"boolean",default:!0})},it=ot("lists_indent_on_tab"),at=ot("forced_root_block"),st=ot("forced_root_block_attrs"),lt=(e,t)=>{const n=e.dom,o=e.schema.getBlockElements(),r=n.createFragment(),i=at(e),a=st(e);let s,l,c=!1;l=n.create(i,a),Xe(t.firstChild,o)||r.appendChild(l);while(s=t.firstChild){const e=s.nodeName;c||"SPAN"===e&&"bookmark"===s.getAttribute("data-mce-type")||(c=!0),Xe(s,o)?(r.appendChild(s),l=null):(l||(l=n.create(i,a),r.appendChild(l)),l.appendChild(s))}return!c&&l&&l.appendChild(n.create("br",{"data-mce-bogus":"1"})),r},ct=Le.DOM,ut=(e,t,n)=>{const o=e=>{const t=e.parentNode;t&&He.each(r,(e=>{t.insertBefore(e,n.parentNode)})),ct.remove(e)},r=ct.select('span[data-mce-type="bookmark"]',t),i=lt(e,n),a=ct.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let c=s.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){ct.remove(c);break}e.dom.isEmpty(s)||ct.insertAfter(s,t),ct.insertAfter(i,t);const l=n.parentElement;l&&tt(e.dom,l)&&o(l),ct.remove(n),tt(e.dom,t)&&ct.remove(t)},dt=re("dd"),ht=re("dt"),mt=(e,t)=>{dt(t)?Ne(t,"dt"):ht(t)&&ae(t).each((n=>ut(e,n.dom,t.dom)))},pt=e=>{ht(e)&&Ne(e,"dd")},ft=(e,t,n)=>{E(n,"Indent"===t?pt:t=>mt(e,t))},gt=(e,t)=>{if(Ue(e))return{container:e,offset:t};const n=_e.getNode(e,t);return Ue(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ue(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ue(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},vt=e=>{const t=e.cloneRange(),n=gt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=gt(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},yt=["OL","UL","DL"],bt=yt.join(","),wt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,bt,Ot(e,n))},_t=(e,t)=>u(e)&&1===t.length&&t[0]===e,xt=e=>T(e.querySelectorAll(bt),je),Ct=e=>{const t=wt(e),n=e.selection.getSelectedBlocks();return _t(t,n)?xt(t):T(n,(e=>je(e)&&t!==e))},St=(e,t)=>{const n=He.map(t,(t=>{const n=e.dom.getParent(t,"li,dd,dt",Ot(e,t));return n||t}));return H(n)},kt=e=>{const t=e.selection.getSelectedBlocks();return T(St(e,t),$e)},Et=e=>T(kt(e),qe),Tt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},Mt=(e,t)=>!je(t)&&!$e(t)&&S(yt,(n=>e.isValidChild(t.nodeName,n))),Ot=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=A(n,(t=>Mt(e.schema,t)));return o.getOr(e.getBody())},Dt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",Ot(e,t));return L(n)},At=e=>{const t=Dt(e,e.selection.getStart()),n=T(e.selection.getSelectedBlocks(),We);return t.toArray().concat(n)},Rt=e=>{const t=At(e);return Pt(e,t)},Pt=(e,t)=>{const n=k(t,(t=>Dt(e,t).getOr(t)));return H(n)},It=e=>/\btox\-/.test(e.className),zt=(e,t)=>D(e,je,Ge).exists((e=>e.nodeName===t&&!It(e))),Nt=(e,t)=>null!==t&&!e.dom.isEditable(t),Lt=e=>{const t=wt(e);return Nt(e,t)},Ht=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return Nt(e,n)},Ft=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},Bt=(e,t)=>{const n=t||document,o=n.createDocumentFragment();return E(e,(e=>{o.appendChild(e.dom)})),G.fromDom(o)},Ut=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),Vt=e=>t=>t.replace(e,""),jt=Vt(/^\s+|\s+$/g),Wt=e=>e.length>0,Zt=e=>!Wt(e),$t=e=>void 0!==e.style&&d(e.style.getPropertyValue),qt=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);$t(e)&&e.style.setProperty(t,n)},Gt=(e,t,n)=>{const o=e.dom;qt(o,t,n)},Kt=(e,t)=>{ge(e.item,t.list)},Yt=e=>{for(let t=1;t<e.length;t++)Kt(e[t-1],e[t])},Jt=(e,t)=>{U(L(e),N(t),Kt)},Xt=(e,t)=>{const n={list:G.fromTag(t,e),item:G.fromTag("li",e)};return ge(n.list,n.item),n},Qt=(e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Xt(e,t.listType));return o},en=(e,t)=>{for(let n=0;n<e.length-1;n++)Gt(e[n].item,"list-style-type","none");L(e).each((e=>{Ae(e.list,t.listAttributes),Ae(e.item,t.itemAttributes),ye(e.item,t.content)}))},tn=(e,t)=>{ee(e.list)!==t.listType&&(e.list=Ne(e.list,t.listType)),Ae(e.list,t.listAttributes)},nn=(e,t,n)=>{const o=G.fromTag("li",e);return Ae(o,t),ye(o,n),o},on=(e,t)=>{ge(e.list,t),e.item=t},rn=(e,t,n)=>{const o=t.slice(0,n.depth);return L(o).each((t=>{const o=nn(e,n.itemAttributes,n.content);on(t,o),tn(t,n)})),o},an=(e,t,n)=>{const o=Qt(e,n,n.depth-t.length);return Yt(o),en(o,n),Jt(t,o),t.concat(o)},sn=(e,t)=>{const n=O(t,((t,n)=>n.depth>t.length?an(e,t,n):rn(e,t,n)),[]);return N(n).map((e=>e.list))},ln=e=>X(e,"OL,UL"),cn=e=>ue(e).exists(ln),un=e=>de(e).exists(ln),dn=e=>e.depth>0,hn=e=>e.isSelected,mn=e=>{const t=le(e),n=un(e)?t.slice(0,-1):t;return k(n,Ie)},pn=(e,t,n)=>ie(e).filter(oe).map((o=>({depth:t,dirty:!1,isSelected:n,content:mn(e),itemAttributes:Re(e),listAttributes:Re(o),listType:ee(o)}))),fn=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},gn=(e,t)=>{e.listType=t.listType,e.listAttributes={...t.listAttributes}},vn=e=>{e.listAttributes=Oe(e.listAttributes,((e,t)=>"start"!==t))},yn=(e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return D(I(e.slice(0,t)),o,r).orThunk((()=>D(e.slice(t+1),o,r)))},bn=e=>(E(e,((t,n)=>{yn(e,n).fold((()=>{t.dirty&&vn(t)}),(e=>gn(t,e)))})),e),wn=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},_n=(e,t,n,o)=>ue(o).filter(ln).fold((()=>{t.each((e=>{Y(e.start,o)&&n.set(!0)}));const r=pn(o,e,n.get());t.each((e=>{Y(e.end,o)&&n.set(!1)}));const i=de(o).filter(ln).map((o=>xn(e,t,n,o))).getOr([]);return r.toArray().concat(i)}),(o=>xn(e,t,n,o))),xn=(e,t,n,o)=>P(le(o),(o=>{const r=ln(o)?xn:_n,i=e+1;return r(i,t,n,o)})),Cn=(e,t)=>{const n=wn(!1),o=0;return k(e,(e=>({sourceList:e,entries:xn(o,t,n,e)})))},Sn=(e,t)=>{const n=bn(t);return k(n,(t=>{const n=Bt(t.content);return G.fromDom(lt(e,n.dom))}))},kn=(e,t)=>{const n=bn(t);return sn(e.contentDocument,n).toArray()},En=(e,t)=>P(M(t,dn),(t=>{const n=N(t).exists(dn);return n?kn(e,t):Sn(e,t)})),Tn=(e,t)=>{E(T(e,hn),(e=>fn(t,e)))},Mn=e=>{const t=k(kt(e),G.fromDom);return U(A(t,g(cn)),A(I(t),g(cn)),((e,t)=>({start:e,end:t})))},On=(e,t,n)=>{const o=Cn(t,Mn(e));E(o,(t=>{Tn(t.entries,n);const o=En(e,t.entries);E(o,(t=>{Ut(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),ve(t.sourceList,o),we(t.sourceList)}))},Dn=(e,t)=>{const n=Se(Rt(e)),o=Se(Et(e));let r=!1;if(n.length||o.length){const i=e.selection.getBookmark();On(e,n,t),ft(e,t,o),e.selection.moveToBookmark(i),e.selection.setRng(vt(e.selection.getRng())),e.nodeChanged(),r=!0}return r},An=(e,t)=>!Lt(e)&&Dn(e,t),Rn=e=>An(e,"Indent"),Pn=e=>An(e,"Outdent"),In=e=>An(e,"Flatten"),zn="\ufeff",Nn=e=>e===zn;var Ln=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Hn=Le.DOM,Fn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Ve(o)){const e=Hn.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):Hn.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},Bn=e=>{const t=t=>{const n=e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;while(n){if(n===e)return o;Ve(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1};let o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"];if(o){if(Ve(o)&&o.parentNode){const e=o;r=n(o),o=o.parentNode,Hn.remove(e),!o.hasChildNodes()&&Hn.isBlock(o)&&o.appendChild(Hn.create("br"))}e[t?"startContainer":"endContainer"]=o,e[t?"startOffset":"endOffset"]=r}};t(!0),t();const n=Hn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),vt(n)},Un=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Vn=(e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)},jn=(e,t)=>{He.each(t,((t,n)=>{e.setAttribute(n,t)}))},Wn=(e,t,n)=>{jn(t,n["list-attributes"]),He.each(e.select("li",t),(e=>{jn(e,n["list-item-attributes"])}))},Zn=(e,t,n)=>{Vn(e,t,n),Wn(e,t,n)},$n=(e,t,n)=>{He.each(n,(n=>e.setStyle(t,n,"")))},qn=(e,t)=>u(t)&&!Xe(t,e.schema.getBlockElements()),Gn=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const i=t[n?"startOffset":"endOffset"];Ve(r)&&(r=r.childNodes[Math.min(i,r.childNodes.length-1)]||r),!n&&Ke(r.nextSibling)&&(r=r.nextSibling);const a=(t,n)=>{var r;const i=new xe(t,o),a=n?"next":"prev";let s;while(s=i[a]())if(!Qe(e,s)&&!Nn(s.textContent)&&0!==(null===(r=s.textContent)||void 0===r?void 0:r.length))return y.some(s);return y.none()};if(n&&Ue(r))if(Nn(r.textContent))r=a(r,!1).getOr(r);else{null!==r.parentNode&&qn(e,r.parentNode)&&(r=r.parentNode);while(null!==r.previousSibling&&(qn(e,r.previousSibling)||Ue(r.previousSibling)))r=r.previousSibling}if(!n&&Ue(r))if(Nn(r.textContent))r=a(r,!0).getOr(r);else{null!==r.parentNode&&qn(e,r.parentNode)&&(r=r.parentNode);while(null!==r.nextSibling&&(qn(e,r.nextSibling)||Ue(r.nextSibling)))r=r.nextSibling}while(r.parentNode!==o){const t=r.parentNode;if(Je(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Kn=(e,t,n)=>{const o=[],r=e.dom,i=Gn(e,t,!0,n),a=Gn(e,t,!1,n);let s;const l=[];for(let c=i;c;c=c.nextSibling)if(l.push(c),c===a)break;return He.each(l,(t=>{var i;if(Je(e,t))return o.push(t),void(s=null);if(r.isBlock(t)||Ke(t))return Ke(t)&&r.remove(t),void(s=null);const a=t.nextSibling;Ln.isBookmarkNode(t)&&(je(a)||Je(e,a)||!a&&t.parentNode===n)?s=null:(s||(s=r.create("p"),null===(i=t.parentNode)||void 0===i||i.insertBefore(s,t),o.push(s)),s.appendChild(t))})),o},Yn=(e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r},Jn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const i=Ot(e,e.selection.getStart(!0)),a=e.dom;if("false"===a.getContentEditable(e.selection.getNode()))return;t=t.toUpperCase(),"DL"===t&&(r="DT");const s=Fn(o),l=T(Kn(e,o,i),e.dom.isEditable);He.each(l,(o=>{let i;const s=o.previousSibling,l=o.parentNode;$e(l)||(s&&je(s)&&s.nodeName===t&&Yn(a,s,n)?(i=s,o=a.rename(o,r),s.appendChild(o)):(i=a.create(t),l.insertBefore(i,o),i.appendChild(o),o=a.rename(o,r)),$n(a,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Zn(a,i,n),no(e.dom,i))})),e.selection.setRng(Bn(s))},Xn=(e,t)=>je(e)&&e.nodeName===(null===t||void 0===t?void 0:t.nodeName),Qn=(e,t,n)=>{const o=e.getStyle(t,"list-style-type",!0),r=e.getStyle(n,"list-style-type",!0);return o===r},eo=(e,t)=>e.className===t.className,to=(e,t,n)=>Xn(t,n)&&Qn(e,t,n)&&eo(t,n),no=(e,t)=>{let n,o=t.nextSibling;if(to(e,t,o)){const r=o;while(n=r.firstChild)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,to(e,t,o)){const r=o;while(n=r.lastChild)t.insertBefore(n,t.firstChild);e.remove(r)}},oo=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Zn(e.dom,r,o),Ut(e,Un(n),r)}else Zn(e.dom,t,o),Ut(e,Un(n),t)},ro=(e,t,n,o,r)=>{const i=je(t);if(i&&t.nodeName===o&&!io(r))In(e);else{Jn(e,o,r);const a=Fn(e.selection.getRng()),s=i?[t,...n]:n;He.each(s,(t=>{oo(e,t,o,r)})),e.selection.setRng(Bn(a))}},io=e=>"list-style-type"in e,ao=(e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||io(o)||It(t)){const r=Fn(e.selection.getRng());Zn(e.dom,t,o);const i=e.dom.rename(t,n);no(e.dom,i),e.selection.setRng(Bn(r)),Jn(e,n,o),Ut(e,Un(n),i)}else In(e);else Jn(e,n,o),Ut(e,Un(n),t)},so=(e,t,n)=>{const o=wt(e);if(Ht(e,o)||!e.hasEditableRoot())return;const r=Ct(e),i=a(n)?n:{};r.length>0?ro(e,o,r,t,i):ao(e,o,t,i)},lo=Le.DOM,co=(e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),tt(e,n)&&lo.remove(n)):lo.setStyle(n,"listStyleType","none")}if(je(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}},uo=(e,t)=>{const n=He.grep(e.select("ol,ul",t));He.each(n,(t=>{co(e,t)}))},ho=(e,t,n,o)=>{let r=t.startContainer;const i=t.startOffset;if(Ue(r)&&(n?i<r.data.length:i>0))return r;const a=e.schema.getNonEmptyElements();Ve(r)&&(r=_e.getNode(r,i));const s=new xe(r,o);n&&et(e.dom,r)&&s.next();const l=n?s.next.bind(s):s.prev2.bind(s);while(r=l()){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(a[r.nodeName])return r;if(Ue(r)&&r.data.length>0)return r}return null},mo=(e,t)=>{const n=t.childNodes;return 1===n.length&&!je(n[0])&&e.isBlock(n[0])},po=(e,t)=>{mo(e,t)&&e.remove(t.firstChild,!0)},fo=(e,t,n)=>{let o;const r=mo(e,n)?n.firstChild:n;if(po(e,t),!tt(e,t,!0))while(o=t.firstChild)r.appendChild(o)},go=(e,t,n)=>{let o;const r=t.parentNode;if(!nt(e,t)||!nt(e,n))return;je(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&Ke(r.previousSibling)&&e.remove(r.previousSibling);const i=n.lastChild;i&&Ke(i)&&t.hasChildNodes()&&e.remove(i),tt(e,n,!0)&&be(G.fromDom(n)),fo(e,t,n),o&&n.appendChild(o);const a=J(G.fromDom(n),G.fromDom(t)),s=a?e.getParents(t,je,n):[];e.remove(t),E(s,(t=>{tt(e,t)&&t!==e.getRoot()&&e.remove(t)}))},vo=(e,t,n)=>{be(G.fromDom(n)),go(e.dom,t,n),e.selection.setCursorLocation(n,0)},yo=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))vo(e,n,o);else{const i=Fn(t);go(r,n,o),e.selection.setRng(Bn(i))}},bo=(e,t,n,o)=>{const r=Fn(t);go(e.dom,n,o);const i=Bn(r);e.selection.setRng(i)},wo=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),i=Tt(e,r),a=n.getParent(o.getStart(),"LI",i);if(a){const r=a.parentElement;if(r===e.getBody()&&tt(n,r))return!0;const s=vt(o.getRng()),l=n.getParent(ho(e,s,t,i),"LI",i);if(l&&l!==a)return e.undoManager.transact((()=>{t?yo(e,s,l,a):Ye(a)?Pn(e):bo(e,s,a,l)})),!0;if(!l&&!t&&0===s.startOffset&&0===s.endOffset)return e.undoManager.transact((()=>{In(e)})),!0}return!1},_o=(e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)},xo=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=Tt(e,o),i=n.getParent(o,n.isBlock,r);if(i&&n.isEmpty(i)){const o=vt(e.selection.getRng()),a=n.getParent(ho(e,o,t,r),"LI",r);if(a){const s=e=>C(["td","th","caption"],ee(e)),l=e=>e.dom===r,c=me(G.fromDom(a),s,l),u=me(G.fromDom(o.startContainer),s,l);return!!B(c,u,Y)&&(e.undoManager.transact((()=>{_o(n,i,r),no(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)})),!0)}}return!1},Co=(e,t)=>wo(e,t)||xo(e,t),So=e=>{const t=e.selection.getStart(),n=Tt(e,t),o=e.dom.getParent(t,"LI,DT,DD",n);return o||kt(e).length>0},ko=e=>!!So(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),uo(e.dom,e.getBody())})),!0),Eo=(e,t)=>{const n=e.selection;return!Ht(e,n.getNode())&&(n.isCollapsed()?Co(e,t):ko(e))},To=e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!So(e)||uo(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===Ce.BACKSPACE?Eo(e,!1)&&t.preventDefault():t.keyCode===Ce.DELETE&&Eo(e,!0)&&t.preventDefault()}))},Mo=e=>({backspaceDelete:t=>{Eo(e,t)}}),Oo=(e,t)=>{const n=wt(e);null===n||Ht(e,n)||e.undoManager.transact((()=>{a(t.styles)&&e.dom.setStyles(n,t.styles),a(t.attrs)&&Ee(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))},Do=e=>{const t=I(jt(e).split("")),n=k(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return O(n,((e,t)=>e+t),0)},Ao=e=>{if(e--,e<0)return"";{const t=e%26,n=Math.floor(e/26),o=Ao(n),r=String.fromCharCode("A".charCodeAt(0)+t);return o+r}},Ro=e=>/^[A-Z]+$/.test(e),Po=e=>/^[a-z]+$/.test(e),Io=e=>/^[0-9]+$/.test(e),zo=e=>Io(e)?2:Ro(e)?0:Po(e)?1:Zt(e)?3:4,No=e=>{switch(zo(e)){case 2:return y.some({listStyleType:y.none(),start:e});case 0:return y.some({listStyleType:y.some("upper-alpha"),start:Do(e).toString()});case 1:return y.some({listStyleType:y.some("lower-alpha"),start:Do(e).toString()});case 3:return y.some({listStyleType:y.none(),start:""});case 4:return y.none()}},Lo=e=>{const t=parseInt(e.start,10);return F(e.listStyleType,"upper-alpha")?Ao(t):F(e.listStyleType,"lower-alpha")?Ao(t).toLowerCase():e.start},Ho=e=>{const t=wt(e);Ze(t)&&!Ht(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Lo({start:e.dom.getAttrib(t,"start","1"),listStyleType:y.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const n=t.getData();No(n.start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},Fo=(e,t)=>()=>{const n=wt(e);return u(n)&&n.nodeName===t},Bo=e=>{e.addCommand("mceListProps",(()=>{Ho(e)}))},Uo=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Rn(e):"outdent"===n&&Pn(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{so(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{so(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{so(e,"DL",n)})),e.addCommand("RemoveList",(()=>{In(e)})),Bo(e),e.addCommand("mceListUpdate",((t,n)=>{a(n)&&Oo(e,n)})),e.addQueryStateHandler("InsertUnorderedList",Fo(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Fo(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Fo(e,"DL"))};var Vo=tinymce.util.Tools.resolve("tinymce.html.Node");const jo=e=>3===e.type,Wo=e=>0===e.length,Zo=e=>{const t=(t,n)=>{const o=Vo.create("li");E(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=(e,n)=>jo(n)?[...e,n]:Wo(e)||jo(n)?e:(t(e,n),[]),o=O(e.children(),n,[]);Wo(o)||t(o)},$o=e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>E(e,Zo)))}))},qo=e=>{e.on("keydown",(t=>{t.keyCode!==Ce.TAB||Ce.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Pn(e):Rn(e))&&t.preventDefault()}))}))},Go=e=>{it(e)&&qo(e),To(e)},Ko=(e,t)=>n=>{const o=o=>{n.setActive(zt(o.parents,t)),n.setEnabled(!Ht(e,o.element)&&e.selection.isEditable())};return n.setEnabled(e.selection.isEditable()),Ft(e,o)},Yo=e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:Ko(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:Ko(e,"UL")}))},Jo=(e,t)=>n=>{const o=o=>n.setEnabled(zt(o.parents,t)&&!Ht(e,o.element));return Ft(e,o)},Xo=e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:Jo(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=wt(e,t);return Ze(n)?["listprops"]:[]}})};var Qo=()=>{e.add("lists",(e=>(rt(e),$o(e),e.hasPlugin("rtc",!0)?Bo(e):(Go(e),Uo(e)),Yo(e),Xo(e),Mo(e))))};Qo()}()},5453:function(e,t,n){n(2696)},2696:function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("function");var o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r=tinymce.util.Tools.resolve("tinymce.util.Tools");const i=e=>t=>t.options.get(e),a=e=>{const t=e.options.register;t("save_enablewhendirty",{processor:"boolean",default:!0}),t("save_onsavecallback",{processor:"function"}),t("save_oncancelcallback",{processor:"function"})},s=i("save_enablewhendirty"),l=i("save_onsavecallback"),c=i("save_oncancelcallback"),u=(e,t)=>{e.notificationManager.open({text:t,type:"error"})},d=e=>{const t=o.DOM.getParent(e.id,"form");if(s(e)&&!e.isDirty())return;e.save();const r=l(e);if(n(r))return r.call(e,e),void e.nodeChanged();t?(e.setDirty(!1),t.onsubmit&&!t.onsubmit()||("function"===typeof t.submit?t.submit():u(e,"Error: Form submit field collision.")),e.nodeChanged()):u(e,"Error: No form element found.")},h=e=>{const t=r.trim(e.startContent),o=c(e);n(o)?o.call(e,e):e.resetContent(t)},m=e=>{e.addCommand("mceSave",(()=>{d(e)})),e.addCommand("mceCancel",(()=>{h(e)}))},p=e=>t=>{const n=()=>{t.setEnabled(!s(e)||e.isDirty())};return n(),e.on("NodeChange dirty",n),()=>e.off("NodeChange dirty",n)},f=e=>{e.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>e.execCommand("mceSave"),onSetup:p(e)}),e.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>e.execCommand("mceCancel"),onSetup:p(e)}),e.addShortcut("Meta+S","","mceSave")};var g=()=>{e.add("save",(e=>{a(e),f(e),m(e)}))};g()})()},304:function(e,t,n){n(953)},953:function(e,t,n){n(7658),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,i=e=>t=>e===t,a=o("string"),s=o("array"),l=r("boolean"),c=i(void 0),u=e=>null===e||void 0===e,d=e=>!u(e),h=r("function"),m=r("number"),p=()=>{},f=(e,t)=>n=>e(t(n)),g=e=>()=>e,v=e=>e,y=(e,t)=>e===t;function b(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const w=e=>{e()},_=g(!1),x=g(!0);class C{constructor(e,t){this.tag=e,this.value=t}static some(e){return new C(!0,e)}static none(){return C.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?C.some(e(this.value)):C.none()}bind(e){return this.tag?e(this.value):C.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:C.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return d(e)?C.some(e):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);const S=Object.keys,k=Object.hasOwnProperty,E=(e,t)=>{const n=S(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},T=e=>(t,n)=>{e[n]=t},M=(e,t,n,o)=>{E(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},O=(e,t)=>{const n={};return M(e,t,T(n),p),n},D=(e,t)=>{const n=[];return E(e,((e,o)=>{n.push(t(e,o))})),n},A=e=>D(e,v),R=e=>S(e).length,P=(e,t)=>I(e,t)?C.from(e[t]):C.none(),I=(e,t)=>k.call(e,t),z=(e,t)=>I(e,t)&&void 0!==e[t]&&null!==e[t],N=e=>{for(const t in e)if(k.call(e,t))return!1;return!0},L=Array.prototype.indexOf,H=Array.prototype.push,F=(e,t)=>L.call(e,t),B=(e,t)=>F(e,t)>-1,U=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},V=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},j=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},W=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},Z=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},$=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r],a=t(i,r)?n:o;a.push(i)}return{pass:n,fail:o}},q=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},G=(e,t,n)=>(Z(e,((e,o)=>{n=t(n,e,o)})),n),K=(e,t,n)=>(W(e,((e,o)=>{n=t(n,e,o)})),n),Y=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return C.some(r);if(n(r,o))break}return C.none()},J=(e,t)=>Y(e,t,_),X=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);H.apply(t,e[n])}return t},Q=(e,t)=>X(j(e,t)),ee=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},te=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},ne=(e,t)=>t>=0&&t<e.length?C.some(e[t]):C.none(),oe=e=>ne(e,0),re=e=>ne(e,e.length-1),ie=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return C.none()},ae=8,se=9,le=11,ce=1,ue=3,de=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return pe(o.childNodes[0])},he=(e,t)=>{const n=t||document,o=n.createElement(e);return pe(o)},me=(e,t)=>{const n=t||document,o=n.createTextNode(e);return pe(o)},pe=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},fe=(e,t,n)=>C.from(e.dom.elementFromPoint(t,n)).map(pe),ge={fromHtml:de,fromTag:he,fromText:me,fromDom:pe,fromPoint:fe},ve=(e,t)=>{const n=e.dom;if(n.nodeType!==ce)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ye=e=>e.nodeType!==ce&&e.nodeType!==se&&e.nodeType!==le||0===e.childElementCount,be=(e,t)=>{const n=void 0===t?document:t.dom;return ye(n)?[]:j(n.querySelectorAll(e),ge.fromDom)},we=(e,t)=>{const n=void 0===t?document:t.dom;return ye(n)?C.none():C.from(n.querySelector(e)).map(ge.fromDom)},_e=(e,t)=>e.dom===t.dom,xe=ve;"undefined"!==typeof window?window:Function("return this;")();const Ce=e=>{const t=e.dom.nodeName;return t.toLowerCase()},Se=e=>e.dom.nodeType,ke=e=>t=>Se(t)===e,Ee=e=>Se(e)===ae||"#comment"===Ce(e),Te=ke(ce),Me=ke(ue),Oe=ke(se),De=ke(le),Ae=e=>t=>Te(t)&&Ce(t)===e,Re=e=>ge.fromDom(e.dom.ownerDocument),Pe=e=>Oe(e)?e:Re(e),Ie=e=>C.from(e.dom.parentNode).map(ge.fromDom),ze=(e,t)=>{const n=h(t)?t:_;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=ge.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Ne=e=>C.from(e.dom.previousSibling).map(ge.fromDom),Le=e=>C.from(e.dom.nextSibling).map(ge.fromDom),He=e=>j(e.dom.childNodes,ge.fromDom),Fe=(e,t)=>{const n=e.dom.childNodes;return C.from(n[t]).map(ge.fromDom)},Be=e=>Fe(e,0),Ue=e=>De(e)&&d(e.dom.host),Ve=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),je=Ve?e=>ge.fromDom(e.dom.getRootNode()):Pe,We=e=>{const t=je(e);return Ue(t)?C.some(t):C.none()},Ze=e=>ge.fromDom(e.dom.host),$e=e=>{const t=Me(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return We(ge.fromDom(t)).fold((()=>n.body.contains(t)),f($e,Ze))};var qe=(e,t,n,o,r)=>e(n,o)?C.some(n):h(r)&&r(n)?C.none():t(n,o,r);const Ge=(e,t,n)=>{let o=e.dom;const r=h(n)?n:_;while(o.parentNode){o=o.parentNode;const e=ge.fromDom(o);if(t(e))return C.some(e);if(r(e))break}return C.none()},Ke=(e,t,n)=>{const o=(e,t)=>t(e);return qe(o,Ge,e,t,n)},Ye=(e,t)=>{const n=e=>t(ge.fromDom(e)),o=J(e.dom.childNodes,n);return o.map(ge.fromDom)},Je=(e,t,n)=>Ge(e,(e=>ve(e,t)),n),Xe=(e,t)=>Ye(e,(e=>ve(e,t))),Qe=(e,t)=>we(t,e),et=(e,t,n)=>{const o=(e,t)=>ve(e,t);return qe(o,Je,e,t,n)},tt=e=>et(e,"[contenteditable]"),nt=(e,t=!1)=>$e(e)?e.dom.isContentEditable:tt(e).fold(g(t),(e=>"true"===ot(e))),ot=e=>e.dom.contentEditable,rt=e=>e.nodeName.toLowerCase(),it=e=>ge.fromDom(e.getBody()),at=e=>t=>_e(t,it(e)),st=e=>e?e.replace(/px$/,""):"",lt=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,ct=e=>ge.fromDom(e.selection.getStart()),ut=e=>ge.fromDom(e.selection.getEnd()),dt=e=>Ke(e,Ae("table")).forall(nt),ht=(e,t)=>q(He(e),t),mt=(e,t)=>{let n=[];return W(He(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(mt(e,t))})),n},pt=(e,t)=>ht(e,(e=>ve(e,t))),ft=(e,t)=>be(t,e),gt=(e,t,n)=>{if(!(a(n)||l(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},vt=(e,t,n)=>{gt(e.dom,t,n)},yt=(e,t)=>{const n=e.dom;E(t,((e,t)=>{gt(n,t,e)}))},bt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},wt=(e,t)=>C.from(bt(e,t)),_t=(e,t)=>{e.dom.removeAttribute(t)},xt=e=>K(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Ct=(e,t,n=y)=>e.exists((e=>n(e,t))),St=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},kt=(e,t,n)=>e.isSome()&&t.isSome()?C.some(n(e.getOrDie(),t.getOrDie())):C.none(),Et=e=>e.bind(v),Tt=(e,t)=>e?C.some(t):C.none(),Mt=(e,t)=>e.substring(t),Ot=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Dt=(e,t)=>At(e,t)?Mt(e,t.length):e,At=(e,t)=>Ot(e,t,0),Rt=e=>t=>t.replace(e,""),Pt=Rt(/^\s+|\s+$/g),It=e=>e.length>0,zt=e=>!It(e),Nt=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?C.none():C.some(n)},Lt=e=>{const t=parseFloat(e);return isNaN(t)?C.none():C.some(t)},Ht=e=>void 0!==e.style&&h(e.style.getPropertyValue),Ft=(e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ht(e)&&e.style.setProperty(t,n)},Bt=(e,t)=>{Ht(e)&&e.style.removeProperty(t)},Ut=(e,t,n)=>{const o=e.dom;Ft(o,t,n)},Vt=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||$e(e)?r:jt(n,t)},jt=(e,t)=>Ht(e)?e.style.getPropertyValue(t):"",Wt=(e,t)=>{const n=e.dom,o=jt(n,t);return C.from(o).filter((e=>e.length>0))},Zt=(e,t)=>{const n=e.dom;Bt(n,t),Ct(wt(e,"style").map(Pt),"")&&_t(e,"style")},$t=(e,t,n=0)=>wt(e,t).map((e=>parseInt(e,10))).getOr(n),qt=(e,t)=>Gt(e,t,x),Gt=(e,t,n)=>Q(He(e),(e=>ve(e,t)?n(e)?[e]:[]:Gt(e,t,n))),Kt=["tfoot","thead","tbody","colgroup"],Yt=e=>B(Kt,e),Jt=(e,t)=>({rows:e,columns:t}),Xt=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Qt=(e,t,n,o,r,i)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:i}),en=(e,t,n)=>({element:e,cells:t,section:n}),tn=(e,t,n,o)=>({startRow:e,startCol:t,finishRow:n,finishCol:o}),nn=(e,t,n)=>({element:e,colspan:t,column:n}),on=(e,t)=>({element:e,columns:t}),rn=(e,t,n=_)=>{if(n(t))return C.none();if(B(e,Ce(t)))return C.some(t);const o=e=>ve(e,"table")||n(e);return Je(t,e.join(","),o)},an=(e,t)=>rn(["td","th"],e,t),sn=e=>qt(e,"th,td"),ln=e=>ve(e,"colgroup")?pt(e,"col"):Q(dn(e),(e=>pt(e,"col"))),cn=(e,t)=>et(e,"table",t),un=e=>qt(e,"tr"),dn=e=>cn(e).fold(g([]),(e=>pt(e,"colgroup"))),hn=(e,t)=>j(e,(e=>{if("colgroup"===Ce(e)){const t=j(ln(e),(e=>{const t=$t(e,"span",1);return Xt(e,1,t)}));return en(e,t,"colgroup")}{const n=j(sn(e),(e=>{const t=$t(e,"rowspan",1),n=$t(e,"colspan",1);return Xt(e,t,n)}));return en(e,n,t(e))}})),mn=e=>Ie(e).map((e=>{const t=Ce(e);return Yt(t)?t:"tbody"})).getOr("tbody"),pn=e=>{const t=un(e),n=dn(e),o=[...n,...t];return hn(o,mn)},fn="data-snooker-locked-cols",gn=e=>wt(e,fn).bind((e=>C.from(e.match(/\d+/g)))).map((e=>te(e,x))),vn=(e,t)=>e+","+t,yn=(e,t,n)=>C.from(e.access[vn(t,n)]),bn=(e,t,n)=>{const o=wn(e,(e=>n(t,e.element)));return o.length>0?C.some(o[0]):C.none()},wn=(e,t)=>{const n=Q(e.all,(e=>e.cells));return q(n,t)},_n=e=>{const t={};let n=0;return W(e.cells,(e=>{const o=e.colspan;V(o,(r=>{const i=n+r;t[i]=nn(e.element,o,i)})),n+=o})),t},xn=e=>{const t={},n=[],o=oe(e).map((e=>e.element)).bind(cn),r=o.bind(gn).getOr({});let i=0,a=0,s=0;const{pass:l,fail:c}=$(e,(e=>"colgroup"===e.section));W(c,(e=>{const o=[];W(e.cells,(e=>{let n=0;while(void 0!==t[vn(s,n)])n++;const i=z(r,n.toString()),l=Qt(e.element,e.rowspan,e.colspan,s,n,i);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=s+r,i=n+o,c=vn(e,i);t[c]=l,a=Math.max(a,i+1)}o.push(l)})),i++,n.push(en(e.element,o,e.section)),s++}));const{columns:u,colgroups:d}=re(l).map((e=>{const t=_n(e),n=on(e.element,A(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),h=Jt(i,a);return{grid:h,access:t,all:n,columns:u,colgroups:d}},Cn=e=>{const t=pn(e);return xn(t)},Sn=e=>Q(e.all,(e=>e.cells)),kn=e=>A(e.columns),En=e=>S(e.columns).length>0,Tn=(e,t)=>C.from(e.columns[t]),Mn={fromTable:Cn,generate:xn,getAt:yn,findItem:bn,filterItems:wn,justCells:Sn,justColumns:kn,hasColumns:En,getColumnAt:Tn};var On=tinymce.util.Tools.resolve("tinymce.util.Tools");const Dn=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let i=0;i<o.length;i++){const t=e.getStyle(o[i],n);if(c(r)&&(r=t),r!==t)return""}return r},An=(e,t,n)=>{On.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},Rn=(e,t,n)=>{On.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)},Pn=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},In=(e,t)=>Lt(e).getOr(t),zn=(e,t,n)=>In(Vt(e,t),n),Nn=(e,t,n,o)=>{const r=zn(e,`padding-${n}`,0),i=zn(e,`padding-${o}`,0),a=zn(e,`border-${n}-width`,0),s=zn(e,`border-${o}-width`,0);return t-r-i-a-s},Ln=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:Nn(e,o,"left","right")},Hn=e=>Ln(e,"content-box"),Fn=Hn;var Bn=tinymce.util.Tools.resolve("tinymce.Env");const Un="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Vn=V(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),jn=j(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),Wn="100%",Zn=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Fn(ge.fromDom(o))+"px"},$n=(e,t)=>mo(e)||!ro(e)?t:ho(e)?{...t,width:Zn(e)}:{...t,width:Wn},qn=(e,t)=>mo(e)||ro(e)?t:ho(e)?{...t,width:Zn(e)}:{...t,width:Wn},Gn=e=>t=>t.options.get(e),Kn=e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:Vn}),t("table_border_styles",{processor:"object[]",default:jn}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!Bn.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:Un}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})},Yn=Gn("table_sizing_mode"),Jn=Gn("table_border_widths"),Xn=Gn("table_border_styles"),Qn=Gn("table_cell_advtab"),eo=Gn("table_row_advtab"),to=Gn("table_advtab"),no=Gn("table_appearance_options"),oo=Gn("table_grid"),ro=Gn("table_style_by_css"),io=Gn("table_cell_class_list"),ao=Gn("table_row_class_list"),so=Gn("table_class_list"),lo=Gn("table_toolbar"),co=Gn("table_background_color_map"),uo=Gn("table_border_color_map"),ho=e=>"fixed"===Yn(e),mo=e=>"responsive"===Yn(e),po=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:$n(e,n)},fo=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:qn(e,n)},go=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,vo=(e,t)=>{let n=!0;const o=b(go,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let i=t.startCol;i<=t.finishCol;i++)n=n&&Mn.getAt(e,r,i).exists(o);return n?C.some(t):C.none()},yo=(e,t)=>tn(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1)),bo=(e,t,n)=>{const o=Mn.findItem(e,t,_e),r=Mn.findItem(e,n,_e);return o.bind((e=>r.map((t=>yo(e,t)))))},wo=(e,t,n)=>bo(e,t,n).bind((t=>vo(e,t))),_o=(e,t,n)=>{const o=xo(e);return wo(o,t,n)},xo=Mn.fromTable,Co=(e,t)=>{const n=Ie(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},So=(e,t)=>{const n=Le(e);n.fold((()=>{const n=Ie(e);n.each((e=>{Eo(e,t)}))}),(e=>{Co(e,t)}))},ko=(e,t)=>{const n=Be(e);n.fold((()=>{Eo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Eo=(e,t)=>{e.dom.appendChild(t.dom)},To=(e,t)=>{Co(e,t),Eo(t,e)},Mo=(e,t)=>{W(t,((n,o)=>{const r=0===o?e:t[o-1];So(r,n)}))},Oo=(e,t)=>{W(t,(t=>{Eo(e,t)}))},Do=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Ao=e=>{const t=He(e);t.length>0&&Mo(e,t),Do(e)},Ro=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?C.from(t.dom.nodeValue):C.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},Po=Ro(Me,"text"),Io=e=>Po.get(e),zo=(e,t)=>Po.set(e,t);var No=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Lo=()=>{const e=e=>ge.fromDom(e.dom.cloneNode(!1)),t=e=>Pe(e).dom,n=e=>!!Te(e)&&("body"===Ce(e)||B(No,Ce(e))),o=e=>!!Te(e)&&B(["br","img","hr","input"],Ce(e)),r=e=>Te(e)&&"false"===bt(e,"contenteditable"),i=(e,t)=>e.dom.compareDocumentPosition(t.dom),a=(e,t)=>{const n=xt(e);yt(t,n)},s=e=>{const t=Ce(e);return B(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},l=e=>Te(e)?wt(e,"lang"):C.none();return{up:g({selector:Je,closest:et,predicate:Ge,all:ze}),down:g({selector:ft,predicate:mt}),styles:g({get:Vt,getRaw:Wt,set:Ut,remove:Zt}),attrs:g({get:bt,set:vt,remove:_t,copyTo:a}),insert:g({before:Co,after:So,afterAll:Mo,append:Eo,appendAll:Oo,prepend:ko,wrap:To}),remove:g({unwrap:Ao,remove:Do}),create:g({nu:ge.fromTag,clone:e,text:ge.fromText}),query:g({comparePosition:i,prevSibling:Ne,nextSibling:Le}),property:g({children:He,name:Ce,parent:Ie,document:t,isText:Me,isComment:Ee,isElement:Te,isSpecial:s,getLanguage:l,getText:Io,setText:zo,isBoundary:n,isEmptyTag:o,isNonEditable:r}),eq:_e,is:xe}};const Ho=(e,t,n,o)=>{const r=n[0],i=n.slice(1);return o(e,t,r,i)},Fo=(e,t,n)=>n.length>0?Ho(e,t,n,Bo):C.none(),Bo=(e,t,n,o)=>{const r=t(e,n);return G(o,((n,o)=>{const r=t(e,o);return Uo(e,n,r)}),r)},Uo=(e,t,n)=>t.bind((t=>n.filter(b(e.eq,t)))),Vo=Fo,jo=Lo(),Wo=(e,t)=>Vo(jo,((t,n)=>e(n)),t),Zo=e=>Je(e,"table"),$o=(e,t)=>{const n=ft(e,t);return n.length>0?C.some(n):C.none()},qo=(e,t,n)=>Qe(e,t).bind((t=>Qe(e,n).bind((e=>Wo(Zo,[t,e]).map((n=>({first:t,last:e,table:n}))))))),Go=(e,t)=>$o(e,t),Ko=(e,t,n)=>qo(e,t,n).bind((t=>{const n=t=>_e(e,t),o="thead,tfoot,tbody,table",r=Je(t.first,o,n),i=Je(t.last,o,n);return r.bind((e=>i.bind((n=>_e(e,n)?_o(t.table,t.first,t.last):C.none()))))})),Yo=e=>j(e,ge.fromDom),Jo="data-mce-selected",Xo="td["+Jo+"],th["+Jo+"]",Qo="data-mce-first-selected",er="td["+Qo+"],th["+Qo+"]",tr="data-mce-last-selected",nr="td["+tr+"],th["+tr+"]",or={selected:Jo,selectedSelector:Xo,firstSelected:Qo,firstSelectedSelector:er,lastSelected:tr,lastSelectedSelector:nr},rr=e=>cn(e).bind((e=>Go(e,or.firstSelectedSelector))).fold(g(e),(e=>e[0])),ir=e=>(t,n)=>{const o=Ce(t),r="col"===o||"colgroup"===o?rr(t):t;return et(r,e,n)},ar=ir("th,td,caption"),sr=ir("th,td"),lr=e=>Yo(e.model.table.getSelectedCells()),cr=(e,t)=>{const n=sr(e),o=n.bind((e=>cn(e))).map((e=>un(e)));return kt(n,o,((e,n)=>q(n,(n=>U(Yo(n.dom.cells),(n=>"1"===bt(n,t)||_e(n,e))))))).getOr([])},ur=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],dr=e=>({value:fr(e)}),hr=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,mr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pr=e=>hr.test(e)||mr.test(e),fr=e=>Dt(e,"#").toUpperCase(),gr=e=>pr(e)?C.some({value:fr(e)}):C.none(),vr=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},yr=e=>{const t=vr(e.red)+vr(e.green)+vr(e.blue);return dr(t)},br=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,wr=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,_r=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),xr=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(o);return _r(r,i,a,s)},Cr=e=>{if("transparent"===e)return C.some(_r(0,0,0,0));const t=br.exec(e);if(null!==t)return C.some(xr(t[1],t[2],t[3],"1"));const n=wr.exec(e);return null!==n?C.some(xr(n[1],n[2],n[3],n[4])):C.none()},Sr=e=>gr(e).orThunk((()=>Cr(e).map(yr))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],s=o[3];return yr(_r(r,i,a,s))})),kr=e=>Cr(e).map(yr).map((e=>"#"+e.value)).getOr(e),Er=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},Tr=e=>{const t=Er(C.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(C.none())},r=()=>t.get().isSome(),i=()=>t.get(),a=e=>{n(),t.set(C.some(e))};return{clear:o,isSet:r,get:i,set:a}},Mr=()=>Tr((e=>e.unbind())),Or=(e,t,n)=>o=>{const r=Mr(),i=zt(n),a=()=>{const a=lr(e),s=o=>e.formatter.match(t,{value:n},o.dom,i);i?(o.setActive(!U(a,s)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(ee(a,s)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?a():e.on("init",a),r.clear},Dr=e=>z(e,"menu"),Ar=e=>j(e,(e=>{const t=e.text||e.title||"";return Dr(e)?{text:t,items:Ar(e.menu)}:{text:t,value:e.value}})),Rr=(e,t,n,o)=>j(t,(t=>{const r=t.text||t.title;return Dr(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Rr(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Or(e,n,t.value)}})),Pr=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},Ir=e=>Q(e,(e=>Dr(e)?[{...e,menu:Ir(e.menu)}]:It(e.value)?[e]:[])),zr=(e,t,n,o)=>r=>r(Rr(e,t,n,o)),Nr=(e,t,n)=>{const o=j(t,(e=>({text:e.title,value:"#"+Sr(e.value).value,type:"choiceitem"})));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Lr=e=>()=>{const t=e.queryCommandValue("mceTableRowType"),n="header"===t?"body":"header";e.execCommand("mceTableRowType",!1,{type:n})},Hr=e=>()=>{const t=e.queryCommandValue("mceTableColType"),n="th"===t?"td":"th";e.execCommand("mceTableColType",!1,{type:n})},Fr=e=>{const t=Ar(io(e));return t.length>0?C.some({name:"class",type:"listbox",label:"Class",items:t}):C.none()},Br=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ur}],Ur=e=>Br.concat(Fr(e).toArray()),Vr=(e,t)=>{const n=[{text:"Select...",value:""}],o=[{name:"borderstyle",type:"listbox",label:"Border style",items:n.concat(Ar(Xn(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],r={name:"borderwidth",type:"input",label:"Border width"},i="cell"===t?[r].concat(o):o;return{title:"Advanced",name:"advanced",items:i}},jr=(e,t)=>{const n=e.dom,o=(e,o)=>{n.setAttrib(t,e,o)},r=(e,o)=>{n.setStyle(t,e,o)},i=(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)};return{setAttrib:o,setStyle:r,setFormat:i}},Wr={normal:jr},Zr=Ae("th"),$r=(e,t)=>e&&t?"sectionCells":e?"section":"cells",qr=e=>{const t="thead"===e.section,n=Ct(Gr(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:$r(t,n)}:{type:"body"}},Gr=e=>{const t=q(e,(e=>Zr(e.element)));return 0===t.length?C.some("td"):t.length===e.length?C.some("th"):C.none()},Kr=e=>{const t=j(e,(e=>qr(e).type)),n=B(t,"header"),o=B(t,"footer");if(n||o){const e=B(t,"body");return!n||e||o?n||e||!o?C.none():C.some("footer"):C.some("header")}return C.some("body")},Yr=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Jr=(e,t)=>ie(e.all,(e=>J(e.cells,(e=>_e(t,e.element))))),Xr=(e,t,n)=>{const o=j(t.selection,(t=>an(t).bind((t=>Jr(e,t))).filter(n))),r=St(o);return Tt(r.length>0,r)},Qr=(e,t)=>t.mergable,ei=(e,t)=>t.unmergable,ti=(e,t)=>Xr(e,t,x),ni=(e,t)=>Jr(e,t).exists((e=>!e.isLocked)),oi=(e,t)=>ee(t,(t=>ni(e,t))),ri=(e,t)=>Qr(e,t).filter((t=>oi(e,t.cells))),ii=(e,t)=>ei(e,t).filter((t=>oi(e,t))),ai=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return W(e,((o,r)=>{const i=S(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],l=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+o);const i=e=>{const o=S(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=ee(t,(e=>B(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:i,log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},si={generate:ai},li=(si.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=Mn.fromTable(e),o=ti(n,t);return o.bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,i=n.all.slice(o,r);return Kr(i)})).getOr("")}),ci=li,ui=e=>At(e,"rgb")?kr(e):e,di=e=>{const t=ge.fromDom(e);return{borderwidth:Wt(t,"border-width").getOr(""),borderstyle:Wt(t,"border-style").getOr(""),bordercolor:Wt(t,"border-color").map(ui).getOr(""),backgroundcolor:Wt(t,"background-color").map(ui).getOr("")}},hi=e=>{const t=e[0],n=e.slice(1);return W(n,(e=>{W(S(t),(n=>{E(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="")}))}))})),t},mi=(e,t,n,o)=>J(e,(e=>!c(n.formatter.matchNode(o,t+e)))).getOr(""),pi=b(mi,["left","center","right"],"align"),fi=b(mi,["top","middle","bottom"],"valign"),gi=(e,t)=>{const n=po(e),o=fo(e),r=()=>({borderstyle:P(n,"border-style").getOr(""),bordercolor:ui(P(n,"border-color").getOr("")),backgroundcolor:ui(P(n,"background-color").getOr(""))}),i={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},a=()=>{const t=n["border-width"];return ro(e)&&t?{border:t}:P(o,"border").fold((()=>({})),(e=>({border:e})))},s=t?r():{},l=()=>{const e=P(n,"border-spacing").or(P(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),t=P(n,"border-padding").or(P(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})));return{...e,...t}},c={...i,...n,...o,...s,...a(),...l()};return c},vi=e=>cn(ge.fromDom(e)).map((t=>{const n={selection:Yo(e.cells)};return ci(t,n)})).getOr(""),yi=(e,t,n)=>{const o=(t,n)=>{const o=Wt(ge.fromDom(n),"border-width");return ro(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||Dn(e.dom,n,"border-width")||Dn(e.dom,n,"border")||""},r=e.dom,i=ro(e)?r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"):r.getAttrib(t,"cellspacing")||r.getStyle(t,"border-spacing"),a=ro(e)?Dn(r,t,"padding")||r.getAttrib(t,"cellpadding"):r.getAttrib(t,"cellpadding")||Dn(r,t,"padding");return{width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:null!==i&&void 0!==i?i:"",cellpadding:null!==a&&void 0!==a?a:"",border:o(r,t),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class",""),align:pi(e,t),...n?di(t):{}}},bi=(e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:vi(t),align:pi(e,t),...n?di(t):{}}},wi=(e,t,n,o)=>{const r=e.dom,i=o.getOr(t),a=(e,t)=>r.getStyle(e,t)||r.getAttrib(e,t);return{width:a(i,"width"),height:a(t,"height"),scope:r.getAttrib(t,"scope"),celltype:rt(t),class:r.getAttrib(t,"class",""),halign:pi(e,t),valign:fi(e,t),...n?di(t):{}}},_i=(e,t)=>{const n=Mn.fromTable(e),o=Mn.justCells(n),r=q(o,(e=>U(t,(t=>_e(e.element,t)))));return j(r,(e=>({element:e.element.dom,column:Mn.getColumnAt(n,e.column).map((e=>e.element.dom))})))},xi=(e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&e.setAttrib("class",n.class),o("height")&&e.setStyle("height",lt(n.height)),o("width")&&t.setStyle("width",lt(n.width))},Ci=(e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",lt(t.borderwidth))},Si=(e,t,n,o)=>{const r=1===t.length;W(t,(t=>{const i=t.element,a=r?x:o,s=Wr.normal(e,i),l=t.column.map((t=>Wr.normal(e,t))).getOr(s);xi(s,l,n,a),Qn(e)&&Ci(s,n,a),o("halign")&&An(e,i,n.halign),o("valign")&&Rn(e,i,n.valign)}))},ki=(e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})},Ei=(e,t,n,o)=>{const r=O(o,((e,t)=>n[t]!==e));R(r)>0&&t.length>=1&&cn(t[0]).each((n=>{const i=_i(n,t),a=R(O(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,s=I(r,"celltype");(a||I(r,"scope"))&&Si(e,i,o,b(I,r)),s&&ki(e,o),Pn(e,n.dom,{structure:s,style:a})}))},Ti=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{Ei(e,t,n,r),e.focus()}))},Mi=(e,t)=>{const n=cn(t[0]).map((n=>j(_i(n,t),(t=>wi(e,t.element,Qn(e),t.column)))));return hi(n.getOrDie())},Oi=e=>{const t=lr(e);if(0===t.length)return;const n=Mi(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ur(e)},Vr(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:Ur(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Qn(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:b(Ti,e,t,n)})},Di=e=>{const t=Ar(ao(e));return t.length>0?C.some({name:"class",type:"listbox",label:"Class",items:t}):C.none()},Ai=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ri=e=>Ai.concat(Di(e).toArray()),Pi=(e,t,n)=>{n("class")&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",lt(t.height))},Ii=(e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)},zi=(e,t,n,o)=>{const r=1===t.length,i=r?x:o;W(t,(t=>{const r=Wr.normal(e,t);Pi(r,n,i),eo(e)&&Ii(r,n,i),o("align")&&An(e,t,n.align)}))},Ni=(e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})},Li=(e,t,n,o)=>{const r=O(o,((e,t)=>n[t]!==e));if(R(r)>0){const n=I(r,"type"),i=!n||R(r)>1;i&&zi(e,t,o,b(I,r)),n&&Ni(e,o),cn(ge.fromDom(t[0])).each((t=>Pn(e,t.dom,{structure:n,style:i})))}},Hi=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{Li(e,t,n,r),e.focus()}))},Fi=e=>{const t=cr(ct(e),or.selected);if(0===t.length)return;const n=j(t,(t=>bi(e,t.dom,eo(e)))),o=hi(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ri(e)},Vr(e,"row")]},i={type:"panel",items:[{type:"grid",columns:2,items:Ri(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:eo(e)?r:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:b(Hi,e,j(t,(e=>e.dom)),o)})},Bi=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=no(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],s=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat(r).concat(i).concat(a).concat(s)},Ui=(e,t,n,o)=>{if("TD"===t.tagName||"TH"===t.tagName)a(n)&&d(o)?e.setStyle(t,n,o):e.setStyles(t,n);else if(t.children)for(let r=0;r<t.children.length;r++)Ui(e,t.children[r],n,o)},Vi=(e,t,n,o)=>{const r=e.dom,i={},a={},s=ro(e),l=to(e);if(c(n.class)||(i.class=n.class),a.height=lt(n.height),s?a.width=lt(n.width):r.getAttrib(t,"width")&&(i.width=st(n.width)),s?(a["border-width"]=lt(n.border),a["border-spacing"]=lt(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),s&&t.children){const e={};if(o.border&&(e["border-width"]=lt(n.border)),o.cellpadding&&(e.padding=lt(n.cellpadding)),l&&o.bordercolor&&(e["border-color"]=n.bordercolor),!N(e))for(let n=0;n<t.children.length;n++)Ui(r,t.children[n],e)}if(l){const e=n;a["background-color"]=e.backgroundcolor,a["border-color"]=e.bordercolor,a["border-style"]=e.borderstyle}i.style=r.serializeStyle({...po(e),...a}),r.setAttribs(t,{...fo(e),...i})},ji=(e,t,n,o)=>{const r=e.dom,i=o.getData(),a=O(i,((e,t)=>n[t]!==e));o.close(),""===i.class&&delete i.class,e.undoManager.transact((()=>{if(!t){const n=Nt(i.cols).getOr(1),o=Nt(i.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=sr(ct(e),at(e)).bind((t=>cn(t,at(e)))).map((e=>e.dom)).getOrDie()}if(R(a)>0){const n={border:I(a,"border"),bordercolor:I(a,"bordercolor"),cellpadding:I(a,"cellpadding")};Vi(e,t,i,n);const o=r.select("caption",t)[0];(o&&!i.caption||!o&&i.caption)&&e.execCommand("mceTableToggleCaption"),An(e,t,i.align)}if(e.focus(),e.addVisual(),R(a)>0){const n=I(a,"caption"),o=!n||R(a)>1;Pn(e,t,{structure:n,style:o})}}))},Wi=(e,t)=>{const n=e.dom;let o,r=gi(e,to(e));t?(r.cols="1",r.rows="1",to(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=yi(e,o,to(e)):to(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const i=Ar(so(e));i.length>0&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const a={type:"grid",columns:2,items:Bi(e,i,t)},s=()=>({type:"panel",items:[a]}),l=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},Vr(e,"table")]}),c=to(e)?l():s();e.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:b(ji,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Zi=e=>{const t=t=>{dt(ct(e))&&t()};E({mceTableProps:b(Wi,e,!1),mceTableRowProps:b(Fi,e),mceTableCellProps:b(Oi,e),mceInsertTableDialog:b(Wi,e,!0)},((n,o)=>e.addCommand(o,(()=>t(n)))))},$i=(e,t)=>Xe(e,t).isSome(),qi=v,Gi=e=>{const t=(e,t)=>wt(e,t).exists((e=>parseInt(e,10)>1)),n=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&ee(e,n)?C.some(e):C.none()},Ki=(e,t,n)=>t.length<=1?C.none():Ko(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Yi=e=>({element:e,mergable:C.none(),unmergable:C.none(),selection:[e]}),Ji=(e,t,n)=>({element:n,mergable:Ki(t,e,or),unmergable:Gi(e),selection:qi(e)}),Xi=e=>{const t=Er(C.none()),n=Er([]);let o=C.none();const r=Ae("caption"),i=e=>o.forall((t=>!t[e])),a=()=>ar(ct(e),at(e)),s=()=>ar(ut(e),at(e)),l=()=>a().bind((t=>Et(kt(cn(t),s().bind(cn),((n,o)=>_e(n,o)?r(t)?C.some(Yi(t)):C.some(Ji(lr(e),n,t)):C.none()))))),c=e=>{const t=cn(e.element);return t.map((t=>{const n=Mn.fromTable(t),o=ti(n,e).getOr([]),r=K(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ri(n,e).isSome(),unmergeable:ii(n,e).isSome(),locked:r}}))},u=()=>{t.set(Yr(l)()),o=t.get().bind(c),W(n.get(),w)},d=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(q(n.get(),(t=>t!==e)))}),h=(n,o)=>d((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),m=(n,o,r)=>d((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),p=e=>o.exists((t=>t.locked[e])),f=e=>h(e,(e=>!1)),g=e=>h(e,(e=>r(e.element))),v=e=>t=>h(t,(t=>r(t.element)||p(e))),y=e=>t=>h(t,(t=>r(t.element)||e().isNone())),b=(e,t)=>n=>h(n,(n=>r(n.element)||e().isNone()||p(t))),x=e=>h(e,(e=>i("mergeable"))),S=e=>h(e,(e=>i("unmergeable"))),k=t=>m(t,_,(t=>{const n=cn(t.element,at(e));return n.exists((e=>$i(e,"caption")))})),E=(t,n)=>o=>m(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),T=E("mceTableRowType","header"),M=E("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",u),{onSetupTable:f,onSetupCellOrRow:g,onSetupColumn:v,onSetupPasteable:y,onSetupPasteableColumn:b,onSetupMergeable:x,onSetupUnmergeable:S,resetTargets:u,onSetupTableWithCaption:k,onSetupTableRowHeaders:T,onSetupTableColumnHeaders:M,targets:t.get}};var Qi=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ea="x-tinymce/dom-table-",ta=ea+"rows",na=ea+"columns",oa=e=>{var t;const n=null!==(t=Qi.read())&&void 0!==t?t:[];return ie(n,(t=>C.from(t.getType(e))))},ra=()=>oa(ta),ia=()=>oa(na),aa=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},sa=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:aa(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:h(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:h(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(ra)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(ra)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(ia,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(ia,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:aa(e)});const i=Ir(so(e));0!==i.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:zr(e,i,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const a=Ir(io(e));0!==a.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:zr(e,a,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:zr(e,ur,"tablecellverticalalign",Pr(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:zr(e,Jn(e),"tablecellborderwidth",Pr(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:zr(e,Xn(e),"tablecellborderstyle",Pr(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Nr(e,co(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Nr(e,uo(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lr(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Hr(e),onSetup:t.onSetupTableColumnHeaders})},la=e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=lo(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},ca=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},ua=(e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:h(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:h(o.onAction)?o.onAction:n(o.command)})},i=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},a=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(ra)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(ra)})],s=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(ia,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(ia,"onLast")})],l=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];oo(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}],onSetup:ca(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:ca(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:ca(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),B(a,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:g("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),B(s,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:g("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),B(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:g("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(g(""),(e=>"caption"===Ce(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const c=Ir(so(e));0!==c.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Rr(e,c,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const u=Ir(io(e));0!==u.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Rr(e,u,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Rr(e,ur,"tablecellverticalalign",Pr(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Rr(e,Jn(e),"tablecellborderwidth",Pr(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Rr(e,Xn(e),"tablecellborderstyle",Pr(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Nr(e,co(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Nr(e,uo(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Lr(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Hr(e),onSetup:t.onSetupTableRowHeaders})},da=e=>{const t=Xi(e);Kn(e),Zi(e),ua(e,t),sa(e,t),la(e)};var ha=()=>{e.add("table",da)};ha()}()},1784:function(e,t,n){n(4212)},4212:function(e,t,n){n(7658),function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>e===t,n=t(null),o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},i="[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",a={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:i},s={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},l=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],c="",u=new RegExp("^"+a.punctuation+"$"),d=/^\s+$/,h=l,m=s.OTHER,p=e=>{let t=m;const n=h.length;for(let o=0;o<n;++o){const n=h[o];if(n&&n.test(e)){t=o;break}}return t},f=e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}},g=e=>{const t=f(p);return r(e,t)},v=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===s.ALETTER&&o===s.ALETTER)return!1;const r=e[t+2];if(n===s.ALETTER&&(o===s.MIDLETTER||o===s.MIDNUMLET||o===s.AT)&&r===s.ALETTER)return!1;const i=e[t-1];return(n!==s.MIDLETTER&&n!==s.MIDNUMLET&&o!==s.AT||o!==s.ALETTER||i!==s.ALETTER)&&((n!==s.NUMERIC&&n!==s.ALETTER||o!==s.NUMERIC&&o!==s.ALETTER)&&((n!==s.MIDNUM&&n!==s.MIDNUMLET||o!==s.NUMERIC||i!==s.NUMERIC)&&((n!==s.NUMERIC||o!==s.MIDNUM&&o!==s.MIDNUMLET||r!==s.NUMERIC)&&((n!==s.EXTEND&&n!==s.FORMAT||o!==s.ALETTER&&o!==s.NUMERIC&&o!==s.KATAKANA&&o!==s.EXTEND&&o!==s.FORMAT)&&(o!==s.EXTEND&&(o!==s.FORMAT||r!==s.ALETTER&&r!==s.NUMERIC&&r!==s.KATAKANA&&r!==s.EXTEND&&r!==s.FORMAT)||n!==s.ALETTER&&n!==s.NUMERIC&&n!==s.KATAKANA&&n!==s.EXTEND&&n!==s.FORMAT)&&((n!==s.CR||o!==s.LF)&&(n===s.NEWLINE||n===s.CR||n===s.LF||(o===s.NEWLINE||o===s.CR||o===s.LF||(n!==s.KATAKANA||o!==s.KATAKANA)&&((o!==s.EXTENDNUMLET||n!==s.ALETTER&&n!==s.NUMERIC&&n!==s.KATAKANA&&n!==s.EXTENDNUMLET)&&((n!==s.EXTENDNUMLET||o!==s.ALETTER&&o!==s.NUMERIC&&o!==s.KATAKANA)&&n!==s.AT)))))))))},y=c,b=d,w=u,_=e=>"http"===e||"https"===e,x=(e,t)=>{let n;for(n=t;n<e.length;n++)if(b.test(e[n]))break;return n},C=(e,t)=>{const n=x(e,t+1),o=e.slice(t+1,n).join(y);return"://"===o.substr(0,3)?n:t},S=(e,t,n,o)=>{const r=[],i=[];let a=[];for(let s=0;s<n.length;++s)if(a.push(e[s]),v(n,s)){const n=t[s];if((o.includeWhitespace||!b.test(n))&&(o.includePunctuation||!w.test(n))){const n=s-a.length+1,o=s+1,l=t.slice(n,o).join(y);if(_(l)){const n=C(t,s),r=e.slice(o,n);Array.prototype.push.apply(a,r),s=n}r.push(a),i.push({start:n,end:o})}a=[]}return{words:r,indices:i}},k=()=>({includeWhitespace:!1,includePunctuation:!1}),E=(e,t,n)=>{n={...k(),...n};const o=r(e,t),i=g(o);return S(e,o,i,n)},T=(e,t,n)=>E(e,t,n).words,M=T,O=e=>e.replace(/\uFEFF/g,"");var D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const A=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],i=[];let a="";const s=new D(e,e);let l;while(l=s.next())3===l.nodeType?a+=O(l.data):r(l)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},R=e=>e.replace(/\u200B/g,""),P=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,I=(e,t)=>{const n=R(A(e,t).join("\n"));return M(n.split(""),o).length},z=(e,t)=>{const n=A(e,t).join("");return P(n)},N=(e,t)=>{const n=A(e,t).join("").replace(/\s/g,"");return P(n)},L=(e,t)=>()=>t(e.getBody(),e.schema),H=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),F=e=>L(e,I),B=e=>({body:{getWordCount:F(e),getCharacterCount:L(e,z),getCharacterCountWithoutSpaces:L(e,N)},selection:{getWordCount:H(e,I),getCharacterCount:H(e,z),getCharacterCountWithoutSpaces:H(e,N)},getCount:F(e)}),U=(e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},V=(e,t)=>{e.addCommand("mceWordCount",(()=>U(e,t)))},j=(e,t)=>{let o=null;const r=()=>{n(o)||(clearTimeout(o),o=null)},i=(...r)=>{n(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),t))};return{cancel:r,throttle:i}};var W=tinymce.util.Tools.resolve("tinymce.util.Delay");const Z=(e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},$=(e,t)=>{Z(e,t)},q=(e,t,n)=>{const o=j((()=>$(e,t)),n);e.on("init",(()=>{$(e,t),W.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",o.throttle)}),0),e.on("remove",o.cancel)}))},G=e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})};var K=(t=300)=>{e.add("wordcount",(e=>{const n=B(e);return V(e,n),G(e),q(e,n,t),n}))};K()}()},974:function(e,t,n){n(7658),function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n},o=e=>t=>n(t)===e,r=e=>t=>typeof t===e,i=e=>t=>e===t,a=(n,o)=>l(n)&&t(n,o,((t,n)=>e(t)===n)),s=o("string"),l=o("object"),c=e=>a(e,Object),u=o("array"),d=i(null),h=r("boolean"),m=i(void 0),p=e=>null===e||void 0===e,f=e=>!p(e),g=r("function"),v=r("number"),y=(e,t)=>{if(u(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},b=()=>{},w=e=>()=>e(),_=(e,t)=>(...n)=>e(t.apply(null,n)),x=(e,t)=>n=>e(t(n)),C=e=>()=>e,S=e=>e,k=(e,t)=>e===t;function E(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const T=e=>t=>!e(t),M=e=>()=>{throw new Error(e)},O=e=>e(),D=C(!1),A=C(!0);class R{constructor(e,t){this.tag=e,this.value=t}static some(e){return new R(!0,e)}static none(){return R.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?R.some(e(this.value)):R.none()}bind(e){return this.tag?e(this.value):R.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:R.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return f(e)?R.some(e):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const P=Array.prototype.slice,I=Array.prototype.indexOf,z=Array.prototype.push,N=(e,t)=>I.call(e,t),L=(e,t)=>{const n=N(e,t);return-1===n?R.none():R.some(n)},H=(e,t)=>N(e,t)>-1,F=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},B=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},U=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const r=P.call(e,o,o+t);n.push(r)}return n},V=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},j=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},W=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},Z=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r],a=t(i,r)?n:o;a.push(i)}return{pass:n,fail:o}},$=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},q=(e,t,n)=>(W(e,((e,o)=>{n=t(n,e,o)})),n),G=(e,t,n)=>(j(e,((e,o)=>{n=t(n,e,o)})),n),K=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return R.some(r);if(n(r,o))break}return R.none()},Y=(e,t)=>K(e,t,D),J=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return R.some(n)}return R.none()},X=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t},Q=(e,t)=>X(V(e,t)),ee=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},te=e=>{const t=P.call(e,0);return t.reverse(),t},ne=(e,t)=>$(e,(e=>!H(t,e))),oe=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},re=e=>[e],ie=(e,t)=>{const n=P.call(e,0);return n.sort(t),n},ae=(e,t)=>t>=0&&t<e.length?R.some(e[t]):R.none(),se=e=>ae(e,0),le=e=>ae(e,e.length-1),ce=g(Array.from)?Array.from:e=>P.call(e),ue=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return R.none()},de=Object.keys,he=Object.hasOwnProperty,me=(e,t)=>{const n=de(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},pe=(e,t)=>fe(e,((e,n)=>({k:n,v:t(e,n)}))),fe=(e,t)=>{const n={};return me(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ge=e=>(t,n)=>{e[n]=t},ve=(e,t,n,o)=>{me(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},ye=(e,t)=>{const n={},o={};return ve(e,t,ge(n),ge(o)),{t:n,f:o}},be=(e,t)=>{const n={};return ve(e,t,ge(n),b),n},we=(e,t)=>{const n=[];return me(e,((e,o)=>{n.push(t(e,o))})),n},_e=(e,t)=>{const n=de(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];if(t(i,r,e))return R.some(i)}return R.none()},xe=e=>we(e,S),Ce=(e,t)=>Se(e,t)?R.from(e[t]):R.none(),Se=(e,t)=>he.call(e,t),ke=(e,t)=>Se(e,t)&&void 0!==e[t]&&null!==e[t],Ee=(e,t,n=k)=>e.exists((e=>n(e,t))),Te=(e,t,n=k)=>De(e,t,n).getOr(e.isNone()&&t.isNone()),Me=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},Oe=e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return R.none();t.push(o.getOrDie())}return R.some(t)},De=(e,t,n)=>e.isSome()&&t.isSome()?R.some(n(e.getOrDie(),t.getOrDie())):R.none(),Ae=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?R.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):R.none(),Re=(e,t)=>void 0!==e&&null!==e?R.some(t(e)):R.none(),Pe=(e,t)=>e?R.some(t):R.none(),Ie=(e,t)=>e+t,ze=(e,t)=>e.substring(t),Ne=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Le=(e,t)=>Be(e,t)?ze(e,t.length):e,He=(e,t)=>Ue(e,t)?e:Ie(e,t),Fe=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!m(o)||r+t.length<=o)},Be=(e,t)=>Ne(e,t,0),Ue=(e,t)=>Ne(e,t,e.length-t.length),Ve=e=>t=>t.replace(e,""),je=Ve(/^\s+|\s+$/g),We=e=>e.length>0,Ze=e=>!We(e),$e=e=>void 0!==e.style&&g(e.style.getPropertyValue),qe=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Ye(o.childNodes[0])},Ge=(e,t)=>{const n=t||document,o=n.createElement(e);return Ye(o)},Ke=(e,t)=>{const n=t||document,o=n.createTextNode(e);return Ye(o)},Ye=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Je=(e,t,n)=>R.from(e.dom.elementFromPoint(t,n)).map(Ye),Xe={fromHtml:qe,fromTag:Ge,fromText:Ke,fromDom:Ye,fromPoint:Je},Qe="undefined"!==typeof window?window:Function("return this;")(),et=(e,t)=>{let n=void 0!==t&&null!==t?t:Qe;for(let o=0;o<e.length&&void 0!==n&&null!==n;++o)n=n[e[o]];return n},tt=(e,t)=>{const n=e.split(".");return et(n,t)},nt=(e,t)=>tt(e,t),ot=(e,t)=>{const n=nt(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},rt=Object.getPrototypeOf,it=e=>ot("HTMLElement",e),at=e=>{const t=tt("ownerDocument.defaultView",e);return l(e)&&(it(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(rt(e).constructor.name))},st=9,lt=11,ct=1,ut=3,dt=e=>{const t=e.dom.nodeName;return t.toLowerCase()},ht=e=>e.dom.nodeType,mt=e=>t=>ht(t)===e,pt=e=>ft(e)&&at(e.dom),ft=mt(ct),gt=mt(ut),vt=mt(st),yt=mt(lt),bt=e=>t=>ft(t)&&dt(t)===e,wt=(e,t)=>{const n=e.dom;if(n.nodeType!==ct)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},_t=e=>e.nodeType!==ct&&e.nodeType!==st&&e.nodeType!==lt||0===e.childElementCount,xt=(e,t)=>{const n=void 0===t?document:t.dom;return _t(n)?[]:V(n.querySelectorAll(e),Xe.fromDom)},Ct=(e,t)=>{const n=void 0===t?document:t.dom;return _t(n)?R.none():R.from(n.querySelector(e)).map(Xe.fromDom)},St=(e,t)=>e.dom===t.dom,kt=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Et=e=>Xe.fromDom(e.dom.ownerDocument),Tt=e=>vt(e)?e:Et(e),Mt=e=>Xe.fromDom(Tt(e).dom.documentElement),Ot=e=>Xe.fromDom(Tt(e).dom.defaultView),Dt=e=>R.from(e.dom.parentNode).map(Xe.fromDom),At=e=>R.from(e.dom.parentElement).map(Xe.fromDom),Rt=(e,t)=>{const n=g(t)?t:D;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=Xe.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Pt=e=>R.from(e.dom.offsetParent).map(Xe.fromDom),It=e=>R.from(e.dom.nextSibling).map(Xe.fromDom),zt=e=>V(e.dom.childNodes,Xe.fromDom),Nt=(e,t)=>{const n=e.dom.childNodes;return R.from(n[t]).map(Xe.fromDom)},Lt=e=>Nt(e,0),Ht=(e,t)=>({element:e,offset:t}),Ft=(e,t)=>{const n=zt(e);return n.length>0&&t<n.length?Ht(n[t],0):Ht(e,t)},Bt=e=>yt(e)&&f(e.dom.host),Ut=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode),Vt=C(Ut),jt=Ut?e=>Xe.fromDom(e.dom.getRootNode()):Tt,Wt=e=>Bt(e)?e:Xe.fromDom(Tt(e).dom.body),Zt=e=>$t(e).isSome(),$t=e=>{const t=jt(e);return Bt(t)?R.some(t):R.none()},qt=e=>Xe.fromDom(e.dom.host),Gt=e=>{if(Vt()&&f(e.target)){const t=Xe.fromDom(e.target);if(ft(t)&&Kt(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return se(t)}}return R.from(e.target)},Kt=e=>f(e.dom.shadowRoot),Yt=e=>{const t=gt(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return $t(Xe.fromDom(t)).fold((()=>n.body.contains(t)),x(Yt,qt))},Jt=()=>Xt(Xe.fromDom(document)),Xt=e=>{const t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Xe.fromDom(t)},Qt=(e,t,n)=>{if(!(s(n)||h(n)||v(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},en=(e,t,n)=>{Qt(e.dom,t,n)},tn=(e,t)=>{const n=e.dom;me(t,((e,t)=>{Qt(n,t,e)}))},nn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},on=(e,t)=>R.from(nn(e,t)),rn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},an=(e,t)=>{e.dom.removeAttribute(t)},sn=e=>G(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ln=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);$e(e)&&e.style.setProperty(t,n)},cn=(e,t)=>{$e(e)&&e.style.removeProperty(t)},un=(e,t,n)=>{const o=e.dom;ln(o,t,n)},dn=(e,t)=>{const n=e.dom;me(t,((e,t)=>{ln(n,t,e)}))},hn=(e,t)=>{const n=e.dom;me(t,((e,t)=>{e.fold((()=>{cn(n,t)}),(e=>{ln(n,t,e)}))}))},mn=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Yt(e)?r:pn(n,t)},pn=(e,t)=>$e(e)?e.style.getPropertyValue(t):"",fn=(e,t)=>{const n=e.dom,o=pn(n,t);return R.from(o).filter((e=>e.length>0))},gn=e=>{const t={},n=e.dom;if($e(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},vn=(e,t,n)=>{const o=Xe.fromTag(e);un(o,t,n);const r=fn(o,t);return r.isSome()},yn=(e,t)=>{const n=e.dom;cn(n,t),Ee(on(e,"style").map(je),"")&&an(e,"style")},bn=e=>e.dom.offsetWidth,wn=(e,t)=>{const n=(t,n)=>{if(!v(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;$e(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=mn(n,e);return parseFloat(t)||0}return o},r=o,i=(e,t)=>G(t,((t,n)=>{const o=mn(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),a=(e,t,n)=>{const o=i(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:i,max:a}},_n=wn("height",(e=>{const t=e.dom;return Yt(e)?t.getBoundingClientRect().height:t.offsetHeight})),xn=e=>_n.get(e),Cn=e=>_n.getOuter(e),Sn=(e,t)=>{const n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],o=_n.max(e,t,n);un(e,"max-height",o+"px")},kn=(e,t)=>{const n=(n,o)=>kn(e+n,t+o);return{left:e,top:t,translate:n}},En=kn,Tn=e=>{const t=e.getBoundingClientRect();return En(t.left,t.top)},Mn=(e,t)=>void 0!==e?e:void 0!==t?t:0,On=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return En(n.offsetLeft,n.offsetTop);const i=Mn(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),a=Mn(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),s=Mn(r.clientTop,n.clientTop),l=Mn(r.clientLeft,n.clientLeft);return Dn(e).translate(a-l,i-s)},Dn=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?En(o.offsetLeft,o.offsetTop):Yt(e)?Tn(t):En(0,0)},An=wn("width",(e=>e.dom.offsetWidth)),Rn=(e,t)=>An.set(e,t),Pn=e=>An.get(e),In=e=>An.getOuter(e),zn=(e,t)=>{const n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],o=An.max(e,t,n);un(e,"max-width",o+"px")},Nn=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ln=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),l=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:C(r),isiPhone:C(i),isTablet:C(l),isPhone:C(c),isTouch:C(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:C(u),isDesktop:C(d)}},Hn=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},Fn=(e,t)=>{const n=Hn(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Vn(o(1),o(2))},Bn=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Un():Fn(e,n)},Un=()=>Vn(0,0),Vn=(e,t)=>({major:e,minor:t}),jn={nu:Vn,detect:Bn,unknown:Un},Wn=(e,t)=>ue(t.brands,(t=>{const n=t.brand.toLowerCase();return Y(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:jn.nu(parseInt(t.version,10),0)})))})),Zn=(e,t)=>{const n=String(t).toLowerCase();return Y(e,(e=>e.search(n)))},$n=(e,t)=>Zn(e,t).map((e=>{const n=jn.detect(e.versionRegexes,t);return{current:e.name,version:n}})),qn=(e,t)=>Zn(e,t).map((e=>{const n=jn.detect(e.versionRegexes,t);return{current:e.name,version:n}})),Gn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kn=e=>t=>Fe(t,e),Yn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Fe(e,"edge/")&&Fe(e,"chrome")&&Fe(e,"safari")&&Fe(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Gn],search:e=>Fe(e,"chrome")&&!Fe(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Fe(e,"msie")||Fe(e,"trident")},{name:"Opera",versionRegexes:[Gn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kn("firefox")},{name:"Safari",versionRegexes:[Gn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Fe(e,"safari")||Fe(e,"mobile/"))&&Fe(e,"applewebkit")}],Jn=[{name:"Windows",search:Kn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Fe(e,"iphone")||Fe(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Kn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kn("linux"),versionRegexes:[]},{name:"Solaris",search:Kn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Xn={browsers:C(Yn),oses:C(Jn)},Qn="Edge",eo="Chromium",to="IE",no="Opera",oo="Firefox",ro="Safari",io=()=>ao({current:void 0,version:jn.unknown()}),ao=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Qn),isChromium:o(eo),isIE:o(to),isOpera:o(no),isFirefox:o(oo),isSafari:o(ro)}},so={unknown:io,nu:ao,edge:C(Qn),chromium:C(eo),ie:C(to),opera:C(no),firefox:C(oo),safari:C(ro)},lo="Windows",co="iOS",uo="Android",ho="Linux",mo="macOS",po="Solaris",fo="FreeBSD",go="ChromeOS",vo=()=>yo({current:void 0,version:jn.unknown()}),yo=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(lo),isiOS:o(co),isAndroid:o(uo),isMacOS:o(mo),isLinux:o(ho),isSolaris:o(po),isFreeBSD:o(fo),isChromeOS:o(go)}},bo={unknown:vo,nu:yo,windows:C(lo),ios:C(co),android:C(uo),linux:C(ho),macos:C(mo),solaris:C(po),freebsd:C(fo),chromeos:C(go)},wo=(e,t,n)=>{const o=Xn.browsers(),r=Xn.oses(),i=t.bind((e=>Wn(o,e))).orThunk((()=>$n(o,e))).fold(so.unknown,so.nu),a=qn(r,e).fold(bo.unknown,bo.nu),s=Ln(a,i,e,n);return{browser:i,os:a,deviceType:s}},_o={detect:wo},xo=e=>window.matchMedia(e).matches;let Co=Nn((()=>_o.detect(navigator.userAgent,R.from(navigator.userAgentData),xo)));const So=()=>Co(),ko=(e,t,n,o,r,i,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}),Eo=e=>{const t=Xe.fromDom(Gt(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=_(o,n);return ko(t,e.clientX,e.clientY,n,o,r,e)},To=(e,t)=>n=>{e(n)&&t(Eo(n))},Mo=(e,t,n,o,r)=>{const i=To(n,o);return e.dom.addEventListener(t,i,r),{unbind:E(Ao,e,t,i,r)}},Oo=(e,t,n,o)=>Mo(e,t,n,o,!1),Do=(e,t,n,o)=>Mo(e,t,n,o,!0),Ao=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Ro=(e,t)=>{const n=Dt(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Po=(e,t)=>{const n=It(e);n.fold((()=>{const n=Dt(e);n.each((e=>{zo(e,t)}))}),(e=>{Ro(e,t)}))},Io=(e,t)=>{const n=Lt(e);n.fold((()=>{zo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},zo=(e,t)=>{e.dom.appendChild(t.dom)},No=(e,t,n)=>{Nt(e,n).fold((()=>{zo(e,t)}),(e=>{Ro(e,t)}))},Lo=(e,t)=>{j(t,(t=>{zo(e,t)}))},Ho=e=>{e.dom.textContent="",j(zt(e),(e=>{Fo(e)}))},Fo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Bo=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return En(n,o)},Uo=(e,t,n)=>{const o=void 0!==n?n.dom:document,r=o.defaultView;r&&r.scrollTo(e,t)},Vo=e=>{const t=void 0===e?window:e;return So().browser.isFirefox()?R.none():R.from(t.visualViewport)},jo=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Wo=e=>{const t=void 0===e?window:e,n=t.document,o=Bo(Xe.fromDom(n));return Vo(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return jo(o.left,o.top,n,r)}),(e=>jo(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Zo=()=>Xe.fromDom(document),$o=(e,t)=>{const n=e.view(t);return n.fold(C([]),(t=>{const n=e.owner(t),o=$o(e,n);return[t].concat(o)}))},qo=(e,t)=>{const n=t.owner(e),o=$o(t,n);return R.some(o)},Go=e=>{var t;const n=e.dom===document?R.none():R.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(Xe.fromDom)},Ko=e=>Et(e);var Yo=Object.freeze({__proto__:null,view:Go,owner:Ko});const Jo=e=>{const t=Zo(),n=Bo(t),o=qo(e,Yo);return o.fold(E(On,e),(t=>{const o=Dn(e),r=q(t,((e,t)=>{const n=Dn(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return En(r.left+o.left+n.left,r.top+o.top+n.top)}))},Xo=(e,t,n)=>({point:e,width:t,height:n}),Qo=(e,t,n,o)=>({x:e,y:t,width:n,height:o}),er=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),tr=e=>{const t=On(e),n=In(e),o=Cn(e);return er(t.left,t.top,n,o)},nr=e=>{const t=Jo(e),n=In(e),o=Cn(e);return er(t.left,t.top,n,o)},or=(e,t)=>{const n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),r=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom),a=r-n,s=i-o;return er(n,o,a,s)},rr=(e,t)=>G(t,((e,t)=>or(e,t)),e),ir=()=>Wo(window);var ar=tinymce.util.Tools.resolve("tinymce.ThemeManager");const sr=e=>{const t=t=>t(e),n=C(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:A,isError:D,map:t=>ur.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>R.some(e)};return r},lr=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:D,isError:A,map:t,mapError:t=>ur.error(t(e)),bind:t,exists:D,forall:A,getOr:S,or:S,getOrThunk:O,orThunk:O,getOrDie:M(String(e)),each:b,toOptional:R.none};return n},cr=(e,t)=>e.fold((()=>lr(t)),sr),ur={value:sr,error:lr,fromOption:cr};var dr;(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(dr||(dr={}));const hr=(e,t,n)=>e.stype===dr.Error?t(e.serror):n(e.svalue),mr=e=>{const t=[],n=[];return j(e,(e=>{hr(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},pr=(e,t)=>e.stype===dr.Error?{stype:dr.Error,serror:t(e.serror)}:e,fr=(e,t)=>e.stype===dr.Value?{stype:dr.Value,svalue:t(e.svalue)}:e,gr=(e,t)=>e.stype===dr.Value?t(e.svalue):e,vr=(e,t)=>e.stype===dr.Error?t(e.serror):e,yr=e=>({stype:dr.Value,svalue:e}),br=e=>({stype:dr.Error,serror:e}),wr=e=>hr(e,ur.error,ur.value),_r=e=>e.fold(br,yr),xr={fromResult:_r,toResult:wr,svalue:yr,partition:mr,serror:br,bind:gr,bindError:vr,map:fr,mapError:pr,fold:hr},Cr=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),Sr=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),kr=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Er=(e,t)=>t,Tr=(e,t)=>{const n=c(e)&&c(t);return n?Or(e,t):t},Mr=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)Se(r,t)&&(n[t]=e(n[t],r[t]))}return n},Or=Mr(Tr),Dr=Mr(Er),Ar=()=>({tag:"required",process:{}}),Rr=e=>({tag:"defaultedThunk",process:e}),Pr=e=>Rr(C(e)),Ir=()=>({tag:"option",process:{}}),zr=e=>({tag:"mergeWithThunk",process:e}),Nr=e=>zr(C(e)),Lr=(e,t)=>e.length>0?xr.svalue(Or(t,Dr.apply(void 0,e))):xr.svalue(t),Hr=e=>_(xr.serror,X)(e),Fr=(e,t)=>{const n=xr.partition(e);return n.errors.length>0?Hr(n.errors):Lr(n.values,t)},Br=e=>{const t=xr.partition(e);return t.errors.length>0?Hr(t.errors):xr.svalue(t.values)},Ur={consolidateObj:Fr,consolidateArr:Br},Vr=e=>l(e)&&de(e).length>100?" removed due to size":JSON.stringify(e,null,2),jr=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:C("... (only showing first ten failures)")}]):e;return V(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))},Wr=(e,t)=>xr.serror([{path:e,getErrorInfo:t}]),Zr=(e,t,n)=>Wr(e,(()=>'Could not find valid *required* value for "'+t+'" in '+Vr(n))),$r=(e,t)=>Wr(e,(()=>'Choice schema did not contain choice key: "'+t+'"')),qr=(e,t,n)=>Wr(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+Vr(t))),Gr=(e,t)=>Wr(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")),Kr=(e,t)=>Wr(e,C(t)),Yr=e=>{const t=(t,n)=>xr.bindError(e(n),(e=>Kr(t,e))),n=C("val");return{extract:t,toString:n}},Jr=Yr(xr.svalue),Xr=(e,t,n,o)=>Ce(t,n).fold((()=>Zr(e,n,t)),o),Qr=(e,t,n,o)=>{const r=Ce(e,t).getOrThunk((()=>n(e)));return o(r)},ei=(e,t,n)=>n(Ce(e,t)),ti=(e,t,n,o)=>{const r=Ce(e,t).map((t=>!0===t?n(e):t));return o(r)},ni=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),a=e=>e.fold((()=>xr.svalue(R.none())),(e=>{const n=r.extract(t.concat([o]),e);return xr.map(n,R.some)}));switch(e.tag){case"required":return Xr(t,n,o,i);case"defaultedThunk":return Qr(n,o,e.process,i);case"option":return ei(n,o,a);case"defaultedOptionThunk":return ti(n,o,e.process,a);case"mergeWithThunk":return Qr(n,o,C({}),(t=>{const o=Or(e.process(n),t);return i(o)}))}},oi=(e,t,n)=>{const o={},r=[];for(const i of n)kr(i,((n,i,a,s)=>{const l=ni(a,e,t,n,s);xr.fold(l,(e=>{r.push(...e)}),(e=>{o[i]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?xr.serror(r):xr.svalue(o)},ri=e=>{const t=(t,n)=>e().extract(t,n),n=()=>e().toString();return{extract:t,toString:n}},ii=e=>de(be(e,f)),ai=e=>{const t=si(e),n=q(e,((e,t)=>kr(t,(t=>Or(e,{[t]:!0})),C(e))),{}),o=(e,o)=>{const r=h(o)?[]:ii(o),i=$(r,(e=>!ke(n,e)));return 0===i.length?t.extract(e,o):Gr(e,i)};return{extract:o,toString:t.toString}},si=e=>{const t=(t,n)=>oi(t,n,e),n=()=>{const t=V(e,(e=>kr(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},li=e=>{const t=(t,n)=>{const o=V(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return Ur.consolidateArr(o)},n=()=>"array("+e.toString()+")";return{extract:t,toString:n}},ci=(e,t)=>{const n=void 0!==t?t:S,o=(t,o)=>{const r=[];for(const i of e){const e=i.extract(t,o);if(e.stype===dr.Value)return{stype:dr.Value,svalue:n(e.svalue)};r.push(e)}return Ur.consolidateArr(r)},r=()=>"oneOf("+V(e,(e=>e.toString())).join(", ")+")";return{extract:o,toString:r}},ui=(e,t)=>{const n=(t,n)=>li(Yr(e)).extract(t,n),o=(e,o)=>{const r=de(o),i=n(e,r);return xr.bind(i,(n=>{const r=V(n,(e=>Cr(e,e,Ar(),t)));return si(r).extract(e,o)}))},r=()=>"setOf("+t.toString()+")";return{extract:o,toString:r}},di=(e,t)=>{const n=Nn(t),o=(e,t)=>n().extract(e,t),r=()=>n().toString();return{extract:o,toString:r}},hi=_(li,si),mi=C(Jr),pi=(e,t)=>Yr((n=>{const o=typeof n;return e(n)?xr.svalue(n):xr.serror(`Expected type: ${t} but got: ${o}`)})),fi=pi(v,"number"),gi=pi(s,"string"),vi=pi(h,"boolean"),yi=pi(g,"function"),bi=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>bi(e[t])));default:return!1}},wi=Yr((e=>bi(e)?xr.svalue(e):xr.serror("Expected value to be acceptable for sending via postMessage"))),_i=(e,t,n,o)=>{const r=Ce(n,o);return r.fold((()=>qr(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t)))},xi=(e,t)=>{const n=(n,o)=>{const r=Ce(o,e);return r.fold((()=>$r(n,e)),(e=>_i(n,o,t,e)))},o=()=>"chooseOn("+e+"). Possible values: "+de(t);return{extract:n,toString:o}},Ci=()=>li(Jr),Si=e=>Yr((t=>e(t).fold(xr.serror,xr.svalue))),ki=(e,t)=>ui((t=>xr.fromResult(e(t))),t),Ei=(e,t,n)=>{const o=t.extract([e],n);return xr.mapError(o,(e=>({input:n,errors:e})))},Ti=(e,t,n)=>xr.toResult(Ei(e,t,n)),Mi=e=>e.fold((e=>{throw new Error(Di(e))}),S),Oi=(e,t,n)=>Mi(Ti(e,t,n)),Di=e=>"Errors: \n"+jr(e.errors).join("\n")+"\n\nInput object: "+Vr(e.input),Ai=(e,t)=>xi(e,pe(t,si)),Ri=(e,t)=>di(e,t),Pi=Cr,Ii=Sr,zi=e=>Si((t=>H(e,t)?ur.value(t):ur.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),Ni=e=>Pi(e,e,Ar(),mi()),Li=(e,t)=>Pi(e,e,Ar(),t),Hi=e=>Li(e,fi),Fi=e=>Li(e,gi),Bi=(e,t)=>Pi(e,e,Ar(),zi(t)),Ui=e=>Li(e,vi),Vi=e=>Li(e,yi),ji=(e,t)=>Pi(e,e,Ir(),Yr((n=>xr.serror("The field: "+e+" is forbidden. "+t)))),Wi=(e,t)=>Pi(e,e,Ar(),si(t)),Zi=(e,t)=>Pi(e,e,Ar(),hi(t)),$i=(e,t)=>Pi(e,e,Ar(),li(t)),qi=e=>Pi(e,e,Ir(),mi()),Gi=(e,t)=>Pi(e,e,Ir(),t),Ki=e=>Gi(e,fi),Yi=e=>Gi(e,gi),Ji=(e,t)=>Gi(e,zi(t)),Xi=e=>Gi(e,yi),Qi=(e,t)=>Gi(e,li(t)),ea=(e,t)=>Gi(e,si(t)),ta=(e,t)=>Gi(e,ai(t)),na=(e,t)=>Pi(e,e,Pr(t),mi()),oa=(e,t,n)=>Pi(e,e,Pr(t),n),ra=(e,t)=>oa(e,t,fi),ia=(e,t)=>oa(e,t,gi),aa=(e,t,n)=>oa(e,t,zi(n)),sa=(e,t)=>oa(e,t,vi),la=(e,t)=>oa(e,t,yi),ca=(e,t)=>oa(e,t,wi),ua=(e,t,n)=>oa(e,t,li(n)),da=(e,t,n)=>oa(e,t,si(n)),ha=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},ma=e=>{if(!u(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return j(e,((o,r)=>{const i=de(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],s=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!u(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+o);const i=e=>{const o=de(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=ee(t,(e=>H(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:i,log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},pa={generate:ma};pa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const fa=e=>{const t=[],n=[];return j(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}},ga=(e,t)=>{const n={};return me(e,((e,o)=>{H(t,o)||(n[o]=e)})),n},va=(e,t)=>({[e]:t}),ya=e=>{const t={};return j(e,(e=>{t[e.key]=e.value})),t},ba=(e,t)=>ga(e,t),wa=(e,t)=>va(e,t),_a=e=>ya(e),xa=(e,t)=>0===e.length?ur.value(t):ur.value(Or(t,Dr.apply(void 0,e))),Ca=e=>ur.error(X(e)),Sa=(e,t)=>{const n=fa(e);return n.errors.length>0?Ca(n.errors):xa(n.values,t)},ka=e=>g(e)?e:D,Ea=(e,t,n)=>{let o=e.dom;const r=ka(n);while(o.parentNode){o=o.parentNode;const e=Xe.fromDom(o),n=t(e);if(n.isSome())return n;if(r(e))break}return R.none()},Ta=(e,t,n)=>{const o=t(e),r=ka(n);return o.orThunk((()=>r(e)?R.none():Ea(e,t,r)))},Ma=(e,t)=>St(e.element,t.event.target),Oa={can:A,abort:D,run:b},Da=e=>{if(!ke(e,"can")&&!ke(e,"abort")&&!ke(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Oa,...e}},Aa=(e,t)=>(...n)=>G(e,((e,o)=>e&&t(o).apply(void 0,n)),!0),Ra=(e,t)=>(...n)=>G(e,((e,o)=>e||t(o).apply(void 0,n)),!1),Pa=e=>g(e)?{can:A,abort:D,run:e}:e,Ia=e=>{const t=Aa(e,(e=>e.can)),n=Ra(e,(e=>e.abort)),o=(...t)=>{j(e,(e=>{e.run.apply(void 0,t)}))};return{can:t,abort:n,run:o}},za=C,Na=za("touchstart"),La=za("touchmove"),Ha=za("touchend"),Fa=za("touchcancel"),Ba=za("mousedown"),Ua=za("mousemove"),Va=za("mouseout"),ja=za("mouseup"),Wa=za("mouseover"),Za=za("focusin"),$a=za("focusout"),qa=za("keydown"),Ga=za("keyup"),Ka=za("input"),Ya=za("change"),Ja=za("click"),Xa=za("transitioncancel"),Qa=za("transitionend"),es=za("transitionstart"),ts=za("selectstart"),ns=e=>C("alloy."+e),os={tap:ns("tap")},rs=ns("focus"),is=ns("blur.post"),as=ns("paste.post"),ss=ns("receive"),ls=ns("execute"),cs=ns("focus.item"),us=os.tap,ds=ns("longpress"),hs=ns("sandbox.close"),ms=ns("typeahead.cancel"),ps=ns("system.init"),fs=ns("system.touchmove"),gs=ns("system.touchend"),vs=ns("system.scroll"),ys=ns("system.resize"),bs=ns("system.attached"),ws=ns("system.detached"),_s=ns("system.dismissRequested"),xs=ns("system.repositionRequested"),Cs=ns("focusmanager.shifted"),Ss=ns("slotcontainer.visibility"),ks=ns("system.external.element.scroll"),Es=ns("change.tab"),Ts=ns("dismiss.tab"),Ms=ns("highlight"),Os=ns("dehighlight"),Ds=(e,t)=>{Is(e,e.element,t,{})},As=(e,t,n)=>{Is(e,e.element,t,n)},Rs=e=>{Ds(e,ls())},Ps=(e,t,n)=>{Is(e,t,n,{})},Is=(e,t,n,o)=>{const r={target:t,...o};e.getSystem().triggerEvent(n,t,r)},zs=(e,t,n,o)=>{const r={...o,target:t};e.getSystem().triggerEvent(n,t,r)},Ns=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Ls=e=>_a(e),Hs=(e,t)=>({key:e,value:Da({abort:t})}),Fs=(e,t)=>({key:e,value:Da({can:t})}),Bs=e=>({key:e,value:Da({run:(e,t)=>{t.event.prevent()}})}),Us=(e,t)=>({key:e,value:Da({run:t})}),Vs=(e,t,n)=>({key:e,value:Da({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),js=e=>t=>Us(e,t),Ws=e=>t=>({key:e,value:Da({run:(e,n)=>{Ma(e,n)&&t(e,n)}})}),Zs=(e,t)=>Us(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{Ns(t,t.element,e,o)}))})),$s=(e,t,n)=>{const o=t.partUids[n];return Zs(e,o)},qs=(e,t)=>Us(e,((e,n)=>{const o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((()=>{const t=Ta(o.target,(t=>e.getSystem().getByDom(t).toOptional()),D);return t.getOr(e)}));t(e,r,n)})),Gs=e=>Us(e,((e,t)=>{t.cut()})),Ks=e=>Us(e,((e,t)=>{t.stop()})),Ys=(e,t)=>Ws(e)(t),Js=Ws(bs()),Xs=Ws(ws()),Qs=Ws(ps()),el=js(ls()),tl=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,zt(Xe.fromDom(o))},nl=e=>e.dom.innerHTML,ol=(e,t)=>{const n=Et(e),o=n.dom,r=Xe.fromDom(o.createDocumentFragment()),i=tl(t,o);Lo(r,i),Ho(e),zo(e,r)},rl=e=>{const t=Xe.fromTag("div"),n=Xe.fromDom(e.dom.cloneNode(!0));return zo(t,n),nl(t)},il=(e,t)=>Xe.fromDom(e.dom.cloneNode(t)),al=e=>il(e,!1),sl=e=>{if(Bt(e))return"#shadow-root";{const t=al(e);return rl(t)}},ll=e=>sl(e),cl=(e,t,n)=>St(t,e.element)&&!St(t,n),ul=Ls([Fs(rs(),((e,t)=>{const n=t.event,o=n.originator,r=n.target;return!cl(e,o,r)||(console.warn(rs()+" did not get interpreted by the desired target. \nOriginator: "+ll(o)+"\nTarget: "+ll(r)+"\nCheck the "+rs()+" event handlers"),!1)}))]);var dl=Object.freeze({__proto__:null,events:ul});let hl=0;const ml=e=>{const t=new Date,n=t.getTime(),o=Math.floor(1e9*Math.random());return hl++,e+"_"+o+hl+String(n)},pl=C("alloy-id-"),fl=C("data-alloy-id"),gl=pl(),vl=fl(),yl=(e,t)=>{const n=ml(gl+e);return bl(t,n),n},bl=(e,t)=>{Object.defineProperty(e.dom,vl,{value:t,writable:!0})},wl=e=>{const t=ft(e)?e.dom[vl]:null;return R.from(t)},_l=e=>ml(e),xl=S,Cl=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+ll(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:C("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:D}},Sl=Cl(),kl=(e,t,n)=>{const o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:El(a.slice(0,1).concat(a.slice(3)))}),e},El=e=>V(e,(e=>Ue(e,"/*")?e.substring(0,e.length-2):e)),Tl=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:El(i)}),e},Ml=(e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:El(i.slice(1))}),e},Ol=ml("alloy-premade"),Dl=e=>(Object.defineProperty(e.element.dom,Ol,{value:e.uid,writable:!0}),wa(Ol,e)),Al=e=>Se(e.dom,Ol),Rl=e=>Ce(e,Ol),Pl=e=>Ml(((t,...n)=>e(t.getApis(),t,...n)),e),Il={init:()=>zl({readState:C("No State required")})},zl=e=>e,Nl=(e,t)=>{const n=V(t,(e=>ea(e.name(),[Ni("config"),na("state",Il)]))),o=Ti("component.behaviours",si(n),e.behaviours).fold((t=>{throw new Error(Di(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),S);return{list:t,data:pe(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return C(t)}))}},Ll=e=>e.list,Hl=e=>e.data,Fl=(e,t)=>{const n={};return me(e,((e,o)=>{me(e,((e,r)=>{const i=Ce(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},Bl=e=>({classes:m(e.classes)?[]:e.classes,attributes:m(e.attributes)?{}:e.attributes,styles:m(e.styles)?{}:e.styles}),Ul=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),Vl=(e,t,n,o)=>{const r={...t};j(n,(t=>{r[t.name()]=t.exhibit(e,o)}));const i=Fl(r,((e,t)=>({name:e,modification:t}))),a=e=>q(e,((e,t)=>({...t.modification,...e})),{}),s=q(i.classes,((e,t)=>t.modification.concat(e)),[]),l=a(i.attributes),c=a(i.styles);return Bl({classes:s,attributes:l,styles:c})},jl=(e,t,n,o)=>{try{const r=ie(n,((n,r)=>{const i=n[t],a=r[t],s=o.indexOf(i),l=o.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(o,null,2));return s<l?-1:l<s?1:0}));return ur.value(r)}catch(r){return ur.error([r])}},Wl=(e,t)=>({handler:e,purpose:t}),Zl=(e,t)=>({cHandler:e,purpose:t}),$l=(e,t)=>Zl(E.apply(void 0,[e.handler].concat(t)),e.purpose),ql=e=>e.cHandler,Gl=(e,t)=>({name:e,handler:t}),Kl=(e,t)=>{const n={};return j(e,(e=>{n[e.name()]=e.handlers(t)})),n},Yl=(e,t,n)=>{const o={...n,...Kl(t,e)};return Fl(o,Gl)},Jl=(e,t,n,o)=>{const r=Yl(e,n,o);return tc(r,t)},Xl=e=>{const t=Pa(e);return(e,n,...o)=>{const r=[e,n].concat(o);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}},Ql=(e,t)=>ur.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(V(t,(e=>e.name)),null,2)]),ec=(e,t,n)=>{const o=t[n];return o?jl("Event: "+n,"name",e,o).map((e=>{const t=V(e,(e=>e.handler));return Ia(t)})):Ql(n,e)},tc=(e,t)=>{const n=we(e,((e,n)=>{const o=1===e.length?ur.value(e[0].handler):ec(e,t,n);return o.map((o=>{const r=Xl(o),i=e.length>1?$(t[n],(t=>F(e,(e=>e.name===t)))).join(" > "):e[0].name;return wa(n,Wl(r,i))}))}));return Sa(n,{})},nc="alloy.base.behaviour",oc=si([Pi("dom","dom",Ar(),si([Ni("tag"),na("styles",{}),na("classes",[]),na("attributes",{}),qi("value"),qi("innerHtml")])),Ni("components"),Ni("uid"),na("events",{}),na("apis",{}),Pi("eventOrder","eventOrder",Nr({[ls()]:["disabling",nc,"toggling","typeaheadevents"],[rs()]:[nc,"focusing","keying"],[ps()]:[nc,"disabling","toggling","representing"],[Ka()]:[nc,"representing","streaming","invalidating"],[ws()]:[nc,"representing","item-events","tooltipping"],[Ba()]:["focusing",nc,"item-type-events"],[Na()]:["focusing",nc,"item-type-events"],[Wa()]:["item-type-events","tooltipping"],[ss()]:["receiving","reflecting","tooltipping"]}),mi()),qi("domModification")]),rc=e=>Ti("custom.definition",oc,e),ic=e=>({...e.dom,uid:e.uid,domChildren:V(e.components,(e=>e.element))}),ac=e=>e.domModification.fold((()=>Bl({})),Bl),sc=e=>e.events,lc=(e,t)=>{const n=nn(e,t);return void 0===n||""===n?[]:n.split(" ")},cc=(e,t,n)=>{const o=lc(e,t),r=o.concat([n]);return en(e,t,r.join(" ")),!0},uc=(e,t,n)=>{const o=$(lc(e,t),(e=>e!==n));return o.length>0?en(e,t,o.join(" ")):an(e,t),!1},dc=e=>void 0!==e.dom.classList,hc=e=>lc(e,"class"),mc=(e,t)=>cc(e,"class",t),pc=(e,t)=>uc(e,"class",t),fc=(e,t)=>{dc(e)?e.dom.classList.add(t):mc(e,t)},gc=e=>{const t=dc(e)?e.dom.classList:hc(e);0===t.length&&an(e,"class")},vc=(e,t)=>{if(dc(e)){const n=e.dom.classList;n.remove(t)}else pc(e,t);gc(e)},yc=(e,t)=>dc(e)&&e.dom.classList.contains(t),bc=(e,t)=>{j(t,(t=>{fc(e,t)}))},wc=(e,t)=>{j(t,(t=>{vc(e,t)}))},_c=(e,t)=>ee(t,(t=>yc(e,t))),xc=e=>{const t=e.dom.classList,n=new Array(t.length);for(let o=0;o<t.length;o++){const e=t.item(o);null!==e&&(n[o]=e)}return n},Cc=e=>dc(e)?xc(e):hc(e),Sc=e=>e.dom.value,kc=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ec=(e,t,n)=>{const o=Nt(e,t);return o.map((e=>{const t=n.exists((t=>!St(t,e)));if(t){const t=n.map(dt).getOr("span"),o=Xe.fromTag(t);return Ro(e,o),o}return e}))},Tc=(e,t,n)=>{n.fold((()=>zo(e,t)),(e=>{St(e,t)||(Ro(e,t),Fo(e))}))},Mc=(e,t,n)=>{const o=V(t,n),r=zt(e);return j(r.slice(o.length),Fo),o},Oc=(e,t,n,o)=>{const r=Nt(e,t),i=o(n,r),a=Ec(e,t,r);return Tc(e,i.element,a),i},Dc=(e,t,n)=>Mc(e,t,((t,o)=>Oc(e,o,t,n))),Ac=(e,t)=>Mc(e,t,((t,n)=>{const o=Nt(e,n);return Tc(e,t,o),t})),Rc=(e,t)=>{const n=de(e),o=de(t),r=ne(o,n),i=ye(e,((e,n)=>!Se(t,n)||e!==t[n])).t;return{toRemove:r,toSet:i}},Pc=(e,t)=>{const{class:n,style:o,...r}=sn(t),{toSet:i,toRemove:a}=Rc(e.attributes,r),s=()=>{j(a,(e=>an(t,e))),tn(t,i)},l=gn(t),{toSet:c,toRemove:u}=Rc(e.styles,l),d=()=>{j(u,(e=>yn(t,e))),dn(t,c)},h=Cc(t),m=ne(h,e.classes),p=ne(e.classes,h),f=()=>{bc(t,p),wc(t,m)},g=e=>{ol(t,e)},v=()=>{const n=e.domChildren;Ac(t,n)},y=()=>{const n=t,o=e.value.getOrUndefined();o!==Sc(n)&&kc(n,null!==o&&void 0!==o?o:"")};return s(),f(),d(),e.innerHtml.fold(v,g),y(),t},Ic=e=>{const t=Xe.fromTag(e.tag);tn(t,e.attributes),bc(t,e.classes),dn(t,e.styles),e.innerHtml.each((e=>ol(t,e)));const n=e.domChildren;return Lo(t,n),e.value.each((e=>{kc(t,e)})),t},zc=(e,t)=>{try{const n=Pc(e,t);return R.some(n)}catch(n){return R.none()}},Nc=e=>e.innerHtml.isSome()&&e.domChildren.length>0,Lc=(e,t)=>{const n=t=>dt(t)===e.tag&&!Nc(e)&&!Al(t),o=t.filter(n).bind((t=>zc(e,t))).getOrThunk((()=>Ic(e)));return bl(o,e.uid),o},Hc=e=>{const t=Ce(e,"behaviours").getOr({});return Q(de(t),(e=>{const n=t[e];return f(n)?[n.me]:[]}))},Fc=(e,t)=>Nl(e,t),Bc=e=>{const t=Hc(e);return Fc(e,t)},Uc=(e,t,n)=>{const o=ic(e),r=ac(e),i={"alloy.base.modification":r},a=t.length>0?Vl(n,i,t,o):r;return Ul(o,a)},Vc=(e,t,n)=>{const o={"alloy.base.behaviour":sc(e)};return Jl(n,e.eventOrder,t,o).getOrDie()},jc=(e,t)=>{const n=()=>w,o=ha(Sl),r=Mi(rc(e)),i=Bc(e),a=Ll(i),s=Hl(i),l=Uc(r,a,s),c=Lc(l,t),u=Vc(r,a,s),d=ha(r.components),h=e=>{o.set(e)},m=()=>{o.set(Cl(n))},p=()=>{const e=zt(c),t=Q(e,(e=>o.get().getByDom(e).fold((()=>[]),re)));d.set(t)},f=t=>{const n=s,o=g(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return o()},v=e=>g(s[e.name()]),y=()=>r.apis,b=e=>s[e]().map((e=>e.state.readState())).getOr("not enabled"),w={uid:e.uid,getSystem:o.get,config:f,hasConfigured:v,spec:e,readState:b,getApis:y,connect:h,disconnect:m,element:c,syncComponents:p,components:d.get,events:u};return w},Wc=(e,t)=>{const n=Ce(e,"components").getOr([]);return t.fold((()=>V(n,Jc)),(e=>V(n,((t,n)=>Yc(t,Nt(e,n))))))},Zc=(e,t)=>{const{events:n,...o}=xl(e),r=Wc(o,t),i={...o,events:{...dl,...n},components:r};return ur.value(jc(i,t))},$c=e=>{const t=Xe.fromText(e);return qc({element:t})},qc=e=>{const t=Oi("external.component",ai([Ni("element"),qi("uid")]),e),n=ha(Cl()),o=e=>{n.set(e)},r=()=>{n.set(Cl((()=>a)))},i=t.uid.getOrThunk((()=>_l("external")));bl(t.element,i);const a={uid:i,getSystem:n.get,config:R.none,hasConfigured:D,connect:o,disconnect:r,getApis:()=>({}),element:t.element,spec:e,readState:C("No state"),syncComponents:b,components:C([]),events:{}};return Dl(a)},Gc=_l,Kc=e=>Se(e,"uid"),Yc=(e,t)=>Rl(e).getOrThunk((()=>{const n=Kc(e)?e:{uid:Gc(""),...e};return Zc(n,t).getOrDie()})),Jc=e=>Yc(e,R.none()),Xc=Dl;var Qc=(e,t,n,o,r)=>e(n,o)?R.some(n):g(r)&&r(n)?R.none():t(n,o,r);const eu=(e,t,n)=>{let o=e.dom;const r=g(n)?n:D;while(o.parentNode){o=o.parentNode;const e=Xe.fromDom(o);if(t(e))return R.some(e);if(r(e))break}return R.none()},tu=(e,t,n)=>{const o=(e,t)=>t(e);return Qc(o,eu,e,t,n)},nu=(e,t)=>{const n=e=>t(Xe.fromDom(e)),o=Y(e.dom.childNodes,n);return o.map(Xe.fromDom)},ou=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Xe.fromDom(e.childNodes[o]);if(t(r))return R.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return R.none()};return n(e.dom)},ru=(e,t,n)=>tu(e,t,n).isSome(),iu=(e,t,n)=>eu(e,(e=>wt(e,t)),n),au=(e,t)=>nu(e,(e=>wt(e,t))),su=(e,t)=>Ct(t,e),lu=(e,t,n)=>{const o=(e,t)=>wt(e,t);return Qc(o,iu,e,t,n)},cu="aria-controls",uu=e=>{const t=tu(e,(e=>{if(!ft(e))return!1;const t=nn(e,"id");return void 0!==t&&t.indexOf(cu)>-1}));return t.bind((e=>{const t=nn(e,"id"),n=jt(e);return su(n,`[${cu}="${t}"]`)}))},du=()=>{const e=ml(cu),t=t=>{en(t,cu,e)},n=e=>{an(e,cu)};return{id:e,link:t,unlink:n}},hu=(e,t)=>uu(t).exists((t=>mu(e,t))),mu=(e,t)=>ru(t,(t=>St(t,e.element)),D)||hu(e,t),pu="unknown";var fu;(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(fu||(fu={}));const gu=ha({}),vu=(e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const r=(new Date).getTime();H(["mousemove","mouseover","mouseout",ps()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:V(n,(e=>H(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+ll(e.target)+")":e.outcome))})}}},yu=(e,t,n)=>{const o=Ce(gu.get(),e).orThunk((()=>{const t=de(gu.get());return ue(t,(t=>e.indexOf(t)>-1?R.some(gu.get()[t]):R.none()))})).getOr(fu.NORMAL);switch(o){case fu.NORMAL:return n(Cu());case fu.LOGGING:{const o=vu(e,t),r=n(o);return o.write(),r}case fu.STOP:return!0}},bu=["alloy/data/Fields","alloy/debugging/Debugging"],wu=()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");return Y(t,(e=>e.indexOf("alloy")>0&&!F(bu,(t=>e.indexOf(t)>-1)))).getOr(pu)}return pu},_u={logEventCut:b,logEventStopped:b,logNoParent:b,logEventNoHandlers:b,logEventResponse:b,write:b},xu=(e,t,n)=>yu(e,t,n),Cu=C(_u),Su=C([Ni("menu"),Ni("selectedMenu")]),ku=C([Ni("item"),Ni("selectedItem")]);C(si(ku().concat(Su())));const Eu=C(si(ku())),Tu=Wi("initSize",[Ni("numColumns"),Ni("numRows")]),Mu=()=>Li("markers",Eu()),Ou=()=>Wi("markers",[Ni("backgroundMenu")].concat(Su()).concat(ku())),Du=e=>Wi("markers",V(e,Ni)),Au=(e,t,n)=>(wu(),Pi(t,t,n,Si((e=>ur.value(((...t)=>e.apply(void 0,t))))))),Ru=e=>Au("onHandler",e,Pr(b)),Pu=e=>Au("onKeyboardHandler",e,Pr(R.none)),Iu=e=>Au("onHandler",e,Ar()),zu=e=>Au("onKeyboardHandler",e,Ar()),Nu=(e,t)=>Ii(e,C(t)),Lu=e=>Ii(e,S),Hu=C(Tu),Fu=(e,t,n,o,r,i,a,s=!1)=>({x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:`${a}-${r}`,alwaysFit:s}),Bu=pa.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Uu=(e,t,n,o,r,i,a,s,l)=>e.fold(t,n,o,r,i,a,s,l),Vu=(e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n),ju=(e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o),Wu=Bu.southeast,Zu=Bu.southwest,$u=Bu.northeast,qu=Bu.northwest,Gu=Bu.south,Ku=Bu.north,Yu=Bu.east,Ju=Bu.west,Xu=(e,t,n,o)=>{const r=e+t;return r>o?n:r<n?o:r},Qu=(e,t,n)=>Math.min(Math.max(e,t),n),ed=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},td=(e,t)=>oe(["left","right","top","bottom"],(n=>Ce(t,n).map((t=>ed(e,t))))),nd=(e,t,n)=>{const o=(o,r)=>t[o].map((t=>{const i="top"===o||"bottom"===o,a=i?n.top:n.left,s="left"===o||"top"===o?Math.max:Math.min,l=s(t,r)+a;return i?Qu(l,e.y,e.bottom):Qu(l,e.x,e.right)})).getOr(r),r=o("left",e.x),i=o("top",e.y),a=o("right",e.right),s=o("bottom",e.bottom);return er(r,i,a-r,s-i)},od="layout",rd=e=>e.x,id=(e,t)=>e.x+e.width/2-t.width/2,ad=(e,t)=>e.x+e.width-t.width,sd=(e,t)=>e.y-t.height,ld=e=>e.y+e.height,cd=(e,t)=>e.y+e.height/2-t.height/2,ud=e=>e.x+e.width,dd=(e,t)=>e.x-t.width,hd=(e,t,n)=>Fu(rd(e),ld(e),n.southeast(),Wu(),"southeast",td(e,{left:1,top:3}),od),md=(e,t,n)=>Fu(ad(e,t),ld(e),n.southwest(),Zu(),"southwest",td(e,{right:0,top:3}),od),pd=(e,t,n)=>Fu(rd(e),sd(e,t),n.northeast(),$u(),"northeast",td(e,{left:1,bottom:2}),od),fd=(e,t,n)=>Fu(ad(e,t),sd(e,t),n.northwest(),qu(),"northwest",td(e,{right:0,bottom:2}),od),gd=(e,t,n)=>Fu(id(e,t),sd(e,t),n.north(),Ku(),"north",td(e,{bottom:2}),od),vd=(e,t,n)=>Fu(id(e,t),ld(e),n.south(),Gu(),"south",td(e,{top:3}),od),yd=(e,t,n)=>Fu(ud(e),cd(e,t),n.east(),Yu(),"east",td(e,{left:0}),od),bd=(e,t,n)=>Fu(dd(e,t),cd(e,t),n.west(),Ju(),"west",td(e,{right:1}),od),wd=()=>[hd,md,pd,fd,vd,gd,yd,bd],_d=()=>[md,hd,fd,pd,vd,gd,yd,bd],xd=()=>[pd,fd,hd,md,gd,vd],Cd=()=>[fd,pd,md,hd,gd,vd],Sd=()=>[hd,md,pd,fd,vd,gd],kd=()=>[md,hd,fd,pd,vd,gd],Ed=(e,t)=>t.universal?e:$(e,(e=>H(t.channels,e))),Td=e=>Ls([Us(ss(),((t,n)=>{const o=e.channels,r=de(o),i=n,a=Ed(r,i);j(a,(e=>{const n=o[e],r=n.schema,a=Oi("channel["+e+"] data\nReceiver: "+ll(t.element),r,i.data);n.onReceive(t,a)}))}))]);var Md=Object.freeze({__proto__:null,events:Td}),Od=[Li("channels",ki(ur.value,ai([Iu("onReceive"),na("schema",mi())])))];const Dd=(e,t,n)=>el((o=>{n(o,e,t)})),Ad=(e,t,n)=>Qs(((o,r)=>{n(o,e,t)})),Rd=(e,t,n,o,r,i)=>{const a=ai(e),s=ea(t,[ta("config",e)]);return Nd(a,s,t,n,o,r,i)},Pd=(e,t,n,o,r,i)=>{const a=e,s=ea(t,[Gi("config",e)]);return Nd(a,s,t,n,o,r,i)},Id=(e,t,n)=>{const o=(o,...r)=>{const i=[o].concat(r);return o.config({name:C(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(i,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))};return kl(o,n,t)},zd=e=>({key:e,value:void 0}),Nd=(e,t,n,o,r,i,a)=>{const s=e=>ke(e,n)?e[n]():R.none(),l=pe(r,((e,t)=>Id(n,e,t))),c=pe(i,((e,t)=>Tl(e,t))),u={...c,...l,revoke:E(zd,n),config:t=>{const o=Oi(n+"-config",e,t);return{key:n,value:{config:o,me:u,configAsRaw:Nn((()=>Oi(n+"-config",e,t))),initialConfig:t,state:a}}},schema:C(t),exhibit:(e,t)=>De(s(e),Ce(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Bl({}))),name:C(n),handlers:e=>s(e).map((e=>{const t=Ce(o,"events").getOr((()=>({})));return t(e.config,e.state)})).getOr({})};return u},Ld=e=>_a(e),Hd=ai([Ni("fields"),Ni("name"),na("active",{}),na("apis",{}),na("state",Il),na("extra",{})]),Fd=e=>{const t=Oi("Creating behaviour: "+e.name,Hd,e);return Rd(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Bd=ai([Ni("branchKey"),Ni("branches"),Ni("name"),na("active",{}),na("apis",{}),na("state",Il),na("extra",{})]),Ud=e=>{const t=Oi("Creating behaviour: "+e.name,Bd,e);return Pd(Ai(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Vd=C(void 0),jd=Fd({fields:Od,name:"receiving",active:Md}),Wd=(e,t)=>Bl({classes:[],styles:t.useFixed()?{}:{position:"relative"}});var Zd=Object.freeze({__proto__:null,exhibit:Wd});const $d=e=>e.dom.focus(),qd=e=>e.dom.blur(),Gd=e=>{const t=jt(e).dom;return e.dom===t.activeElement},Kd=(e=Zo())=>R.from(e.dom.activeElement).map(Xe.fromDom),Yd=e=>Kd(jt(e)).filter((t=>e.dom.contains(t.dom))),Jd=(e,t)=>{const n=jt(t),o=Kd(n).bind((e=>{const n=t=>St(e,t);return n(t)?R.some(t):ou(t,n)})),r=e(t);return o.each((e=>{Kd(n).filter((t=>St(t,e))).fold((()=>{$d(e)}),b)})),r},Xd=(e,t,n,o,r)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},Qd=e=>({...e,position:R.some(e.position)}),eh=(e,t)=>{hn(e,Qd(t))},th=pa.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),nh=(e,t,n,o,r,i)=>{const a=t.rect,s=a.x-n,l=a.y-o,c=a.width,u=a.height,d=r-(s+c),h=i-(l+u),m=R.some(s),p=R.some(l),f=R.some(d),g=R.some(h),v=R.none();return Uu(t.direction,(()=>Xd(e,m,p,v,v)),(()=>Xd(e,v,p,f,v)),(()=>Xd(e,m,v,v,g)),(()=>Xd(e,v,v,f,g)),(()=>Xd(e,m,p,v,v)),(()=>Xd(e,m,v,v,g)),(()=>Xd(e,m,p,v,v)),(()=>Xd(e,v,p,f,v)))},oh=(e,t)=>e.fold((()=>{const e=t.rect;return Xd("absolute",R.some(e.x),R.some(e.y),R.none(),R.none())}),((e,n,o,r)=>nh("absolute",t,e,n,o,r)),((e,n,o,r)=>nh("fixed",t,e,n,o,r))),rh=(e,t)=>{const n=E(Jo,t),o=e.fold(n,n,(()=>{const e=Bo();return Jo(t).translate(-e.left,-e.top)})),r=In(t),i=Cn(t);return er(o.left,o.top,r,i)},ih=(e,t)=>t.fold((()=>e.fold(ir,ir,er)),(t=>e.fold(C(t),C(t),(()=>{const n=ah(e,t.x,t.y);return er(n.left,n.top,t.width,t.height)})))),ah=(e,t,n)=>{const o=En(t,n),r=()=>{const e=Bo();return o.translate(-e.left,-e.top)};return e.fold(C(o),C(o),r)},sh=(e,t,n,o)=>e.fold(t,n,o);th.none;const lh=th.relative,ch=th.fixed,uh=(e,t)=>({anchorBox:e,origin:t}),dh=(e,t)=>uh(e,t),hh="data-alloy-placement",mh=(e,t)=>{en(e,hh,t)},ph=e=>on(e,hh),fh=e=>an(e,hh),gh=pa.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),vh=(e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:a,y:s,right:l,bottom:c,width:u,height:d}=e,h=a>=n&&a<=r,m=s>=o&&s<=i,p=h&&m,f=l<=r&&l>=n,g=c<=i&&c>=o,v=f&&g,y=Math.min(u,a>=n?r-a:l-n),b=Math.min(d,s>=o?i-s:c-o);return{originInBounds:p,sizeInBounds:v,visibleW:y,visibleH:b}},yh=(e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:a,y:s,width:l,height:c}=e,u=Math.max(n,r-l),d=Math.max(o,i-c),h=Qu(a,n,u),m=Qu(s,o,d),p=Math.min(h+l,r)-h,f=Math.min(m+c,i)-m;return er(h,m,p,f)},bh=(e,t,n)=>{const o=C(t.bottom-n.y),r=C(n.bottom-t.y),i=Vu(e,r,r,o),a=C(t.right-n.x),s=C(n.right-t.x),l=ju(e,s,s,a);return{maxWidth:l,maxHeight:i}},wh=(e,t,n,o)=>{const r=e.bubble,i=r.offset,a=nd(o,e.restriction,i),s=e.x+i.left,l=e.y+i.top,c=er(s,l,t,n),{originInBounds:u,sizeInBounds:d,visibleW:h,visibleH:m}=vh(c,a),p=u&&d,f=p?c:yh(c,a),g=f.width>0&&f.height>0,{maxWidth:v,maxHeight:y}=bh(e.direction,f,o),b={rect:f,maxHeight:y,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:l};return p||e.alwaysFit?gh.fit(b):gh.nofit(b,h,m,g)},_h=(e,t,n,o,r,i)=>{const a=o.width,s=o.height,l=(t,l,c,u,d)=>{const h=t(n,o,r,e,i),m=wh(h,a,s,i);return m.fold(C(m),((e,t,n,o)=>{const r=d===o?n>u||t>c:!d&&o;return r?m:gh.nofit(l,c,u,d)}))},c=G(t,((e,t)=>{const n=E(l,t);return e.fold(C(e),n)}),gh.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Wu(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return c.fold(S,S)},xh=e=>{const t=ha(R.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(R.none())},r=()=>t.get().isSome(),i=()=>t.get(),a=e=>{n(),t.set(R.some(e))};return{clear:o,isSet:r,get:i,set:a}},Ch=()=>xh((e=>e.destroy())),Sh=()=>xh((e=>e.unbind())),kh=()=>{const e=xh(b),t=t=>e.get().each(t);return{...e,on:t}},Eh=A,Th=(e,t,n)=>Oo(e,t,Eh,n),Mh=(e,t,n)=>Do(e,t,Eh,n),Oh=Eo,Dh=["top","bottom","right","left"],Ah="data-alloy-transition-timer",Rh=(e,t)=>_c(e,t.classes),Ph=(e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})),Ih=(e,t)=>{const n=e=>parseFloat(e).toFixed(3);return _e(t,((t,o)=>{const r=e[o].map(n),i=t.map(n);return!Te(r,i)})).isSome()},zh=e=>{const t=t=>{const n=mn(e,t),o=n.split(/\s*,\s*/);return $(o,We)},n=e=>{if(s(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Ue(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return G(r,((e,t,r)=>{const i=n(o[r])+n(t);return Math.max(e,i)}),0)},Nh=(e,t)=>{const n=Sh(),o=Sh();let r;const i=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return St(t.target,e)&&Ze(o)&&H(Dh,t.raw.propertyName)},a=a=>{if(p(a)||i(a)){n.clear(),o.clear();const i=null===a||void 0===a?void 0:a.raw.type;(p(i)||i===Qa())&&(clearTimeout(r),an(e,Ah),wc(e,t.classes))}},s=Th(e,es(),(t=>{i(t)&&(s.unbind(),n.set(Th(e,Qa(),a)),o.set(Th(e,Xa(),a)))})),l=zh(e);requestAnimationFrame((()=>{r=setTimeout(a,l+17),en(e,Ah,r)}))},Lh=(e,t)=>{bc(e,t.classes),on(e,Ah).each((t=>{clearTimeout(parseInt(t,10)),an(e,Ah)})),Nh(e,t)},Hh=(e,t,n,o,r,i)=>{const a=Ph(o,r,i);if(a||Rh(e,o)){un(e,"position",n.position);const i=rh(t,e),s=oh(t,{...r,rect:i}),l=oe(Dh,(e=>s[e]));Ih(n,l)&&(hn(e,l),a&&Lh(e,o),bn(e))}else wc(e,o.classes)},Fh=e=>({width:In(e),height:Cn(e)}),Bh=(e,t,n,o)=>{yn(t,"max-height"),yn(t,"max-width");const r=Fh(t);return _h(t,o.preference,e,r,n,o.bounds)},Uh=(e,t)=>{const n=t.classes;wc(e,n.off),bc(e,n.on)},Vh=(e,t,n)=>{const o=n.maxHeightFunction;o(e,t.maxHeight)},jh=(e,t,n)=>{const o=n.maxWidthFunction;o(e,t.maxWidth)},Wh=(e,t,n)=>{const o=oh(n.origin,t);n.transition.each((r=>{Hh(e,n.origin,o,r,t,n.lastPlacement)})),eh(e,o)},Zh=(e,t)=>{mh(e,t.placement)},$h=(e,t)=>{Sn(e,Math.floor(t))},qh=C(((e,t)=>{$h(e,t),dn(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Gh=C(((e,t)=>{$h(e,t)})),Kh=(e,t,n)=>void 0===e[t]?n:e[t],Yh=(e,t,n,o,r,i,a,s)=>{const l=Kh(a,"maxHeightFunction",qh()),c=Kh(a,"maxWidthFunction",b),u=e.anchorBox,d=e.origin,h={bounds:ih(d,i),origin:d,preference:o,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:r,transition:s};return Jh(u,t,n,h)},Jh=(e,t,n,o)=>{const r=Bh(e,t,n,o);return Wh(t,r,o),Zh(t,r),Uh(t,r),Vh(t,r,o),jh(t,r,o),{layout:r.layout,placement:r.placement}},Xh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Qh=(e,t,n,o=1)=>{const r=e*o,i=t*o,a=e=>Ce(n,e).getOr([]),s=(e,t,n)=>{const o=ne(Xh,n);return{offset:En(e,t),classesOn:Q(n,a),classesOff:Q(o,a)}};return{southeast:()=>s(-e,t,["top","alignLeft"]),southwest:()=>s(e,t,["top","alignRight"]),south:()=>s(-e/2,t,["top","alignCentre"]),northeast:()=>s(-e,-t,["bottom","alignLeft"]),northwest:()=>s(e,-t,["bottom","alignRight"]),north:()=>s(-e/2,-t,["bottom","alignCentre"]),east:()=>s(e,-t/2,["valignCentre","left"]),west:()=>s(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>s(r,i,["top","alignLeft","inset"]),insetNorthwest:()=>s(-r,i,["top","alignRight","inset"]),insetNorth:()=>s(-r/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>s(r,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>s(-r,-i,["bottom","alignRight","inset"]),insetSouth:()=>s(-r/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>s(-r,-i/2,["valignCentre","right","inset"]),insetWest:()=>s(r,-i/2,["valignCentre","left","inset"])}},em=()=>Qh(0,0,{}),tm=S,nm=(e,t)=>n=>"rtl"===om(n)?t:e,om=e=>"rtl"===mn(e,"direction")?"rtl":"ltr";var rm;(function(e){e["TopToBottom"]="toptobottom",e["BottomToTop"]="bottomtotop"})(rm||(rm={}));const im="data-alloy-vertical-dir",am=e=>ru(e,(e=>ft(e)&&nn(e,"data-alloy-vertical-dir")===rm.BottomToTop)),sm=()=>ea("layouts",[Ni("onLtr"),Ni("onRtl"),qi("onBottomLtr"),qi("onBottomRtl")]),lm=(e,t,n,o,r,i,a)=>{const s=a.map(am).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),u=s?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(r):l.getOr(n),d=s?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(o),h=nm(u,d);return h(e)},cm=(e,t,n)=>{const o=t.hotspot,r=rh(n,o.element),i=lm(e.element,t,Sd(),kd(),xd(),Cd(),R.some(t.hotspot.element));return R.some(tm({anchorBox:r,bubble:t.bubble.getOr(em()),overrides:t.overrides,layouts:i}))};var um=[Ni("hotspot"),qi("bubble"),na("overrides",{}),sm(),Nu("placement",cm)];const dm=(e,t,n)=>{const o=ah(n,t.x,t.y),r=er(o.left,o.top,t.width,t.height),i=lm(e.element,t,wd(),_d(),wd(),_d(),R.none());return R.some(tm({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i}))};var hm=[Ni("x"),Ni("y"),na("height",0),na("width",0),na("bubble",em()),na("overrides",{}),sm(),Nu("placement",dm)];const mm=pa.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),pm=e=>e.fold(S,((e,t,n)=>e.translate(-t,-n))),fm=e=>e.fold(S,S),gm=e=>G(e,((e,t)=>e.translate(t.left,t.top)),En(0,0)),vm=e=>{const t=V(e,pm);return gm(t)},ym=e=>{const t=V(e,fm);return gm(t)},bm=mm.screen,wm=mm.absolute,_m=(e,t,n)=>{const o=Ot(n.root).dom,r=t=>{const n=Et(t),o=Et(e.element);return St(n,o)};return R.from(o.frameElement).map(Xe.fromDom).filter(r).map(On)},xm=(e,t,n)=>{const o=Et(e.element),r=Bo(o),i=_m(e,t,n).getOr(r);return wm(i,r.left,r.top)},Cm=(e,t,n,o)=>{const r=bm(En(e,t));return R.some(Xo(r,n,o))},Sm=(e,t,n,o,r)=>e.map((e=>{const i=[t,e.point],a=sh(o,(()=>ym(i)),(()=>ym(i)),(()=>vm(i))),s=Qo(a.left,a.top,e.width,e.height),l=n.showAbove?xd():Sd(),c=n.showAbove?Cd():kd(),u=lm(r,n,l,c,l,c,R.none());return tm({anchorBox:s,bubble:n.bubble.getOr(em()),overrides:n.overrides,layouts:u})})),km=(e,t,n)=>{const o=xm(e,n,t);return t.node.filter(Yt).bind((r=>{const i=r.dom.getBoundingClientRect(),a=Cm(i.left,i.top,i.width,i.height),s=t.node.getOr(e.element);return Sm(a,o,t,n,s)}))};var Em=[Ni("node"),Ni("root"),qi("bubble"),sm(),na("overrides",{}),na("showAbove",!1),Nu("placement",km)];const Tm="\ufeff",Mm=" ",Om=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Dm={create:Om},Am=pa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Rm=(e,t,n,o)=>e.fold(t,n,o),Pm=e=>e.fold(S,S,S),Im=Am.before,zm=Am.on,Nm=Am.after,Lm={before:Im,on:zm,after:Nm,cata:Rm,getStart:Pm},Hm=pa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fm=e=>Hm.exact(e.start,e.soffset,e.finish,e.foffset),Bm=e=>e.match({domRange:e=>Xe.fromDom(e.startContainer),relative:(e,t)=>Lm.getStart(e),exact:(e,t,n,o)=>e}),Um=Hm.domRange,Vm=Hm.relative,jm=Hm.exact,Wm=e=>{const t=Bm(e);return Ot(t)},Zm=Dm.create,$m={domRange:Um,relative:Vm,exact:jm,exactFromRange:Fm,getWin:Wm,range:Zm},qm=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},Gm=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},Km=(e,t,n)=>{const o=e.document.createRange();return qm(o,t),Gm(o,n),o},Ym=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Jm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Xm=e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?R.some(n).map(Jm):R.none()},Qm=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?R.some(t).map(Jm):R.none()},ep=pa.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tp=(e,t,n)=>t(Xe.fromDom(n.startContainer),n.startOffset,Xe.fromDom(n.endContainer),n.endOffset),np=(e,t)=>t.match({domRange:e=>({ltr:C(e),rtl:R.none}),relative:(t,n)=>({ltr:Nn((()=>Km(e,t,n))),rtl:Nn((()=>R.some(Km(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Nn((()=>Ym(e,t,n,o,r))),rtl:Nn((()=>R.some(Ym(e,o,r,t,n))))})}),op=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>ep.rtl(Xe.fromDom(e.endContainer),e.endOffset,Xe.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>tp(e,ep.ltr,n)))}return tp(e,ep.ltr,n)},rp=(e,t)=>{const n=np(e,t);return op(e,n)},ip=(e,t)=>{const n=rp(e,t);return n.match({ltr:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}})};ep.ltr,ep.rtl;const ap=(e,t,n)=>$(Rt(e,n),t),sp=(e,t)=>xt(t,e),lp=(e,t,n,o)=>{const r=Et(e),i=r.dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,o),i},cp=(e,t,n,o)=>{const r=lp(e,t,n,o),i=St(e,n)&&t===o;return r.collapsed&&!i},up=e=>R.from(e.getSelection()),dp=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return R.some(Dm.create(Xe.fromDom(t.startContainer),t.startOffset,Xe.fromDom(n.endContainer),n.endOffset))}return R.none()},hp=e=>{if(null===e.anchorNode||null===e.focusNode)return dp(e);{const t=Xe.fromDom(e.anchorNode),n=Xe.fromDom(e.focusNode);return cp(t,e.anchorOffset,n,e.focusOffset)?R.some(Dm.create(t,e.anchorOffset,n,e.focusOffset)):dp(e)}},mp=e=>up(e).filter((e=>e.rangeCount>0)).bind(hp),pp=(e,t)=>{const n=ip(e,t);return Xm(n)},fp=(e,t)=>{const n=ip(e,t);return Qm(n)},gp=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?R.from(t.dom.nodeValue):R.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},vp=gp(gt,"text"),yp=e=>vp.get(e),bp=(e,t)=>({element:e,offset:t}),wp=(e,t)=>{const n=zt(e);if(0===n.length)return bp(e,t);if(t<n.length)return bp(n[t],0);{const e=n[n.length-1],t=gt(e)?yp(e).length:zt(e).length;return bp(e,t)}},_p=(e,t)=>gt(e)?bp(e,t):wp(e,t),xp=e=>void 0!==e.foffset,Cp=(e,t)=>{const n=t.getSelection.getOrThunk((()=>()=>mp(e)));return n().map((e=>{if(xp(e)){const t=_p(e.start,e.soffset),n=_p(e.finish,e.foffset);return $m.range(t.element,t.offset,n.element,n.offset)}return e}))},Sp=(e,t,n)=>{const o=Ot(t.root).dom,r=xm(e,n,t),i=Cp(o,t).bind((e=>{if(xp(e)){const t=fp(o,$m.exactFromRange(e)).orThunk((()=>{const t=Xe.fromText(Tm);Ro(e.start,t);const n=pp(o,$m.exact(t,0,t,1));return Fo(t),n}));return t.bind((e=>Cm(e.left,e.top,e.width,e.height)))}{const t=pe(e,(e=>e.dom.getBoundingClientRect())),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Cm(n.left,n.top,n.right-n.left,n.bottom-n.top)}})),a=Cp(o,t).bind((e=>xp(e)?ft(e.start)?R.some(e.start):At(e.start):R.some(e.firstCell))),s=a.getOr(e.element);return Sm(i,r,t,n,s)};var kp=[qi("getSelection"),Ni("root"),qi("bubble"),sm(),na("overrides",{}),na("showAbove",!1),Nu("placement",Sp)];const Ep="link-layout",Tp=e=>e.x+e.width,Mp=(e,t)=>e.x-t.width,Op=(e,t)=>e.y-t.height+e.height,Dp=e=>e.y,Ap=(e,t,n)=>Fu(Tp(e),Dp(e),n.southeast(),Wu(),"southeast",td(e,{left:0,top:2}),Ep),Rp=(e,t,n)=>Fu(Mp(e,t),Dp(e),n.southwest(),Zu(),"southwest",td(e,{right:1,top:2}),Ep),Pp=(e,t,n)=>Fu(Tp(e),Op(e,t),n.northeast(),$u(),"northeast",td(e,{left:0,bottom:3}),Ep),Ip=(e,t,n)=>Fu(Mp(e,t),Op(e,t),n.northwest(),qu(),"northwest",td(e,{right:1,bottom:3}),Ep),zp=()=>[Ap,Rp,Pp,Ip],Np=()=>[Rp,Ap,Ip,Pp],Lp=(e,t,n)=>{const o=rh(n,t.item.element),r=lm(e.element,t,zp(),Np(),zp(),Np(),R.none());return R.some(tm({anchorBox:o,bubble:em(),overrides:t.overrides,layouts:r}))};var Hp=[Ni("item"),sm(),na("overrides",{}),Nu("placement",Lp)],Fp=Ai("type",{selection:kp,node:Em,hotspot:um,submenu:Hp,makeshift:hm});const Bp=[$i("classes",gi),aa("mode","all",["all","layout","placement"])],Up=[na("useFixed",D),qi("getBounds")],Vp=[Li("anchor",Fp),ea("transition",Bp)],jp=()=>{const e=document.documentElement;return ch(0,0,e.clientWidth,e.clientHeight)},Wp=e=>{const t=On(e.element),n=e.element.dom.getBoundingClientRect();return lh(t.left,t.top,n.width,n.height)},Zp=(e,t,n,o,r,i)=>{const a=dh(t.anchorBox,e);return Yh(a,o.element,t.bubble,t.layouts,r,n,t.overrides,i)},$p=(e,t,n,o,r)=>{const i=R.none();qp(e,t,n,o,r,i)},qp=(e,t,n,o,r,i)=>{const a=Oi("placement.info",si(Vp),r),s=a.anchor,l=o.element,c=n.get(o.uid);Jd((()=>{un(l,"position","fixed");const r=fn(l,"visibility");un(l,"visibility","hidden");const u=t.useFixed()?jp():Wp(e);s.placement(e,s,u).each((e=>{const r=i.orThunk((()=>t.getBounds.map(O))),s=Zp(u,e,r,o,c,a.transition);n.set(o.uid,s)})),r.fold((()=>{yn(l,"visibility")}),(e=>{un(l,"visibility",e)})),fn(l,"left").isNone()&&fn(l,"top").isNone()&&fn(l,"right").isNone()&&fn(l,"bottom").isNone()&&Ee(fn(l,"position"),"fixed")&&yn(l,"position")}),l)},Gp=(e,t,n)=>t.useFixed()?"fixed":"absolute",Kp=(e,t,n,o)=>{const r=o.element;j(["position","left","right","top","bottom"],(e=>yn(r,e))),fh(r),n.clear(o.uid)};var Yp=Object.freeze({__proto__:null,position:$p,positionWithinBounds:qp,getMode:Gp,reset:Kp});const Jp=()=>{let e={};const t=(t,n)=>{e[t]=n},n=t=>Ce(e,t),o=t=>{f(t)?delete e[t]:e={}};return zl({readState:()=>e,clear:o,set:t,get:n})};var Xp=Object.freeze({__proto__:null,init:Jp});const Qp=Fd({fields:Up,name:"positioning",active:Zd,apis:Yp,state:Xp}),ef=e=>e.getSystem().isConnected(),tf=e=>{Ds(e,ws());const t=e.components();j(t,tf)},nf=e=>{const t=e.components();j(t,nf),Ds(e,bs())},of=(e,t)=>{e.getSystem().addToWorld(t),Yt(e.element)&&nf(t)},rf=e=>{tf(e),e.getSystem().removeFromWorld(e)},af=(e,t)=>{zo(e.element,t.element)},sf=e=>{j(e.components(),(e=>Fo(e.element))),Ho(e.element),e.syncComponents()},lf=(e,t,n)=>{const o=e.components();sf(e);const r=n(t),i=ne(o,r);j(i,(t=>{tf(t),e.getSystem().removeFromWorld(t)})),j(r,(t=>{ef(t)?af(e,t):(e.getSystem().addToWorld(t),af(e,t),Yt(e.element)&&nf(t))})),e.syncComponents()},cf=(e,t,n)=>{const o=e.components(),r=Q(t,(e=>Rl(e).toArray()));j(o,(e=>{H(r,e)||rf(e)}));const i=n(t),a=ne(o,i);j(a,(e=>{ef(e)&&rf(e)})),j(i,(t=>{ef(t)||of(e,t)})),e.syncComponents()},uf=(e,t)=>{df(e,t,zo)},df=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),Yt(e.element)&&nf(t),e.syncComponents()},hf=e=>{tf(e),Fo(e.element),e.getSystem().removeFromWorld(e)},mf=e=>{const t=Dt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));hf(e),t.each((e=>{e.syncComponents()}))},pf=e=>{const t=e.components();j(t,hf),Ho(e.element),e.syncComponents()},ff=(e,t)=>{vf(e,t,zo)},gf=(e,t)=>{vf(e,t,Po)},vf=(e,t,n)=>{n(e,t.element);const o=zt(t.element);j(o,(e=>{t.getByDom(e).each(nf)}))},yf=e=>{const t=zt(e.element);j(t,(t=>{e.getByDom(t).each(tf)})),Fo(e.element)},bf=(e,t,n,o)=>{n.get().each((t=>{pf(e)}));const r=t.getAttachPoint(e);uf(r,e);const i=e.getSystem().build(o);return uf(e,i),n.set(i),i},wf=(e,t,n,o)=>{const r=bf(e,t,n,o);return t.onOpen(e,r),r},_f=(e,t,n,o)=>n.get().map((()=>bf(e,t,n,o))),xf=(e,t,n,o,r)=>{Of(e,t),wf(e,t,n,o),r(),Af(e,t)},Cf=(e,t,n)=>{n.get().each((o=>{pf(e),mf(e),t.onClose(e,o),n.clear()}))},Sf=(e,t,n)=>n.isOpen(),kf=(e,t,n,o)=>Sf(e,t,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),Ef=(e,t,n)=>n.get(),Tf=(e,t,n,o)=>{fn(e.element,t).fold((()=>{an(e.element,n)}),(t=>{en(e.element,n,t)})),un(e.element,t,o)},Mf=(e,t,n)=>{on(e.element,n).fold((()=>yn(e.element,t)),(n=>un(e.element,t,n)))},Of=(e,t,n)=>{const o=t.getAttachPoint(e);un(e.element,"position",Qp.getMode(o)),Tf(e,"visibility",t.cloakVisibilityAttr,"hidden")},Df=e=>F(["top","left","right","bottom"],(t=>fn(e,t).isSome())),Af=(e,t,n)=>{Df(e.element)||yn(e.element,"position"),Mf(e,"visibility",t.cloakVisibilityAttr)};var Rf=Object.freeze({__proto__:null,cloak:Of,decloak:Af,open:wf,openWhileCloaked:xf,close:Cf,isOpen:Sf,isPartOf:kf,getState:Ef,setContent:_f});const Pf=(e,t)=>Ls([Us(hs(),((n,o)=>{Cf(n,e,t)}))]);var If=Object.freeze({__proto__:null,events:Pf}),zf=[Ru("onOpen"),Ru("onClose"),Ni("isPartOf"),Ni("getAttachPoint"),na("cloakVisibilityAttr","data-precloak-visibility")];const Nf=()=>{const e=kh(),t=C("not-implemented");return zl({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var Lf=Object.freeze({__proto__:null,init:Nf});const Hf=Fd({fields:zf,name:"sandboxing",active:If,apis:Rf,state:Lf}),Ff=C("dismiss.popups"),Bf=C("reposition.popups"),Uf=C("mouse.released"),Vf=ai([na("isExtraPart",D),ea("fireEventInstead",[na("event",_s())])]),jf=e=>{const t=Oi("Dismissal",Vf,e);return{[Ff()]:{schema:ai([Ni("target")]),onReceive:(e,n)=>{if(Hf.isOpen(e)){const o=Hf.isPartOf(e,n.target)||t.isExtraPart(e,n.target);o||t.fireEventInstead.fold((()=>Hf.close(e)),(t=>Ds(e,t.event)))}}}}},Wf=ai([ea("fireEventInstead",[na("event",xs())]),Vi("doReposition")]),Zf=e=>{const t=Oi("Reposition",Wf,e);return{[Bf()]:{onReceive:e=>{Hf.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ds(e,t.event)))}}}},$f=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},qf=(e,t,n)=>{t.store.manager.onUnload(e,t,n)},Gf=(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},Kf=(e,t,n)=>t.store.manager.getValue(e,t,n),Yf=(e,t,n)=>n;var Jf=Object.freeze({__proto__:null,onLoad:$f,onUnload:qf,setValue:Gf,getValue:Kf,getState:Yf});const Xf=(e,t)=>{const n=e.resetOnDom?[Js(((n,o)=>{$f(n,e,t)})),Xs(((n,o)=>{qf(n,e,t)}))]:[Ad(e,t,$f)];return Ls(n)};var Qf=Object.freeze({__proto__:null,events:Xf});const eg=()=>{const e=ha(null),t=()=>({mode:"memory",value:e.get()}),n=()=>null===e.get(),o=()=>{e.set(null)};return zl({set:e.set,get:e.get,isNotSet:n,clear:o,readState:t})},tg=()=>{const e=b;return zl({readState:e})},ng=()=>{const e=ha({}),t=ha({}),n=()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),o=()=>{e.set({}),t.set({})},r=n=>Ce(e.get(),n).orThunk((()=>Ce(t.get(),n))),i=n=>{const o=e.get(),r=t.get(),i={},a={};j(n,(e=>{i[e.value]=e,Ce(e,"meta").each((t=>{Ce(t,"text").each((t=>{a[t]=e}))}))})),e.set({...o,...i}),t.set({...r,...a})};return zl({readState:n,lookup:r,update:i,clear:o})},og=e=>e.store.manager.state(e);var rg=Object.freeze({__proto__:null,memory:eg,dataset:ng,manual:tg,init:og});const ig=(e,t,n,o)=>{const r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)},ag=(e,t,n)=>{const o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((()=>o.getFallbackEntry(r)))},sg=(e,t,n)=>{const o=t.store;o.initialValue.each((o=>{ig(e,t,n,o)}))},lg=(e,t,n)=>{n.clear()};var cg=[qi("initialValue"),Ni("getFallbackEntry"),Ni("getDataKey"),Ni("setValue"),Nu("manager",{setValue:ig,getValue:ag,onLoad:sg,onUnload:lg,state:ng})];const ug=(e,t,n)=>t.store.getValue(e),dg=(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},hg=(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))};var mg=[Ni("getValue"),na("setValue",b),qi("initialValue"),Nu("manager",{setValue:dg,getValue:ug,onLoad:hg,onUnload:b,state:Il.init})];const pg=(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},fg=(e,t,n)=>n.get(),gg=(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},vg=(e,t,n)=>{n.clear()};var yg=[qi("initialValue"),Nu("manager",{setValue:pg,getValue:fg,onLoad:gg,onUnload:vg,state:eg})],bg=[oa("store",{mode:"memory"},Ai("mode",{memory:yg,manual:mg,dataset:cg})),Ru("onSetValue"),na("resetOnDom",!1)];const wg=Fd({fields:bg,name:"representing",active:Qf,apis:Jf,extra:{setValueFrom:(e,t)=>{const n=wg.getValue(t);wg.setValue(e,n)}},state:rg}),_g=(e,t)=>da(e,{},V(t,(t=>ji(t.name(),"Cannot configure "+t.name()+" for "+e))).concat([Ii("dump",S)])),xg=e=>e.dump,Cg=(e,t)=>({...Ld(t),...e.dump}),Sg={field:_g,augment:Cg,get:xg},kg="placeholder",Eg=pa.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Tg=e=>Se(e,"uiType"),Mg=(e,t,n,o)=>e.exists((e=>e!==n.owner))?Eg.single(!0,C(n)):Ce(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+de(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())),Og=(e,t,n,o)=>Tg(n)&&n.uiType===kg?Mg(e,t,n,o):Eg.single(!1,C(n)),Dg=(e,t,n,o)=>{const r=Og(e,t,n,o);return r.fold(((r,i)=>{const a=Tg(n)?i(t,n.config,n.validated):i(t),s=Ce(a,"components").getOr([]),l=Q(s,(n=>Dg(e,t,n,o)));return[{...a,components:l}]}),((e,o)=>{if(Tg(n)){const e=o(t,n.config,n.validated),r=n.validated.preprocess.getOr(S);return r(e)}return o(t)}))},Ag=(e,t,n,o)=>Q(n,(n=>Dg(e,t,n,o))),Rg=(e,t)=>{let n=!1;const o=()=>n,r=()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=()=>t.fold(((e,t)=>e),((e,t)=>e));return{name:C(e),required:i,used:o,replace:r}},Pg=(e,t,n,o)=>{const r=pe(o,((e,t)=>Rg(t,e))),i=Ag(e,t,n,r);return me(r,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},Ig=Eg.single,zg=Eg.multiple,Ng=C(kg),Lg=pa.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Hg=na("factory",{sketch:S}),Fg=na("schema",[]),Bg=Ni("name"),Ug=Pi("pname","pname",Rr((e=>"<alloy."+ml(e.name)+">")),mi()),Vg=Ii("schema",(()=>[qi("preprocess")])),jg=na("defaults",C({})),Wg=na("overrides",C({})),Zg=si([Hg,Fg,Bg,Ug,jg,Wg]),$g=si([Hg,Fg,Bg,jg,Wg]),qg=si([Hg,Fg,Bg,Ug,jg,Wg]),Gg=si([Hg,Vg,Bg,Ni("unit"),Ug,jg,Wg]),Kg=e=>e.fold(R.some,R.none,R.some,R.some),Yg=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Jg=e=>e.fold(S,S,S,S),Xg=(e,t)=>n=>{const o=Oi("Converting part type",t,n);return e(o)},Qg=Xg(Lg.required,Zg),ev=Xg(Lg.external,$g),tv=Xg(Lg.optional,qg),nv=Xg(Lg.group,Gg),ov=C("entirety");var rv=Object.freeze({__proto__:null,required:Qg,external:ev,optional:tv,group:nv,asNamedPart:Kg,name:Yg,asCommon:Jg,original:ov});const iv=(e,t,n,o)=>Or(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),av=(e,t,n)=>{const o={},r={};return j(n,(e=>{e.fold((e=>{o[e.pname]=Ig(!0,((t,n,o)=>e.factory.sketch(iv(t,e,n,o))))}),(e=>{const n=t.parts[e.name];r[e.name]=C(e.factory.sketch(iv(t,e,n[ov()]),n))}),(e=>{o[e.pname]=Ig(!1,((t,n,o)=>e.factory.sketch(iv(t,e,n,o))))}),(e=>{o[e.pname]=zg(!0,((t,n,o)=>{const r=t[e.name];return V(r,(n=>e.factory.sketch(Or(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:C(o),externals:C(r)}},sv=(e,t)=>{const n={};return j(t,(t=>{Kg(t).each((t=>{const o=lv(e,t.pname);n[t.name]=n=>{const r=Oi("Part: "+t.name+" in "+e,si(t.schema),n);return{...o,config:n,validated:r}}}))})),n},lv=(e,t)=>({uiType:Ng(),owner:e,name:t}),cv=(e,t,n)=>({uiType:Ng(),owner:e,name:t,config:n,validated:{}}),uv=e=>Q(e,(e=>e.fold(R.none,R.some,R.none,R.none).map((e=>Wi(e.name,e.schema.concat([Lu(ov())])))).toArray())),dv=e=>V(e,Yg),hv=(e,t,n)=>av(e,t,n),mv=(e,t,n)=>Pg(R.some(e),t,t.components,n),pv=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},fv=(e,t,n)=>pv(e,t,n).getOrDie("Could not find part: "+n),gv=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return j(n,(e=>{o[e]=C(i.getByUid(r[e]))})),o},vv=(e,t)=>{const n=e.getSystem();return pe(t.partUids,((e,t)=>C(n.getByUid(e))))},yv=e=>de(e.partUids),bv=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return j(n,(e=>{o[e]=C(i.getByUid(r[e]).getOrDie())})),o},wv=(e,t)=>{const n=dv(t);return _a(V(n,(t=>({key:t,value:e+"-"+t}))))},_v=e=>Pi("partUids","partUids",zr((t=>wv(t.uid,e))),mi());var xv=Object.freeze({__proto__:null,generate:sv,generateOne:cv,schemas:uv,names:dv,substitutes:hv,components:mv,defaultUids:wv,defaultUidsSchema:_v,getAllParts:vv,getAllPartNames:yv,getPart:pv,getPartOrDie:fv,getParts:gv,getPartsOrDie:bv});const Cv=(e,t)=>{const n=e.length>0?[Wi("parts",e)]:[];return n.concat([Ni("uid"),na("dom",{}),na("components",[]),Lu("originalSpec"),na("debug.sketcher",{})]).concat(t)},Sv=(e,t,n,o,r)=>{const i=Cv(o,r);return Oi(e+" [SpecSchema]",ai(i.concat(t)),n)},kv=(e,t,n,o)=>{const r=Mv(o),i=Sv(e,t,r,[],[]);return n(i,r)},Ev=(e,t,n,o,r)=>{const i=Mv(r),a=uv(n),s=_v(n),l=Sv(e,t,i,a,[s]),c=hv(e,l,n),u=mv(e,l,c.internals());return o(l,u,i,c.externals())},Tv=e=>Se(e,"uid"),Mv=e=>Tv(e)?e:{...e,uid:_l("uid")},Ov=e=>void 0!==e.uid,Dv=ai([Ni("name"),Ni("factory"),Ni("configFields"),na("apis",{}),na("extraApis",{})]),Av=ai([Ni("name"),Ni("factory"),Ni("configFields"),Ni("partFields"),na("apis",{}),na("extraApis",{})]),Rv=e=>{const t=Oi("Sketcher for "+e.name,Dv,e),n=e=>kv(t.name,t.configFields,t.factory,e),o=pe(t.apis,Pl),r=pe(t.extraApis,((e,t)=>Tl(e,t)));return{name:t.name,configFields:t.configFields,sketch:n,...o,...r}},Pv=e=>{const t=Oi("Sketcher for "+e.name,Av,e),n=e=>Ev(t.name,t.configFields,t.partFields,t.factory,e),o=sv(t.name,t.partFields),r=pe(t.apis,Pl),i=pe(t.extraApis,((e,t)=>Tl(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:o,...r,...i}},Iv=e=>bt("input")(e)&&"radio"!==nn(e,"type")||bt("textarea")(e),zv=(e,t,n)=>t.find(e);var Nv=Object.freeze({__proto__:null,getCurrent:zv});const Lv=[Ni("find")],Hv=Fd({fields:Lv,name:"composing",apis:Nv}),Fv=["input","button","textarea","select"],Bv=(e,t,n)=>{const o=t.disabled()?Gv:Kv;o(e,t)},Uv=(e,t)=>!0===t.useNative&&H(Fv,dt(e.element)),Vv=e=>rn(e.element,"disabled"),jv=e=>{en(e.element,"disabled","disabled")},Wv=e=>{an(e.element,"disabled")},Zv=e=>"true"===nn(e.element,"aria-disabled"),$v=e=>{en(e.element,"aria-disabled","true")},qv=e=>{en(e.element,"aria-disabled","false")},Gv=(e,t,n)=>{t.disableClass.each((t=>{fc(e.element,t)}));const o=Uv(e,t)?jv:$v;o(e),t.onDisabled(e)},Kv=(e,t,n)=>{t.disableClass.each((t=>{vc(e.element,t)}));const o=Uv(e,t)?Wv:qv;o(e),t.onEnabled(e)},Yv=(e,t)=>Uv(e,t)?Vv(e):Zv(e),Jv=(e,t,n,o)=>{const r=o?Gv:Kv;r(e,t)};var Xv=Object.freeze({__proto__:null,enable:Kv,disable:Gv,isDisabled:Yv,onLoad:Bv,set:Jv});const Qv=(e,t)=>Bl({classes:t.disabled()?t.disableClass.toArray():[]}),ey=(e,t)=>Ls([Hs(ls(),((t,n)=>Yv(t,e))),Ad(e,t,Bv)]);var ty=Object.freeze({__proto__:null,exhibit:Qv,events:ey}),ny=[la("disabled",D),na("useNative",!0),qi("disableClass"),Ru("onDisabled"),Ru("onEnabled")];const oy=Fd({fields:ny,name:"disabling",active:ty,apis:Xv}),ry=(e,t,n,o)=>{const r=sp(e.element,"."+t.highlightClass);j(r,(n=>{const r=F(o,(e=>St(e.element,n)));r||(vc(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Ds(n,Os())})))}))},iy=(e,t,n)=>ry(e,t,n,[]),ay=(e,t,n,o)=>{hy(e,t,n,o)&&(vc(o.element,t.highlightClass),t.onDehighlight(e,o),Ds(o,Os()))},sy=(e,t,n,o)=>{ry(e,t,n,[o]),hy(e,t,n,o)||(fc(o.element,t.highlightClass),t.onHighlight(e,o),Ds(o,Ms()))},ly=(e,t,n)=>{fy(e,t).each((o=>{sy(e,t,n,o)}))},cy=(e,t,n)=>{gy(e,t).each((o=>{sy(e,t,n,o)}))},uy=(e,t,n,o)=>{py(e,t,n,o).fold((e=>{throw e}),(o=>{sy(e,t,n,o)}))},dy=(e,t,n,o)=>{const r=wy(e,t),i=Y(r,o);i.each((o=>{sy(e,t,n,o)}))},hy=(e,t,n,o)=>yc(o.element,t.highlightClass),my=(e,t,n)=>su(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),py=(e,t,n,o)=>{const r=sp(e.element,"."+t.itemClass);return R.from(r[o]).fold((()=>ur.error(new Error("No element found with index "+o))),e.getSystem().getByDom)},fy=(e,t,n)=>su(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),gy=(e,t,n)=>{const o=sp(e.element,"."+t.itemClass),r=o.length>0?R.some(o[o.length-1]):R.none();return r.bind((t=>e.getSystem().getByDom(t).toOptional()))},vy=(e,t,n,o)=>{const r=sp(e.element,"."+t.itemClass),i=J(r,(e=>yc(e,t.highlightClass)));return i.bind((t=>{const n=Xu(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},yy=(e,t,n)=>vy(e,t,n,-1),by=(e,t,n)=>vy(e,t,n,1),wy=(e,t,n)=>{const o=sp(e.element,"."+t.itemClass);return Me(V(o,(t=>e.getSystem().getByDom(t).toOptional())))};var _y=Object.freeze({__proto__:null,dehighlightAll:iy,dehighlight:ay,highlight:sy,highlightFirst:ly,highlightLast:cy,highlightAt:uy,highlightBy:dy,isHighlighted:hy,getHighlighted:my,getFirst:fy,getLast:gy,getPrevious:yy,getNext:by,getCandidates:wy}),xy=[Ni("highlightClass"),Ni("itemClass"),Ru("onHighlight"),Ru("onDehighlight")];const Cy=Fd({fields:xy,name:"highlighting",apis:_y}),Sy=[8],ky=[9],Ey=[13],Ty=[27],My=[32],Oy=[37],Dy=[38],Ay=[39],Ry=[40],Py=(e,t,n)=>{const o=te(e.slice(0,t)),r=te(e.slice(t+1));return Y(o.concat(r),n)},Iy=(e,t,n)=>{const o=te(e.slice(0,t));return Y(o,n)},zy=(e,t,n)=>{const o=e.slice(0,t),r=e.slice(t+1);return Y(r.concat(o),n)},Ny=(e,t,n)=>{const o=e.slice(t+1);return Y(o,n)},Ly=e=>t=>{const n=t.raw;return H(e,n.which)},Hy=e=>t=>ee(e,(e=>e(t))),Fy=e=>{const t=e.raw;return!0===t.shiftKey},By=e=>{const t=e.raw;return!0===t.ctrlKey},Uy=T(Fy),Vy=(e,t)=>({matches:e,classification:t}),jy=(e,t)=>{const n=Y(e,(e=>e.matches(t)));return n.map((e=>e.classification))},Wy=(e,t,n)=>{const o=t.exists((e=>n.exists((t=>St(t,e)))));o||As(e,Cs(),{prevFocus:t,newFocus:n})},Zy=()=>{const e=e=>Yd(e.element),t=(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const r=e(t);Wy(t,o,r)};return{get:e,set:t}},$y=()=>{const e=e=>Cy.getHighlighted(e).map((e=>e.element)),t=(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(b,(e=>{Cy.highlight(t,e)}));const r=e(t);Wy(t,o,r)};return{get:e,set:t}};var qy;(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(qy||(qy={}));const Gy=(e,t,n,o,r)=>{const i=()=>e.concat([na("focusManager",Zy()),oa("focusInside","onFocus",Si((e=>H(["onFocus","onEnterOrSpace","onApi"],e)?ur.value(e):ur.error("Invalid value for focusInside")))),Nu("handler",l),Nu("state",t),Nu("sendFocusIn",r)]),a=(e,t,n,o,r)=>{const i=n(e,t,o,r);return jy(i,t.event).bind((n=>n(e,t,o,r)))},s=(e,t)=>{const i=e.focusInside!==qy.OnFocusMode?R.none():r(e).map((n=>Us(rs(),((o,r)=>{n(o,e,t),r.stop()})))),s=(n,o)=>{const i=Ly(My.concat(Ey))(o.event);e.focusInside===qy.OnEnterOrSpaceMode&&i&&Ma(n,o)&&r(e).each((r=>{r(n,e,t),o.stop()}))},l=[Us(qa(),((o,r)=>{a(o,r,n,e,t).fold((()=>{s(o,r)}),(e=>{r.stop()}))})),Us(Ga(),((n,r)=>{a(n,r,o,e,t).each((e=>{r.stop()}))}))];return Ls(i.toArray().concat(l))},l={schema:i,processKey:a,toEvents:s};return l},Ky=e=>{const t=[qi("onEscape"),qi("onEnter"),na("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),na("firstTabstop",0),na("useTabstopAt",A),qi("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>lu(t,e))).getOr(t);return xn(n)>0},o=(e,t)=>{const o=sp(e.element,t.selector),r=$(o,(e=>n(t,e)));return R.from(r[t.firstTabstop])},r=(e,t)=>t.focusManager.get(e).bind((e=>lu(e,t.selector))),i=(e,t)=>n(e,t)&&e.useTabstopAt(t),a=(e,t,n)=>{o(e,t).each((n=>{t.focusManager.set(e,n)}))},s=(e,t,n,o,r)=>r(t,n,(e=>i(o,e))).fold((()=>o.cyclic?R.some(!0):R.none()),(t=>(o.focusManager.set(e,t),R.some(!0)))),l=(e,t,n,o)=>{const i=sp(e.element,n.selector);return r(e,n).bind((t=>{const r=J(i,E(St,t));return r.bind((t=>s(e,i,t,n,o)))}))},c=(e,t,n)=>{const o=n.cyclic?Py:Iy;return l(e,t,n,o)},u=(e,t,n)=>{const o=n.cyclic?zy:Ny;return l(e,t,n,o)},d=(e,t,n)=>n.onEnter.bind((n=>n(e,t))),h=(e,t,n)=>n.onEscape.bind((n=>n(e,t))),m=C([Vy(Hy([Fy,Ly(ky)]),c),Vy(Ly(ky),u),Vy(Hy([Uy,Ly(Ey)]),d)]),p=C([Vy(Ly(Ty),h)]);return Gy(t,Il.init,m,p,(()=>R.some(a)))};var Yy=Ky(Ii("cyclic",D)),Jy=Ky(Ii("cyclic",A));const Xy=(e,t,n)=>(Ps(e,n,ls()),R.some(!0)),Qy=(e,t,n)=>{const o=Iv(n)&&Ly(My)(t.event);return o?R.none():Xy(e,t,n)},eb=(e,t)=>R.some(!0),tb=[na("execute",Qy),na("useSpace",!1),na("useEnter",!0),na("useControlEnter",!1),na("useDown",!1)],nb=(e,t,n)=>n.execute(e,t,e.element),ob=(e,t,n,o)=>{const r=n.useSpace&&!Iv(e.element)?My:[],i=n.useEnter?Ey:[],a=n.useDown?Ry:[],s=r.concat(i).concat(a);return[Vy(Ly(s),nb)].concat(n.useControlEnter?[Vy(Hy([By,Ly(Ey)]),nb)]:[])},rb=(e,t,n,o)=>n.useSpace&&!Iv(e.element)?[Vy(Ly(My),eb)]:[];var ib=Gy(tb,Il.init,ob,rb,(()=>R.none()));const ab=()=>{const e=kh(),t=(t,n)=>{e.set({numRows:t,numColumns:n})},n=()=>e.get().map((e=>e.numRows)),o=()=>e.get().map((e=>e.numColumns));return zl({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:t,getNumRows:n,getNumColumns:o})},sb=e=>e.state(e);var lb=Object.freeze({__proto__:null,flatgrid:ab,init:sb});const cb=e=>(t,n,o,r)=>{const i=e(t.element);return mb(i,t,n,o,r)},ub=(e,t)=>{const n=nm(e,t);return cb(n)},db=(e,t)=>{const n=nm(t,e);return cb(n)},hb=e=>(t,n,o,r)=>mb(e,t,n,o,r),mb=(e,t,n,o,r)=>{const i=o.focusManager.get(t).bind((n=>e(t.element,n,o,r)));return i.map((e=>(o.focusManager.set(t,e),!0)))},pb=hb,fb=hb,gb=hb,vb=e=>e.offsetWidth<=0&&e.offsetHeight<=0,yb=e=>!vb(e.dom),bb=(e,t)=>J(e,t).map((t=>({index:t,candidates:e}))),wb=(e,t,n)=>{const o=e=>St(e,t),r=sp(e,n),i=$(r,yb);return bb(i,o)},_b=(e,t)=>J(e,(e=>St(t,e))),xb=(e,t,n,o)=>{const r=Math.floor(t/n),i=t%n;return o(r,i).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?R.some(e[o]):R.none()}))},Cb=(e,t,n,o,r)=>xb(e,t,o,((t,i)=>{const a=t===n-1,s=a?e.length-t*o:o,l=Xu(i,r,0,s-1);return R.some({row:t,column:l})})),Sb=(e,t,n,o,r)=>xb(e,t,o,((t,i)=>{const a=Xu(t,r,0,n-1),s=a===n-1,l=s?e.length-a*o:o,c=Qu(i,0,l-1);return R.some({row:a,column:c})})),kb=(e,t,n,o)=>Cb(e,t,n,o,1),Eb=(e,t,n,o)=>Cb(e,t,n,o,-1),Tb=(e,t,n,o)=>Sb(e,t,n,o,-1),Mb=(e,t,n,o)=>Sb(e,t,n,o,1),Ob=[Ni("selector"),na("execute",Qy),Pu("onEscape"),na("captureTab",!1),Hu()],Db=(e,t,n)=>{su(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Ab=(e,t)=>t.focusManager.get(e).bind((e=>lu(e,t.selector))),Rb=(e,t,n,o)=>Ab(e,n).bind((o=>n.execute(e,t,o))),Pb=e=>(t,n,o,r)=>wb(t,n,o.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns)))),Ib=(e,t,n)=>n.captureTab?R.some(!0):R.none(),zb=(e,t,n)=>n.onEscape(e,t),Nb=Pb(Eb),Lb=Pb(kb),Hb=Pb(Tb),Fb=Pb(Mb),Bb=C([Vy(Ly(Oy),ub(Nb,Lb)),Vy(Ly(Ay),db(Nb,Lb)),Vy(Ly(Dy),pb(Hb)),Vy(Ly(Ry),fb(Fb)),Vy(Hy([Fy,Ly(ky)]),Ib),Vy(Hy([Uy,Ly(ky)]),Ib),Vy(Ly(My.concat(Ey)),Rb)]),Ub=C([Vy(Ly(Ty),zb),Vy(Ly(My),eb)]);var Vb=Gy(Ob,ab,Bb,Ub,(()=>R.some(Db)));const jb=(e,t,n,o,r)=>{const i=e=>"button"===dt(e)&&"disabled"===nn(e,"disabled"),a=(e,t,n)=>r(e,t,o,0,n.length-1,n[t],(t=>i(n[t])?a(e,t,n):R.from(n[t])));return wb(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return a(t,t,n)}))},Wb=(e,t,n,o)=>jb(e,t,n,o,((e,t,n,o,r,i,a)=>{const s=Qu(t+n,o,r);return s===e?R.from(i):a(s)})),Zb=(e,t,n,o)=>jb(e,t,n,o,((e,t,n,o,r,i,a)=>{const s=Xu(t,n,o,r);return s===e?R.none():a(s)})),$b=[Ni("selector"),na("getInitial",R.none),na("execute",Qy),Pu("onEscape"),na("executeOnMove",!1),na("allowVertical",!0),na("allowHorizontal",!0),na("cycles",!0)],qb=(e,t)=>t.focusManager.get(e).bind((e=>lu(e,t.selector))),Gb=(e,t,n)=>qb(e,n).bind((o=>n.execute(e,t,o))),Kb=(e,t,n)=>{t.getInitial(e).orThunk((()=>su(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},Yb=(e,t,n)=>(n.cycles?Zb:Wb)(e,n.selector,t,-1),Jb=(e,t,n)=>(n.cycles?Zb:Wb)(e,n.selector,t,1),Xb=e=>(t,n,o,r)=>e(t,n,o,r).bind((()=>o.executeOnMove?Gb(t,n,o):R.some(!0))),Qb=(e,t,n)=>n.onEscape(e,t),ew=(e,t,n,o)=>{const r=[...n.allowHorizontal?Oy:[]].concat(n.allowVertical?Dy:[]),i=[...n.allowHorizontal?Ay:[]].concat(n.allowVertical?Ry:[]);return[Vy(Ly(r),Xb(ub(Yb,Jb))),Vy(Ly(i),Xb(db(Yb,Jb))),Vy(Ly(Ey),Gb),Vy(Ly(My),Gb)]},tw=C([Vy(Ly(My),eb),Vy(Ly(Ty),Qb)]);var nw=Gy($b,Il.init,ew,tw,(()=>R.some(Kb)));const ow=(e,t,n)=>R.from(e[t]).bind((e=>R.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),rw=(e,t,n,o)=>{const r=e[t],i=r.length,a=Xu(n,o,0,i-1);return ow(e,t,a)},iw=(e,t,n,o)=>{const r=Xu(n,o,0,e.length-1),i=e[r].length,a=Qu(t,0,i-1);return ow(e,r,a)},aw=(e,t,n,o)=>{const r=e[t],i=r.length,a=Qu(n+o,0,i-1);return ow(e,t,a)},sw=(e,t,n,o)=>{const r=Qu(n+o,0,e.length-1),i=e[r].length,a=Qu(t,0,i-1);return ow(e,r,a)},lw=(e,t,n)=>rw(e,t,n,1),cw=(e,t,n)=>rw(e,t,n,-1),uw=(e,t,n)=>iw(e,n,t,-1),dw=(e,t,n)=>iw(e,n,t,1),hw=(e,t,n)=>aw(e,t,n,-1),mw=(e,t,n)=>aw(e,t,n,1),pw=(e,t,n)=>sw(e,n,t,-1),fw=(e,t,n)=>sw(e,n,t,1),gw=[Wi("selectors",[Ni("row"),Ni("cell")]),na("cycles",!0),na("previousSelector",R.none),na("execute",Qy)],vw=(e,t,n)=>{const o=t.previousSelector(e).orThunk((()=>{const n=t.selectors;return su(e.element,n.cell)}));o.each((n=>{t.focusManager.set(e,n)}))},yw=(e,t,n)=>Yd(e.element).bind((o=>n.execute(e,t,o))),bw=(e,t)=>V(e,(e=>sp(e,t.selectors.cell))),ww=(e,t)=>(n,o,r)=>{const i=r.cycles?e:t;return lu(o,r.selectors.row).bind((e=>{const t=sp(e,r.selectors.cell);return _b(t,o).bind((t=>{const o=sp(n,r.selectors.row);return _b(o,e).bind((e=>{const n=bw(o,r);return i(n,e,t).map((e=>e.cell))}))}))}))},_w=ww(cw,hw),xw=ww(lw,mw),Cw=ww(uw,pw),Sw=ww(dw,fw),kw=C([Vy(Ly(Oy),ub(_w,xw)),Vy(Ly(Ay),db(_w,xw)),Vy(Ly(Dy),pb(Cw)),Vy(Ly(Ry),fb(Sw)),Vy(Ly(My.concat(Ey)),yw)]),Ew=C([Vy(Ly(My),eb)]);var Tw=Gy(gw,Il.init,kw,Ew,(()=>R.some(vw)));const Mw=[Ni("selector"),na("execute",Qy),na("moveOnTab",!1)],Ow=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),Dw=(e,t,n)=>{su(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Aw=(e,t,n)=>Zb(e,n.selector,t,-1),Rw=(e,t,n)=>Zb(e,n.selector,t,1),Pw=(e,t,n,o)=>n.moveOnTab?gb(Aw)(e,t,n,o):R.none(),Iw=(e,t,n,o)=>n.moveOnTab?gb(Rw)(e,t,n,o):R.none(),zw=C([Vy(Ly(Dy),gb(Aw)),Vy(Ly(Ry),gb(Rw)),Vy(Hy([Fy,Ly(ky)]),Pw),Vy(Hy([Uy,Ly(ky)]),Iw),Vy(Ly(Ey),Ow),Vy(Ly(My),Ow)]),Nw=C([Vy(Ly(My),eb)]);var Lw=Gy(Mw,Il.init,zw,Nw,(()=>R.some(Dw)));const Hw=[Pu("onSpace"),Pu("onEnter"),Pu("onShiftEnter"),Pu("onLeft"),Pu("onRight"),Pu("onTab"),Pu("onShiftTab"),Pu("onUp"),Pu("onDown"),Pu("onEscape"),na("stopSpaceKeyup",!1),qi("focusIn")],Fw=(e,t,n)=>[Vy(Ly(My),n.onSpace),Vy(Hy([Uy,Ly(Ey)]),n.onEnter),Vy(Hy([Fy,Ly(Ey)]),n.onShiftEnter),Vy(Hy([Fy,Ly(ky)]),n.onShiftTab),Vy(Hy([Uy,Ly(ky)]),n.onTab),Vy(Ly(Dy),n.onUp),Vy(Ly(Ry),n.onDown),Vy(Ly(Oy),n.onLeft),Vy(Ly(Ay),n.onRight),Vy(Ly(My),n.onSpace)],Bw=(e,t,n)=>[...n.stopSpaceKeyup?[Vy(Ly(My),eb)]:[],Vy(Ly(Ty),n.onEscape)];var Uw=Gy(Hw,Il.init,Fw,Bw,(e=>e.focusIn));const Vw=Yy.schema(),jw=Jy.schema(),Ww=nw.schema(),Zw=Vb.schema(),$w=Tw.schema(),qw=ib.schema(),Gw=Lw.schema(),Kw=Uw.schema();var Yw=Object.freeze({__proto__:null,acyclic:Vw,cyclic:jw,flow:Ww,flatgrid:Zw,matrix:$w,execution:qw,menu:Gw,special:Kw});const Jw=e=>ke(e,"setGridSize"),Xw=Ud({branchKey:"mode",branches:Yw,name:"keying",active:{events:(e,t)=>{const n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,r)=>{Jw(n)?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:lb}),Qw=(e,t)=>{Jd((()=>{lf(e,t,(()=>V(t,e.getSystem().build)))}),e.element)},e_=(e,t)=>{Jd((()=>{cf(e,t,(()=>Dc(e.element,t,e.getSystem().buildOrPatch)))}),e.element)},t_=(e,t,n,o)=>{rf(t);const r=Oc(e.element,n,o,e.getSystem().buildOrPatch);of(e,r),e.syncComponents()},n_=(e,t,n)=>{const o=e.getSystem().build(n);df(e,o,t)},o_=(e,t,n,o)=>{mf(t),n_(e,((e,t)=>No(e,t,n)),o)},r_=(e,t,n,o)=>{const r=t.reuseDom?e_:Qw;return r(e,o)},i_=(e,t,n,o)=>{n_(e,zo,o)},a_=(e,t,n,o)=>{n_(e,Io,o)},s_=(e,t,n,o)=>{const r=l_(e),i=Y(r,(e=>St(o.element,e.element)));i.each(mf)},l_=(e,t)=>e.components(),c_=(e,t,n,o,r)=>{const i=l_(e);return R.from(i[o]).map((n=>(r.fold((()=>mf(n)),(r=>{const i=t.reuseDom?t_:o_;i(e,n,o,r)})),n)))},u_=(e,t,n,o,r)=>{const i=l_(e);return J(i,o).bind((o=>c_(e,t,n,o,r)))};var d_=Object.freeze({__proto__:null,append:i_,prepend:a_,remove:s_,replaceAt:c_,replaceBy:u_,set:r_,contents:l_});const h_=Fd({fields:[sa("reuseDom",!0)],name:"replacing",apis:d_}),m_=(e,t)=>{const n=Ls(t);return Fd({fields:[Ni("enabled")],name:e,active:{events:C(n)}})},p_=(e,t)=>{const n=m_(e,t);return{key:e,value:{config:{},me:n,configAsRaw:C({}),initialConfig:{},state:Il}}},f_=(e,t)=>{t.ignore||($d(e.element),t.onFocus(e))},g_=(e,t)=>{t.ignore||qd(e.element)},v_=e=>Gd(e.element);var y_=Object.freeze({__proto__:null,focus:f_,blur:g_,isFocused:v_});const b_=(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Bl(n)},w_=e=>Ls([Us(rs(),((t,n)=>{f_(t,e),n.stop()}))].concat(e.stopMousedown?[Us(Ba(),((e,t)=>{t.event.prevent()}))]:[]));var __=Object.freeze({__proto__:null,exhibit:b_,events:w_}),x_=[Ru("onFocus"),na("stopMousedown",!1),na("ignore",!1)];const C_=Fd({fields:x_,name:"focusing",active:__,apis:y_}),S_=e=>{const t=()=>{const t=ha(e),n=()=>t.get(),o=e=>t.set(e),r=()=>t.set(e),i=()=>t.get();return{get:n,set:o,clear:r,readState:i}};return{init:t}},k_=(e,t,n)=>{const o=t.aria;o.update(e,o,n.get())},E_=(e,t,n)=>{t.toggleClass.each((t=>{n.get()?fc(e.element,t):vc(e.element,t)}))},T_=(e,t,n,o)=>{const r=n.get();n.set(o),E_(e,t,n),k_(e,t,n),r!==o&&t.onToggled(e,o)},M_=(e,t,n)=>{T_(e,t,n,!n.get())},O_=(e,t,n)=>{T_(e,t,n,!0)},D_=(e,t,n)=>{T_(e,t,n,!1)},A_=(e,t,n)=>n.get(),R_=(e,t,n)=>{T_(e,t,n,t.selected)};var P_=Object.freeze({__proto__:null,onLoad:R_,toggle:M_,isOn:A_,on:O_,off:D_,set:T_});const I_=()=>Bl({}),z_=(e,t)=>{const n=Dd(e,t,M_),o=Ad(e,t,R_);return Ls(X([e.toggleOnExecute?[n]:[],[o]]))};var N_=Object.freeze({__proto__:null,exhibit:I_,events:z_});const L_=(e,t,n)=>{en(e.element,"aria-pressed",n),t.syncWithExpanded&&B_(e,t,n)},H_=(e,t,n)=>{en(e.element,"aria-selected",n)},F_=(e,t,n)=>{en(e.element,"aria-checked",n)},B_=(e,t,n)=>{en(e.element,"aria-expanded",n)};var U_=[na("selected",!1),qi("toggleClass"),na("toggleOnExecute",!0),Ru("onToggled"),oa("aria",{mode:"none"},Ai("mode",{pressed:[na("syncWithExpanded",!1),Nu("update",L_)],checked:[Nu("update",F_)],expanded:[Nu("update",B_)],selected:[Nu("update",H_)],none:[Nu("update",b)]}))];const V_=Fd({fields:U_,name:"toggling",active:N_,apis:P_,state:S_(!1)}),j_=()=>{const e=(e,t)=>{t.stop(),Rs(e)};return[Us(Ja(),e),Us(us(),e),Gs(Na()),Gs(Ba())]},W_=e=>{const t=e=>el(((t,n)=>{e(t),n.stop()}));return Ls(X([e.map(t).toArray(),j_()]))},Z_="alloy.item-hover",$_="alloy.item-focus",q_="alloy.item-toggled",G_=e=>{(Yd(e.element).isNone()||C_.isFocused(e))&&(C_.isFocused(e)||C_.focus(e),As(e,Z_,{item:e}))},K_=e=>{As(e,$_,{item:e})},Y_=(e,t)=>{As(e,q_,{item:e,state:t})},J_=C(Z_),X_=C($_),Q_=C(q_),ex=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),tx=e=>({aria:{mode:"checked"},...be(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{g(e.onToggled)&&e.onToggled(t,n),Y_(t,n)}}),nx=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:ex(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Sg.augment(e.itemBehaviours,[e.toggling.fold(V_.revoke,(e=>V_.config(tx(e)))),C_.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{K_(e)}}),Xw.config({mode:"execution"}),wg.config({store:{mode:"memory",initialValue:e.data}}),p_("item-type-events",[...j_(),Us(Wa(),G_),Us(cs(),C_.focus)])]),components:e.components,eventOrder:e.eventOrder}),ox=[Ni("data"),Ni("components"),Ni("dom"),na("hasSubmenu",!1),qi("toggling"),Sg.field("itemBehaviours",[V_,C_,Xw,wg]),na("ignoreFocus",!1),na("domModification",{}),Nu("builder",nx),na("eventOrder",{})],rx=e=>({dom:e.dom,components:e.components,events:Ls([Ks(cs())])}),ix=[Ni("dom"),Ni("components"),Nu("builder",rx)],ax=C("item-widget"),sx=C([Qg({name:"widget",overrides:e=>({behaviours:Ld([wg.config({store:{mode:"manual",getValue:t=>e.data,setValue:b}})])})})]),lx=e=>{const t=hv(ax(),e,sx()),n=mv(ax(),e,t.internals()),o=t=>pv(t,e,"widget").map((e=>(Xw.focusIn(e),e))),r=(t,n)=>Iv(n.event.target)?R.none():(()=>e.autofocus?(n.setSource(t.element),R.none()):R.none())();return{dom:e.dom,components:n,domModification:e.domModification,events:Ls([el(((e,t)=>{o(e).each((e=>{t.stop()}))})),Us(Wa(),G_),Us(cs(),((t,n)=>{e.autofocus?o(t):C_.focus(t)}))]),behaviours:Sg.augment(e.widgetBehaviours,[wg.config({store:{mode:"memory",initialValue:e.data}}),C_.config({ignore:e.ignoreFocus,onFocus:e=>{K_(e)}}),Xw.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:Vd(),onLeft:r,onRight:r,onEscape:(t,n)=>C_.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),R.none()):R.none():(C_.focus(t),R.some(!0))})])}},cx=[Ni("uid"),Ni("data"),Ni("components"),Ni("dom"),na("autofocus",!1),na("ignoreFocus",!1),Sg.field("widgetBehaviours",[wg,C_,Xw]),na("domModification",{}),_v(sx()),Nu("builder",lx)],ux=Ai("type",{widget:cx,item:ox,separator:ix}),dx=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}),hx=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}),mx=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}),px=C([nv({factory:{sketch:e=>{const t=Oi("menu.spec item",ux,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Se(t,"uid")?t:{...t,uid:_l("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),fx=C([Ni("value"),Ni("items"),Ni("dom"),Ni("components"),na("eventOrder",{}),_g("menuBehaviours",[Cy,wg,Hv,Xw]),oa("movement",{mode:"menu",moveOnTab:!0},Ai("mode",{grid:[Hu(),Nu("config",dx)],matrix:[Nu("config",hx),Ni("rowSelector"),na("previousSelector",R.none)],menu:[na("moveOnTab",!0),Nu("config",mx)]})),Mu(),na("fakeFocus",!1),na("focusManager",Zy()),Ru("onHighlight"),Ru("onDehighlight")]),gx=C("alloy.menu-focus"),vx=(e,t)=>{const n=sp(e.element,'[role="menuitemradio"][aria-checked="true"]');j(n,(n=>{St(n,t.element)||e.getSystem().getByDom(n).each((e=>{V_.off(e)}))}))},yx=(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Cg(e.menuBehaviours,[Cy.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),wg.config({store:{mode:"memory",initialValue:e.value}}),Hv.config({find:R.some}),Xw.config(e.movement.config(e,e.movement))]),events:Ls([Us(X_(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Cy.highlight(e,n),t.stop(),As(e,gx(),{menu:e,item:n})}))})),Us(J_(),((e,t)=>{const n=t.event.item;Cy.highlight(e,n)})),Us(Q_(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===nn(n.element,"role")&&vx(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}),bx=Pv({name:"Menu",configFields:fx(),partFields:px(),factory:yx}),wx=e=>fe(e,((e,t)=>({k:e,v:t}))),_x=(e,t,n,o)=>Ce(n,o).bind((o=>Ce(e,o).bind((o=>{const r=_x(e,t,n,o);return R.some([o].concat(r))})))).getOr([]),xx=(e,t)=>{const n={};me(e,((e,t)=>{j(e,(e=>{n[e]=t}))}));const o=t,r=wx(t),i=pe(r,((e,t)=>[t].concat(_x(n,o,r,t))));return pe(n,(e=>Ce(i,e).getOr([e])))},Cx=()=>{const e=ha({}),t=ha({}),n=ha({}),o=kh(),r=ha({}),i=()=>{e.set({}),t.set({}),n.set({}),o.clear()},a=()=>o.get().isNone(),s=(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},l=(i,a,s,l)=>{o.set(i),e.set(s),t.set(a),r.set(l);const c=xx(l,s);n.set(c)},c=t=>_e(e.get(),((e,n)=>e===t)),u=(e,t,n)=>f(e).bind((o=>c(e).bind((e=>t(e).map((e=>({triggeredMenu:o,triggeringItem:e,triggeringPath:n}))))))),d=(e,t)=>{const r=$(v(e).toArray(),(e=>f(e).isSome()));return Ce(n.get(),e).bind((e=>{const n=te(r.concat(e)),i=Q(n,((e,r)=>u(e,t,n.slice(0,r+1)).fold((()=>Ee(o.get(),e)?[]:[R.none()]),(e=>[R.some(e)]))));return Oe(i)}))},h=t=>Ce(e.get(),t).map((e=>{const o=Ce(n.get(),t).getOr([]);return[e].concat(o)})),m=e=>Ce(n.get(),e).bind((e=>e.length>1?R.some(e.slice(1)):R.none())),p=e=>Ce(n.get(),e),f=e=>g(e).bind(Sx),g=e=>Ce(t.get(),e),v=t=>Ce(e.get(),t),y=e=>{const t=r.get();return ne(de(t),e)},b=()=>o.get().bind(f),w=()=>t.get();return{setMenuBuilt:s,setContents:l,expand:h,refresh:p,collapse:m,lookupMenu:g,lookupItem:v,otherMenus:y,getPrimary:b,getMenus:w,clear:i,isClear:a,getTriggeringPath:d}},Sx=e=>"prepared"===e.type?R.some(e.menu):R.none(),kx={init:Cx,extractPreparedMenu:Sx},Ex=ml("tiered-menu-item-highlight"),Tx=ml("tiered-menu-item-dehighlight");var Mx;(function(e){e[e["HighlightMenuAndItem"]=0]="HighlightMenuAndItem",e[e["HighlightJustMenu"]=1]="HighlightJustMenu",e[e["HighlightNone"]=2]="HighlightNone"})(Mx||(Mx={}));const Ox=(e,t)=>{const n=kh(),o=(t,n,o)=>pe(o,((o,r)=>{const i=()=>bx.sketch({...o,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{const n={menuComp:e,itemComp:t};As(e,Ex,n)},onDehighlight:(e,t)=>{const n={menuComp:e,itemComp:t};As(e,Tx,n)},focusManager:e.fakeFocus?$y():Zy()});return r===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})),r=kx.init(),i=t=>{const n=o(t,e.data.primary,e.data.menus),i=l();return r.setContents(e.data.primary,n,e.data.expansions,i),r.getPrimary()},a=e=>wg.getValue(e).value,s=(e,t,n)=>ue(t,(e=>{if(!e.getSystem().isConnected())return R.none();const t=Cy.getCandidates(e);return Y(t,(e=>a(e)===n))})),l=t=>pe(e.data.menus,((e,t)=>Q(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),c=Cy.highlight,u=(t,n)=>{c(t,n),Cy.getHighlighted(n).orThunk((()=>Cy.getFirst(n))).each((o=>{e.fakeFocus?Cy.highlight(n,o):Ps(t,o.element,cs())}))},d=(e,t)=>Me(V(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?R.some(e.menu):R.none()))))),h=(t,n,o)=>{const r=d(n,n.otherMenus(o));j(r,(n=>{wc(n.element,[e.markers.backgroundMenu]),e.stayInDom||h_.remove(t,n)}))},m=t=>n.get().getOrThunk((()=>{const o={},r=sp(t.element,`.${e.markers.item}`),i=$(r,(e=>"true"===nn(e,"aria-haspopup")));return j(i,(e=>{t.getSystem().getByDom(e).each((e=>{const t=a(e);o[t]=e}))})),n.set(o),o})),p=(e,t)=>{const n=m(e);me(n,((e,n)=>{const o=H(t,n);en(e.element,"aria-expanded",o)}))},f=(t,n,o)=>R.from(o[0]).bind((r=>n.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return R.none();{const i=r.menu,a=d(n,o.slice(1));return j(a,(t=>{fc(t.element,e.markers.backgroundMenu)})),Yt(i.element)||h_.append(t,Xc(i)),wc(i.element,[e.markers.backgroundMenu]),u(t,i),h(t,n,o),R.some(i)}}))));let g;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(g||(g={}));const v=(e,t,n)=>{if("notbuilt"===n.type){const o=e.getSystem().build(n.nbMenu());return r.setMenuBuilt(t,o),o}return n.menu},y=(t,n,o=g.HighlightSubmenu)=>{if(n.hasConfigured(oy)&&oy.isDisabled(n))return R.some(n);{const i=a(n);return r.expand(i).bind((i=>(p(t,i),R.from(i[0]).bind((a=>r.lookupMenu(a).bind((s=>{const l=v(t,a,s);return Yt(l.element)||h_.append(t,Xc(l)),e.onOpenSubmenu(t,n,l,te(i)),o===g.HighlightSubmenu?(Cy.highlightFirst(l),f(t,r,i)):(Cy.dehighlightAll(l),R.some(n))})))))))}},w=(t,n)=>{const o=a(n);return r.collapse(o).bind((o=>(p(t,o),f(t,r,o).map((o=>(e.onCollapseMenu(t,n,o),o))))))},_=(e,t)=>{const n=a(t);return r.refresh(n).bind((t=>(p(e,t),f(e,r,t))))},x=(e,t)=>Iv(t.element)?R.none():y(e,t,g.HighlightSubmenu),C=(e,t)=>Iv(t.element)?R.none():w(e,t),S=(t,n)=>w(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))),k=t=>(n,o)=>lu(o.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(A))))),E=Ls([Us(gx(),((e,t)=>{const n=t.event.item;r.lookupItem(a(n)).each((()=>{const n=t.event.menu;Cy.highlight(e,n);const o=a(t.event.item);r.refresh(o).each((t=>h(e,r,t)))}))})),el(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{const o=a(n);0===o.indexOf("collapse-item")&&w(t,n),y(t,n,g.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),b)}))})),Js(((t,n)=>{i(t).each((n=>{h_.append(t,Xc(n)),e.onOpenMenu(t,n),e.highlightOnOpen===Mx.HighlightMenuAndItem?u(t,n):e.highlightOnOpen===Mx.HighlightJustMenu&&c(t,n)}))})),Us(Ex,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),Us(Tx,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[Us(J_(),((t,n)=>{const o=n.event.item;_(t,o),y(t,o,g.HighlightParent),e.onHover(t,o)}))]:[]]),T=e=>Cy.getHighlighted(e).bind(Cy.getHighlighted),M=e=>{T(e).each((t=>{w(e,t)}))},O=e=>{r.getPrimary().each((t=>{u(e,t)}))},D=e=>R.from(e.components()[0]).filter((e=>"menu"===nn(e.element,"role"))),P=t=>{const n=r.getPrimary().bind((e=>T(t).bind((e=>{const n=a(e),o=xe(r.getMenus()),i=Me(V(o,kx.extractPreparedMenu));return r.getTriggeringPath(n,(e=>s(t,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{D(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))},I={collapseMenu:M,highlightPrimary:O,repositionMenus:P};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Cg(e.tmenuBehaviours,[Xw.config({mode:"special",onRight:k(x),onLeft:k(C),onEscape:k(S),focusIn:(e,t)=>{r.getPrimary().each((t=>{Ps(e,t.element,cs())}))}}),Cy.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Hv.config({find:e=>Cy.getHighlighted(e)}),h_.config({})]),eventOrder:e.eventOrder,apis:I,events:E}},Dx=C("collapse-item"),Ax=(e,t,n)=>({primary:e,menus:t,expansions:n}),Rx=(e,t)=>({primary:e,menus:wa(e,t),expansions:{}}),Px=e=>({value:ml(Dx()),meta:{text:e}}),Ix=Rv({name:"TieredMenu",configFields:[zu("onExecute"),zu("onEscape"),Iu("onOpenMenu"),Iu("onOpenSubmenu"),Ru("onRepositionMenu"),Ru("onCollapseMenu"),na("highlightOnOpen",Mx.HighlightMenuAndItem),Wi("data",[Ni("primary"),Ni("menus"),Ni("expansions")]),na("fakeFocus",!1),Ru("onHighlightItem"),Ru("onDehighlightItem"),Ru("onHover"),Ou(),Ni("dom"),na("navigateOnHover",!0),na("stayInDom",!1),_g("tmenuBehaviours",[Xw,Cy,Hv,h_]),na("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:Ox,extraApis:{tieredData:Ax,singleData:Rx,collapseItem:Px}}),zx=(e,t,n,o,r)=>{const i=()=>e.lazySink(t),a="horizontal"===o.type?{layouts:{onLtr:()=>Sd(),onRtl:()=>kd()}}:{},s=e=>2===e.length,l=e=>s(e)?a:{};return Ix.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Hf.close(t),e.onEscape.map((e=>e(t))),R.some(!0)),onExecute:()=>R.some(!0),onOpenMenu:(e,t)=>{Qp.positionWithinBounds(i().getOrDie(),t,n,r())},onOpenSubmenu:(e,t,n,o)=>{const r=i().getOrDie();Qp.position(r,n,{anchor:{type:"submenu",item:t,...l(o)}})},onRepositionMenu:(e,t,o)=>{const a=i().getOrDie();Qp.positionWithinBounds(a,t,n,r()),j(o,(e=>{const t=l(e.triggeringPath);Qp.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})},Nx=(e,t)=>{const n=(t,n)=>{const o=e.getRelated(t);return o.exists((e=>mu(e,n)))},o=(e,t)=>{Hf.setContent(e,t)},r=(e,t,n)=>{const o=R.none;i(e,t,n,o)},i=(t,n,o,r)=>{const i=e.lazySink(t).getOrDie();Hf.openWhileCloaked(t,n,(()=>Qp.positionWithinBounds(i,t,o,r()))),wg.setValue(t,R.some({mode:"position",config:o,getBounds:r}))},a=(e,t,n)=>{s(e,t,n,R.none)},s=(t,n,o,r)=>{const i=zx(e,t,n,o,r);Hf.open(t,i),wg.setValue(t,R.some({mode:"menu",menu:i}))},l=e=>{Hf.isOpen(e)&&(wg.setValue(e,R.none()),Hf.close(e))},c=e=>Hf.getState(e),u=t=>{Hf.isOpen(t)&&wg.getValue(t).each((n=>{switch(n.mode){case"menu":Hf.getState(t).each(Ix.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();Qp.positionWithinBounds(o,t,n.config,n.getBounds());break}}))},d={setContent:o,showAt:r,showWithinBounds:i,showMenuAt:a,showMenuWithinBounds:s,hide:l,getContent:c,reposition:u,isOpen:Hf.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Cg(e.inlineBehaviours,[Hf.config({isPartOf:(e,t,o)=>mu(t,o)||n(e,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),wg.config({store:{mode:"memory",initialValue:R.none()}}),jd.config({channels:{...jf({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Zf({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:u})}})]),eventOrder:e.eventOrder,apis:d}},Lx=Rv({name:"InlineView",configFields:[Ni("lazySink"),Ru("onShow"),Ru("onHide"),Xi("onEscape"),_g("inlineBehaviours",[Hf,wg,jd]),ea("fireDismissalEventInstead",[na("event",_s())]),ea("fireRepositionEventInstead",[na("event",xs())]),na("getRelated",R.none),na("isExtraPart",D),na("eventOrder",R.none)],factory:Nx,apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithinBounds:(e,t,n,o,r)=>{e.showWithinBounds(t,n,o,r)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,r)=>{e.showMenuWithinBounds(t,n,o,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var Hx=tinymce.util.Tools.resolve("tinymce.util.Delay");const Fx=e=>{const t=W_(e.action),n=e.dom.tag,o=t=>Ce(e.dom,"attributes").bind((e=>Ce(e,t))),r=()=>{if("button"===n){const e=o("type").getOr("button"),t=o("role").map((e=>({role:e}))).getOr({});return{type:e,...t}}{const t=e.role.getOr(o("role").getOr("button"));return{role:t}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Sg.augment(e.buttonBehaviours,[C_.config({}),Xw.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:r()},eventOrder:e.eventOrder}},Bx=Rv({name:"Button",factory:Fx,configFields:[na("uid",void 0),Ni("dom"),na("components",[]),Sg.field("buttonBehaviours",[C_,Xw]),qi("action"),qi("role"),na("eventOrder",{})]}),Ux=e=>{const t=Ov(e)&&ke(e,"uid")?e.uid:_l("memento"),n=e=>e.getSystem().getByUid(t).getOrDie(),o=e=>e.getSystem().getByUid(t).toOptional(),r=()=>({...e,uid:t});return{get:n,getOpt:o,asSpec:r}};var Vx=tinymce.util.Tools.resolve("tinymce.util.I18n");const jx={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Wx="temporary-placeholder",Zx=e=>()=>Ce(e,Wx).getOr("!not found!"),$x=(e,t)=>{const n=e.toLowerCase();if(Vx.isRtl()){const e=He(n,"-rtl");return Se(t,e)?e:n}return n},qx=(e,t)=>Ce(t,$x(e,t)),Gx=(e,t)=>{const n=t();return qx(e,n).getOrThunk(Zx(n))},Kx=(e,t,n)=>{const o=t();return qx(e,o).or(n).getOrThunk(Zx(o))},Yx=e=>!!Vx.isRtl()&&Se(jx,e),Jx=()=>p_("add-focusable",[Js((e=>{au(e.element,"svg").each((e=>en(e,"focusable","false")))}))]),Xx=(e,t,n,o)=>{var r,i;const a=Yx(t)?["tox-icon--flip"]:[],s=Ce(n,$x(t,n)).or(o).getOrThunk(Zx(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(a),innerHtml:s},behaviours:Ld([...null!==(i=e.behaviours)&&void 0!==i?i:[],Jx()])}},Qx=(e,t,n,o=R.none())=>Xx(t,e,n(),o),eC=(e,t,n)=>{const o=n(),r=Y(e,(e=>Se(o,$x(e,o))));return Xx(t,r.getOr(Wx),o,R.none())},tC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},nC=e=>{const t=Ux({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Ld([h_.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=Ux({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:Ld([h_.config({})])}),i=(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{h_.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},a=(e,n)=>{if(e.getSystem().isConnected()){const o=t.get(e);h_.set(o,[$c(n)])}},s={updateProgress:i,updateText:a},l=X([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>R.from(tC[e]))).toArray()]),c=Ux(Bx.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qx("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),u=eC(l,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),d={dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Ld([h_.config({})])},h=[u,d];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Ld([C_.config({}),p_("notification-events",[Us(Za(),(e=>{c.getOpt(e).each(C_.focus)}))])]),components:h.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[c.asSpec()]:[]),apis:s}},oC=Rv({name:"Notification",factory:nC,configFields:[qi("level"),Ni("progress"),qi("icon"),Ni("onAction"),Ni("text"),Ni("iconProvider"),Ni("translationProvider"),sa("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var rC,iC,aC=(e,t,n)=>{const o=t.backstage.shared,r=()=>{const t=tr(Xe.fromDom(e.getContentAreaContainer())),n=ir(),o=Qu(n.x,t.x,t.right),r=Qu(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),a=Math.max(t.bottom,n.bottom);return R.some(er(o,r,i-o,a-r))},i=(t,i)=>{const a=()=>{i(),Lx.hide(l)},s=Jc(oC.sketch({text:t.text,level:H(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:a,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),l=Jc(Lx.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(l),v(t.timeout)&&t.timeout>0&&Hx.setEditorTimeout(e,(()=>{a()}),t.timeout);const c=()=>{const t=Xc(s),n={maxHeightFunction:Gh()},i=e.notificationManager.getNotifications();if(i[0]===u){const e={...o.anchors.banner(),overrides:n};Lx.showWithinBounds(l,t,{anchor:e},r)}else L(i,u).each((e=>{const o=i[e-1].getEl(),a={type:"node",root:Jt(),node:R.some(Xe.fromDom(o)),overrides:n,layouts:{onRtl:()=>[vd],onLtr:()=>[vd]}};Lx.showWithinBounds(l,t,{anchor:a},r)}))},u={close:a,reposition:c,text:e=>{oC.updateText(s,e)},settings:t,getEl:()=>s.element.dom,progressBar:{value:e=>{oC.updateProgress(s,e)}}};return u},a=e=>{e.close()},s=e=>e.settings;return{open:i,close:a,getArgs:s}},sC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lC=tinymce.util.Tools.resolve("tinymce.EditorManager"),cC=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e["default"]="wrap",e["floating"]="floating",e["sliding"]="sliding",e["scrolling"]="scrolling"})(rC||(rC={})),function(e){e["auto"]="auto",e["top"]="top",e["bottom"]="bottom"}(iC||(iC={}));const uC=e=>t=>t.options.get(e),dC=e=>t=>R.from(e(t)),hC=e=>{const t=cC.deviceType.isPhone(),n=cC.deviceType.isTablet()||t,o=e.options.register,r=e=>s(e)||!1===e,i=e=>s(e)||v(e);o("skin",{processor:e=>s(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:i,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:i,default:sC.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>s(e)||h(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>h(e)||s(e)||u(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),B(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:iC.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||h(e),default:!cC.deviceType.isTouch()}),o("sidebar_show",{processor:"string"})},mC=uC("readonly"),pC=uC("height"),fC=uC("width"),gC=dC(uC("min_width")),vC=dC(uC("min_height")),yC=dC(uC("max_width")),bC=dC(uC("max_height")),wC=dC(uC("style_formats")),_C=uC("style_formats_merge"),xC=uC("style_formats_autohide"),CC=uC("content_langs"),SC=uC("removed_menuitems"),kC=uC("toolbar_mode"),EC=uC("toolbar_groups"),TC=uC("toolbar_location"),MC=uC("fixed_toolbar_container"),OC=uC("fixed_toolbar_container_target"),DC=uC("toolbar_persist"),AC=uC("toolbar_sticky_offset"),RC=uC("menubar"),PC=uC("toolbar"),IC=uC("file_picker_callback"),zC=uC("file_picker_validator_handler"),NC=uC("font_size_input_default_unit"),LC=uC("file_picker_types"),HC=uC("typeahead_urls"),FC=uC("anchor_top"),BC=uC("anchor_bottom"),UC=uC("draggable_modal"),VC=uC("statusbar"),jC=uC("elementpath"),WC=uC("branding"),ZC=uC("resize"),$C=uC("paste_as_text"),qC=uC("sidebar_show"),GC=uC("promotion"),KC=e=>!1===e.options.get("skin"),YC=e=>!1!==e.options.get("menubar"),JC=e=>{const t=e.options.get("skin_url");if(KC(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return lC.baseURL+"/skins/ui/"+t}},XC=e=>e.options.get("line_height_formats").split(" "),QC=e=>{const t=PC(e),n=s(t),o=u(t)&&t.length>0;return!tS(e)&&(o||n||!0===t)},eS=e=>{const t=B(9,(t=>e.options.get("toolbar"+(t+1)))),n=$(t,s);return Pe(n.length>0,n)},tS=e=>eS(e).fold((()=>{const t=PC(e);return y(t,s)&&t.length>0}),A),nS=e=>TC(e)===iC.bottom,oS=e=>{var t;if(!e.inline)return R.none();const n=null!==(t=MC(e))&&void 0!==t?t:"";if(n.length>0)return su(Jt(),n);const o=OC(e);return f(o)?R.some(Xe.fromDom(o)):R.none()},rS=e=>e.inline&&oS(e).isSome(),iS=e=>{const t=oS(e);return t.getOrThunk((()=>Wt(jt(Xe.fromDom(e.getElement())))))},aS=e=>e.inline&&!YC(e)&&!QC(e)&&!tS(e),sS=e=>{const t=e.options.get("toolbar_sticky");return(t||e.inline)&&!rS(e)&&!aS(e)},lS=e=>!rS(e)&&"split"===e.options.get("ui_mode"),cS=e=>{const t=e.options.get("menu");return pe(t,(e=>({...e,items:e.items})))};var uS=Object.freeze({__proto__:null,get ToolbarMode(){return rC},get ToolbarLocation(){return iC},register:hC,getSkinUrl:JC,isReadOnly:mC,isSkinDisabled:KC,getHeightOption:pC,getWidthOption:fC,getMinWidthOption:gC,getMinHeightOption:vC,getMaxWidthOption:yC,getMaxHeightOption:bC,getUserStyleFormats:wC,shouldMergeStyleFormats:_C,shouldAutoHideStyleFormats:xC,getLineHeightFormats:XC,getContentLanguages:CC,getRemovedMenuItems:SC,isMenubarEnabled:YC,isMultipleToolbars:tS,isToolbarEnabled:QC,isToolbarPersist:DC,getMultipleToolbarsOption:eS,getUiContainer:iS,useFixedContainer:rS,isSplitUiMode:lS,getToolbarMode:kC,isDraggableModal:UC,isDistractionFree:aS,isStickyToolbar:sS,getStickyToolbarOffset:AC,getToolbarLocation:TC,isToolbarLocationBottom:nS,getToolbarGroups:EC,getMenus:cS,getMenubar:RC,getToolbar:PC,getFilePickerCallback:IC,getFilePickerTypes:LC,useTypeaheadUrls:HC,getAnchorTop:FC,getAnchorBottom:BC,getFilePickerValidatorHandler:zC,getFontSizeInputDefaultUnit:NC,useStatusBar:VC,useElementPath:jC,promotionEnabled:GC,useBranding:WC,getResize:ZC,getPasteAsText:$C,getSidebarShow:qC});const dS="[data-mce-autocompleter]",hS=e=>lu(e,dS),mS=e=>su(e,dS),pS=(e,t)=>{const n=(e,t)=>{As(e,qa(),{raw:t})},o=()=>e.getMenu().bind(Cy.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(Rs),t.preventDefault()):40===r?(o().fold((()=>{e.getMenu().each(Cy.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&hS(Xe.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},fS={setup:pS};var gS;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(gS||(gS={}));var vS=gS;const yS="tox-menu-nav__js",bS="tox-collection__item",wS="tox-swatch",_S={normal:yS,color:wS},xS="tox-collection__item--enabled",CS="tox-collection__group-heading",SS="tox-collection__item-icon",kS="tox-collection__item-label",ES="tox-collection__item-accessory",TS="tox-collection__item-caret",MS="tox-collection__item-checkmark",OS="tox-collection__item--active",DS="tox-collection__item-container",AS="tox-collection__item-container--column",RS="tox-collection__item-container--row",PS="tox-collection__item-container--align-right",IS="tox-collection__item-container--align-left",zS="tox-collection__item-container--valign-top",NS="tox-collection__item-container--valign-middle",LS="tox-collection__item-container--valign-bottom",HS=e=>Ce(_S,e).getOr(yS),FS=e=>"color"===e?"tox-swatches":"tox-menu",BS=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:FS(e),tieredMenu:"tox-tiered-menu"}),US=e=>{const t=BS(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:HS(e)}},VS=(e,t,n)=>{const o=BS(n);return{tag:"div",classes:X([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},jS=[bx.parts.items({})],WS=(e,t,n)=>{const o=BS(n),r={tag:"div",classes:X([[o.tieredMenu]])};return{dom:r,markers:US(n)}},ZS=C([qi("data"),na("inputAttributes",{}),na("inputStyles",{}),na("tag","input"),na("inputClasses",[]),Ru("onSetValue"),na("styles",{}),na("eventOrder",{}),_g("inputBehaviours",[wg,C_]),na("selectOnFocus",!0)]),$S=e=>Ld([C_.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=Sc(t);t.dom.setSelectionRange(0,n.length)}:b})]),qS=e=>({...$S(e),...Cg(e.inputBehaviours,[wg.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Sc(e.element),setValue:(e,t)=>{const n=Sc(e.element);n!==t&&kc(e.element,t)}},onSetValue:e.onSetValue})])}),GS=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),KS=(e,t)=>({uid:e.uid,dom:GS(e),components:[],behaviours:qS(e),eventOrder:e.eventOrder}),YS=Rv({name:"Input",configFields:ZS(),factory:KS}),JS=ml("refetch-trigger-event"),XS=ml("redirect-menu-item-interaction"),QS="tox-menu__searcher",ek=e=>su(e.element,`.${QS}`).bind((t=>e.getSystem().getByDom(t).toOptional())),tk=ek,nk=(e,t)=>{wg.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd},ok=e=>{const t=wg.getValue(e),n=e.element.dom.selectionStart,o=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:n,selectionEnd:o}},rk=(e,t)=>{on(t.element,"id").each((t=>en(e.element,"aria-activedescendant",t)))},ik=e=>{const t=(e,t)=>(t.cut(),R.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return As(e,XS,n),R.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[bS]},components:[YS.sketch({inputClasses:[QS,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ld([p_(o,[Us(Ka(),(e=>{Ds(e,JS)})),Us(qa(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),Xw.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,Xw.name()]}})]}},ak="tox-collection--results__js",sk=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:ml("aria-item-search-result-id"),"aria-selected":"false"}}}:e},lk=(e,t)=>n=>{const o=U(n,t);return V(o,(t=>({dom:e,components:t})))},ck=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[bx.parts.items({preprocess:"auto"!==e?lk({tag:"div",classes:["tox-swatches__row"]},e):S})]}]}),uk=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[bx.parts.items({preprocess:lk({tag:"div",classes:["tox-collection__group"]},e)})]}),dk=(e,t)=>{const n=[];let o=[];return j(e,((e,r)=>{t(e,r)?(o.length>0&&n.push(o),o=[],(Se(e.dom,"innerHtml")||e.components&&e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),V(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},hk=(e,t,n)=>bx.parts.items({preprocess:o=>{const r=V(o,n);return"auto"!==e&&e>1?lk({tag:"div",classes:["tox-collection__group"]},e)(r):dk(r,((e,n)=>"separator"===t[n].type))}}),mk=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[hk(e,t,S)]}),pk=(e,t,n=!0)=>{const o=ml("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",ak].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[hk(e,t,sk)]}},fk=(e,t,n)=>{const o=ml("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[ik({i18n:Vx.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],ak],attributes:{id:o}},components:[hk(e,t,sk)]}]}},gk=(e,t=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[bx.parts.items({preprocess:t=>dk(t,((t,n)=>"separator"===e[n].type))})]}),vk=e=>F(e,(e=>"icon"in e&&void 0!==e.icon)),yk=e=>(console.error(Di(e)),console.log(e),R.none()),bk=(e,t,n,o,r)=>{const i=gk(n);return{value:e,dom:i.dom,components:i.components,items:n}},wk=(e,t,n,o,r)=>{const i=()=>"searchable"!==r.menuType?mk(o,n):"search-with-field"===r.searchMode.searchMode?fk(o,n,r.searchMode):pk(o,n);if("color"===r.menuType){const t=ck(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType&&"auto"===o){const t=mk(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType||"searchable"===r.menuType){const t=i();return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===r.menuType&&"auto"!==o){const t=uk(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:VS(t,o,r.menuType),components:jS,items:n}},_k=Fi("type"),xk=Fi("name"),Ck=Fi("label"),Sk=Fi("text"),kk=Fi("title"),Ek=Fi("icon"),Tk=Fi("value"),Mk=Vi("fetch"),Ok=Vi("getSubmenuItems"),Dk=Vi("onAction"),Ak=Vi("onItemAction"),Rk=la("onSetup",(()=>b)),Pk=Yi("name"),Ik=Yi("text"),zk=Yi("icon"),Nk=Yi("tooltip"),Lk=Yi("label"),Hk=Yi("shortcut"),Fk=Xi("select"),Bk=sa("active",!1),Uk=sa("borderless",!1),Vk=sa("enabled",!0),jk=sa("primary",!1),Wk=e=>na("columns",e),Zk=na("meta",{}),$k=la("onAction",b),qk=e=>ia("type",e),Gk=e=>Pi("name","name",Rr((()=>ml(`${e}-name`))),gi),Kk=e=>Pi("value","value",Rr((()=>ml(`${e}-value`))),mi()),Yk=si([_k,Ik]),Jk=e=>Ti("separatormenuitem",Yk,e),Xk=si([qk("autocompleteitem"),Bk,Vk,Zk,Tk,Ik,zk]),Qk=e=>Ti("Autocompleter.Separator",Yk,e),eE=e=>Ti("Autocompleter.Item",Xk,e),tE=[Vk,Nk,zk,Ik,Rk],nE=si([_k,Dk].concat(tE)),oE=e=>Ti("toolbarbutton",nE,e),rE=[Bk].concat(tE),iE=si(rE.concat([_k,Dk])),aE=e=>Ti("ToggleButton",iE,e),sE=[la("predicate",D),aa("scope","node",["node","editor"]),aa("position","selection",["node","selection","line"])],lE=tE.concat([qk("contextformbutton"),jk,Dk,Ii("original",S)]),cE=rE.concat([qk("contextformbutton"),jk,Dk,Ii("original",S)]),uE=tE.concat([qk("contextformbutton")]),dE=rE.concat([qk("contextformtogglebutton")]),hE=Ai("type",{contextformbutton:lE,contextformtogglebutton:cE}),mE=si([qk("contextform"),la("initValue",C("")),Lk,$i("commands",hE),Gi("launch",Ai("type",{contextformbutton:uE,contextformtogglebutton:dE}))].concat(sE)),pE=e=>Ti("ContextForm",mE,e),fE=si([qk("contexttoolbar"),Fi("items")].concat(sE)),gE=e=>Ti("ContextToolbar",fE,e),vE=[_k,Fi("src"),Yi("alt"),ua("classes",[],gi)],yE=si(vE),bE=[_k,Sk,Pk,ua("classes",["tox-collection__item-label"],gi)],wE=si(bE),_E=ri((()=>xi("type",{cardimage:yE,cardtext:wE,cardcontainer:xE}))),xE=si([_k,ia("direction","horizontal"),ia("align","left"),ia("valign","middle"),$i("items",_E)]),CE=[Vk,Ik,Hk,Kk("menuitem"),Zk],SE=si([_k,Lk,$i("items",_E),Rk,$k].concat(CE)),kE=e=>Ti("cardmenuitem",SE,e),EE=si([_k,Bk,zk].concat(CE)),TE=e=>Ti("choicemenuitem",EE,e),ME=[_k,Fi("fancytype"),$k],OE=[na("initData",{})].concat(ME),DE=[Xi("select"),da("initData",{},[sa("allowCustomColors",!0),ia("storageKey","default"),Qi("colors",mi())])].concat(ME),AE=Ai("fancytype",{inserttable:OE,colorswatch:DE}),RE=e=>Ti("fancymenuitem",AE,e),PE=si([_k,Rk,$k,zk].concat(CE)),IE=e=>Ti("menuitem",PE,e),zE=si([_k,Ok,Rk,zk].concat(CE)),NE=e=>Ti("nestedmenuitem",zE,e),LE=si([_k,zk,Bk,Rk,Dk].concat(CE)),HE=e=>Ti("togglemenuitem",LE,e),FE=(e,t,n)=>{const o=sp(e.element,"."+n);if(o.length>0){const e=J(o,(e=>{const n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return R.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return R.none()},BE=(e,t)=>Ld([p_(e,t)]),UE=e=>BE(ml("unnamed-events"),e),VE={namedEvents:BE,unnamedEvents:UE},jE=ml("tooltip.exclusive"),WE=ml("tooltip.show"),ZE=ml("tooltip.hide"),$E=(e,t,n)=>{e.getSystem().broadcastOn([jE],{})},qE=(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&h_.set(e,o)}))};var GE=Object.freeze({__proto__:null,hideAllExclusive:$E,setComponents:qE});const KE=(e,t)=>{const n=n=>{t.getTooltip().each((o=>{mf(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()},o=n=>{if(!t.isShowing()){$E(n);const o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ls("normal"===e.mode?[Us(Wa(),(e=>{Ds(n,WE)})),Us(Va(),(e=>{Ds(n,ZE)}))]:[]),behaviours:Ld([h_.config({})])});t.setTooltip(r),uf(o,r),e.onShow(n,r),Qp.position(o,r,{anchor:e.anchor(n)})}};return Ls(X([[Us(WE,(n=>{t.resetTimer((()=>{o(n)}),e.delay)})),Us(ZE,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),Us(ss(),((e,t)=>{const o=t;o.universal||H(o.channels,jE)&&n(e)})),Xs((e=>{n(e)}))],"normal"===e.mode?[Us(Za(),(e=>{Ds(e,WE)})),Us(is(),(e=>{Ds(e,ZE)})),Us(Wa(),(e=>{Ds(e,WE)})),Us(Va(),(e=>{Ds(e,ZE)}))]:[Us(Ms(),((e,t)=>{Ds(e,WE)})),Us(Os(),(e=>{Ds(e,ZE)}))]]))};var YE=Object.freeze({__proto__:null,events:KE}),JE=[Ni("lazySink"),Ni("tooltipDom"),na("exclusive",!0),na("tooltipComponents",[]),na("delay",300),aa("mode","normal",["normal","follow-highlight"]),na("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:C([vd,gd,hd,pd,md,fd]),onRtl:C([vd,gd,hd,pd,md,fd])}}))),Ru("onHide"),Ru("onShow")];const XE=()=>{const e=kh(),t=kh(),n=()=>{e.on(clearTimeout)},o=(t,o)=>{n(),e.set(setTimeout(t,o))},r=C("not-implemented");return zl({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:o,readState:r})};var QE=Object.freeze({__proto__:null,init:XE});const eT=Fd({fields:JE,name:"tooltipping",active:YE,state:QE,apis:GE}),tT=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),nT="silver.readonly",oT=si([Ui("readonly")]),rT=(e,t)=>{const n=e.mainUi.outerContainer,o=n.element,r=[e.mainUi.mothership,...e.uiMotherships];t&&j(r,(e=>{e.broadcastOn([Ff()],{target:o})})),j(r,(e=>{e.broadcastOn([nT],{readonly:t})}))},iT=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&rT(t,!0)})),e.on("SwitchMode",(()=>rT(t,e.mode.isReadOnly()))),mC(e)&&e.mode.set("readonly")},aT=()=>jd.config({channels:{[nT]:{schema:oT,onReceive:(e,t)=>{oy.set(e,t.readonly)}}}}),sT=e=>oy.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),lT=e=>oy.config({disabled:e}),cT=e=>oy.config({disabled:e,disableClass:"tox-tbtn--disabled"}),uT=e=>oy.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),dT={item:sT,button:lT,splitButton:cT,toolbarButton:uT},hT=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},mT=(e,t)=>Js((n=>{const o=hT(e,n);o((n=>{const o=e.onSetup(n);g(o)&&t.set(o)}))})),pT=(e,t)=>Xs((n=>hT(e,n)(t.get()))),fT=(e,t)=>el(((n,o)=>{hT(e,n)(e.onAction),e.triggersSubmenu||t!==vS.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ds(n,hs()),o.stop())})),gT={[ls()]:["disabling","alloy.base.behaviour","toggling","item-events"]},vT=Me,yT=(e,t,n,o)=>{const r=ha(b);return{type:"item",dom:t.dom,components:vT(t.optComponents),data:e.data,eventOrder:gT,hasSubmenu:e.triggersSubmenu,itemBehaviours:Ld([p_("item-events",[fT(e,n),mT(e,r),pT(e,r)]),dT.item((()=>!e.enabled||o.isDisabled())),aT(),h_.config({})].concat(e.itemBehaviours))}},bT=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),wT=e=>{const t=cC.os.isMacOS()||cC.os.isiOS(),n={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"},o={meta:"Ctrl",access:"Shift+Alt"},r=t?n:o,i=e.split("+"),a=V(i,(e=>{const t=e.toLowerCase().trim();return Se(r,t)?r[t]:e}));return t?a.join(""):a.join("+")},_T=(e,t,n=[SS])=>Qx(e,{tag:"div",classes:n},t),xT=e=>({dom:{tag:"div",classes:[kS]},components:[$c(Vx.translate(e))]}),CT=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),ST=(e,t)=>({dom:{tag:"div",classes:[kS]},components:[{dom:{tag:e.tag,styles:e.styles},components:[$c(Vx.translate(t))]}]}),kT=e=>({dom:{tag:"div",classes:[ES]},components:[$c(wT(e))]}),ET=e=>_T("checkmark",e,[MS]),TT=e=>_T("chevron-right",e,[TS]),MT=e=>_T("chevron-down",e,[TS]),OT=(e,t)=>{const n="vertical"===e.direction?AS:RS,o="left"===e.align?IS:PS,r=()=>{switch(e.valign){case"top":return zS;case"middle":return NS;case"bottom":return LS}};return{dom:{tag:"div",classes:[DS,n,o,r()]},components:t}},DT=(e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}),AT=(e,t,n)=>{const o="custom",r="remove",i=e.ariaLabel,a=e.value,s=e.iconContent.map((e=>Kx(e,t.icons,n))),l=()=>{const e=wS,n=s.getOr(""),l=i.map((e=>({title:t.translate(e)}))).getOr({}),c={tag:"div",attributes:l,classes:[e]};return a===o?{...c,tag:"button",classes:[...c.classes,"tox-swatches__picker-btn"],innerHtml:n}:a===r?{...c,classes:[...c.classes,"tox-swatch--remove"],innerHtml:n}:f(a)?{...c,attributes:{...c.attributes,"data-mce-color":a},styles:{"background-color":a},innerHtml:n}:c};return{dom:l(),optComponents:[]}},RT=e=>{const t=e.map((e=>({attributes:{title:Vx.translate(e),id:ml("menu-item")}}))).getOr({});return{tag:"div",classes:[yS,bS],...t}},PT=(e,t,n,o)=>{const r={tag:"div",classes:[SS]},i=e=>Qx(e,r,t.icons,o),a=()=>R.some({dom:r}),s=n?e.iconContent.map(i).orThunk(a):R.none(),l=e.checkMark,c=R.from(e.meta).fold((()=>xT),(e=>Se(e,"style")?E(ST,e.style):xT)),u=e.htmlContent.fold((()=>e.textContent.map(c)),(e=>R.some(CT(e,[kS])))),d={dom:RT(e.ariaLabel),optComponents:[s,u,e.shortcutContent.map(kT),l,e.caret]};return d},IT=(e,t,n,o=R.none())=>"color"===e.presets?AT(e,t,o):PT(e,t,n,o),zT=(e,t)=>Ce(e,"tooltipWorker").map((e=>[eT.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Gh}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{eT.setComponents(t,[qc({element:Xe.fromDom(e)})])}))}})])).getOr([]),NT=e=>sC.DOM.encode(e),LT=(e,t)=>{const n=Vx.translate(e),o=NT(n);if(t.length>0){const e=new RegExp(tT(t),"gi");return o.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return o},HT=(e,t,n,o,r,i,a,s=!0)=>{const l=IT({presets:o,textContent:R.none(),htmlContent:n?e.text.map((e=>LT(e,t))):R.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:e.value},a.providers,s,e.icon);return yT({data:bT(e),enabled:e.enabled,getApi:C({}),onAction:t=>r(e.value,e.meta),onSetup:C(b),triggersSubmenu:!1,itemBehaviours:zT(e.meta,a)},l,i,a.providers)},FT=(e,t)=>V(e,(e=>{switch(e.type){case"cardcontainer":return OT(e,FT(e.items,t));case"cardimage":return DT(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>H(t.cardText.highlightOn,e))),o=n?R.from(t.cardText.matchText).getOr(""):"";return CT(LT(e.text,o),e.classes)}})),BT=(e,t,n,o)=>{const r=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>{oy.set(e,!t),j(sp(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(oy)&&oy.set(e,!t)}))}))}}),i={dom:RT(e.label),optComponents:[R.some({dom:{tag:"div",classes:[DS,RS]},components:FT(e.items,o)})]};return yT({data:bT({text:R.none(),...e}),enabled:e.enabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:R.from(o.itemBehaviours).getOr([])},i,t,n.providers)},UT=(e,t,n,o,r,i,a,s=!0)=>{const l=e=>({setActive:t=>{V_.set(e,t)},isActive:()=>V_.isOn(e),isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t)}),c=IT({presets:n,textContent:t?e.text:R.none(),htmlContent:R.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:R.none(),checkMark:t?R.some(ET(a.icons)):R.none(),caret:R.none(),value:e.value},a,s);return Or(yT({data:bT(e),enabled:e.enabled,getApi:l,onAction:t=>o(e.value),onSetup:e=>(e.setActive(r),b),triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:xS,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},VT=sv(ax(),sx()),jT=e=>({value:qT(e)}),WT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ZT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$T=e=>WT.test(e)||ZT.test(e),qT=e=>Le(e,"#").toUpperCase(),GT=e=>$T(e)?R.some({value:qT(e)}):R.none(),KT=e=>{const t=e.value.replace(WT,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}},YT=e=>{const t=KT(e),n=ZT.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},JT=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},XT=e=>{const t=JT(e.red)+JT(e.green)+JT(e.blue);return jT(t)},QT=Math.min,eM=Math.max,tM=Math.round,nM=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,oM=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rM=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),iM=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},aM=e=>{let t,n,o;const r=(e.hue||0)%360;let i=e.saturation/100,a=e.value/100;if(i=eM(0,QT(i,1)),a=eM(0,QT(a,1)),0===i)return t=n=o=tM(255*a),rM(t,n,o,1);const s=r/60,l=a*i,c=l*(1-Math.abs(s%2-1)),u=a-l;switch(Math.floor(s)){case 0:t=l,n=c,o=0;break;case 1:t=c,n=l,o=0;break;case 2:t=0,n=l,o=c;break;case 3:t=0,n=c,o=l;break;case 4:t=c,n=0,o=l;break;case 5:t=l,n=0,o=c;break;default:t=n=o=0}return t=tM(255*(t+u)),n=tM(255*(n+u)),o=tM(255*(o+u)),rM(t,n,o,1)},sM=e=>{const t=YT(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return rM(n,o,r,1)},lM=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(o);return rM(r,i,a,s)},cM=e=>{if("transparent"===e)return R.some(rM(0,0,0,0));const t=nM.exec(e);if(null!==t)return R.some(lM(t[1],t[2],t[3],"1"));const n=oM.exec(e);return null!==n?R.some(lM(n[1],n[2],n[3],n[4])):R.none()},uM=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,dM=rM(255,0,0,1),hM=e=>{e.dispatch("SkinLoaded")},mM=(e,t)=>{e.dispatch("SkinLoadError",t)},pM=e=>{e.dispatch("ResizeEditor")},fM=(e,t)=>{e.dispatch("ResizeContent",t)},gM=(e,t)=>{e.dispatch("ScrollContent",t)},vM=(e,t)=>{e.dispatch("TextColorChange",t)},yM=(e,t)=>{e.dispatch("AfterProgressState",{state:t})},bM=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),wM=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})},_M=(e,t)=>()=>{e(),t()},xM=e=>kM(e,"NodeChange",(t=>{t.setEnabled(e.selection.isEditable())})),CM=(e,t)=>n=>{const o=Sh(),r=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),o.clear()}},SM=(e,t)=>n=>{const o=xM(e)(n),r=CM(e,t)(n);return()=>{o(),r()}},kM=(e,t,n)=>o=>{const r=()=>n(o),i=()=>{n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,r)}},EM=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},TM=(e,t)=>()=>e.execCommand(t);var MM=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const OM={},DM=(e,t=10)=>{const n=MM.getItem(e),o=s(n)?JSON.parse(n):[],r=e=>{const n=t-e.length;return n<0?e.slice(0,t):e},i=r(o),a=n=>{L(i,n).each(l),i.unshift(n),i.length>t&&i.pop(),MM.setItem(e,JSON.stringify(i))},l=e=>{i.splice(e,1)},c=()=>i.slice(0);return{add:a,state:c}},AM=e=>Ce(OM,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=MM.getItem(t);if(p(n)){const e=MM.getItem("tinymce-custom-colors");MM.setItem(t,f(e)?e:"[]")}const o=DM(t,10);return OM[e]=o,o})),RM=e=>V(AM(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))),PM=(e,t)=>{AM(e).add(t)},IM=(e,t,n)=>({hue:e,saturation:t,value:n}),zM=e=>{let t=0,n=0,o=0;const r=e.red/255,i=e.green/255,a=e.blue/255,s=Math.min(r,Math.min(i,a)),l=Math.max(r,Math.max(i,a));if(s===l)return o=s,IM(0,0,100*o);const c=r===s?i-a:a===s?r-i:a-r;return t=r===s?3:a===s?1:5,t=60*(t-c/(l-s)),n=(l-s)/l,o=l,IM(Math.round(t),Math.round(100*n),Math.round(100*o))},NM=e=>zM(sM(e)),LM=e=>XT(aM(e)),HM=e=>GT(e).orThunk((()=>cM(e).map(XT))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],s=o[3];return XT(rM(r,i,a,s))})),FM="forecolor",BM="hilitecolor",UM=5,VM=e=>Math.max(UM,Math.ceil(Math.sqrt(e))),jM=(e,t)=>{const n=VM(t),o=ZM("color_cols")(e);return UM===n?o:n},WM=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+HM(e[n]).value,icon:"checkmark",type:"choiceitem"});return t},ZM=e=>t=>t.options.get(e),$M="#000000",qM=e=>{const t=e.options.register,n=e=>y(e,s)?{value:WM(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:"number",default:VM(JM(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:jM(e,JM(e,FM).length)}),t("color_cols_background",{processor:"number",default:jM(e,JM(e,BM).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:$M}),t("color_default_background",{processor:"string",default:$M})},GM=(e,t)=>t===FM?ZM("color_cols_foreground")(e):t===BM?ZM("color_cols_background")(e):ZM("color_cols")(e),KM=(e,t)=>{const n=GM(e,t);return n>0?n:UM},YM=ZM("custom_colors"),JM=(e,t)=>t===FM&&e.options.isSet("color_map_foreground")?ZM("color_map_foreground")(e):t===BM&&e.options.isSet("color_map_background")?ZM("color_map_background")(e):ZM("color_map")(e),XM=ZM("color_default_foreground"),QM=ZM("color_default_background"),eO="rgba(0, 0, 0, 0)",tO=e=>cM(e).exists((e=>0!==e.alpha)),nO=e=>Ta(e,(e=>{if(ft(e)){const t=mn(e,"background-color");return Pe(tO(t),t)}return R.none()})).getOr(eO),oO=(e,t)=>{const n=Xe.fromDom(e.selection.getStart()),o="hilitecolor"===t?nO(n):mn(n,"color");return cM(o).map((e=>"#"+XT(e).value))},rO=(e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))},iO=(e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))},aO=e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{rO(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{iO(e,t)}))},sO=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},o={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,o]:[n]},lO=(e,t,n,o)=>{if("custom"===n){const n=fO(e);n((n=>{n.each((n=>{PM(t,n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),oO(e,t).getOr($M))}else"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},cO=(e,t,n)=>e.concat(RM(t).concat(sO(n))),uO=(e,t,n)=>o=>{o(cO(e,t,n))},dO=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},hO=(e,t)=>n=>{const o=oO(e,t);return Ee(o,n.toUpperCase())},mO=(e,t,n,o,r)=>{e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:hO(e,n),columns:KM(e,n),fetch:uO(JM(e,n),n,YM(e)),onAction:t=>{lO(e,n,r.get(),b)},onItemAction:(o,i)=>{lO(e,n,i,(n=>{r.set(n),vM(e,{name:t,color:n})}))},onSetup:n=>{dO(n,t,r.get());const o=e=>{e.name===t&&dO(n,e.name,e.color)};return e.on("TextColorChange",o),_M(xM(e)(n),(()=>{e.off("TextColorChange",o)}))}})},pO=(e,t,n,o,r)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:n=>(dO(n,t,r.get()),xM(e)(n)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:hO(e,n),initData:{storageKey:n},onAction:o=>{lO(e,n,o.value,(n=>{r.set(n),vM(e,{name:t,color:n})}))}}]})},fO=e=>(t,n)=>{let o=!1;const r=n=>{const r=n.getData(),i=r.colorpicker;o?(t(R.from(i)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",i]))},i=(e,t)=>{"hex-valid"===t.name&&(o=t.value)},a={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:i,onSubmit:r,onClose:b,onCancel:()=>{t(R.none())}})},gO=e=>{aO(e);const t=XM(e),n=QM(e),o=ha(t),r=ha(n);mO(e,"forecolor","forecolor","Text color",o),mO(e,"backcolor","hilitecolor","Background color",r),pO(e,"forecolor","forecolor","Text color",o),pO(e,"backcolor","hilitecolor","Background color",r)},vO=(e,t,n,o,r,i,a,s)=>{const l=vk(t),c="color"!==r?"normal":"color",u=yO(t,n,o,c,i,a,s),d={menuType:r};return wk(e,l,u,o,d)},yO=(e,t,n,o,r,i,a)=>Me(V(e,(s=>"choiceitem"===s.type?TE(s).fold(yk,(s=>R.some(UT(s,1===n,o,t,i(s.value),r,a,vk(e))))):R.none()))),bO=(e,t)=>{const n=US(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};{const e="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+e,previousSelector:e=>"color"===t?su(e.element,"[aria-checked=true]"):R.none()}}},wO=(e,t)=>1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?`.${wS}`:`.${bS}`}},_O=(e,t)=>{const n=xO(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),r="color",i=vO(ml("menu-value"),n,(t=>{e.onAction({value:t})}),o,r,vS.CLOSE_ON_EXECUTE,e.select.getOr(D),t.shared.providers),a={...i,markers:US(r),movement:bO(o,r)};return{type:"widget",data:{value:ml("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[VT.widget(bx.sketch(a))]}},xO=(e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>cO(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(sO(n))))},CO=ml("cell-over"),SO=ml("cell-execute"),kO=(e,t,n)=>{const o=n=>As(n,CO,{row:e,col:t}),r=n=>As(n,SO,{row:e,col:t}),i=(e,t)=>{t.stop(),r(e)};return Jc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:n}},behaviours:Ld([p_("insert-table-picker-cell",[Us(Wa(),C_.focus),Us(ls(),r),Us(Ja(),i),Us(us(),i)]),V_.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),C_.config({onFocus:o})])})},EO=(e,t,n)=>{const o=[];for(let r=0;r<t;r++){const t=[];for(let o=0;o<n;o++)t.push(kO(r,o,e));o.push(t)}return o},TO=(e,t,n,o,r)=>{for(let i=0;i<o;i++)for(let o=0;o<r;o++)V_.set(e[i][o],i<=t&&o<=n)},MO=e=>Q(e,(e=>V(e,Xc))),OO=(e,t)=>$c(`${t}x${e}`),DO=e=>{const t=10,n=10,o=ml("size-label"),r=EO(o,t,n),i=OO(0,0),a=Ux({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:o}},components:[i],behaviours:Ld([h_.config({})])});return{type:"widget",data:{value:ml("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[VT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:MO(r).concat(a.asSpec()),behaviours:Ld([p_("insert-table-picker",[Js((e=>{h_.set(a.get(e),[i])})),qs(CO,((e,o,i)=>{const{row:s,col:l}=i.event;TO(r,s,l,t,n),h_.set(a.get(e),[OO(s+1,l+1)])})),qs(SO,((t,n,o)=>{const{row:r,col:i}=o.event;e.onAction({numRows:r+1,numColumns:i+1}),Ds(t,hs())}))]),Xw.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},AO={inserttable:DO,colorswatch:_O},RO=(e,t)=>Ce(AO,e.fancytype).map((n=>n(e,t))),PO=(e,t,n,o=!0,r=!1)=>{const i=r?MT(n.icons):TT(n.icons),a=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t),setIconFill:(t,n)=>{su(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{en(e,"fill",n)}))}}),s=IT({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,caret:R.some(i),checkMark:R.none(),shortcutContent:e.shortcut},n,o);return yT({data:bT(e),getApi:a,enabled:e.enabled,onAction:b,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t,n)},IO=(e,t,n,o=!0)=>{const r=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t)}),i=IT({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,caret:R.none(),checkMark:R.none(),shortcutContent:e.shortcut},n,o);return yT({data:bT(e),getApi:r,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},zO=e=>({type:"separator",dom:{tag:"div",classes:[bS,CS]},components:e.text.map($c).toArray()}),NO=(e,t,n,o=!0)=>{const r=e=>({setActive:t=>{V_.set(e,t)},isActive:()=>V_.isOn(e),isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t)}),i=IT({iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,checkMark:R.some(ET(n.icons)),caret:R.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return Or(yT({data:bT(e),enabled:e.enabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:xS,toggleOnExecute:!1,selected:e.active}})},LO=HT,HO=zO,FO=IO,BO=PO,UO=NO,VO=RO,jO=BT,WO=(e,t,n,o)=>n.getOrCreate(e,t,o),ZO=(e,t,n,o)=>n.getExisting(e,t,o);var $O=Object.freeze({__proto__:null,getCoupled:WO,getExistingCoupled:ZO}),qO=[Li("others",ki(ur.value,mi()))];const GO=()=>{const e={},t=(t,n)=>{const o=de(t.others);if(0===o.length)throw new Error("Cannot find any known coupled components");return Ce(e,n)},n=(n,o,r)=>t(o,r).getOrThunk((()=>{const t=Ce(o.others,r).getOrDie("No information found for coupled component: "+r),i=t(n),a=n.getSystem().build(i);return e[r]=a,a})),o=(e,n,o)=>t(n,o).orThunk((()=>(Ce(n.others,o).getOrDie("No information found for coupled component: "+o),R.none()))),r=C({});return zl({readState:r,getExisting:o,getOrCreate:n})};var KO=Object.freeze({__proto__:null,init:GO});const YO=Fd({fields:qO,name:"coupling",apis:$O,state:KO}),JO=e=>{let t=R.none(),n=[];const o=e=>JO((t=>{r((n=>{t(e(n))}))})),r=e=>{a()?l(e):n.push(e)},i=e=>{a()||(t=R.some(e),s(n),n=[])},a=()=>t.isSome(),s=e=>{j(e,l)},l=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e(i),{get:r,map:o,isReady:a}},XO=e=>JO((t=>{t(e)})),QO={nu:JO,pure:XO},eD=e=>{setTimeout((()=>{throw e}),0)},tD=e=>{const t=t=>{e().then(t,eD)},n=t=>tD((()=>e().then(t))),o=t=>tD((()=>e().then((e=>t(e).toPromise())))),r=t=>tD((()=>e().then((()=>t.toPromise())))),i=()=>QO.nu(t),a=()=>{let t=null;return tD((()=>(null===t&&(t=e()),t)))},s=e;return{map:n,bind:o,anonBind:r,toLazy:i,toCached:a,toPromise:s,get:t}},nD=e=>tD((()=>new Promise(e))),oD=e=>tD((()=>Promise.resolve(e))),rD={nu:nD,pure:oD},iD=C("sink"),aD=C(tv({name:iD(),overrides:C({dom:{tag:"div"},behaviours:Ld([Qp.config({useFixed:A})]),events:Ls([Gs(qa()),Gs(Ba()),Gs(Ja())])})})),sD=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:r})),(e=>({type:o,hotspot:n,overrides:r,layouts:e})))},lD=(e,t,n)=>{const o=e.fetch;return o(n).map(t)},cD=(e,t,n,o,r,i,a)=>{const s=lD(e,t,o),l=pD(o,e);return s.map((e=>e.bind((e=>R.from(Ix.sketch({...i.menu(),uid:_l(""),data:e,highlightOnOpen:a,onOpenMenu:(e,t)=>{const o=l().getOrDie();Qp.position(o,t,{anchor:n}),Hf.decloak(r)},onOpenSubmenu:(e,t,n)=>{const o=l().getOrDie();Qp.position(o,n,{anchor:{type:"submenu",item:t}}),Hf.decloak(r)},onRepositionMenu:(e,t,o)=>{const r=l().getOrDie();Qp.position(r,t,{anchor:n}),j(o,(e=>{Qp.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(C_.focus(o),Hf.close(r),R.some(!0))}))))))},uD=(e,t,n,o,r,i,a)=>{const s=sD(e,n),l=cD(e,t,s,n,o,r,a);return l.map((e=>(e.fold((()=>{Hf.isOpen(o)&&Hf.close(o)}),(e=>{Hf.cloak(o),Hf.open(o,e),i(o)})),o)))},dD=(e,t,n,o,r,i,a)=>(Hf.close(o),rD.pure(o)),hD=(e,t,n,o,r,i)=>{const a=YO.getCoupled(n,"sandbox"),s=Hf.isOpen(a),l=s?dD:uD;return l(e,t,n,a,o,r,i)},mD=(e,t,n)=>{const o=Hv.getCurrent(t).getOr(t),r=Pn(e.element);n?un(o.element,"min-width",r+"px"):Rn(o.element,r)},pD=(e,t)=>e.getSystem().getByUid(t.uid+"-"+iD()).map((e=>()=>ur.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>ur.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),fD=e=>{Hf.getState(e).each((e=>{Ix.repositionMenus(e)}))},gD=(e,t,n)=>{const o=du(),r=(r,i)=>{const a=sD(e,t);o.link(t.element),e.matchWidth&&mD(a.hotspot,i,e.useMinWidth),e.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},i=(e,r)=>{o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},a=pD(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:Sg.augment(e.sandboxBehaviours,[wg.config({store:{mode:"memory",initialValue:t}}),Hf.config({onOpen:r,onClose:i,isPartOf:(e,n,o)=>mu(n,o)||mu(t,o),getAttachPoint:()=>a().getOrDie()}),Hv.config({find:e=>Hf.getState(e).bind((e=>Hv.getCurrent(e)))}),jd.config({channels:{...jf({isExtraPart:D}),...Zf({doReposition:fD})}})])}},vD=e=>{const t=YO.getCoupled(e,"sandbox");fD(t)},yD=()=>[na("sandboxClasses",[]),Sg.field("sandboxBehaviours",[Hv,jd,Hf,wg])],bD=C([Ni("dom"),Ni("fetch"),Ru("onOpen"),Pu("onExecute"),na("getHotspot",R.some),na("getAnchorOverrides",C({})),sm(),_g("dropdownBehaviours",[V_,YO,Xw,C_]),Ni("toggleClass"),na("eventOrder",{}),qi("lazySink"),na("matchWidth",!1),na("useMinWidth",!1),qi("role")].concat(yD())),wD=C([ev({schema:[Ou(),na("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),aD()]),_D=(e,t,n,o)=>{const r=t=>Ce(e.dom,"attributes").bind((e=>Ce(e,t))),i=e=>{Hf.getState(e).each((e=>{Ix.highlightPrimary(e)}))},a=(t,n,r)=>hD(e,S,t,o,n,r),s=e=>{const t=i;a(e,t,Mx.HighlightMenuAndItem).get(b)},l={expand:e=>{V_.isOn(e)||a(e,b,Mx.HighlightNone).get(b)},open:e=>{V_.isOn(e)||a(e,b,Mx.HighlightMenuAndItem).get(b)},refetch:t=>{const n=YO.getExistingCoupled(t,"sandbox");return n.fold((()=>a(t,b,Mx.HighlightMenuAndItem).map(b)),(n=>uD(e,S,t,n,o,b,Mx.HighlightMenuAndItem).map(b)))},isOpen:V_.isOn,close:e=>{V_.isOn(e)&&a(e,b,Mx.HighlightMenuAndItem).get(b)},repositionMenus:e=>{V_.isOn(e)&&vD(e)}},c=(e,t)=>(Rs(e),R.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.dropdownBehaviours,[V_.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),YO.config({others:{sandbox:t=>gD(e,t,{onOpen:()=>V_.on(t),onClose:()=>V_.off(t)})}}),Xw.config({mode:"special",onSpace:c,onEnter:c,onDown:(e,t)=>{if(xD.isOpen(e)){const t=YO.getCoupled(e,"sandbox");i(t)}else xD.open(e);return R.some(!0)},onEscape:(e,t)=>xD.isOpen(e)?(xD.close(e),R.some(!0)):R.none()}),C_.config({})]),events:W_(R.some(s)),eventOrder:{...e.eventOrder,[ls()]:["disabling","toggling","alloy.base.behaviour"]},apis:l,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:r("type").getOr("button")}:{}}}}},xD=Pv({name:"Dropdown",configFields:bD(),partFields:wD(),factory:_D,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),CD=e=>{switch(e.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:e}}},SD=e=>{const t=wg.getValue(e),n=ek(e).map(ok);xD.refetch(t).get((()=>{const e=YO.getCoupled(t,"sandbox");n.each((t=>ek(e).each((e=>nk(e,t)))))}))},kD=(e,t)=>{ED(e).each((n=>{zs(e,n.element,t.event.eventType,t.event.interactionEvent)}))},ED=e=>Hf.getState(e).bind(Cy.getHighlighted).bind(Cy.getHighlighted),TD=e=>yc(e.element,ak)?R.some(e.element):su(e.element,"."+ak),MD=(e,t,n)=>{tk(e).each((e=>{rk(e,n);const o=TD(t);o.each((t=>{on(t,"id").each((t=>en(e.element,"aria-controls",t)))}))})),en(n.element,"aria-selected","true")},OD=(e,t,n)=>{en(n.element,"aria-selected","false")},DD=e=>{tk(e).each((e=>C_.focus(e)))},AD=e=>{const t=YO.getExistingCoupled(e,"sandbox");return t.bind(ek).map(ok).map((e=>e.fetchPattern)).getOr("")};var RD;(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(RD||(RD={}));const PD=(e,t,n,o,r)=>{const i=n.shared.providers,a=e=>r?{...e,shortcut:R.none(),icon:e.text.isSome()?R.none():e.icon}:e;switch(e.type){case"menuitem":return IE(e).fold(yk,(e=>R.some(FO(a(e),t,i,o))));case"nestedmenuitem":return NE(e).fold(yk,(e=>R.some(BO(a(e),t,i,o,r))));case"togglemenuitem":return HE(e).fold(yk,(e=>R.some(UO(a(e),t,i,o))));case"separator":return Jk(e).fold(yk,(e=>R.some(HO(e))));case"fancymenuitem":return RE(e).fold(yk,(e=>VO(e,n)));default:return console.error("Unknown item in general menu",e),R.none()}},ID=(e,t,n,o,r,i,a)=>{const s=1===o,l=!s||vk(e);return Me(V(e,(e=>{switch(e.type){case"separator":return Qk(e).fold(yk,(e=>R.some(HO(e))));case"cardmenuitem":return kE(e).fold(yk,(e=>R.some(jO({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},r,i,{itemBehaviours:zT(e.meta,i),cardText:{matchText:t,highlightOn:a}}))));case"autocompleteitem":default:return eE(e).fold(yk,(e=>R.some(LO(e,t,s,"normal",n,r,i,l))))}})))},zD=(e,t,n,o,r,i)=>{const a=vk(t),s=Me(V(t,(e=>{const t=e=>r?!Se(e,"text"):a,i=e=>PD(e,n,o,t(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?i({...e,enabled:!1}):i(e)}))),l=CD(i),c=r?bk:wk;return c(e,a,s,1,l)},ND=e=>Ix.singleData(e.value,e),LD=(e,t,n,o)=>{const r=bO(t,o),i=US(o);return{data:ND({...e,movement:r,menuBehaviours:VE.unnamedEvents("auto"!==t?[]:[Js(((e,t)=>{FE(e,4,i.item).each((({numColumns:t,numRows:n})=>{Xw.setGridSize(e,n,t)}))}))])}),menu:{markers:US(o),fakeFocus:n===RD.ContentFocus}}},HD=(e,t)=>hS(Xe.fromDom(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})),FD=(e,t)=>{const n=ha(!1),o=ha(!1),r=Jc(Lx.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ld([p_("dismissAutocompleter",[Us(_s(),(()=>c()))])]),lazySink:t.getSink})),i=()=>Lx.isOpen(r),a=o.get,s=()=>{i()&&Lx.hide(r)},l=()=>Lx.getContent(r).bind((e=>ae(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),u=o=>{const r=ue(o,(e=>R.from(e.columns))).getOr(1);return Q(o,(o=>{const i=o.items;return ID(i,o.matchText,((t,r)=>{const i=e.selection.getRng();HD(e.dom,i).each((i=>{const a={hide:()=>c(),reload:t=>{s(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(a,i,t,r),n.set(!1)}))}),r,vS.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))},d=(t,n)=>{mS(Xe.fromDom(e.getBody())).each((o=>{const i=ue(t,(e=>R.from(e.columns))).getOr(1);Lx.showMenuAt(r,{anchor:{type:"node",root:Xe.fromDom(e.getBody()),node:R.from(o)}},LD(wk("autocompleter-value",!0,n,i,{menuType:"normal"}),i,RD.ContentFocus,"normal"))})),l().each(Cy.highlightFirst)},h=e=>{const t=u(e);t.length>0?d(e,t):s()};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),n.set(!1),h(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>h(e))),e.on("AutocompleterEnd",(()=>{s(),o.set(!1),n.set(!1)}));const m={cancelIfNecessary:c,isMenuOpen:i,isActive:a,isProcessingAction:n.get,getMenu:l};fS.setup(m,e)},BD={register:FD},UD=["visible","hidden"],VD=e=>{if(pt(e)){const t=mn(e,"overflow");return je(t).length>0&&!H(UD,t)}return!1},jD=e=>{const t=ap(e,VD),n=0===t.length?$t(e).map(qt).map((e=>ap(e,VD))).getOr([]):t;return se(n).map((e=>({element:e,others:n.slice(1)})))},WD=(e,t)=>lS(e)?jD(t):R.none(),ZD=e=>{const t=[...V(e.others,tr),ir()];return rr(tr(e.element),t)},$D=(e,t,n)=>lu(e,t,n).isSome(),qD=(e,t)=>{let n=null;const o=(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)},r=()=>{null!==n&&(clearTimeout(n),n=null)};return{cancel:r,schedule:o}},GD=5,KD=400,YD=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?R.none():R.some(t.touches[0])},JD=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>GD||o>GD},XD=e=>{const t=kh(),n=ha(!1),o=qD((t=>{e.triggerEvent(ds(),t),n.set(!0)}),KD),r=e=>(YD(e).each((r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),R.none()),i=e=>(o.cancel(),YD(e).each((e=>{t.on((n=>{JD(e,n)&&t.clear()}))})),R.none()),a=r=>{o.cancel();const i=e=>St(e.target,r.target);return t.get().filter(i).map((t=>n.get()?(r.prevent(),!1):e.triggerEvent(us(),r)))},s=_a([{key:Na(),value:r},{key:La(),value:i},{key:Ha(),value:a}]),l=(e,t)=>Ce(s,t).bind((t=>t(e)));return{fireIfReady:l}},QD=e=>{const t=e.raw;return t.which===Sy[0]&&!H(["input","textarea"],dt(e.target))&&!$D(e.target,'[contenteditable="true"]')},eA=(e,t)=>{const n={stopBackspace:!0,...t},o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],r=XD(n),i=V(o.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Th(e,t,(e=>{r.fireIfReady(e,t).each((t=>{t&&e.kill()}));const o=n.triggerEvent(t,e);o&&e.kill()})))),a=kh(),s=Th(e,"paste",(e=>{r.fireIfReady(e,"paste").each((t=>{t&&e.kill()}));const t=n.triggerEvent("paste",e);t&&e.kill(),a.set(setTimeout((()=>{n.triggerEvent(as(),e)}),0))})),l=Th(e,"keydown",(e=>{const t=n.triggerEvent("keydown",e);t?e.kill():n.stopBackspace&&QD(e)&&e.prevent()})),c=Th(e,"focusin",(e=>{const t=n.triggerEvent("focusin",e);t&&e.kill()})),u=kh(),d=Th(e,"focusout",(e=>{const t=n.triggerEvent("focusout",e);t&&e.kill(),u.set(setTimeout((()=>{n.triggerEvent(is(),e)}),0))})),h=()=>{j(i,(e=>{e.unbind()})),l.unbind(),c.unbind(),d.unbind(),s.unbind(),a.on(clearTimeout),u.on(clearTimeout)};return{unbind:h}},tA=(e,t)=>{const n=Ce(e,"target").getOr(t);return ha(n)},nA=(e,t)=>{const n=ha(!1),o=ha(!1),r=()=>{n.set(!0)},i=()=>{o.set(!0)};return{stop:r,cut:i,isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}},oA=e=>{const t=ha(!1),n=()=>{t.set(!0)};return{stop:n,cut:b,isStopped:t.get,isCut:D,event:e,setSource:M("Cannot set source of a broadcasted event"),getSource:M("Cannot get source of a broadcasted event")}},rA=pa.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),iA=(e,t,n,o,r,i)=>{const a=e(t,o),s=nA(n,r);return a.fold((()=>(i.logEventNoHandlers(t,o),rA.complete())),(e=>{const n=e.descHandler,o=ql(n);return o(s),s.isStopped()?(i.logEventStopped(t,e.element,n.purpose),rA.stopped()):s.isCut()?(i.logEventCut(t,e.element,n.purpose),rA.complete()):Dt(e.element).fold((()=>(i.logNoParent(t,e.element,n.purpose),rA.complete())),(o=>(i.logEventResponse(t,e.element,n.purpose),rA.resume(o))))}))},aA=(e,t,n,o,r,i)=>iA(e,t,n,o,r,i).fold(A,(o=>aA(e,t,n,o,r,i)),D),sA=(e,t,n,o,r)=>{const i=tA(n,o);return iA(e,t,n,o,i,r)},lA=(e,t,n)=>{const o=oA(t);return j(e,(e=>{const t=e.descHandler,n=ql(t);n(o)})),o.isStopped()},cA=(e,t,n,o)=>uA(e,t,n,n.target,o),uA=(e,t,n,o,r)=>{const i=tA(n,o);return aA(e,t,n,o,i,r)},dA=(e,t)=>({element:e,descHandler:t}),hA=(e,t)=>({id:e,descHandler:t}),mA=()=>{const e={},t=(t,n,o)=>{me(o,((o,r)=>{const i=void 0!==e[r]?e[r]:{};i[n]=$l(o,t),e[r]=i}))},n=(e,t)=>wl(t).bind((t=>Ce(e,t))).map((e=>dA(t,e))),o=t=>Ce(e,t).map((e=>we(e,((e,t)=>hA(t,e))))).getOr([]),r=(t,o,r)=>Ce(e,o).bind((e=>Ta(r,(t=>n(e,t)),t))),i=t=>{me(e,((e,n)=>{Se(e,t)&&delete e[t]}))};return{registerId:t,unregisterId:i,filterByType:o,find:r}},pA=()=>{const e=mA(),t={},n=e=>{const t=e.element;return wl(t).getOrThunk((()=>yl("uid-",e.element)))},o=(e,n)=>{const o=t[n];if(o!==e)throw new Error('The tagId "'+n+'" is already used by: '+ll(o.element)+"\nCannot use it for: "+ll(e.element)+"\nThe conflicting element is"+(Yt(o.element)?" ":" not ")+"already in the DOM");i(e)},r=r=>{const i=n(r);ke(t,i)&&o(r,i);const a=[r];e.registerId(a,i,r.events),t[i]=r},i=n=>{wl(n.element).each((n=>{delete t[n],e.unregisterId(n)}))},a=t=>e.filterByType(t),s=(t,n,o)=>e.find(t,n,o),l=e=>Ce(t,e);return{find:s,filter:a,register:r,unregister:i,getById:l}},fA=e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:xg(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},gA=Rv({name:"Container",factory:fA,configFields:[na("components",[]),_g("containerBehaviours",[]),na("events",{}),na("domModification",{}),na("eventOrder",{})]}),vA=e=>{const t=t=>Dt(e.element).fold(A,(e=>St(t,e))),n=pA(),o=(e,o)=>n.find(t,e,o),r=eA(e.element,{triggerEvent:(e,t)=>xu(e,t.target,(n=>cA(o,e,t,n)))}),i={debugInfo:C("real"),triggerEvent:(e,t,n)=>{xu(e,t,(r=>uA(o,e,n,t,r)))},triggerFocus:(e,t)=>{wl(e).fold((()=>{$d(e)}),(n=>{xu(rs(),e,(n=>(sA(o,rs(),{originator:t,kill:b,prevent:b,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>f(e),getByDom:e=>g(e),build:Jc,buildOrPatch:Yc,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{s(e)},broadcast:e=>{h(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{p(e,t)},isConnected:A},a=e=>{e.connect(i),gt(e.element)||(n.register(e),j(e.components(),a),i.triggerEvent(ps(),e.element,{target:e.element}))},s=e=>{gt(e.element)||(j(e.components(),s),n.unregister(e)),e.disconnect()},l=t=>{uf(e,t)},c=e=>{mf(e)},u=()=>{r.unbind(),Fo(e.element)},d=e=>{const t=n.filter(ss());j(t,(t=>{const n=t.descHandler,o=ql(n);o(e)}))},h=e=>{d({universal:!0,data:e})},m=(e,t)=>{d({universal:!1,channels:e,data:t})},p=(e,t)=>{const o=n.filter(e);return lA(o,t)},f=e=>n.getById(e).fold((()=>ur.error(new Error('Could not find component with uid: "'+e+'" in system.'))),ur.value),g=e=>{const t=wl(e).getOr("not found");return f(t)};return a(e),{root:e,element:e.element,destroy:u,add:l,remove:c,getByUid:f,getByDom:g,addToWorld:a,removeFromWorld:s,broadcast:h,broadcastOn:m,broadcastEvent:p}},yA=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:V(e.items,t.interpreter)}),bA=C([na("prefix","form-field"),_g("fieldBehaviours",[Hv,wg])]),wA=C([tv({schema:[Ni("dom")],name:"label"}),tv({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Ni("text")],name:"aria-descriptor"}),Qg({factory:{sketch:e=>{const t=ba(e,["factory"]);return e.factory.sketch(t)}},schema:[Ni("factory")],name:"field"})]),_A=(e,t,n,o)=>{const r=Cg(e.fieldBehaviours,[Hv.config({find:t=>pv(t,e,"field")}),wg.config({store:{mode:"manual",getValue:e=>Hv.getCurrent(e).bind(wg.getValue),setValue:(e,t)=>{Hv.getCurrent(e).each((e=>{wg.setValue(e,t)}))}}})]),i=Ls([Js(((t,n)=>{const o=gv(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=ml(e.prefix);o.label().each((e=>{en(e.element,"for",n),en(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=ml(e.prefix);en(n.element,"id",o),en(t.element,"aria-describedby",o)}))}))}))]),a={getField:t=>pv(t,e,"field"),getLabel:t=>pv(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:a}},xA=Pv({name:"FormField",configFields:bA(),partFields:wA(),factory:_A,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}}),CA=(e,t)=>Bl({attributes:_a([{key:t.tabAttr,value:"true"}])});var SA=Object.freeze({__proto__:null,exhibit:CA}),kA=[na("tabAttr","data-alloy-tabstop")];const EA=Fd({fields:kA,name:"tabstopping",active:SA});var TA=tinymce.util.Tools.resolve("tinymce.html.Entities");const MA=(e,t,n,o)=>{const r=DA(e,t,n,o);return xA.sketch(r)},OA=(e,t)=>MA(e,t,[],[]),DA=(e,t,n,o)=>({dom:RA(n),components:e.toArray().concat([t]),fieldBehaviours:Ld(o)}),AA=()=>RA([]),RA=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),PA=(e,t)=>xA.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$c(t.translate(e))]}),IA=ml("form-component-change"),zA=ml("form-close"),NA=ml("form-cancel"),LA=ml("form-action"),HA=ml("form-submit"),FA=ml("form-block"),BA=ml("form-unblock"),UA=ml("form-tabchange"),VA=ml("form-resize"),jA=(e,t,n)=>{const o=e.label.map((e=>PA(e,t))),r=e=>(t,n)=>{lu(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,nn(o,"data-collection-item-value"))}))},i=(n,o)=>{const r=V(o,(n=>{const o=Vx.translate(n.text),r=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",i=`<div class="tox-collection__item-icon">${n.icon}</div>`,a={_:" "," - ":" ","-":" "},s=o.replace(/\_| \- |\-/g,(e=>a[e])),l=t.isDisabled()?" tox-collection__item--state-disabled":"";return`<div class="tox-collection__item${l}" tabindex="-1" data-collection-item-value="${TA.encodeAllRaw(n.value)}" title="${s}" aria-label="${s}">${i}${r}</div>`})),i="auto"!==e.columns&&e.columns>1?U(r,e.columns):[r],a=V(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ol(n.element,a.join(""))},a=r(((n,o,r,i)=>{o.stop(),t.isDisabled()||As(n,LA,{name:e.name,value:i})})),s=[Us(Wa(),r(((e,t,n)=>{$d(n)}))),Us(Ja(),a),Us(us(),a),Us(Za(),r(((e,t,n)=>{su(e.element,"."+OS).each((e=>{vc(e,OS)})),fc(n,OS)}))),Us($a(),r((e=>{su(e.element,"."+OS).each((e=>{vc(e,OS)}))}))),el(r(((t,n,o,r)=>{As(t,LA,{name:e.name,value:r})})))],l=(e,t)=>V(sp(e.element,".tox-collection__item"),t),c=xA.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:S},behaviours:Ld([oy.config({disabled:t.isDisabled,onDisabled:e=>{l(e,(e=>{fc(e,"tox-collection__item--state-disabled"),en(e,"aria-disabled",!0)}))},onEnabled:e=>{l(e,(e=>{vc(e,"tox-collection__item--state-disabled"),an(e,"aria-disabled")}))}}),aT(),h_.config({}),wg.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(t,n)=>{i(t,n),"auto"===e.columns&&FE(t,5,"tox-collection__item").each((({numRows:e,numColumns:n})=>{Xw.setGridSize(t,e,n)})),Ds(t,VA)}}),EA.config({}),Xw.config(wO(e.columns,"normal")),p_("collection-events",s)]),eventOrder:{[ls()]:["disabling","alloy.base.behaviour","collection-events"]}}),u=["tox-form__group--collection"];return MA(o,c,u,[])},WA=["input","textarea"],ZA=e=>{const t=dt(e);return H(WA,t)},$A=(e,t)=>{const n=t.getRoot(e).getOr(e.element);vc(n,t.invalidClass),t.notify.each((t=>{ZA(e.element)&&en(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ol(e,t.validHtml)})),t.onValid(e)}))},qA=(e,t,n,o)=>{const r=t.getRoot(e).getOr(e.element);fc(r,t.invalidClass),t.notify.each((t=>{ZA(e.element)&&en(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ol(e,o)})),t.onInvalid(e,o)}))},GA=(e,t,n)=>t.validator.fold((()=>rD.pure(ur.value(!0))),(t=>t.validate(e))),KA=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),GA(e,t).map((o=>e.getSystem().isConnected()?o.fold((o=>(qA(e,t,n,o),ur.error(o))),(n=>($A(e,t),ur.value(n)))):ur.error("No longer in system")))),YA=(e,t)=>{const n=t.getRoot(e).getOr(e.element);return yc(n,t.invalidClass)};var JA=Object.freeze({__proto__:null,markValid:$A,markInvalid:qA,query:GA,run:KA,isInvalid:YA});const XA=(e,t)=>e.validator.map((n=>Ls([Us(n.onEvent,(n=>{KA(n,e,t).get(S)}))].concat(n.validateOnLoad?[Js((n=>{KA(n,e,t).get(b)}))]:[])))).getOr({});var QA=Object.freeze({__proto__:null,events:XA}),eR=[Ni("invalidClass"),na("getRoot",R.none),ea("notify",[na("aria","alert"),na("getContainer",R.none),na("validHtml",""),Ru("onValid"),Ru("onInvalid"),Ru("onValidate")]),ea("validator",[Ni("validate"),na("onEvent","input"),na("validateOnLoad",!0)])];const tR=Fd({fields:eR,name:"invalidating",active:QA,apis:JA,extra:{validation:e=>t=>{const n=wg.getValue(t);return rD.pure(e(n))}}}),nR=()=>Bl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}}),oR=()=>Ls([Hs(ts(),A)]);var rR=Object.freeze({__proto__:null,events:oR,exhibit:nR});const iR=Fd({fields:[],name:"unselecting",active:rR}),aR=(e,t)=>xD.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Ld([dT.button(t.providers.isDisabled),aT(),iR.config({}),EA.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>rD.nu((t=>e.fetch(t))).map((o=>R.from(ND(Or(vO(ml("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,vS.CLOSE_ON_EXECUTE,D,t.providers),{movement:bO(e.columns,e.presets)}))))),parts:{menu:WS(!1,1,e.presets)}}),sR=ml("color-input-change"),lR=ml("color-swatch-change"),cR=ml("color-picker-cancel"),uR=(e,t,n,o)=>{const r=xA.parts.field({factory:YS,inputClasses:["tox-textfield"],data:o,onSetValue:e=>tR.run(e).get(b),inputBehaviours:Ld([oy.config({disabled:t.providers.isDisabled}),aT(),EA.config({}),tR.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>At(e.element),notify:{onValid:e=>{const t=wg.getValue(e);As(e,sR,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=wg.getValue(e);if(0===t.length)return rD.pure(ur.value(!0));{const e=Xe.fromTag("span");un(e,"background-color",t);const n=fn(e,"background-color").fold((()=>ur.error("blah")),(e=>ur.value(t)));return rD.pure(n)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>PA(e,t.providers))),a=(e,t)=>{As(e,lR,{value:t})},s=(t,o)=>{l.getOpt(t).each((t=>{"custom"===o?n.colorPicker((n=>{n.fold((()=>Ds(t,cR)),(n=>{a(t,n),PM(e.storageKey,n)}))}),"#ffffff"):a(t,"remove"===o?"":o)}))},l=Ux(aR({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[md,hd,vd],onLtr:()=>[hd,md,vd]},components:[],fetch:uO(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:s},t));return xA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,l.asSpec()]}]),fieldBehaviours:Ld([p_("form-field-events",[Us(sR,((t,n)=>{l.getOpt(t).each((e=>{un(e.element,"background-color",n.event.color)})),As(t,IA,{name:e.name})})),Us(lR,((e,t)=>{xA.getField(e).each((n=>{wg.setValue(n,t.event.value),Hv.getCurrent(e).each(C_.focus)}))})),Us(cR,((e,t)=>{xA.getField(e).each((t=>{Hv.getCurrent(e).each(C_.focus)}))}))])])})},dR=tv({schema:[Ni("dom")],name:"label"}),hR=e=>tv({name:e+"-edge",overrides:t=>{const n=t.model.manager.edgeActions[e];return n.fold((()=>({})),(e=>({events:Ls([Vs(Na(),((t,n,o)=>e(t,o)),[t]),Vs(Ba(),((t,n,o)=>e(t,o)),[t]),Vs(Ua(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}}),mR=hR("top-left"),pR=hR("top"),fR=hR("top-right"),gR=hR("right"),vR=hR("bottom-right"),yR=hR("bottom"),bR=hR("bottom-left"),wR=hR("left"),_R=Qg({name:"thumb",defaults:C({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ls([$s(Na(),e,"spectrum"),$s(La(),e,"spectrum"),$s(Ha(),e,"spectrum"),$s(Ba(),e,"spectrum"),$s(Ua(),e,"spectrum"),$s(ja(),e,"spectrum")])})}),xR=Qg({schema:[Ii("mouseIsDown",(()=>ha(!1)))],name:"spectrum",overrides:e=>{const t=e.model,n=t.manager,o=(t,o)=>n.getValueFromEvent(o).map((o=>n.setValueFrom(t,e,o)));return{behaviours:Ld([Xw.config({mode:"special",onLeft:t=>n.onLeft(t,e),onRight:t=>n.onRight(t,e),onUp:t=>n.onUp(t,e),onDown:t=>n.onDown(t,e)}),C_.config({})]),events:Ls([Us(Na(),o),Us(La(),o),Us(Ba(),o),Us(Ua(),((t,n)=>{e.mouseIsDown.get()&&o(t,n)}))])}}});var CR=[dR,wR,gR,pR,yR,mR,fR,bR,vR,_R,xR];const SR="slider.change.value",kR=C(SR),ER=e=>-1!==e.type.indexOf("touch"),TR=e=>{const t=e.event.raw;if(ER(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?R.some(e.touches[0]).map((e=>En(e.clientX,e.clientY))):R.none()}{const e=t;return void 0!==e.clientX?R.some(e).map((e=>En(e.clientX,e.clientY))):R.none()}},MR="top",OR="right",DR="bottom",AR="left",RR=e=>e.model.minX,PR=e=>e.model.minY,IR=e=>e.model.minX-1,zR=e=>e.model.minY-1,NR=e=>e.model.maxX,LR=e=>e.model.maxY,HR=e=>e.model.maxX+1,FR=e=>e.model.maxY+1,BR=(e,t,n)=>t(e)-n(e),UR=e=>BR(e,NR,RR),VR=e=>BR(e,LR,PR),jR=e=>UR(e)/2,WR=e=>VR(e)/2,ZR=e=>e.stepSize,$R=e=>e.snapToGrid,qR=e=>e.snapStart,GR=e=>e.rounded,KR=(e,t)=>void 0!==e[t+"-edge"],YR=e=>KR(e,AR),JR=e=>KR(e,OR),XR=e=>KR(e,MR),QR=e=>KR(e,DR),eP=e=>e.model.value.get(),tP=(e,t)=>({x:e,y:t}),nP=(e,t)=>{As(e,kR(),{value:t})},oP=(e,t)=>{nP(e,tP(IR(t),zR(t)))},rP=(e,t)=>{nP(e,zR(t))},iP=(e,t)=>{nP(e,tP(jR(t),zR(t)))},aP=(e,t)=>{nP(e,tP(HR(t),zR(t)))},sP=(e,t)=>{nP(e,HR(t))},lP=(e,t)=>{nP(e,tP(HR(t),WR(t)))},cP=(e,t)=>{nP(e,tP(HR(t),FR(t)))},uP=(e,t)=>{nP(e,FR(t))},dP=(e,t)=>{nP(e,tP(jR(t),FR(t)))},hP=(e,t)=>{nP(e,tP(IR(t),FR(t)))},mP=(e,t)=>{nP(e,IR(t))},pP=(e,t)=>{nP(e,tP(IR(t),WR(t)))},fP=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),gP=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),vP=(e,t,n)=>Math.max(t,Math.min(n,e)),yP=(e,t,n,o,r)=>r.fold((()=>{const r=e-t,i=Math.round(r/o)*o;return vP(t+i,t-1,n+1)}),(t=>{const r=(e-t)%o,i=Math.round(r/o),a=Math.floor((e-t)/o),s=Math.floor((n-t)/o),l=Math.min(s,a+i),c=t+l*o;return Math.max(t,c)})),bP=(e,t,n)=>Math.min(n,Math.max(e,t))-t,wP=e=>{const{min:t,max:n,range:o,value:r,step:i,snap:a,snapStart:s,rounded:l,hasMinEdge:c,hasMaxEdge:u,minBound:d,maxBound:h,screenRange:m}=e,p=c?t-1:t,f=u?n+1:n;if(r<d)return p;if(r>h)return f;{const e=bP(r,d,h),c=vP(e/m*o+t,p,f);return a&&c>=t&&c<=n?yP(c,t,n,i,s):l?Math.round(c):c}},_P=e=>{const{min:t,max:n,range:o,value:r,hasMinEdge:i,hasMaxEdge:a,maxBound:s,maxOffset:l,centerMinEdge:c,centerMaxEdge:u}=e;return r<t?i?0:c:r>n?a?s:u:(r-t)/o*l},xP="top",CP="right",SP="bottom",kP="left",EP="width",TP="height",MP=e=>e.element.dom.getBoundingClientRect(),OP=(e,t)=>e[t],DP=e=>{const t=MP(e);return OP(t,kP)},AP=e=>{const t=MP(e);return OP(t,CP)},RP=e=>{const t=MP(e);return OP(t,xP)},PP=e=>{const t=MP(e);return OP(t,SP)},IP=e=>{const t=MP(e);return OP(t,EP)},zP=e=>{const t=MP(e);return OP(t,TP)},NP=(e,t,n)=>(e+t)/2-n,LP=(e,t)=>{const n=MP(e),o=MP(t),r=OP(n,kP),i=OP(n,CP),a=OP(o,kP);return NP(r,i,a)},HP=(e,t)=>{const n=MP(e),o=MP(t),r=OP(n,xP),i=OP(n,SP),a=OP(o,xP);return NP(r,i,a)},FP=(e,t)=>{As(e,kR(),{value:t})},BP=(e,t,n)=>{const o={min:RR(t),max:NR(t),range:UR(t),value:n,step:ZR(t),snap:$R(t),snapStart:qR(t),rounded:GR(t),hasMinEdge:YR(t),hasMaxEdge:JR(t),minBound:DP(e),maxBound:AP(e),screenRange:IP(e)};return wP(o)},UP=(e,t,n)=>{const o=BP(e,t,n),r=o;return FP(e,r),o},VP=(e,t)=>{const n=RR(t);FP(e,n)},jP=(e,t)=>{const n=NR(t);FP(e,n)},WP=(e,t,n)=>{const o=e>0?gP:fP,r=o(eP(n),RR(n),NR(n),ZR(n));return FP(t,r),R.some(r)},ZP=e=>(t,n)=>WP(e,t,n).map(A),$P=e=>{const t=TR(e);return t.map((e=>e.left))},qP=(e,t,n,o,r)=>{const i=0,a=IP(e),s=o.bind((t=>R.some(LP(t,e)))).getOr(i),l=r.bind((t=>R.some(LP(t,e)))).getOr(a),c={min:RR(t),max:NR(t),range:UR(t),value:n,hasMinEdge:YR(t),hasMaxEdge:JR(t),minBound:DP(e),minOffset:i,maxBound:AP(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return _P(c)},GP=(e,t,n,o,r,i)=>{const a=qP(t,i,n,o,r);return DP(t)-DP(e)+a},KP=(e,t,n,o)=>{const r=eP(n),i=GP(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),a=Pn(t.element)/2;un(t.element,"left",i-a+"px")},YP=ZP(-1),JP=ZP(1),XP=R.none,QP=R.none,eI={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some(sP),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some(mP)};var tI=Object.freeze({__proto__:null,setValueFrom:UP,setToMin:VP,setToMax:jP,findValueOfOffset:BP,getValueFromEvent:$P,findPositionOfValue:GP,setPositionFromValue:KP,onLeft:YP,onRight:JP,onUp:XP,onDown:QP,edgeActions:eI});const nI=(e,t)=>{As(e,kR(),{value:t})},oI=(e,t,n)=>{const o={min:PR(t),max:LR(t),range:VR(t),value:n,step:ZR(t),snap:$R(t),snapStart:qR(t),rounded:GR(t),hasMinEdge:XR(t),hasMaxEdge:QR(t),minBound:RP(e),maxBound:PP(e),screenRange:zP(e)};return wP(o)},rI=(e,t,n)=>{const o=oI(e,t,n),r=o;return nI(e,r),o},iI=(e,t)=>{const n=PR(t);nI(e,n)},aI=(e,t)=>{const n=LR(t);nI(e,n)},sI=(e,t,n)=>{const o=e>0?gP:fP,r=o(eP(n),PR(n),LR(n),ZR(n));return nI(t,r),R.some(r)},lI=e=>(t,n)=>sI(e,t,n).map(A),cI=e=>{const t=TR(e);return t.map((e=>e.top))},uI=(e,t,n,o,r)=>{const i=0,a=zP(e),s=o.bind((t=>R.some(HP(t,e)))).getOr(i),l=r.bind((t=>R.some(HP(t,e)))).getOr(a),c={min:PR(t),max:LR(t),range:VR(t),value:n,hasMinEdge:XR(t),hasMaxEdge:QR(t),minBound:RP(e),minOffset:i,maxBound:PP(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return _P(c)},dI=(e,t,n,o,r,i)=>{const a=uI(t,i,n,o,r);return RP(t)-RP(e)+a},hI=(e,t,n,o)=>{const r=eP(n),i=dI(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),a=xn(t.element)/2;un(t.element,"top",i-a+"px")},mI=R.none,pI=R.none,fI=lI(-1),gI=lI(1),vI={"top-left":R.none(),top:R.some(rP),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some(uP),"bottom-left":R.none(),left:R.none()};var yI=Object.freeze({__proto__:null,setValueFrom:rI,setToMin:iI,setToMax:aI,findValueOfOffset:oI,getValueFromEvent:cI,findPositionOfValue:dI,setPositionFromValue:hI,onLeft:mI,onRight:pI,onUp:fI,onDown:gI,edgeActions:vI});const bI=(e,t)=>{As(e,kR(),{value:t})},wI=(e,t)=>({x:e,y:t}),_I=(e,t,n)=>{const o=BP(e,t,n.left),r=oI(e,t,n.top),i=wI(o,r);return bI(e,i),i},xI=(e,t,n,o)=>{const r=e>0?gP:fP,i=t?eP(o).x:r(eP(o).x,RR(o),NR(o),ZR(o)),a=t?r(eP(o).y,PR(o),LR(o),ZR(o)):eP(o).y;return bI(n,wI(i,a)),R.some(i)},CI=(e,t)=>(n,o)=>xI(e,t,n,o).map(A),SI=(e,t)=>{const n=RR(t),o=PR(t);bI(e,wI(n,o))},kI=(e,t)=>{const n=NR(t),o=LR(t);bI(e,wI(n,o))},EI=e=>TR(e),TI=(e,t,n,o)=>{const r=eP(n),i=GP(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=dI(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),s=Pn(t.element)/2,l=xn(t.element)/2;un(t.element,"left",i-s+"px"),un(t.element,"top",a-l+"px")},MI=CI(-1,!1),OI=CI(1,!1),DI=CI(-1,!0),AI=CI(1,!0),RI={"top-left":R.some(oP),top:R.some(iP),"top-right":R.some(aP),right:R.some(lP),"bottom-right":R.some(cP),bottom:R.some(dP),"bottom-left":R.some(hP),left:R.some(pP)};var PI=Object.freeze({__proto__:null,setValueFrom:_I,setToMin:SI,setToMax:kI,getValueFromEvent:EI,setPositionFromValue:TI,onLeft:MI,onRight:OI,onUp:DI,onDown:AI,edgeActions:RI});const II=[na("stepSize",1),na("onChange",b),na("onChoose",b),na("onInit",b),na("onDragStart",b),na("onDragEnd",b),na("snapToGrid",!1),na("rounded",!0),qi("snapStart"),Li("model",Ai("mode",{x:[na("minX",0),na("maxX",100),Ii("value",(e=>ha(e.mode.minX))),Ni("getInitialValue"),Nu("manager",tI)],y:[na("minY",0),na("maxY",100),Ii("value",(e=>ha(e.mode.minY))),Ni("getInitialValue"),Nu("manager",yI)],xy:[na("minX",0),na("maxX",100),na("minY",0),na("maxY",100),Ii("value",(e=>ha({x:e.mode.minX,y:e.mode.minY}))),Ni("getInitialValue"),Nu("manager",PI)]})),_g("sliderBehaviours",[Xw,wg]),Ii("mouseIsDown",(()=>ha(!1)))],zI=(e,t,n,o)=>{const r=t=>fv(t,e,"thumb"),i=t=>fv(t,e,"spectrum"),a=t=>pv(t,e,"left-edge"),s=t=>pv(t,e,"right-edge"),l=t=>pv(t,e,"top-edge"),c=t=>pv(t,e,"bottom-edge"),u=e.model,d=u.manager,h=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:a,getRightEdge:s,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},m=(e,t)=>{u.value.set(t);const n=r(e);h(e,n)},p=(t,n)=>{m(t,n);const o=r(t);return e.onChange(t,o,n),R.some(!0)},f=t=>{d.setToMin(t,e)},g=t=>{d.setToMax(t,e)},v=t=>{const n=()=>{pv(t,e,"thumb").each((n=>{const o=u.value.get();e.onChoose(t,n,o)}))},o=e.mouseIsDown.get();e.mouseIsDown.set(!1),o&&n()},y=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},b=(t,n)=>{n.stop(),e.onDragEnd(t,r(t)),v(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.sliderBehaviours,[Xw.config({mode:"special",focusIn:t=>pv(t,e,"spectrum").map(Xw.focusIn).map(A)}),wg.config({store:{mode:"manual",getValue:e=>u.value.get(),setValue:m}}),jd.config({channels:{[Uf()]:{onReceive:v}}})]),events:Ls([Us(kR(),((e,t)=>{p(e,t.event.value)})),Js(((t,n)=>{const o=u.getInitialValue();u.value.set(o);const a=r(t);h(t,a);const s=i(t);e.onInit(t,a,s,u.value.get())})),Us(Na(),y),Us(Ha(),b),Us(Ba(),y),Us(ja(),b)]),apis:{resetToMin:f,resetToMax:g,setValue:m,refresh:h},domModification:{styles:{position:"relative"}}}},NI=Pv({name:"Slider",configFields:II,partFields:CR,factory:zI,apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),LI=ml("rgb-hex-update"),HI=ml("slider-update"),FI=ml("palette-update"),BI=(e,t)=>{const n=NI.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=NI.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return NI.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:C(0)},components:[n,o],sliderBehaviours:Ld([C_.config({})]),onChange:(e,t,n)=>{As(e,HI,{value:n})}})},UI="form",VI=[_g("formBehaviours",[wg])],jI=e=>"<alloy.field."+e+">",WI=e=>{const t=(()=>{const e=[],t=(t,n)=>(e.push(t),cv(UI,jI(t),n));return{field:t,record:C(e)}})(),n=e(t),o=t.record(),r=V(o,(e=>Qg({name:e,pname:jI(e)})));return Ev(UI,VI,r,$I,n)},ZI=(e,t)=>e.fold((()=>ur.error(t)),ur.value),$I=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.formBehaviours,[wg.config({store:{mode:"manual",getValue:t=>{const n=vv(t,e);return pe(n,((e,t)=>e().bind((e=>{const n=Hv.getCurrent(e);return ZI(n,new Error(`Cannot find a current component to extract the value from for form part '${t}': `+ll(e.element)))})).map(wg.getValue)))},setValue:(t,n)=>{me(n,((n,o)=>{pv(t,e,o).each((e=>{Hv.getCurrent(e).each((e=>{wg.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>pv(t,e,n).bind(Hv.getCurrent)}}),qI={getField:Pl(((e,t,n)=>e.getField(t,n))),sketch:WI},GI=ml("valid-input"),KI=ml("invalid-input"),YI=ml("validating-input"),JI="colorcustom.rgb.",XI=(e,t,n,o)=>{const r=(n,o)=>tR.config({invalidClass:t("invalid"),notify:{onValidate:e=>{As(e,YI,{type:n})},onValid:e=>{As(e,GI,{type:n,value:wg.getValue(e)})},onInvalid:e=>{As(e,KI,{type:n,value:wg.getValue(e)})}},validator:{validate:t=>{const n=wg.getValue(t),r=o(n)?ur.value(!0):ur.error(e("aria.input.invalid"));return rD.pure(r)},validateOnLoad:!1}}),i=(n,o,i,a,s)=>{const l=e(JI+"range"),c=xA.parts.label({dom:{tag:"label",attributes:{"aria-label":a}},components:[$c(i)]}),u=xA.parts.field({data:s,factory:YS,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Ld([r(o,n),EA.config({})]),onSetValue:e=>{if(tR.isInvalid(e)){const t=tR.run(e);t.get(b)}}}),d=[c,u],h="hex"!==o?[xA.parts["aria-descriptor"]({text:l})]:[],m=d.concat(h);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},a=(e,t)=>{const n=XT(t);return qI.getField(e,"hex").each((t=>{C_.isFocused(t)||wg.setValue(e,{hex:n.value})})),n},s=(e,t)=>{const n=t.red,o=t.green,r=t.blue;wg.setValue(e,{red:n,green:o,blue:r})},l=Ux({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=(e,t)=>{l.getOpt(e).each((e=>{un(e.element,"background-color","#"+t.value)}))},u=()=>{const r={red:ha(R.some(255)),green:ha(R.some(255)),blue:ha(R.some(255)),hex:ha(R.some("ffffff"))},u=(e,t)=>{const n=sM(t);s(e,n),p(n)},d=e=>r[e].get(),h=(e,t)=>{r[e].set(t)},m=()=>d("red").bind((e=>d("green").bind((t=>d("blue").map((n=>rM(e,t,n,1))))))),p=e=>{const t=e.red,n=e.green,o=e.blue;h("red",R.some(t)),h("green",R.some(n)),h("blue",R.some(o))},f=(e,t)=>{const n=t.event;"hex"!==n.type?h(n.type,R.none()):o(e)},g=(e,t)=>{n(e);const o=jT(t);h("hex",R.some(o.value));const r=sM(o);s(e,r),p(r),As(e,LI,{hex:o}),c(e,o)},v=(e,t,n)=>{const o=parseInt(n,10);h(t,R.some(o)),m().each((t=>{const n=a(e,t);As(e,LI,{hex:n}),c(e,n)}))},y=e=>"hex"===e.type,b=(e,t)=>{const n=t.event;y(n)?g(e,n.value):v(e,n.type,n.value)},w=t=>({label:e(JI+t+".label"),description:e(JI+t+".description")}),_=w("red"),x=w("green"),C=w("blue"),S=w("hex");return Or(qI.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",xA.sketch(i(iM,"red",_.label,_.description,255))),n.field("green",xA.sketch(i(iM,"green",x.label,x.description,255))),n.field("blue",xA.sketch(i(iM,"blue",C.label,C.description,255))),n.field("hex",xA.sketch(i($T,"hex",S.label,S.description,"ffffff"))),l.asSpec()],formBehaviours:Ld([tR.config({invalidClass:t("form-invalid")}),p_("rgb-form-events",[Us(GI,b),Us(KI,f),Us(YI,f)])])}))),{apis:{updateHex:(e,t)=>{wg.setValue(e,{hex:t.value}),u(e,t),c(e,t)}}})},d=Rv({factory:u,name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return d},QI=(e,t)=>{const n=NI.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=NI.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:n,height:o}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,n,o);const i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);const a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)},i=(e,t)=>{const n=e.components()[0].element.dom,o=IM(t,100,100),i=aM(o);r(n,uM(i))},a=(e,t)=>{const n=zM(sM(t));NI.setValue(e,{x:n.saturation,y:100-n.value})},s=e=>{const i=C({x:0,y:0}),a=(e,t,n)=>{As(e,FI,{value:n})},s=(e,t,n,o)=>{r(n.element.dom,uM(dM))},l=Ld([Hv.config({find:R.some}),C_.config({})]);return NI.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:a,onInit:s,sliderBehaviours:l})},l=Rv({factory:s,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{i(t,n)},setThumb:(e,t,n)=>{a(t,n)}},extraApis:{}});return l},ez=(e,t)=>{const n=n=>{const o=XI(e,t,n.onValidHex,n.onInvalidHex),r=QI(e,t),i=e=>(100-e)/100*360,a=e=>100-e/360*100,s={paletteRgba:ha(dM),paletteHue:ha(0)},l=Ux(BI(e,t)),c=Ux(r.sketch({})),u=Ux(o.sketch({})),d=(e,t,n)=>{c.getOpt(e).each((e=>{r.setHue(e,n)}))},h=(e,t)=>{u.getOpt(e).each((e=>{o.updateHex(e,t)}))},m=(e,t,n)=>{l.getOpt(e).each((e=>{NI.setValue(e,a(n))}))},p=(e,t)=>{c.getOpt(e).each((e=>{r.setThumb(e,t)}))},f=(e,t)=>{const n=sM(e);s.paletteRgba.set(n),s.paletteHue.set(t)},g=(e,t,n,o)=>{f(t,n),j(o,(o=>{o(e,t,n)}))},v=()=>{const e=[h];return(t,n)=>{const o=n.event.value,r=s.paletteHue.get(),i=IM(r,o.x,100-o.y),a=LM(i);g(t,a,r,e)}},y=()=>{const e=[d,h];return(t,n)=>{const o=i(n.event.value),r=s.paletteRgba.get(),a=zM(r),l=IM(o,a.saturation,a.value),c=LM(l);g(t,c,o,e)}},b=()=>{const e=[d,m,p];return(t,n)=>{const o=n.event.hex,r=NM(o);g(t,o,r.hue,e)}};return{uid:n.uid,dom:n.dom,components:[c.asSpec(),l.asSpec(),u.asSpec()],behaviours:Ld([p_("colour-picker-events",[Us(LI,b()),Us(FI,v()),Us(HI,y())]),Hv.config({find:e=>u.getOpt(e)}),Xw.config({mode:"acyclic"})])}},o=Rv({name:"ColourPicker",configFields:[Ni("dom"),na("onValidHex",b),na("onInvalidHex",b)],factory:n});return o},tz=()=>Hv.config({find:R.some}),nz=e=>Hv.config({find:e.getOpt}),oz=e=>Hv.config({find:t=>Nt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),rz={self:tz,memento:nz,childAt:oz},iz=si([na("preprocess",S),na("postprocess",S)]),az=(e,t)=>{const n=Oi("RepresentingConfigs.memento processors",iz,t);return wg.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),r=wg.getValue(o);return n.postprocess(r)},setValue:(t,o)=>{const r=n.preprocess(o),i=e.get(t);wg.setValue(i,r)}}})},sz=(e,t,n)=>wg.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),lz=(e,t,n)=>sz(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),cz=e=>lz(e,Sc,kc),uz=e=>lz(e,nl,ol),dz=e=>wg.config({store:{mode:"memory",initialValue:e}}),hz={memento:az,withElement:lz,withComp:sz,domValue:cz,domHtml:uz,memory:dz},mz={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},pz=e=>t=>e.translate(mz[t]),fz=(e,t,n)=>{const o=e=>"tox-"+e,r=ez(pz(t),o),i=e=>{As(e,LA,{name:"hex-valid",value:!0})},a=e=>{As(e,LA,{name:"hex-valid",value:!1})},s=Ux(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:i,onInvalidHex:a}));return{dom:{tag:"div"},components:[s.asSpec()],behaviours:Ld([hz.withComp(n,(e=>{const t=s.get(e),n=Hv.getCurrent(t),o=n.bind((e=>{const t=wg.getValue(e);return t.hex}));return o.map((e=>"#"+Le(e,"#"))).getOr("")}),((e,t)=>{const n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=R.from(n.exec(t)).bind((e=>ae(e,1))),r=s.get(e),i=Hv.getCurrent(r);i.fold((()=>{console.log("Can not find form")}),(e=>{wg.setValue(e,{hex:o.getOr("")}),qI.getField(e,"hex").each((e=>{Ds(e,Ka())}))}))})),rz.self()])}};var gz=tinymce.util.Tools.resolve("tinymce.Resource");const vz=e=>Se(e,"init"),yz=e=>{const t=kh(),n=Ux({dom:{tag:e.tag}}),o=kh();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ld([p_("custom-editor-events",[Js((r=>{n.getOpt(r).each((n=>{(vz(e)?e.init(n.element.dom):gz.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),hz.withComp(R.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),rz.self()]),components:[n.asSpec()]}};var bz=tinymce.util.Tools.resolve("tinymce.util.Tools");const wz=(e,t)=>{const n=bz.explode(t.getOption("images_file_types")),o=e=>F(n,(t=>Ue(e.name.toLowerCase(),`.${t.toLowerCase()}`)));return $(ce(e),o)},_z=(e,t,n)=>{const o=(e,t)=>{t.stop()},r=e=>(t,n)=>{j(e,(e=>{e(t,n)}))},i=(e,t)=>{var n;if(!oy.isDisabled(e)){const o=t.event.raw;s(e,null===(n=o.dataTransfer)||void 0===n?void 0:n.files)}},a=(e,t)=>{const n=t.event.raw.target;s(e,n.files)},s=(n,o)=>{o&&(wg.setValue(n,wz(o,t)),As(n,IA,{name:e.name}))},l=Ux({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ld([p_("input-file-events",[Gs(Ja()),Gs(us())])])}),c=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ld([hz.memory(n.getOr([])),rz.self(),oy.config({}),V_.config({toggleClass:"dragenter",toggleOnExecute:!1}),p_("dropzone-events",[Us("dragenter",r([o,V_.toggle])),Us("dragleave",r([o,V_.toggle])),Us("dragover",o),Us("drop",r([o,i])),Us(Ya(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$c(t.translate("Drop an image here"))]},Bx.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$c(t.translate("Browse for an image")),l.asSpec()],action:e=>{const t=l.get(e);t.element.dom.click()},buttonBehaviours:Ld([EA.config({}),dT.button(t.isDisabled),aT()])})]}]}),u=e.label.map((e=>PA(e,t))),d=xA.parts.field({factory:{sketch:c}});return MA(u,d,["tox-form__group--stretched"],[])},xz=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:V(e.items,t.interpreter)}),Cz=ml("alloy-fake-before-tabstop"),Sz=ml("alloy-fake-after-tabstop"),kz=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Ld([C_.config({ignore:!0}),EA.config({})])}),Ez=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[kz([Cz]),e,kz([Sz])],behaviours:Ld([rz.childAt(1)])}),Tz=(e,t)=>{As(e,qa(),{raw:{which:9,shiftKey:t}})},Mz=(e,t)=>{const n=t.element;yc(n,Cz)?Tz(e,!0):yc(n,Sz)&&Tz(e,!1)},Oz=e=>$D(e,["."+Cz,"."+Sz].join(","),D),Dz=e=>{const t=ha(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&en(e.element,"srcdoc",n),t.set(n)}}},Az=(e,t,n)=>{const o=e.sandboxed,r=e.transparent,i="tox-dialog__iframe",a={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...o?{sandbox:"allow-scripts allow-same-origin"}:{}},s=Dz(n),l=e.label.map((e=>PA(e,t))),c=e=>Ez({uid:e.uid,dom:{tag:"iframe",attributes:a,classes:r?[i]:[i,`${i}--opaque`]},behaviours:Ld([EA.config({}),C_.config({}),hz.withComp(n,s.getValue,s.setValue)])}),u=xA.parts.field({factory:{sketch:c}});return MA(l,u,["tox-form__group--stretched"],[])},Rz=e=>new Promise(((t,n)=>{const o=()=>{i(),t(e)},r=[Th(e,"load",o),Th(e,"error",(()=>{i(),n("Unable to load data from image: "+e.dom.src)}))],i=()=>j(r,(e=>e.unbind()));e.dom.complete&&o()})),Pz=(e,t,n,o,r)=>{const i=n*r,a=o*r,s=Math.max(0,e/2-i/2),l=Math.max(0,t/2-a/2);return{left:s.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:a.toString()+"px"}},Iz=(e,t,n)=>{const o=Pn(e),r=xn(e);return Math.min(o/t,r/n,1)},zz=(e,t)=>{const n=ha(t.getOr({url:""})),o=Ux({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=Ux({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),i=(e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),n.set(i);const a=()=>{const{cachedWidth:t,cachedHeight:n,zoom:o}=i;if(!m(t)&&!m(n)){if(m(o)){const o=Iz(e.element,t,n);i.zoom=o}const a=Pz(Pn(e.element),xn(e.element),t,n,i.zoom);r.getOpt(e).each((e=>{dn(e.element,a)}))}};o.getOpt(e).each((n=>{const o=n.element;t.url!==nn(o,"src")&&(en(o,"src",t.url),vc(e.element,"tox-imagepreview__loaded")),a(),Rz(o).then((t=>{e.getSystem().isConnected()&&(fc(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,a())}))}))},a={};e.height.each((e=>a.height=e));const s=t.map((e=>({url:e.url,zoom:R.from(e.zoom),cachedWidth:R.from(e.cachedWidth),cachedHeight:R.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:Ld([rz.self(),hz.withComp(s,(()=>n.get()),i)])}},Nz=(e,t)=>{const n={dom:{tag:"label",classes:["tox-label"]},components:[$c(t.providers.translate(e.label))]},o=V(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n,...o],behaviours:Ld([rz.self(),h_.config({}),hz.domHtml(R.none()),Xw.config({mode:"acyclic"})])}},Lz=ml("toolbar.button.execute"),Hz=e=>el(((t,n)=>{hT(e,t)((n=>{As(t,Lz,{buttonApi:n}),e.onAction(n)}))})),Fz=ml("common-button-display-events"),Bz={[ls()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[bs()]:["toolbar-button-events",Fz],[Ba()]:["focusing","alloy.base.behaviour",Fz]},Uz=e=>un(e.element,"width",mn(e.element,"width")),Vz=(e,t,n)=>Qx(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),jz=(e,t)=>Vz(e,t,[]),Wz=(e,t)=>Vz(e,t,[h_.config({})]),Zz=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[$c(n.translate(e))],behaviours:Ld([h_.config({})])}),$z=ml("update-menu-text"),qz=ml("update-menu-icon"),Gz=(e,t,n)=>{const o=ha(b),r=e.text.map((e=>Ux(Zz(e,t,n.providers)))),i=e.icon.map((e=>Ux(Wz(e,n.providers.icons)))),a=(e,t)=>{const n=wg.getValue(e);return C_.focus(n),As(n,"keydown",{raw:t.event.raw}),xD.close(n),R.some(!0)},s=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=Qx("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),u=ml("common-button-display-events"),d=Ux(xD.sketch({...e.uid?{uid:e.uid}:{},...s,dom:{tag:"button",classes:[t,`${t}--select`].concat(V(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:vT([i.map((e=>e.asSpec())),r.map((e=>e.asSpec())),R.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,o)=>{e.searchable&&DD(o)},dropdownBehaviours:Ld([...e.dropdownBehaviours,dT.button((()=>e.disabled||n.providers.isDisabled())),aT(),iR.config({}),h_.config({}),p_("dropdown-events",[mT(e,o),pT(e,o)]),p_(u,[Js(((e,t)=>Uz(e)))]),p_("menubutton-update-display-text",[Us($z,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{h_.set(e,[$c(n.providers.translate(t.event.text))])}))})),Us(qz,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{h_.set(e,[Wz(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:Or(Bz,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[bs()]:["toolbar-button-events","dropdown-events",u]}),sandboxBehaviours:Ld([Xw.config({mode:"special",onLeft:a,onRight:a}),p_("dropdown-sandbox-events",[Us(JS,((e,t)=>{SD(e),t.stop()})),Us(XS,((e,t)=>{kD(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...WS(!1,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:MD,onCollapseMenu:(e,t,n)=>{Cy.getHighlighted(n).each((t=>{MD(e,n,t)}))},onDehighlightItem:OD}},fetch:t=>rD.nu(E(e.fetch,t))}));return d.asSpec()},Kz=e=>s(e),Yz=e=>"separator"===e.type,Jz=e=>Se(e,"getSubmenuItems"),Xz={type:"separator"},Qz=(e,t)=>{const n=G(e,((e,n)=>Kz(n)?""===n?e:"|"===n?e.length>0&&!Yz(e[e.length-1])?e.concat([Xz]):e:Se(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&Yz(n[n.length-1])&&n.pop(),n},eN=(e,t)=>{const n=e.getSubmenuItems(),o=nN(n,t),r=Or(o.menus,{[e.value]:o.items}),i=Or(o.expansions,{[e.value]:e.value});return{item:e,menus:r,expansions:i}},tN=e=>{const t=Ce(e,"value").getOrThunk((()=>ml("generated-menu-item")));return Or({value:t},e)},nN=(e,t)=>{const n=Qz(s(e)?e.split(" "):e,t);return q(n,((e,n)=>{if(Jz(n)){const o=tN(n),r=eN(o,t);return{menus:Or(e.menus,r.menus),items:[r.item,...e.items],expansions:Or(e.expansions,r.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},oN=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))),rN=e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))),iN=(e,t,n,o)=>{const r=ml("primary-menu"),i=nN(e,n.shared.providers.menuItems());if(0===i.items.length)return R.none();const a=oN(o),s=zD(r,i.items,t,n,o.isHorizontalMenu,a),l=rN(o),c=pe(i.menus,((e,o)=>zD(o,e,t,n,!1,l))),u=Or(c,wa(r,s));return R.from(Ix.tieredData(r,u,i.expansions))},aN=e=>!Se(e,"items"),sN="data-value",lN=(e,t,n,o)=>V(n,(n=>aN(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:()=>{wg.setValue(e,n.value),As(e,IA,{name:t}),C_.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>lN(e,t,n.items,o)})),cN=(e,t)=>ue(e,(e=>aN(e)?Pe(e.value===t,e):cN(e.items,t))),uN=(e,t,n)=>{const o=t.shared.providers,r=n.bind((t=>cN(e.items,t))).orThunk((()=>se(e.items).filter(aN))),i=e.label.map((e=>PA(e,o))),a=xA.parts.field({dom:{},factory:{sketch:n=>Gz({uid:n.uid,text:r.map((e=>e.text)),icon:R.none(),tooltip:e.label,role:R.none(),fetch:(n,o)=>{const r=lN(n,e.name,e.items,wg.getValue(n));o(iN(r,vS.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:R.none()}))},onSetup:C(b),getApi:C({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[EA.config({}),hz.withComp(r.map((e=>e.value)),(e=>nn(e.element,sN)),((t,n)=>{cN(e.items,n).each((e=>{en(t.element,sN,e.value),As(t,$z,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),s={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return xA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([i.toArray(),[s]]),fieldBehaviours:Ld([oy.config({disabled:C(!e.enabled),onDisabled:e=>{xA.getField(e).each(oy.disable)},onEnabled:e=>{xA.getField(e).each(oy.enable)}})])})},dN=(e,t)=>({dom:{tag:"div",classes:e.classes},components:V(e.items,t.shared.interpreter)}),hN=(e,t)=>{const n=V(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>wa("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Cg(e.selectBehaviours,[C_.config({}),wg.config({store:{mode:"manual",getValue:e=>Sc(e.element),setValue:(t,n)=>{const o=se(e.options),r=Y(e.options,(e=>e.value===n));r.isSome()?kc(t.element,n):-1===t.element.dom.selectedIndex&&""===n&&o.each((e=>kc(t.element,e.value)))},...o}})])}},mN=Rv({name:"HtmlSelect",configFields:[Ni("options"),_g("selectBehaviours",[C_,wg]),na("selectClasses",[]),na("selectAttributes",{}),qi("data")],factory:hN}),pN=(e,t,n)=>{const o=V(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>PA(e,t))),i=xA.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:mN,selectBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled()}),EA.config({}),p_("selectbox-change",[Us(Ya(),((t,n)=>{As(t,IA,{name:e.name})}))])])}),a=e.size>1?R.none():R.some(Qx("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),s={dom:{tag:"div",classes:["tox-selectfield"]},components:X([[i],a.toArray()])};return xA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:X([r.toArray(),[s]]),fieldBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{xA.getField(e).each(oy.disable)},onEnabled:e=>{xA.getField(e).each(oy.enable)}}),aT()])})},fN=C([na("field1Name","field1"),na("field2Name","field2"),Iu("onLockedChange"),Du(["lockClass"]),na("locked",!1),Sg.field("coupledFieldBehaviours",[Hv,wg])]),gN=(e,t,n)=>pv(e,t,n).bind(Hv.getCurrent),vN=(e,t)=>Qg({factory:xA,name:e,overrides:e=>({fieldBehaviours:Ld([p_("coupled-input-behaviour",[Us(Ka(),(n=>{gN(n,e,t).each((t=>{pv(n,e,"lock").each((o=>{V_.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])})}),yN=C([vN("field1","field2"),vN("field2","field1"),Qg({factory:Bx,schema:[Ni("dom")],name:"lock",overrides:e=>({buttonBehaviours:Ld([V_.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),bN=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Sg.augment(e.coupledFieldBehaviours,[Hv.config({find:R.some}),wg.config({store:{mode:"manual",getValue:t=>{const n=bv(t,e,["field1","field2"]);return{[e.field1Name]:wg.getValue(n.field1()),[e.field2Name]:wg.getValue(n.field2())}},setValue:(t,n)=>{const o=bv(t,e,["field1","field2"]);ke(n,e.field1Name)&&wg.setValue(o.field1(),n[e.field1Name]),ke(n,e.field2Name)&&wg.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>pv(t,e,"field1"),getField2:t=>pv(t,e,"field2"),getLock:t=>pv(t,e,"lock")}}),wN=Pv({name:"FormCoupledInputs",configFields:fN(),partFields:yN(),factory:bN,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),_N=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e=>e in t?t[e]:1;let o=e.value.toFixed(n(e.unit));return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+e.unit},xN=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){const e=parseFloat(n[1]),t=n[2];return ur.value({value:e,unit:t})}return ur.error(e)},CN=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>Se(n,e);return e.unit===t?R.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?R.some(e.value):R.some(e.value/n[e.unit]*n[t]):R.none()},SN=e=>R.none(),kN=(e,t)=>n=>CN(n,t).map((n=>({value:n*e,unit:t}))),EN=(e,t)=>{const n=xN(e).toOptional(),o=xN(t).toOptional();return De(n,o,((e,t)=>CN(e,t.unit).map((e=>t.value/e)).map((e=>kN(e,t.unit))).getOr(SN))).getOr(SN)},TN=(e,t)=>{let n=SN;const o=ml("ratio-event"),r=e=>Qx(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=wN.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled()}),aT(),EA.config({})])}),a=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),s=n=>xA.parts.field({factory:YS,inputClasses:["tox-textfield"],inputBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled()}),aT(),EA.config({}),p_("size-input-events",[Us(Za(),((e,t)=>{As(e,o,{isField1:n})})),Us(Ya(),((t,n)=>{As(t,IA,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[$c(t.translate(e))]}),c=wN.parts.field1(a([xA.parts.label(l("Width")),s(!0)])),u=wN.parts.field2(a([xA.parts.label(l("Height")),s(!1)]));return wN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,u,a([l(Mm),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{xN(wg.getValue(e)).each((e=>{n(e).each((e=>{wg.setValue(t,_N(e))}))}))},coupledFieldBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{wN.getField1(e).bind(xA.getField).each(oy.disable),wN.getField2(e).bind(xA.getField).each(oy.disable),wN.getLock(e).each(oy.disable)},onEnabled:e=>{wN.getField1(e).bind(xA.getField).each(oy.enable),wN.getField2(e).bind(xA.getField).each(oy.enable),wN.getLock(e).each(oy.enable)}}),aT(),p_("size-input-events2",[Us(o,((e,t)=>{const o=t.event.isField1,r=o?wN.getField1(e):wN.getField2(e),i=o?wN.getField2(e):wN.getField1(e),a=r.map(wg.getValue).getOr(""),s=i.map(wg.getValue).getOr("");n=EN(a,s)}))])])})},MN=(e,t,n)=>{const o=NI.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$c(t.translate(e.label))]}),r=NI.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=NI.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return NI.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:C(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,r,i],sliderBehaviours:Ld([rz.self(),C_.config({})]),onChoose:(t,n,o)=>{As(t,IA,{name:e.name,value:o})}})},ON=(e,t)=>{const n=e=>({dom:{tag:"th",innerHtml:t.translate(e)}}),o=e=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:V(e,n)}]}),r=e=>({dom:{tag:"td",innerHtml:t.translate(e)}}),i=e=>({dom:{tag:"tr"},components:V(e,r)}),a=e=>({dom:{tag:"tbody"},components:V(e,i)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[o(e.header),a(e.cells)],behaviours:Ld([EA.config({}),C_.config({})])}},DN=(e,t)=>{const n=e.label.map((e=>PA(e,t))),o=[oy.config({disabled:()=>e.disabled||t.isDisabled()}),aT(),Xw.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ds(e,HA),R.some(!0))}),p_("textfield-change",[Us(Ka(),((t,n)=>{As(t,IA,{name:e.name})})),Us(as(),((t,n)=>{As(t,IA,{name:e.name})}))]),EA.config({})],r=e.validation.map((e=>tR.config({getRoot:e=>At(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=wg.getValue(t),o=e.validator(n);return rD.pure(!0===o?ur.value(n):ur.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),i=e.placeholder.fold(C({}),(e=>({placeholder:t.translate(e)}))),a=e.inputMode.fold(C({}),(e=>({inputmode:e}))),s={...i,...a},l=xA.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Ld(X([o,r])),selectOnFocus:!1,factory:YS}),c=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[l]}:l,u=e.flex?["tox-form__group--stretched"]:[],d=u.concat(e.maximized?["tox-form-group--maximize"]:[]),h=[oy.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{xA.getField(e).each(oy.disable)},onEnabled:e=>{xA.getField(e).each(oy.enable)}}),aT()];return MA(n,c,d,h)},AN=(e,t,n)=>DN({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:R.none(),maximized:e.maximized,data:n},t),RN=(e,t,n)=>DN({name:e.name,multiline:!0,label:e.label,inputMode:R.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:R.none(),maximized:e.maximized,data:n},t),PN=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),IN=e=>e.dimension.property,zN=(e,t)=>e.dimension.getDimension(t),NN=(e,t)=>{const n=PN(e,t);wc(n,[t.shrinkingClass,t.growingClass])},LN=(e,t)=>{vc(e.element,t.openClass),fc(e.element,t.closedClass),un(e.element,IN(t),"0px"),bn(e.element)},HN=(e,t)=>{vc(e.element,t.closedClass),fc(e.element,t.openClass),yn(e.element,IN(t))},FN=(e,t,n,o)=>{n.setCollapsed(),un(e.element,IN(t),zN(t,e.element)),NN(e,t),LN(e,t),t.onStartShrink(e),t.onShrunk(e)},BN=(e,t,n,o)=>{const r=o.getOrThunk((()=>zN(t,e.element)));n.setCollapsed(),un(e.element,IN(t),r),bn(e.element);const i=PN(e,t);vc(i,t.growingClass),fc(i,t.shrinkingClass),LN(e,t),t.onStartShrink(e)},UN=(e,t,n)=>{const o=zN(t,e.element),r="0px"===o?FN:BN;r(e,t,n,R.some(o))},VN=(e,t,n)=>{const o=PN(e,t),r=yc(o,t.shrinkingClass),i=zN(t,e.element);HN(e,t);const a=zN(t,e.element),s=()=>{un(e.element,IN(t),i),bn(e.element)},l=()=>{LN(e,t)},c=r?s:l;c(),vc(o,t.shrinkingClass),fc(o,t.growingClass),HN(e,t),un(e.element,IN(t),a),n.setExpanded(),t.onStartGrow(e)},jN=(e,t,n)=>{if(n.isExpanded()){yn(e.element,IN(t));const n=zN(t,e.element);un(e.element,IN(t),n)}},WN=(e,t,n)=>{n.isExpanded()||VN(e,t,n)},ZN=(e,t,n)=>{n.isExpanded()&&UN(e,t,n)},$N=(e,t,n)=>{n.isExpanded()&&FN(e,t,n)},qN=(e,t,n)=>n.isExpanded(),GN=(e,t,n)=>n.isCollapsed(),KN=(e,t,n)=>{const o=PN(e,t);return!0===yc(o,t.growingClass)},YN=(e,t,n)=>{const o=PN(e,t);return!0===yc(o,t.shrinkingClass)},JN=(e,t,n)=>KN(e,t)||YN(e,t),XN=(e,t,n)=>{const o=n.isExpanded()?UN:VN;o(e,t,n)},QN=(e,t,n)=>{n.isExpanded()||(HN(e,t),un(e.element,IN(t),zN(t,e.element)),NN(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))};var eL=Object.freeze({__proto__:null,refresh:jN,grow:WN,shrink:ZN,immediateShrink:$N,hasGrown:qN,hasShrunk:GN,isGrowing:KN,isShrinking:YN,isTransitioning:JN,toggleGrow:XN,disableTransitions:NN,immediateGrow:QN});const tL=(e,t,n)=>{const o=t.expanded;return Bl(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:wa(t.dimension.property,"0px")})},nL=(e,t)=>Ls([Ys(Qa(),((n,o)=>{const r=o.event.raw;if(r.propertyName===e.dimension.property){NN(n,e),t.isExpanded()&&yn(n.element,e.dimension.property);const o=t.isExpanded()?e.onGrown:e.onShrunk;o(n)}}))]);var oL=Object.freeze({__proto__:null,exhibit:tL,events:nL}),rL=[Ni("closedClass"),Ni("openClass"),Ni("shrinkingClass"),Ni("growingClass"),qi("getAnimationRoot"),Ru("onShrunk"),Ru("onStartShrink"),Ru("onGrown"),Ru("onStartGrow"),na("expanded",!1),Li("dimension",Ai("property",{width:[Nu("property","width"),Nu("getDimension",(e=>Pn(e)+"px"))],height:[Nu("property","height"),Nu("getDimension",(e=>xn(e)+"px"))]}))];const iL=e=>{const t=ha(e.expanded),n=()=>"expanded: "+t.get();return zl({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:E(t.set,!1),setExpanded:E(t.set,!0),readState:n})};var aL=Object.freeze({__proto__:null,init:iL});const sL=Fd({fields:rL,name:"sliding",active:oL,apis:eL,state:aL}),lL=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t),setActive:t=>{const n=e.element;t?(fc(n,"tox-tbtn--enabled"),en(n,"aria-pressed",!0)):(vc(n,"tox-tbtn--enabled"),an(n,"aria-pressed"))},isActive:()=>yc(e.element,"tox-tbtn--enabled"),setText:t=>{As(e,$z,{text:t})},setIcon:t=>As(e,qz,{icon:t})}),cL=(e,t,n,o,r=!0)=>Gz({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(t,o)=>{const r={pattern:e.search.isSome()?AD(t):""};e.fetch((t=>{o(iN(t,vS.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),r,lL(t))},onSetup:e.onSetup,getApi:lL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...r?[EA.config({})]:[]]},t,n.shared),uL=(e,t,n)=>{const o=e=>o=>{const r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{$d(t.element),As(t,LA,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(V(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:r(e)}})))}},dL=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[$c(e)]}),hL=ml("leaf-label-event-id"),mL=({leaf:e,onLeafAction:t,visible:n,treeId:o,selectedId:r,backstage:i})=>{const a=e.menu.map((e=>cL(e,"tox-mbtn",i,R.none(),n))),s=[dL(e.title)];return a.each((e=>s.push(e))),Bx.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[qa()]:[hL,"keying"]},buttonBehaviours:Ld([...n?[EA.config({})]:[],V_.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),jd.config({channels:{[`update-active-item-${o}`]:{onReceive:(t,n)=>{(n.value===e.id?V_.on:V_.off)(t)}}}}),p_(hL,[Js(((t,n)=>{r.each((n=>{const o=n===e.id?V_.on:V_.off;o(t)}))})),Us(qa(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,o="ArrowRight"===t.event.raw.code;n?(iu(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{au(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(C_.focus)}))}))})),t.stop()):o&&t.stop()}))])])})},pL=(e,t,n)=>Qx(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:n},t),fL=(e,t)=>pL(e,t,[]),gL=ml("directory-label-event-id"),vL=({directory:e,visible:t,noChildren:n,backstage:o})=>{const r=e.menu.map((e=>cL(e,"tox-mbtn",o,R.none()))),i=[{dom:{tag:"div",classes:["tox-chevron"]},components:[fL("chevron-right",o.shared.providers.icons)]},dL(e.title)];r.each((e=>{i.push(e)}));const a=t=>{iu(t.element,".tox-tree--directory").each((n=>{t.getSystem().getByDom(n).each((n=>{const o=!V_.isOn(n);V_.toggle(n),As(t,"expand-tree-node",{expanded:o,node:e.id})}))}))};return Bx.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:i,action:a,eventOrder:{[qa()]:[gL,"keying"]},buttonBehaviours:Ld([...t?[EA.config({})]:[],p_(gL,[Us(qa(),((e,t)=>{const o="ArrowRight"===t.event.raw.code,r="ArrowLeft"===t.event.raw.code;o&&n&&t.stop(),(o||r)&&iu(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!V_.isOn(n)&&o||V_.isOn(n)&&r?(a(e),t.stop()):r&&!V_.isOn(n)&&(iu(n.element,".tox-tree--directory").each((e=>{au(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(C_.focus)}))})),t.stop())}))}))}))])])})},yL=({children:e,onLeafAction:t,visible:n,treeId:o,expandedIds:r,selectedId:i,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?mL({leaf:e,selectedId:i,onLeafAction:t,visible:n,treeId:o,backstage:a}):wL({directory:e,expandedIds:r,selectedId:i,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:a}))),behaviours:Ld([sL.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),h_.config({})])}),bL=ml("directory-event-id"),wL=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:r,expandedIds:i,selectedId:a})=>{const{children:s}=e,l=ha(i),c=e=>s.map((n=>"leaf"===n.type?mL({leaf:n,selectedId:a,onLeafAction:t,visible:e,treeId:o,backstage:r}):wL({directory:n,expandedIds:l.get(),selectedId:a,onLeafAction:t,labelTabstopping:e,treeId:o,backstage:r}))),u=i.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[vL({directory:e,visible:n,noChildren:0===e.children.length,backstage:r}),yL({children:s,expandedIds:i,selectedId:a,onLeafAction:t,visible:u,treeId:o,backstage:r})],behaviours:Ld([p_(bL,[Js(((e,t)=>{V_.set(e,u)})),Us("expand-tree-node",((e,t)=>{const{expanded:n,node:o}=t.event;l.set(n?[...l.get(),o]:l.get().filter((e=>e!==o)))}))]),V_.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{const n=e.components()[1],o=c(t);t?sL.grow(n):sL.shrink(n),h_.set(n,o)}})])}},_L=ml("tree-event-id"),xL=(e,t)=>{const n=e.onLeafAction.getOr(b),o=e.onToggleExpand.getOr(b),r=e.defaultExpandedIds,i=ha(r),a=ha(e.defaultSelectedId),s=ml("tree-id"),l=(o,r)=>e.items.map((e=>"leaf"===e.type?mL({leaf:e,selectedId:o,onLeafAction:n,visible:!0,treeId:s,backstage:t}):wL({directory:e,selectedId:o,onLeafAction:n,expandedIds:r,labelTabstopping:!0,treeId:s,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:l(a.get(),i.get()),behaviours:Ld([Xw.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),p_(_L,[Us("expand-tree-node",((e,t)=>{const{expanded:n,node:r}=t.event;i.set(n?[...i.get(),r]:i.get().filter((e=>e!==r))),o(i.get(),{expanded:n,node:r})}))]),jd.config({channels:{[`update-active-item-${s}`]:{onReceive:(e,t)=>{a.set(R.some(t.value)),h_.set(e,l(R.some(t.value),i.get()))}}}}),h_.config({})])}},CL=(e,t)=>{const n=e.stream.streams,o=n.setup(e,t);return Ls([Us(e.event,o),Xs((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Us(e,(()=>t.cancel()))])).getOr([])))};var SL=Object.freeze({__proto__:null,events:CL});const kL=(e,t)=>{let n=null;const o=()=>{d(n)||(clearTimeout(n),n=null)},r=(...o)=>{d(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},EL=(e,t)=>{let n=null;const o=()=>{d(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},TL=e=>{const t=ha(null),n=()=>({timer:null!==t.get()?"set":"unset"}),o=e=>{t.set(e)},r=()=>{const e=t.get();null!==e&&e.cancel()};return zl({readState:n,setTimer:o,cancel:r})},ML=e=>e.stream.streams.state(e);var OL=Object.freeze({__proto__:null,throttle:TL,init:ML});const DL=(e,t)=>{const n=e.stream,o=EL(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}};var AL=[Li("stream",Ai("mode",{throttle:[Ni("delay"),na("stopEvent",!0),Nu("streams",{setup:DL,state:TL})]})),na("event","input"),qi("cancelEvent"),Iu("onStream")];const RL=Fd({fields:AL,name:"streaming",active:SL,state:OL}),PL=(e,t,n)=>{const o=wg.getValue(n);wg.setValue(t,o),zL(t)},IL=(e,t)=>{const n=e.element,o=Sc(n),r=n.dom;"number"!==nn(n,"type")&&t(r,o)},zL=e=>{IL(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},NL=(e,t)=>{IL(e,((e,n)=>e.setSelectionRange(t,n.length)))},LL=(e,t,n)=>{if(e.selectsOver){const o=wg.getValue(t),r=e.getDisplayText(o),i=wg.getValue(n),a=e.getDisplayText(i);return 0===a.indexOf(r)?R.some((()=>{PL(e,t,n),NL(t,r.length)})):R.none()}return R.none()},HL=C("alloy.typeahead.itemexecute"),FL=(e,t,n,o)=>{const r=(t,n,r)=>{e.previewing.set(!1);const i=YO.getCoupled(t,"sandbox");if(Hf.isOpen(i))Hv.getCurrent(i).each((e=>{Cy.getHighlighted(e).fold((()=>{r(e)}),(()=>{Ns(i,e.element,"keydown",n)}))}));else{const n=e=>{Hv.getCurrent(e).each(r)};uD(e,a(t),t,i,o,n,Mx.HighlightMenuAndItem).get(b)}},i=$S(e),a=e=>t=>t.map((t=>{const n=xe(t.menus),o=Q(n,(e=>$(e.items,(e=>"item"===e.type)))),r=wg.getState(e);return r.update(V(o,(e=>e.data))),t})),s=e=>Hv.getCurrent(e),l="typeaheadevents",c=[C_.config({}),wg.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Sc(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{kc(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>wa("initialValue",e))).getOr({})}}),RL.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const r=YO.getCoupled(t,"sandbox"),i=C_.isFocused(t);if(i&&Sc(t.element).length>=e.minChars){const n=s(r).bind((e=>Cy.getHighlighted(e).map(wg.getValue)));e.previewing.set(!0);const i=t=>{s(r).each((t=>{n.fold((()=>{e.model.selectsOver&&Cy.highlightFirst(t)}),(e=>{Cy.highlightBy(t,(t=>{const n=wg.getValue(t);return n.value===e.value})),Cy.getHighlighted(t).orThunk((()=>(Cy.highlightFirst(t),R.none())))}))}))};uD(e,a(t),t,r,o,i,Mx.HighlightJustMenu).get(b)}},cancelEvent:ms()}),Xw.config({mode:"special",onDown:(e,t)=>(r(e,t,Cy.highlightFirst),R.some(!0)),onEscape:e=>{const t=YO.getCoupled(e,"sandbox");return Hf.isOpen(t)?(Hf.close(t),R.some(!0)):R.none()},onUp:(e,t)=>(r(e,t,Cy.highlightLast),R.some(!0)),onEnter:t=>{const n=YO.getCoupled(t,"sandbox"),o=Hf.isOpen(n);if(o&&!e.previewing.get())return s(n).bind((e=>Cy.getHighlighted(e))).map((e=>(As(t,HL(),{item:e}),!0)));{const r=wg.getValue(t);return Ds(t,ms()),e.onExecute(n,t,r),o&&Hf.close(n),R.some(!0)}}}),V_.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),YO.config({others:{sandbox:t=>gD(e,t,{onOpen:()=>V_.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>an(e.element,"aria-activedescendant"))),V_.off(t)}})}}),p_(l,[Js((t=>{e.lazyTypeaheadComp.set(R.some(t))})),Xs((t=>{e.lazyTypeaheadComp.set(R.none())})),el((t=>{const n=b;hD(e,a(t),t,o,n,Mx.HighlightMenuAndItem).get(b)})),Us(HL(),((t,n)=>{const o=YO.getCoupled(t,"sandbox");PL(e.model,t,n.event.item),Ds(t,ms()),e.onItemExecute(t,o,n.event.item,wg.getValue(t)),Hf.close(o),zL(t)}))].concat(e.dismissOnBlur?[Us(is(),(e=>{const t=YO.getCoupled(e,"sandbox");Yd(t.element).isNone()&&Hf.close(t)}))]:[]))],u={[ws()]:[wg.name(),RL.name(),l],...e.eventOrder};return{uid:e.uid,dom:GS(Or(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...Cg(e.typeaheadBehaviours,c)},eventOrder:u}},BL=C([qi("lazySink"),Ni("fetch"),na("minChars",5),na("responseTime",1e3),Ru("onOpen"),na("getHotspot",R.some),na("getAnchorOverrides",C({})),na("layouts",R.none()),na("eventOrder",{}),da("model",{},[na("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),na("selectsOver",!0),na("populateFromBrowse",!0)]),Ru("onSetValue"),Pu("onExecute"),Ru("onItemExecute"),na("inputClasses",[]),na("inputAttributes",{}),na("inputStyles",{}),na("matchWidth",!0),na("useMinWidth",!1),na("dismissOnBlur",!0),Du(["openClass"]),qi("initialData"),_g("typeaheadBehaviours",[C_,wg,RL,Xw,V_,YO]),Ii("lazyTypeaheadComp",(()=>ha(R.none))),Ii("previewing",(()=>ha(!0)))].concat(ZS()).concat(yD())),UL=C([ev({schema:[Ou()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{LL(e.model,t,o).fold((()=>{e.model.selectsOver?(Cy.dehighlight(n,o),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&PL(e.model,t,o),on(o.element,"id").each((e=>en(t.element,"aria-activedescendant",e)))}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(As(e,HL(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&PL(e.model,t,n)}))}})})]),VL=Pv({name:"Typeahead",configFields:BL(),partFields:UL(),factory:FL}),jL=e=>{const t=()=>jL(e.toCached()),n=t=>jL(e.bind((e=>e.fold((e=>rD.pure(ur.error(e))),(e=>t(e)))))),o=t=>jL(e.map((e=>e.bind(t)))),r=t=>jL(e.map((e=>e.map(t)))),i=t=>jL(e.map((e=>e.mapError(t)))),a=(t,n)=>e.map((e=>e.fold(t,n))),s=(t,n)=>jL(rD.nu((o=>{let r=!1;const i=setTimeout((()=>{r=!0,o(ur.error(n()))}),t);e.get((e=>{r||(clearTimeout(i),o(e))}))})));return{...e,toCached:t,bindFuture:n,bindResult:o,mapResult:r,mapError:i,foldResult:a,withTimeout:s}},WL=e=>jL(rD.nu(e)),ZL=e=>jL(rD.pure(ur.value(e))),$L=e=>jL(rD.pure(ur.error(e))),qL=e=>jL(rD.pure(e)),GL=e=>jL(e.map(ur.value)),KL=e=>WL((t=>{e.then((e=>{t(ur.value(e))}),(e=>{t(ur.error(e))}))})),YL={nu:WL,wrap:jL,pure:ZL,value:ZL,error:$L,fromResult:qL,fromFuture:GL,fromPromise:KL},JL=(e,t,n=[],o,r,i)=>{const a=t.fold((()=>({})),(e=>({action:e}))),s={buttonBehaviours:Ld([dT.button((()=>!e.enabled||i.isDisabled())),aT(),EA.config({}),p_("button press",[Bs("click"),Bs("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...a},l=Or(s,{dom:o});return Or(l,{components:r})},XL=(e,t,n,o=[])=>{const r=e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:r},a=e.icon.map((e=>jz(e,n.icons))),s=vT([a]);return JL(e,t,o,i,s,n)},QL=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},eH=(e,t,n,o=[],r=[])=>{const i=n.translate(e.text),a=e.icon.map((e=>jz(e,n.icons))),s=[a.getOrThunk((()=>$c(i)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=QL(l),u=[...c,...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r],d={tag:"button",classes:u,attributes:{title:i}};return JL(e,t,o,d,s,n)},tH=(e,t,n,o=[],r=[])=>{const i=eH(e,R.some(t),n,o,r);return Bx.sketch(i)},nH=(e,t)=>n=>{"custom"===t?As(n,LA,{name:e,value:{}}):"submit"===t?Ds(n,HA):"cancel"===t?Ds(n,NA):console.error("Unknown button type: ",t)},oH=(e,t)=>"menu"===t,rH=(e,t)=>"custom"===t||"cancel"===t||"submit"===t,iH=(e,t)=>"togglebutton"===t,aH=(e,t)=>{var n,o;const r=e.icon.map((e=>Wz(e,t.icons))).map(Ux),i=n=>{As(n,LA,{name:e.name,value:{setIcon:e=>{r.map((o=>o.getOpt(n).each((n=>{h_.set(n,[Wz(e,t.icons)])}))))}}})},a=e.buttonType.getOr(e.primary?"primary":"secondary"),s={...e,name:null!==(n=e.name)&&void 0!==n?n:"",primary:"primary"===a,tooltip:R.from(e.tooltip),enabled:null!==(o=e.enabled)&&void 0!==o&&o,borderless:!1},l=s.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),c=QL(null!==a&&void 0!==a?a:"secondary"),u=e.icon.isSome()&&e.text.isSome(),d={tag:"button",classes:[...c.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...u?["tox-button--icon-and-text"]:[]],attributes:l},h=[],m=t.translate(e.text.getOr("")),p=$c(m),f=vT([r.map((e=>e.asSpec()))]),g=[...f,...e.text.isSome()?[p]:[]],v=JL(s,R.some(i),h,d,g,t);return Bx.sketch(v)},sH=(e,t,n)=>{if(oH(e,t)){const t=()=>i,o=e,r={...e,type:"menubutton",search:R.none(),onSetup:t=>(t.setEnabled(e.enabled),b),fetch:uL(o.items,t,n)},i=Ux(cL(r,"tox-tbtn",n,R.none()));return i.asSpec()}if(rH(e,t)){const o=nH(e.name,t),r={...e,borderless:!1};return tH(r,o,n.shared.providers,[])}if(iH(e,t))return aH(e,n.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},lH=(e,t)=>{const n=nH(e.name,"custom");return OA(R.none(),xA.parts.field({factory:Bx,...eH(e,R.some(n),t,[hz.memory(""),rz.self()])}))},cH={type:"separator"},uH=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:b}),dH=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:b}),hH=e=>V(e,uH),mH=(e,t)=>$(t,(t=>t.type===e)),pH=(e,t)=>hH(mH(e,t)),fH=e=>pH("header",e.targets),gH=e=>pH("anchor",e.targets),vH=e=>R.from(e.anchorTop).map((e=>dH("<top>",e))).toArray(),yH=e=>R.from(e.anchorBottom).map((e=>dH("<bottom>",e))).toArray(),bH=e=>V(e,(e=>dH(e,e))),wH=e=>G(e,((e,t)=>{const n=0===e.length||0===t.length;return n?e.concat(t):e.concat(cH,t)}),[]),_H=(e,t)=>{const n=e.toLowerCase();return $(t,(e=>{var t;const o=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,r=null!==(t=e.value)&&void 0!==t?t:"";return Fe(o.toLowerCase(),n)||Fe(r.toLowerCase(),n)}))},xH=(e,t,n)=>{var o,r;const i=wg.getValue(t),a=null!==(r=null===(o=null===i||void 0===i?void 0:i.meta)||void 0===o?void 0:o.text)&&void 0!==r?r:i.value,s=n.getLinkInformation();return s.fold((()=>[]),(t=>{const o=_H(a,bH(n.getHistory(e)));return"file"===e?wH([o,_H(a,fH(t)),_H(a,X([vH(t),gH(t),yH(t)]))]):o}))},CH=ml("aria-invalid"),SH=(e,t,n,o)=>{const r=t.shared.providers,i=t=>{const o=wg.getValue(t);n.addToHistory(o.value,e.filetype)},a={...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":CH,type:"url"},minChars:0,responseTime:0,fetch:o=>{const r=xH(e.filetype,o,n),i=iN(r,vS.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:R.none()});return rD.pure(i)},getHotspot:e=>p.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(tR)&&tR.run(e).get(b)},typeaheadBehaviours:Ld([...n.getValidationHandler().map((t=>tR.config({getRoot:e=>At(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{u.getOpt(e).each((e=>{en(e.element,"title",r.translate(t))}))}},validator:{validate:n=>{const o=wg.getValue(n);return YL.nu((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=ur.error(e.message);n(t)}else{const t=ur.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),oy.config({disabled:()=>!e.enabled||r.isDisabled()}),EA.config({}),p_("urlinput-events",[Us(Ka(),(t=>{const n=Sc(t.element),o=n.trim();o!==n&&kc(t.element,o),"file"===e.filetype&&As(t,IA,{name:e.name})})),Us(Ya(),(t=>{As(t,IA,{name:e.name}),i(t)})),Us(as(),(t=>{As(t,IA,{name:e.name}),i(t)}))])]),eventOrder:{[Ka()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:WS(!1,1,"normal")},onExecute:(e,t,n)=>{As(t,HA,{})},onItemExecute:(t,n,o,r)=>{i(t),As(t,IA,{name:e.name})}},s=xA.parts.field({...a,factory:VL}),l=e.label.map((e=>PA(e,r))),c=(e,t,n=e,o=e)=>Qx(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons),u=Ux(c("invalid",R.some(CH),"warning")),d=Ux({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[u.asSpec()]}),h=n.getUrlPicker(e.filetype),m=ml("browser.url.event"),p=Ux({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,d.asSpec()],behaviours:Ld([oy.config({disabled:()=>!e.enabled||r.isDisabled()})])}),f=Ux(tH({name:e.name,icon:R.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:R.none(),borderless:!0},(e=>Ds(e,m)),r,[],["tox-browse-url"])),g=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:X([[p.asSpec()],h.map((()=>f.asSpec())).toArray()])}),v=t=>{Hv.getCurrent(t).each((n=>{const o=wg.getValue(n),r={fieldname:e.name,...o};h.each((o=>{o(r).get((o=>{wg.setValue(n,o),As(t,IA,{name:e.name})}))}))}))};return xA.sketch({dom:AA(),components:l.toArray().concat([g()]),fieldBehaviours:Ld([oy.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{xA.getField(e).each(oy.disable),f.getOpt(e).each(oy.disable)},onEnabled:e=>{xA.getField(e).each(oy.enable),f.getOpt(e).each(oy.enable)}}),aT(),p_("url-input-events",[Us(m,v)])])})},kH=(e,t)=>gA.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Bx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Gx(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{As(t,LA,{name:"alert-banner",value:e.url})},buttonBehaviours:Ld([Jx()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}),EH=(e,t)=>{e.dom.checked=t},TH=e=>e.dom.checked,MH=(e,t,n)=>{const o=e=>(e.element.dom.click(),R.some(!0)),r=xA.parts.field({factory:{sketch:S},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ld([rz.self(),oy.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{At(e.element).each((e=>fc(e,"tox-checkbox--disabled")))},onEnabled:e=>{At(e.element).each((e=>vc(e,"tox-checkbox--disabled")))}}),EA.config({}),C_.config({}),hz.withElement(n,TH,EH),Xw.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),p_("checkbox-events",[Us(Ya(),((t,n)=>{As(t,IA,{name:e.name})}))])])}),i=xA.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$c(t.translate(e.label))],behaviours:Ld([iR.config({})])}),a=e=>{const n="checked"===e?"selected":"unselected";return Qx(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)},s=Ux({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return xA.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,s.asSpec(),i],fieldBehaviours:Ld([oy.config({disabled:()=>!e.enabled||t.isDisabled()}),aT()])})},OH=e=>"presentation"===e.presets?gA.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):gA.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Ld([EA.config({}),C_.config({})])}),DH=e=>(t,n,o,r)=>Ce(n,"name").fold((()=>e(n,r,R.none())),(i=>t.field(i,e(n,r,Ce(o,i))))),AH=e=>(t,n,o,r)=>{const i=Or(n,{source:"dynamic"});return DH(e)(t,i,o,r)},RH={bar:DH(((e,t)=>yA(e,t.shared))),collection:DH(((e,t,n)=>jA(e,t.shared.providers,n))),alertbanner:DH(((e,t)=>kH(e,t.shared.providers))),input:DH(((e,t,n)=>AN(e,t.shared.providers,n))),textarea:DH(((e,t,n)=>RN(e,t.shared.providers,n))),label:DH(((e,t)=>Nz(e,t.shared))),iframe:AH(((e,t,n)=>Az(e,t.shared.providers,n))),button:DH(((e,t)=>lH(e,t.shared.providers))),checkbox:DH(((e,t,n)=>MH(e,t.shared.providers,n))),colorinput:DH(((e,t,n)=>uR(e,t.shared,t.colorinput,n))),colorpicker:DH(((e,t,n)=>fz(e,t.shared.providers,n))),dropzone:DH(((e,t,n)=>_z(e,t.shared.providers,n))),grid:DH(((e,t)=>xz(e,t.shared))),listbox:DH(((e,t,n)=>uN(e,t,n))),selectbox:DH(((e,t,n)=>pN(e,t.shared.providers,n))),sizeinput:DH(((e,t)=>TN(e,t.shared.providers))),slider:DH(((e,t,n)=>MN(e,t.shared.providers,n))),urlinput:DH(((e,t,n)=>SH(e,t,t.urlinput,n))),customeditor:DH(yz),htmlpanel:DH(OH),imagepreview:DH(((e,t,n)=>zz(e,n))),table:DH(((e,t)=>ON(e,t.shared.providers))),tree:DH(((e,t)=>xL(e,t))),panel:DH(((e,t)=>dN(e,t)))},PH={field:(e,t)=>t,record:C([])},IH=(e,t,n,o)=>{const r=Or(o,{shared:{interpreter:t=>zH(e,t,n,r)}});return zH(e,t,n,r)},zH=(e,t,n,o)=>Ce(RH,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o))),NH=(e,t,n)=>zH(PH,e,t,n),LH="layout-inset",HH=e=>e.x,FH=(e,t)=>e.x+e.width/2-t.width/2,BH=(e,t)=>e.x+e.width-t.width,UH=e=>e.y,VH=(e,t)=>e.y+e.height-t.height,jH=(e,t)=>e.y+e.height/2-t.height/2,WH=(e,t,n)=>Fu(BH(e,t),VH(e,t),n.insetSouthwest(),qu(),"southwest",td(e,{right:0,bottom:3}),LH),ZH=(e,t,n)=>Fu(HH(e),VH(e,t),n.insetSoutheast(),$u(),"southeast",td(e,{left:1,bottom:3}),LH),$H=(e,t,n)=>Fu(BH(e,t),UH(e),n.insetNorthwest(),Zu(),"northwest",td(e,{right:0,top:2}),LH),qH=(e,t,n)=>Fu(HH(e),UH(e),n.insetNortheast(),Wu(),"northeast",td(e,{left:1,top:2}),LH),GH=(e,t,n)=>Fu(FH(e,t),UH(e),n.insetNorth(),Gu(),"north",td(e,{top:2}),LH),KH=(e,t,n)=>Fu(FH(e,t),VH(e,t),n.insetSouth(),Ku(),"south",td(e,{bottom:3}),LH),YH=(e,t,n)=>Fu(BH(e,t),jH(e,t),n.insetEast(),Ju(),"east",td(e,{right:0}),LH),JH=(e,t,n)=>Fu(HH(e),jH(e,t),n.insetWest(),Yu(),"west",td(e,{left:1}),LH),XH=e=>{switch(e){case"north":return GH;case"northeast":return qH;case"northwest":return $H;case"south":return KH;case"southeast":return ZH;case"southwest":return WH;case"east":return YH;case"west":return JH}},QH=(e,t,n,o,r)=>{const i=ph(o).map(XH).getOr(GH);return i(e,t,n,o,r)},eF=e=>{switch(e){case"north":return KH;case"northeast":return ZH;case"northwest":return WH;case"south":return GH;case"southeast":return qH;case"southwest":return $H;case"east":return JH;case"west":return YH}},tF=(e,t,n,o,r)=>{const i=ph(o).map(eF).getOr(GH);return i(e,t,n,o,r)},nF={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},oF=(e,t,n)=>{const o=12,r={maxHeightFunction:Gh()},i=()=>({type:"node",root:Wt(jt(e())),node:R.from(e()),bubble:Qh(o,o,nF),layouts:{onRtl:()=>[qH],onLtr:()=>[$H]},overrides:r}),a=()=>({type:"hotspot",hotspot:t(),bubble:Qh(-o,o,nF),layouts:{onRtl:()=>[hd,md,vd],onLtr:()=>[md,hd,vd]},overrides:r});return()=>n()?i():a()},rF=(e,t,n)=>{const o=()=>({type:"node",root:Wt(jt(e())),node:R.from(e()),layouts:{onRtl:()=>[GH],onLtr:()=>[GH]}}),r=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[vd],onLtr:()=>[vd]}});return()=>n()?o():r()},iF=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){const e=n[0],t=n[n.length-1],o={firstCell:Xe.fromDom(e),lastCell:Xe.fromDom(t)};return R.some(o)}return R.some($m.range(Xe.fromDom(t.startContainer),t.startOffset,Xe.fromDom(t.endContainer),t.endOffset))}}),aF=e=>t=>({type:"node",root:e(),node:t}),sF=(e,t,n)=>{const o=rS(e),r=()=>Xe.fromDom(e.getBody()),i=()=>Xe.fromDom(e.getContentAreaContainer()),a=()=>o||!n();return{inlineDialog:oF(i,t,a),banner:rF(i,t,a),cursor:iF(e,r),node:aF(r)}},lF=e=>(t,n)=>{const o=fO(e);o(t,n)},cF=e=>()=>YM(e),uF=e=>t=>JM(e,t),dF=e=>t=>KM(e,t),hF=e=>({colorPicker:lF(e),hasCustomColors:cF(e),getColors:uF(e),getColorCols:dF(e)}),mF=e=>()=>UC(e),pF=e=>({isDraggableModal:mF(e)}),fF=e=>{const t=ha(nS(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}},gF=e=>ke(e,"items"),vF=e=>ke(e,"format"),yF=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],bF=e=>Se(e,"items"),wF=e=>Se(e,"block"),_F=e=>Se(e,"inline"),xF=e=>Se(e,"selector"),CF=e=>G(e,((e,t)=>{if(bF(t)){const n=CF(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(_F(t)||wF(t)||xF(t)){const n=s(t.name)?t.name:t.title.toLowerCase(),o=`custom-${n}`;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),SF=(e,t)=>{const n=CF(t),o=t=>{j(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats},kF=e=>wC(e).map((t=>{const n=SF(e,t);return _C(e)?yF.concat(n):n})).getOr(yF),EF=e=>{const t=de(e);return 1===t.length&&H(t,"title")},TF=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),MF=(e,t,n,o)=>{const r=e=>TF(e,n,o),i=e=>{const t=l(e.items);return{...e,type:"submenu",getStyleItems:C(t)}},a=t=>{const r=s(t.name)?t.name:ml(t.title),i=`custom-${r}`,a={...t,type:"formatter",format:i,isSelected:n(i),getStylePreview:o(i)};return e.formatter.register(r,a),a},l=e=>V(e,(e=>gF(e)?i(e):vF(e)?r(e):EF(e)?{...e,type:"separator"}:a(e)));return l(t)},OF=e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):R.none()},o=ha([]),r=ha([]),i=ha(!1);e.on("PreInit",(r=>{const i=kF(e),a=MF(e,i,t,n);o.set(a)})),e.on("addStyleModifications",(o=>{const a=MF(e,o.items,t,n);r.set(a),i.set(o.replace)}));const a=()=>{const e=i.get()?[]:o.get(),t=r.get();return e.concat(t)};return{getData:a}},DF=e=>f(e)&&1===e.nodeType,AF=bz.trim,RF=e=>t=>{if(DF(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},PF=RF("true"),IF=RF("false"),zF=(e,t,n,o,r)=>({type:e,title:t,url:n,level:o,attach:r}),NF=e=>{let t=e;while(t=t.parentNode){const e=t.contentEditable;if(e&&"inherit"!==e)return PF(t)}return!1},LF=(e,t)=>V(sp(Xe.fromDom(t),e),(e=>e.dom)),HF=e=>e.innerText||e.textContent,FF=e=>e.id?e.id:ml("h"),BF=e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name),UF=e=>BF(e)&&jF(e),VF=e=>e&&/^(H[1-6])$/.test(e.nodeName),jF=e=>NF(e)&&!IF(e),WF=e=>VF(e)&&jF(e),ZF=e=>VF(e)?parseInt(e.nodeName.substr(1),10):0,$F=e=>{var t;const n=FF(e),o=()=>{e.id=n};return zF("header",null!==(t=HF(e))&&void 0!==t?t:"","#"+n,ZF(e),o)},qF=e=>{const t=e.id||e.name,n=HF(e);return zF("anchor",n||"#"+t,"#"+t,0,b)},GF=e=>V($(e,WF),$F),KF=e=>V($(e,UF),qF),YF=e=>{const t=LF("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},JF=e=>AF(e.title).length>0,XF=e=>{const t=YF(e);return $(GF(t).concat(KF(t)),JF)},QF={find:XF},eB="tinymce-url-history",tB=5,nB=e=>s(e)&&/^https?/.test(e),oB=e=>u(e)&&e.length<=tB&&ee(e,nB),rB=e=>l(e)&&_e(e,(e=>!oB(e))).isNone(),iB=()=>{const e=MM.getItem(eB);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+eB+" was not valid JSON",n),{};throw n}return rB(t)?t:(console.log("Local storage "+eB+" was not valid format",t),{})},aB=e=>{if(!rB(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));MM.setItem(eB,JSON.stringify(e))},sB=e=>{const t=iB();return Ce(t,e).getOr([])},lB=(e,t)=>{if(!nB(e))return;const n=iB(),o=Ce(n,t).getOr([]),r=$(o,(t=>t!==e));n[t]=[e].concat(r).slice(0,tB),aB(n)},cB=e=>!!e,uB=e=>pe(bz.makeMap(e,/[, ]/),cB),dB=e=>R.from(IC(e)),hB=e=>{const t=R.from(LC(e)).filter(cB).map(uB);return dB(e).fold(D,(e=>t.fold(A,(e=>de(e).length>0&&e))))},mB=(e,t)=>{const n=hB(e);return h(n)?n?dB(e):R.none():n[t]?dB(e):R.none()},pB=(e,t)=>mB(e,t).map((n=>o=>rD.nu((r=>{const i=(e,t)=>{if(!s(e))throw new Error("Expected value to be string");if(void 0!==t&&!l(t))throw new Error("Expected meta to be a object");const n={value:e,meta:t};r(n)},a={filetype:t,fieldname:o.fieldname,...R.from(o.meta).getOr({})};n.call(e,i,o.value,a)})))),fB=e=>R.from(e).filter(s).getOrUndefined(),gB=e=>HC(e)?R.some({targets:QF.find(e.getBody()),anchorTop:fB(FC(e)),anchorBottom:fB(BC(e))}):R.none(),vB=e=>R.from(zC(e)),yB=e=>({getHistory:sB,addToHistory:lB,getLinkInformation:()=>gB(e),getValidationHandler:()=>vB(e),getUrlPicker:t=>pB(e,t)}),bB=(e,t,n)=>{const o=ha(!1),r=fF(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Vx.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},a=yB(t),s=OF(t),l=hF(t),c=pF(t),u=()=>o.get(),d=e=>o.set(e),h={shared:{providers:i,anchors:sF(t,n,r.isPositionedAtTop),header:r},urlinput:a,styles:s,colorinput:l,dialog:c,isContextMenuOpen:u,setContextMenuState:d},m={...h,shared:{...h.shared,interpreter:e=>NH(e,{},m),getSink:e.popup}},p={...h,shared:{...h.shared,interpreter:e=>NH(e,{},p),getSink:e.dialog}};return{popup:m,dialog:p}},wB=(e,t,n)=>{const o=(e,o)=>{j([t,...n],(t=>{t.broadcastEvent(e,o)}))},r=(e,o)=>{j([t,...n],(t=>{t.broadcastOn([e],o)}))},i=e=>r(Ff(),{target:e.target}),a=Zo(),s=Th(a,"touchstart",i),l=Th(a,"touchmove",(e=>o(fs(),e))),c=Th(a,"touchend",(e=>o(gs(),e))),u=Th(a,"mousedown",i),d=Th(a,"mouseup",(e=>{0===e.raw.button&&r(Uf(),{target:e.target})})),h=e=>r(Ff(),{target:Xe.fromDom(e.target)}),m=e=>{0===e.button&&r(Uf(),{target:Xe.fromDom(e.target)})},p=()=>{j(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},f=e=>o(vs(),Oh(e)),g=e=>{r(Bf(),{}),o(ys(),Oh(e))},v=jt(Xe.fromDom(e.getElement())),y=Mh(v,"scroll",(n=>{requestAnimationFrame((()=>{const r=e.getContainer();if(void 0!==r&&null!==r){const r=WD(e,t.element),i=r.map((e=>[e.element,...e.others])).getOr([]);F(i,(e=>St(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),o(ks(),n))}}))})),b=()=>r(Bf(),{}),w=t=>{t.state&&r(Ff(),{target:Xe.fromDom(e.getContainer())})},_=e=>{r(Ff(),{target:Xe.fromDom(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",f),e.on("ResizeWindow",g),e.on("ResizeEditor",b),e.on("AfterProgressState",w),e.on("DismissPopups",_)})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",f),e.off("ResizeWindow",g),e.off("ResizeEditor",b),e.off("AfterProgressState",w),e.off("DismissPopups",_),u.unbind(),s.unbind(),l.unbind(),c.unbind(),d.unbind(),y.unbind()})),e.on("detach",(()=>{j([t,...n],yf),j([t,...n],(e=>e.destroy()))}))},_B=xv,xB=rv,CB=C([na("shell",!1),Ni("makeItem"),na("setupItem",b),Sg.field("listBehaviours",[h_])]),SB=()=>({behaviours:Ld([h_.config({})])}),kB=tv({name:"items",overrides:SB}),EB=C([kB]),TB=C("CustomList"),MB=(e,t,n,o)=>{const r=(t,n)=>{a(t).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const r=h_.contents(o),i=n.length,a=i-r.length,s=a>0?B(a,(()=>e.makeItem())):[],l=r.slice(i);j(l,(e=>h_.remove(o,e))),j(s,(e=>h_.append(o,e)));const c=h_.contents(o);j(c,((o,r)=>{e.setupItem(t,o,n[r],r)}))}))},i=e.shell?{behaviours:[h_.config({})],components:[]}:{behaviours:[],components:t},a=t=>e.shell?R.some(t):pv(t,e,"items");return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Cg(e.listBehaviours,i.behaviours),apis:{setItems:r}}},OB=Pv({name:TB(),configFields:CB(),partFields:EB(),factory:MB,apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),DB=C([Ni("dom"),na("shell",!0),_g("toolbarBehaviours",[h_])]),AB=()=>({behaviours:Ld([h_.config({})])}),RB=C([tv({name:"groups",overrides:AB})]),PB=(e,t,n,o)=>{const r=(e,t)=>{i(e).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{h_.set(e,t)}))},i=t=>e.shell?R.some(t):pv(t,e,"groups"),a=e.shell?{behaviours:[h_.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Cg(e.toolbarBehaviours,a.behaviours),apis:{setGroups:r},domModification:{attributes:{role:"group"}}}},IB=Pv({name:"Toolbar",configFields:DB(),partFields:RB(),factory:PB,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),zB=b,NB=D,LB=C([]);var HB=Object.freeze({__proto__:null,setup:zB,isDocked:NB,getBehaviours:LB});const FB=e=>{const t=Ee(fn(e,"position"),"fixed"),n=t?R.none():Pt(e);return n.orThunk((()=>{const t=Xe.fromTag("span");return Dt(e).bind((e=>{zo(e,t);const n=Pt(t);return Fo(t),n}))}))},BB=e=>FB(e).map(On).getOrThunk((()=>En(0,0))),UB=(e,t)=>{const n=e.element;fc(n,t.transitionClass),vc(n,t.fadeOutClass),fc(n,t.fadeInClass),t.onShow(e)},VB=(e,t)=>{const n=e.element;fc(n,t.transitionClass),vc(n,t.fadeInClass),fc(n,t.fadeOutClass),t.onHide(e)},jB=(e,t)=>e.y<t.bottom&&e.bottom>t.y,WB=(e,t)=>e.y>=t.y,ZB=(e,t)=>e.bottom<=t.bottom,$B=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),qB=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),GB=e=>e.box.x-e.win.x,KB=(e,t,n)=>{const o=t.win,r=t.box,i=GB(t);return ue(e,(e=>{switch(e){case"bottom":return ZB(r,n.bounds)?R.none():R.some(qB(o,i,n));case"top":return WB(r,n.bounds)?R.none():R.some($B(o,i,n));default:return R.none()}})).getOr({location:"no-dock"})},YB=(e,t,n)=>ee(e,(e=>{switch(e){case"bottom":return ZB(t,n.bounds);case"top":return WB(t,n.bounds)}})),JB=(e,t)=>{const n=t.optScrollEnv.fold(C(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return En(e.bounds.x,n)},XB=(e,t)=>{const n=t.optScrollEnv.fold(C(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return En(e.x,n)},QB=(e,t,n)=>n.getInitialPos().map((n=>{const o=JB(n,t);return{box:er(o.left,o.top,Pn(e),xn(e)),location:n.location}})),eU=(e,t,n,o,r)=>{const i=XB(t,n),a=er(i.left,i.top,t.width,t.height);o.setInitialPos({style:gn(e),position:mn(e,"position")||"static",bounds:a,location:r.location})},tU=(e,t,n,o,r)=>{o.getInitialPos().fold((()=>eU(e,t,n,o,r)),(()=>b))},nU=(e,t,n)=>n.getInitialPos().bind((o=>{var r;switch(n.clearInitialPos(),o.position){case"static":return R.some({morph:"static"});case"absolute":const n=FB(e).getOr(Jt()),i=tr(n),a=null!==(r=n.dom.scrollTop)&&void 0!==r?r:0;return R.some({morph:"absolute",positionCss:Xd("absolute",Ce(o.style,"left").map((e=>t.x-i.x)),Ce(o.style,"top").map((e=>t.y-i.y+a)),Ce(o.style,"right").map((e=>i.right-t.right)),Ce(o.style,"bottom").map((e=>i.bottom-t.bottom)))});default:return R.none()}})),oU=(e,t,n)=>QB(e,t,n).filter((({box:e})=>YB(n.getModes(),e,t))).bind((({box:t})=>nU(e,t,n))),rU=e=>{switch(e.location){case"top":return R.some({morph:"fixed",positionCss:Xd("fixed",R.some(e.leftX),R.some(e.topY),R.none(),R.none())});case"bottom":return R.some({morph:"fixed",positionCss:Xd("fixed",R.some(e.leftX),R.none(),R.none(),R.some(e.bottomY))});default:return R.none()}},iU=(e,t,n)=>{const o=tr(e),r=ir(),i=KB(n.getModes(),{win:r,box:o},t);return"top"===i.location||"bottom"===i.location?(eU(e,o,t,n,i),rU(i)):R.none()},aU=(e,t,n)=>oU(e,t,n).orThunk((()=>t.optScrollEnv.bind((o=>QB(e,t,n))).bind((({box:e,location:n})=>{const o=ir(),r=GB({win:o,box:e}),i="top"===n?$B(o,r,t):qB(o,r,t);return rU(i)})))),sU=(e,t,n)=>{const o=e.element,r=Ee(fn(o,"position"),"fixed");return r?aU(o,t,n):iU(o,t,n)},lU=(e,t,n)=>{const o=e.element;return QB(o,t,n).bind((({box:e})=>nU(o,e,n)))},cU=(e,t,n,o)=>{const r=tr(e),i=ir(),a=GB({win:i,box:r}),s=o(i,a,t);return"bottom"===s.location||"top"===s.location?(tU(e,r,t,n,s),rU(s)):R.none()},uU=(e,t,n)=>{n.setDocked(!1),j(["left","right","top","bottom","position"],(t=>yn(e.element,t))),t.onUndocked(e)},dU=(e,t,n,o)=>{const r="fixed"===o.position;n.setDocked(r),eh(e.element,o);const i=r?t.onDocked:t.onUndocked;i(e)},hU=(e,t,n,o,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const a=jB(i,o.bounds);if(a!==n.isVisible())if(n.setVisible(a),r&&!a)bc(e.element,[t.fadeOutClass]),t.onHide(e);else{const n=a?UB:VB;n(e,t)}}))}))},mU=(e,t,n,o,r)=>{hU(e,t,n,o,!0),dU(e,t,n,r.positionCss)},pU=(e,t,n,o,r)=>{switch(r.morph){case"static":return uU(e,t,n);case"absolute":return dU(e,t,n,r.positionCss);case"fixed":return mU(e,t,n,o,r)}},fU=(e,t,n)=>{const o=t.lazyViewport(e);hU(e,t,n,o),sU(e,o,n).each((r=>{pU(e,t,n,o,r)}))},gU=(e,t,n)=>{const o=e.element;n.setDocked(!1);const r=t.lazyViewport(e);lU(e,r,n).each((o=>{switch(o.morph){case"static":uU(e,t,n);break;case"absolute":dU(e,t,n,o.positionCss);break}})),n.setVisible(!0),t.contextual.each((t=>{wc(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),vU(e,t,n)},vU=(e,t,n)=>{e.getSystem().isConnected()&&fU(e,t,n)},yU=(e,t,n)=>{n.isDocked()&&gU(e,t,n)},bU=e=>(t,n,o)=>{const r=n.lazyViewport(t),i=cU(t.element,r,o,e);i.each((e=>{mU(t,n,o,r,e)}))},wU=bU($B),_U=bU(qB),xU=(e,t,n)=>n.isDocked(),CU=(e,t,n,o)=>n.setModes(o),SU=(e,t,n)=>n.getModes();var kU=Object.freeze({__proto__:null,refresh:vU,reset:yU,isDocked:xU,getModes:SU,setModes:CU,forceDockToTop:wU,forceDockToBottom:_U});const EU=(e,t)=>Ls([Ys(Qa(),((n,o)=>{e.contextual.each((e=>{if(yc(n.element,e.transitionClass)){wc(n.element,[e.transitionClass,e.fadeInClass]);const o=t.isVisible()?e.onShown:e.onHidden;o(n)}o.stop()}))})),Us(vs(),((n,o)=>{vU(n,e,t)})),Us(ks(),((n,o)=>{vU(n,e,t)})),Us(ys(),((n,o)=>{yU(n,e,t)}))]);var TU=Object.freeze({__proto__:null,events:EU}),MU=[ea("contextual",[Fi("fadeInClass"),Fi("fadeOutClass"),Fi("transitionClass"),Vi("lazyContext"),Ru("onShow"),Ru("onShown"),Ru("onHide"),Ru("onHidden")]),la("lazyViewport",(()=>({bounds:ir(),optScrollEnv:R.none()}))),ua("modes",["top","bottom"],gi),Ru("onDocked"),Ru("onUndocked")];const OU=e=>{const t=ha(!1),n=ha(!0),o=kh(),r=ha(e.modes),i=()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${r.get().join(",")}`;return zl({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:i})};var DU=Object.freeze({__proto__:null,init:OU});const AU=Fd({fields:MU,name:"docking",active:TU,apis:kU,state:DU}),RU=C(ml("toolbar-height-change")),PU={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},IU="tox-tinymce--toolbar-sticky-on",zU="tox-tinymce--toolbar-sticky-off",NU=(e,t)=>{const n=Et(t),o=Ot(t),r=o.dom.innerHeight,i=Bo(n),a=Xe.fromDom(e.elm),s=nr(a),l=xn(a),c=s.y,u=c+l,d=On(t),h=xn(t),m=d.top,p=m+h,f=Math.abs(m-i.top)<2,g=Math.abs(p-(i.top+r))<2;if(f&&c<p)Uo(i.left,c-h,n);else if(g&&u>m){const e=c-r+l+h;Uo(i.left,e,n)}},LU=(e,t)=>H(AU.getModes(e),t),HU=e=>{const t=e=>Cn(e)+(parseInt(mn(e,"margin-top"),10)||0)+(parseInt(mn(e,"margin-bottom"),10)||0),n=e.element;At(n).each((o=>{const r="padding-"+AU.getModes(e)[0];if(AU.isDocked(e)){const e=Pn(o);un(n,"width",e+"px"),un(o,r,t(n)+"px")}else yn(n,"width"),yn(o,r)}))},FU=(e,t)=>{t?(vc(e,PU.fadeOutClass),bc(e,[PU.transitionClass,PU.fadeInClass])):(vc(e,PU.fadeInClass),bc(e,[PU.fadeOutClass,PU.transitionClass]))},BU=(e,t)=>{const n=Xe.fromDom(e.getContainer());t?(fc(n,IU),vc(n,zU)):(fc(n,zU),vc(n,IU))},UU=(e,t)=>{const n=Et(t);Kd(n).filter((e=>!St(t,e))).filter((t=>St(t,Xe.fromDom(n.dom.body))||kt(e,t))).each((()=>$d(t)))},VU=(e,t)=>Yd(e).orThunk((()=>t().toOptional().bind((e=>Yd(e.element))))),jU=(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(AU.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(HU)})),e.on("SkinLoaded",(()=>{n().each((e=>{AU.isDocked(e)?AU.reset(e):AU.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(AU.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{AU.refresh(t);const n=t.element;yb(n)&&NU(e,n)}))})),e.on("PostRender",(()=>{BU(e,!1)}))},WU=e=>e().map(AU.isDocked).getOr(!1),ZU=()=>[jd.config({channels:{[RU()]:{onReceive:HU}}})],$U=(e,t)=>{const n=kh(),o=t.getSink,r=e=>{o().each((t=>e(t.element)))},i=t=>{e.inline||HU(t),BU(e,AU.isDocked(t)),t.getSystem().broadcastOn([Bf()],{}),o().each((e=>e.getSystem().broadcastOn([Bf()],{})))},a=e.inline?[]:ZU();return[C_.config({}),AU.config({contextual:{lazyContext:t=>{const n=Cn(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer();return R.from(o).map((o=>{const r=tr(Xe.fromDom(o)),i=WD(e,t.element);return i.fold((()=>{const e=r.height-n,o=r.y+(LU(t,"top")?0:n);return er(r.x,o,r.width,e)}),(e=>{const o=or(r,ZD(e)),i=LU(t,"top")?o.y:o.y+n;return er(o.x,i,o.width,o.height-n)}))}))},onShow:()=>{r((e=>FU(e,!0)))},onShown:e=>{r((e=>wc(e,[PU.transitionClass,PU.fadeInClass]))),n.get().each((t=>{UU(e.element,t),n.clear()}))},onHide:e=>{VU(e.element,o).fold(n.clear,n.set),r((e=>FU(e,!1)))},onHidden:()=>{r((e=>wc(e,[PU.transitionClass])))},...PU},lazyViewport:t=>{const n=WD(e,t.element);return n.fold((()=>{const n=ir(),o=AC(e),r=n.y+(LU(t,"top")?o:0),i=n.height-(LU(t,"bottom")?o:0);return{bounds:er(n.x,r,n.width,i),optScrollEnv:R.none()}}),(e=>{const t=ZD(e);return{bounds:t,optScrollEnv:R.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:On(e.element).top})}}))},modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...a]};var qU=Object.freeze({__proto__:null,setup:jU,isDocked:WU,getBehaviours:$U});const GU=e=>{const t=e.editor,n=e.sticky?$U:LB;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Ld(n(t,e.sharedBackstage))}},KU=si([_k,Li("items",ci([hi([xk,$i("items",gi)]),gi]))].concat(tE)),YU=e=>Ti("GroupToolbarButton",KU,e),JU=[Yi("text"),Yi("tooltip"),Yi("icon"),oa("search",!1,ci([vi,si([Yi("placeholder")])],(e=>h(e)?e?R.some({placeholder:R.none()}):R.none():R.some(e)))),Vi("fetch"),la("onSetup",(()=>b))],XU=si([_k,...JU]),QU=e=>Ti("menubutton",XU,e),eV=si([_k,Nk,zk,Ik,Fk,Mk,Rk,aa("presets","normal",["normal","color","listpreview"]),Wk(1),Dk,Ak]),tV=e=>Ti("SplitButton",eV,e),nV=(e,t)=>{const n=(e,n)=>{const o=V(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},o=QU(n).mapError((e=>Di(e))).getOrDie();return cL(o,"tox-mbtn",t.backstage,R.some("menuitem"))}));h_.set(e,o)},o={focus:Xw.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Ld([h_.config({}),p_("menubar-events",[Js((t=>{e.onSetup(t)})),Us(Wa(),((e,t)=>{su(e.element,".tox-mbtn--active").each((n=>{lu(t.event.target,".tox-mbtn").each((t=>{St(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{xD.expand(e),xD.close(n),C_.focus(e)}))}))}))}))})),Us(Cs(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{xD.isOpen(n)&&(xD.expand(e),xD.close(n))}))}))}))]),Xw.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),R.some(!0))}),EA.config({})]),apis:o,domModification:{attributes:{role:"menubar"}}}};var oV=Rv({factory:nV,name:"silver.Menubar",configFields:[Ni("dom"),Ni("uid"),Ni("onEscape"),Ni("backstage"),na("onSetup",b)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const rV="⚡️Upgrade",iV="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",aV=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:iV,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:rV}}]}),sV="container",lV=[_g("slotBehaviours",[])],cV=e=>"<alloy.field."+e+">",uV=e=>{const t=(()=>{const e=[],t=(t,n)=>(e.push(t),cv(sV,cV(t),n));return{slot:t,record:C(e)}})(),n=e(t),o=t.record(),r=V(o,(e=>Qg({name:e,pname:cV(e)})));return Ev(sV,lV,r,dV,n)},dV=(e,t)=>{const n=t=>yv(e),o=(t,n)=>pv(t,e,n),r=(t,n)=>(o,r)=>pv(o,e,r).map((e=>t(e,r))).getOr(n),i=e=>(t,n)=>{j(n,(n=>e(t,n)))},a=(e,t)=>"true"!==nn(e.element,"aria-hidden"),s=(e,t)=>{if(!a(e)){const n=e.element;yn(n,"display"),an(n,"aria-hidden"),As(e,Ss(),{name:t,visible:!0})}},l=(e,t)=>{if(a(e)){const n=e.element;un(n,"display","none"),en(n,"aria-hidden","true"),As(e,Ss(),{name:t,visible:!1})}},c=r(a,!1),u=r(l),d=i(u),h=e=>d(e,n()),m=r(s),p={getSlotNames:n,getSlot:o,isShowing:c,hideSlot:u,hideAllSlots:h,showSlot:m};return{uid:e.uid,dom:e.dom,components:t,behaviours:xg(e.slotBehaviours),apis:p}},hV=pe({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>Pl(e))),mV={...hV,sketch:uV},pV=si([zk,Nk,la("onShow",b),la("onHide",b),Rk]),fV=e=>Ti("sidebar",pV,e),gV=e=>{const{sidebars:t}=e.ui.registry.getAll();j(de(t),(n=>{const o=t[n],r=()=>Ee(R.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:t=>{t.setActive(r());const n=()=>t.setActive(r());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))},vV=e=>({element:()=>e.element.dom}),yV=(e,t)=>{const n=V(de(t),(e=>{const n=t[e],o=Mi(fV(n));return{name:e,getApi:vV,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return V(n,(t=>{const o=ha(b);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:VE.unnamedEvents([mT(t,o),pT(t,o),Us(Ss(),((e,t)=>{const o=t.event,r=Y(n,(e=>e.name===o.name));r.each((t=>{const n=o.visible?t.onShow:t.onHide;n(t.getApi(e))}))}))])})}))},bV=e=>mV.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yV(t,e),slotBehaviours:VE.unnamedEvents([Js((e=>mV.hideAllSlots(e)))])}))),wV=(e,t,n)=>{const o=Hv.getCurrent(e);o.each((o=>{h_.set(o,[bV(t)]);const r=null===n||void 0===n?void 0:n.toLowerCase();s(r)&&Se(t,r)&&Hv.getCurrent(o).each((t=>{mV.showSlot(t,r),sL.immediateGrow(o),yn(o.element,"width"),_V(e.element,"region")}))}))},_V=(e,t)=>{en(e,"role",t)},xV=(e,t)=>{const n=Hv.getCurrent(e);n.each((n=>{const o=Hv.getCurrent(n);o.each((o=>{sL.hasGrown(n)?mV.isShowing(o,t)?(sL.shrink(n),_V(e.element,"presentation")):(mV.hideAllSlots(o),mV.showSlot(o,t),_V(e.element,"region")):(mV.hideAllSlots(o),mV.showSlot(o,t),sL.grow(n),_V(e.element,"region"))}))}))},CV=e=>{const t=Hv.getCurrent(e);return t.bind((e=>{const t=sL.isGrowing(e)||sL.hasGrown(e);if(t){const t=Hv.getCurrent(e);return t.bind((e=>Y(mV.getSlotNames(e),(t=>mV.isShowing(e,t)))))}return R.none()}))},SV=ml("FixSizeEvent"),kV=ml("AutoSizeEvent"),EV=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ld([EA.config({}),C_.config({}),sL.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{const t=Hv.getCurrent(e);t.each(mV.hideAllSlots),Ds(e,kV)},onGrown:e=>{Ds(e,kV)},onStartGrow:e=>{As(e,SV,{width:fn(e.element,"width").getOr("")})},onStartShrink:e=>{As(e,SV,{width:Pn(e.element)+"px"})}}),h_.config({}),Hv.config({find:e=>{const t=h_.contents(e);return se(t)}})])}],behaviours:Ld([rz.childAt(0),p_("sidebar-sliding-events",[Us(SV,((e,t)=>{un(e.element,"width",t.event.width)})),Us(kV,((e,t)=>{yn(e.element,"width")}))])])}),TV=(e,t,n,o)=>{en(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),i=Ld([Xw.config({mode:"special",onTab:()=>R.some(!0),onShiftTab:()=>R.some(!0)}),C_.config({})]),a=o(r,i),s=r.getSystem().build(a);h_.append(r,Xc(s)),s.hasConfigured(Xw)&&t.focus&&Xw.focusIn(s),n.isBlocked()||t.onBlock(e),n.blockWith((()=>h_.remove(r,s)))},MV=(e,t,n)=>{an(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()};var OV=Object.freeze({__proto__:null,block:TV,unblock:MV}),DV=[la("getRoot",R.none),sa("focus",!0),Ru("onBlock"),Ru("onUnblock")];const AV=()=>{const e=Ch(),t=t=>{e.set({destroy:t})};return zl({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var RV=Object.freeze({__proto__:null,init:AV});const PV=Fd({fields:DV,name:"blocking",apis:OV,state:RV}),IV=e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return G(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})},zV=e=>Array.prototype.slice.call(e.dom.classList,0),NV=e=>{const t=Xe.fromHtml(e),n=zt(t),o=IV(t),r=zV(t),i=0===n.length?{}:{innerHtml:nl(t)};return{tag:dt(t),classes:r,attributes:o,...i}},LV=e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:NV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),HV=e=>Hv.getCurrent(e).each((e=>$d(e.element))),FV=(e,t)=>{const n="tabindex",o=`data-mce-${n}`;R.from(e.iframeElement).map(Xe.fromDom).each((e=>{t?(on(e,n).each((t=>en(e,o,t))),en(e,n,-1)):(an(e,n),on(e,o).each((t=>{en(e,n,t),an(e,o)})))}))},BV=(e,t,n,o)=>{const r=t.element;if(FV(e,n),n)PV.block(t,LV(o)),yn(r,"display"),an(r,"aria-hidden"),e.hasFocus()&&HV(t);else{const n=Hv.getCurrent(t).exists((e=>Gd(e.element)));PV.unblock(t),un(r,"display","none"),en(r,"aria-hidden","true"),n&&e.focus()}},UV=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ld([h_.config({}),PV.config({focus:!1}),Hv.config({find:e=>se(e.components())})]),components:[]}),VV=e=>"focusin"===e.type,jV=e=>{if(VV(e)){const t=e.composed?se(e.composedPath()):R.from(e.target);return t.map(Xe.fromDom).filter(ft).exists((e=>yc(e,"mce-pastebin")))}return!1},WV=(e,t,n)=>{const o=ha(!1),r=kh(),i=n=>{o.get()&&!jV(n)&&(n.preventDefault(),HV(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const a=r=>{r!==o.get()&&(o.set(r),BV(e,t(),r,n.providers),yM(e,r))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),v(t.time)){const n=Hx.setEditorTimeout(e,(()=>a(t.state)),t.time);r.set(n)}else a(t.state),r.clear()}))},ZV=(e,t)=>{const n={len:0,list:[]},o=G(e,((e,n)=>{const o=t(n,e.len);return o.fold(C(e),(t=>({len:t.finish,list:e.list.concat([t])})))}),n);return o.list},$V=(e,t,n)=>({within:e,extra:t,withinWidth:n}),qV=(e,t,n)=>{const o=ZV(e,((e,t)=>{const o=n(e);return R.some({element:e,start:t,finish:t+o,width:o})})),r=$(o,(e=>e.finish<=t)),i=q(r,((e,t)=>e+t.width),0),a=o.slice(r.length);return{within:r,extra:a,withinWidth:i}},GV=e=>V(e,(e=>e.element)),KV=(e,t,n)=>{const o=GV(e.concat(t));return $V(o,[],n)},YV=(e,t,n,o)=>{const r=GV(e).concat([n]);return $V(r,GV(t),o)},JV=(e,t,n)=>$V(GV(e),[],n),XV=(e,t,n)=>{const o=qV(t,e,n);return 0===o.extra.length?R.some(o):R.none()},QV=(e,t,n,o)=>{const r=XV(e,t,n).getOrThunk((()=>qV(t,e-n(o),n))),i=r.within,a=r.extra,s=r.withinWidth;return 1===a.length&&a[0].width<=n(o)?KV(i,a,s):a.length>=1?YV(i,a,o,s):JV(i,a,s)},ej=(e,t)=>{const n=V(t,(e=>Xc(e)));IB.setGroups(e,n)},tj=e=>ue(e,(e=>Yd(e.element).bind((t=>e.getSystem().getByDom(t).toOptional())))),nj=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const r=fv(e,t,"primary"),i=YO.getCoupled(e,"overflowGroup");un(r.element,"visibility","hidden");const a=o.concat([i]),s=tj(a);n([]),ej(r,a);const l=Pn(r.element),c=QV(l,t.builtGroups.get(),(e=>Pn(e.element)),i);0===c.extra.length?(h_.remove(r,i),n([])):(ej(r,c.within),n(c.extra)),yn(r.element,"visibility"),bn(r.element),s.each(C_.focus)},oj=C([_g("splitToolbarBehaviours",[YO]),Ii("builtGroups",(()=>ha([])))]),rj=C([Du(["overflowToggledClass"]),Xi("getOverflowBounds"),Ni("lazySink"),Ii("overflowGroups",(()=>ha([]))),Ru("onOpened"),Ru("onClosed")].concat(oj())),ij=C([Qg({factory:IB,schema:DB(),name:"primary"}),ev({schema:DB(),name:"overflow"}),ev({name:"overflow-button"}),ev({name:"overflow-group"})]),aj=C(((e,t)=>{zn(e,Math.floor(t))})),sj=C([Du(["toggledClass"]),Ni("lazySink"),Vi("fetch"),Xi("getBounds"),ea("fireDismissalEventInstead",[na("event",_s())]),sm(),Ru("onToggled")]),lj=C([ev({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ld([V_.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),ev({factory:IB,schema:DB(),name:"toolbar",overrides:e=>({toolbarBehaviours:Ld([Xw.config({mode:"cyclic",onEscape:t=>(pv(t,e,"button").each(C_.focus),R.none())})])})})]),cj=kh(),uj=(e,t)=>{cj.set(!0),dj(e,t),cj.clear()},dj=(e,t)=>{const n=YO.getCoupled(e,"toolbarSandbox");Hf.isOpen(n)?Hf.close(n):Hf.open(n,t.toolbar())},hj=(e,t,n,o)=>{const r=n.getBounds.map((e=>e())),i=n.lazySink(e).getOrDie();Qp.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:aj()}}},r)},mj=(e,t,n,o,r)=>{IB.setGroups(t,r),hj(e,t,n,o),V_.on(e)},pj=(e,t,n)=>{const o=du(),r=(r,i)=>{const a=cj.get().getOr(!1);n.fetch().get((r=>{mj(e,i,n,t.layouts,r),o.link(e.element),a||Xw.focusIn(i)}))},i=()=>{V_.off(e),cj.get().getOr(!1)||C_.focus(e),o.unlink(e.element)};return{dom:{tag:"div",attributes:{id:o.id}},behaviours:Ld([Xw.config({mode:"special",onEscape:e=>(Hf.close(e),R.some(!0))}),Hf.config({onOpen:r,onClose:i,isPartOf:(t,n,o)=>mu(n,o)||mu(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),jd.config({channels:{...jf({isExtraPart:D,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Zf({doReposition:()=>{Hf.getState(YO.getCoupled(e,"toolbarSandbox")).each((o=>{hj(e,o,n,t.layouts)}))}})}})])}},fj=(e,t,n,o)=>({...Bx.sketch({...o.button(),action:e=>{dj(e,o)},buttonBehaviours:Sg.augment({dump:o.button().buttonBehaviours},[YO.config({others:{toolbarSandbox:t=>pj(t,n,e)}})])}),apis:{setGroups:(t,o)=>{Hf.getState(YO.getCoupled(t,"toolbarSandbox")).each((r=>{mj(t,r,e,n.layouts,o)}))},reposition:t=>{Hf.getState(YO.getCoupled(t,"toolbarSandbox")).each((o=>{hj(t,o,e,n.layouts)}))},toggle:e=>{dj(e,o)},toggleWithoutFocusing:e=>{uj(e,o)},getToolbar:e=>Hf.getState(YO.getCoupled(e,"toolbarSandbox")),isOpen:e=>Hf.isOpen(YO.getCoupled(e,"toolbarSandbox"))}}),gj=Pv({name:"FloatingToolbarButton",factory:fj,configFields:sj(),partFields:lj(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),vj=C([Ni("items"),Du(["itemSelector"]),_g("tgroupBehaviours",[Xw])]),yj=C([nv({name:"items",unit:"item"})]),bj=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.tgroupBehaviours,[Xw.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),wj=Pv({name:"ToolbarGroup",configFields:vj(),partFields:yj(),factory:bj}),_j=e=>V(e,(e=>Xc(e))),xj=(e,t,n)=>{nj(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{gj.setGroups(e,_j(o))}))}))},Cj=(e,t,n,o)=>{const r=Ux(gj.sketch({fetch:()=>rD.nu((t=>{t(_j(e.overflowGroups.get()))})),layouts:{onLtr:()=>[md,hd],onRtl:()=>[hd,md],onBottomLtr:()=>[fd,pd],onBottomRtl:()=>[pd,fd]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.splitToolbarBehaviours,[YO.config({others:{overflowGroup:()=>wj.sketch({...o["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(V(n,t.getSystem().build)),xj(t,r,e)},refresh:t=>xj(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{gj.toggle(e)}))},toggleWithoutFocusing:e=>{r.getOpt(e).each(gj.toggleWithoutFocusing)},isOpen:e=>r.getOpt(e).map(gj.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{gj.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(gj.getToolbar)},domModification:{attributes:{role:"group"}}}},Sj=Pv({name:"SplitFloatingToolbar",configFields:rj(),partFields:ij(),factory:Cj,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),kj=C([Du(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ru("onOpened"),Ru("onClosed")].concat(oj())),Ej=C([Qg({factory:IB,schema:DB(),name:"primary"}),Qg({factory:IB,schema:DB(),name:"overflow",overrides:e=>({toolbarBehaviours:Ld([sL.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{pv(t,e,"overflow-button").each((e=>{V_.off(e),C_.focus(e)})),e.onClosed(t)},onGrown:t=>{Xw.focusIn(t),e.onOpened(t)},onStartGrow:t=>{pv(t,e,"overflow-button").each(V_.on)}}),Xw.config({mode:"acyclic",onEscape:t=>(pv(t,e,"overflow-button").each(C_.focus),R.some(!0))})])})}),ev({name:"overflow-button",overrides:e=>({buttonBehaviours:Ld([V_.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),ev({name:"overflow-group"})]),Tj=(e,t)=>pv(e,t,"overflow").map(sL.hasGrown).getOr(!1),Mj=(e,t)=>{pv(e,t,"overflow-button").bind((()=>pv(e,t,"overflow"))).each((n=>{Oj(e,t),sL.toggleGrow(n)}))},Oj=(e,t)=>{pv(e,t,"overflow").each((n=>{nj(e,t,(e=>{const t=V(e,(e=>Xc(e)));IB.setGroups(n,t)})),pv(e,t,"overflow-button").each((e=>{sL.hasGrown(n)&&V_.on(e)})),sL.refresh(n)}))},Dj=(e,t,n,o)=>{const r="alloy.toolbar.toggle",i=(t,n)=>{const o=V(n,t.getSystem().build);e.builtGroups.set(o)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Cg(e.splitToolbarBehaviours,[YO.config({others:{overflowGroup:e=>wj.sketch({...o["overflow-group"](),items:[Bx.sketch({...o["overflow-button"](),action:t=>{Ds(e,r)}})]})}}),p_("toolbar-toggle-events",[Us(r,(t=>{Mj(t,e)}))])]),apis:{setGroups:(t,n)=>{i(t,n),Oj(t,e)},refresh:t=>Oj(t,e),toggle:t=>Mj(t,e),isOpen:t=>Tj(t,e)},domModification:{attributes:{role:"group"}}}},Aj=Pv({name:"SplitSlidingToolbar",configFields:kj(),partFields:Ej(),factory:Dj,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),Rj=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[wj.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Ld([EA.config({}),C_.config({})])}},Pj=e=>wj.sketch(Rj(e)),Ij=(e,t)=>{const n=Js((t=>{const n=V(e.initGroups,Pj);IB.setGroups(t,n)}));return Ld([dT.toolbarButton(e.providers.isDisabled),aT(),Xw.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),p_("toolbar-events",[n])])},zj=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Rj({title:R.none(),items:[]}),"overflow-button":XL({name:"more",icon:R.some("more-drawer"),enabled:!0,tooltip:R.some("More..."),primary:!1,buttonType:R.none(),borderless:!1},R.none(),e.providers)},splitToolbarBehaviours:Ij(e,t)}},Nj=e=>{const t=zj(e),n=4,o=Sj.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Sj.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,o=nr(t),r=Mt(t),i=nr(r),a=Math.max(r.dom.scrollHeight,i.height);return er(o.x+n,i.y,o.width-2*n,a)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[o],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},Lj=e=>{const t=Aj.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=Aj.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=zj(e);return Aj.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([RU()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([RU()],{type:"closed"}),e.onToggled(t,!1)}})},Hj=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return IB.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===rC.scrolling?["tox-toolbar--scrolling"]:[])},components:[IB.parts.groups({})],toolbarBehaviours:Ij(e,t)})},Fj=[Ik,zk,Yi("tooltip"),aa("buttonType","secondary",["primary","secondary"]),sa("borderless",!1),Vi("onAction")],Bj=[...Fj,Sk,Bi("type",["button"])],Uj=[...Fj,sa("active",!1),Bi("type",["togglebutton"])],Vj={button:Bj,togglebutton:Uj},jj=[Bi("type",["group"]),ua("buttons",[],Ai("type",Vj))],Wj=Ai("type",{...Vj,group:jj}),Zj=si([ua("buttons",[],Wj),Vi("onShow"),Vi("onHide")]),$j=e=>Ti("view",Zj,e),qj=(e,t)=>{var n,o;const r="togglebutton"===e.type,i=e.icon.map((e=>Wz(e,t.icons))).map(Ux),a=()=>n=>{const o=e=>{i.map((o=>o.getOpt(n).each((n=>{h_.set(n,[Wz(e,t.icons)])}))))},a=e=>{const t=n.element;e?(fc(t,"tox-button--enabled"),en(t,"aria-pressed",!0)):(vc(t,"tox-button--enabled"),an(t,"aria-pressed"))},s=()=>yc(n.element,"tox-button--enabled");return r?e.onAction({setIcon:o,setActive:a,isActive:s}):"button"===e.type?e.onAction({setIcon:o}):void 0},s=a(),l={...e,name:r?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:R.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},c=QL(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),u=r?e.text.map(t.translate):R.some(t.translate(e.text)),d=u.map($c),h=l.tooltip.or(u).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),m=i.map((e=>e.asSpec())),p=vT([m,d]),f=e.icon.isSome()&&d.isSome(),g={tag:"button",classes:c.concat(...e.icon.isSome()&&!f?["tox-button--icon"]:[]).concat(...f?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:h},v=[],y=JL(l,R.some(s),v,g,p,t);return Bx.sketch(y)},Gj=(e,t)=>qj(e,t),Kj=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:V(e.buttons,(e=>Gj(e,t)))}),Yj=So().deviceType,Jj=Yj.isPhone(),Xj=Yj.isTablet(),Qj=e=>{let t=!1;const n=V(e.buttons,(n=>"group"===n.type?(t=!0,Kj(n,e.providers)):Gj(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...Jj||Xj?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ld([C_.config({}),Xw.config({mode:"flow",selector:"button, .tox-button",focusInside:qy.OnEnterOrSpaceMode})]),components:t?n:[gA.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),gA.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}},eW=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),tW=(e,t,n,o)=>{const r={getPane:t=>_B.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:r}};var nW=Pv({name:"silver.View",configFields:[Ni("viewConfig")],partFields:[tv({factory:{sketch:Qj},schema:[Ni("buttons"),Ni("providers")],name:"header"}),tv({factory:{sketch:eW},schema:[],name:"pane"})],factory:tW,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const oW=(e,t,n)=>we(t,((t,o)=>{const r=Mi($j(t));return e.slot(o,nW.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[nW.parts.header({buttons:r.buttons,providers:n})]:[],nW.parts.pane({})]}))})),rW=(e,t)=>mV.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:oW(n,e,t),slotBehaviours:VE.unnamedEvents([Js((e=>mV.hideAllSlots(e)))])}))),iW=e=>Y(mV.getSlotNames(e),(t=>mV.isShowing(e,t))),aW=e=>{const t=e.element;un(t,"display","none"),en(t,"aria-hidden","true")},sW=e=>{const t=e.element;yn(t,"display"),an(t,"aria-hidden")},lW=e=>({getContainer:C(e)}),cW=(e,t,n)=>{mV.getSlot(e,t).each((e=>{nW.getPane(e).each((t=>{const o=n(e);o(lW(t.element.dom))}))}))},uW=(e,t)=>cW(e,t,nW.getOnShow),dW=(e,t)=>cW(e,t,nW.getOnHide),hW=(e,t)=>{const n=(e,n)=>{h_.set(e,[rW(n,t.backstage.shared.providers)])},o=e=>Hv.getCurrent(e).bind(iW),r=(e,t,n,o)=>Hv.getCurrent(e).exists((r=>{const i=iW(r),a=i.exists((e=>o===e)),s=mV.getSlot(r,o).isSome();return s&&(mV.hideAllSlots(r),a?(aW(e),t()):(n(),sW(e),mV.showSlot(r,o),uW(r,o)),i.each((e=>dW(r,e)))),s})),i={setViews:n,whichView:o,toggleView:r};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ld([h_.config({}),Hv.config({find:e=>{const t=h_.contents(e);return se(t)}})]),apis:i}};var mW=Rv({factory:hW,name:"silver.ViewWrapper",configFields:[Ni("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,o,r)=>e.toggleView(t,n,o,r),whichView:(e,t)=>e.whichView(t)}});const pW=(e,t,n)=>{let o=!1;const r={getSocket:t=>_B.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{_B.getPart(t,e,"sidebar").each((e=>wV(e,n,o)))},toggleSidebar:(t,n)=>{_B.getPart(t,e,"sidebar").each((e=>xV(e,n)))},whichSidebar:t=>_B.getPart(t,e,"sidebar").bind(CV).getOrNull(),getHeader:t=>_B.getPart(t,e,"header"),getToolbar:t=>_B.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{_B.getPart(t,e,"toolbar").each((e=>{const t=V(n,Pj);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{_B.getPart(t,e,"multiple-toolbar").each((e=>{const t=V(n,(e=>V(e,Pj)));OB.setItems(e,t)}))},refreshToolbar:t=>{const n=_B.getPart(t,e,"toolbar");n.each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{_B.getPart(t,e,"toolbar").each((e=>{Re(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{_B.getPart(t,e,"toolbar").each((e=>{Re(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>_B.getPart(t,e,"toolbar").bind((e=>R.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>_B.getPart(t,e,"throbber"),focusToolbar:t=>{const n=_B.getPart(t,e,"toolbar").orThunk((()=>_B.getPart(t,e,"multiple-toolbar")));n.each((e=>{Xw.focusIn(e)}))},setMenubar:(t,n)=>{_B.getPart(t,e,"menubar").each((e=>{oV.setMenus(e,n)}))},focusMenubar:t=>{_B.getPart(t,e,"menubar").each((e=>{oV.focus(e)}))},setViews:(t,n)=>{_B.getPart(t,e,"viewWrapper").each((e=>{mW.setViews(e,n)}))},toggleView:(t,n)=>_B.getPart(t,e,"viewWrapper").exists((e=>mW.toggleView(e,(()=>r.showMainView(t)),(()=>r.hideMainView(t)),n))),whichView:t=>_B.getPart(t,e,"viewWrapper").bind(mW.whichView).getOrNull(),hideMainView:t=>{o=r.isToolbarDrawerToggled(t),o&&r.toggleToolbarDrawer(t),_B.getPart(t,e,"editorContainer").each((e=>{const t=e.element;un(t,"display","none"),en(t,"aria-hidden","true")}))},showMainView:t=>{o&&r.toggleToolbarDrawer(t),_B.getPart(t,e,"editorContainer").each((e=>{const t=e.element;yn(t,"display"),an(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},fW=xB.optional({factory:oV,name:"menubar",schema:[Ni("backstage")]}),gW=e=>e.type===rC.sliding?Lj:e.type===rC.floating?Nj:Hj,vW=xB.optional({factory:{sketch:e=>OB.sketch({uid:e.uid,dom:e.dom,listBehaviours:Ld([Xw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Hj({type:e.type,uid:ml("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),R.some(!0))}),setupItem:(e,t,n,o)=>{IB.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[Ni("dom"),Ni("onEscape")]}),yW=xB.optional({factory:{sketch:e=>{const t=gW(e),n={type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),R.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[Ni("dom"),Ni("onEscape"),Ni("getSink")]}),bW=xB.optional({factory:{sketch:GU},name:"header",schema:[Ni("dom")]}),wW=xB.optional({factory:{sketch:aV},name:"promotion",schema:[Ni("dom")]}),_W=xB.optional({name:"socket",schema:[Ni("dom")]}),xW=xB.optional({factory:{sketch:EV},name:"sidebar",schema:[Ni("dom")]}),CW=xB.optional({factory:{sketch:UV},name:"throbber",schema:[Ni("dom")]}),SW=xB.optional({factory:mW,name:"viewWrapper",schema:[Ni("backstage")]}),kW=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components}),EW=xB.optional({factory:{sketch:kW},name:"editorContainer",schema:[]});var TW=Pv({name:"OuterContainer",factory:pW,configFields:[Ni("dom"),Ni("behaviours")],partFields:[bW,fW,yW,vW,_W,xW,wW,CW,SW,EW],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const MW="file edit view insert format tools table help",OW={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},DW=(e,t,n)=>{const o=SC(n).split(/[ ,]/);return{text:e.title,getItems:()=>Q(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||F(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}},AW=e=>e.split(" "),RW=(e,t)=>{const n={...OW,...t.menus},o=de(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?AW(MW):AW(!1===t.menubar?"":t.menubar),i=$(r,(e=>{const n=Se(OW,e);return o?n||Ce(t.menus,e).exists((e=>Se(e,"items"))):n})),a=V(i,(o=>{const r=n[o];return DW({title:r.title,items:AW(r.items)},t,e)}));return $(a,(e=>{const t=e=>s(e)||"separator"!==e.type;return e.getItems().length>0&&F(e.getItems(),t)}))},PW=e=>{const t=()=>{e._skinLoaded=!0,hM(e)};return()=>{e.initialized?t():e.on("init",t)}},IW=(e,t)=>()=>mM(e,{message:t}),zW=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),NW=(e,t)=>{const n=t+"/skin.min.css";return zW(e,n,e.ui.styleSheetLoader)},LW=(e,t)=>{const n=Zt(Xe.fromDom(e.getElement()));if(n){const n=t+"/skin.shadowdom.min.css";return zW(e,n,sC.DOM.styleSheetLoader)}return Promise.resolve()},HW=(e,t)=>{const n=JC(t);return n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!KC(t)&&s(n)?Promise.all([NW(t,n),LW(t,n)]).then(PW(t),IW(t,"Skin could not be loaded")):Promise.resolve(PW(t)())},FW=E(HW,!1),BW=E(HW,!0),UW=(e,t,n)=>{const o=(e,o,i,a)=>{const s=t.shared.providers.translate(e.title);if("separator"===e.type)return R.some({type:"separator",text:s});if("submenu"===e.type){const t=Q(e.getStyleItems(),(e=>r(e,o,a)));return 0===o&&t.length<=0?R.none():R.some({type:"nestedmenuitem",text:s,enabled:t.length>0,getSubmenuItems:()=>Q(e.getStyleItems(),(e=>r(e,o,a)))})}return R.some({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(a),enabled:!i,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},i=e=>{const t=n.getCurrentValue(),o=n.shouldHide?0:1;return Q(e,(e=>r(e,o,t)))},a=(e,t)=>(n,o)=>{const r=t(),a=i(r),s=iN(a,vS.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:R.none()});o(s)};return{validateItems:i,getFetch:a}},VW=(e,t,n)=>{const o=n.dataset,r="basic"===o.type?()=>V(o.data,(e=>TF(e,n.isSelectedFor,n.getPreviewFor))):o.getData;return{items:UW(e,t,n),getStyleItems:r}},jW=(e,t,n)=>{const{items:o,getStyleItems:r}=VW(e,t,n),i=e=>({getComponent:C(e)}),a=kM(e,"NodeChange",(t=>{const o=t.getComponent();n.updateText(o),oy.set(t.getComponent(),!e.selection.isEditable())}));return Gz({text:n.icon.isSome()?R.none():n.text,icon:n.icon,tooltip:R.from(n.tooltip),role:R.none(),fetch:o.getFetch(t,r),onSetup:a,getApi:i,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},WW=e=>V(e,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})),ZW=e=>({type:"basic",data:e});var $W;(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})($W||($W={}));const qW=(e,t)=>t===$W.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),GW=(e,t,n)=>{const o=e.options.get(t),r=WW(qW(o,n));return{type:"basic",data:r}},KW=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],YW=e=>{const t=()=>Y(KW,(t=>e.formatter.match(t.format))),n=t=>()=>e.formatter.match(t),o=e=>R.none,r=e=>{const n=t(),o=n.fold(C("left"),(e=>e.title.toLowerCase()));As(e,qz,{icon:`align-${o}`})},i=ZW(KW),a=t=>()=>Y(KW,(e=>e.format===t.format)).each((t=>e.execCommand(t.command)));return{tooltip:"Align",text:R.none(),icon:R.some("align-left"),isSelectedFor:n,getCurrentValue:R.none,getPreviewFor:o,onAction:a,updateText:r,dataset:i,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},JW=(e,t)=>jW(e,t,YW(e)),XW=(e,t)=>{const n=VW(e,t,YW(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:xM(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},QW=(e,t)=>{const n=t(),o=V(n,(e=>e.format));return R.from(e.formatter.closest(o)).bind((e=>Y(n,(t=>t.format===e)))).orThunk((()=>Pe(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},eZ=e=>{const t="Paragraph",n=t=>()=>e.formatter.match(t),o=t=>()=>{const n=e.formatter.get(t);return n?R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):R.none()},r=n=>{const o=QW(e,(()=>i.data)),r=o.fold(C(t),(e=>e.title));As(n,$z,{text:r})},i=GW(e,"block_formats",$W.SemiColon);return{tooltip:"Blocks",text:R.some(t),icon:R.none(),isSelectedFor:n,getCurrentValue:R.none,getPreviewFor:o,onAction:EM(e),updateText:r,dataset:i,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},tZ=(e,t)=>jW(e,t,eZ(e)),nZ=(e,t)=>{const n=VW(e,t,eZ(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:xM(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},oZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],rZ=e=>{const t=e.split(/\s*,\s*/);return V(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},iZ=e=>{const t=()=>{const t=rZ(e.toLowerCase());return ee(oZ,(e=>t.indexOf(e.toLowerCase())>-1))};return 0===e.indexOf("-apple-system")&&t()},aZ=e=>{const t="System Font",n=()=>{const n=e=>e?rZ(e)[0]:"",o=e.queryCommandValue("FontName"),r=l.data,i=o?o.toLowerCase():"",a=Y(r,(e=>{const t=e.format;return t.toLowerCase()===i||n(t).toLowerCase()===n(i).toLowerCase()})).orThunk((()=>Pe(iZ(i),{title:t,format:i})));return{matchOpt:a,font:o}},o=e=>t=>t.exists((t=>t.format===e)),r=()=>{const{matchOpt:e}=n();return e},i=e=>()=>R.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),a=t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},s=e=>{const{matchOpt:t,font:o}=n(),r=t.fold(C(o),(e=>e.title));As(e,$z,{text:r})},l=GW(e,"font_family_formats",$W.SemiColon);return{tooltip:"Fonts",text:R.some(t),icon:R.none(),isSelectedFor:o,getCurrentValue:r,getPreviewFor:i,onAction:a,updateText:s,dataset:l,shouldHide:!1,isInvalid:D}},sZ=(e,t)=>jW(e,t,aZ(e)),lZ=(e,t)=>{const n=VW(e,t,aZ(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:xM(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},cZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},uZ=(()=>{const e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,o="\\.",r=e=>`(?:${e})?`,i=["Infinity",e+o+r(e)+r(n),o+e+r(n),e+r(n)].join("|"),a=`[+-]?(?:${i})`;return new RegExp(`^(${a})(.*)$`)})(),dZ=(e,t)=>F(t,(t=>F(cZ[t],(t=>e===t)))),hZ=(e,t)=>{const n=R.from(uZ.exec(e));return n.bind((e=>{const n=Number(e[1]),o=e[2];return dZ(o,t)?R.some({value:n,unit:o}):R.none()}))},mZ=(e,t)=>hZ(e,t).map((({value:e,unit:t})=>e+t)),pZ={tab:C(9),escape:C(27),enter:C(13),backspace:C(8),delete:C(46),left:C(37),up:C(38),right:C(39),down:C(40),space:C(32),home:C(36),end:C(35),pageUp:C(33),pageDown:C(34)},fZ=(e,t,n)=>{let o=R.none();const r=e=>e.map((e=>wg.getValue(e))).getOr(""),i=kM(e,"NodeChange",(t=>{const r=t.getComponent();o=R.some(r),n.updateInputValue(r),oy.set(r,!e.selection.isEditable())})),a=e=>({getComponent:C(e)}),s=ha(b),l=ml("custom-number-input-events"),c=(e,t,i)=>{const a=r(o),s=n.getNewValue(a,e),l=a.length-`${s}`.length,c=o.map((e=>e.element.dom.selectionStart-l)),u=o.map((e=>e.element.dom.selectionEnd-l));n.onAction(s,i),o.each((e=>{wg.setValue(e,s),t&&(c.each((t=>e.element.dom.selectionStart=t)),u.each((t=>e.element.dom.selectionEnd=t)))}))},u=(e,t)=>c(((e,t)=>e-t),e,t),d=(e,t)=>c(((e,t)=>e+t),e,t),h=e=>At(e.element).fold(R.none,(e=>($d(e),R.some(!0)))),m=e=>Gd(e.element)?(Lt(e.element).each((e=>$d(e))),R.some(!0)):R.none(),p=(n,o,r,i)=>{const l=t.shared.providers.translate(r),c=ml("altExecuting"),u=kM(e,"NodeChange",(t=>{oy.set(t.getComponent(),!e.selection.isEditable())})),d=e=>{oy.isDisabled(e)||n(!0)};return Bx.sketch({dom:{tag:"button",attributes:{title:l,"aria-label":l},classes:i.concat(o)},components:[jz(o,t.shared.providers.icons)],buttonBehaviours:Ld([oy.config({}),p_(c,[mT({onSetup:u,getApi:a},s),pT({getApi:a},s),Us(qa(),((e,t)=>{t.event.raw.keyCode!==pZ.space()&&t.event.raw.keyCode!==pZ.enter()||oy.isDisabled(e)||n(!1)})),Us(Ja(),d),Us(Ha(),d)])]),eventOrder:{[qa()]:[c,"keying"],[Ja()]:[c,"alloy.base.behaviour"],[Ha()]:[c,"alloy.base.behaviour"]}})},f=Ux(p((e=>u(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),g=Ux(p((e=>d(!1,e)),"plus","Increase font size",["highlight-on-focus"])),v=Ux({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[YS.sketch({inputBehaviours:Ld([oy.config({}),p_(l,[mT({onSetup:i,getApi:a},s),pT({getApi:a},s)]),p_("input-update-display-text",[Us($z,((e,t)=>{wg.setValue(e,t.event.text)})),Us($a(),(e=>{n.onAction(wg.getValue(e))})),Us(Ya(),(e=>{n.onAction(wg.getValue(e))}))]),Xw.config({mode:"special",onEnter:e=>(c(S,!0,!0),R.some(!0)),onEscape:h,onUp:e=>(d(!0,!1),R.some(!0)),onDown:e=>(u(!0,!1),R.some(!0)),onLeft:(e,t)=>(t.cut(),R.none()),onRight:(e,t)=>(t.cut(),R.none())})])})],behaviours:Ld([C_.config({}),Xw.config({mode:"special",onEnter:m,onSpace:m,onEscape:h}),p_("input-wrapper-events",[Us(Wa(),(e=>{j([f,g],(t=>{const n=Xe.fromDom(t.get(e).element.dom);Gd(n)&&qd(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[f.asSpec(),v.asSpec(),g.asSpec()],behaviours:Ld([C_.config({}),Xw.config({mode:"flow",focusInside:qy.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Gd(e.element)?R.none():($d(e.element),R.some(!0))})])}},gZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},vZ={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},yZ=(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},bZ=(e,t)=>/[0-9.]+px$/.test(e)?yZ(72*parseInt(e,10)/96,t||0)+"pt":Ce(vZ,e).getOr(e),wZ=e=>Ce(gZ,e).getOr(""),_Z=e=>{const t=()=>{let t=R.none();const n=s.data,o=e.queryCommandValue("FontSize");if(o)for(let e=3;t.isNone()&&e>=0;e--){const r=bZ(o,e),i=wZ(r);t=Y(n,(e=>e.format===o||e.format===r||e.format===i))}return{matchOpt:t,size:o}},n=e=>t=>t.exists((t=>t.format===e)),o=()=>{const{matchOpt:e}=t();return e},r=C(R.none),i=t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},a=e=>{const{matchOpt:n,size:o}=t(),r=n.fold(C(o),(e=>e.title));As(e,$z,{text:r})},s=GW(e,"font_size_formats",$W.Space);return{tooltip:"Font sizes",text:R.some("12pt"),icon:R.none(),isSelectedFor:n,getPreviewFor:r,getCurrentValue:o,onAction:i,updateText:a,dataset:s,shouldHide:!1,isInvalid:D}},xZ=(e,t)=>jW(e,t,_Z(e)),CZ=e=>{var t;const n={step:1},o={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}};return null!==(t=o[e])&&void 0!==t?t:n},SZ=16,kZ=e=>e>=0,EZ=e=>{const t=()=>e.queryCommandValue("FontSize"),n=e=>As(e,$z,{text:t()});return{updateInputValue:n,onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n}),getNewValue:(n,o)=>{hZ(n,["unsupportedLength","empty"]);const r=hZ(n,["unsupportedLength","empty"]).or(hZ(t(),["unsupportedLength","empty"])),i=r.map((e=>e.value)).getOr(SZ),a=NC(e),s=r.map((e=>e.unit)).filter((e=>""!==e)).getOr(a),l=o(i,CZ(s).step);return`${kZ(l)?l:i}${s}`}}},TZ=(e,t)=>fZ(e,t,EZ(e)),MZ=(e,t)=>{const n=VW(e,t,_Z(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:xM(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},OZ=(e,t)=>{const n="Paragraph",o=t=>()=>e.formatter.match(t),r=t=>()=>{const n=e.formatter.get(t);return void 0!==n?R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):R.none()},i=t=>{const o=e=>gF(e)?Q(e.items,o):vF(e)?[{title:e.title,format:e.format}]:[],r=Q(kF(e),o),i=QW(e,C(r)),a=i.fold(C(n),(e=>e.title));As(t,$z,{text:a})};return{tooltip:"Formats",text:R.some(n),icon:R.none(),isSelectedFor:o,getCurrentValue:R.none,getPreviewFor:r,onAction:EM(e),updateText:i,shouldHide:xC(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},DZ=(e,t)=>{const n={type:"advanced",...t.styles};return jW(e,t,OZ(e,n))},AZ=(e,t)=>{const n={type:"advanced",...t.styles},o=VW(e,t,OZ(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:xM(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},RZ=C([Ni("toggleClass"),Ni("fetch"),Iu("onExecute"),na("getHotspot",R.some),na("getAnchorOverrides",C({})),sm(),Iu("onItemExecute"),qi("lazySink"),Ni("dom"),Ru("onOpen"),_g("splitDropdownBehaviours",[YO,Xw,C_]),na("matchWidth",!1),na("useMinWidth",!1),na("eventOrder",{}),qi("role")].concat(yD())),PZ=Qg({factory:Bx,schema:[Ni("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ld([C_.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Rs)},buttonBehaviours:Ld([V_.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),IZ=Qg({factory:Bx,schema:[Ni("dom")],name:"button",defaults:()=>({buttonBehaviours:Ld([C_.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),zZ=C([PZ,IZ,tv({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Ni("text")],name:"aria-descriptor"}),ev({schema:[Ou()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),aD()]),NZ=(e,t,n,o)=>{const r=e=>{Hv.getCurrent(e).each((e=>{Cy.highlightFirst(e),Xw.focusIn(e)}))},i=t=>{const n=r;hD(e,S,t,o,n,Mx.HighlightMenuAndItem).get(b)},a=e=>(i(e),R.some(!0)),s=t=>{const n=fv(t,e,"button");return Rs(n),R.some(!0)},l={...Ls([Js(((t,n)=>{const o=pv(t,e,"aria-descriptor");o.each((e=>{const n=ml("aria");en(e.element,"id",n),en(t.element,"aria-describedby",n)}))}))]),...W_(R.some(i))},c={repositionMenus:e=>{V_.isOn(e)&&vD(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:{...e.eventOrder,[ls()]:["disabling","toggling","alloy.base.behaviour"]},events:l,behaviours:Cg(e.splitDropdownBehaviours,[YO.config({others:{sandbox:t=>{const n=fv(t,e,"arrow"),o={onOpen:()=>{V_.on(n),V_.on(t)},onClose:()=>{V_.off(n),V_.off(t)}};return gD(e,t,o)}}}),Xw.config({mode:"special",onSpace:s,onEnter:s,onDown:a}),C_.config({}),V_.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},LZ=Pv({name:"SplitDropdown",configFields:RZ(),partFields:zZ(),factory:NZ,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),HZ=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t),setText:t=>As(e,$z,{text:t}),setIcon:t=>As(e,qz,{icon:t})}),FZ=e=>({setActive:t=>{V_.set(e,t)},isActive:()=>V_.isOn(e),isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t),setText:t=>As(e,$z,{text:t}),setIcon:t=>As(e,qz,{icon:t})}),BZ=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),UZ=ml("focus-button"),VZ=(e,t,n,o,r)=>{const i=t.map((e=>Ux(Zz(e,"tox-tbtn",r)))),a=e.map((e=>Ux(Wz(e,r.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:BZ(n,r)},components:vT([a.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[Ba()]:["focusing","alloy.base.behaviour",Fz],[bs()]:[Fz,"toolbar-group-button-events"]},buttonBehaviours:Ld([dT.toolbarButton(r.isDisabled),aT(),p_(Fz,[Js(((e,t)=>Uz(e))),Us($z,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{h_.set(e,[$c(r.translate(t.event.text))])}))})),Us(qz,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{h_.set(e,[Wz(t.event.icon,r.icons)])}))})),Us(Ba(),((e,t)=>{t.event.prevent(),Ds(e,UZ)}))])].concat(o.getOr([])))}},jZ=(e,t,n,o)=>{const r=t.shared,i=ha(b),a={toolbarButtonBehaviours:[],getApi:HZ,onSetup:e.onSetup},s=[p_("toolbar-group-button-events",[mT(a,i),pT(a,i)])];return gj.sketch({lazySink:r.getSink,fetch:()=>rD.nu((t=>{t(V(n(e.items),Pj))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:VZ(e.icon,e.text,e.tooltip,R.some(s),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})},WZ=(e,t,n)=>{var o;const r=ha(b),i=VZ(e.icon,e.text,e.tooltip,R.none(),n);return Bx.sketch({dom:i.dom,components:i.components,eventOrder:Bz,buttonBehaviours:{...Ld([p_("toolbar-button-events",[Hz({onAction:e.onAction,getApi:t.getApi}),mT(t,r),pT(t,r)]),dT.toolbarButton((()=>!e.enabled||n.isDisabled())),aT()].concat(t.toolbarButtonBehaviours)),[Fz]:null===(o=i.buttonBehaviours)||void 0===o?void 0:o[Fz]}})},ZZ=(e,t)=>$Z(e,t,[]),$Z=(e,t,n)=>WZ(e,{toolbarButtonBehaviours:n.length>0?[p_("toolbarButtonWith",n)]:[],getApi:HZ,onSetup:e.onSetup},t),qZ=(e,t)=>GZ(e,t,[]),GZ=(e,t,n)=>WZ(e,{toolbarButtonBehaviours:[h_.config({}),V_.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[p_("toolbarToggleButtonWith",n)]:[]),getApi:FZ,onSetup:e.onSetup},t),KZ=(e,t,n)=>o=>rD.nu((e=>t.fetch(e))).map((r=>R.from(ND(Or(vO(ml("menu-value"),r,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,vS.CLOSE_ON_EXECUTE,t.select.getOr(D),n),{movement:bO(t.columns,t.presets),menuBehaviours:VE.unnamedEvents("auto"!==t.columns?[]:[Js(((e,n)=>{FE(e,4,HS(t.presets)).each((({numRows:t,numColumns:n})=>{Xw.setGridSize(e,t,n)}))}))])}))))),YZ=(e,t)=>{const n=e=>({isEnabled:()=>!oy.isDisabled(e),setEnabled:t=>oy.set(e,!t),setIconFill:(t,n)=>{su(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{en(e,"fill",n)}))},setActive:t=>{en(e.element,"aria-pressed",t),su(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>V_.set(e,t)))}))},isActive:()=>su(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(V_.isOn))),setText:t=>su(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>As(e,$z,{text:t}))))),setIcon:t=>su(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>As(e,qz,{icon:t})))))}),o=ha(b),r={getApi:n,onSetup:e.onSetup};return LZ.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...BZ(e.tooltip,t.providers)}},onExecute:t=>{const o=n(t);o.isEnabled()&&e.onAction(o)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Ld([dT.splitButton(t.providers.isDisabled),aT(),p_("split-dropdown-events",[Js(((e,t)=>Uz(e))),Us(UZ,C_.focus),mT(r,o),pT(r,o)]),iR.config({})]),eventOrder:{[bs()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:KZ(n,e,t.providers),parts:{menu:WS(!1,e.columns,e.presets)},components:[LZ.parts.button(VZ(e.icon,e.text,R.none(),R.some([V_.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),LZ.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Gx("chevron-down",t.providers.icons)},buttonBehaviours:Ld([dT.splitButton(t.providers.isDisabled),aT(),Jx()])}),LZ.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},JZ=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],XZ=(e,t)=>(n,o,r)=>{const i=e(n).mapError((e=>Di(e))).getOrDie();return t(i,o,r)},QZ={button:XZ(oE,((e,t)=>ZZ(e,t.shared.providers))),togglebutton:XZ(aE,((e,t)=>qZ(e,t.shared.providers))),menubutton:XZ(QU,((e,t)=>cL(e,"tox-tbtn",t,R.none(),!1))),splitbutton:XZ(tV,((e,t)=>YZ(e,t.shared))),grouptoolbarbutton:XZ(YU,((e,t,n)=>{const o=n.ui.registry.getAll().buttons,r=e=>s$(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,R.none()),i={[im]:t.shared.header.isPositionedAtTop()?rm.TopToBottom:rm.BottomToTop};switch(kC(n)){case rC.floating:return jZ(e,t,r,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}))},e$=(e,t,n)=>Ce(QZ,e.type).fold((()=>(console.error("skipping button defined by",e),R.none())),(o=>R.some(o(e,t,n)))),t$={styles:DZ,fontsize:xZ,fontsizeinput:TZ,fontfamily:sZ,blocks:tZ,align:JW},n$=e=>{const t=V(JZ,(t=>{const n=$(t.items,(t=>Se(e,t)||Se(t$,t)));return{name:t.name,items:n}}));return $(t,(e=>e.items.length>0))},o$=e=>{const t=e.split("|");return V(t,(e=>({items:e.trim().split(" ")})))},r$=e=>y(e,(e=>Se(e,"name")&&Se(e,"items"))),i$=e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?n$(n):s(t)?o$(t):r$(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},a$=(e,t,n,o,r,i)=>Ce(t,n.toLowerCase()).orThunk((()=>i.bind((e=>ue(e,(e=>Ce(t,e+n.toLowerCase()))))))).fold((()=>Ce(t$,n.toLowerCase()).map((t=>t(e,r)))),(t=>"grouptoolbarbutton"!==t.type||o?e$(t,r,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),R.none()))),s$=(e,t,n,o)=>{const r=i$(t),i=V(r,(r=>{const i=Q(r.items,(r=>0===r.trim().length?[]:a$(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()));return{title:R.from(e.translate(r.name)),items:i}}));return $(i,(e=>e.items.length>0))},l$=(e,t,n,o)=>{const r=t.mainUi.outerContainer,i=n.toolbar,a=n.buttons;if(y(i,s)){const t=i.map((t=>{const r={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return s$(e,r,o,R.none())}));TW.setToolbars(r,t)}else TW.setToolbar(r,s$(e,n,o,R.none()))},c$=So(),u$=c$.os.isiOS()&&c$.os.version.major<=12,d$=(e,t)=>{const{uiMotherships:n}=t,o=e.dom;let r=e.getWin();const i=e.getDoc().documentElement,a=ha(En(r.innerWidth,r.innerHeight)),s=ha(En(i.offsetWidth,i.offsetHeight)),l=()=>{const t=a.get();t.left===r.innerWidth&&t.top===r.innerHeight||(a.set(En(r.innerWidth,r.innerHeight)),fM(e))},c=()=>{const t=e.getDoc().documentElement,n=s.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(s.set(En(t.offsetWidth,t.offsetHeight)),fM(e))},u=t=>{gM(e,t)};o.bind(r,"resize",l),o.bind(r,"scroll",u);const d=Mh(Xe.fromDom(e.getBody()),"load",c);e.on("hide",(()=>{j(n,(e=>{un(e.element,"display","none")}))})),e.on("show",(()=>{j(n,(e=>{yn(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),o.unbind(r,"resize",l),o.unbind(r,"scroll",u),r=null}))},h$=(e,t,n)=>{lS(e)&&gf(n.mainUi.mothership.element,n.popupUi.mothership),ff(t,n.dialogUi.mothership)},m$=async(e,t,n,o,r)=>{const{mainUi:i,uiMotherships:a}=t,s=ha(0),l=i.outerContainer;await FW(e);const c=Xe.fromDom(r.targetNode),u=Wt(jt(c));gf(c,i.mothership),h$(e,u,t),e.on("PostRender",(()=>{TW.setSidebar(l,n.sidebar,qC(e)),l$(e,t,n,o),s.set(e.getWin().innerWidth),TW.setMenubar(l,RW(e,n)),TW.setViews(l,n.views),d$(e,t)}));const h=TW.getSocket(l).getOrDie("Could not find expected socket element");if(u$){dn(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=kL((()=>{e.dispatch("ScrollContent")}),20),n=Th(h.element,"scroll",t.throttle);e.on("remove",n.unbind)}iT(e,t),e.addCommand("ToggleSidebar",((t,n)=>{TW.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=TW.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(TW.toggleView(l,n)){const t=l.element;i.mothership.broadcastOn([Ff()],{target:t}),j(a,(e=>{e.broadcastOn([Ff()],{target:t})})),d(TW.whichView(l))&&(e.focus(),e.nodeChanged(),TW.refreshToolbar(l))}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=TW.whichView(l))&&void 0!==e?e:""}));const m=kC(e),p=()=>{TW.refreshToolbar(t.mainUi.outerContainer)};m!==rC.sliding&&m!==rC.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const t=e.getWin().innerWidth;t!==s.get()&&(p(),s.set(t))}));const f={setEnabled:e=>{rT(t,!e)},isEnabled:()=>!oy.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:f}};var p$=Object.freeze({__proto__:null,render:m$});const f$=e=>{const t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?R.some(parseInt(""+e,10)):R.none()},g$=e=>v(e)?e+"px":e,v$=(e,t,n)=>{const o=t.filter((t=>e<t)),r=n.filter((t=>e>t));return o.or(r).getOr(e)},y$=e=>{const t=pC(e),n=vC(e),o=bC(e);return f$(t).map((e=>v$(e,n,o)))},b$=e=>{const t=y$(e);return t.getOr(pC(e))},w$=e=>{const t=fC(e),n=gC(e),o=yC(e);return f$(t).map((e=>v$(e,n,o)))},_$=e=>{const t=w$(e);return t.getOr(fC(e))},{ToolbarLocation:x$,ToolbarMode:C$}=uS,S$=40,k$=(e,t,n,o,r)=>{const{mainUi:i,uiMotherships:a}=n,s=sC.DOM,l=rS(e),c=sS(e),u=yC(e).or(w$(e)),d=o.shared.header,h=d.isPositionedAtTop,m=kC(e),p=m===C$.sliding||m===C$.floating,f=ha(!1),g=()=>f.get()&&!e.removed,v=e=>p?e.fold(C(0),(e=>e.components().length>1?xn(e.components()[1].element):0)):0,y=n=>{switch(TC(e)){case x$.auto:const e=TW.getToolbar(i.outerContainer),o=v(e),r=xn(n.element)-o,a=tr(t),s=a.y>r;if(s)return"top";{const e=Mt(t),n=Math.max(e.dom.scrollHeight,xn(e)),o=a.bottom<n-r;if(o)return"bottom";{const e=ir(),t=e.bottom<a.bottom-r;return t?"bottom":"top"}}case x$.bottom:return"bottom";case x$.top:default:return"top"}},b=e=>{r.on((t=>{AU.setModes(t,[e]),d.setDockingMode(e);const n=h()?rm.TopToBottom:rm.BottomToTop;en(t.element,im,n)}))},w=()=>{r.on((e=>{const n=u.getOrThunk((()=>{const e=f$(mn(Jt(),"margin-left")).getOr(0);return Pn(Jt())-On(t).left+e}));un(e.element,"max-width",n+"px")}))},_=n=>{r.on((o=>{const r=TW.getToolbar(i.outerContainer),a=v(r),s=tr(t),{top:l,left:c}=x(e,i.outerContainer.element).fold((()=>({top:h()?Math.max(s.y-xn(o.element)+a,0):s.bottom,left:s.x})),(e=>{var t;const n=tr(e),r=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,i=St(e,Jt()),l=i?Math.max(s.y-xn(o.element)+a,0):s.y-n.y+r-xn(o.element)+a;return{top:h()?l:s.bottom,left:i?s.x:s.x-n.x}})),u={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},d=n.map((e=>{const t=Bo(),n=150,o=window.innerWidth-(c-t.left),r=Math.max(Math.min(e,o),n);return{width:r+"px"}})).getOr({});dn(i.outerContainer.element,{...u,...d})}))},x=(e,t)=>lS(e)?FB(t):R.none(),S=()=>{j(a,(e=>{e.broadcastOn([Bf()],{})}))},k=()=>{if(l)return R.none();{const e=On(i.outerContainer.element).left+In(i.outerContainer.element);if(e>=window.innerWidth-S$||fn(i.outerContainer.element,"width").isSome()){un(i.outerContainer.element,"position","absolute"),un(i.outerContainer.element,"left","0px"),yn(i.outerContainer.element,"width");const e=In(i.outerContainer.element);return R.some(e)}return R.none()}},E=e=>{if(!g())return;l||w();const t=l?R.none():k();p&&TW.refreshToolbar(i.outerContainer),l||_(t),c&&r.on(e),S()},T=()=>!(l||!c||!g())&&r.get().exists((e=>{const t=d.getDockingMode(),n=y(e);return n!==t&&(b(n),!0)})),M=()=>{f.set(!0),un(i.outerContainer.element,"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),j(a,(e=>{yn(e.element,"display")})),T(),lS(e)?E((e=>AU.isDocked(e)?AU.reset(e):AU.refresh(e))):E(AU.refresh)},O=()=>{f.set(!1),un(i.outerContainer.element,"display","none"),s.removeClass(e.getBody(),"mce-edit-focus"),j(a,(e=>{un(e.element,"display","none")}))},D=()=>{const e=T();e&&E(AU.reset)};return{isVisible:g,isPositionedAtTop:h,show:M,hide:O,update:E,updateMode:D,repositionPopups:S}},E$=(e,t)=>{const n=tr(e);return{pos:t?n.y:n.bottom,bounds:n}},T$=(e,t,n,o)=>{const r=ha(E$(t,n.isPositionedAtTop())),i=o=>{const{pos:i,bounds:a}=E$(t,n.isPositionedAtTop()),{pos:s,bounds:l}=r.get(),c=a.height!==l.height||a.width!==l.width;r.set({pos:i,bounds:a}),c&&fM(e,o),n.isVisible()&&(s!==i?n.update(AU.reset):c&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(AU.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))}));let a=0;const s=EL((()=>n.update(AU.refresh)),33);e.on("ScrollWindow",(()=>{const e=Bo().left;e!==a&&(a=e,s.throttle()),n.updateMode()})),lS(e)&&e.on("ElementScroll",(e=>{n.update(AU.refresh)}));const l=Sh();l.set(Mh(Xe.fromDom(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{l.clear()}))},M$=async(e,t,n,o,r)=>{const{mainUi:i}=t,a=kh(),s=Xe.fromDom(r.targetNode),l=k$(e,s,t,o,a),c=DC(e);await BW(e);const u=()=>{if(a.isSet())return void l.show();a.set(TW.getHeader(i.outerContainer).getOrDie());const r=iS(e);lS(e)?(gf(s,i.mothership),gf(s,t.popupUi.mothership)):ff(r,i.mothership),ff(r,t.dialogUi.mothership),l$(e,t,n,o),TW.setMenubar(i.outerContainer,RW(e,n)),l.show(),T$(e,s,l,c),e.nodeChanged()};e.on("show",u),e.on("hide",l.hide),c||(e.on("focus",u),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&u()})),iT(e,t);const d={show:u,hide:l.hide,setEnabled:e=>{rT(t,!e)},isEnabled:()=>!oy.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:d}};var O$=Object.freeze({__proto__:null,render:M$});const D$=()=>{const e=kh(),t=kh(),n=kh(),o=(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`),r=()=>{const n=e.get().map((e=>e.mothership)),o=t.get().map((e=>e.mothership));return n.fold((()=>o.toArray()),(e=>o.fold((()=>[e]),(t=>St(e.element,t.element)?[e]:[e,t]))))};return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:r,lazyGetInOuterOrDie:o}},A$="contexttoolbar-show",R$="contexttoolbar-hide",P$=e=>({hide:()=>Ds(e,hs()),getValue:()=>wg.getValue(e)}),I$=(e,t)=>Us(Lz,((n,o)=>{const r=e.get(n),i=P$(r);t.onAction(i,o.event.buttonApi)})),z$=(e,t,n)=>{const{primary:o,...r}=t.original,i=Mi(oE({...r,type:"button",onAction:b}));return $Z(i,n,[I$(e,t)])},N$=(e,t,n)=>{const{primary:o,...r}=t.original,i=Mi(aE({...r,type:"togglebutton",onAction:b}));return GZ(i,n,[I$(e,t)])},L$=e=>"contextformtogglebutton"===e.type,H$=(e,t,n)=>L$(t)?N$(e,t,n):z$(e,t,n),F$=(e,t,n)=>{const o=V(t,(t=>Ux(H$(e,t,n)))),r=()=>V(o,(e=>e.asSpec())),i=e=>ue(t,((t,n)=>t.primary?R.from(o[n]).bind((t=>t.getOpt(e))).filter(T(oy.isDisabled)):R.none()));return{asSpecs:r,findPrimary:i}},B$=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),o=Ux(YS.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Ld([Xw.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(Rs(e),!0))),onLeft:(e,t)=>(t.cut(),R.none()),onRight:(e,t)=>(t.cut(),R.none())})])})),r=F$(o,e.commands,t);return[{title:R.none(),items:[o.asSpec()]},{title:R.none(),items:r.asSpecs()}]},U$=(e,t,n)=>Hj({type:e,uid:ml("context-toolbar"),initGroups:B$(t,n),onEscape:R.none,cyclicKeying:!0,providers:n}),V$={renderContextForm:U$,buildInitGroups:B$},j$=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,W$=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=Ft(Xe.fromDom(e.startContainer),e.startOffset).element,o=gt(n)?Dt(n):R.some(n);return o.filter(ft).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t},Z$=e=>{const t=e.selection.getRng(),n=W$(t);if(e.inline){const e=Bo();return er(e.left+n.left,e.top+n.top,n.width,n.height)}{const t=nr(Xe.fromDom(e.getBody()));return er(t.x+n.left,t.y+n.top,n.width,n.height)}},$$=(e,t)=>t.filter((e=>Yt(e)&&pt(e))).map(nr).getOrThunk((()=>Z$(e))),q$=(e,t,n)=>{const o=Math.max(e.x+n,t.x),r=Math.min(e.right-n,t.right);return{x:o,width:r-o}},G$=(e,t,n,o,r,i)=>{const a=Xe.fromDom(e.getContainer()),s=su(a,".tox-editor-header").getOr(a),l=tr(s),c=l.y>=t.bottom,u=o&&!c;if(e.inline&&u)return{y:Math.max(l.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!u)return{y:n.y,bottom:Math.min(l.y-i,n.bottom)};const d="line"===r?tr(a):t;return u?{y:Math.max(l.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(l.y-i,n.bottom)}},K$=(e,t,n,o=0)=>{const r=Wo(window),i=tr(Xe.fromDom(e.getContentAreaContainer())),a=YC(e)||QC(e)||tS(e),{x:s,width:l}=q$(i,r,o);if(e.inline&&!a)return er(s,r.y,l,r.height);{const a=t.header.isPositionedAtTop(),{y:c,bottom:u}=G$(e,i,r,a,n,o);return er(s,c,l,u-c)}},Y$=12,J$={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},X$={maxHeightFunction:Gh(),maxWidthFunction:aj()},Q$=(e,t)=>{const n=e.selection.getRng(),o=Ft(Xe.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&St(o.element,t)},eq=(e,t,n)=>{const o=fn(e,"position");un(e,"position",t);const r=n(e);return o.each((t=>un(e,"position",t))),r},tq=e=>"node"===e,nq=(e,t,n,o,r)=>{const i=Z$(e),a=o.lastElement().exists((e=>St(n,e)));if(Q$(e,n))return a?QH:GH;if(a)return eq(t,o.getMode(),(()=>{const e=j$(i,tr(t),-20);return e&&!o.isReposition()?tF:QH}));{const e="fixed"===o.getMode()?r.y+Bo().top:r.y,n=xn(t)+Y$;return e+n<=i.y?GH:KH}},oq=(e,t,n,o)=>{const r=t=>(o,r,i,a,s)=>{const l=nq(e,a,t,n,s),c={...o,y:s.y,height:s.height};return{...l(c,r,i,a,s),alwaysFit:!0}},i=e=>tq(o)?[r(e)]:[],a={onLtr:e=>[gd,vd,pd,hd,fd,md].concat(i(e)),onRtl:e=>[gd,vd,fd,md,pd,hd].concat(i(e))},s={onLtr:e=>[vd,hd,md,pd,fd,gd].concat(i(e)),onRtl:e=>[vd,md,hd,fd,pd,gd].concat(i(e))};return t?s:a},rq=(e,t,n,o)=>"line"===t?{bubble:Qh(Y$,0,J$),layouts:{onLtr:()=>[yd],onRtl:()=>[bd]},overrides:X$}:{bubble:Qh(0,Y$,J$,1/Y$),layouts:oq(e,n,o,t),overrides:X$},iq=(e,t)=>{const n=$(t,(t=>t.predicate(e.dom))),{pass:o,fail:r}=Z(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:r}},aq=e=>{if(e.length<=1)return e;{const t=t=>F(e,(e=>e.position===t)),n=t=>$(e,(e=>e.position===t)),o=t("selection"),r=t("node");if(o||r){if(r&&o){const e=n("node"),t=V(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}},sq=e=>{if(e.length<=1)return e;{const t=t=>Y(e,(e=>e.position===t)),n=t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position));return n.fold((()=>[]),(t=>$(e,(e=>e.position===t))))}},lq=(e,t,n)=>{const o=iq(e,t);if(o.contextForms.length>0)return R.some({elem:e,toolbars:[o.contextForms[0]]});{const t=iq(e,n);if(t.contextForms.length>0)return R.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=aq(o.contextToolbars.concat(t.contextToolbars));return R.some({elem:e,toolbars:n})}return R.none()}},cq=(e,t,n)=>e(t)?R.none():Ea(t,(e=>{if(ft(e)){const{contextToolbars:t,contextForms:o}=iq(e,n.inNodeScope),r=o.length>0?o:sq(t);return r.length>0?R.some({elem:e,toolbars:r}):R.none()}return R.none()}),e),uq=(e,t)=>{const n=Xe.fromDom(t.getBody()),o=e=>St(e,n),r=e=>!o(e)&&!kt(n,e),i=Xe.fromDom(t.selection.getNode());return r(i)?R.none():lq(i,e.inNodeScope,e.inEditorScope).orThunk((()=>cq(o,i,e)))},dq=(e,t)=>{const n={},o=[],r=[],i={},a={},s=(e,s)=>{const l=Mi(pE(s));n[e]=l,l.launch.map((n=>{i["form:"+e]={...s.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?r.push(l):o.push(l),a[e]=l},l=(e,t)=>{gE(t).each((n=>{"editor"===t.scope?r.push(n):o.push(n),a[e]=n}))},c=de(e);return j(c,(t=>{const n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&l(t,n)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:a,formNavigators:i}},hq=ml("forward-slide"),mq=ml("backward-slide"),pq=ml("change-slide-event"),fq="tox-pop--resizing",gq=e=>{const t=ha([]);return Lx.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),Lx.getContent(e).each((e=>{yn(e.element,"visibility")})),vc(e.element,fq),yn(e.element,"width")},inlineBehaviours:Ld([p_("context-toolbar-events",[Ys(Qa(),((e,t)=>{"width"===t.event.raw.propertyName&&(vc(e.element,fq),yn(e.element,"width"))})),Us(pq,((e,t)=>{const n=e.element;yn(n,"width");const o=Pn(n);Lx.setContent(e,t.event.contents),fc(n,fq);const r=Pn(n);un(n,"width",o+"px"),Lx.getContent(e).each((e=>{t.event.focus.bind((e=>($d(e),Yd(n)))).orThunk((()=>(Xw.focusIn(e),Kd(jt(n)))))})),setTimeout((()=>{un(e.element,"width",r+"px")}),0)})),Us(hq,((e,n)=>{Lx.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Kd(jt(e.element))}]))})),As(e,pq,{contents:n.event.forwardContents,focus:R.none()})})),Us(mq,((e,n)=>{le(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),As(e,pq,{contents:Xc(n.bar),focus:n.focus})}))}))]),Xw.config({mode:"special",onEscape:n=>le(t.get()).fold((()=>e.onEscape()),(e=>(Ds(n,mq),R.some(!0))))})]),lazySink:()=>ur.value(e.sink)})},vq="tox-pop--transition",yq=(e,t,n,o)=>{const r=o.backstage,i=r.shared,a=So().deviceType.isTouch,s=kh(),l=kh(),c=kh(),u=Jc(gq({sink:n,onEscape:()=>(e.focus(),R.some(!0))})),d=()=>{const t=c.get().getOr("node"),n=tq(t)?1:0;return K$(e,i,t,n)},h=()=>!e.removed&&!(a()&&r.isContextMenuOpen()),m=e=>Ee(De(e,s.get(),St),!0),p=()=>{if(h()){const t=d(),n=Ee(c.get(),"node")?$$(e,s.get()):Z$(e);return t.height<=0||!j$(n,t,.01)}return!0},f=()=>{s.clear(),l.clear(),c.clear(),Lx.hide(u)},g=()=>{if(Lx.isOpen(u)){const e=u.element;yn(e,"display"),p()?un(e,"display","none"):(l.set(0),Lx.reposition(u))}},v=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Ld([Xw.config({mode:"acyclic"}),p_("pop-dialog-wrap-events",[Js((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Xw.focusIn(t)))})),Xs((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=Nn((()=>dq(t,(e=>{const t=x([e]);As(u,hq,{forwardContents:v(t)})})))),w=(t,n)=>s$(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o.backstage,R.some(["form:"])),_=(e,t)=>V$.buildInitGroups(e,t),x=t=>{const{buttons:n}=e.ui.registry.getAll(),o=y(),r={...n,...o.formNavigators},a=kC(e)===rC.scrolling?rC.scrolling:rC.default,s=X(V(t,(e=>"contexttoolbar"===e.type?w(r,e):_(e,i.providers))));return Hj({type:a,uid:ml("context-toolbar"),initGroups:s,onEscape:R.none,cyclicKeying:!0,providers:i.providers})},C=(t,o)=>{const r="node"===t?i.anchors.node(o):i.anchors.cursor(),c=rq(e,t,a(),{lastElement:s.get,isReposition:()=>Ee(l.get(),0),getMode:()=>Qp.getMode(n)});return Or(r,c)},S=(e,t)=>{if(E.cancel(),!h())return;const o=x(e),r=e[0].position,i=C(r,t);c.set(r),l.set(1);const a=u.element;yn(a,"display"),m(t)||(vc(a,vq),Qp.reset(n,u)),Lx.showWithinBounds(u,v(o),{anchor:i,transition:{classes:[vq],mode:"placement"}},(()=>R.some(d()))),t.fold(s.clear,s.set),p()&&un(a,"display","none")};let k=!1;const E=EL((()=>{if(e.hasFocus()&&!e.removed&&!k)if(yc(u.element,vq))E.throttle();else{const t=y();uq(t,e).fold(f,(e=>{S(e.toolbars,R.some(e.elem))}))}}),17);e.on("init",(()=>{e.on("remove",f),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",g),e.on("click keyup focus SetContent",E.throttle),e.on(R$,f),e.on(A$,(t=>{const n=y();Ce(n.lookupTable,t.toolbarKey).each((n=>{S([n],Pe(t.target!==e,t.target)),Lx.getContent(u).each(Xw.focusIn)}))})),e.on("focusout",(t=>{Hx.setEditorTimeout(e,(()=>{Yd(n.element).isNone()&&Yd(u.element).isNone()&&f()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&f()})),e.on("AfterProgressState",(t=>{t.state?f():e.hasFocus()&&E.throttle()})),e.on("dragstart",(()=>{k=!0})),e.on("dragend drop",(()=>{k=!1})),e.on("NodeChange",(e=>{Yd(u.element).fold(E.throttle,b)}))}))},bq=e=>{const t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];j(t,(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TM(e,t.cmd),onSetup:SM(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:xM(e),onAction:TM(e,"JustifyNone")})},wq=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=kh();return V(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:i=>{const a=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(i)),i.setActive(e)};a(Ee(o,t.hash(n)));const s=t.watcher(e,n,a);return()=>{r.clear(),s()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},_q=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:XC,hash:e=>mZ(e,["fixed","relative","empty"]).getOr(e),display:S,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>R.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:xM(e),onMenuSetup:xM(e)}),xq=e=>{const t=R.from(CC(e));return t.map((t=>({name:"language",text:"Language",icon:"language",getOptions:C(t),hash:e=>m(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var o;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(o=t.customCode)&&void 0!==o?o:null}).unbind},getCurrent:e=>{const t=Xe.fromDom(e.selection.getNode());return Ta(t,(e=>R.some(e).filter(ft).bind((e=>{const t=on(e,"lang");return t.map((t=>{const n=on(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:n,title:""}}))}))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=Sh();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),_M(n.clear,xM(e)(t))},onMenuSetup:xM(e)})))},Cq=e=>{wq(e,_q(e)),xq(e).each((t=>wq(e,t)))},Sq=(e,t)=>{XW(e,t),lZ(e,t),AZ(e,t),nZ(e,t),MZ(e,t)},kq=e=>kM(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())})),Eq=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:kq(e),onAction:TM(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:xM(e),onAction:TM(e,"indent")})},Tq=e=>{Eq(e)},Mq=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),_M((()=>e.off("PastePlainTextToggle",o)),xM(e)(n))},Oq=e=>{const t=ha($C(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:Mq(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:Mq(e,t)})},Dq=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},Aq=e=>{bz.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:SM(e,t.name),onAction:Dq(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:SM(e,n),onAction:Dq(e,n)})}},Rq=e=>{bz.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TM(e,t.action)})})),bz.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:xM(e),onAction:TM(e,t.action)})}))},Pq=e=>{bz.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:TM(e,t.action),onSetup:SM(e,t.name)})}))},Iq=e=>{Aq(e),Rq(e),Pq(e)},zq=e=>{bz.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:TM(e,t.action)})})),bz.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:xM(e),onAction:TM(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:xM(e),onAction:Dq(e,"code")})},Nq=e=>{Iq(e),zq(e)},Lq=(e,t)=>kM(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),Hq=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Lq(e,"hasUndo"),onAction:TM(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Lq(e,"hasRedo"),onAction:TM(e,"redo")})},Fq=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Lq(e,"hasUndo"),onAction:TM(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Lq(e,"hasRedo"),onAction:TM(e,"redo")})},Bq=e=>{Hq(e),Fq(e)},Uq=e=>kM(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),Vq=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Uq(e),onAction:TM(e,"mceToggleVisualAid")})},jq=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:TM(e,"mceToggleVisualAid")})},Wq=e=>{jq(e),Vq(e)},Zq=(e,t)=>{bq(e),Nq(e),Sq(e,t),Bq(e),gO(e),Wq(e),Tq(e),Cq(e),Oq(e)},$q=e=>s(e)?e.split(/[ ,]/):e,qq=e=>t=>t.options.get(e),Gq=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:s(e)||y(e,s)?{value:$q(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Kq=qq("contextmenu_never_use_native"),Yq=qq("contextmenu_avoid_overlap"),Jq=e=>0===Xq(e).length,Xq=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:$(n,(e=>Se(t,e)))},Qq=(e,t)=>({type:"makeshift",x:e,y:t}),eG=(e,t,n)=>Qq(e.x+t,e.y+n),tG=e=>"longpress"===e.type||0===e.type.indexOf("touch"),nG=e=>{if(tG(e)){const t=e.touches[0];return Qq(t.pageX,t.pageY)}return Qq(e.pageX,e.pageY)},oG=e=>{if(tG(e)){const t=e.touches[0];return Qq(t.clientX,t.clientY)}return Qq(e.clientX,e.clientY)},rG=(e,t)=>{const n=sC.DOM.getPos(e);return eG(t,n.x,n.y)},iG=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?nG(t):rG(e.getContentAreaContainer(),oG(t)):aG(e),aG=e=>({type:"selection",root:Xe.fromDom(e.selection.getNode())}),sG=e=>({type:"node",node:R.some(Xe.fromDom(e.selection.getNode())),root:Xe.fromDom(e.getBody())}),lG=(e,t,n)=>{switch(n){case"node":return sG(e);case"point":return iG(e,t);case"selection":return aG(e)}},cG=(e,t,n,o,r,i)=>{const a=n(),s=lG(e,t,i);iN(a,vS.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:R.none()}).map((e=>{t.preventDefault(),Lx.showMenuAt(r,{anchor:s},{menu:{markers:US("normal")},data:e})}))},uG={onLtr:()=>[vd,hd,md,pd,fd,gd,GH,KH,qH,ZH,$H,WH],onRtl:()=>[vd,md,hd,fd,pd,gd,GH,KH,$H,WH,qH,ZH]},dG=12,hG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},mG=(e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],r=n.getRng(),i=pp(e.getWin(),$m.domRange(r));return i.exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}},pG=e=>{const t=e.selection.getRng(),n=()=>{Hx.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const r=()=>i();e.once("longpresscancel",r);const i=()=>{e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}},fG=(e,t,n)=>{const o=lG(e,t,n),r="point"===n?dG:0;return{bubble:Qh(0,r,hG),layouts:uG,overrides:{maxWidthFunction:aj(),maxHeightFunction:Gh()},...o}},gG=(e,t,n,o,r,i,a)=>{const s=fG(e,t,i);iN(n,vS.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:R.none()}).map((n=>{t.preventDefault();const l=a?Mx.HighlightMenuAndItem:Mx.HighlightNone;Lx.showMenuWithinBounds(r,{anchor:s},{menu:{markers:US("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>R.some(K$(e,o.shared,"node"===i?"node":"selection")))),e.dispatch(R$)}))},vG=(e,t,n,o,r,i)=>{const a=So(),s=a.os.isiOS(),l=a.os.isMacOS(),c=a.os.isAndroid(),u=a.deviceType.isTouch(),d=()=>!(c||s||l&&u),h=()=>{const a=n();gG(e,t,a,o,r,i,d())};if((l||s)&&"node"!==i){const n=()=>{pG(e),h()};mG(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else h()},yG=e=>s(e)?"|"===e:"separator"===e.type,bG={type:"separator"},wG=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(s(e))return e;switch(e.type){case"separator":return bG;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return s(t)?t:V(t,wG)}};default:const n=e;return{type:"menuitem",...t(n),onAction:w(n.onAction)}}},_G=(e,t)=>{if(0===t.length)return e;const n=le(e).filter((e=>!yG(e))),o=n.fold((()=>[]),(e=>[bG]));return e.concat(o).concat(t).concat([bG])},xG=(e,t,n)=>{const o=G(t,((t,o)=>Ce(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(s(o))return _G(t,o.split(" "));if(o.length>0){const e=V(o,wG);return _G(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&yG(o[o.length-1])&&o.pop(),o},CG=(e,t)=>t.ctrlKey&&!Kq(e),SG=e=>"longpress"===e.type||Se(e,"touches"),kG=(e,t)=>!SG(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),EG=(e,t)=>kG(e,t)?e.selection.getStart(!0):t.target,TG=(e,t)=>{const n=Yq(e),o=kG(e,t)?"selection":"point";if(We(n)){const r=EG(e,t),i=$D(Xe.fromDom(r),n);return i?"node":o}return o},MG=(e,t,n)=>{const o=So(),r=o.deviceType.isTouch,i=Jc(Lx.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Ld([p_("dismissContextMenu",[Us(_s(),((t,n)=>{Hf.close(t),e.focus()}))])])})),a=()=>Lx.hide(i),s=t=>{if(Kq(e)&&t.preventDefault(),CG(e,t)||Jq(e))return;const o=TG(e,t),a=()=>{const n=EG(e,t),o=e.ui.registry.getAll(),r=Xq(e);return xG(o.contextMenus,r,n)},s=r()?vG:cG;s(e,t,a,n,i,o)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",s)}))},OG=pa.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),DG=e=>t=>t.translate(-e.left,-e.top),AG=e=>t=>t.translate(e.left,e.top),RG=e=>(t,n)=>G(e,((e,t)=>t(e)),En(t,n)),PG=(e,t,n)=>e.fold(RG([AG(n),DG(t)]),RG([DG(t)]),RG([])),IG=(e,t,n)=>e.fold(RG([AG(n)]),RG([]),RG([AG(t)])),zG=(e,t,n)=>e.fold(RG([]),RG([DG(n)]),RG([AG(t),DG(n)])),NG=(e,t,n,o,r,i)=>{const a=IG(e,r,i),s=IG(t,r,i);return Math.abs(a.left-s.left)<=n&&Math.abs(a.top-s.top)<=o},LG=(e,t,n,o,r,i)=>{const a=IG(e,r,i),s=IG(t,r,i),l=Math.abs(a.left-s.left),c=Math.abs(a.top-s.top);return En(l,c)},HG=(e,t,n)=>{const o=e.fold(((e,t)=>({position:R.some("absolute"),left:R.some(e+"px"),top:R.some(t+"px")})),((e,t)=>({position:R.some("absolute"),left:R.some(e-n.left+"px"),top:R.some(t-n.top+"px")})),((e,t)=>({position:R.some("fixed"),left:R.some(e+"px"),top:R.some(t+"px")})));return{right:R.none(),bottom:R.none(),...o}},FG=(e,t,n)=>e.fold(((e,o)=>UG(e+t,o+n)),((e,o)=>VG(e+t,o+n)),((e,o)=>jG(e+t,o+n))),BG=(e,t,n,o)=>{const r=(e,r)=>(i,a)=>{const s=e(t,n,o);return r(i.getOr(s.left),a.getOr(s.top))};return e.fold(r(zG,UG),r(IG,VG),r(PG,jG))},UG=OG.offset,VG=OG.absolute,jG=OG.fixed,WG=(e,t)=>{const n=nn(e,t);return m(n)?NaN:parseInt(n,10)},ZG=(e,t)=>{const n=e.element,o=WG(n,t.leftAttr),r=WG(n,t.topAttr);return isNaN(o)||isNaN(r)?R.none():R.some(En(o,r))},$G=(e,t,n)=>{const o=e.element;en(o,t.leftAttr,n.left+"px"),en(o,t.topAttr,n.top+"px")},qG=(e,t)=>{const n=e.element;an(n,t.leftAttr),an(n,t.topAttr)},GG=(e,t,n,o)=>ZG(e,t).fold((()=>n),(e=>jG(e.left+o.left,e.top+o.top))),KG=(e,t,n,o,r,i)=>{const a=GG(e,t,n,o),s=t.mustSnap?XG(e,t,a,r,i):QG(e,t,a,r,i),l=PG(a,r,i);return $G(e,t,l),s.fold((()=>({coord:jG(l.left,l.top),extra:R.none()})),(e=>({coord:e.output,extra:e.extra})))},YG=(e,t)=>{qG(e,t)},JG=(e,t,n,o)=>ue(e,(e=>{const r=e.sensor,i=NG(t,r,e.range.left,e.range.top,n,o);return i?R.some({output:BG(e.output,t,n,o),extra:e.extra}):R.none()})),XG=(e,t,n,o,r)=>{const i=t.getSnapPoints(e),a=JG(i,n,o,r);return a.orThunk((()=>{const e=G(i,((e,t)=>{const i=t.sensor,a=LG(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((()=>({deltas:R.some(a),snap:R.some(t)})),(n=>{const o=(a.left+a.top)/2,r=(n.left+n.top)/2;return o<=r?{deltas:R.some(a),snap:R.some(t)}:e}))}),{deltas:R.none(),snap:R.none()});return e.snap.map((e=>({output:BG(e.output,n,o,r),extra:e.extra})))}))},QG=(e,t,n,o,r)=>{const i=t.getSnapPoints(e);return JG(i,n,o,r)},eK=(e,t,n)=>({coord:BG(e.output,e.output,t,n),extra:e.extra}),tK=(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=Et(e.element),n=Bo(t),i=BB(r),a=eK(o,n,i),s=HG(a.coord,n,i);hn(r,s)}};var nK=Object.freeze({__proto__:null,snapTo:tK});const oK="data-initial-z-index",rK=e=>{Dt(e.element).filter(ft).each((e=>{on(e,oK).fold((()=>yn(e,"z-index")),(t=>un(e,"z-index",t))),an(e,oK)}))},iK=e=>{Dt(e.element).filter(ft).each((t=>{fn(t,"z-index").each((e=>{en(t,oK,e)})),un(t,"z-index",mn(e.element,"z-index"))}))},aK=(e,t)=>{e.getSystem().addToGui(t),iK(t)},sK=e=>{rK(e),e.getSystem().removeFromGui(e)},lK=(e,t,n)=>e.getSystem().build(gA.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var cK=ea("snaps",[Ni("getSnapPoints"),Ru("onSensor"),Ni("leftAttr"),Ni("topAttr"),na("lazyViewport",ir),na("mustSnap",!1)]);const uK=[na("useFixed",D),Ni("blockerClass"),na("getTarget",S),na("onDrag",b),na("repositionTarget",!0),na("onDrop",b),la("getBounds",ir),cK],dK=e=>Ae(fn(e,"left"),fn(e,"top"),fn(e,"position"),((e,t,n)=>{const o="fixed"===n?jG:UG;return o(parseInt(e,10),parseInt(t,10))})).getOrThunk((()=>{const t=On(e);return VG(t.left,t.top)})),hK=(e,t,n,o,r)=>{const i=r.bounds,a=IG(t,n,o),s=Qu(a.left,i.x,i.x+i.width-r.width),l=Qu(a.top,i.y,i.y+i.height-r.height),c=VG(s,l);return t.fold((()=>{const e=zG(c,n,o);return UG(e.left,e.top)}),C(c),(()=>{const e=PG(c,n,o);return jG(e.left,e.top)}))},mK=(e,t,n,o,r,i,a)=>{const s=t.fold((()=>{const e=FG(n,i.left,i.top),t=PG(e,o,r);return jG(t.left,t.top)}),(t=>{const a=KG(e,t,n,i,o,r);return a.extra.each((n=>{t.onSensor(e,n)})),a.coord}));return hK(e,s,o,r,a)},pK=(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const i=Et(e.element),a=Bo(i),s=BB(r),l=dK(r),c=mK(e,t.snaps,l,a,s,o,n),u=HG(c,a,s);hn(r,u)}t.onDrag(e,r,o)},fK=(e,t)=>({bounds:e.getBounds(),height:Cn(t.element),width:In(t.element)}),gK=(e,t,n,o,r)=>{const i=n.update(o,r),a=n.getStartData().getOrThunk((()=>fK(t,e)));i.each((n=>{pK(e,t,a,n)}))},vK=(e,t,n,o)=>{t.each(sK),n.snaps.each((t=>{YG(e,t)}));const r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},yK=e=>(t,n)=>{const o=e=>{n.setStartData(fK(t,e))};return Ls([Us(vs(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])},bK=e=>Ls([Us(Ba(),e.forceDrop),Us(ja(),e.drop),Us(Ua(),((t,n)=>{e.move(n.event)})),Us(Va(),e.delayDrop)]),wK=e=>R.from(En(e.x,e.y)),_K=(e,t)=>En(t.left-e.left,t.top-e.top);var xK=Object.freeze({__proto__:null,getData:wK,getDelta:_K});const CK=(e,t,n)=>[Us(Ba(),((o,r)=>{const i=r.event.raw;if(0!==i.button)return;r.stop();const a=()=>vK(o,R.some(c),e,t),s=qD(a,200),l={drop:a,delayDrop:s.schedule,forceDrop:a,move:n=>{s.cancel(),gK(o,e,t,xK,n)}},c=lK(o,e.blockerClass,bK(l)),u=()=>{n(o),aK(o,c)};u()}))],SK=[...uK,Nu("dragger",{handlers:yK(CK)})],kK=e=>Ls([Us(Na(),e.forceDrop),Us(Ha(),e.drop),Us(Fa(),e.drop),Us(La(),((t,n)=>{e.move(n.event)}))]),EK=e=>{const t=e[0];return R.some(En(t.clientX,t.clientY))},TK=e=>{const t=e.raw,n=t.touches;return 1===n.length?EK(n):R.none()},MK=(e,t)=>En(t.left-e.left,t.top-e.top);var OK=Object.freeze({__proto__:null,getData:TK,getDelta:MK});const DK=(e,t,n)=>{const o=kh(),r=n=>{vK(n,o.get(),e,t),o.clear()};return[Us(Na(),((i,a)=>{a.stop();const s=()=>r(i),l={drop:s,delayDrop:b,forceDrop:s,move:n=>{gK(i,e,t,OK,n)}},c=lK(i,e.blockerClass,kK(l));o.set(c);const u=()=>{n(i),aK(i,c)};u()})),Us(La(),((n,o)=>{o.stop(),gK(n,e,t,OK,o.event)})),Us(Ha(),((e,t)=>{t.stop(),r(e)})),Us(Fa(),r)]},AK=[...uK,Nu("dragger",{handlers:yK(DK)})],RK=(e,t,n)=>[...CK(e,t,n),...DK(e,t,n)],PK=[...uK,Nu("dragger",{handlers:yK(RK)})],IK=SK,zK=AK,NK=PK;var LK=Object.freeze({__proto__:null,mouse:IK,touch:zK,mouseOrTouch:NK});const HK=()=>{let e=R.none(),t=R.none();const n=()=>{e=R.none(),t=R.none()},o=(t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=R.some(n),o},r=(e,t)=>e.getData(t).bind((t=>o(e,t))),i=e=>{t=R.some(e)},a=()=>t,s=C({});return zl({readState:s,reset:n,update:r,getStartData:a,setStartData:i})};var FK=Object.freeze({__proto__:null,init:HK});const BK=Ud({branchKey:"mode",branches:LK,name:"dragging",active:{events:(e,t)=>{const n=e.dragger;return n.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:R.from(e.extra)})},state:FK,apis:nK}),UK=40,VK=UK/2,jK=(e,t,n,o,r,i)=>e.fold((()=>BK.snap({sensor:VG(n-VK,o-VK),range:En(r,i),output:VG(R.some(n),R.some(o)),extra:{td:t}})),(e=>{const r=n-VK,i=o-VK,a=UK,s=UK,l=e.element.dom.getBoundingClientRect();return BK.snap({sensor:VG(r,i),range:En(a,s),output:VG(R.some(n-l.width/2),R.some(o-l.height/2)),extra:{td:t}})})),WK=(e,t,n)=>{const o=(e,t)=>e.exists((e=>St(e,t)));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,r)=>{const i=r.td;o(t.get(),i)||(t.set(i),n(i))},mustSnap:!0}},ZK=e=>Ux(Bx.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ld([BK.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),iR.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),$K=(e,t)=>{const n=ha([]),o=ha([]),r=ha(!1),i=kh(),a=kh(),s=e=>{const n=nr(e);return jK(m.getOpt(t),e,n.x,n.y,n.width,n.height)},l=()=>V(n.get(),(e=>s(e))),c=e=>{const n=nr(e);return jK(p.getOpt(t),e,n.right,n.bottom,n.width,n.height)},u=()=>V(o.get(),(e=>c(e))),d=WK(l,i,(t=>{a.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),h=WK(u,a,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),m=ZK(d),p=ZK(h),f=Jc(m.asSpec()),g=Jc(p.asSpec()),v=(t,n,o,r)=>{const i=n.dom.getBoundingClientRect();yn(t.element,"display");const a=Ot(Xe.fromDom(e.getBody())).dom.innerHeight,s=o(i),l=r(i,a);(s||l)&&un(t.element,"display","none")},y=(e,t,n,o)=>{const r=n(t);BK.snapTo(e,r);const i=e=>e[o]<0,a=(e,t)=>e[o]>t;v(e,t,i,a)},b=e=>y(f,e,s,"top"),w=()=>i.get().each(b),_=e=>y(g,e,c,"bottom"),x=()=>a.get().each(_);So().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(uf(t,f),uf(t,g),r.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),o.set(t.downOrRightCells),b(e.start),_(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{w(),x()})),e.on("TableSelectionClear",(()=>{r.get()&&(mf(f),mf(g),r.set(!1)),i.clear(),a.clear()})))};var qK='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n';const GK=e=>"BR"===e.nodeName||!!e.getAttribute("data-mce-bogus")||"bookmark"===e.getAttribute("data-mce-type"),KK=(e,t,n)=>{var o;const r=null!==(o=t.delimiter)&&void 0!==o?o:"›",i=(t,o,r)=>Bx.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[$c(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:Ld([dT.button(n.isDisabled),aT()])}),a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$c(` ${r} `)]}),s=e=>G(e,((e,t,n)=>{const o=i(t.name,t.element,n);return 0===n?e.concat([o]):e.concat([a(),o])}),[]),l=t=>{const n=[];let o=t.length;while(o-- >0){const r=t[o];if(1===r.nodeType&&!GK(r)){const t=bM(e,r);if(t.isDefaultPrevented()||n.push({name:t.name,element:r}),t.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ld([Xw.config({mode:"flow",selector:"div[role=button]"}),oy.config({disabled:n.isDisabled}),aT(),EA.config({}),h_.config({}),p_("elementPathEvents",[Js(((t,n)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Xw.focusIn(t))),e.on("NodeChange",(e=>{const n=l(e.parents),o=n.length>0?s(n):[];h_.set(t,o)}))}))])]),components:[]}};var YK;(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(YK||(YK={}));const JK=(e,t,n,o,r)=>{const i={height:v$(o+t.top,vC(e),bC(e))};return n===YK.Both&&(i.width=v$(r+t.left,gC(e),yC(e))),i},XK=(e,t,n)=>{const o=Xe.fromDom(e.getContainer()),r=JK(e,t,n,xn(o),Pn(o));me(r,((e,t)=>{v(e)&&un(o,t,g$(e))})),pM(e)},QK=e=>{const t=ZC(e);return!1===t?YK.None:"both"===t?YK.Both:YK.Vertical},eY=(e,t,n,o)=>{const r=20,i=En(n*r,o*r);return XK(e,i,t),R.some(!0)},tY=(e,t)=>{const n=QK(e);if(n===YK.None)return R.none();const o=n===YK.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return R.some(Qx("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-label":t.translate(o)},behaviours:[BK.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,r)=>XK(e,r,n),blockerClass:"tox-blocker"}),Xw.config({mode:"special",onLeft:()=>eY(e,n,-1,0),onRight:()=>eY(e,n,1,0),onUp:()=>eY(e,n,0,-1),onDown:()=>eY(e,n,0,1)}),EA.config({}),C_.config({})]},t.icons))},nY=(e,t)=>{const n=(e,n,o)=>h_.set(e,[$c(t.translate(["{0} "+o,n[o]]))]);return Bx.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ld([dT.button(t.isDisabled),aT(),EA.config({}),h_.config({}),wg.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),p_("wordcount-events",[el((e=>{const t=wg.getValue(e),o="words"===t.mode?"characters":"words";wg.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Js((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=wg.getValue(t);wg.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[ls()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},oY=(e,t)=>{const n=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Vx.translate(["Powered by {0}","Tiny"])},innerHtml:qK.trim()},behaviours:Ld([C_.config({})])}]}),o=()=>{const o=[];return jC(e)&&o.push(KK(e,{},t)),e.hasPlugin("wordcount")&&o.push(nY(e,t)),WC(e)&&o.push(n()),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]},r=()=>{const n=o(),r=tY(e,t);return n.concat(r.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:r()}},rY=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),iY=(e,t)=>{const n=e.inline,o=n?O$:p$,r=sS(e)?qU:HB,i=D$(),a=kh(),s=kh(),l=kh(),c=So(),u=c.deviceType.isTouch(),d="tox-platform-touch",h=u?[d]:[],m=nS(e),p=kC(e),f=Ux({dom:{tag:"div",classes:["tox-anchorbar"]}}),g=()=>i.mainUi.get().map((e=>e.outerContainer)).bind(TW.getHeader),v=()=>ur.fromOption(i.dialogUi.get().map((e=>e.sink)),"UI has not been rendered"),y=()=>ur.fromOption(i.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),b=i.lazyGetInOuterOrDie("anchor bar",f.getOpt),w=i.lazyGetInOuterOrDie("toolbar",TW.getToolbar),_=i.lazyGetInOuterOrDie("throbber",TW.getThrobber),x=bB({popup:y,dialog:v},e,b),C=()=>{const t={attributes:{[im]:m?rm.BottomToTop:rm.TopToBottom}},n=TW.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:x.popup,onEscape:()=>{e.focus()}}),o=TW.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:x.popup.shared.getSink,providers:x.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{wM(e,t)},type:p,lazyToolbar:w,lazyHeader:()=>g().getOrDie("Could not find header element"),...t}),r=TW.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:x.popup.shared.providers,onEscape:()=>{e.focus()},type:p}),i=tS(e),a=QC(e),s=YC(e),l=GC(e),c=S(),u=i||a||s,d=()=>i?[r]:a?[o]:[],h=l?[c,n]:[n];return TW.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(u?[]:["tox-editor-header--empty"]),...t},components:X([s?h:[],d(),rS(e)?[]:[f.asSpec()]]),sticky:sS(e),editor:e,sharedBackstage:x.popup.shared})},S=()=>TW.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),k=()=>{const e=TW.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),t=TW.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[e,t]}},E=()=>{const t=iS(e),n=St(Jt(),t)&&"grid"===mn(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(h),attributes:{...Vx.isRtl()?{dir:"rtl"}:{}}},behaviours:Ld([Qp.config({useFixed:()=>r.isDocked(g)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ls([Us(ys(),(e=>{un(e.element,"width",document.body.clientWidth+"px")}))])},a=Jc(Or(o,n?i:{})),l=vA(a);return s.set(l),{sink:a,mothership:l}},T=()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(h),attributes:{...Vx.isRtl()?{dir:"rtl"}:{}}},behaviours:Ld([Qp.config({useFixed:()=>r.isDocked(g),getBounds:()=>t.getPopupSinkBounds()})])},n=Jc(e),o=vA(n);return l.set(o),{sink:n,mothership:o}},M=()=>{const t=C(),o=k(),r=TW.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:x.popup}),i=TW.parts.viewWrapper({backstage:x.popup}),s=VC(e)&&!n?R.some(oY(e,x.popup.shared.providers)):R.none(),l=X([m?[]:[t],n?[]:[o],m?[t]:[]]),c=TW.parts.editorContainer({components:X([l,n?[]:s.toArray()])}),u=aS(e),d={role:"application",...Vx.isRtl()?{dir:"rtl"}:{},...u?{"aria-hidden":"true"}:{}},p=Jc(TW.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(m?["tox-tinymce--toolbar-bottom"]:[]).concat(h),styles:{visibility:"hidden",...u?{opacity:"0",border:"0"}:{}},attributes:d},components:[c,...n?[]:[i],r],behaviours:Ld([aT(),oy.config({disableClass:"tox-tinymce--disabled"}),Xw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),f=vA(p);return a.set(f),{mothership:f,outerContainer:p}},O=t=>{const n=g$(b$(e)),o=g$(_$(e));return e.inline||(vn("div","width",o)&&un(t.element,"width",o),vn("div","height",n)?un(t.element,"height",n):un(t.element,"height","400px")),n},D=t=>{e.addShortcut("alt+F9","focus menubar",(()=>{TW.focusMenubar(t)})),e.addShortcut("alt+F10","focus toolbar",(()=>{TW.focusToolbar(t)})),e.addCommand("ToggleToolbarDrawer",((e,n)=>{(null===n||void 0===n?void 0:n.skipFocus)?TW.toggleToolbarDrawerWithoutFocusing(t):TW.toggleToolbarDrawer(t)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>TW.isToolbarDrawerToggled(t)))},A=t=>{const{mainUi:n,popupUi:i,uiMotherships:a}=t;pe(EC(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:s,menuItems:l,contextToolbars:c,sidebars:u,views:d}=e.ui.registry.getAll(),h=eS(e),m={menuItems:l,menus:cS(e),menubar:RC(e),toolbar:h.getOrThunk((()=>PC(e))),allowToolbarGroups:p===rC.floating,buttons:s,sidebar:u,views:d};D(n.outerContainer),wB(e,n.mothership,a),r.setup(e,x.popup.shared,g),Zq(e,x.popup),MG(e,x.popup.shared.getSink,x.popup),gV(e),WV(e,_,x.popup.shared),yq(e,c,i.sink,{backstage:x.popup}),$K(e,i.sink);const f=e.getElement(),v=O(n.outerContainer),y={targetNode:f,height:v};return o.render(e,t,m,x.popup,y)},P=e=>(l.set(e.mothership),e),I=()=>{const t=M(),n=E(),o=lS(e)?T():P(n);i.dialogUi.set(n),i.popupUi.set(o),i.mainUi.set(t);const r={popupUi:o,dialogUi:n,mainUi:t,uiMotherships:i.getUiMotherships()};return A(r)};return{popups:{backstage:x.popup,getMothership:()=>rY("popups",l)},dialogs:{backstage:x.dialog,getMothership:()=>rY("dialogs",s)},renderUI:I}},aY=(e,t)=>{const n=on(e,"id").fold((()=>{const e=ml("dialog-label");return en(t,"id",e),e}),S);en(e,"aria-labelledby",n)},sY=C([Ni("lazySink"),qi("dragBlockClass"),la("getBounds",ir),na("useTabstopAt",A),na("firstTabstop",0),na("eventOrder",{}),_g("modalBehaviours",[Xw]),Pu("onExecute"),zu("onEscape")]),lY={sketch:S},cY=C([tv({name:"draghandle",overrides:(e,t)=>({behaviours:Ld([BK.config({mode:"mouse",getTarget:e=>iu(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Qg({schema:[Ni("dom")],name:"title"}),Qg({factory:lY,schema:[Ni("dom")],name:"close"}),Qg({factory:lY,schema:[Ni("dom")],name:"body"}),tv({factory:lY,schema:[Ni("dom")],name:"footer"}),ev({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[na("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),na("components",[])],name:"blocker"})]),uY=(e,t,n,o)=>{const r=kh(),i=t=>{r.set(t);const n=e.lazySink(t).getOrDie(),i=o.blocker(),a=n.getSystem().build({...i,components:i.components.concat([Xc(t)]),behaviours:Ld([C_.config({}),p_("dialog-blocker-events",[Ys(Za(),(()=>{Xw.focusIn(t)}))])])});uf(n,a),Xw.focusIn(t)},a=e=>{r.clear(),Dt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{mf(e)}))}))},s=t=>fv(t,e,"body"),l=t=>fv(t,e,"footer"),c=(e,t)=>{PV.block(e,t)},u=e=>{PV.unblock(e)},d=ml("modal-events"),h={...e.eventOrder,[bs()]:[d].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:i,hide:a,getBody:s,getFooter:l,setIdle:u,setBusy:c},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Cg(e.modalBehaviours,[h_.config({}),Xw.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),PV.config({getRoot:r.get}),p_(d,[Js((t=>{aY(t.element,fv(t,e,"title").element)}))])])}},dY=Pv({name:"ModalDialog",configFields:sY(),partFields:cY(),factory:uY,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),hY=si([_k,xk].concat(CE)),mY=vi,pY=[Gk("button"),zk,aa("align","end",["start","end"]),jk,Vk,Ji("buttonType",["primary","secondary"])],fY=[...pY,Sk],gY=[Bi("type",["submit","cancel","custom"]),...fY],vY=[Bi("type",["menu"]),Ik,Nk,zk,$i("items",hY),...pY],yY=[...pY,Bi("type",["togglebutton"]),Fi("tooltip"),zk,Ik,sa("active",!1)],bY=Ai("type",{submit:gY,cancel:gY,custom:gY,menu:vY,togglebutton:yY}),wY=[_k,Sk,Bi("level",["info","warn","error","success"]),Ek,na("url","")],_Y=si(wY),xY=e=>[_k,e],CY=[_k,Sk,Vk,Gk("button"),zk,Uk,Ji("buttonType",["primary","secondary","toolbar"]),jk],SY=si(CY),kY=[_k,xk],EY=kY.concat([Lk]),TY=kY.concat([Ck,Vk]),MY=si(TY),OY=vi,DY=EY.concat([Wk("auto")]),AY=si(DY),RY=hi([Tk,Sk,Ek]),PY=EY.concat([ia("storageKey","default")]),IY=si(PY),zY=gi,NY=EY,LY=si(NY),HY=gi,FY=kY.concat([ia("tag","textarea"),Fi("scriptId"),Fi("scriptUrl"),ca("settings",void 0)]),BY=kY.concat([ia("tag","textarea"),Vi("init")]),UY=Si((e=>Ti("customeditor.old",ai(BY),e).orThunk((()=>Ti("customeditor.new",ai(FY),e))))),VY=gi,jY=EY,WY=si(jY),ZY=Ci(),$Y=e=>[_k,Hi("columns"),e],qY=[_k,Fi("html"),aa("presets","presentation",["presentation","document"])],GY=si(qY),KY=EY.concat([sa("sandboxed",!0),sa("transparent",!0)]),YY=si(KY),JY=gi,XY=si(kY.concat([Yi("height")])),QY=si([Fi("url"),Ki("zoom"),Ki("cachedWidth"),Ki("cachedHeight")]),eJ=EY.concat([Yi("inputMode"),Yi("placeholder"),sa("maximized",!1),Vk]),tJ=si(eJ),nJ=gi,oJ=e=>[_k,Ck,e],rJ=[Sk,Tk],iJ=[Sk,$i("items",Ri("items",(()=>aJ)))],aJ=ci([si(rJ),si(iJ)]),sJ=EY.concat([$i("items",aJ),Vk]),lJ=si(sJ),cJ=gi,uJ=EY.concat([Zi("items",[Sk,Tk]),ra("size",1),Vk]),dJ=si(uJ),hJ=gi,mJ=EY.concat([sa("constrain",!0),Vk]),pJ=si(mJ),fJ=si([Fi("width"),Fi("height")]),gJ=kY.concat([Ck,ra("min",0),ra("max",0)]),vJ=si(gJ),yJ=fi,bJ=[_k,$i("header",gi),$i("cells",li(gi))],wJ=si(bJ),_J=EY.concat([Yi("placeholder"),sa("maximized",!1),Vk]),xJ=si(_J),CJ=gi,SJ=[Bi("type",["directory","leaf"]),kk,Fi("id"),Gi("menu",XU)],kJ=SJ,EJ=si(kJ),TJ=SJ.concat([$i("children",Ri("children",(()=>xi("type",{directory:MJ,leaf:EJ}))))]),MJ=si(TJ),OJ=xi("type",{directory:MJ,leaf:EJ}),DJ=[_k,$i("items",OJ),Xi("onLeafAction"),Xi("onToggleExpand"),ua("defaultExpandedIds",[],gi),Yi("defaultSelectedId")],AJ=si(DJ),RJ=EY.concat([aa("filetype","file",["image","media","file"]),Vk]),PJ=si(RJ),IJ=si([Tk,Zk]),zJ=e=>Pi("items","items",Ar(),li(Si((t=>Ti(`Checking item of ${e}`,NJ,t).fold((e=>ur.error(Di(e))),(e=>ur.value(e))))))),NJ=ri((()=>xi("type",{alertbanner:_Y,bar:si(xY(zJ("bar"))),button:SY,checkbox:MY,colorinput:IY,colorpicker:LY,dropzone:WY,grid:si($Y(zJ("grid"))),iframe:YY,input:tJ,listbox:lJ,selectbox:dJ,sizeinput:pJ,slider:vJ,textarea:xJ,urlinput:PJ,customeditor:UY,htmlpanel:GY,imagepreview:XY,collection:AY,label:si(oJ(zJ("label"))),table:wJ,tree:AJ,panel:HJ}))),LJ=[_k,na("classes",[]),$i("items",NJ)],HJ=si(LJ),FJ=[Gk("tab"),kk,$i("items",NJ)],BJ=[_k,Zi("tabs",FJ)],UJ=si(BJ),VJ=fY,jJ=bY,WJ=si([Fi("title"),Li("body",xi("type",{panel:HJ,tabpanel:UJ})),ia("size","normal"),$i("buttons",jJ),na("initialData",{}),la("onAction",b),la("onChange",b),la("onSubmit",b),la("onClose",b),la("onCancel",b),la("onTabChange",b)]),ZJ=e=>Ti("dialog",WJ,e),$J=si([Bi("type",["cancel","custom"]),...VJ]),qJ=si([Fi("title"),Fi("url"),Ki("height"),Ki("width"),Qi("buttons",$J),la("onAction",b),la("onCancel",b),la("onClose",b),la("onMessage",b)]),GJ=e=>Ti("dialog",qJ,e),KJ=e=>l(e)?[e].concat(Q(xe(e),KJ)):u(e)?Q(e,KJ):[],YJ=e=>s(e.type)&&s(e.name),JJ={checkbox:OY,colorinput:zY,colorpicker:HY,dropzone:ZY,input:nJ,iframe:JY,imagepreview:QY,selectbox:hJ,sizeinput:fJ,slider:yJ,listbox:cJ,size:fJ,textarea:CJ,urlinput:IJ,customeditor:VY,collection:RY,togglemenuitem:mY},XJ=e=>R.from(JJ[e.type]),QJ=e=>$(KJ(e),YJ),eX=e=>{const t=QJ(e),n=Q(t,(e=>XJ(e).fold((()=>[]),(t=>[Li(e.name,t)]))));return si(n)},tX=e=>{var t;const n=Mi(ZJ(e)),o=eX(e),r=null!==(t=e.initialData)&&void 0!==t?t:{};return{internalDialog:n,dataValidator:o,initialData:r}},nX={open:(e,t)=>{const n=tX(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>{const n=Mi(GJ(t));return e(n)},redial:e=>tX(e)},oX=(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const r=e(n,o);t.set(r)})),e.renderComponents.each((r=>{const i=r(o,t.get()),a=e.reuseDom?e_:Qw;a(n,i)}))};return Ls([Us(ss(),((t,o)=>{const r=o;if(!r.universal){const o=e.channel;H(r.channels,o)&&n(t,r.data)}})),Js(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])};var rX=Object.freeze({__proto__:null,events:oX});const iX=(e,t,n)=>n;var aX=Object.freeze({__proto__:null,getState:iX}),sX=[Ni("channel"),qi("renderComponents"),qi("updateState"),qi("initialData"),sa("reuseDom",!0)];const lX=()=>{const e=ha(R.none()),t=()=>e.set(R.none()),n=()=>e.get().getOr("none");return{readState:n,get:e.get,set:e.set,clear:t}};var cX=Object.freeze({__proto__:null,init:lX});const uX=Fd({fields:sX,name:"reflecting",active:rX,apis:aX,state:cX}),dX=e=>{const t=[],n={};return me(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?ur.error(t):ur.value(n)},hX=(e,t,n)=>{const o=Ux(qI.sketch((o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:V(e.items,(e=>IH(o,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Ld([Xw.config({mode:"acyclic",useTabstopAt:T(Oz)}),rz.memento(o),hz.memento(o,{postprocess:e=>dX(e).fold((e=>(console.error(e),{})),S)})])}},mX=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:W_(e.action),behaviours:Cg(e.tabButtonBehaviours,[C_.config({}),Xw.config({mode:"execution",useSpace:!0,useEnter:!0}),wg.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}),pX=Rv({name:"TabButton",configFields:[na("uid",void 0),Ni("value"),Pi("dom","dom",zr((()=>({attributes:{role:"tab",id:ml("aria"),"aria-selected":"false"}}))),mi()),qi("action"),na("domModification",{}),_g("tabButtonBehaviours",[C_,Xw,wg]),Ni("view")],factory:mX}),fX=C([Ni("tabs"),Ni("dom"),na("clickToDismiss",!1),_g("tabbarBehaviours",[Cy,Xw]),Du(["tabClass","selectedClass"])]),gX=nv({factory:pX,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Cy.dehighlight(e,t),As(e,Ts(),{tabbar:e,button:t})},n=(e,t)=>{Cy.highlight(e,t),As(e,Es(),{tabbar:e,button:t})};return{action:o=>{const r=o.getSystem().getByUid(e.uid).getOrDie(),i=Cy.isHighlighted(r,o),a=(()=>i&&e.clickToDismiss?t:i?b:n)();a(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),vX=C([gX]),yX=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Cg(e.tabbarBehaviours,[Cy.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{en(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{en(t.element,"aria-selected","false")}}),Xw.config({mode:"flow",getInitial:e=>Cy.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])}),bX=Pv({name:"Tabbar",configFields:fX(),partFields:vX(),factory:yX}),wX=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Cg(e.tabviewBehaviours,[h_.config({})]),domModification:{attributes:{role:"tabpanel"}}}),_X=Rv({name:"Tabview",configFields:[_g("tabviewBehaviours",[h_])],factory:wX}),xX=C([na("selectFirst",!0),Ru("onChangeTab"),Ru("onDismissTab"),na("tabs",[]),_g("tabSectionBehaviours",[])]),CX=Qg({factory:bX,schema:[Ni("dom"),Wi("markers",[Ni("tabClass"),Ni("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),SX=Qg({factory:_X,name:"tabview"}),kX=C([CX,SX]),EX=(e,t,n,o)=>{const r=t=>{const n=wg.getValue(t);pv(t,e,"tabview").each((o=>{const r=Y(e.tabs,(e=>e.value===n));r.each((n=>{const r=n.view();on(t.element,"id").each((e=>{en(o.element,"aria-labelledby",e)})),h_.set(o,r),e.onChangeTab(o,t,r)}))}))},i=(t,n)=>{pv(t,e,"tabbar").each((e=>{n(e).each(Rs)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:xg(e.tabSectionBehaviours),events:Ls(X([e.selectFirst?[Js(((e,t)=>{i(e,Cy.getFirst)}))]:[],[Us(Es(),((e,t)=>{const n=t.event.button;r(n)})),Us(Ts(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>pv(t,e,"tabview").map((e=>h_.contents(e))).getOr([]),showTab:(e,t)=>{const n=e=>{const n=Cy.getCandidates(e),o=Y(n,(e=>wg.getValue(e)===t));return o.filter((t=>!Cy.isHighlighted(e,t)))};i(e,n)}}}},TX=Pv({name:"TabSection",configFields:xX(),partFields:kX(),factory:EX,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),MX=(e,t,n)=>V(e,((o,r)=>{h_.set(n,e[r].view());const i=t.dom.getBoundingClientRect();return h_.set(n,[]),i.height})),OX=e=>se(ie(e,((e,t)=>e>t?-1:e<t?1:0))),DX=(e,t,n)=>{const o=Mt(e).dom,r=iu(e,".tox-dialog-wrap").getOr(e),i="fixed"===mn(r,"position");let a;a=i?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const s=xn(t),l=t.dom.offsetLeft>=n.dom.offsetLeft+Pn(n),c=l?Math.max(xn(n),s):s,u=parseInt(mn(e,"margin-top"),10)||0,d=parseInt(mn(e,"margin-bottom"),10)||0,h=xn(e)+u+d,m=h-c;return a-m},AX=(e,t)=>{se(e).each((e=>TX.showTab(t,e.value)))},RX=(e,t)=>{un(e,"height",t+"px"),un(e,"flex-basis",t+"px")},PX=(e,t,n)=>{iu(e,'[role="dialog"]').each((e=>{su(e,'[role="tablist"]').each((o=>{n.get().map((n=>(un(t,"height","0"),un(t,"flex-basis","0"),Math.min(n,DX(e,t,o))))).each((e=>{RX(t,e)}))}))}))},IX=e=>su(e,'[role="tabpanel"]'),zX=e=>{const t=kh(),n=[Js((n=>{const o=n.element;IX(o).each((r=>{un(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((n=>{const o=MX(e,r,n),i=OX(o);i.fold(t.clear,t.set)})),PX(o,r,t),yn(r,"visibility"),AX(e,n),requestAnimationFrame((()=>{PX(o,r,t)}))}))})),Us(ys(),(e=>{const n=e.element;IX(n).each((e=>{PX(n,e,t)}))})),Us(VA,((e,n)=>{const o=e.element;IX(o).each((e=>{const n=Kd(jt(e));un(e,"visibility","hidden");const r=fn(e,"height").map((e=>parseInt(e,10)));yn(e,"height"),yn(e,"flex-basis");const i=e.dom.getBoundingClientRect().height,a=r.forall((e=>i>e));a?(t.set(i),PX(o,e,t)):r.each((t=>{RX(e,t)})),yn(e,"visibility"),n.each($d)}))}))],o=!1;return{extraEvents:n,selectFirst:o}},NX="send-data-to-section",LX="send-data-to-view",HX=(e,t,n)=>{const o=ha({}),r=e=>{const t=wg.getValue(e),n=dX(t).getOr({}),r=o.get(),i=Or(r,n);o.set(i)},i=e=>{const t=o.get();wg.setValue(e,t)},a=ha(null),s=V(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$c(n.shared.providers.translate(e.title))],view:()=>[qI.sketch((o=>({dom:{tag:"div",classes:["tox-form"]},components:V(e.items,(e=>IH(o,e,t,n))),formBehaviours:Ld([Xw.config({mode:"acyclic",useTabstopAt:T(Oz)}),p_("TabView.form.events",[Js(i),Xs(r)]),jd.config({channels:_a([{key:NX,value:{onReceive:r}},{key:LX,value:{onReceive:i}}])})])})))]}))),l=zX(s);return TX.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=wg.getValue(t);As(e,UA,{name:o,oldName:a.get()}),a.set(o)},tabs:s,components:[TX.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[bX.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ld([EA.config({})])}),TX.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Ld([p_("tabpanel",l.extraEvents),Xw.config({mode:"acyclic"}),Hv.config({find:e=>se(TX.getViewItems(e))}),hz.withComp(R.none(),(e=>(e.getSystem().broadcastOn([NX],{}),o.get())),((e,t)=>{o.set(t),e.getSystem().broadcastOn([LX],{})}))])})},FX=ml("update-dialog"),BX=ml("update-title"),UX=ml("update-body"),VX=ml("update-footer"),jX=ml("body-send-message"),WX=(e,t,n,o,r)=>{const i=e=>{const t=e.body;switch(t.type){case"tabpanel":return[HX(t,e.initialData,o)];default:return[hX(t,e.initialData,o)]}},a=(e,t)=>R.some({isTabPanel:()=>"tabpanel"===t.body.type}),s={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...r?s:{}}},components:[],behaviours:Ld([rz.childAt(0),uX.config({channel:`${UX}-${t}`,updateState:a,renderComponents:i,initialData:e})])}},ZX=(e,t,n,o,r)=>WX(e,t,R.some(n),o,r),$X=(e,t,n)=>{const o=WX(e,t,R.none(),n,!1);return dY.parts.body(o)},qX=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Ez({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Ld([EA.config({}),C_.config({})])})]}],behaviours:Ld([Xw.config({mode:"acyclic",useTabstopAt:T(Oz)})])};return dY.parts.body(t)};function GX(e){return GX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GX(e)}function KX(e,t){return KX=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},KX(e,t)}function YX(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JX(e,t,n){return JX=YX()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=Function.bind.apply(e,o),i=new r;return n&&KX(i,n.prototype),i},JX.apply(null,arguments)}function XX(e){return QX(e)||eQ(e)||tQ(e)||oQ()}function QX(e){if(Array.isArray(e))return nQ(e)}function eQ(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function tQ(e,t){if(e){if("string"===typeof e)return nQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nQ(e,t):void 0}}function nQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function oQ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rQ=Object.hasOwnProperty,iQ=Object.setPrototypeOf,aQ=Object.isFrozen,sQ=Object.getPrototypeOf,lQ=Object.getOwnPropertyDescriptor,cQ=Object.freeze,uQ=Object.seal,dQ=Object.create,hQ="undefined"!==typeof Reflect&&Reflect,mQ=hQ.apply,pQ=hQ.construct;mQ||(mQ=function(e,t,n){return e.apply(t,n)}),cQ||(cQ=function(e){return e}),uQ||(uQ=function(e){return e}),pQ||(pQ=function(e,t){return JX(e,XX(t))});var fQ=kQ(Array.prototype.forEach),gQ=kQ(Array.prototype.pop),vQ=kQ(Array.prototype.push),yQ=kQ(String.prototype.toLowerCase),bQ=kQ(String.prototype.match),wQ=kQ(String.prototype.replace),_Q=kQ(String.prototype.indexOf),xQ=kQ(String.prototype.trim),CQ=kQ(RegExp.prototype.test),SQ=EQ(TypeError);function kQ(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return mQ(e,t,o)}}function EQ(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return pQ(e,n)}}function TQ(e,t){iQ&&iQ(e,null);var n=t.length;while(n--){var o=t[n];if("string"===typeof o){var r=yQ(o);r!==o&&(aQ(t)||(t[n]=r),o=r)}e[o]=!0}return e}function MQ(e){var t,n=dQ(null);for(t in e)mQ(rQ,e,[t])&&(n[t]=e[t]);return n}function OQ(e,t){while(null!==e){var n=lQ(e,t);if(n){if(n.get)return kQ(n.get);if("function"===typeof n.value)return kQ(n.value)}e=sQ(e)}function o(e){return console.warn("fallback value for",e),null}return o}var DQ=cQ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),AQ=cQ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RQ=cQ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PQ=cQ(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),IQ=cQ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),zQ=cQ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),NQ=cQ(["#text"]),LQ=cQ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),HQ=cQ(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FQ=cQ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),BQ=cQ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UQ=uQ(/\{\{[\w\W]*|[\w\W]*\}\}/gm),VQ=uQ(/<%[\w\W]*|[\w\W]*%>/gm),jQ=uQ(/^data-[\-\w.\u00B7-\uFFFF]/),WQ=uQ(/^aria-[\-\w]+$/),ZQ=uQ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$Q=uQ(/^(?:\w+script|data):/i),qQ=uQ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),GQ=uQ(/^html$/i),KQ=function(){return"undefined"===typeof window?null:window},YQ=function(e,t){if("object"!==GX(e)||"function"!==typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(i){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function JQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KQ(),t=function(e){return JQ(e)};if(t.version="2.3.8",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,o=e.document,r=e.DocumentFragment,i=e.HTMLTemplateElement,a=e.Node,s=e.Element,l=e.NodeFilter,c=e.NamedNodeMap,u=void 0===c?e.NamedNodeMap||e.MozNamedAttrMap:c,d=e.HTMLFormElement,h=e.DOMParser,m=e.trustedTypes,p=s.prototype,f=OQ(p,"cloneNode"),g=OQ(p,"nextSibling"),v=OQ(p,"childNodes"),y=OQ(p,"parentNode");if("function"===typeof i){var b=o.createElement("template");b.content&&b.content.ownerDocument&&(o=b.content.ownerDocument)}var w=YQ(m,n),_=w?w.createHTML(""):"",x=o,C=x.implementation,S=x.createNodeIterator,k=x.createDocumentFragment,E=x.getElementsByTagName,T=n.importNode,M={};try{M=MQ(o).documentMode?o.documentMode:{}}catch(Ue){}var O={};t.isSupported="function"===typeof y&&C&&"undefined"!==typeof C.createHTMLDocument&&9!==M;var D,A,R=UQ,P=VQ,I=jQ,z=WQ,N=$Q,L=qQ,H=ZQ,F=null,B=TQ({},[].concat(XX(DQ),XX(AQ),XX(RQ),XX(IQ),XX(NQ))),U=null,V=TQ({},[].concat(XX(LQ),XX(HQ),XX(FQ),XX(BQ))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,Z=null,$=!0,q=!0,G=!1,K=!1,Y=!1,J=!1,X=!1,Q=!1,ee=!1,te=!1,ne=!0,oe=!0,re=!1,ie={},ae=null,se=TQ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,ce=TQ({},["audio","video","img","source","image","track"]),ue=null,de=TQ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",fe=pe,ge=!1,ve=["application/xhtml+xml","text/html"],ye="text/html",be=null,we=o.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){be&&be===e||(e&&"object"===GX(e)||(e={}),e=MQ(e),F="ALLOWED_TAGS"in e?TQ({},e.ALLOWED_TAGS):B,U="ALLOWED_ATTR"in e?TQ({},e.ALLOWED_ATTR):V,ue="ADD_URI_SAFE_ATTR"in e?TQ(MQ(de),e.ADD_URI_SAFE_ATTR):de,le="ADD_DATA_URI_TAGS"in e?TQ(MQ(ce),e.ADD_DATA_URI_TAGS):ce,ae="FORBID_CONTENTS"in e?TQ({},e.FORBID_CONTENTS):se,W="FORBID_TAGS"in e?TQ({},e.FORBID_TAGS):{},Z="FORBID_ATTR"in e?TQ({},e.FORBID_ATTR):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,ee=e.RETURN_DOM_FRAGMENT||!1,te=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,fe=e.NAMESPACE||pe,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,A="application/xhtml+xml"===D?function(e){return e}:yQ,K&&(q=!1),ee&&(Q=!0),ie&&(F=TQ({},XX(NQ)),U=[],!0===ie.html&&(TQ(F,DQ),TQ(U,LQ)),!0===ie.svg&&(TQ(F,AQ),TQ(U,HQ),TQ(U,BQ)),!0===ie.svgFilters&&(TQ(F,RQ),TQ(U,HQ),TQ(U,BQ)),!0===ie.mathMl&&(TQ(F,IQ),TQ(U,FQ),TQ(U,BQ))),e.ADD_TAGS&&(F===B&&(F=MQ(F)),TQ(F,e.ADD_TAGS)),e.ADD_ATTR&&(U===V&&(U=MQ(U)),TQ(U,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&TQ(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===se&&(ae=MQ(ae)),TQ(ae,e.FORBID_CONTENTS)),oe&&(F["#text"]=!0),Y&&TQ(F,["html","head","body"]),F.table&&(TQ(F,["tbody"]),delete W.tbody),cQ&&cQ(e),be=e)},Ce=TQ({},["mi","mo","mn","ms","mtext"]),Se=TQ({},["foreignobject","desc","title","annotation-xml"]),ke=TQ({},["title","style","font","a","script"]),Ee=TQ({},AQ);TQ(Ee,RQ),TQ(Ee,PQ);var Te=TQ({},IQ);TQ(Te,zQ);var Me=function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=yQ(e.tagName),o=yQ(t.tagName);return e.namespaceURI===me?t.namespaceURI===pe?"svg"===n:t.namespaceURI===he?"svg"===n&&("annotation-xml"===o||Ce[o]):Boolean(Ee[n]):e.namespaceURI===he?t.namespaceURI===pe?"math"===n:t.namespaceURI===me?"math"===n&&Se[o]:Boolean(Te[n]):e.namespaceURI===pe&&(!(t.namespaceURI===me&&!Se[o])&&(!(t.namespaceURI===he&&!Ce[o])&&(!Te[n]&&(ke[n]||!Ee[n]))))},Oe=function(e){vQ(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Ue){try{e.outerHTML=_}catch(Ue){e.remove()}}},De=function(e,n){try{vQ(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(Ue){vQ(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!U[e])if(Q||ee)try{Oe(n)}catch(Ue){}else try{n.setAttribute(e,"")}catch(Ue){}},Ae=function(e){var t,n;if(X)e="<remove></remove>"+e;else{var r=bQ(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=w?w.createHTML(e):e;if(fe===pe)try{t=(new h).parseFromString(i,D)}catch(Ue){}if(!t||!t.documentElement){t=C.createDocument(fe,"template",null);try{t.documentElement.innerHTML=ge?"":i}catch(Ue){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),fe===pe?E.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Re=function(e){return S.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof d&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof u)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore)},Ie=function(e){return"object"===GX(a)?e instanceof a:e&&"object"===GX(e)&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},ze=function(e,n,o){O[e]&&fQ(O[e],(function(e){e.call(t,n,o,be)}))},Ne=function(e){var n;if(ze("beforeSanitizeElements",e,null),Pe(e))return Oe(e),!0;if(CQ(/[\u0080-\uFFFF]/,e.nodeName))return Oe(e),!0;var o=A(e.nodeName);if(ze("uponSanitizeElement",e,{tagName:o,allowedTags:F}),e.hasChildNodes()&&!Ie(e.firstElementChild)&&(!Ie(e.content)||!Ie(e.content.firstElementChild))&&CQ(/<[/\w]/g,e.innerHTML)&&CQ(/<[/\w]/g,e.textContent))return Oe(e),!0;if("select"===o&&CQ(/<template/i,e.innerHTML))return Oe(e),!0;if(!F[o]||W[o]){if(!W[o]&&He(o)){if(j.tagNameCheck instanceof RegExp&&CQ(j.tagNameCheck,o))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(o))return!1}if(oe&&!ae[o]){var r=y(e)||e.parentNode,i=v(e)||e.childNodes;if(i&&r)for(var a=i.length,l=a-1;l>=0;--l)r.insertBefore(f(i[l],!0),g(e))}return Oe(e),!0}return e instanceof s&&!Me(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o||!CQ(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(n=e.textContent,n=wQ(n,R," "),n=wQ(n,P," "),e.textContent!==n&&(vQ(t.removed,{element:e.cloneNode()}),e.textContent=n)),ze("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Le=function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in o||n in we))return!1;if(q&&!Z[t]&&CQ(I,t));else if($&&CQ(z,t));else if(!U[t]||Z[t]){if(!(He(e)&&(j.tagNameCheck instanceof RegExp&&CQ(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&CQ(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&CQ(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(ue[t]);else if(CQ(H,wQ(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_Q(n,"data:")||!le[e]){if(G&&!CQ(N,wQ(n,L,"")));else if(n)return!1}else;return!0},He=function(e){return e.indexOf("-")>0},Fe=function(e){var t,n,o,r;ze("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};r=i.length;while(r--){t=i[r];var s=t,l=s.name,c=s.namespaceURI;n="value"===l?t.value:xQ(t.value),o=A(l);var u=n;if(a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,ze("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(CQ(/\/>/i,n))De(l,e);else{K&&(n=wQ(n,R," "),n=wQ(n,P," "));var d=A(e.nodeName);if(Le(d,o,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(Ue){De(l,e)}}else De(l,e)}else De(l,e)}ze("afterSanitizeAttributes",e,null)}},Be=function e(t){var n,o=Re(t);ze("beforeSanitizeShadowDOM",t,null);while(n=o.nextNode())ze("uponSanitizeShadowNode",n,null),Ne(n)||(n.content instanceof r&&e(n.content),Fe(n));ze("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(o,i){var s,l,c,u,d;if(ge=!o,ge&&(o="\x3c!--\x3e"),"string"!==typeof o&&!Ie(o)){if("function"!==typeof o.toString)throw SQ("toString is not a function");if(o=o.toString(),"string"!==typeof o)throw SQ("dirty is not a string, aborting")}if(!t.isSupported){if("object"===GX(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof o)return e.toStaticHTML(o);if(Ie(o))return e.toStaticHTML(o.outerHTML)}return o}if(J||xe(i),t.removed=[],"string"===typeof o&&(re=!1),re){if(o.nodeName){var h=A(o.nodeName);if(!F[h]||W[h])throw SQ("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof a)s=Ae("\x3c!----\x3e"),l=s.ownerDocument.importNode(o,!0),1===l.nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Q&&!K&&!Y&&-1===o.indexOf("<"))return w&&te?w.createHTML(o):o;if(s=Ae(o),!s)return Q?null:te?_:""}s&&X&&Oe(s.firstChild);var m=Re(re?o:s);while(c=m.nextNode())3===c.nodeType&&c===u||Ne(c)||(c.content instanceof r&&Be(c.content),Fe(c),u=c);if(u=null,re)return o;if(Q){if(ee){d=k.call(s.ownerDocument);while(s.firstChild)d.appendChild(s.firstChild)}else d=s;return U.shadowroot&&(d=T.call(n,d,!0)),d}var p=Y?s.outerHTML:s.innerHTML;return Y&&F["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&CQ(GQ,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),K&&(p=wQ(p,R," "),p=wQ(p,P," ")),w&&te?w.createHTML(p):p},t.setConfig=function(e){xe(e),J=!0},t.clearConfig=function(){be=null,J=!1},t.isValidAttribute=function(e,t,n){be||xe({});var o=A(e),r=A(t);return Le(o,r,n)},t.addHook=function(e,t){"function"===typeof t&&(O[e]=O[e]||[],vQ(O[e],t))},t.removeHook=function(e){if(O[e])return gQ(O[e])},t.removeHooks=function(e){O[e]&&(O[e]=[])},t.removeAllHooks=function(){O={}},t}var XQ=JQ();const QQ=e=>XQ().sanitize(e),e0=cC.deviceType.isTouch(),t0=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),n0=(e,t)=>dY.parts.close(Bx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Ld([EA.config({})])})),o0=()=>dY.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),r0=(e,t)=>dY.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:NV(`<p>${QQ(t.translate(e))}</p>`)}]}]}),i0=e=>dY.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),a0=(e,t)=>[gA.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),gA.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],s0=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",r=t+"__disable-scroll";return dY.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),R.some(!0)),useTabstopAt:e=>!Oz(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:NV(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:e0?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:Ld([C_.config({}),p_("dialog-events",e.dialogEvents.concat([Ys(Za(),((e,t)=>{Xw.focusIn(e)}))])),p_("scroll-lock",[Js((()=>{fc(Jt(),r)})),Xs((()=>{vc(Jt(),r)}))]),...e.extraBehaviours]),eventOrder:{[ls()]:["dialog-events"],[bs()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ws()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},l0=e=>Bx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Ld([EA.config({})]),components:[Qx("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{Ds(e,NA)}}),c0=(e,t,n,o)=>{const r=e=>[$c(o.translate(e.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Ld([uX.config({channel:`${BX}-${t}`,initialData:e,renderComponents:r})])}},u0=()=>({dom:NV('<div class="tox-dialog__draghandle"></div>')}),d0=(e,t,n,o)=>gA.sketch({dom:NV('<div class="tox-dialog__header"></div>'),components:[c0(e,t,R.some(n),o),u0(),l0(o)],containerBehaviours:Ld([BK.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>lu(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),h0=(e,t,n)=>{const o=dY.parts.title(c0(e,t,R.none(),n)),r=dY.parts.draghandle(u0()),i=dY.parts.close(l0(n)),a=[o].concat(e.draggable?[r]:[]).concat([i]);return gA.sketch({dom:NV('<div class="tox-dialog__header"></div>'),components:a})},m0=(e,t,n)=>h0({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),p0=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:NV('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),f0=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{dY.setBusy(e(),((e,o)=>p0(n.message,o,t)))},onUnblock:()=>{dY.setIdle(e())}}),g0=(e,t,n,o)=>{const r=(e,t)=>R.some(t);return Jc(s0({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[uX.config({channel:`${FX}-${e.id}`,updateState:r,initialData:t}),hz.memory({}),...e.extraBehaviours],onEscape:e=>{Ds(e,NA)},dialogEvents:n,eventOrder:{[ss()]:[uX.name(),jd.name()],[bs()]:["scroll-lock",uX.name(),"messages","dialog-events","alloy.base.behaviour"],[ws()]:["alloy.base.behaviour","dialog-events","messages",uX.name(),"scroll-lock"]}}))},v0=(e,t={})=>{const n=e=>{const n=V(e.items,(e=>{const n=Ce(t,e.name).getOr(ha(!1));return{...e,storage:n}}));return{...e,items:n}};return V(e,(e=>"menu"===e.type?n(e):e))},y0=e=>G(e,((e,t)=>{if("menu"===t.type){const n=t;return G(n.items,((e,t)=>(e[t.name]=t.storage,e)),e)}return e}),{}),b0=(e,t)=>[qs(Za(),Mz),e(zA,((e,n,o,r)=>{Kd(jt(r.element)).fold(b,qd),t.onClose(),n.onClose()})),e(NA,((e,t,n,o)=>{t.onCancel(e),Ds(o,zA)})),Us(BA,((e,n)=>t.onUnblock())),Us(FA,((e,n)=>t.onBlock(n.event)))],w0=(e,t)=>{const n=(t,n)=>Us(t,((t,r)=>{o(t,((o,i)=>{n(e(),o,r.event,t)}))})),o=(e,t)=>{uX.getState(e).get().each((n=>{t(n,e)}))};return[...b0(n,t),n(LA,((e,t,n)=>{t.onAction(e,{name:n.name})}))]},_0=(e,t,n)=>{const o=(t,n)=>Us(t,((t,o)=>{r(t,((r,i)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{uX.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...b0(o,t),o(HA,((e,t)=>t.onSubmit(e))),o(IA,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(LA,((e,t,o,r)=>{const i=()=>Xw.focusIn(r),a=e=>rn(e,"disabled")||on(e,"aria-disabled").exists((e=>"true"===e)),s=jt(r.element),l=Kd(s);t.onAction(e,{name:o.name,value:o.value}),Kd(s).fold(i,(e=>{a(e)||l.exists((t=>kt(e,t)&&a(t)))?i():n().toOptional().filter((t=>!kt(t.element,e))).each(i)}))})),o(UA,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Xs((t=>{const n=e();wg.setValue(t,n.getData())}))]},x0={initUrlDialog:w0,initDialog:_0},C0=(e,t)=>sH(e,e.type,t),S0=(e,t,n)=>Y(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))),k0=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=Z(n,(e=>"start"===e.align)),r=(e,t)=>gA.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:V(t,(e=>e.memento.asSpec()))}),i=r("start",o.pass),a=r("end",o.fail);return[i,a]},E0=(e,t,n)=>{const o=(e,t)=>{const o=V(t.buttons,(e=>{const t=Ux(C0(e,n));return{name:e.name,align:e.align,memento:t}})),r=t=>S0(e,o,t);return R.some({lookupByName:r,footerButtons:o})};return{dom:NV('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ld([uX.config({channel:`${VX}-${t}`,initialData:e,updateState:o,renderComponents:k0})])}},T0=(e,t,n)=>E0(e,t,n),M0=(e,t,n)=>dY.parts.footer(E0(e,t,n)),O0=(e,t)=>{const n=e.getRoot();if(n.getSystem().isConnected()){const n=Hv.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return qI.getField(n,t).orThunk((()=>{const n=e.getFooter(),o=uX.getState(n).get();return o.bind((e=>e.lookupByName(t)))}))}return R.none()},D0=(e,t)=>{const n=e.getRoot();return uX.getState(n).get().map((e=>Mi(Ti("data",e.dataValidator,t)))).getOr(t)},A0=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},r=()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t,r=wg.getValue(o),i=pe(n,(e=>e.get()));return{...r,...i}},i=t=>{o((o=>{const r=p.getData(),i=Or(r,t),a=D0(e,i),s=e.getFormWrapper();wg.setValue(s,a),me(n,((e,t)=>{Se(i,t)&&e.set(i[t])}))}))},a=(t,n)=>{O0(e,t).each(n?oy.enable:oy.disable)},l=t=>{O0(e,t).each(C_.focus)},c=e=>{if(!s(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{As(t,FA,{message:e})}))},u=()=>{o((e=>{Ds(e,BA)}))},d=t=>{o((n=>{const o=e.getBody(),r=uX.getState(o);r.get().exists((e=>e.isTabPanel()))&&Hv.getCurrent(o).each((e=>{TX.showTab(e,t)}))}))},h=r=>{o((o=>{const i=e.getId(),a=t(r),s=v0(a.internalDialog.buttons,n);o.getSystem().broadcastOn([`${FX}-${i}`],a),o.getSystem().broadcastOn([`${BX}-${i}`],a.internalDialog),o.getSystem().broadcastOn([`${UX}-${i}`],a.internalDialog),o.getSystem().broadcastOn([`${VX}-${i}`],{...a.internalDialog,buttons:s}),p.setData(a.initialData)}))},m=()=>{o((e=>{Ds(e,zA)}))},p={getData:r,setData:i,setEnabled:a,focus:l,block:c,unblock:u,showTab:d,redial:h,close:m,toggleFullscreen:e.toggleFullscreen};return p},R0=e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},P0=(e,t,n)=>{const o=ml("dialog"),r=e.internalDialog,i=m0(r.title,o,n),a=$X({body:r.body,initialData:r.initialData},o,n),s=v0(r.buttons),l=y0(s),c=M0({buttons:s},o,n),u=x0.initDialog((()=>f),f0((()=>m),n.shared.providers,t),n.shared.getSink),d=R0(r.size),h={id:o,header:i,body:a,footer:R.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},m=g0(h,e,u,n),p=(()=>{const e=()=>{const e=dY.getBody(m);return Hv.getCurrent(e).getOr(e)},t=()=>{const e="tox-dialog--fullscreen",t=Xe.fromDom(m.element.dom);yc(t,e)?(vc(t,e),bc(t,d)):(wc(t,d),fc(t,e))};return{getId:C(o),getRoot:C(m),getBody:()=>dY.getBody(m),getFooter:()=>dY.getFooter(m),getFormWrapper:e,toggleFullscreen:t}})(),f=A0(p,t.redial,l);return{dialog:m,instanceApi:f}},I0=(e,t,n,o)=>{const r=ml("dialog"),i=ml("dialog-label"),a=ml("dialog-content"),s=e.internalDialog,l=(e,t)=>R.some(t),c=Ux(d0({title:s.title,draggable:!0},r,i,n.shared.providers)),u=Ux(ZX({body:s.body,initialData:s.initialData},r,a,n,o)),d=v0(s.buttons),h=y0(d),m=Ux(T0({buttons:d},r,n)),p=x0.initDialog((()=>y),{onBlock:e=>{PV.block(g,((t,o)=>p0(e.message,o,n.shared.providers)))},onUnblock:()=>{PV.unblock(g)},onClose:()=>t.closeWindow()},n.shared.getSink),f="tox-dialog-inline",g=Jc({dom:{tag:"div",classes:["tox-dialog",f],attributes:{role:"dialog",["aria-labelledby"]:i}},eventOrder:{[ss()]:[uX.name(),jd.name()],[ls()]:["execute-on-form"],[bs()]:["reflecting","execute-on-form"]},behaviours:Ld([Xw.config({mode:"cyclic",onEscape:e=>(Ds(e,zA),R.some(!0)),useTabstopAt:e=>!Oz(e)&&("button"!==dt(e)||"disabled"!==nn(e,"disabled")),firstTabstop:1}),uX.config({channel:`${FX}-${r}`,updateState:l,initialData:e}),C_.config({}),p_("execute-on-form",p.concat([Ys(Za(),((e,t)=>{Xw.focusIn(e)}))])),PV.config({getRoot:()=>R.some(g)}),h_.config({}),hz.memory({})]),components:[c.asSpec(),u.asSpec(),m.asSpec()]}),v=()=>{const e="tox-dialog--fullscreen",t=Xe.fromDom(g.element.dom);_c(t,[e])?(wc(t,[e]),bc(t,[f])):(wc(t,[f]),bc(t,[e]))},y=A0({getId:C(r),getRoot:C(g),getFooter:()=>m.get(g),getBody:()=>u.get(g),getFormWrapper:()=>{const e=u.get(g);return Hv.getCurrent(e).getOr(e)},toggleFullscreen:v},t.redial,h);return{dialog:g,instanceApi:y}};var z0=tinymce.util.Tools.resolve("tinymce.util.URI");const N0=e=>{const t=t=>{e.getSystem().isConnected()&&t(e)},n=e=>{if(!s(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{As(t,FA,{message:e})}))},o=()=>{t((e=>{Ds(e,BA)}))},r=()=>{t((e=>{Ds(e,zA)}))},i=e=>{t((t=>{t.getSystem().broadcastOn([jX],e)}))};return{block:n,unblock:o,close:r,sendMessage:i}},L0=["insertContent","setContent","execCommand","close","block","unblock"],H0=e=>l(e)&&-1!==L0.indexOf(e.mceAction),F0=e=>!H0(e)&&l(e)&&Se(e,"mceAction"),B0=(e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!h(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},U0=(e,t,n,o)=>{const r=ml("dialog"),i=m0(e.title,r,o),a=qX(e),s=e.buttons.bind((e=>0===e.length?R.none():R.some(M0({buttons:e},r,o)))),l=x0.initUrlDialog((()=>y),f0((()=>v),o.shared.providers,t)),c={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},u=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new z0(e.url,{base_uri:new z0(window.location.href)}),h=`${d.protocol}://${d.host}${d.port?":"+d.port:""}`,m=Sh(),p=[p_("messages",[Js((()=>{const t=Th(Xe.fromDom(window),"message",(t=>{if(d.isSameOrigin(new z0(t.raw.origin))){const o=t.raw.data;H0(o)?B0(n,y,o):F0(o)&&e.onMessage(y,o)}}));m.set(t)})),Xs(m.clear)]),jd.config({channels:{[jX]:{onReceive:(e,t)=>{su(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;f(n)&&n.postMessage(t,h)}))}}}})],g={id:r,header:i,body:a,footer:s,extraClasses:u,extraBehaviours:p,extraStyles:c},v=g0(g,e,l,o),y=N0(v);return{dialog:v,instanceApi:y}},V0=e=>{const t=e.shared,n=(n,o)=>{const r=()=>{dY.hide(l),o()},i=Ux(sH({name:"close-alert",text:"OK",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"cancel",e)),a=o0(),s=n0(r,t.providers),l=Jc(s0({lazySink:()=>t.getSink(),header:t0(a,s),body:r0(n,t.providers),footer:R.some(i0(a0([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Us(NA,r)],eventOrder:{}}));dY.show(l);const c=i.get(l);C_.focus(c)};return{open:n}},j0=e=>{const t=e.shared,n=(n,o)=>{const r=e=>{dY.hide(c),o(e)},i=Ux(sH({name:"yes",text:"Yes",primary:!0,buttonType:R.some("primary"),align:"end",enabled:!0,icon:R.none()},"submit",e)),a=sH({name:"no",text:"No",primary:!1,buttonType:R.some("secondary"),align:"end",enabled:!0,icon:R.none()},"cancel",e),s=o0(),l=n0((()=>r(!1)),t.providers),c=Jc(s0({lazySink:()=>t.getSink(),header:t0(s,l),body:r0(n,t.providers),footer:R.some(i0(a0([],[a,i.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Us(NA,(()=>r(!1))),Us(HA,(()=>r(!0)))],eventOrder:{}}));dY.show(c);const u=i.get(c);C_.focus(u)};return{open:n}},W0=(e,t)=>Mi(Ti("data",t,e)),Z0=e=>$D(e,".tox-alert-dialog")||$D(e,".tox-confirm-dialog"),$0=(e,t,n)=>t&&n?[]:[AU.config({contextual:{lazyContext:()=>R.some(tr(Xe.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>{const n=WD(e,t.element);return n.map((e=>{const t=ZD(e);return{bounds:t,optScrollEnv:R.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:On(e.element).top})}})).getOrThunk((()=>({bounds:ir(),optScrollEnv:R.none()})))}})],q0=e=>{const t=e.editor,n=sS(t),o=V0(e.backstages.dialog),r=j0(e.backstages.dialog),i=(t,n,o)=>void 0!==n&&"toolbar"===n.inline?c(t,e.backstages.popup.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?c(t,e.backstages.popup.shared.anchors.cursor(),o,n.ariaAttrs):l(t,o),a=(e,t)=>s(e,t),s=(n,o)=>{const r=n=>{const r=U0(n,{closeWindow:()=>{dY.hide(r.dialog),o(r.instanceApi)}},t,e.backstages.dialog);return dY.show(r.dialog),r.instanceApi};return nX.openUrl(r,n)},l=(t,n)=>{const o=(t,o,r)=>{const i=o,a={dataValidator:r,initialData:i,internalDialog:t},s=P0(a,{redial:nX.redial,closeWindow:()=>{dY.hide(s.dialog),n(s.instanceApi)}},e.backstages.dialog);return dY.show(s.dialog),s.instanceApi.setData(i),s.instanceApi};return nX.open(o,t)},c=(o,r,i,a=!1)=>{const s=(o,s,l)=>{const c=W0(s,l),u=kh(),d=e.backstages.popup.shared.header.isPositionedAtTop(),h={dataValidator:l,initialData:c,internalDialog:o},m=()=>u.on((e=>{Lx.reposition(e),AU.refresh(e)})),p=I0(h,{redial:nX.redial,closeWindow:()=>{u.on(Lx.hide),t.off("ResizeEditor",m),u.clear(),i(p.instanceApi)}},e.backstages.popup,a),f=Jc(Lx.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ld([p_("window-manager-inline-events",[Us(_s(),((e,t)=>{Ds(p.dialog,NA)}))]),...$0(t,n,d)]),isExtraPart:(e,t)=>Z0(t)}));u.set(f);const g=()=>{const e=t.inline?Jt():Xe.fromDom(t.getContainer()),n=tr(e);return R.some(n)};return Lx.showWithinBounds(f,Xc(p.dialog),{anchor:r},g),n&&d||(AU.refresh(f),t.on("ResizeEditor",m)),p.instanceApi.setData(c),Xw.focusIn(p.dialog),p.instanceApi};return nX.open(s,o)},u=(e,t)=>{r.open(e,t)},d=(e,t)=>{o.open(e,t)},h=e=>{e.close()};return{open:i,openUrl:a,alert:d,close:h,confirm:u}},G0=e=>{hC(e),qM(e),Gq(e)};var K0=()=>{ar.add("silver",(e=>{G0(e);let t=()=>ir();const{dialogs:n,popups:o,renderUI:r}=iY(e,{getPopupSinkBounds:()=>t()}),i=async()=>{const n=await r(),i=WD(e,o.getMothership().element);return i.each((e=>{t=()=>ZD(e)})),n};BD.register(e,o.backstage.shared);const a=q0({editor:e,backstages:{popup:o.backstage,dialog:n.backstage}}),s=()=>aC(e,{backstage:o.backstage},o.getMothership());return{renderUI:i,getWindowManagerImpl:C(a),getNotificationManagerImpl:s}}))};K0()}()},9453:function(e,t,n){n(7658),function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,i=n("string"),a=n("object"),s=n=>((n,o)=>a(n)&&t(n,o,((t,n)=>e(t)===n)))(n,Object),l=n("array"),c=r(null),u=o("boolean"),d=r(void 0),h=e=>null==e,m=e=>!h(e),p=o("function"),f=o("number"),g=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{},y=e=>()=>e(),b=(e,t)=>(...n)=>e(t.apply(null,n)),w=e=>()=>e,_=e=>e,x=(e,t)=>e===t;function C(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const S=e=>t=>!e(t),k=e=>()=>{throw new Error(e)},E=e=>e(),T=w(!1),M=w(!0);class O{constructor(e,t){this.tag=e,this.value=t}static some(e){return new O(!0,e)}static none(){return O.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?O.some(e(this.value)):O.none()}bind(e){return this.tag?e(this.value):O.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:O.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?O.some(e):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const D=Array.prototype.slice,A=Array.prototype.indexOf,R=Array.prototype.push,P=(e,t)=>A.call(e,t),I=(e,t)=>{const n=P(e,t);return-1===n?O.none():O.some(n)},z=(e,t)=>P(e,t)>-1,N=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},L=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},H=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const r=D.call(e,o,o+t);n.push(r)}return n},F=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},B=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},U=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];(t(i,r)?n:o).push(i)}return{pass:n,fail:o}},V=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},j=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),W=(e,t,n)=>(B(e,((e,o)=>{n=t(n,e,o)})),n),Z=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return O.some(r);if(n(r,o))break}return O.none()})(e,t,T),$=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return O.some(n);return O.none()},q=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},G=(e,t)=>q(F(e,t)),K=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},Y=e=>{const t=D.call(e,0);return t.reverse(),t},J=(e,t)=>V(e,(e=>!z(t,e))),X=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},Q=e=>[e],ee=(e,t)=>{const n=D.call(e,0);return n.sort(t),n},te=(e,t)=>t>=0&&t<e.length?O.some(e[t]):O.none(),ne=e=>te(e,0),oe=e=>te(e,e.length-1),re=p(Array.from)?Array.from:e=>D.call(e),ie=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return O.none()},ae=Object.keys,se=Object.hasOwnProperty,le=(e,t)=>{const n=ae(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},ce=(e,t)=>ue(e,((e,n)=>({k:n,v:t(e,n)}))),ue=(e,t)=>{const n={};return le(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},de=e=>(t,n)=>{e[n]=t},he=(e,t,n,o)=>{le(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},me=(e,t)=>{const n={};return he(e,t,de(n),v),n},pe=(e,t)=>{const n=[];return le(e,((e,o)=>{n.push(t(e,o))})),n},fe=(e,t)=>{const n=ae(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];if(t(i,r,e))return O.some(i)}return O.none()},ge=e=>pe(e,_),ve=(e,t)=>ye(e,t)?O.from(e[t]):O.none(),ye=(e,t)=>se.call(e,t),be=(e,t)=>ye(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,n=x)=>e.exists((e=>n(e,t))),_e=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},xe=(e,t,n)=>e.isSome()&&t.isSome()?O.some(n(e.getOrDie(),t.getOrDie())):O.none(),Ce=(e,t)=>null!=e?O.some(t(e)):O.none(),Se=(e,t)=>e?O.some(t):O.none(),ke=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Ee=(e,t)=>Me(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Te=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!d(o)||r+t.length<=o)},Me=(e,t)=>ke(e,t,0),Oe=(e,t)=>ke(e,t,e.length-t.length),De=(On=/^\s+|\s+$/g,e=>e.replace(On,"")),Ae=e=>e.length>0,Re=e=>void 0!==e.style&&p(e.style.getPropertyValue),Pe=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ie=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Pe(n.childNodes[0])},ze=(e,t)=>{const n=(t||document).createElement(e);return Pe(n)},Ne=(e,t)=>{const n=(t||document).createTextNode(e);return Pe(n)},Le=Pe,He="undefined"!=typeof window?window:Function("return this;")(),Fe=(e,t)=>((e,t)=>{let n=null!=t?t:He;for(let o=0;o<e.length&&null!=n;++o)n=n[e[o]];return n})(e.split("."),t),Be=Object.getPrototypeOf,Ue=e=>{const t=Fe("ownerDocument.defaultView",e);return a(e)&&((e=>((e,t)=>{const n=((e,t)=>Fe(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Be(e).constructor.name))},Ve=e=>e.dom.nodeName.toLowerCase(),je=e=>t=>(e=>e.dom.nodeType)(t)===e,We=e=>Ze(e)&&Ue(e.dom),Ze=je(1),$e=je(3),qe=je(9),Ge=je(11),Ke=e=>t=>Ze(t)&&Ve(t)===e,Ye=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Je=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Xe=(e,t)=>e.dom===t.dom,Qe=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},et=e=>Le(e.dom.ownerDocument),tt=e=>qe(e)?e:et(e),nt=e=>Le(tt(e).dom.documentElement),ot=e=>Le(tt(e).dom.defaultView),rt=e=>O.from(e.dom.parentNode).map(Le),it=e=>O.from(e.dom.parentElement).map(Le),at=e=>O.from(e.dom.offsetParent).map(Le),st=e=>F(e.dom.childNodes,Le),lt=(e,t)=>{const n=e.dom.childNodes;return O.from(n[t]).map(Le)},ct=e=>lt(e,0),ut=(e,t)=>({element:e,offset:t}),dt=(e,t)=>{const n=st(e);return n.length>0&&t<n.length?ut(n[t],0):ut(e,t)},ht=e=>Ge(e)&&m(e.dom.host),mt=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),pt=w(mt),ft=mt?e=>Le(e.dom.getRootNode()):tt,gt=e=>ht(e)?e:Le(tt(e).dom.body),vt=e=>{const t=ft(e);return ht(t)?O.some(t):O.none()},yt=e=>Le(e.dom.host),bt=e=>{const t=$e(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return vt(Le(t)).fold((()=>n.body.contains(t)),(o=bt,r=yt,e=>o(r(e))));var o,r},wt=()=>_t(Le(document)),_t=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Le(t)},xt=(e,t,n)=>{if(!(i(n)||u(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ct=(e,t,n)=>{xt(e.dom,t,n)},St=(e,t)=>{const n=e.dom;le(t,((e,t)=>{xt(n,t,e)}))},kt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Et=(e,t)=>O.from(kt(e,t)),Tt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Mt=(e,t)=>{e.dom.removeAttribute(t)},Ot=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Re(e)&&e.style.setProperty(t,n)},Dt=(e,t)=>{Re(e)&&e.style.removeProperty(t)},At=(e,t,n)=>{const o=e.dom;Ot(o,t,n)},Rt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Ot(n,t,e)}))},Pt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{e.fold((()=>{Dt(n,t)}),(e=>{Ot(n,t,e)}))}))},It=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||bt(e)?o:zt(n,t)},zt=(e,t)=>Re(e)?e.style.getPropertyValue(t):"",Nt=(e,t)=>{const n=e.dom,o=zt(n,t);return O.from(o).filter((e=>e.length>0))},Lt=e=>{const t={},n=e.dom;if(Re(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},Ht=(e,t,n)=>{const o=ze(e);return At(o,t,n),Nt(o,t).isSome()},Ft=(e,t)=>{const n=e.dom;Dt(n,t),we(Et(e,"style").map(De),"")&&Mt(e,"style")},Bt=e=>e.dom.offsetWidth,Ut=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=It(n,e);return parseFloat(t)||0}return o},o=(e,t)=>W(t,((t,n)=>{const o=It(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Re(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Vt=Ut("height",(e=>{const t=e.dom;return bt(e)?t.getBoundingClientRect().height:t.offsetHeight})),jt=e=>Vt.get(e),Wt=e=>Vt.getOuter(e),Zt=(e,t)=>({left:e,top:t,translate:(n,o)=>Zt(e+n,t+o)}),$t=Zt,qt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Gt=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return $t(n.offsetLeft,n.offsetTop);const i=qt(null==o?void 0:o.pageYOffset,r.scrollTop),a=qt(null==o?void 0:o.pageXOffset,r.scrollLeft),s=qt(r.clientTop,n.clientTop),l=qt(r.clientLeft,n.clientLeft);return Kt(e).translate(a-l,i-s)},Kt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?$t(n.offsetLeft,n.offsetTop):bt(e)?(e=>{const t=e.getBoundingClientRect();return $t(t.left,t.top)})(t):$t(0,0)},Yt=Ut("width",(e=>e.dom.offsetWidth)),Jt=e=>Yt.get(e),Xt=e=>Yt.getOuter(e),Qt=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},en=()=>tn(0,0),tn=(e,t)=>({major:e,minor:t}),nn={nu:tn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?en():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return tn(o(1),o(2))})(e,n)},unknown:en},on=(e,t)=>{const n=String(t).toLowerCase();return Z(e,(e=>e.search(n)))},rn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>Te(t,e),sn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Te(e,"edge/")&&Te(e,"chrome")&&Te(e,"safari")&&Te(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rn],search:e=>Te(e,"chrome")&&!Te(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Te(e,"msie")||Te(e,"trident")},{name:"Opera",versionRegexes:[rn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[rn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Te(e,"safari")||Te(e,"mobile/"))&&Te(e,"applewebkit")}],ln=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Te(e,"iphone")||Te(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:w(sn),oses:w(ln)},un="Edge",dn="Chromium",hn="Opera",mn="Firefox",pn="Safari",fn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(un),isChromium:o(dn),isIE:o("IE"),isOpera:o(hn),isFirefox:o(mn),isSafari:o(pn)}},gn=()=>fn({current:void 0,version:nn.unknown()}),vn=fn,yn=(w(un),w(dn),w("IE"),w(hn),w(mn),w(pn),"Windows"),bn="Android",wn="Linux",_n="macOS",xn="Solaris",Cn="FreeBSD",Sn="ChromeOS",kn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(yn),isiOS:o("iOS"),isAndroid:o(bn),isMacOS:o(_n),isLinux:o(wn),isSolaris:o(xn),isFreeBSD:o(Cn),isChromeOS:o(Sn)}},En=()=>kn({current:void 0,version:nn.unknown()}),Tn=kn,Mn=(w(yn),w("iOS"),w(bn),w(wn),w(_n),w(xn),w(Cn),w(Sn),e=>window.matchMedia(e).matches);var On;let Dn=Qt((()=>((e,t,n)=>{const o=cn.browsers(),r=cn.oses(),i=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const n=t.brand.toLowerCase();return Z(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:nn.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>on(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(gn,vn),a=((e,t)=>on(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(En,Tn),s=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),l=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:w(r),isiPhone:w(i),isTablet:w(l),isPhone:w(c),isTouch:w(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(u),isDesktop:w(d)}})(a,i,e,n);return{browser:i,os:a,deviceType:s}})(navigator.userAgent,O.from(navigator.userAgentData),Mn)));const An=()=>Dn(),Rn=e=>{const t=Le((e=>{if(pt()&&m(e.target)){const t=Le(e.target);if(Ze(t)&&(e=>m(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ne(t)}}return O.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=b(o,n);return((e,t,n,o,r,i,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}))(t,e.clientX,e.clientY,n,o,r,e)},Pn=(e,t,n,o,r)=>{const i=((e,t)=>n=>{e(n)&&t(Rn(n))})(n,o);return e.dom.addEventListener(t,i,r),{unbind:C(In,e,t,i,r)}},In=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},zn=(e,t)=>{rt(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Nn=(e,t)=>{const n=(e=>O.from(e.dom.nextSibling).map(Le))(e);n.fold((()=>{rt(e).each((e=>{Hn(e,t)}))}),(e=>{zn(e,t)}))},Ln=(e,t)=>{ct(e).fold((()=>{Hn(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Hn=(e,t)=>{e.dom.appendChild(t.dom)},Fn=(e,t)=>{B(t,(t=>{Hn(e,t)}))},Bn=e=>{e.dom.textContent="",B(st(e),(e=>{Un(e)}))},Un=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Vn=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return $t(n,o)},jn=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},Wn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Zn=e=>{const t=void 0===e?window:e,n=t.document,o=Vn(Le(n));return(e=>{const t=void 0===e?window:e;return An().browser.isFirefox()?O.none():O.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Wn(o.left,o.top,n,r)}),(e=>Wn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},$n=()=>Le(document),qn=(e,t)=>e.view(t).fold(w([]),(t=>{const n=e.owner(t),o=qn(e,n);return[t].concat(o)}));var Gn=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?O.none():O.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Le)},owner:e=>et(e)});const Kn=e=>{const t=$n(),n=Vn(t),o=((e,t)=>{const n=t.owner(e),o=qn(t,n);return O.some(o)})(e,Gn);return o.fold(C(Gt,e),(t=>{const o=Kt(e),r=j(t,((e,t)=>{const n=Kt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return $t(r.left+o.left+n.left,r.top+o.top+n.top)}))},Yn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Jn=e=>{const t=Gt(e),n=Xt(e),o=Wt(e);return Yn(t.left,t.top,n,o)},Xn=e=>{const t=Kn(e),n=Xt(e),o=Wt(e);return Yn(t.left,t.top,n,o)},Qn=(e,t)=>{const n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),r=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom);return Yn(n,o,r-n,i-o)},eo=()=>Zn(window);var to=tinymce.util.Tools.resolve("tinymce.ThemeManager");const no=e=>{const t=t=>t(e),n=w(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:M,isError:T,map:t=>ro.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>O.some(e)};return r},oo=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:T,isError:M,map:t,mapError:t=>ro.error(t(e)),bind:t,exists:T,forall:M,getOr:_,or:_,getOrThunk:E,orThunk:E,getOrDie:k(String(e)),each:v,toOptional:O.none};return n},ro={value:no,error:oo,fromOption:(e,t)=>e.fold((()=>oo(t)),no)};var io;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(io||(io={}));const ao=(e,t,n)=>e.stype===io.Error?t(e.serror):n(e.svalue),so=e=>({stype:io.Value,svalue:e}),lo=e=>({stype:io.Error,serror:e}),co=so,uo=lo,ho=ao,mo=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),po=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},fo=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)ye(r,t)&&(n[t]=e(n[t],r[t]))}return n},go=fo(((e,t)=>s(e)&&s(t)?go(e,t):t)),vo=fo(((e,t)=>t)),yo=e=>({tag:"defaultedThunk",process:e}),bo=e=>yo(w(e)),wo=e=>({tag:"mergeWithThunk",process:e}),_o=e=>{const t=(e=>{const t=[],n=[];return B(e,(e=>{ao(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,b(uo,q)(n)):co(t.values);var n},xo=e=>a(e)&&ae(e).length>100?" removed due to size":JSON.stringify(e,null,2),Co=(e,t)=>uo([{path:e,getErrorInfo:t}]),So=e=>({extract:(t,n)=>((e,t)=>e.stype===io.Error?t(e.serror):e)(e(n),(e=>((e,t)=>Co(e,w(t)))(t,e))),toString:w("val")}),ko=So(co),Eo=(e,t,n,o)=>o(ve(e,t).getOrThunk((()=>n(e)))),To=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),a=e=>e.fold((()=>co(O.none())),(e=>((e,t)=>e.stype===io.Value?{stype:io.Value,svalue:t(e.svalue)}:e)(r.extract(t.concat([o]),e),O.some)));switch(e.tag){case"required":return((e,t,n,o)=>ve(t,n).fold((()=>((e,t,n)=>Co(e,(()=>'Could not find valid *required* value for "'+t+'" in '+xo(n))))(e,n,t)),o))(t,n,o,i);case"defaultedThunk":return Eo(n,o,e.process,i);case"option":return((e,t,n)=>n(ve(e,t)))(n,o,a);case"defaultedOptionThunk":return((e,t,n,o)=>o(ve(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,a);case"mergeWithThunk":return Eo(n,o,w({}),(t=>{const o=go(e.process(n),t);return i(o)}))}},Mo=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),Oo=e=>ae(me(e,m)),Do=e=>{const t=Ao(e),n=j(e,((e,t)=>po(t,(t=>go(e,{[t]:!0})),w(e))),{});return{extract:(e,o)=>{const r=u(o)?[]:Oo(o),i=V(r,(e=>!be(n,e)));return 0===i.length?t.extract(e,o):((e,t)=>Co(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,i)},toString:t.toString}},Ao=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const i of n)po(i,((n,i,a,s)=>{const l=To(a,e,t,n,s);ho(l,(e=>{r.push(...e)}),(e=>{o[i]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?uo(r):co(o)})(t,n,e),toString:()=>{const t=F(e,(e=>po(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Ro=e=>({extract:(t,n)=>{const o=F(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return _o(o)},toString:()=>"array("+e.toString()+")"}),Po=(e,t)=>{const n=void 0!==t?t:_;return{extract:(t,o)=>{const r=[];for(const i of e){const e=i.extract(t,o);if(e.stype===io.Value)return{stype:io.Value,svalue:n(e.svalue)};r.push(e)}return _o(r)},toString:()=>"oneOf("+F(e,(e=>e.toString())).join(", ")+")"}},Io=(e,t)=>({extract:(n,o)=>{const r=ae(o),i=((t,n)=>Ro(So(e)).extract(t,n))(n,r);return((e,t)=>e.stype===io.Value?t(e.svalue):e)(i,(e=>{const r=F(e,(e=>mo(e,e,{tag:"required",process:{}},t)));return Ao(r).extract(n,o)}))},toString:()=>"setOf("+t.toString()+")"}),zo=b(Ro,Ao),No=w(ko),Lo=(e,t)=>So((n=>{const o=typeof n;return e(n)?co(n):uo(`Expected type: ${t} but got: ${o}`)})),Ho=Lo(f,"number"),Fo=Lo(i,"string"),Bo=Lo(u,"boolean"),Uo=Lo(p,"function"),Vo=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Vo(e[t])));default:return!1}},jo=So((e=>Vo(e)?co(e):uo("Expected value to be acceptable for sending via postMessage"))),Wo=(e,t)=>({extract:(n,o)=>ve(o,e).fold((()=>((e,t)=>Co(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,o)=>ve(n,o).fold((()=>((e,t,n)=>Co(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+xo(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))))(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+ae(t)}),Zo=e=>So((t=>e(t).fold(uo,co))),$o=(e,t)=>Io((t=>e(t).fold(lo,so)),t),qo=(e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===io.Error?{stype:io.Error,serror:t(e.serror)}:e)(t.extract([e],n),(e=>({input:n,errors:e}))))(e,t,n),ao(o,ro.error,ro.value);var o},Go=e=>e.fold((e=>{throw new Error(Yo(e))}),_),Ko=(e,t,n)=>Go(qo(e,t,n)),Yo=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):e;return F(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+xo(e.input),Jo=(e,t)=>Wo(e,ce(t,Ao)),Xo=(e,t)=>((e,t)=>{const n=Qt(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),Qo=mo,er=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),tr=e=>Zo((t=>z(e,t)?ro.value(t):ro.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),nr=e=>Qo(e,e,{tag:"required",process:{}},No()),or=(e,t)=>Qo(e,e,{tag:"required",process:{}},t),rr=e=>or(e,Ho),ir=e=>or(e,Fo),ar=(e,t)=>Qo(e,e,{tag:"required",process:{}},tr(t)),sr=e=>or(e,Uo),lr=(e,t)=>Qo(e,e,{tag:"required",process:{}},Ao(t)),cr=(e,t)=>Qo(e,e,{tag:"required",process:{}},zo(t)),ur=(e,t)=>Qo(e,e,{tag:"required",process:{}},Ro(t)),dr=e=>Qo(e,e,{tag:"option",process:{}},No()),hr=(e,t)=>Qo(e,e,{tag:"option",process:{}},t),mr=e=>hr(e,Ho),pr=e=>hr(e,Fo),fr=(e,t)=>hr(e,tr(t)),gr=e=>hr(e,Uo),vr=(e,t)=>hr(e,Ro(t)),yr=(e,t)=>hr(e,Ao(t)),br=(e,t)=>Qo(e,e,bo(t),No()),wr=(e,t,n)=>Qo(e,e,bo(t),n),_r=(e,t)=>wr(e,t,Ho),xr=(e,t)=>wr(e,t,Fo),Cr=(e,t,n)=>wr(e,t,tr(n)),Sr=(e,t)=>wr(e,t,Bo),kr=(e,t)=>wr(e,t,Uo),Er=(e,t,n)=>wr(e,t,Ro(n)),Tr=(e,t,n)=>wr(e,t,Ao(n)),Mr=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Or=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return B(e,((o,r)=>{const i=ae(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],s=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!l(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=ae(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!K(t,(e=>z(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n};Or([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Dr=(e,t)=>((e,t)=>({[e]:t}))(e,t),Ar=e=>(e=>{const t={};return B(e,(e=>{t[e.key]=e.value})),t})(e),Rr=e=>p(e)?e:T,Pr=(e,t,n)=>{let o=e.dom;const r=Rr(n);for(;o.parentNode;){o=o.parentNode;const e=Le(o),n=t(e);if(n.isSome())return n;if(r(e))break}return O.none()},Ir=(e,t,n)=>{const o=t(e),r=Rr(n);return o.orThunk((()=>r(e)?O.none():Pr(e,t,r)))},zr=(e,t)=>Xe(e.element,t.event.target),Nr={can:M,abort:T,run:v},Lr=e=>{if(!be(e,"can")&&!be(e,"abort")&&!be(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Nr,...e}},Hr=w,Fr=Hr("touchstart"),Br=Hr("touchmove"),Ur=Hr("touchend"),Vr=Hr("touchcancel"),jr=Hr("mousedown"),Wr=Hr("mousemove"),Zr=Hr("mouseout"),$r=Hr("mouseup"),qr=Hr("mouseover"),Gr=Hr("focusin"),Kr=Hr("focusout"),Yr=Hr("keydown"),Jr=Hr("keyup"),Xr=Hr("input"),Qr=Hr("change"),ei=Hr("click"),ti=Hr("transitioncancel"),ni=Hr("transitionend"),oi=Hr("transitionstart"),ri=Hr("selectstart"),ii=e=>w("alloy."+e),ai={tap:ii("tap")},si=ii("focus"),li=ii("blur.post"),ci=ii("paste.post"),ui=ii("receive"),di=ii("execute"),hi=ii("focus.item"),mi=ai.tap,pi=ii("longpress"),fi=ii("sandbox.close"),gi=ii("typeahead.cancel"),vi=ii("system.init"),yi=ii("system.touchmove"),bi=ii("system.touchend"),wi=ii("system.scroll"),_i=ii("system.resize"),xi=ii("system.attached"),Ci=ii("system.detached"),Si=ii("system.dismissRequested"),ki=ii("system.repositionRequested"),Ei=ii("focusmanager.shifted"),Ti=ii("slotcontainer.visibility"),Mi=ii("system.external.element.scroll"),Oi=ii("change.tab"),Di=ii("dismiss.tab"),Ai=ii("highlight"),Ri=ii("dehighlight"),Pi=(e,t)=>{Li(e,e.element,t,{})},Ii=(e,t,n)=>{Li(e,e.element,t,n)},zi=e=>{Pi(e,di())},Ni=(e,t,n)=>{Li(e,t,n,{})},Li=(e,t,n,o)=>{const r={target:t,...o};e.getSystem().triggerEvent(n,t,r)},Hi=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Fi=e=>Ar(e),Bi=(e,t)=>({key:e,value:Lr({abort:t})}),Ui=e=>({key:e,value:Lr({run:(e,t)=>{t.event.prevent()}})}),Vi=(e,t)=>({key:e,value:Lr({run:t})}),ji=(e,t,n)=>({key:e,value:Lr({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),Wi=e=>t=>({key:e,value:Lr({run:(e,n)=>{zr(e,n)&&t(e,n)}})}),Zi=(e,t,n)=>((e,t)=>Vi(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{Hi(t,t.element,e,o)}))})))(e,t.partUids[n]),$i=(e,t)=>Vi(e,((e,n)=>{const o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((()=>Ir(o.target,(t=>e.getSystem().getByDom(t).toOptional()),T).getOr(e)));t(e,r,n)})),qi=e=>Vi(e,((e,t)=>{t.cut()})),Gi=e=>Vi(e,((e,t)=>{t.stop()})),Ki=(e,t)=>Wi(e)(t),Yi=Wi(xi()),Ji=Wi(Ci()),Xi=Wi(vi()),Qi=(ia=di(),e=>Vi(ia,e)),ea=e=>e.dom.innerHTML,ta=(e,t)=>{const n=et(e).dom,o=Le(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,st(Le(n))})(t,n);Fn(o,r),Bn(e),Hn(e,o)},na=e=>ht(e)?"#shadow-root":(e=>{const t=ze("div"),n=Le(e.dom.cloneNode(!0));return Hn(t,n),ea(t)})((e=>((e,t)=>Le(e.dom.cloneNode(!1)))(e))(e)),oa=e=>na(e),ra=Fi([((e,t)=>({key:e,value:Lr({can:(e,t)=>{const n=t.event,o=n.originator,r=n.target;return!((e,t,n)=>Xe(t,e.element)&&!Xe(t,n))(e,o,r)||(console.warn(si()+" did not get interpreted by the desired target. \nOriginator: "+oa(o)+"\nTarget: "+oa(r)+"\nCheck the "+si()+" event handlers"),!1)}})}))(si())]);var ia,aa=Object.freeze({__proto__:null,events:ra});let sa=0;const la=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return sa++,e+"_"+n+sa+String(t)},ca=w("alloy-id-"),ua=w("data-alloy-id"),da=ca(),ha=ua(),ma=(e,t)=>{Object.defineProperty(e.dom,ha,{value:t,writable:!0})},pa=e=>{const t=Ze(e)?e.dom[ha]:null;return O.from(t)},fa=e=>la(e),ga=_,va=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+oa(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:w("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:T}},ya=va(),ba=e=>F(e,(e=>Oe(e,"/*")?e.substring(0,e.length-2):e)),wa=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ba(i)}),e},_a=la("alloy-premade"),xa=e=>(Object.defineProperty(e.element.dom,_a,{value:e.uid,writable:!0}),Dr(_a,e)),Ca=e=>ve(e,_a),Sa=e=>((e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ba(i.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),ka={init:()=>Ea({readState:w("No State required")})},Ea=e=>e,Ta=(e,t)=>{const n={};return le(e,((e,o)=>{le(e,((e,r)=>{const i=ve(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},Ma=e=>({classes:d(e.classes)?[]:e.classes,attributes:d(e.attributes)?{}:e.attributes,styles:d(e.styles)?{}:e.styles}),Oa=e=>e.cHandler,Da=(e,t)=>({name:e,handler:t}),Aa=(e,t)=>{const n={};return B(e,(e=>{n[e.name()]=e.handlers(t)})),n},Ra=(e,t,n)=>{const o=t[n];return o?((e,t,n,o)=>{try{const r=ee(n,((n,r)=>{const i=n[t],a=r[t],s=o.indexOf(i),l=o.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(o,null,2));return s<l?-1:l<s?1:0}));return ro.value(r)}catch(e){return ro.error([e])}})("Event: "+n,"name",e,o).map((e=>(e=>{const t=((e,t)=>(...t)=>W(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),n=((e,t)=>(...t)=>W(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e);return{can:t,abort:n,run:(...t)=>{B(e,(e=>{e.run.apply(void 0,t)}))}}})(F(e,(e=>e.handler))))):((e,t)=>ro.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(F(t,(e=>e.name)),null,2)]))(n,e)},Pa=(e,t)=>((e,t)=>{const n=(e=>{const t=[],n=[];return B(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(o=n.errors,ro.error(q(o))):((e,t)=>0===e.length?ro.value(t):ro.value(go(t,vo.apply(void 0,e))))(n.values,t);var o})(pe(e,((e,n)=>(1===e.length?ro.value(e[0].handler):Ra(e,t,n)).map((o=>{const r=(e=>{const t=(e=>p(e)?{can:M,abort:T,run:e}:e)(e);return(e,n,...o)=>{const r=[e,n].concat(o);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}})(o),i=e.length>1?V(t[n],(t=>N(e,(e=>e.name===t)))).join(" > "):e[0].name;return Dr(n,((e,t)=>({handler:e,purpose:t}))(r,i))})))),{}),Ia="alloy.base.behaviour",za=Ao([Qo("dom","dom",{tag:"required",process:{}},Ao([nr("tag"),br("styles",{}),br("classes",[]),br("attributes",{}),dr("value"),dr("innerHtml")])),nr("components"),nr("uid"),br("events",{}),br("apis",{}),Qo("eventOrder","eventOrder",(ss={[di()]:["disabling",Ia,"toggling","typeaheadevents"],[si()]:[Ia,"focusing","keying"],[vi()]:[Ia,"disabling","toggling","representing"],[Xr()]:[Ia,"representing","streaming","invalidating"],[Ci()]:[Ia,"representing","item-events","tooltipping"],[jr()]:["focusing",Ia,"item-type-events"],[Fr()]:["focusing",Ia,"item-type-events"],[qr()]:["item-type-events","tooltipping"],[ui()]:["receiving","reflecting","tooltipping"]},wo(w(ss))),No()),dr("domModification")]),Na=e=>e.events,La=(e,t)=>{const n=kt(e,t);return void 0===n||""===n?[]:n.split(" ")},Ha=e=>void 0!==e.dom.classList,Fa=e=>La(e,"class"),Ba=(e,t)=>{Ha(e)?e.dom.classList.add(t):((e,t)=>{((e,t,n)=>{const o=La(e,t).concat([n]);Ct(e,t,o.join(" "))})(e,"class",t)})(e,t)},Ua=(e,t)=>{Ha(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,n)=>{const o=V(La(e,t),(e=>e!==n));o.length>0?Ct(e,t,o.join(" ")):Mt(e,t)})(e,"class",t)})(e,t),(e=>{0===(Ha(e)?e.dom.classList:Fa(e)).length&&Mt(e,"class")})(e)},Va=(e,t)=>Ha(e)&&e.dom.classList.contains(t),ja=(e,t)=>{B(t,(t=>{Ba(e,t)}))},Wa=(e,t)=>{B(t,(t=>{Ua(e,t)}))},Za=(e,t)=>K(t,(t=>Va(e,t))),$a=e=>e.dom.value,qa=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ga=(e,t,n)=>{n.fold((()=>Hn(e,t)),(e=>{Xe(e,t)||(zn(e,t),Un(e))}))},Ka=(e,t,n)=>{const o=F(t,n),r=st(e);return B(r.slice(o.length),Un),o},Ya=(e,t,n,o)=>{const r=lt(e,t),i=o(n,r),a=((e,t,n)=>lt(e,t).map((e=>{if(n.exists((t=>!Xe(t,e)))){const t=n.map(Ve).getOr("span"),o=ze(t);return zn(e,o),o}return e})))(e,t,r);return Ga(e,i.element,a),i},Ja=(e,t)=>{const n=ae(e),o=ae(t),r=J(o,n),i=((e,n)=>{const o={},r={};return he(e,((e,n)=>!ye(t,n)||e!==t[n]),de(o),de(r)),{t:o,f:r}})(e).t;return{toRemove:r,toSet:i}},Xa=(e,t)=>{const{class:n,style:o,...r}=(e=>W(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:i,toRemove:a}=Ja(e.attributes,r),s=Lt(t),{toSet:l,toRemove:c}=Ja(e.styles,s),u=(e=>Ha(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let o=0;o<t.length;o++){const e=t.item(o);null!==e&&(n[o]=e)}return n})(e):Fa(e))(t),d=J(u,e.classes),h=J(e.classes,u);return B(a,(e=>Mt(t,e))),St(t,i),ja(t,h),Wa(t,d),B(c,(e=>Ft(t,e))),Rt(t,l),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Ka(e,t,((t,n)=>{const o=lt(e,n);return Ga(e,t,o),t}))})(t,n)}),(e=>{ta(t,e)})),(()=>{const n=t,o=e.value.getOrUndefined();o!==$a(n)&&qa(n,null!=o?o:"")})(),t},Qa=e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return G(ae(t),(e=>{const n=t[e];return m(n)?[n.me]:[]}))})(e);return((e,t)=>((e,t)=>{const n=F(t,(e=>yr(e.name(),[nr("config"),br("state",ka)]))),o=qo("component.behaviours",Ao(n),e.behaviours).fold((t=>{throw new Error(Yo(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),_);return{list:t,data:ce(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return w(t)}))}})(e,t))(e,t)},es=(e,t)=>{const n=()=>h,o=Mr(ya),r=Go((e=>qo("custom.definition",za,e))(e)),i=Qa(e),a=(e=>e.list)(i),s=(e=>e.data)(i),l=((e,t,n)=>{const o={...(r=e).dom,uid:r.uid,domChildren:F(r.components,(e=>e.element))};var r;const i=(e=>e.domModification.fold((()=>Ma({})),Ma))(e),a={"alloy.base.modification":i},s=t.length>0?((e,t,n,o)=>{const r={...t};B(n,(t=>{r[t.name()]=t.exhibit(e,o)}));const i=Ta(r,((e,t)=>({name:e,modification:t}))),a=e=>j(e,((e,t)=>({...t.modification,...e})),{}),s=j(i.classes,((e,t)=>t.modification.concat(e)),[]),l=a(i.attributes),c=a(i.styles);return Ma({classes:s,attributes:l,styles:c})})(n,a,t,o):i;return l=o,c=s,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(r,a,s),c=((e,t)=>{const n=t.filter((t=>Ve(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>ye(e.dom,_a))(t))).bind((t=>((e,t)=>{try{const n=Xa(e,t);return O.some(n)}catch(e){return O.none()}})(e,t))).getOrThunk((()=>(e=>{const t=ze(e.tag);St(t,e.attributes),ja(t,e.classes),Rt(t,e.styles),e.innerHtml.each((e=>ta(t,e)));const n=e.domChildren;return Fn(t,n),e.value.each((e=>{qa(t,e)})),t})(e)));return ma(n,e.uid),n})(l,t),u=((e,t,n)=>{const o={"alloy.base.behaviour":Na(e)};return((e,t,n,o)=>{const r=((e,t,n)=>{const o={...n,...Aa(t,e)};return Ta(o,Da)})(e,n,o);return Pa(r,t)})(n,e.eventOrder,t,o).getOrDie()})(r,a,s),d=Mr(r.components),h={uid:e.uid,getSystem:o.get,config:t=>{const n=s;return(p(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>p(s[e.name()]),spec:e,readState:e=>s[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>r.apis,connect:e=>{o.set(e)},disconnect:()=>{o.set(va(n))},element:c,syncComponents:()=>{const e=st(c),t=G(e,(e=>o.get().getByDom(e).fold((()=>[]),Q)));d.set(t)},components:d.get,events:u};return h},ts=e=>{const t=Ne(e);return ns({element:t})},ns=e=>{const t=Ko("external.component",Do([nr("element"),dr("uid")]),e),n=Mr(va()),o=t.uid.getOrThunk((()=>fa("external")));ma(t.element,o);const r={uid:o,getSystem:n.get,config:O.none,hasConfigured:T,connect:e=>{n.set(e)},disconnect:()=>{n.set(va((()=>r)))},getApis:()=>({}),element:t.element,spec:e,readState:w("No state"),syncComponents:v,components:w([]),events:{}};return xa(r)},os=fa,rs=(e,t)=>Ca(e).getOrThunk((()=>((e,t)=>{const{events:n,...o}=ga(e),r=((e,t)=>{const n=ve(e,"components").getOr([]);return t.fold((()=>F(n,is)),(e=>F(n,((t,n)=>rs(t,lt(e,n))))))})(o,t),i={...o,events:{...aa,...n},components:r};return ro.value(es(i,t))})((e=>ye(e,"uid"))(e)?e:{uid:os(""),...e},t).getOrDie())),is=e=>rs(e,O.none()),as=xa;var ss,ls=(e,t,n,o,r)=>e(n,o)?O.some(n):p(r)&&r(n)?O.none():t(n,o,r);const cs=(e,t,n)=>{let o=e.dom;const r=p(n)?n:T;for(;o.parentNode;){o=o.parentNode;const e=Le(o);if(t(e))return O.some(e);if(r(e))break}return O.none()},us=(e,t,n)=>ls(((e,t)=>t(e)),cs,e,t,n),ds=(e,t,n)=>us(e,t,n).isSome(),hs=(e,t,n)=>cs(e,(e=>Ye(e,t)),n),ms=(e,t)=>((e,n)=>Z(e.dom.childNodes,(e=>{return n=Le(e),Ye(n,t);var n})).map(Le))(e),ps=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Je(n)?O.none():O.from(n.querySelector(e)).map(Le)})(t,e),fs=(e,t,n)=>ls(((e,t)=>Ye(e,t)),hs,e,t,n),gs="aria-controls",vs=()=>{const e=la(gs);return{id:e,link:t=>{Ct(t,gs,e)},unlink:e=>{Mt(e,gs)}}},ys=(e,t)=>ds(t,(t=>Xe(t,e.element)),T)||((e,t)=>(e=>us(e,(e=>{if(!Ze(e))return!1;const t=kt(e,"id");return void 0!==t&&t.indexOf(gs)>-1})).bind((e=>{const t=kt(e,"id"),n=ft(e);return ps(n,`[${gs}="${t}"]`)})))(t).exists((t=>ys(e,t))))(e,t);var bs;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(bs||(bs={}));const ws=Mr({}),_s=["alloy/data/Fields","alloy/debugging/Debugging"],xs=(e,t,n)=>((e,t,n)=>{switch(ve(ws.get(),e).orThunk((()=>{const t=ae(ws.get());return ie(t,(t=>e.indexOf(t)>-1?O.some(ws.get()[t]):O.none()))})).getOr(bs.NORMAL)){case bs.NORMAL:return n(Cs());case bs.LOGGING:{const o=((e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const r=(new Date).getTime();z(["mousemove","mouseover","mouseout",vi()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:F(n,(e=>z(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+oa(e.target)+")":e.outcome))})}}})(e,t),r=n(o);return o.write(),r}case bs.STOP:return!0}})(e,t,n),Cs=w({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),Ss=w([nr("menu"),nr("selectedMenu")]),ks=w([nr("item"),nr("selectedItem")]);w(Ao(ks().concat(Ss())));const Es=w(Ao(ks())),Ts=lr("initSize",[nr("numColumns"),nr("numRows")]),Ms=()=>lr("markers",[nr("backgroundMenu")].concat(Ss()).concat(ks())),Os=e=>lr("markers",F(e,nr)),Ds=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");Z(t,(e=>e.indexOf("alloy")>0&&!N(_s,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Qo(t,t,n,Zo((e=>ro.value(((...t)=>e.apply(void 0,t))))))),As=e=>Ds(0,e,bo(v)),Rs=e=>Ds(0,e,bo(O.none)),Ps=e=>Ds(0,e,{tag:"required",process:{}}),Is=e=>Ds(0,e,{tag:"required",process:{}}),zs=(e,t)=>er(e,w(t)),Ns=e=>er(e,_),Ls=w(Ts),Hs=(e,t,n,o,r,i,a,s=!1)=>({x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:`${a}-${r}`,alwaysFit:s}),Fs=Or([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Bs=Fs.southeast,Us=Fs.southwest,Vs=Fs.northeast,js=Fs.northwest,Ws=Fs.south,Zs=Fs.north,$s=Fs.east,qs=Fs.west,Gs=(e,t,n,o)=>{const r=e+t;return r>o?n:r<n?o:r},Ks=(e,t,n)=>Math.min(Math.max(e,t),n),Ys=(e,t)=>X(["left","right","top","bottom"],(n=>ve(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Js="layout",Xs=e=>e.x,Qs=(e,t)=>e.x+e.width/2-t.width/2,el=(e,t)=>e.x+e.width-t.width,tl=(e,t)=>e.y-t.height,nl=e=>e.y+e.height,ol=(e,t)=>e.y+e.height/2-t.height/2,rl=(e,t,n)=>Hs(Xs(e),nl(e),n.southeast(),Bs(),"southeast",Ys(e,{left:1,top:3}),Js),il=(e,t,n)=>Hs(el(e,t),nl(e),n.southwest(),Us(),"southwest",Ys(e,{right:0,top:3}),Js),al=(e,t,n)=>Hs(Xs(e),tl(e,t),n.northeast(),Vs(),"northeast",Ys(e,{left:1,bottom:2}),Js),sl=(e,t,n)=>Hs(el(e,t),tl(e,t),n.northwest(),js(),"northwest",Ys(e,{right:0,bottom:2}),Js),ll=(e,t,n)=>Hs(Qs(e,t),tl(e,t),n.north(),Zs(),"north",Ys(e,{bottom:2}),Js),cl=(e,t,n)=>Hs(Qs(e,t),nl(e),n.south(),Ws(),"south",Ys(e,{top:3}),Js),ul=(e,t,n)=>Hs((e=>e.x+e.width)(e),ol(e,t),n.east(),$s(),"east",Ys(e,{left:0}),Js),dl=(e,t,n)=>Hs(((e,t)=>e.x-t.width)(e,t),ol(e,t),n.west(),qs(),"west",Ys(e,{right:1}),Js),hl=()=>[rl,il,al,sl,cl,ll,ul,dl],ml=()=>[il,rl,sl,al,cl,ll,ul,dl],pl=()=>[al,sl,rl,il,ll,cl],fl=()=>[sl,al,il,rl,ll,cl],gl=()=>[rl,il,al,sl,cl,ll],vl=()=>[il,rl,sl,al,cl,ll];var yl=Object.freeze({__proto__:null,events:e=>Fi([Vi(ui(),((t,n)=>{const o=e.channels,r=ae(o),i=n,a=((e,t)=>t.universal?e:V(e,(e=>z(t.channels,e))))(r,i);B(a,(e=>{const n=o[e],r=n.schema,a=Ko("channel["+e+"] data\nReceiver: "+oa(t.element),r,i.data);n.onReceive(t,a)}))}))])}),bl=[or("channels",$o(ro.value,Do([Ps("onReceive"),br("schema",No())])))];const wl=(e,t,n)=>Xi(((o,r)=>{n(o,e,t)})),_l=e=>({key:e,value:void 0}),xl=(e,t,n,o,r,i,a)=>{const s=e=>be(e,n)?e[n]():O.none(),l=ce(r,((e,t)=>((e,t,n)=>((e,t,n)=>{const o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ba(a.slice(0,1).concat(a.slice(3)))}),e})(((o,...r)=>{const i=[o].concat(r);return o.config({name:w(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(i,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),c={...ce(i,((e,t)=>wa(e,t))),...l,revoke:C(_l,n),config:t=>{const o=Ko(n+"-config",e,t);return{key:n,value:{config:o,me:c,configAsRaw:Qt((()=>Ko(n+"-config",e,t))),initialConfig:t,state:a}}},schema:w(t),exhibit:(e,t)=>xe(s(e),ve(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Ma({}))),name:w(n),handlers:e=>s(e).map((e=>ve(o,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},Cl=e=>Ar(e),Sl=Do([nr("fields"),nr("name"),br("active",{}),br("apis",{}),br("state",ka),br("extra",{})]),kl=e=>{const t=Ko("Creating behaviour: "+e.name,Sl,e);return((e,t,n,o,r,i)=>{const a=Do(e),s=yr(t,[(l=e,hr("config",Do(l)))]);var l;return xl(a,s,t,n,o,r,i)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},El=Do([nr("branchKey"),nr("branches"),nr("name"),br("active",{}),br("apis",{}),br("state",ka),br("extra",{})]),Tl=e=>{const t=Ko("Creating behaviour: "+e.name,El,e);return((e,t,n,o,r,i)=>{const a=e,s=yr(t,[hr("config",e)]);return xl(a,s,t,n,o,r,i)})(Jo(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Ml=w(void 0),Ol=kl({fields:bl,name:"receiving",active:yl});var Dl=Object.freeze({__proto__:null,exhibit:(e,t)=>Ma({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Al=e=>e.dom.focus(),Rl=e=>e.dom.blur(),Pl=e=>{const t=ft(e).dom;return e.dom===t.activeElement},Il=(e=$n())=>O.from(e.dom.activeElement).map(Le),zl=e=>Il(ft(e)).filter((t=>e.dom.contains(t.dom))),Nl=(e,t)=>{const n=ft(t),o=Il(n).bind((e=>{const n=t=>Xe(e,t);return n(t)?O.some(t):((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Le(e.childNodes[o]);if(t(r))return O.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return O.none()};return n(e.dom)})(t,n)})),r=e(t);return o.each((e=>{Il(n).filter((t=>Xe(t,e))).fold((()=>{Al(e)}),v)})),r},Ll=(e,t,n,o,r)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},Hl=(e,t)=>{Pt(e,(e=>({...e,position:O.some(e.position)}))(t))},Fl=Or([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Bl=(e,t,n,o,r,i)=>{const a=t.rect,s=a.x-n,l=a.y-o,c=r-(s+a.width),u=i-(l+a.height),d=O.some(s),h=O.some(l),m=O.some(c),p=O.some(u),f=O.none();return t.direction.fold((()=>Ll(e,d,h,f,f)),(()=>Ll(e,f,h,m,f)),(()=>Ll(e,d,f,f,p)),(()=>Ll(e,f,f,m,p)),(()=>Ll(e,d,h,f,f)),(()=>Ll(e,d,f,f,p)),(()=>Ll(e,d,h,f,f)),(()=>Ll(e,f,h,m,f)))},Ul=(e,t)=>e.fold((()=>{const e=t.rect;return Ll("absolute",O.some(e.x),O.some(e.y),O.none(),O.none())}),((e,n,o,r)=>Bl("absolute",t,e,n,o,r)),((e,n,o,r)=>Bl("fixed",t,e,n,o,r))),Vl=(e,t)=>{const n=C(Kn,t),o=e.fold(n,n,(()=>{const e=Vn();return Kn(t).translate(-e.left,-e.top)})),r=Xt(t),i=Wt(t);return Yn(o.left,o.top,r,i)},jl=(e,t)=>t.fold((()=>e.fold(eo,eo,Yn)),(t=>e.fold(w(t),w(t),(()=>{const n=Wl(e,t.x,t.y);return Yn(n.left,n.top,t.width,t.height)})))),Wl=(e,t,n)=>{const o=$t(t,n);return e.fold(w(o),w(o),(()=>{const e=Vn();return o.translate(-e.left,-e.top)}))};Fl.none;const Zl=Fl.relative,$l=Fl.fixed,ql="data-alloy-placement",Gl=e=>Et(e,ql),Kl=Or([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Yl=(e,t,n,o)=>{const r=e.bubble,i=r.offset,a=((e,t,n)=>{const o=(o,r)=>t[o].map((t=>{const i="top"===o||"bottom"===o,a=i?n.top:n.left,s=("left"===o||"top"===o?Math.max:Math.min)(t,r)+a;return i?Ks(s,e.y,e.bottom):Ks(s,e.x,e.right)})).getOr(r),r=o("left",e.x),i=o("top",e.y),a=o("right",e.right),s=o("bottom",e.bottom);return Yn(r,i,a-r,s-i)})(o,e.restriction,i),s=e.x+i.left,l=e.y+i.top,c=Yn(s,l,t,n),{originInBounds:u,sizeInBounds:d,visibleW:h,visibleH:m}=((e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:a,y:s,right:l,bottom:c,width:u,height:d}=e;return{originInBounds:a>=n&&a<=r&&s>=o&&s<=i,sizeInBounds:l<=r&&l>=n&&c<=i&&c>=o,visibleW:Math.min(u,a>=n?r-a:l-n),visibleH:Math.min(d,s>=o?i-s:c-o)}})(c,a),p=u&&d,f=p?c:((e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:a,y:s,width:l,height:c}=e,u=Math.max(n,r-l),d=Math.max(o,i-c),h=Ks(a,n,u),m=Ks(s,o,d),p=Math.min(h+l,r)-h,f=Math.min(m+c,i)-m;return Yn(h,m,p,f)})(c,a),g=f.width>0&&f.height>0,{maxWidth:v,maxHeight:y}=((e,t,n)=>{const o=w(t.bottom-n.y),r=w(n.bottom-t.y),i=((e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n))(e,r,r,o),a=w(t.right-n.x),s=w(n.right-t.x),l=((e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o))(e,s,s,a);return{maxWidth:l,maxHeight:i}})(e.direction,f,o),b={rect:f,maxHeight:y,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:l};return p||e.alwaysFit?Kl.fit(b):Kl.nofit(b,h,m,g)},Jl=e=>{const t=Mr(O.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(O.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(O.some(e))}}},Xl=()=>Jl((e=>e.unbind())),Ql=()=>{const e=Jl(v);return{...e,on:t=>e.get().each(t)}},ec=M,tc=(e,t,n)=>((e,t,n,o)=>Pn(e,t,n,o,!1))(e,t,ec,n),nc=(e,t,n)=>((e,t,n,o)=>Pn(e,t,n,o,!0))(e,t,ec,n),oc=Rn,rc=["top","bottom","right","left"],ic="data-alloy-transition-timer",ac=(e,t,n,o,r,a)=>{const s=((e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})))(o,r,a);if(s||((e,t)=>Za(e,t.classes))(e,o)){At(e,"position",n.position);const a=Vl(t,e),l=Ul(t,{...r,rect:a}),c=X(rc,(e=>l[e]));((e,t)=>{const n=e=>parseFloat(e).toFixed(3);return fe(t,((t,o)=>!((e,t,n=x)=>xe(e,t,n).getOr(e.isNone()&&t.isNone()))(e[o].map(n),t.map(n)))).isSome()})(n,c)&&(Pt(e,c),s&&((e,t)=>{ja(e,t.classes),Et(e,ic).each((t=>{clearTimeout(parseInt(t,10)),Mt(e,ic)})),((e,t)=>{const n=Xl(),o=Xl();let r;const a=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Xe(t.target,e)&&!Ae(o)&&z(rc,t.raw.propertyName)},s=i=>{if(h(i)||a(i)){n.clear(),o.clear();const a=null==i?void 0:i.raw.type;(h(a)||a===ni())&&(clearTimeout(r),Mt(e,ic),Wa(e,t.classes))}},l=tc(e,oi(),(t=>{a(t)&&(l.unbind(),n.set(tc(e,ni(),s)),o.set(tc(e,ti(),s)))})),c=(e=>{const t=t=>{const n=It(e,t).split(/\s*,\s*/);return V(n,Ae)},n=e=>{if(i(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Oe(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return W(r,((e,t,r)=>{const i=n(o[r])+n(t);return Math.max(e,i)}),0)})(e);requestAnimationFrame((()=>{r=setTimeout(s,c+17),Ct(e,ic,r)}))})(e,t)})(e,o),Bt(e))}else Wa(e,o.classes)},sc=(e,t)=>{((e,t)=>{const n=Vt.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);At(e,"max-height",n+"px")})(e,Math.floor(t))},lc=w(((e,t)=>{sc(e,t),Rt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),cc=w(((e,t)=>{sc(e,t)})),uc=(e,t,n)=>void 0===e[t]?n:e[t],dc=(e,t,n,o)=>{const r=((e,t,n,o)=>{Ft(t,"max-height"),Ft(t,"max-width");const r={width:Xt(i=t),height:Wt(i)};var i;return((e,t,n,o,r,i)=>{const a=o.width,s=o.height,l=(t,l,c,u,d)=>{const h=t(n,o,r,e,i),m=Yl(h,a,s,i);return m.fold(w(m),((e,t,n,o)=>(d===o?n>u||t>c:!d&&o)?m:Kl.nofit(l,c,u,d)))};return W(t,((e,t)=>{const n=C(l,t);return e.fold(w(e),n)}),Kl.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Bs(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(_,_)})(t,o.preference,e,r,n,o.bounds)})(e,t,n,o);return((e,t,n)=>{const o=Ul(n.origin,t);n.transition.each((r=>{ac(e,n.origin,o,r,t,n.lastPlacement)})),Hl(e,o)})(t,r,o),((e,t)=>{((e,t)=>{Ct(e,ql,t)})(e,t.placement)})(t,r),((e,t)=>{const n=t.classes;Wa(e,n.off),ja(e,n.on)})(t,r),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,r,o),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,r,o),{layout:r.layout,placement:r.placement}},hc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],mc=(e,t,n,o=1)=>{const r=e*o,i=t*o,a=e=>ve(n,e).getOr([]),s=(e,t,n)=>{const o=J(hc,n);return{offset:$t(e,t),classesOn:G(n,a),classesOff:G(o,a)}};return{southeast:()=>s(-e,t,["top","alignLeft"]),southwest:()=>s(e,t,["top","alignRight"]),south:()=>s(-e/2,t,["top","alignCentre"]),northeast:()=>s(-e,-t,["bottom","alignLeft"]),northwest:()=>s(e,-t,["bottom","alignRight"]),north:()=>s(-e/2,-t,["bottom","alignCentre"]),east:()=>s(e,-t/2,["valignCentre","left"]),west:()=>s(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>s(r,i,["top","alignLeft","inset"]),insetNorthwest:()=>s(-r,i,["top","alignRight","inset"]),insetNorth:()=>s(-r/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>s(r,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>s(-r,-i,["bottom","alignRight","inset"]),insetSouth:()=>s(-r/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>s(-r,-i/2,["valignCentre","right","inset"]),insetWest:()=>s(r,-i/2,["valignCentre","left","inset"])}},pc=()=>mc(0,0,{}),fc=_,gc=(e,t)=>n=>"rtl"===vc(n)?t:e,vc=e=>"rtl"===It(e,"direction")?"rtl":"ltr";var yc;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(yc||(yc={}));const bc="data-alloy-vertical-dir",wc=e=>ds(e,(e=>Ze(e)&&kt(e,"data-alloy-vertical-dir")===yc.BottomToTop)),_c=()=>yr("layouts",[nr("onLtr"),nr("onRtl"),dr("onBottomLtr"),dr("onBottomRtl")]),xc=(e,t,n,o,r,i,a)=>{const s=a.map(wc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),u=s?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(r):l.getOr(n),d=s?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(o);return gc(u,d)(e)};var Cc=[nr("hotspot"),dr("bubble"),br("overrides",{}),_c(),zs("placement",((e,t,n)=>{const o=t.hotspot,r=Vl(n,o.element),i=xc(e.element,t,gl(),vl(),pl(),fl(),O.some(t.hotspot.element));return O.some(fc({anchorBox:r,bubble:t.bubble.getOr(pc()),overrides:t.overrides,layouts:i}))}))],Sc=[nr("x"),nr("y"),br("height",0),br("width",0),br("bubble",pc()),br("overrides",{}),_c(),zs("placement",((e,t,n)=>{const o=Wl(n,t.x,t.y),r=Yn(o.left,o.top,t.width,t.height),i=xc(e.element,t,hl(),ml(),hl(),ml(),O.none());return O.some(fc({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i}))}))];const kc=Or([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ec=e=>e.fold(_,((e,t,n)=>e.translate(-t,-n))),Tc=e=>e.fold(_,_),Mc=e=>W(e,((e,t)=>e.translate(t.left,t.top)),$t(0,0)),Oc=e=>{const t=F(e,Tc);return Mc(t)},Dc=kc.screen,Ac=kc.absolute,Rc=(e,t,n)=>{const o=et(e.element),r=Vn(o),i=((e,t,n)=>{const o=ot(n.root).dom;return O.from(o.frameElement).map(Le).filter((t=>{const n=et(t),o=et(e.element);return Xe(n,o)})).map(Gt)})(e,0,n).getOr(r);return Ac(i,r.left,r.top)},Pc=(e,t,n,o)=>{const r=Dc($t(e,t));return O.some(((e,t,n)=>({point:e,width:t,height:n}))(r,n,o))},Ic=(e,t,n,o,r)=>e.map((e=>{const i=[t,e.point],a=(s=()=>Oc(i),l=()=>Oc(i),c=()=>(e=>{const t=F(e,Ec);return Mc(t)})(i),o.fold(s,l,c));var s,l,c;const u=(p=a.left,f=a.top,g=e.width,v=e.height,{x:p,y:f,width:g,height:v}),d=n.showAbove?pl():gl(),h=n.showAbove?fl():vl(),m=xc(r,n,d,h,d,h,O.none());var p,f,g,v;return fc({anchorBox:u,bubble:n.bubble.getOr(pc()),overrides:n.overrides,layouts:m})}));var zc=[nr("node"),nr("root"),dr("bubble"),_c(),br("overrides",{}),br("showAbove",!1),zs("placement",((e,t,n)=>{const o=Rc(e,0,t);return t.node.filter(bt).bind((r=>{const i=r.dom.getBoundingClientRect(),a=Pc(i.left,i.top,i.width,i.height),s=t.node.getOr(e.element);return Ic(a,o,t,n,s)}))}))];const Nc=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Lc=Or([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Hc=(Lc.before,Lc.on,Lc.after,e=>e.fold(_,_,_)),Fc=Or([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Bc={domRange:Fc.domRange,relative:Fc.relative,exact:Fc.exact,exactFromRange:e=>Fc.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Le(e.startContainer),relative:(e,t)=>Hc(e),exact:(e,t,n,o)=>e}))(e);return ot(t)},range:Nc},Uc=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Vc=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},jc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Wc=Or([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zc=(e,t,n)=>t(Le(n.startContainer),n.startOffset,Le(n.endContainer),n.endOffset),$c=(e,t)=>((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:w(e),rtl:O.none}),relative:(t,n)=>({ltr:Qt((()=>Uc(e,t,n))),rtl:Qt((()=>O.some(Uc(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Qt((()=>Vc(e,t,n,o,r))),rtl:Qt((()=>O.some(Vc(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Wc.rtl(Le(e.endContainer),e.endOffset,Le(e.startContainer),e.startOffset))).getOrThunk((()=>Zc(0,Wc.ltr,n))):Zc(0,Wc.ltr,n)})(0,n)})(e,t).match({ltr:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}});Wc.ltr,Wc.rtl;const qc=(e,t,n)=>V(((e,t)=>{const n=p(t)?t:T;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=Le(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),Gc=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Je(n)?[]:F(n.querySelectorAll(e),Le)})(t,e),Kc=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return O.some(Nc(Le(t.startContainer),t.startOffset,Le(n.endContainer),n.endOffset))}return O.none()},Yc=e=>{if(null===e.anchorNode||null===e.focusNode)return Kc(e);{const t=Le(e.anchorNode),n=Le(e.focusNode);return((e,t,n,o)=>{const r=((e,t,n,o)=>{const r=et(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r})(e,t,n,o),i=Xe(e,n)&&t===o;return r.collapsed&&!i})(t,e.anchorOffset,n,e.focusOffset)?O.some(Nc(t,e.anchorOffset,n,e.focusOffset)):Kc(e)}},Jc=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?O.some(n).map(jc):O.none()})($c(e,t)),Xc=((e,t)=>{const n=t=>e(t)?O.from(t.dom.nodeValue):O.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})($e),Qc=(e,t)=>({element:e,offset:t}),eu=(e,t)=>$e(e)?Qc(e,t):((e,t)=>{const n=st(e);if(0===n.length)return Qc(e,t);if(t<n.length)return Qc(n[t],0);{const e=n[n.length-1],t=$e(e)?(e=>Xc.get(e))(e).length:st(e).length;return Qc(e,t)}})(e,t),tu=e=>void 0!==e.foffset,nu=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>O.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Yc))(e)))().map((e=>{if(tu(e)){const t=eu(e.start,e.soffset),n=eu(e.finish,e.foffset);return Bc.range(t.element,t.offset,n.element,n.offset)}return e}));var ou=[dr("getSelection"),nr("root"),dr("bubble"),_c(),br("overrides",{}),br("showAbove",!1),zs("placement",((e,t,n)=>{const o=ot(t.root).dom,r=Rc(e,0,t),i=nu(o,t).bind((e=>{if(tu(e)){const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?O.some(t).map(jc):O.none()})($c(e,t)))(o,Bc.exactFromRange(e)).orThunk((()=>{const t=Ne("\ufeff");zn(e.start,t);const n=Jc(o,Bc.exact(t,0,t,1));return Un(t),n}));return t.bind((e=>Pc(e.left,e.top,e.width,e.height)))}{const t=ce(e,(e=>e.dom.getBoundingClientRect())),n={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Pc(n.left,n.top,n.right-n.left,n.bottom-n.top)}})),a=nu(o,t).bind((e=>tu(e)?Ze(e.start)?O.some(e.start):it(e.start):O.some(e.firstCell))).getOr(e.element);return Ic(i,r,t,n,a)}))];const ru="link-layout",iu=e=>e.x+e.width,au=(e,t)=>e.x-t.width,su=(e,t)=>e.y-t.height+e.height,lu=e=>e.y,cu=(e,t,n)=>Hs(iu(e),lu(e),n.southeast(),Bs(),"southeast",Ys(e,{left:0,top:2}),ru),uu=(e,t,n)=>Hs(au(e,t),lu(e),n.southwest(),Us(),"southwest",Ys(e,{right:1,top:2}),ru),du=(e,t,n)=>Hs(iu(e),su(e,t),n.northeast(),Vs(),"northeast",Ys(e,{left:0,bottom:3}),ru),hu=(e,t,n)=>Hs(au(e,t),su(e,t),n.northwest(),js(),"northwest",Ys(e,{right:1,bottom:3}),ru),mu=()=>[cu,uu,du,hu],pu=()=>[uu,cu,hu,du];var fu=[nr("item"),_c(),br("overrides",{}),zs("placement",((e,t,n)=>{const o=Vl(n,t.item.element),r=xc(e.element,t,mu(),pu(),mu(),pu(),O.none());return O.some(fc({anchorBox:o,bubble:pc(),overrides:t.overrides,layouts:r}))}))],gu=Jo("type",{selection:ou,node:zc,hotspot:Cc,submenu:fu,makeshift:Sc});const vu=[ur("classes",Fo),Cr("mode","all",["all","layout","placement"])],yu=[br("useFixed",T),dr("getBounds")],bu=[or("anchor",gu),yr("transition",vu)],wu=(e,t,n,o,r,i)=>{const a=Ko("placement.info",Ao(bu),r),s=a.anchor,l=o.element,c=n.get(o.uid);Nl((()=>{At(l,"position","fixed");const r=Nt(l,"visibility");At(l,"visibility","hidden");const u=t.useFixed()?(()=>{const e=document.documentElement;return $l(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Gt(e.element),n=e.element.dom.getBoundingClientRect();return Zl(t.left,t.top,n.width,n.height)})(e);s.placement(e,s,u).each((e=>{const r=i.orThunk((()=>t.getBounds.map(E))),s=((e,t,n,o,r,i)=>((e,t,n,o,r,i,a,s)=>{const l=uc(a,"maxHeightFunction",lc()),c=uc(a,"maxWidthFunction",v),u=e.anchorBox,d=e.origin,h={bounds:jl(d,i),origin:d,preference:o,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:r,transition:s};return dc(u,t,n,h)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),o.element,t.bubble,t.layouts,r,n,t.overrides,i))(u,e,r,o,c,a.transition);n.set(o.uid,s)})),r.fold((()=>{Ft(l,"visibility")}),(e=>{At(l,"visibility",e)})),Nt(l,"left").isNone()&&Nt(l,"top").isNone()&&Nt(l,"right").isNone()&&Nt(l,"bottom").isNone()&&we(Nt(l,"position"),"fixed")&&Ft(l,"position")}),l)};var _u=Object.freeze({__proto__:null,position:(e,t,n,o,r)=>{const i=O.none();wu(e,t,n,o,r,i)},positionWithinBounds:wu,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,o)=>{const r=o.element;B(["position","left","right","top","bottom"],(e=>Ft(r,e))),(e=>{Mt(e,ql)})(r),n.clear(o.uid)}});const xu=kl({fields:yu,name:"positioning",active:Dl,apis:_u,state:Object.freeze({__proto__:null,init:()=>{let e={};return Ea({readState:()=>e,clear:t=>{m(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>ve(e,t)})}})}),Cu=e=>e.getSystem().isConnected(),Su=e=>{Pi(e,Ci());const t=e.components();B(t,Su)},ku=e=>{const t=e.components();B(t,ku),Pi(e,xi())},Eu=(e,t)=>{e.getSystem().addToWorld(t),bt(e.element)&&ku(t)},Tu=e=>{Su(e),e.getSystem().removeFromWorld(e)},Mu=(e,t)=>{Hn(e.element,t.element)},Ou=(e,t)=>{Du(e,t,Hn)},Du=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),bt(e.element)&&ku(t),e.syncComponents()},Au=e=>{Su(e),Un(e.element),e.getSystem().removeFromWorld(e)},Ru=e=>{const t=rt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));Au(e),t.each((e=>{e.syncComponents()}))},Pu=e=>{const t=e.components();B(t,Au),Bn(e.element),e.syncComponents()},Iu=(e,t)=>{Nu(e,t,Hn)},zu=(e,t)=>{Nu(e,t,Nn)},Nu=(e,t,n)=>{n(e,t.element);const o=st(t.element);B(o,(e=>{t.getByDom(e).each(ku)}))},Lu=e=>{const t=st(e.element);B(t,(t=>{e.getByDom(t).each(Su)})),Un(e.element)},Hu=(e,t,n,o)=>{n.get().each((t=>{Pu(e)}));const r=t.getAttachPoint(e);Ou(r,e);const i=e.getSystem().build(o);return Ou(e,i),n.set(i),i},Fu=(e,t,n,o)=>{const r=Hu(e,t,n,o);return t.onOpen(e,r),r},Bu=(e,t,n)=>{n.get().each((o=>{Pu(e),Ru(e),t.onClose(e,o),n.clear()}))},Uu=(e,t,n)=>n.isOpen(),Vu=(e,t,n)=>{const o=t.getAttachPoint(e);At(e.element,"position",xu.getMode(o)),((e,t,n,o)=>{Nt(e.element,t).fold((()=>{Mt(e.element,n)}),(t=>{Ct(e.element,n,t)})),At(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},ju=(e,t,n)=>{(e=>N(["top","left","right","bottom"],(t=>Nt(e,t).isSome())))(e.element)||Ft(e.element,"position"),((e,t,n)=>{Et(e.element,n).fold((()=>Ft(e.element,t)),(n=>At(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var Wu=Object.freeze({__proto__:null,cloak:Vu,decloak:ju,open:Fu,openWhileCloaked:(e,t,n,o,r)=>{Vu(e,t),Fu(e,t,n,o),r(),ju(e,t)},close:Bu,isOpen:Uu,isPartOf:(e,t,n,o)=>Uu(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,o)=>n.get().map((()=>Hu(e,t,n,o)))}),Zu=Object.freeze({__proto__:null,events:(e,t)=>Fi([Vi(fi(),((n,o)=>{Bu(n,e,t)}))])}),$u=[As("onOpen"),As("onClose"),nr("isPartOf"),nr("getAttachPoint"),br("cloakVisibilityAttr","data-precloak-visibility")],qu=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=w("not-implemented");return Ea({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Gu=kl({fields:$u,name:"sandboxing",active:Zu,apis:Wu,state:qu}),Ku=w("dismiss.popups"),Yu=w("reposition.popups"),Ju=w("mouse.released"),Xu=Do([br("isExtraPart",T),yr("fireEventInstead",[br("event",Si())])]),Qu=e=>{const t=Ko("Dismissal",Xu,e);return{[Ku()]:{schema:Do([nr("target")]),onReceive:(e,n)=>{Gu.isOpen(e)&&(Gu.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Gu.close(e)),(t=>Pi(e,t.event))))}}}},ed=Do([yr("fireEventInstead",[br("event",ki())]),sr("doReposition")]),td=e=>{const t=Ko("Reposition",ed,e);return{[Yu()]:{onReceive:e=>{Gu.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Pi(e,t.event)))}}}},nd=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},od=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var rd=Object.freeze({__proto__:null,onLoad:nd,onUnload:od,setValue:(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),id=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Yi(((n,o)=>{nd(n,e,t)})),Ji(((n,o)=>{od(n,e,t)}))]:[wl(e,t,nd)];return Fi(n)}});const ad=()=>{const e=Mr(null);return Ea({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},sd=()=>{const e=Mr({}),t=Mr({});return Ea({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>ve(e.get(),n).orThunk((()=>ve(t.get(),n))),update:n=>{const o=e.get(),r=t.get(),i={},a={};B(n,(e=>{i[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{a[t]=e}))}))})),e.set({...o,...i}),t.set({...r,...a})},clear:()=>{e.set({}),t.set({})}})};var ld=Object.freeze({__proto__:null,memory:ad,dataset:sd,manual:()=>Ea({readState:v}),init:e=>e.store.manager.state(e)});const cd=(e,t,n,o)=>{const r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)};var ud=[dr("initialValue"),nr("getFallbackEntry"),nr("getDataKey"),nr("setValue"),zs("manager",{setValue:cd,getValue:(e,t,n)=>{const o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((()=>o.getFallbackEntry(r)))},onLoad:(e,t,n)=>{t.store.initialValue.each((o=>{cd(e,t,n,o)}))},onUnload:(e,t,n)=>{n.clear()},state:sd})],dd=[nr("getValue"),br("setValue",v),dr("initialValue"),zs("manager",{setValue:(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:v,state:ka.init})],hd=[dr("initialValue"),zs("manager",{setValue:(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:ad})],md=[wr("store",{mode:"memory"},Jo("mode",{memory:hd,manual:dd,dataset:ud})),As("onSetValue"),br("resetOnDom",!1)];const pd=kl({fields:md,name:"representing",active:id,apis:rd,extra:{setValueFrom:(e,t)=>{const n=pd.getValue(t);pd.setValue(e,n)}},state:ld}),fd=(e,t)=>Tr(e,{},F(t,(t=>{return n=t.name(),o="Cannot configure "+t.name()+" for "+e,Qo(n,n,{tag:"option",process:{}},So((e=>uo("The field: "+n+" is forbidden. "+o))));var n,o})).concat([er("dump",_)])),gd=e=>e.dump,vd=(e,t)=>({...Cl(t),...e.dump}),yd=fd,bd=vd,wd="placeholder",_d=Or([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),xd=e=>ye(e,"uiType"),Cd=(e,t,n,o)=>((e,t,n,o)=>xd(n)&&n.uiType===wd?((e,t,n,o)=>e.exists((e=>e!==n.owner))?_d.single(!0,w(n)):ve(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ae(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,o):_d.single(!1,w(n)))(e,0,n,o).fold(((r,i)=>{const a=xd(n)?i(t,n.config,n.validated):i(t),s=ve(a,"components").getOr([]),l=G(s,(n=>Cd(e,t,n,o)));return[{...a,components:l}]}),((e,o)=>{if(xd(n)){const e=o(t,n.config,n.validated);return n.validated.preprocess.getOr(_)(e)}return o(t)})),Sd=_d.single,kd=_d.multiple,Ed=w(wd),Td=Or([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Md=br("factory",{sketch:_}),Od=br("schema",[]),Dd=nr("name"),Ad=Qo("pname","pname",yo((e=>"<alloy."+la(e.name)+">")),No()),Rd=er("schema",(()=>[dr("preprocess")])),Pd=br("defaults",w({})),Id=br("overrides",w({})),zd=Ao([Md,Od,Dd,Ad,Pd,Id]),Nd=Ao([Md,Od,Dd,Pd,Id]),Ld=Ao([Md,Od,Dd,Ad,Pd,Id]),Hd=Ao([Md,Rd,Dd,nr("unit"),Ad,Pd,Id]),Fd=e=>e.fold(O.some,O.none,O.some,O.some),Bd=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Ud=(e,t)=>n=>{const o=Ko("Converting part type",t,n);return e(o)},Vd=Ud(Td.required,zd),jd=Ud(Td.external,Nd),Wd=Ud(Td.optional,Ld),Zd=Ud(Td.group,Hd),$d=w("entirety");var qd=Object.freeze({__proto__:null,required:Vd,external:jd,optional:Wd,group:Zd,asNamedPart:Fd,name:Bd,asCommon:e=>e.fold(_,_,_,_),original:$d});const Gd=(e,t,n,o)=>go(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),Kd=(e,t)=>{const n={};return B(t,(t=>{Fd(t).each((t=>{const o=Yd(e,t.pname);n[t.name]=n=>{const r=Ko("Part: "+t.name+" in "+e,Ao(t.schema),n);return{...o,config:n,validated:r}}}))})),n},Yd=(e,t)=>({uiType:Ed(),owner:e,name:t}),Jd=(e,t,n)=>({uiType:Ed(),owner:e,name:t,config:n,validated:{}}),Xd=e=>G(e,(e=>e.fold(O.none,O.some,O.none,O.none).map((e=>lr(e.name,e.schema.concat([Ns($d())])))).toArray())),Qd=e=>F(e,Bd),eh=(e,t,n)=>((e,t,n)=>{const o={},r={};return B(n,(e=>{e.fold((e=>{o[e.pname]=Sd(!0,((t,n,o)=>e.factory.sketch(Gd(t,e,n,o))))}),(e=>{const n=t.parts[e.name];r[e.name]=w(e.factory.sketch(Gd(t,e,n[$d()]),n))}),(e=>{o[e.pname]=Sd(!1,((t,n,o)=>e.factory.sketch(Gd(t,e,n,o))))}),(e=>{o[e.pname]=kd(!0,((t,n,o)=>{const r=t[e.name];return F(r,(n=>e.factory.sketch(go(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:w(o),externals:w(r)}})(0,t,n),th=(e,t,n)=>((e,t,n,o)=>{const r=ce(o,((e,t)=>((e,t)=>{let n=!1;return{name:w(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),i=((e,t,n,o)=>G(n,(n=>Cd(e,t,n,o))))(e,t,n,r);return le(r,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i})(O.some(e),t,t.components,n),nh=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},oh=(e,t,n)=>nh(e,t,n).getOrDie("Could not find part: "+n),rh=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return B(n,(e=>{o[e]=w(i.getByUid(r[e]))})),o},ih=(e,t)=>{const n=e.getSystem();return ce(t.partUids,((e,t)=>w(n.getByUid(e))))},ah=e=>ae(e.partUids),sh=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return B(n,(e=>{o[e]=w(i.getByUid(r[e]).getOrDie())})),o},lh=(e,t)=>{const n=Qd(t);return Ar(F(n,(t=>({key:t,value:e+"-"+t}))))},ch=e=>Qo("partUids","partUids",wo((t=>lh(t.uid,e))),No());var uh=Object.freeze({__proto__:null,generate:Kd,generateOne:Jd,schemas:Xd,names:Qd,substitutes:eh,components:th,defaultUids:lh,defaultUidsSchema:ch,getAllParts:ih,getAllPartNames:ah,getPart:nh,getPartOrDie:oh,getParts:rh,getPartsOrDie:sh});const dh=(e,t,n,o,r)=>{const i=((e,t)=>(e.length>0?[lr("parts",e)]:[]).concat([nr("uid"),br("dom",{}),br("components",[]),Ns("originalSpec"),br("debug.sketcher",{})]).concat(t))(o,r);return Ko(e+" [SpecSchema]",Do(i.concat(t)),n)},hh=(e,t,n,o,r)=>{const i=mh(r),a=Xd(n),s=ch(n),l=dh(e,t,i,a,[s]),c=eh(0,l,n);return o(l,th(e,l,c.internals()),i,c.externals())},mh=e=>(e=>ye(e,"uid"))(e)?e:{...e,uid:fa("uid")},ph=Do([nr("name"),nr("factory"),nr("configFields"),br("apis",{}),br("extraApis",{})]),fh=Do([nr("name"),nr("factory"),nr("configFields"),nr("partFields"),br("apis",{}),br("extraApis",{})]),gh=e=>{const t=Ko("Sketcher for "+e.name,ph,e),n=ce(t.apis,Sa),o=ce(t.extraApis,((e,t)=>wa(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,o)=>{const r=mh(o);return n(dh(e,t,r,[],[]),r)})(t.name,t.configFields,t.factory,e),...n,...o}},vh=e=>{const t=Ko("Sketcher for "+e.name,fh,e),n=Kd(t.name,t.partFields),o=ce(t.apis,Sa),r=ce(t.extraApis,((e,t)=>wa(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>hh(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...o,...r}},yh=e=>Ke("input")(e)&&"radio"!==kt(e,"type")||Ke("textarea")(e);var bh=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const wh=[nr("find")],_h=kl({fields:wh,name:"composing",apis:bh}),xh=["input","button","textarea","select"],Ch=(e,t,n)=>{(t.disabled()?Oh:Dh)(e,t)},Sh=(e,t)=>!0===t.useNative&&z(xh,Ve(e.element)),kh=e=>{Ct(e.element,"disabled","disabled")},Eh=e=>{Mt(e.element,"disabled")},Th=e=>{Ct(e.element,"aria-disabled","true")},Mh=e=>{Ct(e.element,"aria-disabled","false")},Oh=(e,t,n)=>{t.disableClass.each((t=>{Ba(e.element,t)})),(Sh(e,t)?kh:Th)(e),t.onDisabled(e)},Dh=(e,t,n)=>{t.disableClass.each((t=>{Ua(e.element,t)})),(Sh(e,t)?Eh:Mh)(e),t.onEnabled(e)},Ah=(e,t)=>Sh(e,t)?(e=>Tt(e.element,"disabled"))(e):(e=>"true"===kt(e.element,"aria-disabled"))(e);var Rh=Object.freeze({__proto__:null,enable:Dh,disable:Oh,isDisabled:Ah,onLoad:Ch,set:(e,t,n,o)=>{(o?Oh:Dh)(e,t)}}),Ph=Object.freeze({__proto__:null,exhibit:(e,t)=>Ma({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Fi([Bi(di(),((t,n)=>Ah(t,e))),wl(e,t,Ch)])}),Ih=[kr("disabled",T),br("useNative",!0),dr("disableClass"),As("onDisabled"),As("onEnabled")];const zh=kl({fields:Ih,name:"disabling",active:Ph,apis:Rh}),Nh=(e,t,n,o)=>{const r=Gc(e.element,"."+t.highlightClass);B(r,(n=>{N(o,(e=>Xe(e.element,n)))||(Ua(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Pi(n,Ri())})))}))},Lh=(e,t,n,o)=>{Nh(e,t,0,[o]),Hh(e,t,n,o)||(Ba(o.element,t.highlightClass),t.onHighlight(e,o),Pi(o,Ai()))},Hh=(e,t,n,o)=>Va(o.element,t.highlightClass),Fh=(e,t,n)=>ps(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Bh=(e,t,n)=>{const o=Gc(e.element,"."+t.itemClass);return(o.length>0?O.some(o[o.length-1]):O.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Uh=(e,t,n,o)=>{const r=Gc(e.element,"."+t.itemClass);return $(r,(e=>Va(e,t.highlightClass))).bind((t=>{const n=Gs(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Vh=(e,t,n)=>{const o=Gc(e.element,"."+t.itemClass);return _e(F(o,(t=>e.getSystem().getByDom(t).toOptional())))};var jh=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>Nh(e,t,0,[]),dehighlight:(e,t,n,o)=>{Hh(e,t,n,o)&&(Ua(o.element,t.highlightClass),t.onDehighlight(e,o),Pi(o,Ri()))},highlight:Lh,highlightFirst:(e,t,n)=>{Fh(e,t).each((o=>{Lh(e,t,n,o)}))},highlightLast:(e,t,n)=>{Bh(e,t).each((o=>{Lh(e,t,n,o)}))},highlightAt:(e,t,n,o)=>{((e,t,n,o)=>{const r=Gc(e.element,"."+t.itemClass);return O.from(r[o]).fold((()=>ro.error(new Error("No element found with index "+o))),e.getSystem().getByDom)})(e,t,0,o).fold((e=>{throw e}),(o=>{Lh(e,t,n,o)}))},highlightBy:(e,t,n,o)=>{const r=Vh(e,t);Z(r,o).each((o=>{Lh(e,t,n,o)}))},isHighlighted:Hh,getHighlighted:(e,t,n)=>ps(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Fh,getLast:Bh,getPrevious:(e,t,n)=>Uh(e,t,0,-1),getNext:(e,t,n)=>Uh(e,t,0,1),getCandidates:Vh}),Wh=[nr("highlightClass"),nr("itemClass"),As("onHighlight"),As("onDehighlight")];const Zh=kl({fields:Wh,name:"highlighting",apis:jh}),$h=[8],qh=[9],Gh=[13],Kh=[27],Yh=[32],Jh=[37],Xh=[38],Qh=[39],em=[40],tm=(e,t,n)=>{const o=Y(e.slice(0,t)),r=Y(e.slice(t+1));return Z(o.concat(r),n)},nm=(e,t,n)=>{const o=Y(e.slice(0,t));return Z(o,n)},om=(e,t,n)=>{const o=e.slice(0,t),r=e.slice(t+1);return Z(r.concat(o),n)},rm=(e,t,n)=>{const o=e.slice(t+1);return Z(o,n)},im=e=>t=>{const n=t.raw;return z(e,n.which)},am=e=>t=>K(e,(e=>e(t))),sm=e=>!0===e.raw.shiftKey,lm=e=>!0===e.raw.ctrlKey,cm=S(sm),um=(e,t)=>({matches:e,classification:t}),dm=(e,t,n)=>{t.exists((e=>n.exists((t=>Xe(t,e)))))||Ii(e,Ei(),{prevFocus:t,newFocus:n})},hm=()=>{const e=e=>zl(e.element);return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const r=e(t);dm(t,o,r)}}},mm=()=>{const e=e=>Zh.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(v,(e=>{Zh.highlight(t,e)}));const r=e(t);dm(t,o,r)}}};var pm;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(pm||(pm={}));const fm=(e,t,n,o,r)=>{const i=(e,t,n,o,r)=>{return(i=n(e,t,o,r),a=t.event,Z(i,(e=>e.matches(a))).map((e=>e.classification))).bind((n=>n(e,t,o,r)));var i,a},a={schema:()=>e.concat([br("focusManager",hm()),wr("focusInside","onFocus",Zo((e=>z(["onFocus","onEnterOrSpace","onApi"],e)?ro.value(e):ro.error("Invalid value for focusInside")))),zs("handler",a),zs("state",t),zs("sendFocusIn",r)]),processKey:i,toEvents:(e,t)=>{const a=e.focusInside!==pm.OnFocusMode?O.none():r(e).map((n=>Vi(si(),((o,r)=>{n(o,e,t),r.stop()})))),s=[Vi(Yr(),((o,a)=>{i(o,a,n,e,t).fold((()=>{((n,o)=>{const i=im(Yh.concat(Gh))(o.event);e.focusInside===pm.OnEnterOrSpaceMode&&i&&zr(n,o)&&r(e).each((r=>{r(n,e,t),o.stop()}))})(o,a)}),(e=>{a.stop()}))})),Vi(Jr(),((n,r)=>{i(n,r,o,e,t).each((e=>{r.stop()}))}))];return Fi(a.toArray().concat(s))}};return a},gm=e=>{const t=[dr("onEscape"),dr("onEnter"),br("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),br("firstTabstop",0),br("useTabstopAt",M),dr("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>fs(t,e))).getOr(t);return jt(n)>0},o=(e,t,o)=>{((e,t)=>{const o=Gc(e.element,t.selector),r=V(o,(e=>n(t,e)));return O.from(r[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},r=(e,t,o,r)=>{const i=Gc(e.element,o.selector);return((e,t)=>t.focusManager.get(e).bind((e=>fs(e,t.selector))))(e,o).bind((t=>$(i,C(Xe,t)).bind((t=>((e,t,o,r,i)=>i(t,o,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(r,e))).fold((()=>r.cyclic?O.some(!0):O.none()),(t=>(r.focusManager.set(e,t),O.some(!0)))))(e,i,t,o,r)))))},i=w([um(am([sm,im(qh)]),((e,t,n)=>{const o=n.cyclic?tm:nm;return r(e,0,n,o)})),um(im(qh),((e,t,n)=>{const o=n.cyclic?om:rm;return r(e,0,n,o)})),um(am([cm,im(Gh)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),a=w([um(im(Kh),((e,t,n)=>n.onEscape.bind((n=>n(e,t)))))]);return fm(t,ka.init,i,a,(()=>O.some(o)))};var vm=gm(er("cyclic",T)),ym=gm(er("cyclic",M));const bm=(e,t,n)=>yh(n)&&im(Yh)(t.event)?O.none():((e,t,n)=>(Ni(e,n,di()),O.some(!0)))(e,0,n),wm=(e,t)=>O.some(!0),_m=[br("execute",bm),br("useSpace",!1),br("useEnter",!0),br("useControlEnter",!1),br("useDown",!1)],xm=(e,t,n)=>n.execute(e,t,e.element);var Cm=fm(_m,ka.init,((e,t,n,o)=>{const r=n.useSpace&&!yh(e.element)?Yh:[],i=n.useEnter?Gh:[],a=n.useDown?em:[],s=r.concat(i).concat(a);return[um(im(s),xm)].concat(n.useControlEnter?[um(am([lm,im(Gh)]),xm)]:[])}),((e,t,n,o)=>n.useSpace&&!yh(e.element)?[um(im(Yh),wm)]:[]),(()=>O.none()));const Sm=()=>{const e=Ql();return Ea({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var km=Object.freeze({__proto__:null,flatgrid:Sm,init:e=>e.state(e)});const Em=e=>(t,n,o,r)=>{const i=e(t.element);return Dm(i,t,n,o,r)},Tm=(e,t)=>{const n=gc(e,t);return Em(n)},Mm=(e,t)=>{const n=gc(t,e);return Em(n)},Om=e=>(t,n,o,r)=>Dm(e,t,n,o,r),Dm=(e,t,n,o,r)=>o.focusManager.get(t).bind((n=>e(t.element,n,o,r))).map((e=>(o.focusManager.set(t,e),!0))),Am=Om,Rm=Om,Pm=Om,Im=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),zm=(e,t,n)=>{const o=Gc(e,n);return((e,n)=>$(e,(e=>Xe(e,t))).map((t=>({index:t,candidates:e}))))(V(o,Im))},Nm=(e,t)=>$(e,(e=>Xe(t,e))),Lm=(e,t,n,o)=>o(Math.floor(t/n),t%n).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?O.some(e[o]):O.none()})),Hm=(e,t,n,o,r)=>Lm(e,t,o,((t,i)=>{const a=t===n-1?e.length-t*o:o,s=Gs(i,r,0,a-1);return O.some({row:t,column:s})})),Fm=(e,t,n,o,r)=>Lm(e,t,o,((t,i)=>{const a=Gs(t,r,0,n-1),s=a===n-1?e.length-a*o:o,l=Ks(i,0,s-1);return O.some({row:a,column:l})})),Bm=[nr("selector"),br("execute",bm),Rs("onEscape"),br("captureTab",!1),Ls()],Um=(e,t,n)=>{ps(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Vm=e=>(t,n,o,r)=>zm(t,n,o.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns)))),jm=(e,t,n)=>n.captureTab?O.some(!0):O.none(),Wm=Vm(((e,t,n,o)=>Hm(e,t,n,o,-1))),Zm=Vm(((e,t,n,o)=>Hm(e,t,n,o,1))),$m=Vm(((e,t,n,o)=>Fm(e,t,n,o,-1))),qm=Vm(((e,t,n,o)=>Fm(e,t,n,o,1))),Gm=w([um(im(Jh),Tm(Wm,Zm)),um(im(Qh),Mm(Wm,Zm)),um(im(Xh),Am($m)),um(im(em),Rm(qm)),um(am([sm,im(qh)]),jm),um(am([cm,im(qh)]),jm),um(im(Yh.concat(Gh)),((e,t,n,o)=>((e,t)=>t.focusManager.get(e).bind((e=>fs(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o)))))]),Km=w([um(im(Kh),((e,t,n)=>n.onEscape(e,t))),um(im(Yh),wm)]);var Ym=fm(Bm,Sm,Gm,Km,(()=>O.some(Um)));const Jm=(e,t,n,o,r)=>{const i=(e,t,n)=>r(e,t,o,0,n.length-1,n[t],(t=>{return o=n[t],"button"===Ve(o)&&"disabled"===kt(o,"disabled")?i(e,t,n):O.from(n[t]);var o}));return zm(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return i(t,t,n)}))},Xm=(e,t,n,o)=>Jm(e,t,n,o,((e,t,n,o,r,i,a)=>{const s=Ks(t+n,o,r);return s===e?O.from(i):a(s)})),Qm=(e,t,n,o)=>Jm(e,t,n,o,((e,t,n,o,r,i,a)=>{const s=Gs(t,n,o,r);return s===e?O.none():a(s)})),ep=[nr("selector"),br("getInitial",O.none),br("execute",bm),Rs("onEscape"),br("executeOnMove",!1),br("allowVertical",!0),br("allowHorizontal",!0),br("cycles",!0)],tp=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>fs(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o))),np=(e,t,n)=>{t.getInitial(e).orThunk((()=>ps(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},op=(e,t,n)=>(n.cycles?Qm:Xm)(e,n.selector,t,-1),rp=(e,t,n)=>(n.cycles?Qm:Xm)(e,n.selector,t,1),ip=e=>(t,n,o,r)=>e(t,n,o,r).bind((()=>o.executeOnMove?tp(t,n,o):O.some(!0))),ap=w([um(im(Yh),wm),um(im(Kh),((e,t,n)=>n.onEscape(e,t)))]);var sp=fm(ep,ka.init,((e,t,n,o)=>{const r=[...n.allowHorizontal?Jh:[]].concat(n.allowVertical?Xh:[]),i=[...n.allowHorizontal?Qh:[]].concat(n.allowVertical?em:[]);return[um(im(r),ip(Tm(op,rp))),um(im(i),ip(Mm(op,rp))),um(im(Gh),tp),um(im(Yh),tp)]}),ap,(()=>O.some(np)));const lp=(e,t,n)=>O.from(e[t]).bind((e=>O.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),cp=(e,t,n,o)=>{const r=e[t].length,i=Gs(n,o,0,r-1);return lp(e,t,i)},up=(e,t,n,o)=>{const r=Gs(n,o,0,e.length-1),i=e[r].length,a=Ks(t,0,i-1);return lp(e,r,a)},dp=(e,t,n,o)=>{const r=e[t].length,i=Ks(n+o,0,r-1);return lp(e,t,i)},hp=(e,t,n,o)=>{const r=Ks(n+o,0,e.length-1),i=e[r].length,a=Ks(t,0,i-1);return lp(e,r,a)},mp=[lr("selectors",[nr("row"),nr("cell")]),br("cycles",!0),br("previousSelector",O.none),br("execute",bm)],pp=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return ps(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},fp=(e,t)=>(n,o,r)=>{const i=r.cycles?e:t;return fs(o,r.selectors.row).bind((e=>{const t=Gc(e,r.selectors.cell);return Nm(t,o).bind((t=>{const o=Gc(n,r.selectors.row);return Nm(o,e).bind((e=>{const n=((e,t)=>F(e,(e=>Gc(e,t.selectors.cell))))(o,r);return i(n,e,t).map((e=>e.cell))}))}))}))},gp=fp(((e,t,n)=>cp(e,t,n,-1)),((e,t,n)=>dp(e,t,n,-1))),vp=fp(((e,t,n)=>cp(e,t,n,1)),((e,t,n)=>dp(e,t,n,1))),yp=fp(((e,t,n)=>up(e,n,t,-1)),((e,t,n)=>hp(e,n,t,-1))),bp=fp(((e,t,n)=>up(e,n,t,1)),((e,t,n)=>hp(e,n,t,1))),wp=w([um(im(Jh),Tm(gp,vp)),um(im(Qh),Mm(gp,vp)),um(im(Xh),Am(yp)),um(im(em),Rm(bp)),um(im(Yh.concat(Gh)),((e,t,n)=>zl(e.element).bind((o=>n.execute(e,t,o)))))]),_p=w([um(im(Yh),wm)]);var xp=fm(mp,ka.init,wp,_p,(()=>O.some(pp)));const Cp=[nr("selector"),br("execute",bm),br("moveOnTab",!1)],Sp=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),kp=(e,t,n)=>{ps(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Ep=(e,t,n)=>Qm(e,n.selector,t,-1),Tp=(e,t,n)=>Qm(e,n.selector,t,1),Mp=w([um(im(Xh),Pm(Ep)),um(im(em),Pm(Tp)),um(am([sm,im(qh)]),((e,t,n,o)=>n.moveOnTab?Pm(Ep)(e,t,n,o):O.none())),um(am([cm,im(qh)]),((e,t,n,o)=>n.moveOnTab?Pm(Tp)(e,t,n,o):O.none())),um(im(Gh),Sp),um(im(Yh),Sp)]),Op=w([um(im(Yh),wm)]);var Dp=fm(Cp,ka.init,Mp,Op,(()=>O.some(kp)));const Ap=[Rs("onSpace"),Rs("onEnter"),Rs("onShiftEnter"),Rs("onLeft"),Rs("onRight"),Rs("onTab"),Rs("onShiftTab"),Rs("onUp"),Rs("onDown"),Rs("onEscape"),br("stopSpaceKeyup",!1),dr("focusIn")];var Rp=fm(Ap,ka.init,((e,t,n)=>[um(im(Yh),n.onSpace),um(am([cm,im(Gh)]),n.onEnter),um(am([sm,im(Gh)]),n.onShiftEnter),um(am([sm,im(qh)]),n.onShiftTab),um(am([cm,im(qh)]),n.onTab),um(im(Xh),n.onUp),um(im(em),n.onDown),um(im(Jh),n.onLeft),um(im(Qh),n.onRight),um(im(Yh),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[um(im(Yh),wm)]:[],um(im(Kh),n.onEscape)]),(e=>e.focusIn));const Pp=vm.schema(),Ip=ym.schema(),zp=sp.schema(),Np=Ym.schema(),Lp=xp.schema(),Hp=Cm.schema(),Fp=Dp.schema(),Bp=Rp.schema(),Up=Tl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Pp,cyclic:Ip,flow:zp,flatgrid:Np,matrix:Lp,execution:Hp,menu:Fp,special:Bp}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,r)=>{(e=>be(e,"setGridSize"))(n)?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:km}),Vp=(e,t)=>{Nl((()=>{((e,t,n)=>{const o=e.components();(e=>{B(e.components(),(e=>Un(e.element))),Bn(e.element),e.syncComponents()})(e);const r=n(t),i=J(o,r);B(i,(t=>{Su(t),e.getSystem().removeFromWorld(t)})),B(r,(t=>{Cu(t)?Mu(e,t):(e.getSystem().addToWorld(t),Mu(e,t),bt(e.element)&&ku(t))})),e.syncComponents()})(e,t,(()=>F(t,e.getSystem().build)))}),e.element)},jp=(e,t)=>{Nl((()=>{((n,o,r)=>{const i=n.components(),a=G(o,(e=>Ca(e).toArray()));B(i,(e=>{z(a,e)||Tu(e)}));const s=((e,t,n)=>Ka(e,t,((t,o)=>Ya(e,o,t,n))))(e.element,t,e.getSystem().buildOrPatch),l=J(i,s);B(l,(e=>{Cu(e)&&Tu(e)})),B(s,(e=>{Cu(e)||Eu(n,e)})),n.syncComponents()})(e,t)}),e.element)},Wp=(e,t,n,o)=>{Tu(t);const r=Ya(e.element,n,o,e.getSystem().buildOrPatch);Eu(e,r),e.syncComponents()},Zp=(e,t,n)=>{const o=e.getSystem().build(n);Du(e,o,t)},$p=(e,t,n,o)=>{Ru(t),Zp(e,((e,t)=>((e,t,n)=>{lt(e,n).fold((()=>{Hn(e,t)}),(e=>{zn(e,t)}))})(e,t,n)),o)},qp=(e,t)=>e.components(),Gp=(e,t,n,o,r)=>{const i=qp(e);return O.from(i[o]).map((n=>(r.fold((()=>Ru(n)),(r=>{(t.reuseDom?Wp:$p)(e,n,o,r)})),n)))};var Kp=Object.freeze({__proto__:null,append:(e,t,n,o)=>{Zp(e,Hn,o)},prepend:(e,t,n,o)=>{Zp(e,Ln,o)},remove:(e,t,n,o)=>{const r=qp(e),i=Z(r,(e=>Xe(o.element,e.element)));i.each(Ru)},replaceAt:Gp,replaceBy:(e,t,n,o,r)=>{const i=qp(e);return $(i,o).bind((n=>Gp(e,t,0,n,r)))},set:(e,t,n,o)=>(t.reuseDom?jp:Vp)(e,o),contents:qp});const Yp=kl({fields:[Sr("reuseDom",!0)],name:"replacing",apis:Kp}),Jp=(e,t)=>{const n=((e,t)=>{const n=Fi(t);return kl({fields:[nr("enabled")],name:e,active:{events:w(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:w({}),initialConfig:{},state:ka}}},Xp=(e,t)=>{t.ignore||(Al(e.element),t.onFocus(e))};var Qp=Object.freeze({__proto__:null,focus:Xp,blur:(e,t)=>{t.ignore||Rl(e.element)},isFocused:e=>Pl(e.element)}),ef=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ma(n)},events:e=>Fi([Vi(si(),((t,n)=>{Xp(t,e),n.stop()}))].concat(e.stopMousedown?[Vi(jr(),((e,t)=>{t.event.prevent()}))]:[]))}),tf=[As("onFocus"),br("stopMousedown",!1),br("ignore",!1)];const nf=kl({fields:tf,name:"focusing",active:ef,apis:Qp}),of=(e,t,n,o)=>{const r=n.get();n.set(o),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?Ba(e.element,t):Ua(e.element,t)}))})(e,t,n),((e,t,n)=>{const o=t.aria;o.update(e,o,n.get())})(e,t,n),r!==o&&t.onToggled(e,o)},rf=(e,t,n)=>{of(e,t,n,!n.get())},af=(e,t,n)=>{of(e,t,n,t.selected)};var sf=Object.freeze({__proto__:null,onLoad:af,toggle:rf,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{of(e,t,n,!0)},off:(e,t,n)=>{of(e,t,n,!1)},set:of}),lf=Object.freeze({__proto__:null,exhibit:()=>Ma({}),events:(e,t)=>{const n=(o=e,r=t,i=rf,Qi((e=>{i(e,o,r)})));var o,r,i;const a=wl(e,t,af);return Fi(q([e.toggleOnExecute?[n]:[],[a]]))}});const cf=(e,t,n)=>{Ct(e.element,"aria-expanded",n)};var uf=[br("selected",!1),dr("toggleClass"),br("toggleOnExecute",!0),As("onToggled"),wr("aria",{mode:"none"},Jo("mode",{pressed:[br("syncWithExpanded",!1),zs("update",((e,t,n)=>{Ct(e.element,"aria-pressed",n),t.syncWithExpanded&&cf(e,0,n)}))],checked:[zs("update",((e,t,n)=>{Ct(e.element,"aria-checked",n)}))],expanded:[zs("update",cf)],selected:[zs("update",((e,t,n)=>{Ct(e.element,"aria-selected",n)}))],none:[zs("update",v)]}))];const df=kl({fields:uf,name:"toggling",active:lf,apis:sf,state:{init:()=>{const e=Mr(!1);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(!1),readState:()=>e.get()}}}}),hf=()=>{const e=(e,t)=>{t.stop(),zi(e)};return[Vi(ei(),e),Vi(mi(),e),qi(Fr()),qi(jr())]},mf=e=>Fi(q([e.map((e=>Qi(((t,n)=>{e(t),n.stop()})))).toArray(),hf()])),pf="alloy.item-hover",ff="alloy.item-focus",gf="alloy.item-toggled",vf=e=>{(zl(e.element).isNone()||nf.isFocused(e))&&(nf.isFocused(e)||nf.focus(e),Ii(e,pf,{item:e}))},yf=e=>{Ii(e,ff,{item:e})},bf=w(pf),wf=w(ff),_f=w(gf),xf=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),Cf=[nr("data"),nr("components"),nr("dom"),br("hasSubmenu",!1),dr("toggling"),yd("itemBehaviours",[df,nf,Up,pd]),br("ignoreFocus",!1),br("domModification",{}),zs("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:xf(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:bd(e.itemBehaviours,[e.toggling.fold(df.revoke,(e=>df.config((e=>({aria:{mode:"checked"},...me(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{p(e.onToggled)&&e.onToggled(t,n),((e,t)=>{Ii(e,gf,{item:e,state:t})})(t,n)}}))(e)))),nf.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{yf(e)}}),Up.config({mode:"execution"}),pd.config({store:{mode:"memory",initialValue:e.data}}),Jp("item-type-events",[...hf(),Vi(qr(),vf),Vi(hi(),nf.focus)])]),components:e.components,eventOrder:e.eventOrder}))),br("eventOrder",{})],Sf=[nr("dom"),nr("components"),zs("builder",(e=>({dom:e.dom,components:e.components,events:Fi([Gi(hi())])})))],kf=w("item-widget"),Ef=w([Vd({name:"widget",overrides:e=>({behaviours:Cl([pd.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),Tf=[nr("uid"),nr("data"),nr("components"),nr("dom"),br("autofocus",!1),br("ignoreFocus",!1),yd("widgetBehaviours",[pd,nf,Up]),br("domModification",{}),ch(Ef()),zs("builder",(e=>{const t=eh(kf(),e,Ef()),n=th(kf(),e,t.internals()),o=t=>nh(t,e,"widget").map((e=>(Up.focusIn(e),e))),r=(t,n)=>yh(n.event.target)?O.none():e.autofocus?(n.setSource(t.element),O.none()):O.none();return{dom:e.dom,components:n,domModification:e.domModification,events:Fi([Qi(((e,t)=>{o(e).each((e=>{t.stop()}))})),Vi(qr(),vf),Vi(hi(),((t,n)=>{e.autofocus?o(t):nf.focus(t)}))]),behaviours:bd(e.widgetBehaviours,[pd.config({store:{mode:"memory",initialValue:e.data}}),nf.config({ignore:e.ignoreFocus,onFocus:e=>{yf(e)}}),Up.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:Ml(),onLeft:r,onRight:r,onEscape:(t,n)=>nf.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),O.none()):O.none():(nf.focus(t),O.some(!0))})])}}))],Mf=Jo("type",{widget:Tf,item:Cf,separator:Sf}),Of=w([Zd({factory:{sketch:e=>{const t=Ko("menu.spec item",Mf,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>ye(t,"uid")?t:{...t,uid:fa("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),Df=w([nr("value"),nr("items"),nr("dom"),nr("components"),br("eventOrder",{}),fd("menuBehaviours",[Zh,pd,_h,Up]),wr("movement",{mode:"menu",moveOnTab:!0},Jo("mode",{grid:[Ls(),zs("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[zs("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),nr("rowSelector"),br("previousSelector",O.none)],menu:[br("moveOnTab",!0),zs("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),or("markers",Es()),br("fakeFocus",!1),br("focusManager",hm()),As("onHighlight"),As("onDehighlight")]),Af=w("alloy.menu-focus"),Rf=vh({name:"Menu",configFields:Df(),partFields:Of(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vd(e.menuBehaviours,[Zh.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),pd.config({store:{mode:"memory",initialValue:e.value}}),_h.config({find:O.some}),Up.config(e.movement.config(e,e.movement))]),events:Fi([Vi(wf(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Zh.highlight(e,n),t.stop(),Ii(e,Af(),{menu:e,item:n})}))})),Vi(bf(),((e,t)=>{const n=t.event.item;Zh.highlight(e,n)})),Vi(_f(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===kt(n.element,"role")&&((e,t)=>{const n=Gc(e.element,'[role="menuitemradio"][aria-checked="true"]');B(n,(n=>{Xe(n,t.element)||e.getSystem().getByDom(n).each((e=>{df.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),Pf=(e,t,n,o)=>ve(n,o).bind((o=>ve(e,o).bind((o=>{const r=Pf(e,t,n,o);return O.some([o].concat(r))})))).getOr([]),If=e=>"prepared"===e.type?O.some(e.menu):O.none(),zf=()=>{const e=Mr({}),t=Mr({}),n=Mr({}),o=Ql(),r=Mr({}),i=e=>a(e).bind(If),a=e=>ve(t.get(),e),s=t=>ve(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(i,a,s,l)=>{o.set(i),e.set(s),t.set(a),r.set(l);const c=((e,t)=>{const n={};le(e,((e,t)=>{B(e,(e=>{n[e]=t}))}));const o=t,r=ue(t,((e,t)=>({k:e,v:t}))),i=ce(r,((e,t)=>[t].concat(Pf(n,o,r,t))));return ce(n,(e=>ve(i,e).getOr([e])))})(l,s);n.set(c)},expand:t=>ve(e.get(),t).map((e=>{const o=ve(n.get(),t).getOr([]);return[e].concat(o)})),refresh:e=>ve(n.get(),e),collapse:e=>ve(n.get(),e).bind((e=>e.length>1?O.some(e.slice(1)):O.none())),lookupMenu:a,lookupItem:s,otherMenus:e=>{const t=r.get();return J(ae(t),e)},getPrimary:()=>o.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),o.clear()},isClear:()=>o.get().isNone(),getTriggeringPath:(t,r)=>{const a=V(s(t).toArray(),(e=>i(e).isSome()));return ve(n.get(),t).bind((t=>{const n=Y(a.concat(t));return(e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return O.none();t.push(o.getOrDie())}return O.some(t)})(G(n,((t,a)=>((t,n,o)=>i(t).bind((r=>(t=>fe(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:r,triggeringItem:e,triggeringPath:o}))))))))(t,r,n.slice(0,a+1)).fold((()=>we(o.get(),t)?[]:[O.none()]),(e=>[O.some(e)])))))}))}}},Nf=If,Lf=la("tiered-menu-item-highlight"),Hf=la("tiered-menu-item-dehighlight");var Ff;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(Ff||(Ff={}));const Bf=w("collapse-item"),Uf=gh({name:"TieredMenu",configFields:[Is("onExecute"),Is("onEscape"),Ps("onOpenMenu"),Ps("onOpenSubmenu"),As("onRepositionMenu"),As("onCollapseMenu"),br("highlightOnOpen",Ff.HighlightMenuAndItem),lr("data",[nr("primary"),nr("menus"),nr("expansions")]),br("fakeFocus",!1),As("onHighlightItem"),As("onDehighlightItem"),As("onHover"),Ms(),nr("dom"),br("navigateOnHover",!0),br("stayInDom",!1),fd("tmenuBehaviours",[Up,Zh,_h,Yp]),br("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=Ql(),o=zf(),r=e=>pd.getValue(e).value,i=t=>ce(e.data.menus,((e,t)=>G(e.items,(e=>"separator"===e.type?[]:[e.data.value])))),a=Zh.highlight,s=(t,n)=>{a(t,n),Zh.getHighlighted(n).orThunk((()=>Zh.getFirst(n))).each((o=>{e.fakeFocus?Zh.highlight(n,o):Ni(t,o.element,hi())}))},l=(e,t)=>_e(F(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?O.some(e.menu):O.none()))))),c=(t,n,o)=>{const r=l(n,n.otherMenus(o));B(r,(n=>{Wa(n.element,[e.markers.backgroundMenu]),e.stayInDom||Yp.remove(t,n)}))},u=(t,o)=>{const i=(t=>n.get().getOrThunk((()=>{const o={},i=Gc(t.element,`.${e.markers.item}`),a=V(i,(e=>"true"===kt(e,"aria-haspopup")));return B(a,(e=>{t.getSystem().getByDom(e).each((e=>{const t=r(e);o[t]=e}))})),n.set(o),o})))(t);le(i,((e,t)=>{const n=z(o,t);Ct(e.element,"aria-expanded",n)}))},d=(t,n,o)=>O.from(o[0]).bind((r=>n.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return O.none();{const i=r.menu,a=l(n,o.slice(1));return B(a,(t=>{Ba(t.element,e.markers.backgroundMenu)})),bt(i.element)||Yp.append(t,as(i)),Wa(i.element,[e.markers.backgroundMenu]),s(t,i),c(t,n,o),O.some(i)}}))));let h;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(h||(h={}));const m=(t,n,i=h.HighlightSubmenu)=>{if(n.hasConfigured(zh)&&zh.isDisabled(n))return O.some(n);{const a=r(n);return o.expand(a).bind((r=>(u(t,r),O.from(r[0]).bind((a=>o.lookupMenu(a).bind((s=>{const l=((e,t,n)=>{if("notbuilt"===n.type){const r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu})(t,a,s);return bt(l.element)||Yp.append(t,as(l)),e.onOpenSubmenu(t,n,l,Y(r)),i===h.HighlightSubmenu?(Zh.highlightFirst(l),d(t,o,r)):(Zh.dehighlightAll(l),O.some(n))})))))))}},p=(t,n)=>{const i=r(n);return o.collapse(i).bind((r=>(u(t,r),d(t,o,r).map((o=>(e.onCollapseMenu(t,n,o),o))))))},f=t=>(n,o)=>fs(o.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(M))))),g=Fi([Vi(Af(),((e,t)=>{const n=t.event.item;o.lookupItem(r(n)).each((()=>{const n=t.event.menu;Zh.highlight(e,n);const i=r(t.event.item);o.refresh(i).each((t=>c(e,o,t)))}))})),Qi(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{0===r(n).indexOf("collapse-item")&&p(t,n),m(t,n,h.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),v)}))})),Yi(((t,n)=>{(t=>{const n=((t,n,o)=>ce(o,((o,r)=>{const i=()=>Rf.sketch({...o,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Ii(e,Lf,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Ii(e,Hf,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?mm():hm()});return r===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})))(t,e.data.primary,e.data.menus),r=i();return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()})(t).each((n=>{Yp.append(t,as(n)),e.onOpenMenu(t,n),e.highlightOnOpen===Ff.HighlightMenuAndItem?s(t,n):e.highlightOnOpen===Ff.HighlightJustMenu&&a(t,n)}))})),Vi(Lf,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),Vi(Hf,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[Vi(bf(),((t,n)=>{const i=n.event.item;((e,t)=>{const n=r(t);o.refresh(n).bind((t=>(u(e,t),d(e,o,t))))})(t,i),m(t,i,h.HighlightParent),e.onHover(t,i)}))]:[]]),y=e=>Zh.getHighlighted(e).bind(Zh.getHighlighted),b={collapseMenu:e=>{y(e).each((t=>{p(e,t)}))},highlightPrimary:e=>{o.getPrimary().each((t=>{s(e,t)}))},repositionMenus:t=>{const n=o.getPrimary().bind((e=>y(t).bind((e=>{const t=r(e),n=ge(o.getMenus()),i=_e(F(n,Nf));return o.getTriggeringPath(t,(e=>((e,t,n)=>ie(t,(e=>{if(!e.getSystem().isConnected())return O.none();const t=Zh.getCandidates(e);return Z(t,(e=>r(e)===n))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>O.from(e.components()[0]).filter((e=>"menu"===kt(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vd(e.tmenuBehaviours,[Up.config({mode:"special",onRight:f(((e,t)=>yh(t.element)?O.none():m(e,t,h.HighlightSubmenu))),onLeft:f(((e,t)=>yh(t.element)?O.none():p(e,t))),onEscape:f(((t,n)=>p(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{o.getPrimary().each((t=>{Ni(e,t.element,hi())}))}}),Zh.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),_h.config({find:e=>Zh.getHighlighted(e)}),Yp.config({})]),eventOrder:e.eventOrder,apis:b,events:g}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:Dr(e,t),expansions:{}}),collapseItem:e=>({value:la(Bf()),meta:{text:e}})}}),Vf=gh({name:"InlineView",configFields:[nr("lazySink"),As("onShow"),As("onHide"),gr("onEscape"),fd("inlineBehaviours",[Gu,pd,Ol]),yr("fireDismissalEventInstead",[br("event",Si())]),yr("fireRepositionEventInstead",[br("event",ki())]),br("getRelated",O.none),br("isExtraPart",T),br("eventOrder",O.none)],factory:(e,t)=>{const n=(t,n,o,r)=>{const i=e.lazySink(t).getOrDie();Gu.openWhileCloaked(t,n,(()=>xu.positionWithinBounds(i,t,o,r()))),pd.setValue(t,O.some({mode:"position",config:o,getBounds:r}))},o=(t,n,o,r)=>{const i=((e,t,n,o,r)=>{const i=()=>e.lazySink(t),a="horizontal"===o.type?{layouts:{onLtr:()=>gl(),onRtl:()=>vl()}}:{},s=e=>(e=>2===e.length)(e)?a:{};return Uf.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Gu.close(t),e.onEscape.map((e=>e(t))),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(e,t)=>{xu.positionWithinBounds(i().getOrDie(),t,n,r())},onOpenSubmenu:(e,t,n,o)=>{const r=i().getOrDie();xu.position(r,n,{anchor:{type:"submenu",item:t,...s(o)}})},onRepositionMenu:(e,t,o)=>{const a=i().getOrDie();xu.positionWithinBounds(a,t,n,r()),B(o,(e=>{const t=s(e.triggeringPath);xu.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,o,r);Gu.open(t,i),pd.setValue(t,O.some({mode:"menu",menu:i}))},r=t=>{Gu.isOpen(t)&&pd.getValue(t).each((n=>{switch(n.mode){case"menu":Gu.getState(t).each(Uf.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();xu.positionWithinBounds(o,t,n.config,n.getBounds())}}))},i={setContent:(e,t)=>{Gu.setContent(e,t)},showAt:(e,t,o)=>{const r=O.none;n(e,t,o,r)},showWithinBounds:n,showMenuAt:(e,t,n)=>{o(e,t,n,O.none)},showMenuWithinBounds:o,hide:e=>{Gu.isOpen(e)&&(pd.setValue(e,O.none()),Gu.close(e))},getContent:e=>Gu.getState(e),reposition:r,isOpen:Gu.isOpen};return{uid:e.uid,dom:e.dom,behaviours:vd(e.inlineBehaviours,[Gu.config({isPartOf:(t,n,o)=>ys(n,o)||((t,n)=>e.getRelated(t).exists((e=>ys(e,n))))(t,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),pd.config({store:{mode:"memory",initialValue:O.none()}}),Ol.config({channels:{...Qu({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...td({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:r})}})]),eventOrder:e.eventOrder,apis:i}},apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithinBounds:(e,t,n,o,r)=>{e.showWithinBounds(t,n,o,r)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,r)=>{e.showMenuWithinBounds(t,n,o,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var jf=tinymce.util.Tools.resolve("tinymce.util.Delay");const Wf=gh({name:"Button",factory:e=>{const t=mf(e.action),n=e.dom.tag,o=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:bd(e.buttonBehaviours,[nf.config({}),Up.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===n?{type:o("type").getOr("button"),...o("role").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(o("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[br("uid",void 0),nr("dom"),br("components",[]),yd("buttonBehaviours",[nf,Up]),dr("action"),dr("role"),br("eventOrder",{})]}),Zf=e=>{const t=(e=>void 0!==e.uid)(e)&&be(e,"uid")?e.uid:fa("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var $f=tinymce.util.Tools.resolve("tinymce.util.I18n");const qf={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Gf="temporary-placeholder",Kf=e=>()=>ve(e,Gf).getOr("!not found!"),Yf=(e,t)=>{const n=e.toLowerCase();if($f.isRtl()){const e=((e,t)=>Oe(e,t)?e:((e,t)=>e+t)(e,t))(n,"-rtl");return ye(t,e)?e:n}return n},Jf=(e,t)=>ve(t,Yf(e,t)),Xf=(e,t)=>{const n=t();return Jf(e,n).getOrThunk(Kf(n))},Qf=()=>Jp("add-focusable",[Yi((e=>{ms(e.element,"svg").each((e=>Ct(e,"focusable","false")))}))]),eg=(e,t,n,o)=>{var r,i;const a=(e=>!!$f.isRtl()&&ye(qf,e))(t)?["tox-icon--flip"]:[],s=ve(n,Yf(t,n)).or(o).getOrThunk(Kf(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(a),innerHtml:s},behaviours:Cl([...null!==(i=e.behaviours)&&void 0!==i?i:[],Qf()])}},tg=(e,t,n,o=O.none())=>eg(t,e,n(),o),ng={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},og=gh({name:"Notification",factory:e=>{const t=Zf({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Cl([Yp.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=Zf({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:Cl([Yp.config({})])}),i={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{Yp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},updateText:(e,n)=>{if(e.getSystem().isConnected()){const o=t.get(e);Yp.set(o,[ts(n)])}}},a=q([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>O.from(ng[e]))).toArray()]),s=Zf(Wf.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[tg("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,n)=>{const o=n(),r=Z(e,(e=>ye(o,Yf(e,o))));return eg({tag:"div",classes:["tox-notification__icon"]},r.getOr(Gf),o,O.none())})(a,0,e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Cl([Yp.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:Cl([nf.config({}),Jp("notification-events",[Vi(Gr(),(e=>{s.getOpt(e).each(nf.focus)}))])]),components:c.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[s.asSpec()]:[]),apis:i}},configFields:[dr("level"),nr("progress"),dr("icon"),nr("onAction"),nr("text"),nr("iconProvider"),nr("translationProvider"),Sr("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var rg,ig,ag=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),sg=tinymce.util.Tools.resolve("tinymce.EditorManager"),lg=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(rg||(rg={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(ig||(ig={}));const cg=e=>t=>t.options.get(e),ug=e=>t=>O.from(e(t)),dg=e=>{const t=lg.deviceType.isPhone(),n=lg.deviceType.isTablet()||t,o=e.options.register,r=e=>i(e)||!1===e,a=e=>i(e)||f(e);o("skin",{processor:e=>i(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:a,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:a,default:ag.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>i(e)||u(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>u(e)||i(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),L(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:ig.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||u(e),default:!lg.deviceType.isTouch()}),o("sidebar_show",{processor:"string"})},hg=cg("readonly"),mg=cg("height"),pg=cg("width"),fg=ug(cg("min_width")),gg=ug(cg("min_height")),vg=ug(cg("max_width")),yg=ug(cg("max_height")),bg=ug(cg("style_formats")),wg=cg("style_formats_merge"),_g=cg("style_formats_autohide"),xg=cg("content_langs"),Cg=cg("removed_menuitems"),Sg=cg("toolbar_mode"),kg=cg("toolbar_groups"),Eg=cg("toolbar_location"),Tg=cg("fixed_toolbar_container"),Mg=cg("fixed_toolbar_container_target"),Og=cg("toolbar_persist"),Dg=cg("toolbar_sticky_offset"),Ag=cg("menubar"),Rg=cg("toolbar"),Pg=cg("file_picker_callback"),Ig=cg("file_picker_validator_handler"),zg=cg("font_size_input_default_unit"),Ng=cg("file_picker_types"),Lg=cg("typeahead_urls"),Hg=cg("anchor_top"),Fg=cg("anchor_bottom"),Bg=cg("draggable_modal"),Ug=cg("statusbar"),Vg=cg("elementpath"),jg=cg("branding"),Wg=cg("resize"),Zg=cg("paste_as_text"),$g=cg("sidebar_show"),qg=cg("promotion"),Gg=e=>!1===e.options.get("skin"),Kg=e=>!1!==e.options.get("menubar"),Yg=e=>{const t=e.options.get("skin_url");if(Gg(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return sg.baseURL+"/skins/ui/"+t}},Jg=e=>e.options.get("line_height_formats").split(" "),Xg=e=>{const t=Rg(e),n=i(t),o=l(t)&&t.length>0;return!ev(e)&&(o||n||!0===t)},Qg=e=>{const t=L(9,(t=>e.options.get("toolbar"+(t+1)))),n=V(t,i);return Se(n.length>0,n)},ev=e=>Qg(e).fold((()=>{const t=Rg(e);return g(t,i)&&t.length>0}),M),tv=e=>Eg(e)===ig.bottom,nv=e=>{var t;if(!e.inline)return O.none();const n=null!==(t=Tg(e))&&void 0!==t?t:"";if(n.length>0)return ps(wt(),n);const o=Mg(e);return m(o)?O.some(Le(o)):O.none()},ov=e=>e.inline&&nv(e).isSome(),rv=e=>nv(e).getOrThunk((()=>gt(ft(Le(e.getElement()))))),iv=e=>e.inline&&!Kg(e)&&!Xg(e)&&!ev(e),av=e=>(e.options.get("toolbar_sticky")||e.inline)&&!ov(e)&&!iv(e),sv=e=>!ov(e)&&"split"===e.options.get("ui_mode"),lv=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var cv=Object.freeze({__proto__:null,get ToolbarMode(){return rg},get ToolbarLocation(){return ig},register:dg,getSkinUrl:Yg,isReadOnly:hg,isSkinDisabled:Gg,getHeightOption:mg,getWidthOption:pg,getMinWidthOption:fg,getMinHeightOption:gg,getMaxWidthOption:vg,getMaxHeightOption:yg,getUserStyleFormats:bg,shouldMergeStyleFormats:wg,shouldAutoHideStyleFormats:_g,getLineHeightFormats:Jg,getContentLanguages:xg,getRemovedMenuItems:Cg,isMenubarEnabled:Kg,isMultipleToolbars:ev,isToolbarEnabled:Xg,isToolbarPersist:Og,getMultipleToolbarsOption:Qg,getUiContainer:rv,useFixedContainer:ov,isSplitUiMode:sv,getToolbarMode:Sg,isDraggableModal:Bg,isDistractionFree:iv,isStickyToolbar:av,getStickyToolbarOffset:Dg,getToolbarLocation:Eg,isToolbarLocationBottom:tv,getToolbarGroups:kg,getMenus:lv,getMenubar:Ag,getToolbar:Rg,getFilePickerCallback:Pg,getFilePickerTypes:Ng,useTypeaheadUrls:Lg,getAnchorTop:Hg,getAnchorBottom:Fg,getFilePickerValidatorHandler:Ig,getFontSizeInputDefaultUnit:zg,useStatusBar:Ug,useElementPath:Vg,promotionEnabled:qg,useBranding:jg,getResize:Wg,getPasteAsText:Zg,getSidebarShow:$g});const uv="[data-mce-autocompleter]",dv=e=>fs(e,uv);var hv;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(hv||(hv={}));var mv=hv;const pv="tox-menu-nav__js",fv="tox-collection__item",gv="tox-swatch",vv={normal:pv,color:gv},yv="tox-collection__item--enabled",bv="tox-collection__item-icon",wv="tox-collection__item-label",_v="tox-collection__item-caret",xv="tox-collection__item--active",Cv="tox-collection__item-container",Sv="tox-collection__item-container--row",kv=e=>ve(vv,e).getOr(pv),Ev=e=>"color"===e?"tox-swatches":"tox-menu",Tv=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Ev(e),tieredMenu:"tox-tiered-menu"}),Mv=e=>{const t=Tv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:kv(e)}},Ov=(e,t,n)=>{const o=Tv(n);return{tag:"div",classes:q([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},Dv=[Rf.parts.items({})],Av=(e,t,n)=>{const o=Tv(n);return{dom:{tag:"div",classes:q([[o.tieredMenu]])},markers:Mv(n)}},Rv=w([dr("data"),br("inputAttributes",{}),br("inputStyles",{}),br("tag","input"),br("inputClasses",[]),As("onSetValue"),br("styles",{}),br("eventOrder",{}),fd("inputBehaviours",[pd,nf]),br("selectOnFocus",!0)]),Pv=e=>Cl([nf.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=$a(t);t.dom.setSelectionRange(0,n.length)}:v})]),Iv=e=>({...Pv(e),...vd(e.inputBehaviours,[pd.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>$a(e.element),setValue:(e,t)=>{$a(e.element)!==t&&qa(e.element,t)}},onSetValue:e.onSetValue})])}),zv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Nv=gh({name:"Input",configFields:Rv(),factory:(e,t)=>({uid:e.uid,dom:zv(e),components:[],behaviours:Iv(e),eventOrder:e.eventOrder})}),Lv=la("refetch-trigger-event"),Hv=la("redirect-menu-item-interaction"),Fv="tox-menu__searcher",Bv=e=>ps(e.element,`.${Fv}`).bind((t=>e.getSystem().getByDom(t).toOptional())),Uv=Bv,Vv=e=>({fetchPattern:pd.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),jv=e=>{const t=(e,t)=>(t.cut(),O.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return Ii(e,Hv,n),O.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[fv]},components:[Nv.sketch({inputClasses:[Fv,"tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Cl([Jp(o,[Vi(Xr(),(e=>{Pi(e,Lv)})),Vi(Yr(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),Up.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,Up.name()]}})]}},Wv="tox-collection--results__js",Zv=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:la("aria-item-search-result-id"),"aria-selected":"false"}}}:e},$v=(e,t)=>n=>{const o=H(n,t);return F(o,(t=>({dom:e,components:t})))},qv=(e,t)=>{const n=[];let o=[];return B(e,((e,r)=>{t(e,r)?(o.length>0&&n.push(o),o=[],(ye(e.dom,"innerHtml")||e.components&&e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),F(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Gv=(e,t,n)=>Rf.parts.items({preprocess:o=>{const r=F(o,n);return"auto"!==e&&e>1?$v({tag:"div",classes:["tox-collection__group"]},e)(r):qv(r,((e,n)=>"separator"===t[n].type))}}),Kv=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Gv(e,t,_)]}),Yv=e=>N(e,(e=>"icon"in e&&void 0!==e.icon)),Jv=e=>(console.error(Yo(e)),console.log(e),O.none()),Xv=(e,t,n,o,r)=>{const i=(a=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Rf.parts.items({preprocess:e=>qv(e,((e,t)=>"separator"===a[t].type))})]});var a;return{value:e,dom:i.dom,components:i.components,items:n}},Qv=(e,t,n,o,r)=>{if("color"===r.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Rf.parts.items({preprocess:"auto"!==e?$v({tag:"div",classes:["tox-swatches__row"]},e):_})]}]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType&&"auto"===o){const t=Kv(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType||"searchable"===r.menuType){const t="searchable"!==r.menuType?Kv(o,n):"search-with-field"===r.searchMode.searchMode?((e,t,n)=>{const o=la("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[jv({i18n:$f.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],Wv],attributes:{id:o}},components:[Gv(e,t,Zv)]}]}})(o,n,r.searchMode):((e,t,n=!0)=>{const o=la("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Wv].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[Gv(e,t,Zv)]}})(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===r.menuType&&"auto"!==o){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Rf.parts.items({preprocess:$v({tag:"div",classes:["tox-collection__group"]},e)})]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:Ov(t,o,r.menuType),components:Dv,items:n}},ey=ir("type"),ty=ir("name"),ny=ir("label"),oy=ir("text"),ry=ir("title"),iy=ir("icon"),ay=ir("value"),sy=sr("fetch"),ly=sr("getSubmenuItems"),cy=sr("onAction"),uy=sr("onItemAction"),dy=kr("onSetup",(()=>v)),hy=pr("name"),my=pr("text"),py=pr("icon"),fy=pr("tooltip"),gy=pr("label"),vy=pr("shortcut"),yy=gr("select"),by=Sr("active",!1),wy=Sr("borderless",!1),_y=Sr("enabled",!0),xy=Sr("primary",!1),Cy=e=>br("columns",e),Sy=br("meta",{}),ky=kr("onAction",v),Ey=e=>xr("type",e),Ty=e=>Qo("name","name",yo((()=>la(`${e}-name`))),Fo),My=Ao([ey,my]),Oy=Ao([Ey("autocompleteitem"),by,_y,Sy,ay,my,py]),Dy=[_y,fy,py,my,dy],Ay=Ao([ey,cy].concat(Dy)),Ry=e=>qo("toolbarbutton",Ay,e),Py=[by].concat(Dy),Iy=Ao(Py.concat([ey,cy])),zy=e=>qo("ToggleButton",Iy,e),Ny=[kr("predicate",T),Cr("scope","node",["node","editor"]),Cr("position","selection",["node","selection","line"])],Ly=Dy.concat([Ey("contextformbutton"),xy,cy,er("original",_)]),Hy=Py.concat([Ey("contextformbutton"),xy,cy,er("original",_)]),Fy=Dy.concat([Ey("contextformbutton")]),By=Py.concat([Ey("contextformtogglebutton")]),Uy=Jo("type",{contextformbutton:Ly,contextformtogglebutton:Hy}),Vy=Ao([Ey("contextform"),kr("initValue",w("")),gy,ur("commands",Uy),hr("launch",Jo("type",{contextformbutton:Fy,contextformtogglebutton:By}))].concat(Ny)),jy=Ao([Ey("contexttoolbar"),ir("items")].concat(Ny)),Wy=[ey,ir("src"),pr("alt"),Er("classes",[],Fo)],Zy=Ao(Wy),$y=[ey,oy,hy,Er("classes",["tox-collection__item-label"],Fo)],qy=Ao($y),Gy=Mo((()=>Wo("type",{cardimage:Zy,cardtext:qy,cardcontainer:Ky}))),Ky=Ao([ey,xr("direction","horizontal"),xr("align","left"),xr("valign","middle"),ur("items",Gy)]),Yy=[_y,my,vy,Qo("value","value",yo((()=>la("menuitem-value"))),No()),Sy],Jy=Ao([ey,gy,ur("items",Gy),dy,ky].concat(Yy)),Xy=Ao([ey,by,py].concat(Yy)),Qy=[ey,ir("fancytype"),ky],eb=[br("initData",{})].concat(Qy),tb=[gr("select"),Tr("initData",{},[Sr("allowCustomColors",!0),xr("storageKey","default"),vr("colors",No())])].concat(Qy),nb=Jo("fancytype",{inserttable:eb,colorswatch:tb}),ob=Ao([ey,dy,ky,py].concat(Yy)),rb=Ao([ey,ly,dy,py].concat(Yy)),ib=Ao([ey,py,by,dy,cy].concat(Yy)),ab=(e,t,n)=>{const o=Gc(e.element,"."+n);if(o.length>0){const e=$(o,(e=>{const n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return O.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return O.none()},sb=e=>((e,t)=>Cl([Jp(e,t)]))(la("unnamed-events"),e),lb=la("tooltip.exclusive"),cb=la("tooltip.show"),ub=la("tooltip.hide"),db=(e,t,n)=>{e.getSystem().broadcastOn([lb],{})};var hb=Object.freeze({__proto__:null,hideAllExclusive:db,setComponents:(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Yp.set(e,o)}))}}),mb=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((o=>{Ru(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return Fi(q([[Vi(cb,(n=>{t.resetTimer((()=>{(n=>{if(!t.isShowing()){db(n);const o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Fi("normal"===e.mode?[Vi(qr(),(e=>{Pi(n,cb)})),Vi(Zr(),(e=>{Pi(n,ub)}))]:[]),behaviours:Cl([Yp.config({})])});t.setTooltip(r),Ou(o,r),e.onShow(n,r),xu.position(o,r,{anchor:e.anchor(n)})}})(n)}),e.delay)})),Vi(ub,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),Vi(ui(),((e,t)=>{const o=t;o.universal||z(o.channels,lb)&&n(e)})),Ji((e=>{n(e)}))],"normal"===e.mode?[Vi(Gr(),(e=>{Pi(e,cb)})),Vi(li(),(e=>{Pi(e,ub)})),Vi(qr(),(e=>{Pi(e,cb)})),Vi(Zr(),(e=>{Pi(e,ub)}))]:[Vi(Ai(),((e,t)=>{Pi(e,cb)})),Vi(Ri(),(e=>{Pi(e,ub)}))]]))}}),pb=[nr("lazySink"),nr("tooltipDom"),br("exclusive",!0),br("tooltipComponents",[]),br("delay",300),Cr("mode","normal",["normal","follow-highlight"]),br("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:w([cl,ll,rl,al,il,sl]),onRtl:w([cl,ll,rl,al,il,sl])}}))),As("onHide"),As("onShow")],fb=Object.freeze({__proto__:null,init:()=>{const e=Ql(),t=Ql(),n=()=>{e.on(clearTimeout)},o=w("not-implemented");return Ea({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:(t,o)=>{n(),e.set(setTimeout(t,o))},readState:o})}});const gb=kl({fields:pb,name:"tooltipping",active:mb,state:fb,apis:hb}),vb="silver.readonly",yb=Ao([or("readonly",Bo)]),bb=(e,t)=>{const n=e.mainUi.outerContainer.element,o=[e.mainUi.mothership,...e.uiMotherships];t&&B(o,(e=>{e.broadcastOn([Ku()],{target:n})})),B(o,(e=>{e.broadcastOn([vb],{readonly:t})}))},wb=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&bb(t,!0)})),e.on("SwitchMode",(()=>bb(t,e.mode.isReadOnly()))),hg(e)&&e.mode.set("readonly")},_b=()=>Ol.config({channels:{[vb]:{schema:yb,onReceive:(e,t)=>{zh.set(e,t.readonly)}}}}),xb=e=>zh.config({disabled:e}),Cb=e=>zh.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Sb=e=>zh.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),kb=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},Eb=(e,t)=>Yi((n=>{kb(e,n)((n=>{const o=e.onSetup(n);p(o)&&t.set(o)}))})),Tb=(e,t)=>Ji((n=>kb(e,n)(t.get()))),Mb=(e,t)=>Qi(((n,o)=>{kb(e,n)(e.onAction),e.triggersSubmenu||t!==mv.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Pi(n,fi()),o.stop())})),Ob={[di()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Db=_e,Ab=(e,t,n,o)=>{const r=Mr(v);return{type:"item",dom:t.dom,components:Db(t.optComponents),data:e.data,eventOrder:Ob,hasSubmenu:e.triggersSubmenu,itemBehaviours:Cl([Jp("item-events",[Mb(e,n),Eb(e,r),Tb(e,r)]),(i=()=>!e.enabled||o.isDisabled(),zh.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),_b(),Yp.config({})].concat(e.itemBehaviours))};var i},Rb=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Pb=e=>{const t=lg.os.isMacOS()||lg.os.isiOS(),n=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},o=e.split("+"),r=F(o,(e=>{const t=e.toLowerCase().trim();return ye(n,t)?n[t]:e}));return t?r.join(""):r.join("+")},Ib=(e,t,n=[bv])=>tg(e,{tag:"div",classes:n},t),zb=e=>({dom:{tag:"div",classes:[wv]},components:[ts($f.translate(e))]}),Nb=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),Lb=(e,t)=>({dom:{tag:"div",classes:[wv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[ts($f.translate(t))]}]}),Hb=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ts(Pb(e))]}),Fb=e=>Ib("checkmark",e,["tox-collection__item-checkmark"]),Bb=e=>{const t=e.map((e=>({attributes:{title:$f.translate(e),id:la("menu-item")}}))).getOr({});return{tag:"div",classes:[pv,fv],...t}},Ub=(e,t,n,o=O.none())=>"color"===e.presets?((e,t,n)=>{const o=e.ariaLabel,r=e.value,i=e.iconContent.map((e=>((e,t,n)=>{const o=t();return Jf(e,o).or(n).getOrThunk(Kf(o))})(e,t.icons,n)));return{dom:(()=>{const e=gv,n=i.getOr(""),a=o.map((e=>({title:t.translate(e)}))).getOr({}),s={tag:"div",attributes:a,classes:[e]};return"custom"===r?{...s,tag:"button",classes:[...s.classes,"tox-swatches__picker-btn"],innerHtml:n}:"remove"===r?{...s,classes:[...s.classes,"tox-swatch--remove"],innerHtml:n}:m(r)?{...s,attributes:{...s.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:n}:s})(),optComponents:[]}})(e,t,o):((e,t,n,o)=>{const r={tag:"div",classes:[bv]},i=n?e.iconContent.map((e=>tg(e,r,t.icons,o))).orThunk((()=>O.some({dom:r}))):O.none(),a=e.checkMark,s=O.from(e.meta).fold((()=>zb),(e=>ye(e,"style")?C(Lb,e.style):zb)),l=e.htmlContent.fold((()=>e.textContent.map(s)),(e=>O.some(Nb(e,[wv]))));return{dom:Bb(e.ariaLabel),optComponents:[i,l,e.shortcutContent.map(Hb),a,e.caret]}})(e,t,n,o),Vb=(e,t)=>ve(e,"tooltipWorker").map((e=>[gb.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:cc}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{gb.setComponents(t,[ns({element:Le(e)})])}))}})])).getOr([]),jb=(e,t)=>{const n=(e=>ag.DOM.encode(e))($f.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},Wb=(e,t)=>F(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":Sv,o="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Cv,n,o,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,Wb(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>z(t.cardText.highlightOn,e))),o=n?O.from(t.cardText.matchText).getOr(""):"";return Nb(jb(e.text,o),e.classes)}})),Zb=Kd(kf(),Ef()),$b=e=>({value:Yb(e)}),qb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Gb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Kb=e=>qb.test(e)||Gb.test(e),Yb=e=>Ee(e,"#").toUpperCase(),Jb=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Xb=e=>{const t=Jb(e.red)+Jb(e.green)+Jb(e.blue);return $b(t)},Qb=Math.min,ew=Math.max,tw=Math.round,nw=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,ow=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rw=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),iw=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},aw=e=>{let t,n,o;const r=(e.hue||0)%360;let i=e.saturation/100,a=e.value/100;if(i=ew(0,Qb(i,1)),a=ew(0,Qb(a,1)),0===i)return t=n=o=tw(255*a),rw(t,n,o,1);const s=r/60,l=a*i,c=l*(1-Math.abs(s%2-1)),u=a-l;switch(Math.floor(s)){case 0:t=l,n=c,o=0;break;case 1:t=c,n=l,o=0;break;case 2:t=0,n=l,o=c;break;case 3:t=0,n=c,o=l;break;case 4:t=c,n=0,o=l;break;case 5:t=l,n=0,o=c;break;default:t=n=o=0}return t=tw(255*(t+u)),n=tw(255*(n+u)),o=tw(255*(o+u)),rw(t,n,o,1)},sw=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(qb,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}})(e),n=Gb.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n})(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return rw(n,o,r,1)},lw=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(o);return rw(r,i,a,s)},cw=e=>{if("transparent"===e)return O.some(rw(0,0,0,0));const t=nw.exec(e);if(null!==t)return O.some(lw(t[1],t[2],t[3],"1"));const n=ow.exec(e);return null!==n?O.some(lw(n[1],n[2],n[3],n[4])):O.none()},uw=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,dw=rw(255,0,0,1),hw=(e,t)=>{e.dispatch("ResizeContent",t)},mw=(e,t)=>{e.dispatch("TextColorChange",t)},pw=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),fw=(e,t)=>()=>{e(),t()},gw=e=>yw(e,"NodeChange",(t=>{t.setEnabled(e.selection.isEditable())})),vw=(e,t)=>n=>{const o=gw(e)(n),r=((e,t)=>n=>{const o=Xl(),r=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),o.clear()}})(e,t)(n);return()=>{o(),r()}},yw=(e,t,n)=>o=>{const r=()=>n(o),i=()=>{n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,r)}},bw=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},ww=(e,t)=>()=>e.execCommand(t);var _w=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const xw={},Cw=e=>ve(xw,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=_w.getItem(t);if(h(n)){const e=_w.getItem("tinymce-custom-colors");_w.setItem(t,m(e)?e:"[]")}const o=((e,t=10)=>{const n=_w.getItem(e),o=i(n)?JSON.parse(n):[],r=t-(a=o).length<0?a.slice(0,t):a;var a;const s=e=>{r.splice(e,1)};return{add:n=>{I(r,n).each(s),r.unshift(n),r.length>t&&r.pop(),_w.setItem(e,JSON.stringify(r))},state:()=>r.slice(0)}})(t,10);return xw[e]=o,o})),Sw=(e,t)=>{Cw(e).add(t)},kw=(e,t,n)=>({hue:e,saturation:t,value:n}),Ew=e=>{let t=0,n=0,o=0;const r=e.red/255,i=e.green/255,a=e.blue/255,s=Math.min(r,Math.min(i,a)),l=Math.max(r,Math.max(i,a));return s===l?(o=s,kw(0,0,100*o)):(t=r===s?3:a===s?1:5,t=60*(t-(r===s?i-a:a===s?r-i:a-r)/(l-s)),n=(l-s)/l,o=l,kw(Math.round(t),Math.round(100*n),Math.round(100*o)))},Tw=e=>Xb(aw(e)),Mw=e=>{return(t=e,Kb(t)?O.some({value:Yb(t)}):O.none()).orThunk((()=>cw(e).map(Xb))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],a=o[2],s=o[3];return Xb(rw(r,i,a,s))}));var t},Ow="forecolor",Dw="hilitecolor",Aw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),Rw=(e,t)=>{const n=Aw(t),o=Iw("color_cols")(e);return 5===n?o:n},Pw=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+Mw(e[n]).value,icon:"checkmark",type:"choiceitem"});return t},Iw=e=>t=>t.options.get(e),zw="#000000",Nw=(e,t)=>{const n=((e,t)=>t===Ow?Iw("color_cols_foreground")(e):t===Dw?Iw("color_cols_background")(e):Iw("color_cols")(e))(e,t);return n>0?n:5},Lw=Iw("custom_colors"),Hw=(e,t)=>t===Ow&&e.options.isSet("color_map_foreground")?Iw("color_map_foreground")(e):t===Dw&&e.options.isSet("color_map_background")?Iw("color_map_background")(e):Iw("color_map")(e),Fw=Iw("color_default_foreground"),Bw=Iw("color_default_background"),Uw=(e,t)=>{const n=Le(e.selection.getStart()),o="hilitecolor"===t?Ir(n,(e=>{if(Ze(e)){const t=It(e,"background-color");return Se(cw(t).exists((e=>0!==e.alpha)),t)}return O.none()})).getOr("rgba(0, 0, 0, 0)"):It(n,"color");return cw(o).map((e=>"#"+Xb(e).value))},Vw=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},jw=(e,t,n,o)=>{"custom"===n?Yw(e)((n=>{n.each((n=>{Sw(t,n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),Uw(e,t).getOr(zw)):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Ww=(e,t,n)=>e.concat((e=>F(Cw(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(Vw(n))),Zw=(e,t,n)=>o=>{o(Ww(e,t,n))},$w=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},qw=(e,t)=>n=>{const o=Uw(e,t);return we(o,n.toUpperCase())},Gw=(e,t,n,o,r)=>{e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:qw(e,n),columns:Nw(e,n),fetch:Zw(Hw(e,n),n,Lw(e)),onAction:t=>{jw(e,n,r.get(),v)},onItemAction:(o,i)=>{jw(e,n,i,(n=>{r.set(n),mw(e,{name:t,color:n})}))},onSetup:n=>{$w(n,t,r.get());const o=e=>{e.name===t&&$w(n,e.name,e.color)};return e.on("TextColorChange",o),fw(gw(e)(n),(()=>{e.off("TextColorChange",o)}))}})},Kw=(e,t,n,o,r)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:n=>($w(n,t,r.get()),gw(e)(n)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:qw(e,n),initData:{storageKey:n},onAction:o=>{jw(e,n,o.value,(n=>{r.set(n),mw(e,{name:t,color:n})}))}}]})},Yw=e=>(t,n)=>{let o=!1;const r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:(e,t)=>{"hex-valid"===t.name&&(o=t.value)},onSubmit:n=>{const r=n.getData().colorpicker;o?(t(O.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:v,onCancel:()=>{t(O.none())}})},Jw=(e,t,n,o,r,i,a,s)=>{const l=Yv(t),c=Xw(t,n,o,"color"!==r?"normal":"color",i,a,s);return Qv(e,l,c,o,{menuType:r})},Xw=(e,t,n,o,r,i,a)=>_e(F(e,(s=>{return"choiceitem"===s.type?(l=s,qo("choicemenuitem",Xy,l)).fold(Jv,(s=>O.some(((e,t,n,o,r,i,a,s=!0)=>{const l=Ub({presets:n,textContent:t?e.text:O.none(),htmlContent:O.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:O.none(),checkMark:t?O.some(Fb(a.icons)):O.none(),caret:O.none(),value:e.value},a,s);return go(Ab({data:Rb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{df.set(e,t)},isActive:()=>df.isOn(e),isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t)}),onAction:t=>o(e.value),onSetup:e=>(e.setActive(r),v),triggersSubmenu:!1,itemBehaviours:[]},l,i,a),{toggling:{toggleClass:yv,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(s,1===n,o,t,i(s.value),r,a,Yv(e))))):O.none();var l}))),Qw=(e,t)=>{const n=Mv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?ps(e.element,"[aria-checked=true]"):O.none()}},e_=la("cell-over"),t_=la("cell-execute"),n_=(e,t,n)=>{const o=n=>Ii(n,t_,{row:e,col:t}),r=(e,t)=>{t.stop(),o(e)};return is({dom:{tag:"div",attributes:{role:"button","aria-labelledby":n}},behaviours:Cl([Jp("insert-table-picker-cell",[Vi(qr(),nf.focus),Vi(di(),o),Vi(ei(),r),Vi(mi(),r)]),df.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),nf.config({onFocus:n=>Ii(n,e_,{row:e,col:t})})])})},o_=e=>G(e,(e=>F(e,as))),r_=(e,t)=>ts(`${t}x${e}`),i_={inserttable:e=>{const t=la("size-label"),n=((e,t,n)=>{const o=[];for(let r=0;r<10;r++){const t=[];for(let n=0;n<10;n++)t.push(n_(r,n,e));o.push(t)}return o})(t),o=r_(0,0),r=Zf({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[o],behaviours:Cl([Yp.config({})])});return{type:"widget",data:{value:la("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Zb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:o_(n).concat(r.asSpec()),behaviours:Cl([Jp("insert-table-picker",[Yi((e=>{Yp.set(r.get(e),[o])})),$i(e_,((e,t,o)=>{const{row:i,col:a}=o.event;((e,t,n,o,r)=>{for(let i=0;i<10;i++)for(let o=0;o<10;o++)df.set(e[i][o],i<=t&&o<=n)})(n,i,a),Yp.set(r.get(e),[r_(i+1,a+1)])})),$i(t_,((t,n,o)=>{const{row:r,col:i}=o.event;e.onAction({numRows:r+1,numColumns:i+1}),Pi(t,fi())}))]),Up.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=((e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Ww(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(Vw(n))))})(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),r="color",i={...Jw(la("menu-value"),n,(t=>{e.onAction({value:t})}),o,r,mv.CLOSE_ON_EXECUTE,e.select.getOr(T),t.shared.providers),markers:Mv(r),movement:Qw(o,r)};return{type:"widget",data:{value:la("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Zb.widget(Rf.sketch(i))]}}},a_=e=>({type:"separator",dom:{tag:"div",classes:[fv,"tox-collection__group-heading"]},components:e.text.map(ts).toArray()});var s_=Object.freeze({__proto__:null,getCoupled:(e,t,n,o)=>n.getOrCreate(e,t,o),getExistingCoupled:(e,t,n,o)=>n.getExisting(e,t,o)}),l_=[or("others",$o(ro.value,No()))],c_=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,n)=>{if(0===ae(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,n)},n=w({});return Ea({readState:n,getExisting:(e,n,o)=>t(n,o).orThunk((()=>(ve(n.others,o).getOrDie("No information found for coupled component: "+o),O.none()))),getOrCreate:(n,o,r)=>t(o,r).getOrThunk((()=>{const t=ve(o.others,r).getOrDie("No information found for coupled component: "+r)(n),i=n.getSystem().build(t);return e[r]=i,i}))})}});const u_=kl({fields:l_,name:"coupling",apis:s_,state:c_}),d_=e=>{let t=O.none(),n=[];const o=e=>{r()?i(e):n.push(e)},r=()=>t.isSome(),i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{r()||(t=O.some(e),B(n,i),n=[])})),{get:o,map:e=>d_((t=>{o((n=>{t(e(n))}))})),isReady:r}},h_={nu:d_,pure:e=>d_((t=>{t(e)}))},m_=e=>{setTimeout((()=>{throw e}),0)},p_=e=>{const t=t=>{e().then(t,m_)};return{map:t=>p_((()=>e().then(t))),bind:t=>p_((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>p_((()=>e().then((()=>t.toPromise())))),toLazy:()=>h_.nu(t),toCached:()=>{let t=null;return p_((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},f_=e=>p_((()=>new Promise(e))),g_=e=>p_((()=>Promise.resolve(e))),v_=w("sink"),y_=w(Wd({name:v_(),overrides:w({dom:{tag:"div"},behaviours:Cl([xu.config({useFixed:M})]),events:Fi([qi(Yr()),qi(jr()),qi(ei())])})})),b_=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:r})),(e=>({type:o,hotspot:n,overrides:r,layouts:e})))},w_=(e,t,n,o,r,i,a)=>{const s=((e,t,n,o,r,i,a)=>{const s=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,o),l=C_(o,e);return s.map((e=>e.bind((e=>O.from(Uf.sketch({...i.menu(),uid:fa(""),data:e,highlightOnOpen:a,onOpenMenu:(e,t)=>{const o=l().getOrDie();xu.position(o,t,{anchor:n}),Gu.decloak(r)},onOpenSubmenu:(e,t,n)=>{const o=l().getOrDie();xu.position(o,n,{anchor:{type:"submenu",item:t}}),Gu.decloak(r)},onRepositionMenu:(e,t,o)=>{const r=l().getOrDie();xu.position(r,t,{anchor:n}),B(o,(e=>{xu.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(nf.focus(o),Gu.close(r),O.some(!0))}))))))})(e,t,b_(e,n),n,o,r,a);return s.map((e=>(e.fold((()=>{Gu.isOpen(o)&&Gu.close(o)}),(e=>{Gu.cloak(o),Gu.open(o,e),i(o)})),o)))},__=(e,t,n,o,r,i,a)=>(Gu.close(o),g_(o)),x_=(e,t,n,o,r,i)=>{const a=u_.getCoupled(n,"sandbox");return(Gu.isOpen(a)?__:w_)(e,t,n,a,o,r,i)},C_=(e,t)=>e.getSystem().getByUid(t.uid+"-"+v_()).map((e=>()=>ro.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>ro.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),S_=e=>{Gu.getState(e).each((e=>{Uf.repositionMenus(e)}))},k_=(e,t,n)=>{const o=vs(),r=C_(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:bd(e.sandboxBehaviours,[pd.config({store:{mode:"memory",initialValue:t}}),Gu.config({onOpen:(r,i)=>{const a=b_(e,t);o.link(t.element),e.matchWidth&&((e,t,n)=>{const o=_h.getCurrent(t).getOr(t),r=Jt(e.element);n?At(o.element,"min-width",r+"px"):((e,t)=>{Yt.set(e,t)})(o.element,r)})(a.hotspot,i,e.useMinWidth),e.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:(e,r)=>{o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:(e,n,o)=>ys(n,o)||ys(t,o),getAttachPoint:()=>r().getOrDie()}),_h.config({find:e=>Gu.getState(e).bind((e=>_h.getCurrent(e)))}),Ol.config({channels:{...Qu({isExtraPart:T}),...td({doReposition:S_})}})])}},E_=e=>{const t=u_.getCoupled(e,"sandbox");S_(t)},T_=()=>[br("sandboxClasses",[]),yd("sandboxBehaviours",[_h,Ol,Gu,pd])],M_=w([nr("dom"),nr("fetch"),As("onOpen"),Rs("onExecute"),br("getHotspot",O.some),br("getAnchorOverrides",w({})),_c(),fd("dropdownBehaviours",[df,u_,Up,nf]),nr("toggleClass"),br("eventOrder",{}),dr("lazySink"),br("matchWidth",!1),br("useMinWidth",!1),dr("role")].concat(T_())),O_=w([jd({schema:[Ms(),br("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),y_()]),D_=vh({name:"Dropdown",configFields:M_(),partFields:O_(),factory:(e,t,n,o)=>{const r=e=>{Gu.getState(e).each((e=>{Uf.highlightPrimary(e)}))},i=(t,n,r)=>x_(e,_,t,o,n,r),a={expand:e=>{df.isOn(e)||i(e,v,Ff.HighlightNone).get(v)},open:e=>{df.isOn(e)||i(e,v,Ff.HighlightMenuAndItem).get(v)},refetch:t=>u_.getExistingCoupled(t,"sandbox").fold((()=>i(t,v,Ff.HighlightMenuAndItem).map(v)),(n=>w_(e,_,t,n,o,v,Ff.HighlightMenuAndItem).map(v))),isOpen:df.isOn,close:e=>{df.isOn(e)&&i(e,v,Ff.HighlightMenuAndItem).get(v)},repositionMenus:e=>{df.isOn(e)&&E_(e)}},s=(e,t)=>(zi(e),O.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.dropdownBehaviours,[df.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),u_.config({others:{sandbox:t=>k_(e,t,{onOpen:()=>df.on(t),onClose:()=>df.off(t)})}}),Up.config({mode:"special",onSpace:s,onEnter:s,onDown:(e,t)=>{if(D_.isOpen(e)){const t=u_.getCoupled(e,"sandbox");r(t)}else D_.open(e);return O.some(!0)},onEscape:(e,t)=>D_.isOpen(e)?(D_.close(e),O.some(!0)):O.none()}),nf.config({})]),events:mf(O.some((e=>{i(e,r,Ff.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},apis:a,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:ve(e.dom,"attributes").bind((e=>ve(e,"type"))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),A_=(e,t,n)=>{Uv(e).each((e=>{var o;((e,t)=>{Et(t.element,"id").each((t=>Ct(e.element,"aria-activedescendant",t)))})(e,n),(Va((o=t).element,Wv)?O.some(o.element):ps(o.element,"."+Wv)).each((t=>{Et(t,"id").each((t=>Ct(e.element,"aria-controls",t)))}))})),Ct(n.element,"aria-selected","true")},R_=(e,t,n)=>{Ct(n.element,"aria-selected","false")},P_=e=>u_.getExistingCoupled(e,"sandbox").bind(Bv).map(Vv).map((e=>e.fetchPattern)).getOr("");var I_;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(I_||(I_={}));const z_=(e,t,n,o,r)=>{const i=n.shared.providers,a=e=>r?{...e,shortcut:O.none(),icon:e.text.isSome()?O.none():e.icon}:e;switch(e.type){case"menuitem":return(s=e,qo("menuitem",ob,s)).fold(Jv,(e=>O.some(((e,t,n,o=!0)=>{const r=Ub({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:O.none(),ariaLabel:e.text,caret:O.none(),checkMark:O.none(),shortcutContent:e.shortcut},n,o);return Ab({data:Rb(e),getApi:e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)})(a(e),t,i,o))));case"nestedmenuitem":return(e=>qo("nestedmenuitem",rb,e))(e).fold(Jv,(e=>O.some(((e,t,n,o=!0,r=!1)=>{const i=r?(a=n.icons,Ib("chevron-down",a,[_v])):(e=>Ib("chevron-right",e,[_v]))(n.icons);var a;const s=Ub({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:O.none(),ariaLabel:e.text,caret:O.some(i),checkMark:O.none(),shortcutContent:e.shortcut},n,o);return Ab({data:Rb(e),getApi:e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t),setIconFill:(t,n)=>{ps(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{Ct(e,"fill",n)}))}}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,t,n)})(a(e),t,i,o,r))));case"togglemenuitem":return(e=>qo("togglemenuitem",ib,e))(e).fold(Jv,(e=>O.some(((e,t,n,o=!0)=>{const r=Ub({iconContent:e.icon,textContent:e.text,htmlContent:O.none(),ariaLabel:e.text,checkMark:O.some(Fb(n.icons)),caret:O.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return go(Ab({data:Rb(e),enabled:e.enabled,getApi:e=>({setActive:t=>{df.set(e,t)},isActive:()=>df.isOn(e),isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:yv,toggleOnExecute:!1,selected:e.active}})})(a(e),t,i,o))));case"separator":return(e=>qo("separatormenuitem",My,e))(e).fold(Jv,(e=>O.some(a_(e))));case"fancymenuitem":return(e=>qo("fancymenuitem",nb,e))(e).fold(Jv,(e=>((e,t)=>ve(i_,e.fancytype).map((n=>n(e,t))))(e,n)));default:return console.error("Unknown item in general menu",e),O.none()}var s},N_=(e,t,n,o,r,i,a)=>{const s=1===o,l=!s||Yv(e);return _e(F(e,(e=>{switch(e.type){case"separator":return(o=e,qo("Autocompleter.Separator",My,o)).fold(Jv,(e=>O.some(a_(e))));case"cardmenuitem":return(e=>qo("cardmenuitem",Jy,e))(e).fold(Jv,(e=>O.some(((e,t,n,o)=>{const r={dom:Bb(e.label),optComponents:[O.some({dom:{tag:"div",classes:[Cv,Sv]},components:Wb(e.items,o)})]};return Ab({data:Rb({text:O.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>{zh.set(e,!t),B(Gc(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(zh)&&zh.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(o.itemBehaviours).getOr([])},r,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},r,i,{itemBehaviours:Vb(e.meta,i),cardText:{matchText:t,highlightOn:a}}))));default:return(e=>qo("Autocompleter.Item",Oy,e))(e).fold(Jv,(e=>O.some(((e,t,n,o,r,i,a,s=!0)=>{const l=Ub({presets:o,textContent:O.none(),htmlContent:n?e.text.map((e=>jb(e,t))):O.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:e.value},a.providers,s,e.icon);return Ab({data:Rb(e),enabled:e.enabled,getApi:w({}),onAction:t=>r(e.value,e.meta),onSetup:w(v),triggersSubmenu:!1,itemBehaviours:Vb(e.meta,a)},l,i,a.providers)})(e,t,s,"normal",n,r,i,l))))}var o})))},L_=(e,t,n,o,r,i)=>{const a=Yv(t),s=_e(F(t,(e=>{const t=e=>z_(e,n,o,(e=>r?!ye(e,"text"):a)(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(i);return(r?Xv:Qv)(e,a,s,1,l)},H_=e=>Uf.singleData(e.value,e),F_=(e,t)=>{const n=Mr(!1),o=Mr(!1),r=is(Vf.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Cl([Jp("dismissAutocompleter",[Vi(Si(),(()=>c()))])]),lazySink:t.getSink})),i=()=>Vf.isOpen(r),a=o.get,s=()=>{i()&&Vf.hide(r)},l=()=>Vf.getContent(r).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),u=o=>{const i=(o=>{const r=ie(o,(e=>O.from(e.columns))).getOr(1);return G(o,(o=>{const i=o.items;return N_(i,o.matchText,((t,r)=>{const i=e.selection.getRng();((e,t)=>dv(Le(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})))(e.dom,i).each((i=>{const a={hide:()=>c(),reload:t=>{s(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(a,i,t,r),n.set(!1)}))}),r,mv.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))})(o);i.length>0?((t,n)=>{var o;(o=Le(e.getBody()),ps(o,uv)).each((o=>{const i=ie(t,(e=>O.from(e.columns))).getOr(1);Vf.showMenuAt(r,{anchor:{type:"node",root:Le(e.getBody()),node:O.from(o)}},((e,t,n,o)=>{const r=Qw(t,o),i=Mv(o);return{data:H_({...e,movement:r,menuBehaviours:sb("auto"!==t?[]:[Yi(((e,t)=>{ab(e,4,i.item).each((({numColumns:t,numRows:n})=>{Up.setGridSize(e,n,t)}))}))])}),menu:{markers:Mv(o),fakeFocus:n===I_.ContentFocus}}})(Qv("autocompleter-value",!0,n,i,{menuType:"normal"}),i,I_.ContentFocus,"normal"))})),l().each(Zh.highlightFirst)})(o,i):s()};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),n.set(!1),u(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>u(e))),e.on("AutocompleterEnd",(()=>{s(),o.set(!1),n.set(!1)})),((e,t)=>{const n=(e,t)=>{Ii(e,Yr(),{raw:t})},o=()=>e.getMenu().bind(Zh.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(zi),t.preventDefault()):40===r?(o().fold((()=>{e.getMenu().each(Zh.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&dv(Le(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:a,isProcessingAction:n.get,getMenu:l},e)},B_=["visible","hidden"],U_=e=>{if(We(e)){const t=It(e,"overflow");return De(t).length>0&&!z(B_,t)}return!1},V_=(e,t)=>sv(e)?(e=>{const t=qc(e,U_),n=0===t.length?vt(e).map(yt).map((e=>qc(e,U_))).getOr([]):t;return ne(n).map((e=>({element:e,others:n.slice(1)})))})(t):O.none(),j_=e=>{const t=[...F(e.others,Jn),eo()];return((e,t)=>W(t,((e,t)=>Qn(e,t)),e))(Jn(e.element),t)},W_=(e,t,n)=>fs(e,t,n).isSome(),Z_=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)}}},$_=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?O.none():O.some(t.touches[0])},q_=(e,t)=>{const n={stopBackspace:!0,...t},o=(e=>{const t=Ql(),n=Mr(!1),o=Z_((t=>{e.triggerEvent(pi(),t),n.set(!0)}),400),r=Ar([{key:Fr(),value:e=>($_(e).each((r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),O.none())},{key:Br(),value:e=>(o.cancel(),$_(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),O.none())},{key:Ur(),value:r=>(o.cancel(),t.get().filter((e=>Xe(e.target,r.target))).map((t=>n.get()?(r.prevent(),!1):e.triggerEvent(mi(),r))))}]);return{fireIfReady:(e,t)=>ve(r,t).bind((t=>t(e)))}})(n),r=F(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>tc(e,t,(e=>{o.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),i=Ql(),a=tc(e,"paste",(e=>{o.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((()=>{n.triggerEvent(ci(),e)}),0))})),s=tc(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===$h[0]&&!z(["input","textarea"],Ve(e.target))&&!W_(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=tc(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),c=Ql(),u=tc(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{n.triggerEvent(li(),e)}),0))}));return{unbind:()=>{B(r,(e=>{e.unbind()})),s.unbind(),l.unbind(),u.unbind(),a.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}},G_=(e,t)=>{const n=ve(e,"target").getOr(t);return Mr(n)},K_=Or([{stopped:[]},{resume:["element"]},{complete:[]}]),Y_=(e,t,n,o,r,i)=>{const a=e(t,o),s=((e,t)=>{const n=Mr(!1),o=Mr(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}})(n,r);return a.fold((()=>(i.logEventNoHandlers(t,o),K_.complete())),(e=>{const n=e.descHandler;return Oa(n)(s),s.isStopped()?(i.logEventStopped(t,e.element,n.purpose),K_.stopped()):s.isCut()?(i.logEventCut(t,e.element,n.purpose),K_.complete()):rt(e.element).fold((()=>(i.logNoParent(t,e.element,n.purpose),K_.complete())),(o=>(i.logEventResponse(t,e.element,n.purpose),K_.resume(o))))}))},J_=(e,t,n,o,r,i)=>Y_(e,t,n,o,r,i).fold(M,(o=>J_(e,t,n,o,r,i)),T),X_=(e,t,n,o,r)=>{const i=G_(n,o);return J_(e,t,n,o,i,r)},Q_=()=>{const e=(()=>{const e={};return{registerId:(t,n,o)=>{le(o,((o,r)=>{const i=void 0!==e[r]?e[r]:{};i[n]=((e,t)=>({cHandler:C.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(o,t),e[r]=i}))},unregisterId:t=>{le(e,((e,n)=>{ye(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>pe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,o)=>ve(e,n).bind((e=>Ir(o,(t=>((e,t)=>pa(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{pa(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,o)=>e.find(t,n,o),filter:t=>e.filterByType(t),register:o=>{const r=(e=>{const t=e.element;return pa(t).getOrThunk((()=>((e,t)=>{const n=la(da+"uid-");return ma(t,n),n})(0,e.element)))})(o);be(t,r)&&((e,o)=>{const r=t[o];if(r!==e)throw new Error('The tagId "'+o+'" is already used by: '+oa(r.element)+"\nCannot use it for: "+oa(e.element)+"\nThe conflicting element is"+(bt(r.element)?" ":" not ")+"already in the DOM");n(e)})(o,r);const i=[o];e.registerId(i,r,o.events),t[r]=o},unregister:n,getById:e=>ve(t,e)}},ex=gh({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:gd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[br("components",[]),fd("containerBehaviours",[]),br("events",{}),br("domModification",{}),br("eventOrder",{})]}),tx=e=>{const t=t=>rt(e.element).fold(M,(e=>Xe(t,e))),n=Q_(),o=(e,o)=>n.find(t,e,o),r=q_(e.element,{triggerEvent:(e,t)=>xs(e,t.target,(n=>((e,t,n,o)=>X_(e,t,n,n.target,o))(o,e,t,n)))}),i={debugInfo:w("real"),triggerEvent:(e,t,n)=>{xs(e,t,(r=>X_(o,e,n,t,r)))},triggerFocus:(e,t)=>{pa(e).fold((()=>{Al(e)}),(n=>{xs(si(),e,(n=>(((e,t,n,o,r)=>{const i=G_(n,o);Y_(e,t,n,o,i,r)})(o,si(),{originator:t,kill:v,prevent:v,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>f(e),build:is,buildOrPatch:rs,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{s(e)},broadcast:e=>{d(e)},broadcastOn:(e,t)=>{h(e,t)},broadcastEvent:(e,t)=>{m(e,t)},isConnected:M},a=e=>{e.connect(i),$e(e.element)||(n.register(e),B(e.components(),a),i.triggerEvent(vi(),e.element,{target:e.element}))},s=e=>{$e(e.element)||(B(e.components(),s),n.unregister(e)),e.disconnect()},l=t=>{Ou(e,t)},c=e=>{Ru(e)},u=e=>{const t=n.filter(ui());B(t,(t=>{const n=t.descHandler;Oa(n)(e)}))},d=e=>{u({universal:!0,data:e})},h=(e,t)=>{u({universal:!1,channels:e,data:t})},m=(e,t)=>((e,t,n)=>{const o=(e=>{const t=Mr(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:T,event:e,setSource:k("Cannot set source of a broadcasted event"),getSource:k("Cannot get source of a broadcasted event")}})(t);return B(e,(e=>{const t=e.descHandler;Oa(t)(o)})),o.isStopped()})(n.filter(e),t),p=e=>n.getById(e).fold((()=>ro.error(new Error('Could not find component with uid: "'+e+'" in system.'))),ro.value),f=e=>{const t=pa(e).getOr("not found");return p(t)};return a(e),{root:e,element:e.element,destroy:()=>{r.unbind(),Un(e.element)},add:l,remove:c,getByUid:p,getByDom:f,addToWorld:a,removeFromWorld:s,broadcast:d,broadcastOn:h,broadcastEvent:m}},nx=w([br("prefix","form-field"),fd("fieldBehaviours",[_h,pd])]),ox=w([Wd({schema:[nr("dom")],name:"label"}),Wd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[nr("text")],name:"aria-descriptor"}),Vd({factory:{sketch:e=>{const t=((e,t)=>{const n={};return le(e,((e,o)=>{z(t,o)||(n[o]=e)})),n})(e,["factory"]);return e.factory.sketch(t)}},schema:[nr("factory")],name:"field"})]),rx=vh({name:"FormField",configFields:nx(),partFields:ox(),factory:(e,t,n,o)=>{const r=vd(e.fieldBehaviours,[_h.config({find:t=>nh(t,e,"field")}),pd.config({store:{mode:"manual",getValue:e=>_h.getCurrent(e).bind(pd.getValue),setValue:(e,t)=>{_h.getCurrent(e).each((e=>{pd.setValue(e,t)}))}}})]),i=Fi([Yi(((t,n)=>{const o=rh(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=la(e.prefix);o.label().each((e=>{Ct(e.element,"for",n),Ct(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=la(e.prefix);Ct(n.element,"id",o),Ct(t.element,"aria-describedby",o)}))}))}))]),a={getField:t=>nh(t,e,"field"),getLabel:t=>nh(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:a}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var ix=Object.freeze({__proto__:null,exhibit:(e,t)=>Ma({attributes:Ar([{key:t.tabAttr,value:"true"}])})}),ax=[br("tabAttr","data-alloy-tabstop")];const sx=kl({fields:ax,name:"tabstopping",active:ix});var lx=tinymce.util.Tools.resolve("tinymce.html.Entities");const cx=(e,t,n,o)=>{const r=ux(e,t,n,o);return rx.sketch(r)},ux=(e,t,n,o)=>({dom:dx(n),components:e.toArray().concat([t]),fieldBehaviours:Cl(o)}),dx=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),hx=(e,t)=>rx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ts(t.translate(e))]}),mx=la("form-component-change"),px=la("form-close"),fx=la("form-cancel"),gx=la("form-action"),vx=la("form-submit"),yx=la("form-block"),bx=la("form-unblock"),wx=la("form-tabchange"),_x=la("form-resize"),xx=["input","textarea"],Cx=e=>{const t=Ve(e);return z(xx,t)},Sx=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Ua(n,t.invalidClass),t.notify.each((t=>{Cx(e.element)&&Ct(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{ta(e,t.validHtml)})),t.onValid(e)}))},kx=(e,t,n,o)=>{const r=t.getRoot(e).getOr(e.element);Ba(r,t.invalidClass),t.notify.each((t=>{Cx(e.element)&&Ct(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{ta(e,o)})),t.onInvalid(e,o)}))},Ex=(e,t,n)=>t.validator.fold((()=>g_(ro.value(!0))),(t=>t.validate(e))),Tx=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),Ex(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(kx(e,t,0,n),ro.error(n))),(n=>(Sx(e,t),ro.value(n)))):ro.error("No longer in system"))));var Mx=Object.freeze({__proto__:null,markValid:Sx,markInvalid:kx,query:Ex,run:Tx,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return Va(n,t.invalidClass)}}),Ox=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Fi([Vi(t.onEvent,(t=>{Tx(t,e).get(_)}))].concat(t.validateOnLoad?[Yi((t=>{Tx(t,e).get(v)}))]:[])))).getOr({})}),Dx=[nr("invalidClass"),br("getRoot",O.none),yr("notify",[br("aria","alert"),br("getContainer",O.none),br("validHtml",""),As("onValid"),As("onInvalid"),As("onValidate")]),yr("validator",[nr("validate"),br("onEvent","input"),br("validateOnLoad",!0)])];const Ax=kl({fields:Dx,name:"invalidating",active:Ox,apis:Mx,extra:{validation:e=>t=>{const n=pd.getValue(t);return g_(e(n))}}}),Rx=kl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Fi([Bi(ri(),M)]),exhibit:()=>Ma({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Px=la("color-input-change"),Ix=la("color-swatch-change"),zx=la("color-picker-cancel"),Nx=Wd({schema:[nr("dom")],name:"label"}),Lx=e=>Wd({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Fi([ji(Fr(),((t,n,o)=>e(t,o)),[t]),ji(jr(),((t,n,o)=>e(t,o)),[t]),ji(Wr(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}),Hx=Lx("top-left"),Fx=Lx("top"),Bx=Lx("top-right"),Ux=Lx("right"),Vx=Lx("bottom-right"),jx=Lx("bottom"),Wx=Lx("bottom-left");var Zx=[Nx,Lx("left"),Ux,Fx,jx,Hx,Bx,Wx,Vx,Vd({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Fi([Zi(Fr(),e,"spectrum"),Zi(Br(),e,"spectrum"),Zi(Ur(),e,"spectrum"),Zi(jr(),e,"spectrum"),Zi(Wr(),e,"spectrum"),Zi($r(),e,"spectrum")])})}),Vd({schema:[er("mouseIsDown",(()=>Mr(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,o)=>t.getValueFromEvent(o).map((o=>t.setValueFrom(n,e,o)));return{behaviours:Cl([Up.config({mode:"special",onLeft:n=>t.onLeft(n,e),onRight:n=>t.onRight(n,e),onUp:n=>t.onUp(n,e),onDown:n=>t.onDown(n,e)}),nf.config({})]),events:Fi([Vi(Fr(),n),Vi(Br(),n),Vi(jr(),n),Vi(Wr(),((t,o)=>{e.mouseIsDown.get()&&n(t,o)}))])}}})];const $x=w("slider.change.value"),qx=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?O.some(e.touches[0]).map((e=>$t(e.clientX,e.clientY))):O.none()}{const e=t;return void 0!==e.clientX?O.some(e).map((e=>$t(e.clientX,e.clientY))):O.none()}},Gx=e=>e.model.minX,Kx=e=>e.model.minY,Yx=e=>e.model.minX-1,Jx=e=>e.model.minY-1,Xx=e=>e.model.maxX,Qx=e=>e.model.maxY,eC=e=>e.model.maxX+1,tC=e=>e.model.maxY+1,nC=(e,t,n)=>t(e)-n(e),oC=e=>nC(e,Xx,Gx),rC=e=>nC(e,Qx,Kx),iC=e=>oC(e)/2,aC=e=>rC(e)/2,sC=e=>e.stepSize,lC=e=>e.snapToGrid,cC=e=>e.snapStart,uC=e=>e.rounded,dC=(e,t)=>void 0!==e[t+"-edge"],hC=e=>dC(e,"left"),mC=e=>dC(e,"right"),pC=e=>dC(e,"top"),fC=e=>dC(e,"bottom"),gC=e=>e.model.value.get(),vC=(e,t)=>({x:e,y:t}),yC=(e,t)=>{Ii(e,$x(),{value:t})},bC=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),wC=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),_C=(e,t,n)=>Math.max(t,Math.min(n,e)),xC=e=>{const{min:t,max:n,range:o,value:r,step:i,snap:a,snapStart:s,rounded:l,hasMinEdge:c,hasMaxEdge:u,minBound:d,maxBound:h,screenRange:m}=e,p=c?t-1:t,f=u?n+1:n;if(r<d)return p;if(r>h)return f;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(r,d,h),c=_C(e/m*o+t,p,f);return a&&c>=t&&c<=n?((e,t,n,o,r)=>r.fold((()=>{const r=e-t,i=Math.round(r/o)*o;return _C(t+i,t-1,n+1)}),(t=>{const r=(e-t)%o,i=Math.round(r/o),a=Math.floor((e-t)/o),s=Math.floor((n-t)/o),l=t+Math.min(s,a+i)*o;return Math.max(t,l)})))(c,t,n,i,s):l?Math.round(c):c}},CC=e=>{const{min:t,max:n,range:o,value:r,hasMinEdge:i,hasMaxEdge:a,maxBound:s,maxOffset:l,centerMinEdge:c,centerMaxEdge:u}=e;return r<t?i?0:c:r>n?a?s:u:(r-t)/o*l},SC="top",kC="right",EC="bottom",TC="left",MC=e=>e.element.dom.getBoundingClientRect(),OC=(e,t)=>e[t],DC=e=>{const t=MC(e);return OC(t,TC)},AC=e=>{const t=MC(e);return OC(t,kC)},RC=e=>{const t=MC(e);return OC(t,SC)},PC=e=>{const t=MC(e);return OC(t,EC)},IC=e=>{const t=MC(e);return OC(t,"width")},zC=e=>{const t=MC(e);return OC(t,"height")},NC=(e,t,n)=>(e+t)/2-n,LC=(e,t)=>{const n=MC(e),o=MC(t),r=OC(n,TC),i=OC(n,kC),a=OC(o,TC);return NC(r,i,a)},HC=(e,t)=>{const n=MC(e),o=MC(t),r=OC(n,SC),i=OC(n,EC),a=OC(o,SC);return NC(r,i,a)},FC=(e,t)=>{Ii(e,$x(),{value:t})},BC=(e,t,n)=>{const o={min:Gx(t),max:Xx(t),range:oC(t),value:n,step:sC(t),snap:lC(t),snapStart:cC(t),rounded:uC(t),hasMinEdge:hC(t),hasMaxEdge:mC(t),minBound:DC(e),maxBound:AC(e),screenRange:IC(e)};return xC(o)},UC=e=>(t,n)=>((e,t,n)=>{const o=(e>0?wC:bC)(gC(n),Gx(n),Xx(n),sC(n));return FC(t,o),O.some(o)})(e,t,n).map(M),VC=(e,t,n,o,r,i)=>{const a=((e,t,n,o,r)=>{const i=IC(e),a=o.bind((t=>O.some(LC(t,e)))).getOr(0),s=r.bind((t=>O.some(LC(t,e)))).getOr(i),l={min:Gx(t),max:Xx(t),range:oC(t),value:n,hasMinEdge:hC(t),hasMaxEdge:mC(t),minBound:DC(e),minOffset:0,maxBound:AC(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return CC(l)})(t,i,n,o,r);return DC(t)-DC(e)+a},jC=UC(-1),WC=UC(1),ZC=O.none,$C=O.none,qC={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some(((e,t)=>{yC(e,eC(t))})),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some(((e,t)=>{yC(e,Yx(t))}))};var GC=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=BC(e,t,n);return FC(e,o),o},setToMin:(e,t)=>{const n=Gx(t);FC(e,n)},setToMax:(e,t)=>{const n=Xx(t);FC(e,n)},findValueOfOffset:BC,getValueFromEvent:e=>qx(e).map((e=>e.left)),findPositionOfValue:VC,setPositionFromValue:(e,t,n,o)=>{const r=gC(n),i=VC(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),a=Jt(t.element)/2;At(t.element,"left",i-a+"px")},onLeft:jC,onRight:WC,onUp:ZC,onDown:$C,edgeActions:qC});const KC=(e,t)=>{Ii(e,$x(),{value:t})},YC=(e,t,n)=>{const o={min:Kx(t),max:Qx(t),range:rC(t),value:n,step:sC(t),snap:lC(t),snapStart:cC(t),rounded:uC(t),hasMinEdge:pC(t),hasMaxEdge:fC(t),minBound:RC(e),maxBound:PC(e),screenRange:zC(e)};return xC(o)},JC=e=>(t,n)=>((e,t,n)=>{const o=(e>0?wC:bC)(gC(n),Kx(n),Qx(n),sC(n));return KC(t,o),O.some(o)})(e,t,n).map(M),XC=(e,t,n,o,r,i)=>{const a=((e,t,n,o,r)=>{const i=zC(e),a=o.bind((t=>O.some(HC(t,e)))).getOr(0),s=r.bind((t=>O.some(HC(t,e)))).getOr(i),l={min:Kx(t),max:Qx(t),range:rC(t),value:n,hasMinEdge:pC(t),hasMaxEdge:fC(t),minBound:RC(e),minOffset:0,maxBound:PC(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return CC(l)})(t,i,n,o,r);return RC(t)-RC(e)+a},QC=O.none,eS=O.none,tS=JC(-1),nS=JC(1),oS={"top-left":O.none(),top:O.some(((e,t)=>{yC(e,Jx(t))})),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some(((e,t)=>{yC(e,tC(t))})),"bottom-left":O.none(),left:O.none()};var rS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=YC(e,t,n);return KC(e,o),o},setToMin:(e,t)=>{const n=Kx(t);KC(e,n)},setToMax:(e,t)=>{const n=Qx(t);KC(e,n)},findValueOfOffset:YC,getValueFromEvent:e=>qx(e).map((e=>e.top)),findPositionOfValue:XC,setPositionFromValue:(e,t,n,o)=>{const r=gC(n),i=XC(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),a=jt(t.element)/2;At(t.element,"top",i-a+"px")},onLeft:QC,onRight:eS,onUp:tS,onDown:nS,edgeActions:oS});const iS=(e,t)=>{Ii(e,$x(),{value:t})},aS=(e,t)=>({x:e,y:t}),sS=(e,t)=>(n,o)=>((e,t,n,o)=>{const r=e>0?wC:bC,i=t?gC(o).x:r(gC(o).x,Gx(o),Xx(o),sC(o)),a=t?r(gC(o).y,Kx(o),Qx(o),sC(o)):gC(o).y;return iS(n,aS(i,a)),O.some(i)})(e,t,n,o).map(M),lS=sS(-1,!1),cS=sS(1,!1),uS=sS(-1,!0),dS=sS(1,!0),hS={"top-left":O.some(((e,t)=>{yC(e,vC(Yx(t),Jx(t)))})),top:O.some(((e,t)=>{yC(e,vC(iC(t),Jx(t)))})),"top-right":O.some(((e,t)=>{yC(e,vC(eC(t),Jx(t)))})),right:O.some(((e,t)=>{yC(e,vC(eC(t),aC(t)))})),"bottom-right":O.some(((e,t)=>{yC(e,vC(eC(t),tC(t)))})),bottom:O.some(((e,t)=>{yC(e,vC(iC(t),tC(t)))})),"bottom-left":O.some(((e,t)=>{yC(e,vC(Yx(t),tC(t)))})),left:O.some(((e,t)=>{yC(e,vC(Yx(t),aC(t)))}))};var mS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=BC(e,t,n.left),r=YC(e,t,n.top),i=aS(o,r);return iS(e,i),i},setToMin:(e,t)=>{const n=Gx(t),o=Kx(t);iS(e,aS(n,o))},setToMax:(e,t)=>{const n=Xx(t),o=Qx(t);iS(e,aS(n,o))},getValueFromEvent:e=>qx(e),setPositionFromValue:(e,t,n,o)=>{const r=gC(n),i=VC(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=XC(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),s=Jt(t.element)/2,l=jt(t.element)/2;At(t.element,"left",i-s+"px"),At(t.element,"top",a-l+"px")},onLeft:lS,onRight:cS,onUp:uS,onDown:dS,edgeActions:hS});const pS=vh({name:"Slider",configFields:[br("stepSize",1),br("onChange",v),br("onChoose",v),br("onInit",v),br("onDragStart",v),br("onDragEnd",v),br("snapToGrid",!1),br("rounded",!0),dr("snapStart"),or("model",Jo("mode",{x:[br("minX",0),br("maxX",100),er("value",(e=>Mr(e.mode.minX))),nr("getInitialValue"),zs("manager",GC)],y:[br("minY",0),br("maxY",100),er("value",(e=>Mr(e.mode.minY))),nr("getInitialValue"),zs("manager",rS)],xy:[br("minX",0),br("maxX",100),br("minY",0),br("maxY",100),er("value",(e=>Mr({x:e.mode.minX,y:e.mode.minY}))),nr("getInitialValue"),zs("manager",mS)]})),fd("sliderBehaviours",[Up,pd]),er("mouseIsDown",(()=>Mr(!1)))],partFields:Zx,factory:(e,t,n,o)=>{const r=t=>oh(t,e,"thumb"),i=t=>oh(t,e,"spectrum"),a=t=>nh(t,e,"left-edge"),s=t=>nh(t,e,"right-edge"),l=t=>nh(t,e,"top-edge"),c=t=>nh(t,e,"bottom-edge"),u=e.model,d=u.manager,h=(t,n)=>{d.setPositionFromValue(t,n,e,{getLeftEdge:a,getRightEdge:s,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},m=(e,t)=>{u.value.set(t);const n=r(e);h(e,n)},p=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&nh(t,e,"thumb").each((n=>{const o=u.value.get();e.onChoose(t,n,o)}))},f=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,r(t)),p(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.sliderBehaviours,[Up.config({mode:"special",focusIn:t=>nh(t,e,"spectrum").map(Up.focusIn).map(M)}),pd.config({store:{mode:"manual",getValue:e=>u.value.get(),setValue:m}}),Ol.config({channels:{[Ju()]:{onReceive:p}}})]),events:Fi([Vi($x(),((t,n)=>{((t,n)=>{m(t,n);const o=r(t);e.onChange(t,o,n),O.some(!0)})(t,n.event.value)})),Yi(((t,n)=>{const o=u.getInitialValue();u.value.set(o);const a=r(t);h(t,a);const s=i(t);e.onInit(t,a,s,u.value.get())})),Vi(Fr(),f),Vi(Ur(),g),Vi(jr(),f),Vi($r(),g)]),apis:{resetToMin:t=>{d.setToMin(t,e)},resetToMax:t=>{d.setToMax(t,e)},setValue:m,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),fS=la("rgb-hex-update"),gS=la("slider-update"),vS=la("palette-update"),yS="form",bS=[fd("formBehaviours",[pd])],wS=e=>"<alloy.field."+e+">",_S=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.formBehaviours,[pd.config({store:{mode:"manual",getValue:t=>{const n=ih(t,e);return ce(n,((e,t)=>e().bind((e=>{return n=_h.getCurrent(e),o=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+oa(e.element)),n.fold((()=>ro.error(o)),ro.value);var n,o})).map(pd.getValue)))},setValue:(t,n)=>{le(n,((n,o)=>{nh(t,e,o).each((e=>{_h.getCurrent(e).each((e=>{pd.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>nh(t,e,n).bind(_h.getCurrent)}}),xS={getField:Sa(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),Jd(yS,wS(t),n)),record:w(e)}})(),n=e(t),o=t.record(),r=F(o,(e=>Vd({name:e,pname:wS(e)})));return hh(yS,bS,r,_S,n)}},CS=la("valid-input"),SS=la("invalid-input"),kS=la("validating-input"),ES="colorcustom.rgb.",TS=(e,t,n,o)=>{const r=(n,o)=>Ax.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Ii(e,kS,{type:n})},onValid:e=>{Ii(e,CS,{type:n,value:pd.getValue(e)})},onInvalid:e=>{Ii(e,SS,{type:n,value:pd.getValue(e)})}},validator:{validate:t=>{const n=pd.getValue(t),r=o(n)?ro.value(!0):ro.error(e("aria.input.invalid"));return g_(r)},validateOnLoad:!1}}),i=(n,o,i,a,s)=>{const l=e(ES+"range"),c=rx.parts.label({dom:{tag:"label",attributes:{"aria-label":a}},components:[ts(i)]}),u=rx.parts.field({data:s,factory:Nv,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Cl([r(o,n),sx.config({})]),onSetValue:e=>{Ax.isInvalid(e)&&Ax.run(e).get(v)}}),d=[c,u],h="hex"!==o?[rx.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:d.concat(h)}},a=(e,t)=>{const n=t.red,o=t.green,r=t.blue;pd.setValue(e,{red:n,green:o,blue:r})},s=Zf({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{s.getOpt(e).each((e=>{At(e.element,"background-color","#"+t.value)}))},c=gh({factory:()=>{const r={red:Mr(O.some(255)),green:Mr(O.some(255)),blue:Mr(O.some(255)),hex:Mr(O.some("ffffff"))},c=e=>r[e].get(),u=(e,t)=>{r[e].set(t)},d=e=>{const t=e.red,n=e.green,o=e.blue;u("red",O.some(t)),u("green",O.some(n)),u("blue",O.some(o))},h=(e,t)=>{const n=t.event;"hex"!==n.type?u(n.type,O.none()):o(e)},m=(e,t)=>{const o=t.event;(e=>"hex"===e.type)(o)?((e,t)=>{n(e);const o=$b(t);u("hex",O.some(o.value));const r=sw(o);a(e,r),d(r),Ii(e,fS,{hex:o}),l(e,o)})(e,o.value):((e,t,n)=>{const o=parseInt(n,10);u(t,O.some(o)),c("red").bind((e=>c("green").bind((t=>c("blue").map((n=>rw(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=Xb(t);return xS.getField(e,"hex").each((t=>{nf.isFocused(t)||pd.setValue(e,{hex:n.value})})),n})(e,t);Ii(e,fS,{hex:n}),l(e,n)}))})(e,o.type,o.value)},p=t=>({label:e(ES+t+".label"),description:e(ES+t+".description")}),f=p("red"),g=p("green"),v=p("blue"),y=p("hex");return go(xS.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",rx.sketch(i(iw,"red",f.label,f.description,255))),n.field("green",rx.sketch(i(iw,"green",g.label,g.description,255))),n.field("blue",rx.sketch(i(iw,"blue",v.label,v.description,255))),n.field("hex",rx.sketch(i(Kb,"hex",y.label,y.description,"ffffff"))),s.asSpec()],formBehaviours:Cl([Ax.config({invalidClass:t("form-invalid")}),Jp("rgb-form-events",[Vi(CS,m),Vi(SS,h),Vi(kS,h)])])}))),{apis:{updateHex:(e,t)=>{pd.setValue(e,{hex:t.value}),((e,t)=>{const n=sw(t);a(e,n),d(n)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return c},MS=(e,t)=>{const n=gh({name:"ColourPicker",configFields:[nr("dom"),br("onValidHex",v),br("onInvalidHex",v)],factory:n=>{const o=TS(e,t,n.onValidHex,n.onInvalidHex),r=((e,t)=>{const n=pS.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=pS.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:n,height:o}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,n,o);const i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);const a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)};return gh({factory:e=>{const i=w({x:0,y:0}),a=Cl([_h.config({find:O.some}),nf.config({})]);return pS.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:(e,t,n)=>{Ii(e,vS,{value:n})},onInit:(e,t,n,o)=>{r(n.element.dom,uw(dw))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,o=kw(t,100,100),i=aw(o);r(n,uw(i))})(t,n)},setThumb:(e,t,n)=>{((e,t)=>{const n=Ew(sw(t));pS.setValue(e,{x:n.saturation,y:100-n.value})})(t,n)}},extraApis:{}})})(0,t),i={paletteRgba:Mr(dw),paletteHue:Mr(0)},a=Zf(((e,t)=>{const n=pS.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=pS.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return pS.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:w(0)},components:[n,o],sliderBehaviours:Cl([nf.config({})]),onChange:(e,t,n)=>{Ii(e,gS,{value:n})}})})(0,t)),s=Zf(r.sketch({})),l=Zf(o.sketch({})),c=(e,t,n)=>{s.getOpt(e).each((e=>{r.setHue(e,n)}))},u=(e,t)=>{l.getOpt(e).each((e=>{o.updateHex(e,t)}))},d=(e,t,n)=>{a.getOpt(e).each((e=>{pS.setValue(e,(e=>100-e/360*100)(n))}))},h=(e,t)=>{s.getOpt(e).each((e=>{r.setThumb(e,t)}))},m=(e,t,n,o)=>{((e,t)=>{const n=sw(e);i.paletteRgba.set(n),i.paletteHue.set(t)})(t,n),B(o,(o=>{o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),a.asSpec(),l.asSpec()],behaviours:Cl([Jp("colour-picker-events",[Vi(fS,(()=>{const e=[c,d,h];return(t,n)=>{const o=n.event.hex,r=(e=>Ew(sw(e)))(o);m(t,o,r.hue,e)}})()),Vi(vS,(()=>{const e=[u];return(t,n)=>{const o=n.event.value,r=i.paletteHue.get(),a=kw(r,o.x,100-o.y),s=Tw(a);m(t,s,r,e)}})()),Vi(gS,(()=>{const e=[c,u];return(t,n)=>{const o=(e=>(100-e)/100*360)(n.event.value),r=i.paletteRgba.get(),a=Ew(r),s=kw(o,a.saturation,a.value),l=Tw(s);m(t,l,o,e)}})())]),_h.config({find:e=>l.getOpt(e)}),Up.config({mode:"acyclic"})])}}});return n},OS=()=>_h.config({find:O.some}),DS=e=>_h.config({find:t=>lt(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),AS=Ao([br("preprocess",_),br("postprocess",_)]),RS=(e,t,n)=>pd.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),PS=(e,t,n)=>RS(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),IS=(e,t)=>{const n=Ko("RepresentingConfigs.memento processors",AS,t);return pd.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),r=pd.getValue(o);return n.postprocess(r)},setValue:(t,o)=>{const r=n.preprocess(o),i=e.get(t);pd.setValue(i,r)}}})},zS=PS,NS=RS,LS=e=>pd.config({store:{mode:"memory",initialValue:e}}),HS={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var FS=tinymce.util.Tools.resolve("tinymce.Resource"),BS=tinymce.util.Tools.resolve("tinymce.util.Tools");const US=la("alloy-fake-before-tabstop"),VS=la("alloy-fake-after-tabstop"),jS=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Cl([nf.config({ignore:!0}),sx.config({})])}),WS=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[jS([US]),e,jS([VS])],behaviours:Cl([DS(1)])}),ZS=(e,t)=>{Ii(e,Yr(),{raw:{which:9,shiftKey:t}})},$S=(e,t)=>{const n=t.element;Va(n,US)?ZS(e,!0):Va(n,VS)&&ZS(e,!1)},qS=e=>W_(e,["."+US,"."+VS].join(","),T),GS=la("toolbar.button.execute"),KS=la("common-button-display-events"),YS={[di()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[xi()]:["toolbar-button-events",KS],[jr()]:["focusing","alloy.base.behaviour",KS]},JS=e=>At(e.element,"width",It(e.element,"width")),XS=(e,t,n)=>tg(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),QS=(e,t)=>XS(e,t,[]),ek=(e,t)=>XS(e,t,[Yp.config({})]),tk=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[ts(n.translate(e))],behaviours:Cl([Yp.config({})])}),nk=la("update-menu-text"),ok=la("update-menu-icon"),rk=(e,t,n)=>{const o=Mr(v),r=e.text.map((e=>Zf(tk(e,t,n.providers)))),i=e.icon.map((e=>Zf(ek(e,n.providers.icons)))),a=(e,t)=>{const n=pd.getValue(e);return nf.focus(n),Ii(n,"keydown",{raw:t.event.raw}),D_.close(n),O.some(!0)},s=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=tg("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),u=la("common-button-display-events"),d=Zf(D_.sketch({...e.uid?{uid:e.uid}:{},...s,dom:{tag:"button",classes:[t,`${t}--select`].concat(F(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:Db([i.map((e=>e.asSpec())),r.map((e=>e.asSpec())),O.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,o)=>{e.searchable&&(e=>{Uv(e).each((e=>nf.focus(e)))})(o)},dropdownBehaviours:Cl([...e.dropdownBehaviours,xb((()=>e.disabled||n.providers.isDisabled())),_b(),Rx.config({}),Yp.config({}),Jp("dropdown-events",[Eb(e,o),Tb(e,o)]),Jp(u,[Yi(((e,t)=>JS(e)))]),Jp("menubutton-update-display-text",[Vi(nk,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{Yp.set(e,[ts(n.providers.translate(t.event.text))])}))})),Vi(ok,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Yp.set(e,[ek(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:go(YS,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[xi()]:["toolbar-button-events","dropdown-events",u]}),sandboxBehaviours:Cl([Up.config({mode:"special",onLeft:a,onRight:a}),Jp("dropdown-sandbox-events",[Vi(Lv,((e,t)=>{(e=>{const t=pd.getValue(e),n=Bv(e).map(Vv);D_.refetch(t).get((()=>{const e=u_.getCoupled(t,"sandbox");n.each((t=>Bv(e).each((e=>((e,t)=>{pd.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),Vi(Hv,((e,t)=>{((e,t)=>{(e=>Gu.getState(e).bind(Zh.getHighlighted).bind(Zh.getHighlighted))(e).each((n=>{((e,t,n,o)=>{const r={...o,target:t};e.getSystem().triggerEvent(n,t,r)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...Av(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:A_,onCollapseMenu:(e,t,n)=>{Zh.getHighlighted(n).each((t=>{A_(e,n,t)}))},onDehighlightItem:R_}},fetch:t=>f_(C(e.fetch,t))}));return d.asSpec()},ik=e=>"separator"===e.type,ak={type:"separator"},sk=(e,t)=>{const n=((e,t)=>{const n=W(e,((e,n)=>(e=>i(e))(n)?""===n?e:"|"===n?e.length>0&&!ik(e[e.length-1])?e.concat([ak]):e:ye(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&ik(n[n.length-1])&&n.pop(),n})(i(e)?e.split(" "):e,t);return j(n,((e,n)=>{if((e=>ye(e,"getSubmenuItems"))(n)){const o=(e=>{const t=ve(e,"value").getOrThunk((()=>la("generated-menu-item")));return go({value:t},e)})(n),r=((e,t)=>{const n=e.getSubmenuItems(),o=sk(n,t);return{item:e,menus:go(o.menus,{[e.value]:o.items}),expansions:go(o.expansions,{[e.value]:e.value})}})(o,t);return{menus:go(e.menus,r.menus),items:[r.item,...e.items],expansions:go(e.expansions,r.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},lk=(e,t,n,o)=>{const r=la("primary-menu"),i=sk(e,n.shared.providers.menuItems());if(0===i.items.length)return O.none();const a=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(o),s=L_(r,i.items,t,n,o.isHorizontalMenu,a),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(o),c=ce(i.menus,((e,o)=>L_(o,e,t,n,!1,l))),u=go(c,Dr(r,s));return O.from(Uf.tieredData(r,u,i.expansions))},ck=e=>!ye(e,"items"),uk="data-value",dk=(e,t,n,o)=>F(n,(n=>ck(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:()=>{pd.setValue(e,n.value),Ii(e,mx,{name:t}),nf.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>dk(e,t,n.items,o)})),hk=(e,t)=>ie(e,(e=>ck(e)?Se(e.value===t,e):hk(e.items,t))),mk=gh({name:"HtmlSelect",configFields:[nr("options"),fd("selectBehaviours",[nf,pd]),br("selectClasses",[]),br("selectAttributes",{}),dr("data")],factory:(e,t)=>{const n=F(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>Dr("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:vd(e.selectBehaviours,[nf.config({}),pd.config({store:{mode:"manual",getValue:e=>$a(e.element),setValue:(t,n)=>{const o=ne(e.options);Z(e.options,(e=>e.value===n)).isSome()?qa(t.element,n):-1===t.element.dom.selectedIndex&&""===n&&o.each((e=>qa(t.element,e.value)))},...o}})])}}}),pk=w([br("field1Name","field1"),br("field2Name","field2"),Ps("onLockedChange"),Os(["lockClass"]),br("locked",!1),yd("coupledFieldBehaviours",[_h,pd])]),fk=(e,t)=>Vd({factory:rx,name:e,overrides:e=>({fieldBehaviours:Cl([Jp("coupled-input-behaviour",[Vi(Xr(),(n=>{((e,t,n)=>nh(e,t,n).bind(_h.getCurrent))(n,e,t).each((t=>{nh(n,e,"lock").each((o=>{df.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])})}),gk=w([fk("field1","field2"),fk("field2","field1"),Vd({factory:Wf,schema:[nr("dom")],name:"lock",overrides:e=>({buttonBehaviours:Cl([df.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),vk=vh({name:"FormCoupledInputs",configFields:pk(),partFields:gk(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:bd(e.coupledFieldBehaviours,[_h.config({find:O.some}),pd.config({store:{mode:"manual",getValue:t=>{const n=sh(t,e,["field1","field2"]);return{[e.field1Name]:pd.getValue(n.field1()),[e.field2Name]:pd.getValue(n.field2())}},setValue:(t,n)=>{const o=sh(t,e,["field1","field2"]);be(n,e.field1Name)&&pd.setValue(o.field1(),n[e.field1Name]),be(n,e.field2Name)&&pd.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>nh(t,e,"field1"),getField2:t=>nh(t,e,"field2"),getLock:t=>nh(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),yk=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return ro.value({value:e,unit:n})}return ro.error(e)},bk=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>ye(n,e);return e.unit===t?O.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?O.some(e.value):O.some(e.value/n[e.unit]*n[t]):O.none()},wk=e=>O.none(),_k=(e,t)=>{const n=e.label.map((e=>hx(e,t))),o=[zh.config({disabled:()=>e.disabled||t.isDisabled()}),_b(),Up.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Pi(e,vx),O.some(!0))}),Jp("textfield-change",[Vi(Xr(),((t,n)=>{Ii(t,mx,{name:e.name})})),Vi(ci(),((t,n)=>{Ii(t,mx,{name:e.name})}))]),sx.config({})],r=e.validation.map((e=>Ax.config({getRoot:e=>it(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=pd.getValue(t),o=e.validator(n);return g_(!0===o?ro.value(n):ro.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),i={...e.placeholder.fold(w({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(w({}),(e=>({inputmode:e})))},a=rx.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:Cl(q([o,r])),selectOnFocus:!1,factory:Nv}),s=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[a]}:a,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[zh.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{rx.getField(e).each(zh.disable)},onEnabled:e=>{rx.getField(e).each(zh.enable)}}),_b()];return cx(n,s,l,c)},xk=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),Ck=e=>e.dimension.property,Sk=(e,t)=>e.dimension.getDimension(t),kk=(e,t)=>{const n=xk(e,t);Wa(n,[t.shrinkingClass,t.growingClass])},Ek=(e,t)=>{Ua(e.element,t.openClass),Ba(e.element,t.closedClass),At(e.element,Ck(t),"0px"),Bt(e.element)},Tk=(e,t)=>{Ua(e.element,t.closedClass),Ba(e.element,t.openClass),Ft(e.element,Ck(t))},Mk=(e,t,n,o)=>{n.setCollapsed(),At(e.element,Ck(t),Sk(t,e.element)),kk(e,t),Ek(e,t),t.onStartShrink(e),t.onShrunk(e)},Ok=(e,t,n,o)=>{const r=o.getOrThunk((()=>Sk(t,e.element)));n.setCollapsed(),At(e.element,Ck(t),r),Bt(e.element);const i=xk(e,t);Ua(i,t.growingClass),Ba(i,t.shrinkingClass),Ek(e,t),t.onStartShrink(e)},Dk=(e,t,n)=>{const o=Sk(t,e.element);("0px"===o?Mk:Ok)(e,t,n,O.some(o))},Ak=(e,t,n)=>{const o=xk(e,t),r=Va(o,t.shrinkingClass),i=Sk(t,e.element);Tk(e,t);const a=Sk(t,e.element);(r?()=>{At(e.element,Ck(t),i),Bt(e.element)}:()=>{Ek(e,t)})(),Ua(o,t.shrinkingClass),Ba(o,t.growingClass),Tk(e,t),At(e.element,Ck(t),a),n.setExpanded(),t.onStartGrow(e)},Rk=(e,t,n)=>{const o=xk(e,t);return!0===Va(o,t.growingClass)},Pk=(e,t,n)=>{const o=xk(e,t);return!0===Va(o,t.shrinkingClass)};var Ik=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){Ft(e.element,Ck(t));const n=Sk(t,e.element);At(e.element,Ck(t),n)}},grow:(e,t,n)=>{n.isExpanded()||Ak(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&Dk(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&Mk(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:Rk,isShrinking:Pk,isTransitioning:(e,t,n)=>Rk(e,t)||Pk(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?Dk:Ak)(e,t,n)},disableTransitions:kk,immediateGrow:(e,t,n)=>{n.isExpanded()||(Tk(e,t),At(e.element,Ck(t),Sk(t,e.element)),kk(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),zk=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const o=t.expanded;return Ma(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Dr(t.dimension.property,"0px")})},events:(e,t)=>Fi([Ki(ni(),((n,o)=>{o.event.raw.propertyName===e.dimension.property&&(kk(n,e),t.isExpanded()&&Ft(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}),Nk=[nr("closedClass"),nr("openClass"),nr("shrinkingClass"),nr("growingClass"),dr("getAnimationRoot"),As("onShrunk"),As("onStartShrink"),As("onGrown"),As("onStartGrow"),br("expanded",!1),or("dimension",Jo("property",{width:[zs("property","width"),zs("getDimension",(e=>Jt(e)+"px"))],height:[zs("property","height"),zs("getDimension",(e=>jt(e)+"px"))]}))];const Lk=kl({fields:Nk,name:"sliding",active:zk,apis:Ik,state:Object.freeze({__proto__:null,init:e=>{const t=Mr(e.expanded);return Ea({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:C(t.set,!1),setExpanded:C(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),Hk=e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t),setActive:t=>{const n=e.element;t?(Ba(n,"tox-tbtn--enabled"),Ct(n,"aria-pressed",!0)):(Ua(n,"tox-tbtn--enabled"),Mt(n,"aria-pressed"))},isActive:()=>Va(e.element,"tox-tbtn--enabled"),setText:t=>{Ii(e,nk,{text:t})},setIcon:t=>Ii(e,ok,{icon:t})}),Fk=(e,t,n,o,r=!0)=>rk({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(t,o)=>{const r={pattern:e.search.isSome()?P_(t):""};e.fetch((t=>{o(lk(t,mv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),r,Hk(t))},onSetup:e.onSetup,getApi:Hk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...r?[sx.config({})]:[]]},t,n.shared),Bk=(e,t,n)=>{const o=e=>o=>{const r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Al(t.element),Ii(t,gx,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(F(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:r(e)}})))}},Uk=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[ts(e)]}),Vk=la("leaf-label-event-id"),jk=({leaf:e,onLeafAction:t,visible:n,treeId:o,selectedId:r,backstage:i})=>{const a=e.menu.map((e=>Fk(e,"tox-mbtn",i,O.none(),n))),s=[Uk(e.title)];return a.each((e=>s.push(e))),Wf.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[Yr()]:[Vk,"keying"]},buttonBehaviours:Cl([...n?[sx.config({})]:[],df.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ol.config({channels:{[`update-active-item-${o}`]:{onReceive:(t,n)=>{(n.value===e.id?df.on:df.off)(t)}}}}),Jp(Vk,[Yi(((t,n)=>{r.each((n=>{(n===e.id?df.on:df.off)(t)}))})),Vi(Yr(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,o="ArrowRight"===t.event.raw.code;n?(hs(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{ms(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(nf.focus)}))}))})),t.stop()):o&&t.stop()}))])])})},Wk=la("directory-label-event-id"),Zk=({directory:e,visible:t,noChildren:n,backstage:o})=>{const r=e.menu.map((e=>Fk(e,"tox-mbtn",o,O.none()))),i=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(a="chevron-right",s=o.shared.providers.icons,((e,t,n)=>tg(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},t))(a,s))]},Uk(e.title)];var a,s;r.each((e=>{i.push(e)}));const l=t=>{hs(t.element,".tox-tree--directory").each((n=>{t.getSystem().getByDom(n).each((n=>{const o=!df.isOn(n);df.toggle(n),Ii(t,"expand-tree-node",{expanded:o,node:e.id})}))}))};return Wf.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:i,action:l,eventOrder:{[Yr()]:[Wk,"keying"]},buttonBehaviours:Cl([...t?[sx.config({})]:[],Jp(Wk,[Vi(Yr(),((e,t)=>{const o="ArrowRight"===t.event.raw.code,r="ArrowLeft"===t.event.raw.code;o&&n&&t.stop(),(o||r)&&hs(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!df.isOn(n)&&o||df.isOn(n)&&r?(l(e),t.stop()):r&&!df.isOn(n)&&(hs(n.element,".tox-tree--directory").each((e=>{ms(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(nf.focus)}))})),t.stop())}))}))}))])])})},$k=({children:e,onLeafAction:t,visible:n,treeId:o,expandedIds:r,selectedId:i,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?jk({leaf:e,selectedId:i,onLeafAction:t,visible:n,treeId:o,backstage:a}):Gk({directory:e,expandedIds:r,selectedId:i,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:a}))),behaviours:Cl([Lk.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),Yp.config({})])}),qk=la("directory-event-id"),Gk=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:r,expandedIds:i,selectedId:a})=>{const{children:s}=e,l=Mr(i),c=i.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Zk({directory:e,visible:n,noChildren:0===e.children.length,backstage:r}),$k({children:s,expandedIds:i,selectedId:a,onLeafAction:t,visible:c,treeId:o,backstage:r})],behaviours:Cl([Jp(qk,[Yi(((e,t)=>{df.set(e,c)})),Vi("expand-tree-node",((e,t)=>{const{expanded:n,node:o}=t.event;l.set(n?[...l.get(),o]:l.get().filter((e=>e!==o)))}))]),df.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,n)=>{const i=e.components()[1],c=(u=n,s.map((e=>"leaf"===e.type?jk({leaf:e,selectedId:a,onLeafAction:t,visible:u,treeId:o,backstage:r}):Gk({directory:e,expandedIds:l.get(),selectedId:a,onLeafAction:t,labelTabstopping:u,treeId:o,backstage:r}))));var u;n?Lk.grow(i):Lk.shrink(i),Yp.set(i,c)}})])}},Kk=la("tree-event-id");var Yk=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return Fi([Vi(e.event,n),Ji((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Vi(e,(()=>t.cancel()))])).getOr([])))}});const Jk=(e,t)=>{let n=null;const o=()=>{c(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}},Xk=e=>{const t=Mr(null);return Ea({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var Qk=Object.freeze({__proto__:null,throttle:Xk,init:e=>e.stream.streams.state(e)}),eE=[or("stream",Jo("mode",{throttle:[nr("delay"),br("stopEvent",!0),zs("streams",{setup:(e,t)=>{const n=e.stream,o=Jk(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}},state:Xk})]})),br("event","input"),dr("cancelEvent"),Ps("onStream")];const tE=kl({fields:eE,name:"streaming",active:Yk,state:Qk}),nE=(e,t,n)=>{const o=pd.getValue(n);pd.setValue(t,o),rE(t)},oE=(e,t)=>{const n=e.element,o=$a(n),r=n.dom;"number"!==kt(n,"type")&&t(r,o)},rE=e=>{oE(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},iE=w("alloy.typeahead.itemexecute"),aE=w([dr("lazySink"),nr("fetch"),br("minChars",5),br("responseTime",1e3),As("onOpen"),br("getHotspot",O.some),br("getAnchorOverrides",w({})),br("layouts",O.none()),br("eventOrder",{}),Tr("model",{},[br("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),br("selectsOver",!0),br("populateFromBrowse",!0)]),As("onSetValue"),Rs("onExecute"),As("onItemExecute"),br("inputClasses",[]),br("inputAttributes",{}),br("inputStyles",{}),br("matchWidth",!0),br("useMinWidth",!1),br("dismissOnBlur",!0),Os(["openClass"]),dr("initialData"),fd("typeaheadBehaviours",[nf,pd,tE,Up,df,u_]),er("lazyTypeaheadComp",(()=>Mr(O.none))),er("previewing",(()=>Mr(!0)))].concat(Rv()).concat(T_())),sE=w([jd({schema:[Ms()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,n)=>{if(e.selectsOver){const o=pd.getValue(t),r=e.getDisplayText(o),i=pd.getValue(n);return 0===e.getDisplayText(i).indexOf(r)?O.some((()=>{nE(0,t,n),((e,t)=>{oE(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,r.length)})):O.none()}return O.none()})(e.model,t,o).fold((()=>{e.model.selectsOver?(Zh.dehighlight(n,o),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&nE(e.model,t,o),Et(o.element,"id").each((e=>Ct(t.element,"aria-activedescendant",e)))}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(Ii(e,iE(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&nE(e.model,t,n)}))}})})]),lE=vh({name:"Typeahead",configFields:aE(),partFields:sE(),factory:(e,t,n,o)=>{const r=(t,n,r)=>{e.previewing.set(!1);const i=u_.getCoupled(t,"sandbox");if(Gu.isOpen(i))_h.getCurrent(i).each((e=>{Zh.getHighlighted(e).fold((()=>{r(e)}),(()=>{Hi(i,e.element,"keydown",n)}))}));else{const n=e=>{_h.getCurrent(e).each(r)};w_(e,a(t),t,i,o,n,Ff.HighlightMenuAndItem).get(v)}},i=Pv(e),a=e=>t=>t.map((t=>{const n=ge(t.menus),o=G(n,(e=>V(e.items,(e=>"item"===e.type))));return pd.getState(e).update(F(o,(e=>e.data))),t})),s=e=>_h.getCurrent(e),l="typeaheadevents",c=[nf.config({}),pd.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>$a(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{qa(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>Dr("initialValue",e))).getOr({})}}),tE.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const r=u_.getCoupled(t,"sandbox");if(nf.isFocused(t)&&$a(t.element).length>=e.minChars){const n=s(r).bind((e=>Zh.getHighlighted(e).map(pd.getValue)));e.previewing.set(!0);const i=t=>{s(r).each((t=>{n.fold((()=>{e.model.selectsOver&&Zh.highlightFirst(t)}),(e=>{Zh.highlightBy(t,(t=>pd.getValue(t).value===e.value)),Zh.getHighlighted(t).orThunk((()=>(Zh.highlightFirst(t),O.none())))}))}))};w_(e,a(t),t,r,o,i,Ff.HighlightJustMenu).get(v)}},cancelEvent:gi()}),Up.config({mode:"special",onDown:(e,t)=>(r(e,t,Zh.highlightFirst),O.some(!0)),onEscape:e=>{const t=u_.getCoupled(e,"sandbox");return Gu.isOpen(t)?(Gu.close(t),O.some(!0)):O.none()},onUp:(e,t)=>(r(e,t,Zh.highlightLast),O.some(!0)),onEnter:t=>{const n=u_.getCoupled(t,"sandbox"),o=Gu.isOpen(n);if(o&&!e.previewing.get())return s(n).bind((e=>Zh.getHighlighted(e))).map((e=>(Ii(t,iE(),{item:e}),!0)));{const r=pd.getValue(t);return Pi(t,gi()),e.onExecute(n,t,r),o&&Gu.close(n),O.some(!0)}}}),df.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),u_.config({others:{sandbox:t=>k_(e,t,{onOpen:()=>df.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each((e=>Mt(e.element,"aria-activedescendant"))),df.off(t)}})}}),Jp(l,[Yi((t=>{e.lazyTypeaheadComp.set(O.some(t))})),Ji((t=>{e.lazyTypeaheadComp.set(O.none())})),Qi((t=>{const n=v;x_(e,a(t),t,o,n,Ff.HighlightMenuAndItem).get(v)})),Vi(iE(),((t,n)=>{const o=u_.getCoupled(t,"sandbox");nE(e.model,t,n.event.item),Pi(t,gi()),e.onItemExecute(t,o,n.event.item,pd.getValue(t)),Gu.close(o),rE(t)}))].concat(e.dismissOnBlur?[Vi(li(),(e=>{const t=u_.getCoupled(e,"sandbox");zl(t.element).isNone()&&Gu.close(t)}))]:[]))],u={[Ci()]:[pd.name(),tE.name(),l],...e.eventOrder};return{uid:e.uid,dom:zv(go(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...vd(e.typeaheadBehaviours,c)},eventOrder:u}}}),cE=e=>({...e,toCached:()=>cE(e.toCached()),bindFuture:t=>cE(e.bind((e=>e.fold((e=>g_(ro.error(e))),(e=>t(e)))))),bindResult:t=>cE(e.map((e=>e.bind(t)))),mapResult:t=>cE(e.map((e=>e.map(t)))),mapError:t=>cE(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>cE(f_((o=>{let r=!1;const i=setTimeout((()=>{r=!0,o(ro.error(n()))}),t);e.get((e=>{r||(clearTimeout(i),o(e))}))})))}),uE=e=>cE(f_(e)),dE=(e,t,n=[],o,r,i)=>{const a=t.fold((()=>({})),(e=>({action:e}))),s={buttonBehaviours:Cl([xb((()=>!e.enabled||i.isDisabled())),_b(),sx.config({}),Jp("button press",[Ui("click"),Ui("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...a},l=go(s,{dom:o});return go(l,{components:r})},hE=(e,t,n,o=[])=>{const r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({})},i=e.icon.map((e=>QS(e,n.icons))),a=Db([i]);return dE(e,t,o,r,a,n)},mE=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},pE=(e,t,n,o=[],r=[])=>{const i=n.translate(e.text),a=e.icon.map((e=>QS(e,n.icons))),s=[a.getOrThunk((()=>ts(i)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=[...mE(l),...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r];return dE(e,t,o,{tag:"button",classes:c,attributes:{title:i}},s,n)},fE=(e,t,n,o=[],r=[])=>{const i=pE(e,O.some(t),n,o,r);return Wf.sketch(i)},gE=(e,t)=>n=>{"custom"===t?Ii(n,gx,{name:e,value:{}}):"submit"===t?Pi(n,vx):"cancel"===t?Pi(n,fx):console.error("Unknown button type: ",t)},vE=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>i,o=e,r={...e,type:"menubutton",search:O.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:Bk(o.items,t,n)},i=Zf(Fk(r,"tox-tbtn",n,O.none()));return i.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const o=gE(e.name,t),r={...e,borderless:!1};return fE(r,o,n.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t)=>{var n,o;const r=e.icon.map((e=>ek(e,t.icons))).map(Zf),i=e.buttonType.getOr(e.primary?"primary":"secondary"),a={...e,name:null!==(n=e.name)&&void 0!==n?n:"",primary:"primary"===i,tooltip:O.from(e.tooltip),enabled:null!==(o=e.enabled)&&void 0!==o&&o,borderless:!1},s=a.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=mE(null!=i?i:"secondary"),c=e.icon.isSome()&&e.text.isSome(),u={tag:"button",classes:[...l.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:s},d=t.translate(e.text.getOr("")),h=ts(d),m=[...Db([r.map((e=>e.asSpec()))]),...e.text.isSome()?[h]:[]],p=dE(a,O.some((n=>{Ii(n,gx,{name:e.name,value:{setIcon:e=>{r.map((o=>o.getOpt(n).each((n=>{Yp.set(n,[ek(e,t.icons)])}))))}}})})),[],u,m,t);return Wf.sketch(p)})(e,n.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},yE={type:"separator"},bE=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),wE=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),_E=(e,t)=>(e=>F(e,bE))(((e,t)=>V(t,(t=>t.type===e)))(e,t)),xE=e=>_E("header",e.targets),CE=e=>_E("anchor",e.targets),SE=e=>O.from(e.anchorTop).map((e=>wE("<top>",e))).toArray(),kE=e=>O.from(e.anchorBottom).map((e=>wE("<bottom>",e))).toArray(),EE=(e,t)=>{const n=e.toLowerCase();return V(t,(e=>{var t;const o=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,r=null!==(t=e.value)&&void 0!==t?t:"";return Te(o.toLowerCase(),n)||Te(r.toLowerCase(),n)}))},TE=la("aria-invalid"),ME=(e,t)=>{e.dom.checked=t},OE=e=>e.dom.checked,DE=e=>(t,n,o,r)=>ve(n,"name").fold((()=>e(n,r,O.none())),(i=>t.field(i,e(n,r,ve(o,i))))),AE={bar:DE(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:F(e.items,t.interpreter)}))(e,t.shared))),collection:DE(((e,t,n)=>((e,t,n)=>{const o=e.label.map((e=>hx(e,t))),r=e=>(t,n)=>{fs(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,kt(o,"data-collection-item-value"))}))},i=r(((n,o,r,i)=>{o.stop(),t.isDisabled()||Ii(n,gx,{name:e.name,value:i})})),a=[Vi(qr(),r(((e,t,n)=>{Al(n)}))),Vi(ei(),i),Vi(mi(),i),Vi(Gr(),r(((e,t,n)=>{ps(e.element,"."+xv).each((e=>{Ua(e,xv)})),Ba(n,xv)}))),Vi(Kr(),r((e=>{ps(e.element,"."+xv).each((e=>{Ua(e,xv)}))}))),Qi(r(((t,n,o,r)=>{Ii(t,gx,{name:e.name,value:r})})))],s=(e,t)=>F(Gc(e.element,".tox-collection__item"),t),l=rx.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_},behaviours:Cl([zh.config({disabled:t.isDisabled,onDisabled:e=>{s(e,(e=>{Ba(e,"tox-collection__item--state-disabled"),Ct(e,"aria-disabled",!0)}))},onEnabled:e=>{s(e,(e=>{Ua(e,"tox-collection__item--state-disabled"),Mt(e,"aria-disabled")}))}}),_b(),Yp.config({}),pd.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(n,o)=>{((n,o)=>{const r=F(o,(n=>{const o=$f.translate(n.text),r=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",i=`<div class="tox-collection__item-icon">${n.icon}</div>`,a={_:" "," - ":" ","-":" "},s=o.replace(/\_| \- |\-/g,(e=>a[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${lx.encodeAllRaw(n.value)}" title="${s}" aria-label="${s}">${i}${r}</div>`})),i="auto"!==e.columns&&e.columns>1?H(r,e.columns):[r],a=F(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));ta(n.element,a.join(""))})(n,o),"auto"===e.columns&&ab(n,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{Up.setGridSize(n,e,t)})),Pi(n,_x)}}),sx.config({}),Up.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${fv}`}})),Jp("collection-events",a)]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return cx(o,l,["tox-form__group--collection"],[])})(e,t.shared.providers,n))),alertbanner:DE(((e,t)=>((e,t)=>ex.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Wf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Xf(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Ii(t,gx,{name:"alert-banner",value:e.url})},buttonBehaviours:Cl([Qf()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:DE(((e,t,n)=>((e,t,n)=>_k({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:O.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),textarea:DE(((e,t,n)=>((e,t,n)=>_k({name:e.name,multiline:!0,label:e.label,inputMode:O.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:O.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),label:DE(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[ts(t.providers.translate(e.label))]},...F(e.items,t.interpreter)],behaviours:Cl([OS(),Yp.config({}),(n=O.none(),PS(n,ea,ta)),Up.config({mode:"acyclic"})])};var n})(e,t.shared))),iframe:(nM=(e,t,n)=>((e,t,n)=>{const o=e.sandboxed,r=e.transparent,i="tox-dialog__iframe",a={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...o?{sandbox:"allow-scripts allow-same-origin"}:{}},s=(e=>{const t=Mr(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&Ct(e.element,"srcdoc",n),t.set(n)}}})(n),l=e.label.map((e=>hx(e,t))),c=rx.parts.field({factory:{sketch:e=>WS({uid:e.uid,dom:{tag:"iframe",attributes:a,classes:r?[i]:[i,`${i}--opaque`]},behaviours:Cl([sx.config({}),nf.config({}),NS(n,s.getValue,s.setValue)])})}});return cx(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,n),(e,t,n,o)=>{const r=go(t,{source:"dynamic"});return DE(nM)(e,r,n,o)}),button:DE(((e,t)=>((e,t)=>{const n=gE(e.name,"custom");return o=O.none(),r=rx.parts.field({factory:Wf,...pE(e,O.some(n),t,[LS(""),OS()])}),cx(o,r,[],[]);var o,r})(e,t.shared.providers))),checkbox:DE(((e,t,n)=>((e,t,n)=>{const o=e=>(e.element.dom.click(),O.some(!0)),r=rx.parts.field({factory:{sketch:_},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Cl([OS(),zh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{it(e.element).each((e=>Ba(e,"tox-checkbox--disabled")))},onEnabled:e=>{it(e.element).each((e=>Ua(e,"tox-checkbox--disabled")))}}),sx.config({}),nf.config({}),zS(n,OE,ME),Up.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Jp("checkbox-events",[Vi(Qr(),((t,n)=>{Ii(t,mx,{name:e.name})}))])])}),i=rx.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ts(t.translate(e.label))],behaviours:Cl([Rx.config({})])}),a=e=>tg("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),s=Zf({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return rx.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,s.asSpec(),i],fieldBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled()}),_b()])})})(e,t.shared.providers,n))),colorinput:DE(((e,t,n)=>((e,t,n,o)=>{const r=rx.parts.field({factory:Nv,inputClasses:["tox-textfield"],data:o,onSetValue:e=>Ax.run(e).get(v),inputBehaviours:Cl([zh.config({disabled:t.providers.isDisabled}),_b(),sx.config({}),Ax.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>it(e.element),notify:{onValid:e=>{const t=pd.getValue(e);Ii(e,Px,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=pd.getValue(e);if(0===t.length)return g_(ro.value(!0));{const e=ze("span");At(e,"background-color",t);const n=Nt(e,"background-color").fold((()=>ro.error("blah")),(e=>ro.value(t)));return g_(n)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>hx(e,t.providers))),a=(e,t)=>{Ii(e,Ix,{value:t})},s=Zf(((e,t)=>D_.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Cl([xb(t.providers.isDisabled),_b(),Rx.config({}),sx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>f_((t=>e.fetch(t))).map((o=>O.from(H_(go(Jw(la("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,mv.CLOSE_ON_EXECUTE,T,t.providers),{movement:Qw(e.columns,e.presets)}))))),parts:{menu:Av(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[il,rl,cl],onLtr:()=>[rl,il,cl]},components:[],fetch:Zw(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:(t,o)=>{s.getOpt(t).each((t=>{"custom"===o?n.colorPicker((n=>{n.fold((()=>Pi(t,zx)),(n=>{a(t,n),Sw(e.storageKey,n)}))}),"#ffffff"):a(t,"remove"===o?"":o)}))}},t));return rx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:Cl([Jp("form-field-events",[Vi(Px,((t,n)=>{s.getOpt(t).each((e=>{At(e.element,"background-color",n.event.color)})),Ii(t,mx,{name:e.name})})),Vi(Ix,((e,t)=>{rx.getField(e).each((n=>{pd.setValue(n,t.event.value),_h.getCurrent(e).each(nf.focus)}))})),Vi(zx,((e,t)=>{rx.getField(e).each((t=>{_h.getCurrent(e).each(nf.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:DE(((e,t,n)=>((e,t,n)=>{const o=e=>"tox-"+e,r=MS((e=>t=>e.translate(HS[t]))(t),o),i=Zf(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Ii(e,gx,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Ii(e,gx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Cl([NS(n,(e=>{const t=i.get(e);return _h.getCurrent(t).bind((e=>pd.getValue(e).hex)).map((e=>"#"+Ee(e,"#"))).getOr("")}),((e,t)=>{const n=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),o=i.get(e);_h.getCurrent(o).fold((()=>{console.log("Can not find form")}),(e=>{pd.setValue(e,{hex:n.getOr("")}),xS.getField(e,"hex").each((e=>{Pi(e,Xr())}))}))})),OS()])}})(0,t.shared.providers,n))),dropzone:DE(((e,t,n)=>((e,t,n)=>{const o=(e,t)=>{t.stop()},r=e=>(t,n)=>{B(e,(e=>{e(t,n)}))},i=(e,t)=>{var n;if(!zh.isDisabled(e)){const o=t.event.raw;s(e,null===(n=o.dataTransfer)||void 0===n?void 0:n.files)}},a=(e,t)=>{const n=t.event.raw.target;s(e,n.files)},s=(n,o)=>{o&&(pd.setValue(n,((e,t)=>{const n=BS.explode(t.getOption("images_file_types"));return V(re(e),(e=>N(n,(t=>Oe(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(o,t)),Ii(n,mx,{name:e.name}))},l=Zf({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Cl([Jp("input-file-events",[qi(ei()),qi(mi())])])}),c=e.label.map((e=>hx(e,t))),u=rx.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Cl([LS(n.getOr([])),OS(),zh.config({}),df.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jp("dropzone-events",[Vi("dragenter",r([o,df.toggle])),Vi("dragleave",r([o,df.toggle])),Vi("dragover",o),Vi("drop",r([o,i])),Vi(Qr(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ts(t.translate("Drop an image here"))]},Wf.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ts(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:Cl([sx.config({}),xb(t.isDisabled),_b()])})]}]})}});return cx(c,u,["tox-form__group--stretched"],[])})(e,t.shared.providers,n))),grid:DE(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:F(e.items,t.interpreter)}))(e,t.shared))),listbox:DE(((e,t,n)=>((e,t,n)=>{const o=t.shared.providers,r=n.bind((t=>hk(e.items,t))).orThunk((()=>ne(e.items).filter(ck))),i=e.label.map((e=>hx(e,o))),a=rx.parts.field({dom:{},factory:{sketch:n=>rk({uid:n.uid,text:r.map((e=>e.text)),icon:O.none(),tooltip:e.label,role:O.none(),fetch:(n,o)=>{const r=dk(n,e.name,e.items,pd.getValue(n));o(lk(r,mv.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:O.none()}))},onSetup:w(v),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[sx.config({}),NS(r.map((e=>e.value)),(e=>kt(e.element,uk)),((t,n)=>{hk(e.items,n).each((e=>{Ct(t.element,uk,e.value),Ii(t,nk,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),s={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return rx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([i.toArray(),[s]]),fieldBehaviours:Cl([zh.config({disabled:w(!e.enabled),onDisabled:e=>{rx.getField(e).each(zh.disable)},onEnabled:e=>{rx.getField(e).each(zh.enable)}})])})})(e,t,n))),selectbox:DE(((e,t,n)=>((e,t,n)=>{const o=F(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>hx(e,t))),i=rx.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:mk,selectBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled()}),sx.config({}),Jp("selectbox-change",[Vi(Qr(),((t,n)=>{Ii(t,mx,{name:e.name})}))])])}),a=e.size>1?O.none():O.some(tg("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),s={dom:{tag:"div",classes:["tox-selectfield"]},components:q([[i],a.toArray()])};return rx.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:q([r.toArray(),[s]]),fieldBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{rx.getField(e).each(zh.disable)},onEnabled:e=>{rx.getField(e).each(zh.enable)}}),_b()])})})(e,t.shared.providers,n))),sizeinput:DE(((e,t)=>((e,t)=>{let n=wk;const o=la("ratio-event"),r=e=>tg(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=vk.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled()}),_b(),sx.config({})])}),a=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),s=n=>rx.parts.field({factory:Nv,inputClasses:["tox-textfield"],inputBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled()}),_b(),sx.config({}),Jp("size-input-events",[Vi(Gr(),((e,t)=>{Ii(e,o,{isField1:n})})),Vi(Qr(),((t,n)=>{Ii(t,mx,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[ts(t.translate(e))]}),c=vk.parts.field1(a([rx.parts.label(l("Width")),s(!0)])),u=vk.parts.field2(a([rx.parts.label(l("Height")),s(!1)]));return vk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,u,a([l(" "),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{yk(pd.getValue(e)).each((e=>{n(e).each((e=>{pd.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((o=e.unit)in t?t[o]:1);var o;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit})(e))}))}))},coupledFieldBehaviours:Cl([zh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{vk.getField1(e).bind(rx.getField).each(zh.disable),vk.getField2(e).bind(rx.getField).each(zh.disable),vk.getLock(e).each(zh.disable)},onEnabled:e=>{vk.getField1(e).bind(rx.getField).each(zh.enable),vk.getField2(e).bind(rx.getField).each(zh.enable),vk.getLock(e).each(zh.enable)}}),_b(),Jp("size-input-events2",[Vi(o,((e,t)=>{const o=t.event.isField1,r=o?vk.getField1(e):vk.getField2(e),i=o?vk.getField2(e):vk.getField1(e),a=r.map(pd.getValue).getOr(""),s=i.map(pd.getValue).getOr("");n=((e,t)=>{const n=yk(e).toOptional(),o=yk(t).toOptional();return xe(n,o,((e,t)=>bk(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,o=t.unit,e=>bk(e,o).map((e=>({value:e*n,unit:o})));var n,o})).getOr(wk))).getOr(wk)})(a,s)}))])])})})(e,t.shared.providers))),slider:DE(((e,t,n)=>((e,t,n)=>{const o=pS.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ts(t.translate(e.label))]}),r=pS.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=pS.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return pS.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:w(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,r,i],sliderBehaviours:Cl([OS(),nf.config({})]),onChoose:(t,n,o)=>{Ii(t,mx,{name:e.name,value:o})}})})(e,t.shared.providers,n))),urlinput:DE(((e,t,n)=>((e,t,n,o)=>{const r=t.shared.providers,i=t=>{const o=pd.getValue(t);n.addToHistory(o.value,e.filetype)},a={...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":TE,type:"url"},minChars:0,responseTime:0,fetch:o=>{const r=((e,t,n)=>{var o,r;const i=pd.getValue(t),a=null!==(r=null===(o=null==i?void 0:i.meta)||void 0===o?void 0:o.text)&&void 0!==r?r:i.value;return n.getLinkInformation().fold((()=>[]),(t=>{const o=EE(a,(e=>F(e,(e=>wE(e,e))))(n.getHistory(e)));return"file"===e?(r=[o,EE(a,xE(t)),EE(a,q([SE(t),CE(t),kE(t)]))],W(r,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(yE,t)),[])):o;var r}))})(e.filetype,o,n),i=lk(r,mv.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:O.none()});return g_(i)},getHotspot:e=>m.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(Ax)&&Ax.run(e).get(v)},typeaheadBehaviours:Cl([...n.getValidationHandler().map((t=>Ax.config({getRoot:e=>it(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{Ct(e.element,"title",r.translate(t))}))}},validator:{validate:n=>{const o=pd.getValue(n);return uE((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=ro.error(e.message);n(t)}else{const t=ro.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),zh.config({disabled:()=>!e.enabled||r.isDisabled()}),sx.config({}),Jp("urlinput-events",[Vi(Xr(),(t=>{const n=$a(t.element),o=n.trim();o!==n&&qa(t.element,o),"file"===e.filetype&&Ii(t,mx,{name:e.name})})),Vi(Qr(),(t=>{Ii(t,mx,{name:e.name}),i(t)})),Vi(ci(),(t=>{Ii(t,mx,{name:e.name}),i(t)}))])]),eventOrder:{[Xr()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Av(0,0,"normal")},onExecute:(e,t,n)=>{Ii(t,vx,{})},onItemExecute:(t,n,o,r)=>{i(t),Ii(t,mx,{name:e.name})}},s=rx.parts.field({...a,factory:lE}),l=e.label.map((e=>hx(e,r))),c=Zf(((e,t,n=e,o=e)=>tg(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons))("invalid",O.some(TE),"warning")),u=Zf({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),d=n.getUrlPicker(e.filetype),h=la("browser.url.event"),m=Zf({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,u.asSpec()],behaviours:Cl([zh.config({disabled:()=>!e.enabled||r.isDisabled()})])}),p=Zf(fE({name:e.name,icon:O.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:O.none(),borderless:!0},(e=>Pi(e,h)),r,[],["tox-browse-url"]));return rx.sketch({dom:dx([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:q([[m.asSpec()],d.map((()=>p.asSpec())).toArray()])}]),fieldBehaviours:Cl([zh.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{rx.getField(e).each(zh.disable),p.getOpt(e).each(zh.disable)},onEnabled:e=>{rx.getField(e).each(zh.enable),p.getOpt(e).each(zh.enable)}}),_b(),Jp("url-input-events",[Vi(h,(t=>{_h.getCurrent(t).each((n=>{const o=pd.getValue(n),r={fieldname:e.name,...o};d.each((o=>{o(r).get((o=>{pd.setValue(n,o),Ii(t,mx,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:DE((e=>{const t=Ql(),n=Zf({dom:{tag:e.tag}}),o=Ql();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Cl([Jp("custom-editor-events",[Yi((r=>{n.getOpt(r).each((n=>{((e=>ye(e,"init"))(e)?e.init(n.element.dom):FS.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),NS(O.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),OS()]),components:[n.asSpec()]}})),htmlpanel:DE((e=>"presentation"===e.presets?ex.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):ex.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Cl([sx.config({}),nf.config({})])}))),imagepreview:DE(((e,t,n)=>((e,t)=>{const n=Mr(t.getOr({url:""})),o=Zf({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=Zf({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),i={};e.height.each((e=>i.height=e));const a=t.map((e=>({url:e.url,zoom:O.from(e.zoom),cachedWidth:O.from(e.cachedWidth),cachedHeight:O.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:Cl([OS(),NS(a,(()=>n.get()),((e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),n.set(i);const a=()=>{const{cachedWidth:t,cachedHeight:n,zoom:o}=i;if(!d(t)&&!d(n)){if(d(o)){const o=((e,t,n)=>{const o=Jt(e),r=jt(e);return Math.min(o/t,r/n,1)})(e.element,t,n);i.zoom=o}const a=((e,t,n,o,r)=>{const i=n*r,a=o*r,s=Math.max(0,e/2-i/2),l=Math.max(0,t/2-a/2);return{left:s.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:a.toString()+"px"}})(Jt(e.element),jt(e.element),t,n,i.zoom);r.getOpt(e).each((e=>{Rt(e.element,a)}))}};o.getOpt(e).each((n=>{const o=n.element;var r;t.url!==kt(o,"src")&&(Ct(o,"src",t.url),Ua(e.element,"tox-imagepreview__loaded")),a(),(r=o,new Promise(((e,t)=>{const n=()=>{i(),e(r)},o=[tc(r,"load",n),tc(r,"error",(()=>{i(),t("Unable to load data from image: "+r.dom.src)}))],i=()=>B(o,(e=>e.unbind()));r.dom.complete&&n()}))).then((t=>{e.getSystem().isConnected()&&(Ba(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,a())}))}))}))])}})(e,n))),table:DE(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:F(r,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(o=e.cells,{dom:{tag:"tbody"},components:F(o,(e=>({dom:{tag:"tr"},components:F(e,n)})))})],behaviours:Cl([sx.config({}),nf.config({})])};var o,r})(e,t.shared.providers))),tree:DE(((e,t)=>((e,t)=>{const n=e.onLeafAction.getOr(v),o=e.onToggleExpand.getOr(v),r=e.defaultExpandedIds,i=Mr(r),a=Mr(e.defaultSelectedId),s=la("tree-id"),l=(o,r)=>e.items.map((e=>"leaf"===e.type?jk({leaf:e,selectedId:o,onLeafAction:n,visible:!0,treeId:s,backstage:t}):Gk({directory:e,selectedId:o,onLeafAction:n,expandedIds:r,labelTabstopping:!0,treeId:s,backstage:t})));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:l(a.get(),i.get()),behaviours:Cl([Up.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jp(Kk,[Vi("expand-tree-node",((e,t)=>{const{expanded:n,node:r}=t.event;i.set(n?[...i.get(),r]:i.get().filter((e=>e!==r))),o(i.get(),{expanded:n,node:r})}))]),Ol.config({channels:{[`update-active-item-${s}`]:{onReceive:(e,t)=>{a.set(O.some(t.value)),Yp.set(e,l(O.some(t.value),i.get()))}}}}),Yp.config({})])}})(e,t))),panel:DE(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:F(e.items,t.shared.interpreter)}))(e,t)))},RE={field:(e,t)=>t,record:w([])},PE=(e,t,n,o)=>{const r=go(o,{shared:{interpreter:t=>IE(e,t,n,r)}});return IE(e,t,n,r)},IE=(e,t,n,o)=>ve(AE,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o))),zE=(e,t,n)=>IE(RE,e,t,n),NE="layout-inset",LE=e=>e.x,HE=(e,t)=>e.x+e.width/2-t.width/2,FE=(e,t)=>e.x+e.width-t.width,BE=e=>e.y,UE=(e,t)=>e.y+e.height-t.height,VE=(e,t)=>e.y+e.height/2-t.height/2,jE=(e,t,n)=>Hs(FE(e,t),UE(e,t),n.insetSouthwest(),js(),"southwest",Ys(e,{right:0,bottom:3}),NE),WE=(e,t,n)=>Hs(LE(e),UE(e,t),n.insetSoutheast(),Vs(),"southeast",Ys(e,{left:1,bottom:3}),NE),ZE=(e,t,n)=>Hs(FE(e,t),BE(e),n.insetNorthwest(),Us(),"northwest",Ys(e,{right:0,top:2}),NE),$E=(e,t,n)=>Hs(LE(e),BE(e),n.insetNortheast(),Bs(),"northeast",Ys(e,{left:1,top:2}),NE),qE=(e,t,n)=>Hs(HE(e,t),BE(e),n.insetNorth(),Ws(),"north",Ys(e,{top:2}),NE),GE=(e,t,n)=>Hs(HE(e,t),UE(e,t),n.insetSouth(),Zs(),"south",Ys(e,{bottom:3}),NE),KE=(e,t,n)=>Hs(FE(e,t),VE(e,t),n.insetEast(),qs(),"east",Ys(e,{right:0}),NE),YE=(e,t,n)=>Hs(LE(e),VE(e,t),n.insetWest(),$s(),"west",Ys(e,{left:1}),NE),JE=e=>{switch(e){case"north":return qE;case"northeast":return $E;case"northwest":return ZE;case"south":return GE;case"southeast":return WE;case"southwest":return jE;case"east":return KE;case"west":return YE}},XE=(e,t,n,o,r)=>Gl(o).map(JE).getOr(qE)(e,t,n,o,r),QE=e=>{switch(e){case"north":return GE;case"northeast":return WE;case"northwest":return jE;case"south":return qE;case"southeast":return $E;case"southwest":return ZE;case"east":return YE;case"west":return KE}},eT=(e,t,n,o,r)=>Gl(o).map(QE).getOr(qE)(e,t,n,o,r),tT={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},nT=(e,t,n)=>{const o={maxHeightFunction:cc()};return()=>n()?{type:"node",root:gt(ft(e())),node:O.from(e()),bubble:mc(12,12,tT),layouts:{onRtl:()=>[$E],onLtr:()=>[ZE]},overrides:o}:{type:"hotspot",hotspot:t(),bubble:mc(-12,12,tT),layouts:{onRtl:()=>[rl,il,cl],onLtr:()=>[il,rl,cl]},overrides:o}},oT=(e,t,n)=>()=>n()?{type:"node",root:gt(ft(e())),node:O.from(e()),layouts:{onRtl:()=>[qE],onLtr:()=>[qE]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}},rT=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){const e=n[0],t=n[n.length-1],o={firstCell:Le(e),lastCell:Le(t)};return O.some(o)}return O.some(Bc.range(Le(t.startContainer),t.startOffset,Le(t.endContainer),t.endOffset))}}),iT=e=>t=>({type:"node",root:e(),node:t}),aT=(e,t,n)=>{const o=ov(e),r=()=>Le(e.getBody()),i=()=>Le(e.getContentAreaContainer()),a=()=>o||!n();return{inlineDialog:nT(i,t,a),banner:oT(i,t,a),cursor:rT(e,r),node:iT(r)}},sT=e=>(t,n)=>{Yw(e)(t,n)},lT=e=>()=>Lw(e),cT=e=>t=>Hw(e,t),uT=e=>t=>Nw(e,t),dT=e=>()=>Bg(e),hT=e=>be(e,"items"),mT=e=>be(e,"format"),pT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],fT=e=>W(e,((e,t)=>{if(ye(t,"items")){const n=fT(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(ye(t,"inline")||(e=>ye(e,"block"))(t)||(e=>ye(e,"selector"))(t)){const n=`custom-${i(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),gT=e=>bg(e).map((t=>{const n=((e,t)=>{const n=fT(t),o=t=>{B(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats})(e,t);return wg(e)?pT.concat(n):n})).getOr(pT),vT=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),yT=(e,t,n,o)=>{const r=t=>F(t,(t=>hT(t)?(e=>{const t=r(e.items);return{...e,type:"submenu",getStyleItems:w(t)}})(t):mT(t)?(e=>vT(e,n,o))(t):(e=>{const t=ae(e);return 1===t.length&&z(t,"title")})(t)?{...t,type:"separator"}:(t=>{const r=i(t.name)?t.name:la(t.title),a=`custom-${r}`,s={...t,type:"formatter",format:a,isSelected:n(a),getStylePreview:o(a)};return e.formatter.register(r,s),s})(t)));return r(t)},bT=BS.trim,wT=e=>t=>{if((e=>m(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},_T=wT("true"),xT=wT("false"),CT=(e,t,n,o,r)=>({type:e,title:t,url:n,level:o,attach:r}),ST=e=>e.innerText||e.textContent,kT=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&TT(e),ET=e=>e&&/^(H[1-6])$/.test(e.nodeName),TT=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return _T(t)}return!1})(e)&&!xT(e),MT=e=>ET(e)&&TT(e),OT=e=>{var t;const n=(e=>e.id?e.id:la("h"))(e);return CT("header",null!==(t=ST(e))&&void 0!==t?t:"","#"+n,(e=>ET(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=n}))},DT=e=>{const t=e.id||e.name,n=ST(e);return CT("anchor",n||"#"+t,"#"+t,0,v)},AT=e=>bT(e.title).length>0,RT=e=>{const t=(e=>{const t=F(Gc(Le(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return V((e=>F(V(e,MT),OT))(t).concat((e=>F(V(e,kT),DT))(t)),AT)},PT="tinymce-url-history",IT=e=>i(e)&&/^https?/.test(e),zT=e=>a(e)&&fe(e,(e=>{return!(l(t=e)&&t.length<=5&&K(t,IT));var t})).isNone(),NT=()=>{const e=_w.getItem(PT);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+PT+" was not valid JSON",e),{};throw e}return zT(t)?t:(console.log("Local storage "+PT+" was not valid format",t),{})},LT=e=>{const t=NT();return ve(t,e).getOr([])},HT=(e,t)=>{if(!IT(e))return;const n=NT(),o=ve(n,t).getOr([]),r=V(o,(t=>t!==e));n[t]=[e].concat(r).slice(0,5),(e=>{if(!zT(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));_w.setItem(PT,JSON.stringify(e))})(n)},FT=e=>!!e,BT=e=>ce(BS.makeMap(e,/[, ]/),FT),UT=e=>O.from(Pg(e)),VT=e=>O.from(e).filter(i).getOrUndefined(),jT=e=>({getHistory:LT,addToHistory:HT,getLinkInformation:()=>(e=>Lg(e)?O.some({targets:RT(e.getBody()),anchorTop:VT(Hg(e)),anchorBottom:VT(Fg(e))}):O.none())(e),getValidationHandler:()=>(e=>O.from(Ig(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const n=(e=>{const t=O.from(Ng(e)).filter(FT).map(BT);return UT(e).fold(T,(e=>t.fold(M,(e=>ae(e).length>0&&e))))})(e);return u(n)?n?UT(e):O.none():n[t]?UT(e):O.none()})(e,t).map((n=>o=>f_((r=>{const s={filetype:t,fieldname:o.fieldname,...O.from(o.meta).getOr({})};n.call(e,((e,t)=>{if(!i(e))throw new Error("Expected value to be string");if(void 0!==t&&!a(t))throw new Error("Expected meta to be a object");r({value:e,meta:t})}),o.value,s)})))))(e,t)}),WT=uh,ZT=qd,$T=w([br("shell",!1),nr("makeItem"),br("setupItem",v),yd("listBehaviours",[Yp])]),qT=Wd({name:"items",overrides:()=>({behaviours:Cl([Yp.config({})])})}),GT=w([qT]),KT=vh({name:w("CustomList")(),configFields:$T(),partFields:GT(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Yp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:vd(e.listBehaviours,r.behaviours),apis:{setItems:(t,n)=>{var o;(o=t,e.shell?O.some(o):nh(o,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const r=Yp.contents(o),i=n.length,a=i-r.length,s=a>0?L(a,(()=>e.makeItem())):[],l=r.slice(i);B(l,(e=>Yp.remove(o,e))),B(s,(e=>Yp.append(o,e)));const c=Yp.contents(o);B(c,((o,r)=>{e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),YT=w([nr("dom"),br("shell",!0),fd("toolbarBehaviours",[Yp])]),JT=w([Wd({name:"groups",overrides:()=>({behaviours:Cl([Yp.config({})])})})]),XT=vh({name:"Toolbar",configFields:YT(),partFields:JT(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Yp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:vd(e.toolbarBehaviours,r.behaviours),apis:{setGroups:(t,n)=>{var o;(o=t,e.shell?O.some(o):nh(o,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Yp.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),QT=v,eM=T,tM=w([]);var nM,oM=Object.freeze({__proto__:null,setup:QT,isDocked:eM,getBehaviours:tM});const rM=e=>(we(Nt(e,"position"),"fixed")?O.none():at(e)).orThunk((()=>{const t=ze("span");return rt(e).bind((e=>{Hn(e,t);const n=at(t);return Un(t),n}))})),iM=e=>rM(e).map(Gt).getOrThunk((()=>$t(0,0))),aM=(e,t)=>{const n=e.element;Ba(n,t.transitionClass),Ua(n,t.fadeOutClass),Ba(n,t.fadeInClass),t.onShow(e)},sM=(e,t)=>{const n=e.element;Ba(n,t.transitionClass),Ua(n,t.fadeInClass),Ba(n,t.fadeOutClass),t.onHide(e)},lM=(e,t)=>e.y>=t.y,cM=(e,t)=>e.bottom<=t.bottom,uM=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),dM=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),hM=e=>e.box.x-e.win.x,mM=(e,t,n)=>n.getInitialPos().map((n=>{const o=((e,t)=>{const n=t.optScrollEnv.fold(w(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return $t(e.bounds.x,n)})(n,t);return{box:Yn(o.left,o.top,Jt(e),jt(e)),location:n.location}})),pM=(e,t,n,o,r)=>{const i=((e,t)=>{const n=t.optScrollEnv.fold(w(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return $t(e.x,n)})(t,n),a=Yn(i.left,i.top,t.width,t.height);o.setInitialPos({style:Lt(e),position:It(e,"position")||"static",bounds:a,location:r.location})},fM=(e,t,n)=>n.getInitialPos().bind((o=>{var r;switch(n.clearInitialPos(),o.position){case"static":return O.some({morph:"static"});case"absolute":const n=rM(e).getOr(wt()),i=Jn(n),a=null!==(r=n.dom.scrollTop)&&void 0!==r?r:0;return O.some({morph:"absolute",positionCss:Ll("absolute",ve(o.style,"left").map((e=>t.x-i.x)),ve(o.style,"top").map((e=>t.y-i.y+a)),ve(o.style,"right").map((e=>i.right-t.right)),ve(o.style,"bottom").map((e=>i.bottom-t.bottom)))});default:return O.none()}})),gM=e=>{switch(e.location){case"top":return O.some({morph:"fixed",positionCss:Ll("fixed",O.some(e.leftX),O.some(e.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:Ll("fixed",O.some(e.leftX),O.none(),O.none(),O.some(e.bottomY))});default:return O.none()}},vM=(e,t,n)=>{const o=e.element;return we(Nt(o,"position"),"fixed")?((e,t,n)=>((e,t,n)=>mM(e,t,n).filter((({box:e})=>((e,t,n)=>K(e,(e=>{switch(e){case"bottom":return cM(t,n.bounds);case"top":return lM(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>fM(e,t,n))))(e,t,n).orThunk((()=>t.optScrollEnv.bind((o=>mM(e,t,n))).bind((({box:e,location:n})=>{const o=eo(),r=hM({win:o,box:e}),i="top"===n?uM(o,r,t):dM(o,r,t);return gM(i)})))))(o,t,n):((e,t,n)=>{const o=Jn(e),r=eo(),i=((e,t,n)=>{const o=t.win,r=t.box,i=hM(t);return ie(e,(e=>{switch(e){case"bottom":return cM(r,n.bounds)?O.none():O.some(dM(o,i,n));case"top":return lM(r,n.bounds)?O.none():O.some(uM(o,i,n));default:return O.none()}})).getOr({location:"no-dock"})})(n.getModes(),{win:r,box:o},t);return"top"===i.location||"bottom"===i.location?(pM(e,o,t,n,i),gM(i)):O.none()})(o,t,n)},yM=(e,t,n)=>{n.setDocked(!1),B(["left","right","top","bottom","position"],(t=>Ft(e.element,t))),t.onUndocked(e)},bM=(e,t,n,o)=>{const r="fixed"===o.position;n.setDocked(r),Hl(e.element,o),(r?t.onDocked:t.onUndocked)(e)},wM=(e,t,n,o,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const a=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(i,o.bounds);a!==n.isVisible()&&(n.setVisible(a),r&&!a?(ja(e.element,[t.fadeOutClass]),t.onHide(e)):(a?aM:sM)(e,t))}))}))},_M=(e,t,n,o,r)=>{wM(e,t,n,o,!0),bM(e,t,n,r.positionCss)},xM=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{const o=t.lazyViewport(e);wM(e,t,n,o),vM(e,o,n).each((r=>{((e,t,n,o,r)=>{switch(r.morph){case"static":return yM(e,t,n);case"absolute":return bM(e,t,n,r.positionCss);case"fixed":_M(e,t,n,o,r)}})(e,t,n,o,r)}))})(e,t,n)},CM=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{const o=e.element;n.setDocked(!1);const r=t.lazyViewport(e);((e,t,n)=>{const o=e.element;return mM(o,t,n).bind((({box:e})=>fM(o,e,n)))})(e,r,n).each((o=>{switch(o.morph){case"static":yM(e,t,n);break;case"absolute":bM(e,t,n,o.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{Wa(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),xM(e,t,n)})(e,t,n)},SM=e=>(t,n,o)=>{const r=n.lazyViewport(t);((e,t,n,o)=>{const r=Jn(e),i=eo(),a=o(i,hM({win:i,box:r}),t);return"bottom"===a.location||"top"===a.location?(((e,t,n,o,r)=>{o.getInitialPos().fold((()=>pM(e,t,n,o,r)),(()=>v))})(e,r,t,n,a),gM(a)):O.none()})(t.element,r,o,e).each((e=>{_M(t,n,o,r,e)}))},kM=SM(uM),EM=SM(dM);var TM=Object.freeze({__proto__:null,refresh:xM,reset:CM,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,o)=>n.setModes(o),forceDockToTop:kM,forceDockToBottom:EM}),MM=Object.freeze({__proto__:null,events:(e,t)=>Fi([Ki(ni(),((n,o)=>{e.contextual.each((e=>{Va(n.element,e.transitionClass)&&(Wa(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),o.stop()}))})),Vi(wi(),((n,o)=>{xM(n,e,t)})),Vi(Mi(),((n,o)=>{xM(n,e,t)})),Vi(_i(),((n,o)=>{CM(n,e,t)}))])}),OM=[yr("contextual",[ir("fadeInClass"),ir("fadeOutClass"),ir("transitionClass"),sr("lazyContext"),As("onShow"),As("onShown"),As("onHide"),As("onHidden")]),kr("lazyViewport",(()=>({bounds:eo(),optScrollEnv:O.none()}))),Er("modes",["top","bottom"],Fo),As("onDocked"),As("onUndocked")];const DM=kl({fields:OM,name:"docking",active:MM,apis:TM,state:Object.freeze({__proto__:null,init:e=>{const t=Mr(!1),n=Mr(!0),o=Ql(),r=Mr(e.modes);return Ea({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${r.get().join(",")}`})}})}),AM=w(la("toolbar-height-change")),RM={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},PM="tox-tinymce--toolbar-sticky-on",IM="tox-tinymce--toolbar-sticky-off",zM=(e,t)=>z(DM.getModes(e),t),NM=e=>{const t=e.element;it(t).each((n=>{const o="padding-"+DM.getModes(e)[0];if(DM.isDocked(e)){const e=Jt(n);At(t,"width",e+"px"),At(n,o,(e=>Wt(e)+(parseInt(It(e,"margin-top"),10)||0)+(parseInt(It(e,"margin-bottom"),10)||0))(t)+"px")}else Ft(t,"width"),Ft(n,o)}))},LM=(e,t)=>{t?(Ua(e,RM.fadeOutClass),ja(e,[RM.transitionClass,RM.fadeInClass])):(Ua(e,RM.fadeInClass),ja(e,[RM.fadeOutClass,RM.transitionClass]))},HM=(e,t)=>{const n=Le(e.getContainer());t?(Ba(n,PM),Ua(n,IM)):(Ba(n,IM),Ua(n,PM))},FM=(e,t)=>{const n=Ql(),o=t.getSink,r=e=>{o().each((t=>e(t.element)))},i=t=>{e.inline||NM(t),HM(e,DM.isDocked(t)),t.getSystem().broadcastOn([Yu()],{}),o().each((e=>e.getSystem().broadcastOn([Yu()],{})))},a=e.inline?[]:[Ol.config({channels:{[AM()]:{onReceive:NM}}})];return[nf.config({}),DM.config({contextual:{lazyContext:t=>{const n=Wt(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer();return O.from(o).map((o=>{const r=Jn(Le(o));return V_(e,t.element).fold((()=>{const e=r.height-n,o=r.y+(zM(t,"top")?0:n);return Yn(r.x,o,r.width,e)}),(e=>{const o=Qn(r,j_(e)),i=zM(t,"top")?o.y:o.y+n;return Yn(o.x,i,o.width,o.height-n)}))}))},onShow:()=>{r((e=>LM(e,!0)))},onShown:e=>{r((e=>Wa(e,[RM.transitionClass,RM.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=et(t);Il(n).filter((e=>!Xe(t,e))).filter((t=>Xe(t,Le(n.dom.body))||Qe(e,t))).each((()=>Al(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>zl(e).orThunk((()=>t().toOptional().bind((e=>zl(e.element))))))(e.element,o).fold(n.clear,n.set),r((e=>LM(e,!1)))},onHidden:()=>{r((e=>Wa(e,[RM.transitionClass])))},...RM},lazyViewport:t=>V_(e,t.element).fold((()=>{const n=eo(),o=Dg(e),r=n.y+(zM(t,"top")?o:0),i=n.height-(zM(t,"bottom")?o:0);return{bounds:Yn(n.x,r,n.width,i),optScrollEnv:O.none()}}),(e=>({bounds:j_(e),optScrollEnv:O.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Gt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...a]};var BM=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(DM.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(NM)})),e.on("SkinLoaded",(()=>{n().each((e=>{DM.isDocked(e)?DM.reset(e):DM.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(DM.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{DM.refresh(t);const n=t.element;Im(n)&&((e,t)=>{const n=et(t),o=ot(t).dom.innerHeight,r=Vn(n),i=Le(e.elm),a=Xn(i),s=jt(i),l=a.y,c=l+s,u=Gt(t),d=jt(t),h=u.top,m=h+d,p=Math.abs(h-r.top)<2,f=Math.abs(m-(r.top+o))<2;if(p&&l<m)jn(r.left,l-d,n);else if(f&&c>h){const e=l-o+s+d;jn(r.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{HM(e,!1)}))},isDocked:e=>e().map(DM.isDocked).getOr(!1),getBehaviours:FM});const UM=Ao([ey,or("items",Po([zo([ty,ur("items",Fo)]),Fo]))].concat(Dy)),VM=[pr("text"),pr("tooltip"),pr("icon"),wr("search",!1,Po([Bo,Ao([pr("placeholder")])],(e=>u(e)?e?O.some({placeholder:O.none()}):O.none():O.some(e)))),sr("fetch"),kr("onSetup",(()=>v))],jM=Ao([ey,...VM]),WM=e=>qo("menubutton",jM,e),ZM=Ao([ey,fy,py,my,yy,sy,dy,Cr("presets","normal",["normal","color","listpreview"]),Cy(1),cy,uy]);var $M=gh({factory:(e,t)=>{const n={focus:Up.focusIn,setMenus:(e,n)=>{const o=F(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},o=WM(n).mapError((e=>Yo(e))).getOrDie();return Fk(o,"tox-mbtn",t.backstage,O.some("menuitem"))}));Yp.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Cl([Yp.config({}),Jp("menubar-events",[Yi((t=>{e.onSetup(t)})),Vi(qr(),((e,t)=>{ps(e.element,".tox-mbtn--active").each((n=>{fs(t.event.target,".tox-mbtn").each((t=>{Xe(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{D_.expand(e),D_.close(n),nf.focus(e)}))}))}))}))})),Vi(Ei(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{D_.isOpen(n)&&(D_.expand(e),D_.close(n))}))}))}))]),Up.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),O.some(!0))}),sx.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[nr("dom"),nr("uid"),nr("onEscape"),nr("backstage"),br("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const qM="container",GM=[fd("slotBehaviours",[])],KM=e=>"<alloy.field."+e+">",YM=(e,t)=>{const n=t=>ah(e),o=(t,n)=>(o,r)=>nh(o,e,r).map((e=>t(e,r))).getOr(n),r=(e,t)=>"true"!==kt(e.element,"aria-hidden"),i=o(r,!1),a=o(((e,t)=>{if(r(e)){const n=e.element;At(n,"display","none"),Ct(n,"aria-hidden","true"),Ii(e,Ti(),{name:t,visible:!1})}})),s=(e=>(t,n)=>{B(n,(n=>e(t,n)))})(a),l=o(((e,t)=>{if(!r(e)){const n=e.element;Ft(n,"display"),Mt(n,"aria-hidden"),Ii(e,Ti(),{name:t,visible:!0})}})),c={getSlotNames:n,getSlot:(t,n)=>nh(t,e,n),isShowing:i,hideSlot:a,hideAllSlots:e=>s(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:gd(e.slotBehaviours),apis:c}},JM=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>Sa(e))),XM={...JM,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),Jd(qM,KM(t),n)),record:w(e)}})(),n=e(t),o=t.record(),r=F(o,(e=>Vd({name:e,pname:KM(e)})));return hh(qM,GM,r,YM,n)}},QM=Ao([py,fy,kr("onShow",v),kr("onHide",v),dy]),eO=e=>({element:()=>e.element.dom}),tO=(e,t)=>{const n=F(ae(t),(e=>{const n=t[e],o=Go((e=>qo("sidebar",QM,e))(n));return{name:e,getApi:eO,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return F(n,(t=>{const o=Mr(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:sb([Eb(t,o),Tb(t,o),Vi(Ti(),((e,t)=>{const o=t.event,r=Z(n,(e=>e.name===o.name));r.each((t=>{(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},nO=e=>XM.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:tO(t,e),slotBehaviours:sb([Yi((e=>XM.hideAllSlots(e)))])}))),oO=(e,t)=>{Ct(e,"role",t)},rO=e=>_h.getCurrent(e).bind((e=>Lk.isGrowing(e)||Lk.hasGrown(e)?_h.getCurrent(e).bind((e=>Z(XM.getSlotNames(e),(t=>XM.isShowing(e,t))))):O.none())),iO=la("FixSizeEvent"),aO=la("AutoSizeEvent");var sO=Object.freeze({__proto__:null,block:(e,t,n,o)=>{Ct(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),i=Cl([Up.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),nf.config({})]),a=o(r,i),s=r.getSystem().build(a);Yp.append(r,as(s)),s.hasConfigured(Up)&&t.focus&&Up.focusIn(s),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Yp.remove(r,s)))},unblock:(e,t,n)=>{Mt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),lO=[kr("getRoot",O.none),Sr("focus",!0),As("onBlock"),As("onUnblock")];const cO=kl({fields:lO,name:"blocking",apis:sO,state:Object.freeze({__proto__:null,init:()=>{const e=Jl((e=>e.destroy()));return Ea({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),uO=e=>{const t=Ie(e),n=st(t),o=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return W(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),r=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),i=0===n.length?{}:{innerHtml:ea(t)};return{tag:Ve(t),classes:r,attributes:o,...i}},dO=e=>_h.getCurrent(e).each((e=>Al(e.element))),hO=(e,t,n)=>{const o=Mr(!1),r=Ql(),i=n=>{var r;o.get()&&(!(e=>"focusin"===e.type)(r=n)||!(r.composed?ne(r.composedPath()):O.from(r.target)).map(Le).filter(Ze).exists((e=>Va(e,"mce-pastebin"))))&&(n.preventDefault(),dO(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const a=r=>{r!==o.get()&&(o.set(r),((e,t,n,o)=>{const r=t.element;if(((e,t)=>{const n="tabindex",o=`data-mce-${n}`;O.from(e.iframeElement).map(Le).each((e=>{t?(Et(e,n).each((t=>Ct(e,o,t))),Ct(e,n,-1)):(Mt(e,n),Et(e,o).each((t=>{Ct(e,n,t),Mt(e,o)})))}))})(e,n),n)cO.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:uO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(o)),Ft(r,"display"),Mt(r,"aria-hidden"),e.hasFocus()&&dO(t);else{const n=_h.getCurrent(t).exists((e=>Pl(e.element)));cO.unblock(t),At(r,"display","none"),Ct(r,"aria-hidden","true"),n&&e.focus()}})(e,t(),r,n.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,r))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),f(t.time)){const n=jf.setEditorTimeout(e,(()=>a(t.state)),t.time);r.set(n)}else a(t.state),r.clear()}))},mO=(e,t,n)=>({within:e,extra:t,withinWidth:n}),pO=(e,t,n)=>{const o=W(e,((e,t)=>((e,t)=>{const o=n(e);return O.some({element:e,start:t,finish:t+o,width:o})})(t,e.len).fold(w(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,r=V(o,(e=>e.finish<=t)),i=j(r,((e,t)=>e+t.width),0);return{within:r,extra:o.slice(r.length),withinWidth:i}},fO=e=>F(e,(e=>e.element)),gO=(e,t)=>{const n=F(t,(e=>as(e)));XT.setGroups(e,n)},vO=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const r=oh(e,t,"primary"),i=u_.getCoupled(e,"overflowGroup");At(r.element,"visibility","hidden");const a=o.concat([i]),s=ie(a,(e=>zl(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),gO(r,a);const l=((e,t,n,o)=>{const r=((e,t,n)=>{const o=pO(t,e,n);return 0===o.extra.length?O.some(o):O.none()})(e,t,n).getOrThunk((()=>pO(t,e-n(o),n))),i=r.within,a=r.extra,s=r.withinWidth;return 1===a.length&&a[0].width<=n(o)?((e,t,n)=>{const o=fO(e.concat(t));return mO(o,[],n)})(i,a,s):a.length>=1?((e,t,n,o)=>{const r=fO(e).concat([n]);return mO(r,fO(t),o)})(i,a,o,s):((e,t,n)=>mO(fO(e),[],n))(i,0,s)})(Jt(r.element),t.builtGroups.get(),(e=>Jt(e.element)),i);0===l.extra.length?(Yp.remove(r,i),n([])):(gO(r,l.within),n(l.extra)),Ft(r.element,"visibility"),Bt(r.element),s.each(nf.focus)},yO=w([fd("splitToolbarBehaviours",[u_]),er("builtGroups",(()=>Mr([])))]),bO=w([Os(["overflowToggledClass"]),gr("getOverflowBounds"),nr("lazySink"),er("overflowGroups",(()=>Mr([]))),As("onOpened"),As("onClosed")].concat(yO())),wO=w([Vd({factory:XT,schema:YT(),name:"primary"}),jd({schema:YT(),name:"overflow"}),jd({name:"overflow-button"}),jd({name:"overflow-group"})]),_O=w(((e,t)=>{((e,t)=>{const n=Yt.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);At(e,"max-width",n+"px")})(e,Math.floor(t))})),xO=w([Os(["toggledClass"]),nr("lazySink"),sr("fetch"),gr("getBounds"),yr("fireDismissalEventInstead",[br("event",Si())]),_c(),As("onToggled")]),CO=w([jd({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Cl([df.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),jd({factory:XT,schema:YT(),name:"toolbar",overrides:e=>({toolbarBehaviours:Cl([Up.config({mode:"cyclic",onEscape:t=>(nh(t,e,"button").each(nf.focus),O.none())})])})})]),SO=Ql(),kO=(e,t)=>{const n=u_.getCoupled(e,"toolbarSandbox");Gu.isOpen(n)?Gu.close(n):Gu.open(n,t.toolbar())},EO=(e,t,n,o)=>{const r=n.getBounds.map((e=>e())),i=n.lazySink(e).getOrDie();xu.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:_O()}}},r)},TO=(e,t,n,o,r)=>{XT.setGroups(t,r),EO(e,t,n,o),df.on(e)},MO=vh({name:"FloatingToolbarButton",factory:(e,t,n,o)=>({...Wf.sketch({...o.button(),action:e=>{kO(e,o)},buttonBehaviours:bd({dump:o.button().buttonBehaviours},[u_.config({others:{toolbarSandbox:t=>((e,t,n)=>{const o=vs();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:Cl([Up.config({mode:"special",onEscape:e=>(Gu.close(e),O.some(!0))}),Gu.config({onOpen:(r,i)=>{const a=SO.get().getOr(!1);n.fetch().get((r=>{TO(e,i,n,t.layouts,r),o.link(e.element),a||Up.focusIn(i)}))},onClose:()=>{df.off(e),SO.get().getOr(!1)||nf.focus(e),o.unlink(e.element)},isPartOf:(t,n,o)=>ys(n,o)||ys(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),Ol.config({channels:{...Qu({isExtraPart:T,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...td({doReposition:()=>{Gu.getState(u_.getCoupled(e,"toolbarSandbox")).each((o=>{EO(e,o,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,o)=>{Gu.getState(u_.getCoupled(t,"toolbarSandbox")).each((r=>{TO(t,r,e,n.layouts,o)}))},reposition:t=>{Gu.getState(u_.getCoupled(t,"toolbarSandbox")).each((o=>{EO(t,o,e,n.layouts)}))},toggle:e=>{kO(e,o)},toggleWithoutFocusing:e=>{((e,t)=>{SO.set(!0),kO(e,t),SO.clear()})(e,o)},getToolbar:e=>Gu.getState(u_.getCoupled(e,"toolbarSandbox")),isOpen:e=>Gu.isOpen(u_.getCoupled(e,"toolbarSandbox"))}}),configFields:xO(),partFields:CO(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),OO=w([nr("items"),Os(["itemSelector"]),fd("tgroupBehaviours",[Up])]),DO=w([Zd({name:"items",unit:"item"})]),AO=vh({name:"ToolbarGroup",configFields:OO(),partFields:DO(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.tgroupBehaviours,[Up.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),RO=e=>F(e,(e=>as(e))),PO=(e,t,n)=>{vO(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{MO.setGroups(e,RO(o))}))}))},IO=vh({name:"SplitFloatingToolbar",configFields:bO(),partFields:wO(),factory:(e,t,n,o)=>{const r=Zf(MO.sketch({fetch:()=>f_((t=>{t(RO(e.overflowGroups.get()))})),layouts:{onLtr:()=>[il,rl],onRtl:()=>[rl,il],onBottomLtr:()=>[sl,al],onBottomRtl:()=>[al,sl]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.splitToolbarBehaviours,[u_.config({others:{overflowGroup:()=>AO.sketch({...o["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(F(n,t.getSystem().build)),PO(t,r,e)},refresh:t=>PO(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{MO.toggle(e)}))},toggleWithoutFocusing:e=>{r.getOpt(e).each(MO.toggleWithoutFocusing)},isOpen:e=>r.getOpt(e).map(MO.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{MO.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(MO.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),zO=w([Os(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),As("onOpened"),As("onClosed")].concat(yO())),NO=w([Vd({factory:XT,schema:YT(),name:"primary"}),Vd({factory:XT,schema:YT(),name:"overflow",overrides:e=>({toolbarBehaviours:Cl([Lk.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{nh(t,e,"overflow-button").each((e=>{df.off(e),nf.focus(e)})),e.onClosed(t)},onGrown:t=>{Up.focusIn(t),e.onOpened(t)},onStartGrow:t=>{nh(t,e,"overflow-button").each(df.on)}}),Up.config({mode:"acyclic",onEscape:t=>(nh(t,e,"overflow-button").each(nf.focus),O.some(!0))})])})}),jd({name:"overflow-button",overrides:e=>({buttonBehaviours:Cl([df.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),jd({name:"overflow-group"})]),LO=(e,t)=>{nh(e,t,"overflow-button").bind((()=>nh(e,t,"overflow"))).each((n=>{HO(e,t),Lk.toggleGrow(n)}))},HO=(e,t)=>{nh(e,t,"overflow").each((n=>{vO(e,t,(e=>{const t=F(e,(e=>as(e)));XT.setGroups(n,t)})),nh(e,t,"overflow-button").each((e=>{Lk.hasGrown(n)&&df.on(e)})),Lk.refresh(n)}))},FO=vh({name:"SplitSlidingToolbar",configFields:zO(),partFields:NO(),factory:(e,t,n,o)=>{const r="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.splitToolbarBehaviours,[u_.config({others:{overflowGroup:e=>AO.sketch({...o["overflow-group"](),items:[Wf.sketch({...o["overflow-button"](),action:t=>{Pi(e,r)}})]})}}),Jp("toolbar-toggle-events",[Vi(r,(t=>{LO(t,e)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const o=F(n,t.getSystem().build);e.builtGroups.set(o)})(t,n),HO(t,e)},refresh:t=>HO(t,e),toggle:t=>LO(t,e),isOpen:t=>((e,t)=>nh(e,t,"overflow").map(Lk.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),BO=e=>{const t=e.title.fold((()=>({})),(e=>({attributes:{title:e}})));return{dom:{tag:"div",classes:["tox-toolbar__group"],...t},components:[AO.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Cl([sx.config({}),nf.config({})])}},UO=e=>AO.sketch(BO(e)),VO=(e,t)=>{const n=Yi((t=>{const n=F(e.initGroups,UO);XT.setGroups(t,n)}));return Cl([Sb(e.providers.isDisabled),_b(),Up.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Jp("toolbar-events",[n])])},jO=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":BO({title:O.none(),items:[]}),"overflow-button":hE({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("More..."),primary:!1,buttonType:O.none(),borderless:!1},O.none(),e.providers)},splitToolbarBehaviours:VO(e,t)}},WO=e=>{const t=jO(e),n=IO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return IO.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=Xn(t),o=nt(t),r=Xn(o),i=Math.max(o.dom.scrollHeight,r.height);return Yn(n.x+4,r.y,n.width-8,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},ZO=e=>{const t=FO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=FO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=jO(e);return FO.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([AM()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([AM()],{type:"closed"}),e.onToggled(t,!1)}})},$O=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return XT.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===rg.scrolling?["tox-toolbar--scrolling"]:[])},components:[XT.parts.groups({})],toolbarBehaviours:VO(e,t)})},qO=[my,py,pr("tooltip"),Cr("buttonType","secondary",["primary","secondary"]),Sr("borderless",!1),sr("onAction")],GO={button:[...qO,oy,ar("type",["button"])],togglebutton:[...qO,Sr("active",!1),ar("type",["togglebutton"])]},KO=[ar("type",["group"]),Er("buttons",[],Jo("type",GO))],YO=Jo("type",{...GO,group:KO}),JO=Ao([Er("buttons",[],YO),sr("onShow"),sr("onHide")]),XO=(e,t)=>((e,t)=>{var n,o;const r="togglebutton"===e.type,i=e.icon.map((e=>ek(e,t.icons))).map(Zf),a={...e,name:r?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:O.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},s=mE(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),l=r?e.text.map(t.translate):O.some(t.translate(e.text)),c=l.map(ts),u=a.tooltip.or(l).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),d=i.map((e=>e.asSpec())),h=Db([d,c]),m=e.icon.isSome()&&c.isSome(),p={tag:"button",classes:s.concat(...e.icon.isSome()&&!m?["tox-button--icon"]:[]).concat(...m?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:u},f=dE(a,O.some((n=>{const o=e=>{i.map((o=>o.getOpt(n).each((n=>{Yp.set(n,[ek(e,t.icons)])}))))};return r?e.onAction({setIcon:o,setActive:e=>{const t=n.element;e?(Ba(t,"tox-button--enabled"),Ct(t,"aria-pressed",!0)):(Ua(t,"tox-button--enabled"),Mt(t,"aria-pressed"))},isActive:()=>Va(n.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:o}):void 0})),[],p,h,t);return Wf.sketch(f)})(e,t),QO=An().deviceType,eD=QO.isPhone(),tD=QO.isTablet();var nD=vh({name:"silver.View",configFields:[nr("viewConfig")],partFields:[Wd({factory:{sketch:e=>{let t=!1;const n=F(e.buttons,(n=>"group"===n.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:F(e.buttons,(e=>XO(e,t)))}))(n,e.providers)):XO(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...eD||tD?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Cl([nf.config({}),Up.config({mode:"flow",selector:"button, .tox-button",focusInside:pm.OnEnterOrSpaceMode})]),components:t?n:[ex.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ex.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}}},schema:[nr("buttons"),nr("providers")],name:"header"}),Wd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,n,o)=>{const r={getPane:t=>WT.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:r}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const oD=(e,t,n)=>pe(t,((t,o)=>{const r=Go(qo("view",JO,t));return e.slot(o,nD.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[nD.parts.header({buttons:r.buttons,providers:n})]:[],nD.parts.pane({})]}))})),rD=(e,t)=>XM.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:oD(n,e,t),slotBehaviours:sb([Yi((e=>XM.hideAllSlots(e)))])}))),iD=e=>Z(XM.getSlotNames(e),(t=>XM.isShowing(e,t))),aD=(e,t,n)=>{XM.getSlot(e,t).each((e=>{nD.getPane(e).each((t=>{var o;n(e)((o=t.element.dom,{getContainer:w(o)}))}))}))};var sD=gh({factory:(e,t)=>{const n={setViews:(e,n)=>{Yp.set(e,[rD(n,t.backstage.shared.providers)])},whichView:e=>_h.getCurrent(e).bind(iD),toggleView:(e,t,n,o)=>_h.getCurrent(e).exists((r=>{const i=iD(r),a=i.exists((e=>o===e)),s=XM.getSlot(r,o).isSome();return s&&(XM.hideAllSlots(r),a?((e=>{const t=e.element;At(t,"display","none"),Ct(t,"aria-hidden","true")})(e),t()):(n(),(e=>{const t=e.element;Ft(t,"display"),Mt(t,"aria-hidden")})(e),XM.showSlot(r,o),((e,t)=>{aD(e,t,nD.getOnShow)})(r,o)),i.each((e=>((e,t)=>aD(e,t,nD.getOnHide))(r,e)))),s}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Cl([Yp.config({}),_h.config({find:e=>{const t=Yp.contents(e);return ne(t)}})]),apis:n}},name:"silver.ViewWrapper",configFields:[nr("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,o,r)=>e.toggleView(t,n,o,r),whichView:(e,t)=>e.whichView(t)}});const lD=ZT.optional({factory:$M,name:"menubar",schema:[nr("backstage")]}),cD=ZT.optional({factory:{sketch:e=>KT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Cl([Up.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>$O({type:e.type,uid:la("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),O.some(!0))}),setupItem:(e,t,n,o)=>{XT.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[nr("dom"),nr("onEscape")]}),uD=ZT.optional({factory:{sketch:e=>{const t=(e=>e.type===rg.sliding?ZO:e.type===rg.floating?WO:$O)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),O.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[nr("dom"),nr("onEscape"),nr("getSink")]}),dD=ZT.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?FM:tM;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Cl(n(t,e.sharedBackstage))}}},name:"header",schema:[nr("dom")]}),hD=ZT.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[nr("dom")]}),mD=ZT.optional({name:"socket",schema:[nr("dom")]}),pD=ZT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Cl([sx.config({}),nf.config({}),Lk.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{_h.getCurrent(e).each(XM.hideAllSlots),Pi(e,aO)},onGrown:e=>{Pi(e,aO)},onStartGrow:e=>{Ii(e,iO,{width:Nt(e.element,"width").getOr("")})},onStartShrink:e=>{Ii(e,iO,{width:Jt(e.element)+"px"})}}),Yp.config({}),_h.config({find:e=>{const t=Yp.contents(e);return ne(t)}})])}],behaviours:Cl([DS(0),Jp("sidebar-sliding-events",[Vi(iO,((e,t)=>{At(e.element,"width",t.event.width)})),Vi(aO,((e,t)=>{Ft(e.element,"width")}))])])})},name:"sidebar",schema:[nr("dom")]}),fD=ZT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Cl([Yp.config({}),cO.config({focus:!1}),_h.config({find:e=>ne(e.components())})]),components:[]})},name:"throbber",schema:[nr("dom")]}),gD=ZT.optional({factory:sD,name:"viewWrapper",schema:[nr("backstage")]}),vD=ZT.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var yD=vh({name:"OuterContainer",factory:(e,t,n)=>{let o=!1;const r={getSocket:t=>WT.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{WT.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{_h.getCurrent(e).each((o=>{Yp.set(o,[nO(t)]);const r=null==n?void 0:n.toLowerCase();i(r)&&ye(t,r)&&_h.getCurrent(o).each((t=>{XM.showSlot(t,r),Lk.immediateGrow(o),Ft(o.element,"width"),oO(e.element,"region")}))}))})(e,n,o)))},toggleSidebar:(t,n)=>{WT.getPart(t,e,"sidebar").each((e=>((e,t)=>{_h.getCurrent(e).each((n=>{_h.getCurrent(n).each((o=>{Lk.hasGrown(n)?XM.isShowing(o,t)?(Lk.shrink(n),oO(e.element,"presentation")):(XM.hideAllSlots(o),XM.showSlot(o,t),oO(e.element,"region")):(XM.hideAllSlots(o),XM.showSlot(o,t),Lk.grow(n),oO(e.element,"region"))}))}))})(e,n)))},whichSidebar:t=>WT.getPart(t,e,"sidebar").bind(rO).getOrNull(),getHeader:t=>WT.getPart(t,e,"header"),getToolbar:t=>WT.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{WT.getPart(t,e,"toolbar").each((e=>{const t=F(n,UO);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{WT.getPart(t,e,"multiple-toolbar").each((e=>{const t=F(n,(e=>F(e,UO)));KT.setItems(e,t)}))},refreshToolbar:t=>{WT.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{WT.getPart(t,e,"toolbar").each((e=>{Ce(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{WT.getPart(t,e,"toolbar").each((e=>{Ce(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>WT.getPart(t,e,"toolbar").bind((e=>O.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>WT.getPart(t,e,"throbber"),focusToolbar:t=>{WT.getPart(t,e,"toolbar").orThunk((()=>WT.getPart(t,e,"multiple-toolbar"))).each((e=>{Up.focusIn(e)}))},setMenubar:(t,n)=>{WT.getPart(t,e,"menubar").each((e=>{$M.setMenus(e,n)}))},focusMenubar:t=>{WT.getPart(t,e,"menubar").each((e=>{$M.focus(e)}))},setViews:(t,n)=>{WT.getPart(t,e,"viewWrapper").each((e=>{sD.setViews(e,n)}))},toggleView:(t,n)=>WT.getPart(t,e,"viewWrapper").exists((e=>sD.toggleView(e,(()=>r.showMainView(t)),(()=>r.hideMainView(t)),n))),whichView:t=>WT.getPart(t,e,"viewWrapper").bind(sD.whichView).getOrNull(),hideMainView:t=>{o=r.isToolbarDrawerToggled(t),o&&r.toggleToolbarDrawer(t),WT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;At(t,"display","none"),Ct(t,"aria-hidden","true")}))},showMainView:t=>{o&&r.toggleToolbarDrawer(t),WT.getPart(t,e,"editorContainer").each((e=>{const t=e.element;Ft(t,"display"),Mt(t,"aria-hidden")}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},configFields:[nr("dom"),nr("behaviours")],partFields:[dD,lD,uD,cD,mD,pD,hD,fD,gD,vD],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const bD={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},wD=e=>e.split(" "),_D=(e,t)=>{const n={...bD,...t.menus},o=ae(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?wD("file edit view insert format tools table help"):wD(!1===t.menubar?"":t.menubar),a=V(r,(e=>{const n=ye(bD,e);return o?n||ve(t.menus,e).exists((e=>ye(e,"items"))):n})),s=F(a,(o=>{const r=n[o];return((e,t,n)=>{const o=Cg(n).split(/[ ,]/);return{text:e.title,getItems:()=>G(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||N(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:r.title,items:wD(r.items)},t,e)}));return V(s,(e=>e.getItems().length>0&&N(e.getItems(),(e=>i(e)||"separator"!==e.type))))},xD=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},CD=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),SD=(e,t)=>CD(e,t+"/skin.min.css",e.ui.styleSheetLoader),kD=(e,t)=>{var n;return n=Le(e.getElement()),vt(n).isSome()?CD(e,t+"/skin.shadowdom.min.css",ag.DOM.styleSheetLoader):Promise.resolve()},ED=(e,t)=>{const n=Yg(t);return n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!Gg(t)&&i(n)?Promise.all([SD(t,n),kD(t,n)]).then(xD(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",t)})(e,{message:"Skin could not be loaded"}))(t)):Promise.resolve(xD(t)())},TD=C(ED,!1),MD=C(ED,!0),OD=(e,t,n)=>{const o=(e,o,i,a)=>{const s=t.shared.providers.translate(e.title);if("separator"===e.type)return O.some({type:"separator",text:s});if("submenu"===e.type){const t=G(e.getStyleItems(),(e=>r(e,o,a)));return 0===o&&t.length<=0?O.none():O.some({type:"nestedmenuitem",text:s,enabled:t.length>0,getSubmenuItems:()=>G(e.getStyleItems(),(e=>r(e,o,a)))})}return O.some({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(a),enabled:!i,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},i=e=>{const t=n.getCurrentValue(),o=n.shouldHide?0:1;return G(e,(e=>r(e,o,t)))};return{validateItems:i,getFetch:(e,t)=>(n,o)=>{const r=t(),a=i(r);o(lk(a,mv.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:O.none()}))}}},DD=(e,t,n)=>{const o=n.dataset,r="basic"===o.type?()=>F(o.data,(e=>vT(e,n.isSelectedFor,n.getPreviewFor))):o.getData;return{items:OD(0,t,n),getStyleItems:r}},AD=(e,t,n)=>{const{items:o,getStyleItems:r}=DD(0,t,n),i=yw(e,"NodeChange",(t=>{const o=t.getComponent();n.updateText(o),zh.set(t.getComponent(),!e.selection.isEditable())}));return rk({text:n.icon.isSome()?O.none():n.text,icon:n.icon,tooltip:O.from(n.tooltip),role:O.none(),fetch:o.getFetch(t,r),onSetup:i,getApi:e=>({getComponent:w(e)}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var RD;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(RD||(RD={}));const PD=(e,t,n)=>{const o=(r=((e,t)=>t===RD.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n),F(r,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})));var r;return{type:"basic",data:o}},ID=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],zD=e=>{const t={type:"basic",data:ID};return{tooltip:"Align",text:O.none(),icon:O.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:O.none,getPreviewFor:e=>O.none,onAction:t=>()=>Z(ID,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=Z(ID,(t=>e.formatter.match(t.format))).fold(w("left"),(e=>e.title.toLowerCase()));Ii(t,ok,{icon:`align-${n}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},ND=(e,t)=>{const n=t(),o=F(n,(e=>e.format));return O.from(e.formatter.closest(o)).bind((e=>Z(n,(t=>t.format===e)))).orThunk((()=>Se(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},LD=e=>{const t="Paragraph",n=PD(e,"block_formats",RD.SemiColon);return{tooltip:"Blocks",text:O.some(t),icon:O.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:O.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return n?O.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):O.none()},onAction:bw(e),updateText:o=>{const r=ND(e,(()=>n.data)).fold(w(t),(e=>e.title));Ii(o,nk,{text:r})},dataset:n,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},HD=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FD=e=>{const t=e.split(/\s*,\s*/);return F(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},BD=e=>{const t="System Font",n=()=>{const n=e=>e?FD(e)[0]:"",r=e.queryCommandValue("FontName"),i=o.data,a=r?r.toLowerCase():"",s=Z(i,(e=>{const t=e.format;return t.toLowerCase()===a||n(t).toLowerCase()===n(a).toLowerCase()})).orThunk((()=>Se((e=>0===e.indexOf("-apple-system")&&(()=>{const t=FD(e.toLowerCase());return K(HD,(e=>t.indexOf(e.toLowerCase())>-1))})())(a),{title:t,format:a})));return{matchOpt:s,font:r}},o=PD(e,"font_family_formats",RD.SemiColon);return{tooltip:"Fonts",text:O.some(t),icon:O.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=n();return e},getPreviewFor:e=>()=>O.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:o}=n(),r=t.fold(w(o),(e=>e.title));Ii(e,nk,{text:r})},dataset:o,shouldHide:!1,isInvalid:T}},UD={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},VD=(()=>{const e="[0-9]+",t="[eE][+-]?"+e,n=e=>`(?:${e})?`,o=["Infinity",e+"\\."+n(e)+n(t),"\\."+e+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${o}))(.*)$`)})(),jD=(e,t)=>O.from(VD.exec(e)).bind((e=>{const n=Number(e[1]),o=e[2];return((e,t)=>N(t,(t=>N(UD[t],(t=>e===t)))))(o,t)?O.some({value:n,unit:o}):O.none()})),WD={tab:w(9),escape:w(27),enter:w(13),backspace:w(8),delete:w(46),left:w(37),up:w(38),right:w(39),down:w(40),space:w(32),home:w(36),end:w(35),pageUp:w(33),pageDown:w(34)},ZD={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},$D={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},qD=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":ve($D,e).getOr(e),GD=e=>ve(ZD,e).getOr(""),KD=e=>{const t=()=>{let t=O.none();const n=o.data,r=e.queryCommandValue("FontSize");if(r)for(let e=3;t.isNone()&&e>=0;e--){const o=qD(r,e),i=GD(o);t=Z(n,(e=>e.format===r||e.format===o||e.format===i))}return{matchOpt:t,size:r}},n=w(O.none),o=PD(e,"font_size_formats",RD.Space);return{tooltip:"Font sizes",text:O.some("12pt"),icon:O.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:n,size:o}=t(),r=n.fold(w(o),(e=>e.title));Ii(e,nk,{text:r})},dataset:o,shouldHide:!1,isInvalid:T}},YD=(e,t)=>{const n="Paragraph";return{tooltip:"Formats",text:O.some(n),icon:O.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:O.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?O.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):O.none()},onAction:bw(e),updateText:t=>{const o=e=>hT(e)?G(e.items,o):mT(e)?[{title:e.title,format:e.format}]:[],r=G(gT(e),o),i=ND(e,w(r)).fold(w(n),(e=>e.title));Ii(t,nk,{text:i})},shouldHide:_g(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},JD=w([nr("toggleClass"),nr("fetch"),Ps("onExecute"),br("getHotspot",O.some),br("getAnchorOverrides",w({})),_c(),Ps("onItemExecute"),dr("lazySink"),nr("dom"),As("onOpen"),fd("splitDropdownBehaviours",[u_,Up,nf]),br("matchWidth",!1),br("useMinWidth",!1),br("eventOrder",{}),dr("role")].concat(T_())),XD=Vd({factory:Wf,schema:[nr("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Cl([nf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(zi)},buttonBehaviours:Cl([df.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),QD=Vd({factory:Wf,schema:[nr("dom")],name:"button",defaults:()=>({buttonBehaviours:Cl([nf.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),eA=w([XD,QD,Wd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[nr("text")],name:"aria-descriptor"}),jd({schema:[Ms()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),y_()]),tA=vh({name:"SplitDropdown",configFields:JD(),partFields:eA(),factory:(e,t,n,o)=>{const r=e=>{_h.getCurrent(e).each((e=>{Zh.highlightFirst(e),Up.focusIn(e)}))},i=t=>{x_(e,_,t,o,r,Ff.HighlightMenuAndItem).get(v)},a=t=>{const n=oh(t,e,"button");return zi(n),O.some(!0)},s={...Fi([Yi(((t,n)=>{nh(t,e,"aria-descriptor").each((e=>{const n=la("aria");Ct(e.element,"id",n),Ct(t.element,"aria-describedby",n)}))}))]),...mf(O.some(i))},l={repositionMenus:e=>{df.isOn(e)&&E_(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[di()]:["disabling","toggling","alloy.base.behaviour"]},events:s,behaviours:vd(e.splitDropdownBehaviours,[u_.config({others:{sandbox:t=>{const n=oh(t,e,"arrow");return k_(e,t,{onOpen:()=>{df.on(n),df.on(t)},onClose:()=>{df.off(n),df.off(t)}})}}}),Up.config({mode:"special",onSpace:a,onEnter:a,onDown:e=>(i(e),O.some(!0))}),nf.config({}),df.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),nA=e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t),setText:t=>Ii(e,nk,{text:t}),setIcon:t=>Ii(e,ok,{icon:t})}),oA=e=>({setActive:t=>{df.set(e,t)},isActive:()=>df.isOn(e),isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t),setText:t=>Ii(e,nk,{text:t}),setIcon:t=>Ii(e,ok,{icon:t})}),rA=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),iA=la("focus-button"),aA=(e,t,n,o,r)=>{const i=t.map((e=>Zf(tk(e,"tox-tbtn",r)))),a=e.map((e=>Zf(ek(e,r.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:rA(n,r)},components:Db([a.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[jr()]:["focusing","alloy.base.behaviour",KS],[xi()]:[KS,"toolbar-group-button-events"]},buttonBehaviours:Cl([Sb(r.isDisabled),_b(),Jp(KS,[Yi(((e,t)=>JS(e))),Vi(nk,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Yp.set(e,[ts(r.translate(t.event.text))])}))})),Vi(ok,((e,t)=>{a.bind((t=>t.getOpt(e))).each((e=>{Yp.set(e,[ek(t.event.icon,r.icons)])}))})),Vi(jr(),((e,t)=>{t.event.prevent(),Pi(e,iA)}))])].concat(o.getOr([])))}},sA=(e,t,n)=>{var o;const r=Mr(v),i=aA(e.icon,e.text,e.tooltip,O.none(),n);return Wf.sketch({dom:i.dom,components:i.components,eventOrder:YS,buttonBehaviours:{...Cl([Jp("toolbar-button-events",[(a={onAction:e.onAction,getApi:t.getApi},Qi(((e,t)=>{kb(a,e)((t=>{Ii(e,GS,{buttonApi:t}),a.onAction(t)}))}))),Eb(t,r),Tb(t,r)]),Sb((()=>!e.enabled||n.isDisabled())),_b()].concat(t.toolbarButtonBehaviours)),[KS]:null===(o=i.buttonBehaviours)||void 0===o?void 0:o[KS]}});var a},lA=(e,t,n)=>sA(e,{toolbarButtonBehaviours:n.length>0?[Jp("toolbarButtonWith",n)]:[],getApi:nA,onSetup:e.onSetup},t),cA=(e,t,n)=>sA(e,{toolbarButtonBehaviours:[Yp.config({}),df.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Jp("toolbarToggleButtonWith",n)]:[]),getApi:oA,onSetup:e.onSetup},t),uA=(e,t,n)=>o=>f_((e=>t.fetch(e))).map((r=>O.from(H_(go(Jw(la("menu-value"),r,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,mv.CLOSE_ON_EXECUTE,t.select.getOr(T),n),{movement:Qw(t.columns,t.presets),menuBehaviours:sb("auto"!==t.columns?[]:[Yi(((e,n)=>{ab(e,4,kv(t.presets)).each((({numRows:t,numColumns:n})=>{Up.setGridSize(e,t,n)}))}))])}))))),dA=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hA=(e,t)=>(n,o,r)=>{const i=e(n).mapError((e=>Yo(e))).getOrDie();return t(i,o,r)},mA={button:hA(Ry,((e,t)=>{return n=e,o=t.shared.providers,lA(n,o,[]);var n,o})),togglebutton:hA(zy,((e,t)=>{return n=e,o=t.shared.providers,cA(n,o,[]);var n,o})),menubutton:hA(WM,((e,t)=>Fk(e,"tox-tbtn",t,O.none(),!1))),splitbutton:hA((e=>qo("SplitButton",ZM,e)),((e,t)=>((e,t)=>{const n=e=>({isEnabled:()=>!zh.isDisabled(e),setEnabled:t=>zh.set(e,!t),setIconFill:(t,n)=>{ps(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each((e=>{Ct(e,"fill",n)}))},setActive:t=>{Ct(e.element,"aria-pressed",t),ps(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>df.set(e,t)))}))},isActive:()=>ps(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(df.isOn))),setText:t=>ps(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Ii(e,nk,{text:t}))))),setIcon:t=>ps(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Ii(e,ok,{icon:t})))))}),o=Mr(v),r={getApi:n,onSetup:e.onSetup};return tA.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...rA(e.tooltip,t.providers)}},onExecute:t=>{const o=n(t);o.isEnabled()&&e.onAction(o)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:Cl([Cb(t.providers.isDisabled),_b(),Jp("split-dropdown-events",[Yi(((e,t)=>JS(e))),Vi(iA,nf.focus),Eb(r,o),Tb(r,o)]),Rx.config({})]),eventOrder:{[xi()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:uA(n,e,t.providers),parts:{menu:Av(0,e.columns,e.presets)},components:[tA.parts.button(aA(e.icon,e.text,O.none(),O.some([df.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),tA.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Xf("chevron-down",t.providers.icons)},buttonBehaviours:Cl([Cb(t.providers.isDisabled),_b(),Qf()])}),tA.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:hA((e=>qo("GroupToolbarButton",UM,e)),((e,t,n)=>{const o=n.ui.registry.getAll().buttons,r={[bc]:t.shared.header.isPositionedAtTop()?yc.TopToBottom:yc.BottomToTop};if(Sg(n)===rg.floating)return((e,t,n,o)=>{const r=t.shared,i=Mr(v),a={toolbarButtonBehaviours:[],getApi:nA,onSetup:e.onSetup},s=[Jp("toolbar-group-button-events",[Eb(a,i),Tb(a,i)])];return MO.sketch({lazySink:r.getSink,fetch:()=>f_((t=>{t(F(n(e.items),UO))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:aA(e.icon,e.text,e.tooltip,O.some(s),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})})(e,t,(e=>fA(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,O.none())),r);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},pA={styles:(e,t)=>{const n={type:"advanced",...t.styles};return AD(e,t,YD(e,n))},fontsize:(e,t)=>AD(e,t,KD(e)),fontsizeinput:(e,t)=>((e,t,n)=>{let o=O.none();const r=yw(e,"NodeChange",(t=>{const r=t.getComponent();o=O.some(r),n.updateInputValue(r),zh.set(r,!e.selection.isEditable())})),i=e=>({getComponent:w(e)}),a=Mr(v),s=la("custom-number-input-events"),l=(e,t,r)=>{const i=o.map((e=>pd.getValue(e))).getOr(""),a=n.getNewValue(i,e),s=i.length-`${a}`.length,l=o.map((e=>e.element.dom.selectionStart-s)),c=o.map((e=>e.element.dom.selectionEnd-s));n.onAction(a,r),o.each((e=>{pd.setValue(e,a),t&&(l.each((t=>e.element.dom.selectionStart=t)),c.each((t=>e.element.dom.selectionEnd=t)))}))},c=(e,t)=>l(((e,t)=>e-t),e,t),u=(e,t)=>l(((e,t)=>e+t),e,t),d=e=>it(e.element).fold(O.none,(e=>(Al(e),O.some(!0)))),h=e=>Pl(e.element)?(ct(e.element).each((e=>Al(e))),O.some(!0)):O.none(),m=(n,o,r,s)=>{const l=t.shared.providers.translate(r),c=la("altExecuting"),u=yw(e,"NodeChange",(t=>{zh.set(t.getComponent(),!e.selection.isEditable())})),d=e=>{zh.isDisabled(e)||n(!0)};return Wf.sketch({dom:{tag:"button",attributes:{title:l,"aria-label":l},classes:s.concat(o)},components:[QS(o,t.shared.providers.icons)],buttonBehaviours:Cl([zh.config({}),Jp(c,[Eb({onSetup:u,getApi:i},a),Tb({getApi:i},a),Vi(Yr(),((e,t)=>{t.event.raw.keyCode!==WD.space()&&t.event.raw.keyCode!==WD.enter()||zh.isDisabled(e)||n(!1)})),Vi(ei(),d),Vi(Ur(),d)])]),eventOrder:{[Yr()]:[c,"keying"],[ei()]:[c,"alloy.base.behaviour"],[Ur()]:[c,"alloy.base.behaviour"]}})},p=Zf(m((e=>c(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),f=Zf(m((e=>u(!1,e)),"plus","Increase font size",["highlight-on-focus"])),g=Zf({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Nv.sketch({inputBehaviours:Cl([zh.config({}),Jp(s,[Eb({onSetup:r,getApi:i},a),Tb({getApi:i},a)]),Jp("input-update-display-text",[Vi(nk,((e,t)=>{pd.setValue(e,t.event.text)})),Vi(Kr(),(e=>{n.onAction(pd.getValue(e))})),Vi(Qr(),(e=>{n.onAction(pd.getValue(e))}))]),Up.config({mode:"special",onEnter:e=>(l(_,!0,!0),O.some(!0)),onEscape:d,onUp:e=>(u(!0,!1),O.some(!0)),onDown:e=>(c(!0,!1),O.some(!0)),onLeft:(e,t)=>(t.cut(),O.none()),onRight:(e,t)=>(t.cut(),O.none())})])})],behaviours:Cl([nf.config({}),Up.config({mode:"special",onEnter:h,onSpace:h,onEscape:d}),Jp("input-wrapper-events",[Vi(qr(),(e=>{B([p,f],(t=>{const n=Le(t.get(e).element.dom);Pl(n)&&Rl(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[p.asSpec(),g.asSpec(),f.asSpec()],behaviours:Cl([nf.config({}),Up.config({mode:"flow",focusInside:pm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Pl(e.element)?O.none():(Al(e.element),O.some(!0))})])}})(e,t,(e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:e=>Ii(e,nk,{text:t()}),onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n}),getNewValue:(n,o)=>{jD(n,["unsupportedLength","empty"]);const r=jD(n,["unsupportedLength","empty"]).or(jD(t(),["unsupportedLength","empty"])),i=r.map((e=>e.value)).getOr(16),a=zg(e),s=r.map((e=>e.unit)).filter((e=>""!==e)).getOr(a),l=o(i,(e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}})(s).step);return`${(e=>e>=0)(l)?l:i}${s}`}}})(e)),fontfamily:(e,t)=>AD(e,t,BD(e)),blocks:(e,t)=>AD(e,t,LD(e)),align:(e,t)=>AD(e,t,zD(e))},fA=(e,t,n,o)=>{const r=(e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=F(dA,(t=>{const n=V(t.items,(t=>ye(e,t)||ye(pA,t)));return{name:t.name,items:n}}));return V(t,(e=>e.items.length>0))})(n):i(t)?(e=>{const t=e.split("|");return F(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>ye(e,"name")&&ye(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),a=F(r,(r=>{const i=G(r.items,(r=>0===r.trim().length?[]:((e,t,n,o,r,i)=>ve(t,n.toLowerCase()).orThunk((()=>i.bind((e=>ie(e,(e=>ve(t,e+n.toLowerCase()))))))).fold((()=>ve(pA,n.toLowerCase()).map((t=>t(e,r)))),(t=>"grouptoolbarbutton"!==t.type||o?((e,t,n)=>ve(mA,e.type).fold((()=>(console.error("skipping button defined by",e),O.none())),(o=>O.some(o(e,t,n)))))(t,r,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none()))))(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()));return{title:O.from(e.translate(r.name)),items:i}}));return V(a,(e=>e.items.length>0))},gA=(e,t,n,o)=>{const r=t.mainUi.outerContainer,a=n.toolbar,s=n.buttons;if(g(a,i)){const t=a.map((t=>{const r={toolbar:t,buttons:s,allowToolbarGroups:n.allowToolbarGroups};return fA(e,r,o,O.none())}));yD.setToolbars(r,t)}else yD.setToolbar(r,fA(e,n,o,O.none()))},vA=An(),yA=vA.os.isiOS()&&vA.os.version.major<=12;var bA=Object.freeze({__proto__:null,render:async(e,t,n,o,r)=>{const{mainUi:i,uiMotherships:a}=t,s=Mr(0),l=i.outerContainer;await TD(e);const u=Le(r.targetNode),d=gt(ft(u));zu(u,i.mothership),((e,t,n)=>{sv(e)&&zu(n.mainUi.mothership.element,n.popupUi.mothership),Iu(t,n.dialogUi.mothership)})(e,d,t),e.on("PostRender",(()=>{yD.setSidebar(l,n.sidebar,$g(e)),gA(e,t,n,o),s.set(e.getWin().innerWidth),yD.setMenubar(l,_D(e,n)),yD.setViews(l,n.views),((e,t)=>{const{uiMotherships:n}=t,o=e.dom;let r=e.getWin();const i=e.getDoc().documentElement,a=Mr($t(r.innerWidth,r.innerHeight)),s=Mr($t(i.offsetWidth,i.offsetHeight)),l=()=>{const t=a.get();t.left===r.innerWidth&&t.top===r.innerHeight||(a.set($t(r.innerWidth,r.innerHeight)),hw(e))},c=()=>{const t=e.getDoc().documentElement,n=s.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(s.set($t(t.offsetWidth,t.offsetHeight)),hw(e))},u=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};o.bind(r,"resize",l),o.bind(r,"scroll",u);const d=nc(Le(e.getBody()),"load",c);e.on("hide",(()=>{B(n,(e=>{At(e.element,"display","none")}))})),e.on("show",(()=>{B(n,(e=>{Ft(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{d.unbind(),o.unbind(r,"resize",l),o.unbind(r,"scroll",u),r=null}))})(e,t)}));const h=yD.getSocket(l).getOrDie("Could not find expected socket element");if(yA){Rt(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),n=tc(h.element,"scroll",t.throttle);e.on("remove",n.unbind)}wb(e,t),e.addCommand("ToggleSidebar",((t,n)=>{yD.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=yD.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(yD.toggleView(l,n)){const t=l.element;i.mothership.broadcastOn([Ku()],{target:t}),B(a,(e=>{e.broadcastOn([Ku()],{target:t})})),c(yD.whichView(l))&&(e.focus(),e.nodeChanged(),yD.refreshToolbar(l))}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=yD.whichView(l))&&void 0!==e?e:""}));const m=Sg(e);m!==rg.sliding&&m!==rg.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==s.get()&&(yD.refreshToolbar(t.mainUi.outerContainer),s.set(n))}));const p={setEnabled:e=>{bb(t,!e)},isEnabled:()=>!zh.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:p}}});const wA=e=>/^[0-9\.]+(|px)$/i.test(""+e)?O.some(parseInt(""+e,10)):O.none(),_A=e=>f(e)?e+"px":e,xA=(e,t,n)=>{const o=t.filter((t=>e<t)),r=n.filter((t=>e>t));return o.or(r).getOr(e)},CA=e=>{const t=pg(e),n=fg(e),o=vg(e);return wA(t).map((e=>xA(e,n,o)))},{ToolbarLocation:SA,ToolbarMode:kA}=cv,EA=(e,t,n,o,r)=>{const{mainUi:i,uiMotherships:a}=n,s=ag.DOM,l=ov(e),c=av(e),u=vg(e).or(CA(e)),d=o.shared.header,h=d.isPositionedAtTop,m=Sg(e),p=m===kA.sliding||m===kA.floating,f=Mr(!1),g=()=>f.get()&&!e.removed,v=e=>p?e.fold(w(0),(e=>e.components().length>1?jt(e.components()[1].element):0)):0,y=()=>{B(a,(e=>{e.broadcastOn([Yu()],{})}))},b=n=>{if(!g())return;l||r.on((e=>{const n=u.getOrThunk((()=>{const e=wA(It(wt(),"margin-left")).getOr(0);return Jt(wt())-Gt(t).left+e}));At(e.element,"max-width",n+"px")}));const o=l?O.none():(()=>{if(l)return O.none();if(Gt(i.outerContainer.element).left+Xt(i.outerContainer.element)>=window.innerWidth-40||Nt(i.outerContainer.element,"width").isSome()){At(i.outerContainer.element,"position","absolute"),At(i.outerContainer.element,"left","0px"),Ft(i.outerContainer.element,"width");const e=Xt(i.outerContainer.element);return O.some(e)}return O.none()})();p&&yD.refreshToolbar(i.outerContainer),l||(n=>{r.on((o=>{const r=yD.getToolbar(i.outerContainer),a=v(r),s=Jn(t),{top:l,left:c}=((e,t)=>sv(e)?rM(t):O.none())(e,i.outerContainer.element).fold((()=>({top:h()?Math.max(s.y-jt(o.element)+a,0):s.bottom,left:s.x})),(e=>{var t;const n=Jn(e),r=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,i=Xe(e,wt()),l=i?Math.max(s.y-jt(o.element)+a,0):s.y-n.y+r-jt(o.element)+a;return{top:h()?l:s.bottom,left:i?s.x:s.x-n.x}})),u={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},d=n.map((e=>{const t=Vn(),n=window.innerWidth-(c-t.left);return{width:Math.max(Math.min(e,n),150)+"px"}})).getOr({});Rt(i.outerContainer.element,{...u,...d})}))})(o),c&&r.on(n),y()},_=()=>!(l||!c||!g())&&r.get().exists((n=>{const o=d.getDockingMode(),a=(n=>{switch(Eg(e)){case SA.auto:const e=yD.getToolbar(i.outerContainer),o=v(e),r=jt(n.element)-o,a=Jn(t);if(a.y>r)return"top";{const e=nt(t),n=Math.max(e.dom.scrollHeight,jt(e));return a.bottom<n-r||eo().bottom<a.bottom-r?"bottom":"top"}case SA.bottom:return"bottom";case SA.top:default:return"top"}})(n);return a!==o&&(s=a,r.on((e=>{DM.setModes(e,[s]),d.setDockingMode(s);const t=h()?yc.TopToBottom:yc.BottomToTop;Ct(e.element,bc,t)})),!0);var s}));return{isVisible:g,isPositionedAtTop:h,show:()=>{f.set(!0),At(i.outerContainer.element,"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),B(a,(e=>{Ft(e.element,"display")})),_(),sv(e)?b((e=>DM.isDocked(e)?DM.reset(e):DM.refresh(e))):b(DM.refresh)},hide:()=>{f.set(!1),At(i.outerContainer.element,"display","none"),s.removeClass(e.getBody(),"mce-edit-focus"),B(a,(e=>{At(e.element,"display","none")}))},update:b,updateMode:()=>{_()&&b(DM.reset)},repositionPopups:y}},TA=(e,t)=>{const n=Jn(e);return{pos:t?n.y:n.bottom,bounds:n}};var MA=Object.freeze({__proto__:null,render:async(e,t,n,o,r)=>{const{mainUi:i}=t,a=Ql(),s=Le(r.targetNode),l=EA(e,s,t,o,a),c=Og(e);await MD(e);const u=()=>{if(a.isSet())return void l.show();a.set(yD.getHeader(i.outerContainer).getOrDie());const r=rv(e);sv(e)?(zu(s,i.mothership),zu(s,t.popupUi.mothership)):Iu(r,i.mothership),Iu(r,t.dialogUi.mothership),gA(e,t,n,o),yD.setMenubar(i.outerContainer,_D(e,n)),l.show(),((e,t,n,o)=>{const r=Mr(TA(t,n.isPositionedAtTop())),i=o=>{const{pos:i,bounds:a}=TA(t,n.isPositionedAtTop()),{pos:s,bounds:l}=r.get(),c=a.height!==l.height||a.width!==l.width;r.set({pos:i,bounds:a}),c&&hw(e,o),n.isVisible()&&(s!==i?n.update(DM.reset):c&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(DM.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))}));let a=0;const s=Jk((()=>n.update(DM.refresh)),33);e.on("ScrollWindow",(()=>{const e=Vn().left;e!==a&&(a=e,s.throttle()),n.updateMode()})),sv(e)&&e.on("ElementScroll",(e=>{n.update(DM.refresh)}));const l=Xl();l.set(nc(Le(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,s,l,c),e.nodeChanged()};e.on("show",u),e.on("hide",l.hide),c||(e.on("focus",u),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&u()})),wb(e,t);const d={show:u,hide:l.hide,setEnabled:e=>{bb(t,!e)},isEnabled:()=>!zh.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:d}}});const OA="contexttoolbar-hide",DA=(e,t)=>Vi(GS,((n,o)=>{const r=(e=>({hide:()=>Pi(e,fi()),getValue:()=>pd.getValue(e)}))(e.get(n));t.onAction(r,o.event.buttonApi)})),AA=(e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),o=Zf(Nv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Cl([Up.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(zi(e),!0))),onLeft:(e,t)=>(t.cut(),O.none()),onRight:(e,t)=>(t.cut(),O.none())})])})),r=((e,t,n)=>{const o=F(t,(t=>Zf(((e,t,n)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,n)=>{const{primary:o,...r}=t.original,i=Go(zy({...r,type:"togglebutton",onAction:v}));return cA(i,n,[DA(e,t)])})(e,t,n):((e,t,n)=>{const{primary:o,...r}=t.original,i=Go(Ry({...r,type:"button",onAction:v}));return lA(i,n,[DA(e,t)])})(e,t,n))(e,t,n))));return{asSpecs:()=>F(o,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,n)=>t.primary?O.from(o[n]).bind((t=>t.getOpt(e))).filter(S(zh.isDisabled)):O.none()))}})(o,e.commands,t);return[{title:O.none(),items:[o.asSpec()]},{title:O.none(),items:r.asSpecs()}]},RA=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,PA=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=dt(Le(e.startContainer),e.startOffset).element;return($e(n)?rt(n):O.some(n)).filter(Ze).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Vn();return Yn(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=Xn(Le(e.getBody()));return Yn(n.x+t.left,n.y+t.top,t.width,t.height)}},IA=(e,t,n,o=0)=>{const r=Zn(window),i=Jn(Le(e.getContentAreaContainer())),a=Kg(e)||Xg(e)||ev(e),{x:s,width:l}=((e,t,n)=>{const o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}})(i,r,o);if(e.inline&&!a)return Yn(s,r.y,l,r.height);{const a=t.header.isPositionedAtTop(),{y:c,bottom:u}=((e,t,n,o,r,i)=>{const a=Le(e.getContainer()),s=ps(a,".tox-editor-header").getOr(a),l=Jn(s),c=l.y>=t.bottom,u=o&&!c;if(e.inline&&u)return{y:Math.max(l.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!u)return{y:n.y,bottom:Math.min(l.y-i,n.bottom)};const d="line"===r?Jn(a):t;return u?{y:Math.max(l.bottom+i,n.y),bottom:Math.min(d.bottom-i,n.bottom)}:{y:Math.max(d.y+i,n.y),bottom:Math.min(l.y-i,n.bottom)}})(e,i,r,a,n,o);return Yn(s,c,l,u-c)}},zA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},NA={maxHeightFunction:cc(),maxWidthFunction:_O()},LA=e=>"node"===e,HA=(e,t,n,o,r)=>{const i=PA(e),a=o.lastElement().exists((e=>Xe(n,e)));return((e,t)=>{const n=e.selection.getRng(),o=dt(Le(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Xe(o.element,t)})(e,n)?a?XE:qE:a?((e,n,r)=>{const a=Nt(e,"position");At(e,"position",n);const s=RA(i,Jn(t),-20)&&!o.isReposition()?eT:XE;return a.each((t=>At(e,"position",t))),s})(t,o.getMode()):("fixed"===o.getMode()?r.y+Vn().top:r.y)+(jt(t)+12)<=i.y?qE:GE},FA=(e,t,n,o)=>{const r=t=>(o,r,i,a,s)=>({...HA(e,a,t,n,s)({...o,y:s.y,height:s.height},r,i,a,s),alwaysFit:!0}),i=e=>LA(o)?[r(e)]:[];return t?{onLtr:e=>[cl,rl,il,al,sl,ll].concat(i(e)),onRtl:e=>[cl,il,rl,sl,al,ll].concat(i(e))}:{onLtr:e=>[ll,cl,al,rl,sl,il].concat(i(e)),onRtl:e=>[ll,cl,sl,il,al,rl].concat(i(e))}},BA=(e,t)=>{const n=V(t,(t=>t.predicate(e.dom))),{pass:o,fail:r}=U(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:r}},UA=(e,t)=>{const n={},o=[],r=[],i={},a={},s=ae(e);return B(s,(s=>{const l=e[s];"contextform"===l.type?((e,s)=>{const l=Go(qo("ContextForm",Vy,s));n[e]=l,l.launch.map((n=>{i["form:"+e]={...s.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?r.push(l):o.push(l),a[e]=l})(s,l):"contexttoolbar"===l.type&&((e,t)=>{var n;(n=t,qo("ContextToolbar",jy,n)).each((n=>{"editor"===t.scope?r.push(n):o.push(n),a[e]=n}))})(s,l)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:a,formNavigators:i}},VA=la("forward-slide"),jA=la("backward-slide"),WA=la("change-slide-event"),ZA="tox-pop--resizing",$A="tox-pop--transition",qA=(e,t,n,o)=>{const r=o.backstage,i=r.shared,a=An().deviceType.isTouch,s=Ql(),l=Ql(),c=Ql(),u=is((e=>{const t=Mr([]);return Vf.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),Vf.getContent(e).each((e=>{Ft(e.element,"visibility")})),Ua(e.element,ZA),Ft(e.element,"width")},inlineBehaviours:Cl([Jp("context-toolbar-events",[Ki(ni(),((e,t)=>{"width"===t.event.raw.propertyName&&(Ua(e.element,ZA),Ft(e.element,"width"))})),Vi(WA,((e,t)=>{const n=e.element;Ft(n,"width");const o=Jt(n);Vf.setContent(e,t.event.contents),Ba(n,ZA);const r=Jt(n);At(n,"width",o+"px"),Vf.getContent(e).each((e=>{t.event.focus.bind((e=>(Al(e),zl(n)))).orThunk((()=>(Up.focusIn(e),Il(ft(n)))))})),setTimeout((()=>{At(e.element,"width",r+"px")}),0)})),Vi(VA,((e,n)=>{Vf.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:Il(ft(e.element))}]))})),Ii(e,WA,{contents:n.event.forwardContents,focus:O.none()})})),Vi(jA,((e,n)=>{oe(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),Ii(e,WA,{contents:as(n.bar),focus:n.focus})}))}))]),Up.config({mode:"special",onEscape:n=>oe(t.get()).fold((()=>e.onEscape()),(e=>(Pi(n,jA),O.some(!0))))})]),lazySink:()=>ro.value(e.sink)})})({sink:n,onEscape:()=>(e.focus(),O.some(!0))})),d=()=>{const t=c.get().getOr("node"),n=LA(t)?1:0;return IA(e,i,t,n)},h=()=>!(e.removed||a()&&r.isContextMenuOpen()),m=()=>{if(h()){const t=d(),n=we(c.get(),"node")?((e,t)=>t.filter((e=>bt(e)&&We(e))).map(Xn).getOrThunk((()=>PA(e))))(e,s.get()):PA(e);return t.height<=0||!RA(n,t,.01)}return!0},p=()=>{s.clear(),l.clear(),c.clear(),Vf.hide(u)},f=()=>{if(Vf.isOpen(u)){const e=u.element;Ft(e,"display"),m()?At(e,"display","none"):(l.set(0),Vf.reposition(u))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Cl([Up.config({mode:"acyclic"}),Jp("pop-dialog-wrap-events",[Yi((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Up.focusIn(t)))})),Ji((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),y=Qt((()=>UA(t,(e=>{const t=b([e]);Ii(u,VA,{forwardContents:g(t)})})))),b=t=>{const{buttons:n}=e.ui.registry.getAll(),r={...n,...y().formNavigators},a=Sg(e)===rg.scrolling?rg.scrolling:rg.default,s=q(F(t,(t=>"contexttoolbar"===t.type?((t,n)=>fA(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o.backstage,O.some(["form:"])))(r,t):((e,t)=>AA(e,t))(t,i.providers))));return $O({type:a,uid:la("context-toolbar"),initGroups:s,onEscape:O.none,cyclicKeying:!0,providers:i.providers})},w=(t,o)=>{if(x.cancel(),!h())return;const r=b(t),p=t[0].position,f=((t,o)=>{const r="node"===t?i.anchors.node(o):i.anchors.cursor(),c=((e,t,n,o)=>"line"===t?{bubble:mc(12,0,zA),layouts:{onLtr:()=>[ul],onRtl:()=>[dl]},overrides:NA}:{bubble:mc(0,12,zA,1/12),layouts:FA(e,n,o,t),overrides:NA})(e,t,a(),{lastElement:s.get,isReposition:()=>we(l.get(),0),getMode:()=>xu.getMode(n)});return go(r,c)})(p,o);c.set(p),l.set(1);const v=u.element;Ft(v,"display"),(e=>we(xe(e,s.get(),Xe),!0))(o)||(Ua(v,$A),xu.reset(n,u)),Vf.showWithinBounds(u,g(r),{anchor:f,transition:{classes:[$A],mode:"placement"}},(()=>O.some(d()))),o.fold(s.clear,s.set),m()&&At(v,"display","none")};let _=!1;const x=Jk((()=>{!e.hasFocus()||e.removed||_||(Va(u.element,$A)?x.throttle():((e,t)=>{const n=Le(t.getBody()),o=e=>Xe(e,n),r=Le(t.selection.getNode());return(e=>!o(e)&&!Qe(n,e))(r)?O.none():((e,t,n)=>{const o=BA(e,t);if(o.contextForms.length>0)return O.some({elem:e,toolbars:[o.contextForms[0]]});{const t=BA(e,n);if(t.contextForms.length>0)return O.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>N(e,(e=>e.position===t)),n=t=>V(e,(e=>e.position===t)),o=t("selection"),r=t("node");if(o||r){if(r&&o){const e=n("node"),t=F(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}})(o.contextToolbars.concat(t.contextToolbars));return O.some({elem:e,toolbars:n})}return O.none()}})(r,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?O.none():Pr(t,(e=>{if(Ze(e)){const{contextToolbars:t,contextForms:o}=BA(e,n.inNodeScope),r=o.length>0?o:(e=>{if(e.length<=1)return e;{const t=t=>Z(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>V(e,(e=>e.position===t))))}})(t);return r.length>0?O.some({elem:e,toolbars:r}):O.none()}return O.none()}),e))(o,r,e)))})(y(),e).fold(p,(e=>{w(e.toolbars,O.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",p),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",f),e.on("click keyup focus SetContent",x.throttle),e.on(OA,p),e.on("contexttoolbar-show",(t=>{const n=y();ve(n.lookupTable,t.toolbarKey).each((n=>{w([n],Se(t.target!==e,t.target)),Vf.getContent(u).each(Up.focusIn)}))})),e.on("focusout",(t=>{jf.setEditorTimeout(e,(()=>{zl(n.element).isNone()&&zl(u.element).isNone()&&p()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&p()})),e.on("AfterProgressState",(t=>{t.state?p():e.hasFocus()&&x.throttle()})),e.on("dragstart",(()=>{_=!0})),e.on("dragend drop",(()=>{_=!1})),e.on("NodeChange",(e=>{zl(u.element).fold(x.throttle,v)}))}))},GA=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=Ql();return F(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:i=>{const a=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(i)),i.setActive(e)};a(we(o,t.hash(n)));const s=t.watcher(e,n,a);return()=>{r.clear(),s()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},KA=e=>{GA(e,(e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Jg,hash:e=>((e,t)=>jD(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:_,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>O.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:gw(e),onMenuSetup:gw(e)}))(e)),(e=>O.from(xg(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:w(t),hash:e=>d(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var o;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(o=t.customCode)&&void 0!==o?o:null}).unbind},getCurrent:e=>{const t=Le(e.selection.getNode());return Ir(t,(e=>O.some(e).filter(Ze).bind((e=>Et(e,"lang").map((t=>({code:t,customCode:Et(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=Xl();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),fw(n.clear,gw(e)(t))},onMenuSetup:gw(e)}))))(e).each((t=>GA(e,t)))},YA=e=>yw(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())})),JA=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),fw((()=>e.off("PastePlainTextToggle",o)),gw(e)(n))},XA=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},QA=e=>{(e=>{(e=>{BS.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:vw(e,t.name),onAction:XA(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:vw(e,n),onAction:XA(e,n)})}})(e),(e=>{BS.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ww(e,t.action)})})),BS.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:gw(e),onAction:ww(e,t.action)})}))})(e),(e=>{BS.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ww(e,t.action),onSetup:vw(e,t.name)})}))})(e)})(e),(e=>{BS.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:ww(e,t.action)})})),BS.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:gw(e),onAction:ww(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:gw(e),onAction:XA(e,"code")})})(e)},eR=(e,t)=>yw(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),tR=e=>yw(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),nR=(e,t)=>{(e=>{B([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:ww(e,t.cmd),onSetup:vw(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:gw(e),onAction:ww(e,"JustifyNone")})})(e),QA(e),((e,t)=>{((e,t)=>{const n=DD(0,t,zD(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),onSetup:gw(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=DD(0,t,BD(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),onSetup:gw(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},o=DD(0,t,YD(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:gw(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const n=DD(0,t,LD(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:gw(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=DD(0,t,KD(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:gw(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:eR(e,"hasUndo"),onAction:ww(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:eR(e,"hasRedo"),onAction:ww(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:eR(e,"hasUndo"),onAction:ww(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:eR(e,"hasRedo"),onAction:ww(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=Fw(e),n=Bw(e),o=Mr(t),r=Mr(n);Gw(e,"forecolor","forecolor","Text color",o),Gw(e,"backcolor","hilitecolor","Background color",r),Kw(e,"forecolor","forecolor","Text color",o),Kw(e,"backcolor","hilitecolor","Background color",r)})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ww(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:tR(e),onAction:ww(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:YA(e),onAction:ww(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:gw(e),onAction:ww(e,"indent")})})(e)})(e),KA(e),(e=>{const t=Mr(Zg(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:JA(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:JA(e,t)})})(e)},oR=e=>i(e)?e.split(/[ ,]/):e,rR=e=>t=>t.options.get(e),iR=rR("contextmenu_never_use_native"),aR=rR("contextmenu_avoid_overlap"),sR=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:V(n,(e=>ye(t,e)))},lR=(e,t)=>({type:"makeshift",x:e,y:t}),cR=e=>"longpress"===e.type||0===e.type.indexOf("touch"),uR=(e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(cR(e)){const t=e.touches[0];return lR(t.pageX,t.pageY)}return lR(e.pageX,e.pageY)})(t):((e,t)=>{const n=ag.DOM.getPos(e);return((e,t,n)=>lR(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if(cR(e)){const t=e.touches[0];return lR(t.clientX,t.clientY)}return lR(e.clientX,e.clientY)})(t)):dR(e),dR=e=>({type:"selection",root:Le(e.selection.getNode())}),hR=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:O.some(Le(e.selection.getNode())),root:Le(e.getBody())}))(e);case"point":return uR(e,t);case"selection":return dR(e)}},mR=(e,t,n,o,r,i)=>{const a=n(),s=hR(e,t,i);lk(a,mv.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:O.none()}).map((e=>{t.preventDefault(),Vf.showMenuAt(r,{anchor:s},{menu:{markers:Mv("normal")},data:e})}))},pR={onLtr:()=>[cl,rl,il,al,sl,ll,qE,GE,$E,WE,ZE,jE],onRtl:()=>[cl,il,rl,sl,al,ll,qE,GE,ZE,jE,$E,WE]},fR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},gR=(e,t,n,o,r,i)=>{const a=An(),s=a.os.isiOS(),l=a.os.isMacOS(),c=a.os.isAndroid(),u=a.deviceType.isTouch(),d=()=>{const a=n();((e,t,n,o,r,i,a)=>{const s=((e,t,n)=>{const o=hR(e,t,n);return{bubble:mc(0,"point"===n?12:0,fR),layouts:pR,overrides:{maxWidthFunction:_O(),maxHeightFunction:cc()},...o}})(e,t,i);lk(n,mv.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:O.none()}).map((n=>{t.preventDefault();const l=a?Ff.HighlightMenuAndItem:Ff.HighlightNone;Vf.showMenuWithinBounds(r,{anchor:s},{menu:{markers:Mv("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>O.some(IA(e,o.shared,"node"===i?"node":"selection")))),e.dispatch(OA)}))})(e,t,a,o,r,i,!(c||s||l&&u))};if((l||s)&&"node"!==i){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{jf.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const r=()=>i();e.once("longpresscancel",r);const i=()=>{e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}})(e),d()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],r=n.getRng();return Jc(e.getWin(),Bc.domRange(r)).exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else d()},vR=e=>i(e)?"|"===e:"separator"===e.type,yR={type:"separator"},bR=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(i(e))return e;switch(e.type){case"separator":return yR;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return i(t)?t:F(t,bR)}};default:const n=e;return{type:"menuitem",...t(n),onAction:y(n.onAction)}}},wR=(e,t)=>{if(0===t.length)return e;const n=oe(e).filter((e=>!vR(e))).fold((()=>[]),(e=>[yR]));return e.concat(n).concat(t).concat([yR])},_R=(e,t)=>!(e=>"longpress"===e.type||ye(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),xR=(e,t)=>_R(e,t)?e.selection.getStart(!0):t.target,CR=(e,t,n)=>{const o=An().deviceType.isTouch,r=is(Vf.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Cl([Jp("dismissContextMenu",[Vi(Si(),((t,n)=>{Gu.close(t),e.focus()}))])])})),a=()=>Vf.hide(r),s=t=>{if(iR(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!iR(e))(e,t)||(e=>0===sR(e).length)(e))return;const a=((e,t)=>{const n=aR(e),o=_R(e,t)?"selection":"point";if(Ae(n)){const r=xR(e,t);return W_(Le(r),n)?"node":o}return o})(e,t);(o()?gR:mR)(e,t,(()=>{const n=xR(e,t),o=e.ui.registry.getAll(),r=sR(e);return((e,t,n)=>{const o=W(t,((t,o)=>ve(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(i(o))return wR(t,o.split(" "));if(o.length>0){const e=F(o,bR);return wR(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&vR(o[o.length-1])&&o.pop(),o})(o.contextMenus,r,n)}),n,r,a)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",s)}))},SR=Or([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),kR=e=>t=>t.translate(-e.left,-e.top),ER=e=>t=>t.translate(e.left,e.top),TR=e=>(t,n)=>W(e,((e,t)=>t(e)),$t(t,n)),MR=(e,t,n)=>e.fold(TR([ER(n),kR(t)]),TR([kR(t)]),TR([])),OR=(e,t,n)=>e.fold(TR([ER(n)]),TR([]),TR([ER(t)])),DR=(e,t,n)=>e.fold(TR([]),TR([kR(n)]),TR([ER(t),kR(n)])),AR=(e,t,n)=>{const o=e.fold(((e,t)=>({position:O.some("absolute"),left:O.some(e+"px"),top:O.some(t+"px")})),((e,t)=>({position:O.some("absolute"),left:O.some(e-n.left+"px"),top:O.some(t-n.top+"px")})),((e,t)=>({position:O.some("fixed"),left:O.some(e+"px"),top:O.some(t+"px")})));return{right:O.none(),bottom:O.none(),...o}},RR=(e,t,n,o)=>{const r=(e,r)=>(i,a)=>{const s=e(t,n,o);return r(i.getOr(s.left),a.getOr(s.top))};return e.fold(r(DR,PR),r(OR,IR),r(MR,zR))},PR=SR.offset,IR=SR.absolute,zR=SR.fixed,NR=(e,t)=>{const n=kt(e,t);return d(n)?NaN:parseInt(n,10)},LR=(e,t,n,o,r,i)=>{const a=((e,t,n,o)=>((e,t)=>{const n=e.element,o=NR(n,t.leftAttr),r=NR(n,t.topAttr);return isNaN(o)||isNaN(r)?O.none():O.some($t(o,r))})(e,t).fold((()=>n),(e=>zR(e.left+o.left,e.top+o.top))))(e,t,n,o),s=t.mustSnap?FR(e,t,a,r,i):BR(e,t,a,r,i),l=MR(a,r,i);return((e,t,n)=>{const o=e.element;Ct(o,t.leftAttr,n.left+"px"),Ct(o,t.topAttr,n.top+"px")})(e,t,l),s.fold((()=>({coord:zR(l.left,l.top),extra:O.none()})),(e=>({coord:e.output,extra:e.extra})))},HR=(e,t,n,o)=>ie(e,(e=>{const r=e.sensor,i=((e,t,n,o,r,i)=>{const a=OR(e,r,i),s=OR(t,r,i);return Math.abs(a.left-s.left)<=n&&Math.abs(a.top-s.top)<=o})(t,r,e.range.left,e.range.top,n,o);return i?O.some({output:RR(e.output,t,n,o),extra:e.extra}):O.none()})),FR=(e,t,n,o,r)=>{const i=t.getSnapPoints(e);return HR(i,n,o,r).orThunk((()=>{const e=W(i,((e,t)=>{const i=t.sensor,a=((e,t,n,o,r,i)=>{const a=OR(e,r,i),s=OR(t,r,i),l=Math.abs(a.left-s.left),c=Math.abs(a.top-s.top);return $t(l,c)})(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((()=>({deltas:O.some(a),snap:O.some(t)})),(n=>(a.left+a.top)/2<=(n.left+n.top)/2?{deltas:O.some(a),snap:O.some(t)}:e))}),{deltas:O.none(),snap:O.none()});return e.snap.map((e=>({output:RR(e.output,n,o,r),extra:e.extra})))}))},BR=(e,t,n,o,r)=>{const i=t.getSnapPoints(e);return HR(i,n,o,r)};var UR=Object.freeze({__proto__:null,snapTo:(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=et(e.element),n=Vn(t),i=iM(r),a=((e,t,n)=>({coord:RR(e.output,e.output,t,n),extra:e.extra}))(o,n,i),s=AR(a.coord,0,i);Pt(r,s)}}});const VR="data-initial-z-index",jR=(e,t)=>{e.getSystem().addToGui(t),(e=>{rt(e.element).filter(Ze).each((t=>{Nt(t,"z-index").each((e=>{Ct(t,VR,e)})),At(t,"z-index",It(e.element,"z-index"))}))})(t)},WR=e=>{(e=>{rt(e.element).filter(Ze).each((e=>{Et(e,VR).fold((()=>Ft(e,"z-index")),(t=>At(e,"z-index",t))),Mt(e,VR)}))})(e),e.getSystem().removeFromGui(e)},ZR=(e,t,n)=>e.getSystem().build(ex.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var $R=yr("snaps",[nr("getSnapPoints"),As("onSensor"),nr("leftAttr"),nr("topAttr"),br("lazyViewport",eo),br("mustSnap",!1)]);const qR=[br("useFixed",T),nr("blockerClass"),br("getTarget",_),br("onDrag",v),br("repositionTarget",!0),br("onDrop",v),kr("getBounds",eo),$R],GR=e=>{return(t=Nt(e,"left"),n=Nt(e,"top"),o=Nt(e,"position"),t.isSome()&&n.isSome()&&o.isSome()?O.some(((e,t,n)=>("fixed"===n?zR:PR)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),n.getOrDie(),o.getOrDie())):O.none()).getOrThunk((()=>{const t=Gt(e);return IR(t.left,t.top)}));var t,n,o},KR=(e,t)=>({bounds:e.getBounds(),height:Wt(t.element),width:Xt(t.element)}),YR=(e,t,n,o,r)=>{const i=n.update(o,r),a=n.getStartData().getOrThunk((()=>KR(t,e)));i.each((n=>{((e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const i=et(e.element),a=Vn(i),s=iM(r),l=GR(r),c=((e,t,n,o,r,i,a)=>((e,t,n,o,r)=>{const i=r.bounds,a=OR(t,n,o),s=Ks(a.left,i.x,i.x+i.width-r.width),l=Ks(a.top,i.y,i.y+i.height-r.height),c=IR(s,l);return t.fold((()=>{const e=DR(c,n,o);return PR(e.left,e.top)}),w(c),(()=>{const e=MR(c,n,o);return zR(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,a=i.left,s=i.top,t.fold(((e,t)=>PR(e+a,t+s)),((e,t)=>IR(e+a,t+s)),((e,t)=>zR(e+a,t+s))));var t,a,s;const l=MR(e,o,r);return zR(l.left,l.top)}),(t=>{const a=LR(e,t,n,i,o,r);return a.extra.each((n=>{t.onSensor(e,n)})),a.coord})),o,r,a))(e,t.snaps,l,a,s,o,n),u=AR(c,0,s);Pt(r,u)}t.onDrag(e,r,o)})(e,t,a,n)}))},JR=(e,t,n,o)=>{t.each(WR),n.snaps.each((t=>{((e,t)=>{((e,t)=>{const n=e.element;Mt(n,t.leftAttr),Mt(n,t.topAttr)})(e,t)})(e,t)}));const r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},XR=e=>(t,n)=>{const o=e=>{n.setStartData(KR(t,e))};return Fi([Vi(wi(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])};var QR=Object.freeze({__proto__:null,getData:e=>O.from($t(e.x,e.y)),getDelta:(e,t)=>$t(t.left-e.left,t.top-e.top)});const eP=(e,t,n)=>[Vi(jr(),((o,r)=>{if(0!==r.event.raw.button)return;r.stop();const i=()=>JR(o,O.some(l),e,t),a=Z_(i,200),s={drop:i,delayDrop:a.schedule,forceDrop:i,move:n=>{a.cancel(),YR(o,e,t,QR,n)}},l=ZR(o,e.blockerClass,(e=>Fi([Vi(jr(),e.forceDrop),Vi($r(),e.drop),Vi(Wr(),((t,n)=>{e.move(n.event)})),Vi(Zr(),e.delayDrop)]))(s));n(o),jR(o,l)}))],tP=[...qR,zs("dragger",{handlers:XR(eP)})];var nP=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return O.some($t(t.clientX,t.clientY))})(t):O.none()},getDelta:(e,t)=>$t(t.left-e.left,t.top-e.top)});const oP=(e,t,n)=>{const o=Ql(),r=n=>{JR(n,o.get(),e,t),o.clear()};return[Vi(Fr(),((i,a)=>{a.stop();const s=()=>r(i),l={drop:s,delayDrop:v,forceDrop:s,move:n=>{YR(i,e,t,nP,n)}},c=ZR(i,e.blockerClass,(e=>Fi([Vi(Fr(),e.forceDrop),Vi(Ur(),e.drop),Vi(Vr(),e.drop),Vi(Br(),((t,n)=>{e.move(n.event)}))]))(l));o.set(c),n(i),jR(i,c)})),Vi(Br(),((n,o)=>{o.stop(),YR(n,e,t,nP,o.event)})),Vi(Ur(),((e,t)=>{t.stop(),r(e)})),Vi(Vr(),r)]},rP=tP,iP=[...qR,zs("dragger",{handlers:XR(oP)})],aP=[...qR,zs("dragger",{handlers:XR(((e,t,n)=>[...eP(e,t,n),...oP(e,t,n)]))})];var sP=Object.freeze({__proto__:null,mouse:rP,touch:iP,mouseOrTouch:aP}),lP=Object.freeze({__proto__:null,init:()=>{let e=O.none(),t=O.none();const n=w({});return Ea({readState:n,reset:()=>{e=O.none(),t=O.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=O.some(n),o})(t,n))),getStartData:()=>t,setStartData:e=>{t=O.some(e)}})}});const cP=Tl({branchKey:"mode",branches:sP,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:O.from(e.extra)})},state:lP,apis:UR}),uP=(e,t,n,o,r,i)=>e.fold((()=>cP.snap({sensor:IR(n-20,o-20),range:$t(r,i),output:IR(O.some(n),O.some(o)),extra:{td:t}})),(e=>{const r=n-20,i=o-20,a=e.element.dom.getBoundingClientRect();return cP.snap({sensor:IR(r,i),range:$t(40,40),output:IR(O.some(n-a.width/2),O.some(o-a.height/2)),extra:{td:t}})})),dP=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,o)=>{const r=o.td;((e,t)=>e.exists((e=>Xe(e,t))))(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}),hP=e=>Zf(Wf.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Cl([cP.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Rx.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),mP=(e,t)=>{const n=Mr([]),o=Mr([]),r=Mr(!1),i=Ql(),a=Ql(),s=e=>{const n=Xn(e);return uP(d.getOpt(t),e,n.x,n.y,n.width,n.height)},l=e=>{const n=Xn(e);return uP(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=dP((()=>F(n.get(),(e=>s(e)))),i,(t=>{a.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),u=dP((()=>F(o.get(),(e=>l(e)))),a,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),d=hP(c),h=hP(u),m=is(d.asSpec()),p=is(h.asSpec()),f=(t,n,o,r)=>{const i=o(n);cP.snapTo(t,i),((t,n,o,i)=>{const a=n.dom.getBoundingClientRect();Ft(t.element,"display");const s=ot(Le(e.getBody())).dom.innerHeight,l=a[r]<0,c=((e,t)=>e[r]>t)(a,s);(l||c)&&At(t.element,"display","none")})(t,n)},g=e=>f(m,e,s,"top"),v=e=>f(p,e,l,"bottom");An().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(Ou(t,m),Ou(t,p),r.set(!0)),i.set(e.start),a.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),o.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{i.get().each(g),a.get().each(v)})),e.on("TableSelectionClear",(()=>{r.get()&&(Ru(m),Ru(p),r.set(!1)),i.clear(),a.clear()})))},pP=(e,t,n)=>{var o;const r=null!==(o=t.delimiter)&&void 0!==o?o:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Cl([Up.config({mode:"flow",selector:"div[role=button]"}),zh.config({disabled:n.isDisabled}),_b(),sx.config({}),Yp.config({}),Jp("elementPathEvents",[Yi(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Up.focusIn(t))),e.on("NodeChange",(o=>{const i=(t=>{const n=[];let o=t.length;for(;o-- >0;){const i=t[o];if(1===i.nodeType&&"BR"!==(r=i).nodeName&&!r.getAttribute("data-mce-bogus")&&"bookmark"!==r.getAttribute("data-mce-type")){const t=pw(e,i);if(t.isDefaultPrevented()||n.push({name:t.name,element:i}),t.isPropagationStopped())break}}var r;return n})(o.parents),a=i.length>0?W(i,((t,o,i)=>{const a=((t,o,r)=>Wf.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[ts(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:Cl([xb(n.isDisabled),_b()])}))(o.name,o.element,i);return 0===i?t.concat([a]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ts(` ${r} `)]},a])}),[]):[];Yp.set(t,a)}))}))])]),components:[]}};var fP;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(fP||(fP={}));const gP=(e,t,n)=>{const o=Le(e.getContainer()),r=((e,t,n,o,r)=>{const i={height:xA(o+t.top,gg(e),yg(e))};return n===fP.Both&&(i.width=xA(r+t.left,fg(e),vg(e))),i})(e,t,n,jt(o),Jt(o));le(r,((e,t)=>{f(e)&&At(o,t,_A(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},vP=(e,t,n,o)=>{const r=$t(20*n,20*o);return gP(e,r,t),O.some(!0)},yP=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=(()=>{const n=[];return Vg(e)&&n.push(pP(e,{},t)),e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,o)=>Yp.set(e,[ts(t.translate(["{0} "+o,n[o]]))]);return Wf.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Cl([xb(t.isDisabled),_b(),sx.config({}),Yp.config({}),pd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jp("wordcount-events",[Qi((e=>{const t=pd.getValue(e),o="words"===t.mode?"characters":"words";pd.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Yi((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=pd.getValue(t);pd.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[di()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),jg(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":$f.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:Cl([nf.config({})])}]}),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]})(),o=((e,t)=>{const n=(e=>{const t=Wg(e);return!1===t?fP.None:"both"===t?fP.Both:fP.Vertical})(e);if(n===fP.None)return O.none();const o=n===fP.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(tg("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-label":t.translate(o)},behaviours:[cP.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,r)=>gP(e,r,n),blockerClass:"tox-blocker"}),Up.config({mode:"special",onLeft:()=>vP(e,n,-1,0),onRight:()=>vP(e,n,1,0),onUp:()=>vP(e,n,0,-1),onDown:()=>vP(e,n,0,1)}),sx.config({}),nf.config({})]},t.icons))})(e,t);return n.concat(o.toArray())})()}),bP=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),wP=(e,t)=>{const n=e.inline,o=n?MA:bA,r=av(e)?BM:oM,i=(()=>{const e=Ql(),t=Ql(),n=Ql();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const n=e.get().map((e=>e.mothership)),o=t.get().map((e=>e.mothership));return n.fold((()=>o.toArray()),(e=>o.fold((()=>[e]),(t=>Xe(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),a=Ql(),s=Ql(),l=Ql(),c=An().deviceType.isTouch()?["tox-platform-touch"]:[],u=tv(e),d=Sg(e),h=Zf({dom:{tag:"div",classes:["tox-anchorbar"]}}),m=()=>i.mainUi.get().map((e=>e.outerContainer)).bind(yD.getHeader),p=i.lazyGetInOuterOrDie("anchor bar",h.getOpt),f=i.lazyGetInOuterOrDie("toolbar",yD.getToolbar),g=i.lazyGetInOuterOrDie("throbber",yD.getThrobber),v=((e,t,n)=>{const o=Mr(!1),r=(e=>{const t=Mr(tv(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:$f.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},a=jT(t),s=(e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?O.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):O.none()},o=Mr([]),r=Mr([]),i=Mr(!1);return e.on("PreInit",(r=>{const i=gT(e),a=yT(e,i,t,n);o.set(a)})),e.on("addStyleModifications",(o=>{const a=yT(e,o.items,t,n);r.set(a),i.set(o.replace)})),{getData:()=>{const e=i.get()?[]:o.get(),t=r.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:sT(e),hasCustomColors:lT(e),getColors:cT(e),getColorCols:uT(e)}))(t),c=(e=>({isDraggableModal:dT(e)}))(t),u={shared:{providers:i,anchors:aT(t,n,r.isPositionedAtTop),header:r},urlinput:a,styles:s,colorinput:l,dialog:c,isContextMenuOpen:()=>o.get(),setContextMenuState:e=>o.set(e)},d={...u,shared:{...u.shared,interpreter:e=>zE(e,{},d),getSink:e.popup}},h={...u,shared:{...u.shared,interpreter:e=>zE(e,{},h),getSink:e.dialog}};return{popup:d,dialog:h}})({popup:()=>ro.fromOption(i.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>ro.fromOption(i.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,p),y=()=>{const t=(()=>{const t={attributes:{[bc]:u?yc.BottomToTop:yc.TopToBottom}},n=yD.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:v.popup,onEscape:()=>{e.focus()}}),o=yD.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v.popup.shared.getSink,providers:v.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:d,lazyToolbar:f,lazyHeader:()=>m().getOrDie("Could not find header element"),...t}),r=yD.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:v.popup.shared.providers,onEscape:()=>{e.focus()},type:d}),i=ev(e),a=Xg(e),s=Kg(e),l=qg(e),c=yD.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),p=i||a||s,g=l?[c,n]:[n];return yD.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(p?[]:["tox-editor-header--empty"]),...t},components:q([s?g:[],i?[r]:a?[o]:[],ov(e)?[]:[h.asSpec()]]),sticky:av(e),editor:e,sharedBackstage:v.popup.shared})})(),o={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[yD.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),yD.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},r=yD.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:v.popup}),i=yD.parts.viewWrapper({backstage:v.popup}),s=Ug(e)&&!n?O.some(yP(e,v.popup.shared.providers)):O.none(),l=q([u?[]:[t],n?[]:[o],u?[t]:[]]),p=yD.parts.editorContainer({components:q([l,n?[]:s.toArray()])}),g=iv(e),y={role:"application",...$f.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},b=is(yD.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(u?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:y},components:[p,...n?[]:[i],r],behaviours:Cl([_b(),zh.config({disableClass:"tox-tinymce--disabled"}),Up.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=tx(b);return a.set(w),{mothership:w,outerContainer:b}},b=t=>{const n=_A((e=>{const t=(e=>{const t=mg(e),n=gg(e),o=yg(e);return wA(t).map((e=>xA(e,n,o)))})(e);return t.getOr(mg(e))})(e)),o=_A((e=>CA(e).getOr(pg(e)))(e));return e.inline||(Ht("div","width",o)&&At(t.element,"width",o),Ht("div","height",n)?At(t.element,"height",n):At(t.element,"height","400px")),n};return{popups:{backstage:v.popup,getMothership:()=>bP("popups",l)},dialogs:{backstage:v.dialog,getMothership:()=>bP("dialogs",s)},renderUI:()=>{const n=y(),a=(()=>{const t=rv(e),n=Xe(wt(),t)&&"grid"===It(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...$f.isRtl()?{dir:"rtl"}:{}}},behaviours:Cl([xu.config({useFixed:()=>r.isDocked(m)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Fi([Vi(_i(),(e=>{At(e.element,"width",document.body.clientWidth+"px")}))])},a=is(go(o,n?i:{})),l=tx(a);return s.set(l),{sink:a,mothership:l}})(),u=sv(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...$f.isRtl()?{dir:"rtl"}:{}}},behaviours:Cl([xu.config({useFixed:()=>r.isDocked(m),getBounds:()=>t.getPopupSinkBounds()})])},n=is(e),o=tx(n);return l.set(o),{sink:n,mothership:o}})():(e=>(l.set(e.mothership),e))(a);return i.dialogUi.set(a),i.popupUi.set(u),i.mainUi.set(n),(t=>{const{mainUi:n,popupUi:i,uiMotherships:a}=t;ce(kg(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:s,menuItems:l,contextToolbars:c,sidebars:u,views:h}=e.ui.registry.getAll(),p=Qg(e),f={menuItems:l,menus:lv(e),menubar:Ag(e),toolbar:p.getOrThunk((()=>Rg(e))),allowToolbarGroups:d===rg.floating,buttons:s,sidebar:u,views:h};var y;y=n.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{yD.focusMenubar(y)})),e.addShortcut("alt+F10","focus toolbar",(()=>{yD.focusToolbar(y)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?yD.toggleToolbarDrawerWithoutFocusing(y):yD.toggleToolbarDrawer(y)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>yD.isToolbarDrawerToggled(y))),((e,t,n)=>{const o=(e,o)=>{B([t,...n],(t=>{t.broadcastEvent(e,o)}))},r=(e,o)=>{B([t,...n],(t=>{t.broadcastOn([e],o)}))},i=e=>r(Ku(),{target:e.target}),a=$n(),s=tc(a,"touchstart",i),l=tc(a,"touchmove",(e=>o(yi(),e))),c=tc(a,"touchend",(e=>o(bi(),e))),u=tc(a,"mousedown",i),d=tc(a,"mouseup",(e=>{0===e.raw.button&&r(Ju(),{target:e.target})})),h=e=>r(Ku(),{target:Le(e.target)}),m=e=>{0===e.button&&r(Ju(),{target:Le(e.target)})},p=()=>{B(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},f=e=>o(wi(),oc(e)),g=e=>{r(Yu(),{}),o(_i(),oc(e))},v=ft(Le(e.getElement())),y=nc(v,"scroll",(n=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const r=V_(e,t.element).map((e=>[e.element,...e.others])).getOr([]);N(r,(e=>Xe(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),o(Mi(),n))}}))})),b=()=>r(Yu(),{}),w=t=>{t.state&&r(Ku(),{target:Le(e.getContainer())})},_=e=>{r(Ku(),{target:Le(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",f),e.on("ResizeWindow",g),e.on("ResizeEditor",b),e.on("AfterProgressState",w),e.on("DismissPopups",_)})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",f),e.off("ResizeWindow",g),e.off("ResizeEditor",b),e.off("AfterProgressState",w),e.off("DismissPopups",_),u.unbind(),s.unbind(),l.unbind(),c.unbind(),d.unbind(),y.unbind()})),e.on("detach",(()=>{B([t,...n],Lu),B([t,...n],(e=>e.destroy()))}))})(e,n.mothership,a),r.setup(e,v.popup.shared,m),nR(e,v.popup),CR(e,v.popup.shared.getSink,v.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();B(ae(t),(n=>{const o=t[n],r=()=>we(O.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:t=>{t.setActive(r());const n=()=>t.setActive(r());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))})(e),hO(e,g,v.popup.shared),qA(e,c,i.sink,{backstage:v.popup}),mP(e,i.sink);const w={targetNode:e.getElement(),height:b(n.outerContainer)};return o.render(e,t,f,v.popup,w)})({popupUi:u,dialogUi:a,mainUi:n,uiMotherships:i.getUiMotherships()})}}},_P=w([nr("lazySink"),dr("dragBlockClass"),kr("getBounds",eo),br("useTabstopAt",M),br("firstTabstop",0),br("eventOrder",{}),fd("modalBehaviours",[Up]),Rs("onExecute"),Is("onEscape")]),xP={sketch:_},CP=w([Wd({name:"draghandle",overrides:(e,t)=>({behaviours:Cl([cP.config({mode:"mouse",getTarget:e=>hs(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Vd({schema:[nr("dom")],name:"title"}),Vd({factory:xP,schema:[nr("dom")],name:"close"}),Vd({factory:xP,schema:[nr("dom")],name:"body"}),Wd({factory:xP,schema:[nr("dom")],name:"footer"}),jd({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[br("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),br("components",[])],name:"blocker"})]),SP=vh({name:"ModalDialog",configFields:_P(),partFields:CP(),factory:(e,t,n,o)=>{const r=Ql(),i=la("modal-events"),a={...e.eventOrder,[xi()]:[i].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{r.set(t);const n=e.lazySink(t).getOrDie(),i=o.blocker(),a=n.getSystem().build({...i,components:i.components.concat([as(t)]),behaviours:Cl([nf.config({}),Jp("dialog-blocker-events",[Ki(Gr(),(()=>{Up.focusIn(t)}))])])});Ou(n,a),Up.focusIn(t)},hide:e=>{r.clear(),rt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{Ru(e)}))}))},getBody:t=>oh(t,e,"body"),getFooter:t=>oh(t,e,"footer"),setIdle:e=>{cO.unblock(e)},setBusy:(e,t)=>{cO.block(e,t)}},eventOrder:a,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:vd(e.modalBehaviours,[Yp.config({}),Up.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),cO.config({getRoot:r.get}),Jp(i,[Yi((t=>{((e,t)=>{const n=Et(e,"id").fold((()=>{const e=la("dialog-label");return Ct(t,"id",e),e}),_);Ct(e,"aria-labelledby",n)})(t.element,oh(t,e,"title").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),kP=Ao([ey,ty].concat(Yy)),EP=Bo,TP=[Ty("button"),py,Cr("align","end",["start","end"]),xy,_y,fr("buttonType",["primary","secondary"])],MP=[...TP,oy],OP=[ar("type",["submit","cancel","custom"]),...MP],DP=[ar("type",["menu"]),my,fy,py,ur("items",kP),...TP],AP=[...TP,ar("type",["togglebutton"]),ir("tooltip"),py,my,Sr("active",!1)],RP=Jo("type",{submit:OP,cancel:OP,custom:OP,menu:DP,togglebutton:AP}),PP=[ey,oy,ar("level",["info","warn","error","success"]),iy,br("url","")],IP=Ao(PP),zP=[ey,oy,_y,Ty("button"),py,wy,fr("buttonType",["primary","secondary","toolbar"]),xy],NP=Ao(zP),LP=[ey,ty],HP=LP.concat([gy]),FP=LP.concat([ny,_y]),BP=Ao(FP),UP=Bo,VP=HP.concat([Cy("auto")]),jP=Ao(VP),WP=zo([ay,oy,iy]),ZP=HP.concat([xr("storageKey","default")]),$P=Ao(ZP),qP=Fo,GP=Ao(HP),KP=Fo,YP=LP.concat([xr("tag","textarea"),ir("scriptId"),ir("scriptUrl"),wr("settings",void 0,jo)]),JP=LP.concat([xr("tag","textarea"),sr("init")]),XP=Zo((e=>qo("customeditor.old",Do(JP),e).orThunk((()=>qo("customeditor.new",Do(YP),e))))),QP=Fo,eI=Ao(HP),tI=Ro(ko),nI=e=>[ey,rr("columns"),e],oI=[ey,ir("html"),Cr("presets","presentation",["presentation","document"])],rI=Ao(oI),iI=HP.concat([Sr("sandboxed",!0),Sr("transparent",!0)]),aI=Ao(iI),sI=Fo,lI=Ao(LP.concat([pr("height")])),cI=Ao([ir("url"),mr("zoom"),mr("cachedWidth"),mr("cachedHeight")]),uI=HP.concat([pr("inputMode"),pr("placeholder"),Sr("maximized",!1),_y]),dI=Ao(uI),hI=Fo,mI=e=>[ey,ny,e],pI=[oy,ay],fI=[oy,ur("items",Xo(0,(()=>gI)))],gI=Po([Ao(pI),Ao(fI)]),vI=HP.concat([ur("items",gI),_y]),yI=Ao(vI),bI=Fo,wI=HP.concat([cr("items",[oy,ay]),_r("size",1),_y]),_I=Ao(wI),xI=Fo,CI=HP.concat([Sr("constrain",!0),_y]),SI=Ao(CI),kI=Ao([ir("width"),ir("height")]),EI=LP.concat([ny,_r("min",0),_r("max",0)]),TI=Ao(EI),MI=Ho,OI=[ey,ur("header",Fo),ur("cells",Ro(Fo))],DI=Ao(OI),AI=HP.concat([pr("placeholder"),Sr("maximized",!1),_y]),RI=Ao(AI),PI=Fo,II=[ar("type",["directory","leaf"]),ry,ir("id"),hr("menu",jM)],zI=Ao(II),NI=II.concat([ur("children",Xo(0,(()=>Wo("type",{directory:LI,leaf:zI}))))]),LI=Ao(NI),HI=Wo("type",{directory:LI,leaf:zI}),FI=[ey,ur("items",HI),gr("onLeafAction"),gr("onToggleExpand"),Er("defaultExpandedIds",[],Fo),pr("defaultSelectedId")],BI=Ao(FI),UI=HP.concat([Cr("filetype","file",["image","media","file"]),_y]),VI=Ao(UI),jI=Ao([ay,Sy]),WI=e=>Qo("items","items",{tag:"required",process:{}},Ro(Zo((t=>qo(`Checking item of ${e}`,ZI,t).fold((e=>ro.error(Yo(e))),(e=>ro.value(e))))))),ZI=Mo((()=>{return Wo("type",{alertbanner:IP,bar:Ao((e=WI("bar"),[ey,e])),button:NP,checkbox:BP,colorinput:$P,colorpicker:GP,dropzone:eI,grid:Ao(nI(WI("grid"))),iframe:aI,input:dI,listbox:yI,selectbox:_I,sizeinput:SI,slider:TI,textarea:RI,urlinput:VI,customeditor:XP,htmlpanel:rI,imagepreview:lI,collection:jP,label:Ao(mI(WI("label"))),table:DI,tree:BI,panel:qI});var e})),$I=[ey,br("classes",[]),ur("items",ZI)],qI=Ao($I),GI=[Ty("tab"),ry,ur("items",ZI)],KI=[ey,cr("tabs",GI)],YI=Ao(KI),JI=MP,XI=RP,QI=Ao([ir("title"),or("body",Wo("type",{panel:qI,tabpanel:YI})),xr("size","normal"),ur("buttons",XI),br("initialData",{}),kr("onAction",v),kr("onChange",v),kr("onSubmit",v),kr("onClose",v),kr("onCancel",v),kr("onTabChange",v)]),ez=Ao([ar("type",["cancel","custom"]),...JI]),tz=Ao([ir("title"),ir("url"),mr("height"),mr("width"),vr("buttons",ez),kr("onAction",v),kr("onCancel",v),kr("onClose",v),kr("onMessage",v)]),nz=e=>a(e)?[e].concat(G(ge(e),nz)):l(e)?G(e,nz):[],oz=e=>i(e.type)&&i(e.name),rz={checkbox:UP,colorinput:qP,colorpicker:KP,dropzone:tI,input:hI,iframe:sI,imagepreview:cI,selectbox:xI,sizeinput:kI,slider:MI,listbox:bI,size:kI,textarea:PI,urlinput:jI,customeditor:QP,collection:WP,togglemenuitem:EP},iz=e=>{const t=(e=>V(nz(e),oz))(e),n=G(t,(e=>(e=>O.from(rz[e.type]))(e).fold((()=>[]),(t=>[or(e.name,t)]))));return Ao(n)},az=e=>{var t;return{internalDialog:Go(qo("dialog",QI,e)),dataValidator:iz(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},sz={open:(e,t)=>{const n=az(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Go(qo("dialog",tz,t))),redial:e=>az(e)};var lz=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const r=e(n,o);t.set(r)})),e.renderComponents.each((r=>{const i=r(o,t.get());(e.reuseDom?jp:Vp)(n,i)}))};return Fi([Vi(ui(),((t,o)=>{const r=o;if(!r.universal){const o=e.channel;z(r.channels,o)&&n(t,r.data)}})),Yi(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),cz=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),uz=[nr("channel"),dr("renderComponents"),dr("updateState"),dr("initialData"),Sr("reuseDom",!0)];const dz=kl({fields:uz,name:"reflecting",active:lz,apis:cz,state:Object.freeze({__proto__:null,init:()=>{const e=Mr(O.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(O.none())}}})}),hz=e=>{const t=[],n={};return le(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?ro.error(t):ro.value(n)},mz=(e,t,n)=>{const o=Zf(xS.sketch((o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:F(e.items,(e=>PE(o,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Cl([Up.config({mode:"acyclic",useTabstopAt:S(qS)}),(r=o,_h.config({find:r.getOpt})),IS(o,{postprocess:e=>hz(e).fold((e=>(console.error(e),{})),_)})])};var r},pz=gh({name:"TabButton",configFields:[br("uid",void 0),nr("value"),Qo("dom","dom",wo((()=>({attributes:{role:"tab",id:la("aria"),"aria-selected":"false"}}))),No()),dr("action"),br("domModification",{}),fd("tabButtonBehaviours",[nf,Up,pd]),nr("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:mf(e.action),behaviours:vd(e.tabButtonBehaviours,[nf.config({}),Up.config({mode:"execution",useSpace:!0,useEnter:!0}),pd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),fz=w([nr("tabs"),nr("dom"),br("clickToDismiss",!1),fd("tabbarBehaviours",[Zh,Up]),Os(["tabClass","selectedClass"])]),gz=Zd({factory:pz,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Zh.dehighlight(e,t),Ii(e,Di(),{tabbar:e,button:t})},n=(e,t)=>{Zh.highlight(e,t),Ii(e,Oi(),{tabbar:e,button:t})};return{action:o=>{const r=o.getSystem().getByUid(e.uid).getOrDie(),i=Zh.isHighlighted(r,o);(i&&e.clickToDismiss?t:i?v:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),vz=w([gz]),yz=vh({name:"Tabbar",configFields:fz(),partFields:vz(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:vd(e.tabbarBehaviours,[Zh.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{Ct(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{Ct(t.element,"aria-selected","false")}}),Up.config({mode:"flow",getInitial:e=>Zh.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),bz=gh({name:"Tabview",configFields:[fd("tabviewBehaviours",[Yp])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:vd(e.tabviewBehaviours,[Yp.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),wz=w([br("selectFirst",!0),As("onChangeTab"),As("onDismissTab"),br("tabs",[]),fd("tabSectionBehaviours",[])]),_z=Vd({factory:yz,schema:[nr("dom"),lr("markers",[nr("tabClass"),nr("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),xz=Vd({factory:bz,name:"tabview"}),Cz=w([_z,xz]),Sz=vh({name:"TabSection",configFields:wz(),partFields:Cz(),factory:(e,t,n,o)=>{const r=(t,n)=>{nh(t,e,"tabbar").each((e=>{n(e).each(zi)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:gd(e.tabSectionBehaviours),events:Fi(q([e.selectFirst?[Yi(((e,t)=>{r(e,Zh.getFirst)}))]:[],[Vi(Oi(),((t,n)=>{(t=>{const n=pd.getValue(t);nh(t,e,"tabview").each((o=>{Z(e.tabs,(e=>e.value===n)).each((n=>{const r=n.view();Et(t.element,"id").each((e=>{Ct(o.element,"aria-labelledby",e)})),Yp.set(o,r),e.onChangeTab(o,t,r)}))}))})(n.event.button)})),Vi(Di(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>nh(t,e,"tabview").map((e=>Yp.contents(e))).getOr([]),showTab:(e,t)=>{r(e,(e=>{const n=Zh.getCandidates(e);return Z(n,(e=>pd.getValue(e)===t)).filter((t=>!Zh.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),kz=(e,t)=>{At(e,"height",t+"px"),At(e,"flex-basis",t+"px")},Ez=(e,t,n)=>{hs(e,'[role="dialog"]').each((e=>{ps(e,'[role="tablist"]').each((o=>{n.get().map((n=>(At(t,"height","0"),At(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const o=nt(e).dom,r=hs(e,".tox-dialog-wrap").getOr(e);let i;i="fixed"===It(r,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const a=jt(t),s=t.dom.offsetLeft>=n.dom.offsetLeft+Jt(n)?Math.max(jt(n),a):a,l=parseInt(It(e,"margin-top"),10)||0,c=parseInt(It(e,"margin-bottom"),10)||0;return i-(jt(e)+l+c-s)})(e,t,o))))).each((e=>{kz(t,e)}))}))}))},Tz=e=>ps(e,'[role="tabpanel"]'),Mz="send-data-to-section",Oz="send-data-to-view",Dz=(e,t,n)=>{const o=Mr({}),r=e=>{const t=pd.getValue(e),n=hz(t).getOr({}),r=o.get(),i=go(r,n);o.set(i)},i=e=>{const t=o.get();pd.setValue(e,t)},a=Mr(null),s=F(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ts(n.shared.providers.translate(e.title))],view:()=>[xS.sketch((o=>({dom:{tag:"div",classes:["tox-form"]},components:F(e.items,(e=>PE(o,e,t,n))),formBehaviours:Cl([Up.config({mode:"acyclic",useTabstopAt:S(qS)}),Jp("TabView.form.events",[Yi(i),Ji(r)]),Ol.config({channels:Ar([{key:Mz,value:{onReceive:r}},{key:Oz,value:{onReceive:i}}])})])})))]}))),l=(e=>{const t=Ql(),n=[Yi((n=>{const o=n.element;Tz(o).each((r=>{At(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((n=>{const o=((e,t,n)=>F(e,((o,r)=>{Yp.set(n,e[r].view());const i=t.dom.getBoundingClientRect();return Yp.set(n,[]),i.height})))(e,r,n),i=(e=>ne(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(o);i.fold(t.clear,t.set)})),Ez(o,r,t),Ft(r,"visibility"),((e,t)=>{ne(e).each((e=>Sz.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{Ez(o,r,t)}))}))})),Vi(_i(),(e=>{const n=e.element;Tz(n).each((e=>{Ez(n,e,t)}))})),Vi(_x,((e,n)=>{const o=e.element;Tz(o).each((e=>{const n=Il(ft(e));At(e,"visibility","hidden");const r=Nt(e,"height").map((e=>parseInt(e,10)));Ft(e,"height"),Ft(e,"flex-basis");const i=e.dom.getBoundingClientRect().height;r.forall((e=>i>e))?(t.set(i),Ez(o,e,t)):r.each((t=>{kz(e,t)})),Ft(e,"visibility"),n.each(Al)}))}))];return{extraEvents:n,selectFirst:!1}})(s);return Sz.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=pd.getValue(t);Ii(e,wx,{name:o,oldName:a.get()}),a.set(o)},tabs:s,components:[Sz.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[yz.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Cl([sx.config({})])}),Sz.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Cl([Jp("tabpanel",l.extraEvents),Up.config({mode:"acyclic"}),_h.config({find:e=>ne(Sz.getViewItems(e))}),NS(O.none(),(e=>(e.getSystem().broadcastOn([Mz],{}),o.get())),((e,t)=>{o.set(t),e.getSystem().broadcastOn([Oz],{})}))])})},Az=la("update-dialog"),Rz=la("update-title"),Pz=la("update-body"),Iz=la("update-footer"),zz=la("body-send-message"),Nz=(e,t,n,o,r)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...r?{"aria-live":"polite"}:{}}},components:[],behaviours:Cl([DS(0),dz.config({channel:`${Pz}-${t}`,updateState:(e,t)=>O.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[Dz(t,e.initialData,o)]:[mz(t,e.initialData,o)]},initialData:e})])});function Lz(e){return Lz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lz(e)}function Hz(e,t){return Hz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hz(e,t)}function Fz(e,t,n){return Fz=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&Hz(r,n.prototype),r},Fz.apply(null,arguments)}function Bz(e){return function(e){if(Array.isArray(e))return Uz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Uz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uz(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Vz=Object.hasOwnProperty,jz=Object.setPrototypeOf,Wz=Object.isFrozen,Zz=Object.getPrototypeOf,$z=Object.getOwnPropertyDescriptor,qz=Object.freeze,Gz=Object.seal,Kz=Object.create,Yz="undefined"!=typeof Reflect&&Reflect,Jz=Yz.apply,Xz=Yz.construct;Jz||(Jz=function(e,t,n){return e.apply(t,n)}),qz||(qz=function(e){return e}),Gz||(Gz=function(e){return e}),Xz||(Xz=function(e,t){return Fz(e,Bz(t))});var Qz,eN=uN(Array.prototype.forEach),tN=uN(Array.prototype.pop),nN=uN(Array.prototype.push),oN=uN(String.prototype.toLowerCase),rN=uN(String.prototype.match),iN=uN(String.prototype.replace),aN=uN(String.prototype.indexOf),sN=uN(String.prototype.trim),lN=uN(RegExp.prototype.test),cN=(Qz=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xz(Qz,t)});function uN(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Jz(e,t,o)}}function dN(e,t){jz&&jz(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=oN(o);r!==o&&(Wz(t)||(t[n]=r),o=r)}e[o]=!0}return e}function hN(e){var t,n=Kz(null);for(t in e)Jz(Vz,e,[t])&&(n[t]=e[t]);return n}function mN(e,t){for(;null!==e;){var n=$z(e,t);if(n){if(n.get)return uN(n.get);if("function"==typeof n.value)return uN(n.value)}e=Zz(e)}return function(e){return console.warn("fallback value for",e),null}}var pN=qz(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fN=qz(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gN=qz(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vN=qz(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yN=qz(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),bN=qz(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wN=qz(["#text"]),_N=qz(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xN=qz(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CN=qz(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),SN=qz(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kN=Gz(/\{\{[\w\W]*|[\w\W]*\}\}/gm),EN=Gz(/<%[\w\W]*|[\w\W]*%>/gm),TN=Gz(/^data-[\-\w.\u00B7-\uFFFF]/),MN=Gz(/^aria-[\-\w]+$/),ON=Gz(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DN=Gz(/^(?:\w+script|data):/i),AN=Gz(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RN=Gz(/^html$/i),PN=function(){return"undefined"==typeof window?null:window},IN=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PN(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,l=t.Element,c=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,f=l.prototype,g=mN(f,"cloneNode"),v=mN(f,"nextSibling"),y=mN(f,"childNodes"),b=mN(f,"parentNode");if("function"==typeof a){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var _=function(e,t){if("object"!==Lz(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(p,o),x=_?_.createHTML(""):"",C=r,S=C.implementation,k=C.createNodeIterator,E=C.createDocumentFragment,T=C.getElementsByTagName,M=o.importNode,O={};try{O=hN(r).documentMode?r.documentMode:{}}catch(e){}var D={};n.isSupported="function"==typeof b&&S&&void 0!==S.createHTMLDocument&&9!==O;var A,R,P=kN,I=EN,z=TN,N=MN,L=DN,H=AN,F=ON,B=null,U=dN({},[].concat(Bz(pN),Bz(fN),Bz(gN),Bz(yN),Bz(wN))),V=null,j=dN({},[].concat(Bz(_N),Bz(xN),Bz(CN),Bz(SN))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,$=null,q=!0,G=!0,K=!1,Y=!1,J=!1,X=!1,Q=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!0,ie=!1,ae={},se=null,le=dN({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,ue=dN({},["audio","video","img","source","image","track"]),de=null,he=dN({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml",ge=fe,ve=!1,ye=["application/xhtml+xml","text/html"],be=null,we=r.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){be&&be===e||(e&&"object"===Lz(e)||(e={}),e=hN(e),B="ALLOWED_TAGS"in e?dN({},e.ALLOWED_TAGS):U,V="ALLOWED_ATTR"in e?dN({},e.ALLOWED_ATTR):j,de="ADD_URI_SAFE_ATTR"in e?dN(hN(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?dN(hN(ue),e.ADD_DATA_URI_TAGS):ue,se="FORBID_CONTENTS"in e?dN({},e.FORBID_CONTENTS):le,Z="FORBID_TAGS"in e?dN({},e.FORBID_TAGS):{},$="FORBID_ATTR"in e?dN({},e.FORBID_ATTR):{},ae="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,ge=e.NAMESPACE||fe,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),A=A=-1===ye.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,R="application/xhtml+xml"===A?function(e){return e}:oN,Y&&(G=!1),te&&(ee=!0),ae&&(B=dN({},Bz(wN)),V=[],!0===ae.html&&(dN(B,pN),dN(V,_N)),!0===ae.svg&&(dN(B,fN),dN(V,xN),dN(V,SN)),!0===ae.svgFilters&&(dN(B,gN),dN(V,xN),dN(V,SN)),!0===ae.mathMl&&(dN(B,yN),dN(V,CN),dN(V,SN))),e.ADD_TAGS&&(B===U&&(B=hN(B)),dN(B,e.ADD_TAGS)),e.ADD_ATTR&&(V===j&&(V=hN(V)),dN(V,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&dN(de,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(se===le&&(se=hN(se)),dN(se,e.FORBID_CONTENTS)),re&&(B["#text"]=!0),J&&dN(B,["html","head","body"]),B.table&&(dN(B,["tbody"]),delete Z.tbody),qz&&qz(e),be=e)},Ce=dN({},["mi","mo","mn","ms","mtext"]),Se=dN({},["foreignobject","desc","title","annotation-xml"]),ke=dN({},["title","style","font","a","script"]),Ee=dN({},fN);dN(Ee,gN),dN(Ee,vN);var Te=dN({},yN);dN(Te,bN);var Me=function(e){nN(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=x}catch(t){e.remove()}}},Oe=function(e,t){try{nN(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){nN(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!V[e])if(ee||te)try{Me(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e){var t,n;if(Q)e="<remove></remove>"+e;else{var o=rN(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===A&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=_?_.createHTML(e):e;if(ge===fe)try{t=(new m).parseFromString(i,A)}catch(e){}if(!t||!t.documentElement){t=S.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ge===fe?T.call(t,J?"html":"body")[0]:J?t.documentElement:a},Ae=function(e){return k.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Re=function(e){return"object"===Lz(s)?e instanceof s:e&&"object"===Lz(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Pe=function(e,t,o){D[e]&&eN(D[e],(function(e){e.call(n,t,o,be)}))},Ie=function(e){var t,o;if(Pe("beforeSanitizeElements",e,null),(o=e)instanceof h&&("string"!=typeof o.nodeName||"string"!=typeof o.textContent||"function"!=typeof o.removeChild||!(o.attributes instanceof d)||"function"!=typeof o.removeAttribute||"function"!=typeof o.setAttribute||"string"!=typeof o.namespaceURI||"function"!=typeof o.insertBefore))return Me(e),!0;if(lN(/[\u0080-\uFFFF]/,e.nodeName))return Me(e),!0;var r=R(e.nodeName);if(Pe("uponSanitizeElement",e,{tagName:r,allowedTags:B}),e.hasChildNodes()&&!Re(e.firstElementChild)&&(!Re(e.content)||!Re(e.content.firstElementChild))&&lN(/<[/\w]/g,e.innerHTML)&&lN(/<[/\w]/g,e.textContent))return Me(e),!0;if("select"===r&&lN(/<template/i,e.innerHTML))return Me(e),!0;if(!B[r]||Z[r]){if(!Z[r]&&Ne(r)){if(W.tagNameCheck instanceof RegExp&&lN(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(re&&!se[r]){var i=b(e)||e.parentNode,a=y(e)||e.childNodes;if(a&&i)for(var s=a.length-1;s>=0;--s)i.insertBefore(g(a[s],!0),v(e))}return Me(e),!0}return e instanceof l&&!function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});var n=oN(e.tagName),o=oN(t.tagName);return e.namespaceURI===pe?t.namespaceURI===fe?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||Ce[o]):Boolean(Ee[n]):e.namespaceURI===me?t.namespaceURI===fe?"math"===n:t.namespaceURI===pe?"math"===n&&Se[o]:Boolean(Te[n]):e.namespaceURI===fe&&!(t.namespaceURI===pe&&!Se[o])&&!(t.namespaceURI===me&&!Ce[o])&&!Te[n]&&(ke[n]||!Ee[n])}(e)?(Me(e),!0):"noscript"!==r&&"noembed"!==r||!lN(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,t=iN(t,P," "),t=iN(t,I," "),e.textContent!==t&&(nN(n.removed,{element:e.cloneNode()}),e.textContent=t)),Pe("afterSanitizeElements",e,null),!1):(Me(e),!0)},ze=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in r||n in we))return!1;if(G&&!$[t]&&lN(z,t));else if(q&&lN(N,t));else if(!V[t]||$[t]){if(!(Ne(e)&&(W.tagNameCheck instanceof RegExp&&lN(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&lN(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&lN(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(de[t]);else if(lN(F,iN(n,H,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==aN(n,"data:")||!ce[e])if(K&&!lN(L,iN(n,H,"")));else if(n)return!1;return!0},Ne=function(e){return e.indexOf("-")>0},Le=function(e){var t,n,o,r;Pe("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};for(r=i.length;r--;){var s=t=i[r],l=s.name,c=s.namespaceURI;n="value"===l?t.value:sN(t.value),o=R(l);var u=n;if(a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(lN(/\/>/i,n))Oe(l,e);else{Y&&(n=iN(n,P," "),n=iN(n,I," "));var d=R(e.nodeName);if(ze(d,o,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Oe(l,e)}}else Oe(l,e)}else Oe(l,e)}Pe("afterSanitizeAttributes",e,null)}},He=function e(t){var n,o=Ae(t);for(Pe("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Pe("uponSanitizeShadowNode",n,null),Ie(n)||(n.content instanceof i&&e(n.content),Le(n));Pe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var a,l,c,u,d;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Re(e)){if("function"!=typeof e.toString)throw cN("toString is not a function");if("string"!=typeof(e=e.toString()))throw cN("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Lz(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Re(e))return t.toStaticHTML(e.outerHTML)}return e}if(X||xe(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=R(e.nodeName);if(!B[h]||Z[h])throw cN("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof s)1===(l=(a=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!ee&&!Y&&!J&&-1===e.indexOf("<"))return _&&ne?_.createHTML(e):e;if(!(a=De(e)))return ee?null:ne?x:""}a&&Q&&Me(a.firstChild);for(var m=Ae(ie?e:a);c=m.nextNode();)3===c.nodeType&&c===u||Ie(c)||(c.content instanceof i&&He(c.content),Le(c),u=c);if(u=null,ie)return e;if(ee){if(te)for(d=E.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return V.shadowroot&&(d=M.call(o,d,!0)),d}var p=J?a.outerHTML:a.innerHTML;return J&&B["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&lN(RN,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),Y&&(p=iN(p,P," "),p=iN(p,I," ")),_&&ne?_.createHTML(p):p},n.setConfig=function(e){xe(e),X=!0},n.clearConfig=function(){be=null,X=!1},n.isValidAttribute=function(e,t,n){be||xe({});var o=R(e),r=R(t);return ze(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(D[e]=D[e]||[],nN(D[e],t))},n.removeHook=function(e){if(D[e])return tN(D[e])},n.removeHooks=function(e){D[e]&&(D[e]=[])},n.removeAllHooks=function(){D={}},n}();const zN=e=>IN().sanitize(e),NN=lg.deviceType.isTouch(),LN=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),HN=(e,t)=>SP.parts.close(Wf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Cl([sx.config({})])})),FN=()=>SP.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),BN=(e,t)=>SP.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:uO(`<p>${zN(t.translate(e))}</p>`)}]}]}),UN=e=>SP.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),VN=(e,t)=>[ex.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),ex.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],jN=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",r=t+"__disable-scroll";return SP.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),O.some(!0)),useTabstopAt:e=>!qS(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:uO(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:NN?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:Cl([nf.config({}),Jp("dialog-events",e.dialogEvents.concat([Ki(Gr(),((e,t)=>{Up.focusIn(e)}))])),Jp("scroll-lock",[Yi((()=>{Ba(wt(),r)})),Ji((()=>{Ua(wt(),r)}))]),...e.extraBehaviours]),eventOrder:{[di()]:["dialog-events"],[xi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Ci()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},WN=e=>Wf.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:Cl([sx.config({})]),components:[tg("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{Pi(e,fx)}}),ZN=(e,t,n,o)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:Cl([dz.config({channel:`${Rz}-${t}`,initialData:e,renderComponents:e=>[ts(o.translate(e.title))]})])}),$N=()=>({dom:uO('<div class="tox-dialog__draghandle"></div>')}),qN=(e,t,n)=>((e,t,n)=>{const o=SP.parts.title(ZN(e,t,O.none(),n)),r=SP.parts.draghandle($N()),i=SP.parts.close(WN(n)),a=[o].concat(e.draggable?[r]:[]).concat([i]);return ex.sketch({dom:uO('<div class="tox-dialog__header"></div>'),components:a})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),GN=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:uO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),KN=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{SP.setBusy(e(),((e,o)=>GN(n.message,o,t)))},onUnblock:()=>{SP.setIdle(e())}}),YN=(e,t,n,o)=>is(jN({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[dz.config({channel:`${Az}-${e.id}`,updateState:(e,t)=>O.some(t),initialData:t}),LS({}),...e.extraBehaviours],onEscape:e=>{Pi(e,fx)},dialogEvents:n,eventOrder:{[ui()]:[dz.name(),Ol.name()],[xi()]:["scroll-lock",dz.name(),"messages","dialog-events","alloy.base.behaviour"],[Ci()]:["alloy.base.behaviour","dialog-events","messages",dz.name(),"scroll-lock"]}})),JN=(e,t={})=>F(e,(e=>"menu"===e.type?(e=>{const n=F(e.items,(e=>{const n=ve(t,e.name).getOr(Mr(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),XN=e=>W(e,((e,t)=>"menu"===t.type?W(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),QN=(e,t)=>[$i(Gr(),$S),e(px,((e,n,o,r)=>{Il(ft(r.element)).fold(v,Rl),t.onClose(),n.onClose()})),e(fx,((e,t,n,o)=>{t.onCancel(e),Pi(o,px)})),Vi(bx,((e,n)=>t.onUnblock())),Vi(yx,((e,n)=>t.onBlock(n.event)))],eL=(e,t,n)=>{const o=(t,n)=>Vi(t,((t,o)=>{r(t,((r,i)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{dz.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...QN(o,t),o(vx,((e,t)=>t.onSubmit(e))),o(mx,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(gx,((e,t,o,r)=>{const i=()=>Up.focusIn(r),a=e=>Tt(e,"disabled")||Et(e,"aria-disabled").exists((e=>"true"===e)),s=ft(r.element),l=Il(s);t.onAction(e,{name:o.name,value:o.value}),Il(s).fold(i,(e=>{a(e)||l.exists((t=>Qe(e,t)&&a(t)))?i():n().toOptional().filter((t=>!Qe(t.element,e))).each(i)}))})),o(wx,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Ji((t=>{const n=e();pd.setValue(t,n.getData())}))]},tL=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=U(n,(e=>"start"===e.align)),r=(e,t)=>ex.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:F(t,(e=>e.memento.asSpec()))});return[r("start",o.pass),r("end",o.fail)]},nL=(e,t,n)=>({dom:uO('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Cl([dz.config({channel:`${Iz}-${t}`,initialData:e,updateState:(e,t)=>{const o=F(t.buttons,(e=>{const t=Zf(((e,t)=>vE(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return O.some({lookupByName:t=>((e,t,n)=>Z(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,o,t),footerButtons:o})},renderComponents:tL})])}),oL=(e,t,n)=>SP.parts.footer(nL(e,t,n)),rL=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=_h.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return xS.getField(n,t).orThunk((()=>{const n=e.getFooter();return dz.getState(n).get().bind((e=>e.lookupByName(t)))}))}return O.none()},iL=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},r={getData:()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t;return{...pd.getValue(o),...ce(n,(e=>e.get()))}},setData:t=>{o((o=>{const i=r.getData(),a=go(i,t),s=((e,t)=>{const n=e.getRoot();return dz.getState(n).get().map((e=>Go(qo("data",e.dataValidator,t)))).getOr(t)})(e,a),l=e.getFormWrapper();pd.setValue(l,s),le(n,((e,t)=>{ye(a,t)&&e.set(a[t])}))}))},setEnabled:(t,n)=>{rL(e,t).each(n?zh.enable:zh.disable)},focus:t=>{rL(e,t).each(nf.focus)},block:e=>{if(!i(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{Ii(t,yx,{message:e})}))},unblock:()=>{o((e=>{Pi(e,bx)}))},showTab:t=>{o((n=>{const o=e.getBody();dz.getState(o).get().exists((e=>e.isTabPanel()))&&_h.getCurrent(o).each((e=>{Sz.showTab(e,t)}))}))},redial:i=>{o((o=>{const a=e.getId(),s=t(i),l=JN(s.internalDialog.buttons,n);o.getSystem().broadcastOn([`${Az}-${a}`],s),o.getSystem().broadcastOn([`${Rz}-${a}`],s.internalDialog),o.getSystem().broadcastOn([`${Pz}-${a}`],s.internalDialog),o.getSystem().broadcastOn([`${Iz}-${a}`],{...s.internalDialog,buttons:l}),r.setData(s.initialData)}))},close:()=>{o((e=>{Pi(e,px)}))},toggleFullscreen:e.toggleFullscreen};return r};var aL=tinymce.util.Tools.resolve("tinymce.util.URI");const sL=["insertContent","setContent","execCommand","close","block","unblock"],lL=e=>a(e)&&-1!==sL.indexOf(e.mceAction),cL=(e,t,n,o)=>{const r=la("dialog"),s=qN(e.title,r,o),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[WS({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Cl([sx.config({}),nf.config({})])})]}],behaviours:Cl([Up.config({mode:"acyclic",useTabstopAt:S(qS)})])};return SP.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?O.none():O.some(oL({buttons:e},r,o)))),d=((e,t)=>{const n=(t,n)=>Vi(t,((t,r)=>{o(t,((o,i)=>{n(e(),o,r.event,t)}))})),o=(e,t)=>{dz.getState(e).get().each((n=>{t(n,e)}))};return[...QN(n,t),n(gx,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})((()=>w),KN((()=>b),o.shared.providers,t)),h={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},p=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new aL(e.url,{base_uri:new aL(window.location.href)}),g=`${f.protocol}://${f.host}${f.port?":"+f.port:""}`,v=Xl(),y=[Jp("messages",[Yi((()=>{const t=tc(Le(window),"message",(t=>{if(f.isSameOrigin(new aL(t.raw.origin))){const o=t.raw.data;lL(o)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!u(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,w,o):(e=>!lL(e)&&a(e)&&ye(e,"mceAction"))(o)&&e.onMessage(w,o)}}));v.set(t)})),Ji(v.clear)]),Ol.config({channels:{[zz]:{onReceive:(e,t)=>{ps(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;m(n)&&n.postMessage(t,g)}))}}}})],b=YN({id:r,header:s,body:l,footer:c,extraClasses:p,extraBehaviours:y,extraStyles:h},e,d,o),w=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!i(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Ii(t,yx,{message:e})}))},unblock:()=>{t((e=>{Pi(e,bx)}))},close:()=>{t((e=>{Pi(e,px)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([zz],e)}))}}})(b);return{dialog:b,instanceApi:w}},uL=(e,t,n)=>t&&n?[]:[DM.config({contextual:{lazyContext:()=>O.some(Jn(Le(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>V_(e,t.element).map((e=>({bounds:j_(e),optScrollEnv:O.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Gt(e.element).top})}))).getOrThunk((()=>({bounds:eo(),optScrollEnv:O.none()})))})],dL=e=>{const t=e.editor,n=av(t),o=(e=>{const t=e.shared;return{open:(n,o)=>{const r=()=>{SP.hide(l),o()},i=Zf(vE({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",e)),a=FN(),s=HN(r,t.providers),l=is(jN({lazySink:()=>t.getSink(),header:LN(a,s),body:BN(n,t.providers),footer:O.some(UN(VN([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Vi(fx,r)],eventOrder:{}}));SP.show(l);const c=i.get(l);nf.focus(c)}}})(e.backstages.dialog),r=(e=>{const t=e.shared;return{open:(n,o)=>{const r=e=>{SP.hide(c),o(e)},i=Zf(vE({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",e)),a=vE({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",e),s=FN(),l=HN((()=>r(!1)),t.providers),c=is(jN({lazySink:()=>t.getSink(),header:LN(s,l),body:BN(n,t.providers),footer:O.some(UN(VN([],[a,i.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Vi(fx,(()=>r(!1))),Vi(vx,(()=>r(!0)))],eventOrder:{}}));SP.show(c);const u=i.get(c);nf.focus(u)}}})(e.backstages.dialog),i=(t,n)=>sz.open(((t,o,r)=>{const i=o,a=((e,t,n)=>{const o=la("dialog"),r=e.internalDialog,i=qN(r.title,o,n),a=((e,t,n)=>{const o=Nz(e,t,O.none(),n,!1);return SP.parts.body(o)})({body:r.body,initialData:r.initialData},o,n),s=JN(r.buttons),l=XN(s),c=oL({buttons:s},o,n),u=eL((()=>f),KN((()=>m),n.shared.providers,t),n.shared.getSink),d=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(r.size),h={id:o,header:i,body:a,footer:O.some(c),extraClasses:d,extraBehaviours:[],extraStyles:{}},m=YN(h,e,u,n),p={getId:w(o),getRoot:w(m),getBody:()=>SP.getBody(m),getFooter:()=>SP.getFooter(m),getFormWrapper:()=>{const e=SP.getBody(m);return _h.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Le(m.element.dom);Va(t,e)?(Ua(t,e),ja(t,d)):(Wa(t,d),Ba(t,e))}},f=iL(p,t.redial,l);return{dialog:m,instanceApi:f}})({dataValidator:r,initialData:i,internalDialog:t},{redial:sz.redial,closeWindow:()=>{SP.hide(a.dialog),n(a.instanceApi)}},e.backstages.dialog);return SP.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),t),a=(o,r,i,a=!1)=>sz.open(((o,s,l)=>{const c=Go(qo("data",l,s)),u=Ql(),d=e.backstages.popup.shared.header.isPositionedAtTop(),h=()=>u.on((e=>{Vf.reposition(e),DM.refresh(e)})),m=((e,t,n,o)=>{const r=la("dialog"),i=la("dialog-label"),a=la("dialog-content"),s=e.internalDialog,l=Zf(((e,t,n,o)=>ex.sketch({dom:uO('<div class="tox-dialog__header"></div>'),components:[ZN(e,t,O.some(n),o),$N(),WN(o)],containerBehaviours:Cl([cP.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>fs(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:s.title,draggable:!0},r,i,n.shared.providers)),c=Zf(((e,t,n,o,r)=>Nz(e,t,O.some(n),o,r))({body:s.body,initialData:s.initialData},r,a,n,o)),u=JN(s.buttons),d=XN(u),h=Zf(((e,t,n)=>nL(e,t,n))({buttons:u},r,n)),m=eL((()=>g),{onBlock:e=>{cO.block(f,((t,o)=>GN(e.message,o,n.shared.providers)))},onUnblock:()=>{cO.unblock(f)},onClose:()=>t.closeWindow()},n.shared.getSink),p="tox-dialog-inline",f=is({dom:{tag:"div",classes:["tox-dialog",p],attributes:{role:"dialog","aria-labelledby":i}},eventOrder:{[ui()]:[dz.name(),Ol.name()],[di()]:["execute-on-form"],[xi()]:["reflecting","execute-on-form"]},behaviours:Cl([Up.config({mode:"cyclic",onEscape:e=>(Pi(e,px),O.some(!0)),useTabstopAt:e=>!qS(e)&&("button"!==Ve(e)||"disabled"!==kt(e,"disabled")),firstTabstop:1}),dz.config({channel:`${Az}-${r}`,updateState:(e,t)=>O.some(t),initialData:e}),nf.config({}),Jp("execute-on-form",m.concat([Ki(Gr(),((e,t)=>{Up.focusIn(e)}))])),cO.config({getRoot:()=>O.some(f)}),Yp.config({}),LS({})]),components:[l.asSpec(),c.asSpec(),h.asSpec()]}),g=iL({getId:w(r),getRoot:w(f),getFooter:()=>h.get(f),getBody:()=>c.get(f),getFormWrapper:()=>{const e=c.get(f);return _h.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Le(f.element.dom);Za(t,[e])?(Wa(t,[e]),ja(t,[p])):(Wa(t,[p]),ja(t,[e]))}},t.redial,d);return{dialog:f,instanceApi:g}})({dataValidator:l,initialData:c,internalDialog:o},{redial:sz.redial,closeWindow:()=>{u.on(Vf.hide),t.off("ResizeEditor",h),u.clear(),i(m.instanceApi)}},e.backstages.popup,a),p=is(Vf.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Cl([Jp("window-manager-inline-events",[Vi(Si(),((e,t)=>{Pi(m.dialog,fx)}))]),...uL(t,n,d)]),isExtraPart:(e,t)=>(e=>W_(e,".tox-alert-dialog")||W_(e,".tox-confirm-dialog"))(t)}));return u.set(p),Vf.showWithinBounds(p,as(m.dialog),{anchor:r},(()=>{const e=t.inline?wt():Le(t.getContainer()),n=Jn(e);return O.some(n)})),n&&d||(DM.refresh(p),t.on("ResizeEditor",h)),m.instanceApi.setData(c),Up.focusIn(m.dialog),m.instanceApi}),o);return{open:(t,n,o)=>void 0!==n&&"toolbar"===n.inline?a(t,e.backstages.popup.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?a(t,e.backstages.popup.shared.anchors.cursor(),o,n.ariaAttrs):i(t,o),openUrl:(n,o)=>((n,o)=>sz.openUrl((n=>{const r=cL(n,{closeWindow:()=>{SP.hide(r.dialog),o(r.instanceApi)}},t,e.backstages.dialog);return SP.show(r.dialog),r.instanceApi}),n))(n,o),alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{r.open(e,t)}}};to.add("silver",(e=>{(e=>{dg(e),(e=>{const t=e.options.register,n=e=>g(e,i)?{value:Pw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:"number",default:Aw(Hw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:Rw(e,Hw(e,Ow).length)}),t("color_cols_background",{processor:"number",default:Rw(e,Hw(e,Dw).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:zw}),t("color_default_background",{processor:"string",default:zw})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:i(e)||g(e,i)?{value:oR(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);let t=()=>eo();const{dialogs:n,popups:o,renderUI:r}=wP(e,{getPopupSinkBounds:()=>t()});F_(e,o.backstage.shared);const a=dL({editor:e,backstages:{popup:o.backstage,dialog:n.backstage}});return{renderUI:async()=>{const n=await r();return V_(e,o.getMothership().element).each((e=>{t=()=>j_(e)})),n},getWindowManagerImpl:w(a),getNotificationManagerImpl:()=>((e,t,n)=>{const o=t.backstage.shared,r=()=>{const t=Jn(Le(e.getContentAreaContainer())),n=eo(),o=Ks(n.x,t.x,t.right),r=Ks(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),a=Math.max(t.bottom,n.bottom);return O.some(Yn(o,r,i-o,a-r))};return{open:(t,i)=>{const a=()=>{i(),Vf.hide(l)},s=is(og.sketch({text:t.text,level:z(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:a,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),l=is(Vf.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(l),f(t.timeout)&&t.timeout>0&&jf.setEditorTimeout(e,(()=>{a()}),t.timeout);const c={close:a,reposition:()=>{const t=as(s),n={maxHeightFunction:cc()},i=e.notificationManager.getNotifications();if(i[0]===c){const e={...o.anchors.banner(),overrides:n};Vf.showWithinBounds(l,t,{anchor:e},r)}else I(i,c).each((e=>{const o=i[e-1].getEl(),a={type:"node",root:wt(),node:O.some(Le(o)),overrides:n,layouts:{onRtl:()=>[cl],onLtr:()=>[cl]}};Vf.showWithinBounds(l,t,{anchor:a},r)}))},text:e=>{og.updateText(s,e)},settings:t,getEl:()=>s.element.dom,progressBar:{value:e=>{og.updateProgress(s,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:o.backstage},o.getMothership())}}))}()},1051:function(e,t,n){n(7658),n(2801),n(1439),n(7585),n(5315),n(2062),function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},o=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},r=function(e,t){return i((function(n,o){return e.eq(t(n),t(o))}))},i=function(e){return{eq:e}},a=i((function(e,t){return e===t})),s=a,l=function(e){return i((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},c=function(e,t){return r(l(e),(function(e){return o(e,t)}))},u=function(e){return i((function(t,n){var o=Object.keys(t),r=Object.keys(n);if(!c(s).eq(o,r))return!1;for(var i=o.length,a=0;a<i;a++){var l=o[a];if(!e.eq(t[l],n[l]))return!1}return!0}))},d=i((function(e,o){if(e===o)return!0;var r=t(e),i=t(o);return r===i&&(n(r)?e===o:"array"===r?l(d).eq(e,o):"object"===r&&u(d).eq(e,o))}));const h=Object.getPrototypeOf,m=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},p=e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&m(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t},f=e=>t=>p(t)===e,g=e=>t=>typeof t===e,v=e=>t=>e===t,y=(e,t)=>w(e)&&m(e,t,((e,t)=>h(e)===t)),b=f("string"),w=f("object"),_=e=>y(e,Object),x=f("array"),C=v(null),S=g("boolean"),k=v(void 0),E=e=>null===e||void 0===e,T=e=>!E(e),M=g("function"),O=g("number"),D=(e,t)=>{if(x(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},A=()=>{},R=(e,t)=>(...n)=>e(t.apply(null,n)),P=(e,t)=>n=>e(t(n)),I=e=>()=>e,z=e=>e,N=(e,t)=>e===t;function L(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const H=e=>t=>!e(t),F=e=>()=>{throw new Error(e)},B=e=>e(),U=e=>{e()},V=I(!1),j=I(!0);class W{constructor(e,t){this.tag=e,this.value=t}static some(e){return new W(!0,e)}static none(){return W.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?W.some(e(this.value)):W.none()}bind(e){return this.tag?e(this.value):W.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:W.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!==e&&void 0!==e?e:"Called getOrDie on None")}static from(e){return T(e)?W.some(e):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const Z=Array.prototype.slice,$=Array.prototype.indexOf,q=Array.prototype.push,G=(e,t)=>$.call(e,t),K=(e,t)=>{const n=G(e,t);return-1===n?W.none():W.some(n)},Y=(e,t)=>G(e,t)>-1,J=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return!0}return!1},X=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},Q=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)}},ee=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},te=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r],a=t(i,r)?n:o;a.push(i)}return{pass:n,fail:o}},ne=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},oe=(e,t,n)=>(ee(e,((e,o)=>{n=t(n,e,o)})),n),re=(e,t,n)=>(Q(e,((e,o)=>{n=t(n,e,o)})),n),ie=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return W.some(r);if(n(r,o))break}return W.none()},ae=(e,t)=>ie(e,t,V),se=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return W.some(n)}return W.none()},le=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!x(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);q.apply(t,e[n])}return t},ce=(e,t)=>le(X(e,t)),ue=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const o=e[n];if(!0!==t(o,n))return!1}return!0},de=e=>{const t=Z.call(e,0);return t.reverse(),t},he=(e,t)=>ne(e,(e=>!Y(t,e))),me=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},pe=(e,t)=>{const n=Z.call(e,0);return n.sort(t),n},fe=(e,t)=>t>=0&&t<e.length?W.some(e[t]):W.none(),ge=e=>fe(e,0),ve=e=>fe(e,e.length-1),ye=M(Array.from)?Array.from:e=>Z.call(e),be=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return W.none()},we=(e,t)=>{const n=[],o=M(t)?e=>J(n,(n=>t(n,e))):e=>Y(n,e);for(let r=0,i=e.length;r<i;r++){const t=e[r];o(t)||n.push(t)}return n},_e=Object.keys,xe=Object.hasOwnProperty,Ce=(e,t)=>{const n=_e(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];t(i,r)}},Se=(e,t)=>ke(e,((e,n)=>({k:n,v:t(e,n)}))),ke=(e,t)=>{const n={};return Ce(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},Ee=e=>(t,n)=>{e[n]=t},Te=(e,t,n,o)=>{Ce(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},Me=(e,t)=>{const n={},o={};return Te(e,t,Ee(n),Ee(o)),{t:n,f:o}},Oe=(e,t)=>{const n={};return Te(e,t,Ee(n),A),n},De=(e,t)=>{const n=[];return Ce(e,((e,o)=>{n.push(t(e,o))})),n},Ae=e=>De(e,z),Re=(e,t)=>Pe(e,t)?W.from(e[t]):W.none(),Pe=(e,t)=>xe.call(e,t),Ie=(e,t)=>Pe(e,t)&&void 0!==e[t]&&null!==e[t],ze=(e,t,n=d)=>u(n).eq(e,t),Ne=e=>{const t={};return Q(e,(e=>{t[e]={}})),_e(t)},Le=e=>void 0!==e.length,He=Array.isArray,Fe=e=>{if(He(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},Be=(e,t,n)=>{if(!e)return!1;if(n=n||e,Le(e)){for(let o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(Pe(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Ue=(e,t)=>{const n=[];return Be(e,((o,r)=>{n.push(t(o,r,e))})),n},Ve=(e,t)=>{const n=[];return Be(e,((o,r)=>{t&&!t(o,r,e)||n.push(o)})),n},je=(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},We=(e,t,n,o)=>{let r=k(n)?e[0]:n;for(let i=0;i<e.length;i++)r=t.call(o,r,e[i],i);return r},Ze=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},$e=e=>e[e.length-1],qe=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ge=(e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,a=e.isiOS()||e.isAndroid(),s=a||o("(pointer:coarse)"),l=r||!i&&a&&o("(min-device-width:768px)"),c=i||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:I(r),isiPhone:I(i),isTablet:I(l),isPhone:I(c),isTouch:I(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:I(u),isDesktop:I(d)}},Ke=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},Ye=(e,t)=>{const n=Ke(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Qe(o(1),o(2))},Je=(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Xe():Ye(e,n)},Xe=()=>Qe(0,0),Qe=(e,t)=>({major:e,minor:t}),et={nu:Qe,detect:Je,unknown:Xe},tt=(e,t)=>be(t.brands,(t=>{const n=t.brand.toLowerCase();return ae(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:et.nu(parseInt(t.version,10),0)})))})),nt=(e,t)=>{const n=String(t).toLowerCase();return ae(e,(e=>e.search(n)))},ot=(e,t)=>nt(e,t).map((e=>{const n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})),rt=(e,t)=>nt(e,t).map((e=>{const n=et.detect(e.versionRegexes,t);return{current:e.name,version:n}})),it=(e,t)=>e.substring(t),at=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,st=(e,t)=>ct(e,t)?it(e,t.length):e,lt=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!k(o)||r+t.length<=o)},ct=(e,t)=>at(e,t,0),ut=(e,t)=>at(e,t,e.length-t.length),dt=e=>t=>t.replace(e,""),ht=dt(/^\s+|\s+$/g),mt=dt(/^\s+/g),pt=dt(/\s+$/g),ft=e=>e.length>0,gt=e=>!ft(e),vt=(e,t)=>t<=0?"":new Array(t+1).join(e),yt=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?W.none():W.some(n)},bt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,wt=e=>t=>lt(t,e),_t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>lt(e,"edge/")&&lt(e,"chrome")&&lt(e,"safari")&&lt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bt],search:e=>lt(e,"chrome")&&!lt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>lt(e,"msie")||lt(e,"trident")},{name:"Opera",versionRegexes:[bt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wt("firefox")},{name:"Safari",versionRegexes:[bt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(lt(e,"safari")||lt(e,"mobile/"))&&lt(e,"applewebkit")}],xt=[{name:"Windows",search:wt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>lt(e,"iphone")||lt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:wt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wt("linux"),versionRegexes:[]},{name:"Solaris",search:wt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ct={browsers:I(_t),oses:I(xt)},St="Edge",kt="Chromium",Et="IE",Tt="Opera",Mt="Firefox",Ot="Safari",Dt=()=>At({current:void 0,version:et.unknown()}),At=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(St),isChromium:o(kt),isIE:o(Et),isOpera:o(Tt),isFirefox:o(Mt),isSafari:o(Ot)}},Rt={unknown:Dt,nu:At,edge:I(St),chromium:I(kt),ie:I(Et),opera:I(Tt),firefox:I(Mt),safari:I(Ot)},Pt="Windows",It="iOS",zt="Android",Nt="Linux",Lt="macOS",Ht="Solaris",Ft="FreeBSD",Bt="ChromeOS",Ut=()=>Vt({current:void 0,version:et.unknown()}),Vt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Pt),isiOS:o(It),isAndroid:o(zt),isMacOS:o(Lt),isLinux:o(Nt),isSolaris:o(Ht),isFreeBSD:o(Ft),isChromeOS:o(Bt)}},jt={unknown:Ut,nu:Vt,windows:I(Pt),ios:I(It),android:I(zt),linux:I(Nt),macos:I(Lt),solaris:I(Ht),freebsd:I(Ft),chromeos:I(Bt)},Wt=(e,t,n)=>{const o=Ct.browsers(),r=Ct.oses(),i=t.bind((e=>tt(o,e))).orThunk((()=>ot(o,e))).fold(Rt.unknown,Rt.nu),a=rt(r,e).fold(jt.unknown,jt.nu),s=Ge(a,i,e,n);return{browser:i,os:a,deviceType:s}},Zt={detect:Wt},$t=e=>window.matchMedia(e).matches;let qt=qe((()=>Zt.detect(navigator.userAgent,W.from(navigator.userAgentData),$t)));const Gt=()=>qt(),Kt=navigator.userAgent,Yt=Gt(),Jt=Yt.browser,Xt=Yt.os,Qt=Yt.deviceType,en=-1!==Kt.indexOf("Windows Phone"),tn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Jt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Jt.isIE(),windowsPhone:en,browser:{current:Jt.current,version:Jt.version,isChromium:Jt.isChromium,isEdge:Jt.isEdge,isFirefox:Jt.isFirefox,isIE:Jt.isIE,isOpera:Jt.isOpera,isSafari:Jt.isSafari},os:{current:Xt.current,version:Xt.version,isAndroid:Xt.isAndroid,isChromeOS:Xt.isChromeOS,isFreeBSD:Xt.isFreeBSD,isiOS:Xt.isiOS,isLinux:Xt.isLinux,isMacOS:Xt.isMacOS,isSolaris:Xt.isSolaris,isWindows:Xt.isWindows},deviceType:{isDesktop:Qt.isDesktop,isiPad:Qt.isiPad,isiPhone:Qt.isiPhone,isPhone:Qt.isPhone,isTablet:Qt.isTablet,isTouch:Qt.isTouch,isWebView:Qt.isWebView}},nn=/^\s*|\s*$/g,on=e=>E(e)?"":(""+e).replace(nn,""),rn=(e,t)=>t?!("array"!==t||!He(e))||typeof e===t:void 0!==e,an=(e,t,n={})=>{const o=b(e)?e.split(t||","):e||[];let r=o.length;while(r--)n[o[r]]={};return n},sn=Pe,ln=(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(Pe(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},cn=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Be(e,((e,r)=>!1!==t.call(o,e,r,n)&&(cn(e,t,n,o),!0))))},un=(e,t=window)=>{const n=e.split(".");for(let o=0,r=n.length;o<r;o++)if(t=t[n[o]],!t)break;return t},dn=(e,t)=>x(e)?e:""===e?[]:Ue(e.split(t||","),on),hn=e=>{const t=tn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},mn={trim:on,isArray:He,is:rn,toArray:Fe,makeMap:an,each:Be,map:Ue,grep:Ve,inArray:je,hasOwn:sn,extend:ln,walk:cn,resolve:un,explode:dn,_addCacheSuffix:hn},pn=(e,t,n=N)=>e.exists((e=>n(e,t))),fn=e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t},gn=(e,t,n)=>e.isSome()&&t.isSome()?W.some(n(e.getOrDie(),t.getOrDie())):W.none(),vn=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?W.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):W.none(),yn=(e,t)=>e?W.some(t):W.none(),bn="undefined"!==typeof window?window:Function("return this;")(),wn=(e,t)=>{let n=void 0!==t&&null!==t?t:bn;for(let o=0;o<e.length&&void 0!==n&&null!==n;++o)n=n[e[o]];return n},_n=(e,t)=>{const n=e.split(".");return wn(n,t)},xn=(e,t)=>_n(e,t),Cn=(e,t)=>{const n=xn(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},Sn=Object.getPrototypeOf,kn=e=>Cn("HTMLElement",e),En=e=>{const t=_n("ownerDocument.defaultView",e);return w(e)&&(kn(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Sn(e).constructor.name))},Tn=8,Mn=9,On=11,Dn=1,An=3,Rn=e=>{const t=e.dom.nodeName;return t.toLowerCase()},Pn=e=>e.dom.nodeType,In=e=>t=>Pn(t)===e,zn=e=>Pn(e)===Tn||"#comment"===Rn(e),Nn=e=>Ln(e)&&En(e.dom),Ln=In(Dn),Hn=In(An),Fn=In(Mn),Bn=In(On),Un=e=>t=>Ln(t)&&Rn(t)===e,Vn=(e,t,n)=>{if(!(b(n)||S(n)||O(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},jn=(e,t,n)=>{Vn(e.dom,t,n)},Wn=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{Vn(n,t,e)}))},Zn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},$n=(e,t)=>W.from(Zn(e,t)),qn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Gn=(e,t)=>{e.dom.removeAttribute(t)},Kn=e=>{const t=e.dom.attributes;return void 0===t||null===t||0===t.length},Yn=e=>re(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Jn=(e,t)=>{const n=Zn(e,t);return void 0===n||""===n?[]:n.split(" ")},Xn=(e,t,n)=>{const o=Jn(e,t),r=o.concat([n]);return jn(e,t,r.join(" ")),!0},Qn=(e,t,n)=>{const o=ne(Jn(e,t),(e=>e!==n));return o.length>0?jn(e,t,o.join(" ")):Gn(e,t),!1},eo=e=>void 0!==e.dom.classList,to=e=>Jn(e,"class"),no=(e,t)=>Xn(e,"class",t),oo=(e,t)=>Qn(e,"class",t),ro=(e,t)=>Y(to(e),t)?oo(e,t):no(e,t),io=(e,t)=>{eo(e)?e.dom.classList.add(t):no(e,t)},ao=e=>{const t=eo(e)?e.dom.classList:to(e);0===t.length&&Gn(e,"class")},so=(e,t)=>{if(eo(e)){const n=e.dom.classList;n.remove(t)}else oo(e,t);ao(e)},lo=(e,t)=>{const n=eo(e)?e.dom.classList.toggle(t):ro(e,t);return ao(e),n},co=(e,t)=>eo(e)&&e.dom.classList.contains(t),uo=(e,t)=>{const n=t||document,o=n.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return po(o.childNodes[0])},ho=(e,t)=>{const n=t||document,o=n.createElement(e);return po(o)},mo=(e,t)=>{const n=t||document,o=n.createTextNode(e);return po(o)},po=e=>{if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},fo=(e,t,n)=>W.from(e.dom.elementFromPoint(t,n)).map(po),go={fromHtml:uo,fromTag:ho,fromText:mo,fromDom:po,fromPoint:fo},vo=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let r=t(e);do{r=r.bind(o)}while(r.isSome());return n},yo=(e,t)=>{const n=e.dom;if(n.nodeType!==Dn)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},bo=e=>e.nodeType!==Dn&&e.nodeType!==Mn&&e.nodeType!==On||0===e.childElementCount,wo=(e,t)=>{const n=void 0===t?document:t.dom;return bo(n)?[]:X(n.querySelectorAll(e),go.fromDom)},_o=(e,t)=>{const n=void 0===t?document:t.dom;return bo(n)?W.none():W.from(n.querySelector(e)).map(go.fromDom)},xo=(e,t)=>e.dom===t.dom,Co=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},So=e=>go.fromDom(e.dom.ownerDocument),ko=e=>Fn(e)?e:So(e),Eo=e=>go.fromDom(ko(e).dom.documentElement),To=e=>go.fromDom(ko(e).dom.defaultView),Mo=e=>W.from(e.dom.parentNode).map(go.fromDom),Oo=e=>W.from(e.dom.parentElement).map(go.fromDom),Do=(e,t)=>{const n=M(t)?t:V;let o=e.dom;const r=[];while(null!==o.parentNode&&void 0!==o.parentNode){const e=o.parentNode,t=go.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Ao=e=>{const t=t=>ne(t,(t=>!xo(e,t)));return Mo(e).map(No).map(t).getOr([])},Ro=e=>W.from(e.dom.previousSibling).map(go.fromDom),Po=e=>W.from(e.dom.nextSibling).map(go.fromDom),Io=e=>de(vo(e,Ro)),zo=e=>vo(e,Po),No=e=>X(e.dom.childNodes,go.fromDom),Lo=(e,t)=>{const n=e.dom.childNodes;return W.from(n[t]).map(go.fromDom)},Ho=e=>Lo(e,0),Fo=e=>Lo(e,e.dom.childNodes.length-1),Bo=e=>e.dom.childNodes.length,Uo=e=>e.dom.hasChildNodes(),Vo=e=>{const t=e.dom.head;if(null===t||void 0===t)throw new Error("Head is not available yet");return go.fromDom(t)},jo=e=>Bn(e)&&T(e.dom.host),Wo=M(Element.prototype.attachShadow)&&M(Node.prototype.getRootNode),Zo=I(Wo),$o=Wo?e=>go.fromDom(e.dom.getRootNode()):ko,qo=e=>jo(e)?e:Vo(ko(e)),Go=e=>jo(e)?e:go.fromDom(ko(e).dom.body),Ko=e=>{const t=$o(e);return jo(t)?W.some(t):W.none()},Yo=e=>go.fromDom(e.dom.host),Jo=e=>{if(Zo()&&T(e.target)){const t=go.fromDom(e.target);if(Ln(t)&&Xo(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ge(t)}}return W.from(e.target)},Xo=e=>T(e.dom.shadowRoot),Qo=e=>{const t=Hn(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Ko(go.fromDom(t)).fold((()=>n.body.contains(t)),P(Qo,Yo))};var er=(e,t,n,o,r)=>e(n,o)?W.some(n):M(r)&&r(n)?W.none():t(n,o,r);const tr=(e,t,n)=>{let o=e.dom;const r=M(n)?n:V;while(o.parentNode){o=o.parentNode;const e=go.fromDom(o);if(t(e))return W.some(e);if(r(e))break}return W.none()},nr=(e,t,n)=>{const o=(e,t)=>t(e);return er(o,tr,e,t,n)},or=(e,t)=>{const n=e.dom;return n.parentNode?rr(go.fromDom(n.parentNode),(n=>!xo(e,n)&&t(n))):W.none()},rr=(e,t)=>{const n=e=>t(go.fromDom(e)),o=ae(e.dom.childNodes,n);return o.map(go.fromDom)},ir=(e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=go.fromDom(e.childNodes[o]);if(t(r))return W.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return W.none()};return n(e.dom)},ar=(e,t,n)=>tr(e,(e=>yo(e,t)),n),sr=(e,t)=>_o(t,e),lr=(e,t,n)=>{const o=(e,t)=>yo(e,t);return er(o,ar,e,t,n)},cr=e=>lr(e,"[contenteditable]"),ur=(e,t=!1)=>Qo(e)?e.dom.isContentEditable:cr(e).fold(I(t),(e=>"true"===dr(e))),dr=e=>e.dom.contentEditable,hr=e=>void 0!==e.style&&M(e.style.getPropertyValue),mr=(e,t,n)=>{if(!b(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);hr(e)&&e.style.setProperty(t,n)},pr=(e,t)=>{hr(e)&&e.style.removeProperty(t)},fr=(e,t,n)=>{const o=e.dom;mr(o,t,n)},gr=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{mr(n,t,e)}))},vr=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n),r=o.getPropertyValue(t);return""!==r||Qo(e)?r:yr(n,t)},yr=(e,t)=>hr(e)?e.style.getPropertyValue(t):"",br=(e,t)=>{const n=e.dom,o=yr(n,t);return W.from(o).filter((e=>e.length>0))},wr=e=>{const t={},n=e.dom;if(hr(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},_r=(e,t)=>{const n=e.dom;pr(n,t),pn($n(e,"style").map(ht),"")&&Gn(e,"style")},xr=e=>e.dom.offsetWidth,Cr=(e,t)=>{const n=Mo(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Sr=(e,t)=>{const n=Po(e);n.fold((()=>{const n=Mo(e);n.each((e=>{Er(e,t)}))}),(e=>{Cr(e,t)}))},kr=(e,t)=>{const n=Ho(e);n.fold((()=>{Er(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Er=(e,t)=>{e.dom.appendChild(t.dom)},Tr=(e,t)=>{Cr(e,t),Er(t,e)},Mr=(e,t)=>{Q(t,((n,o)=>{const r=0===o?e:t[o-1];Sr(r,n)}))},Or=(e,t)=>{Q(t,(t=>{Er(e,t)}))},Dr=e=>{e.dom.textContent="",Q(No(e),(e=>{Ar(e)}))},Ar=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Rr=e=>{const t=No(e);t.length>0&&Mr(e,t),Ar(e)},Pr=(e,t)=>{const n=t||document,o=n.createElement("div");return o.innerHTML=e,No(go.fromDom(o))},Ir=e=>X(e,go.fromDom),zr=e=>e.dom.innerHTML,Nr=(e,t)=>{const n=So(e),o=n.dom,r=go.fromDom(o.createDocumentFragment()),i=Pr(t,o);Or(r,i),Dr(e),Er(e,r)},Lr=e=>{const t=go.fromTag("div"),n=go.fromDom(e.dom.cloneNode(!0));return Er(t,n),zr(t)},Hr=(e,t,n,o,r,i,a)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:a}),Fr=e=>{const t=go.fromDom(Jo(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=R(o,n);return Hr(t,e.clientX,e.clientY,n,o,r,e)},Br=(e,t)=>n=>{e(n)&&t(Fr(n))},Ur=(e,t,n,o,r)=>{const i=Br(n,o);return e.dom.addEventListener(t,i,r),{unbind:L(jr,e,t,i,r)}},Vr=(e,t,n,o)=>Ur(e,t,n,o,!1),jr=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Wr=(e,t)=>{const n=(n,o)=>Wr(e+n,t+o);return{left:e,top:t,translate:n}},Zr=Wr,$r=e=>{const t=e.getBoundingClientRect();return Zr(t.left,t.top)},qr=(e,t)=>void 0!==e?e:void 0!==t?t:0,Gr=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Zr(n.offsetLeft,n.offsetTop);const i=qr(null===o||void 0===o?void 0:o.pageYOffset,r.scrollTop),a=qr(null===o||void 0===o?void 0:o.pageXOffset,r.scrollLeft),s=qr(r.clientTop,n.clientTop),l=qr(r.clientLeft,n.clientLeft);return Kr(e).translate(a-l,i-s)},Kr=e=>{const t=e.dom,n=t.ownerDocument,o=n.body;return o===t?Zr(o.offsetLeft,o.offsetTop):Qo(e)?$r(t):Zr(0,0)},Yr=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Zr(n,o)},Jr=(e,t)=>{const n=Gt().browser.isSafari();n&&M(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Xr=e=>{const t=void 0===e?window:e;return Gt().browser.isFirefox()?W.none():W.from(t.visualViewport)},Qr=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),ei=e=>{const t=void 0===e?window:e,n=t.document,o=Yr(go.fromDom(n));return Xr(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Qr(o.left,o.top,n,r)}),(e=>Qr(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},ti=(e,t)=>ne(No(e),t),ni=(e,t)=>{let n=[];return Q(No(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(ni(e,t))})),n},oi=(e,t)=>wo(t,e),ri=(e,t,n)=>ar(e,t,n).isSome();class ii{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const ai=e=>t=>!!t&&t.nodeType===e,si=e=>!!e&&!Object.getPrototypeOf(e),li=ai(1),ci=e=>{const t=e.toLowerCase();return e=>T(e)&&e.nodeName.toLowerCase()===t},ui=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return Y(t,n)}return!1}},di=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(li(t)){const o=t.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const i=o.getComputedStyle(t,null),a=i?i.getPropertyValue(e):null;if(a===n[r])return!0}}return!1}},hi=e=>t=>li(t)&&t.hasAttribute(e),mi=(e,t)=>n=>li(n)&&n.getAttribute(e)===t,pi=e=>li(e)&&e.hasAttribute("data-mce-bogus"),fi=e=>li(e)&&"all"===e.getAttribute("data-mce-bogus"),gi=e=>li(e)&&"TABLE"===e.tagName,vi=e=>t=>{if(li(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},yi=ui(["textarea","input"]),bi=ai(3),wi=ai(4),_i=ai(7),xi=ai(8),Ci=ai(9),Si=ai(11),ki=ci("br"),Ei=ci("img"),Ti=vi("true"),Mi=vi("false"),Oi=ui(["td","th"]),Di=ui(["td","th","caption"]),Ai=ui(["video","audio","object","embed"]),Ri=ci("li"),Pi=ci("details"),Ii=ci("summary"),zi="\ufeff",Ni=" ",Li=e=>e===zi,Hi=e=>e.replace(/\uFEFF/g,""),Fi=(e,t)=>{const n=n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return o(n).getOr("")},o=t=>e(t)?W.from(t.dom.nodeValue):W.none(),r=(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o};return{get:n,getOption:o,set:r}},Bi=Fi(Hn,"text"),Ui=e=>Bi.get(e),Vi=e=>Bi.getOption(e),ji=(e,t)=>Bi.set(e,t),Wi=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Zi=["td","th"],$i=["thead","tbody","tfoot"],qi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Gi=["h1","h2","h3","h4","h5","h6"],Ki=["li","dd","dt"],Yi=["ul","ol","dl"],Ji=["pre","script","textarea","style"],Xi=["pre"].concat(Gi),Qi=e=>{let t;return n=>(t=t||me(e,j),Pe(t,Rn(n)))},ea=Qi(Wi),ta=e=>"table"===Rn(e),na=e=>Ln(e)&&!ea(e),oa=e=>Ln(e)&&"br"===Rn(e),ra=Qi(qi),ia=Qi(Yi),aa=Qi(Ki),sa=Qi($i),la=Qi(Zi),ca=Qi(Ji),ua=Qi(Xi),da=e=>ua(e)||na(e),ha=e=>{const t=[];let n=e.dom;while(n)t.push(go.fromDom(n)),n=n.lastChild;return t},ma=e=>{const t=oi(e,"br"),n=ne(ha(e).slice(-1),oa);t.length===n.length&&Q(n,Ar)},pa=()=>{const e=go.fromTag("br");return jn(e,"data-mce-bogus","1"),e},fa=e=>{Dr(e),Er(e,pa())},ga=e=>{Fo(e).each((t=>{Ro(t).each((n=>{ea(e)&&oa(t)&&ea(n)&&Ar(t)}))}))},va=zi,ya=Li,ba=Hi,wa=li,_a=bi,xa=e=>(_a(e)&&(e=e.parentNode),wa(e)&&e.hasAttribute("data-mce-caret")),Ca=e=>_a(e)&&ya(e.data),Sa=e=>xa(e)||Ca(e),ka=e=>e.firstChild!==e.lastChild||!ki(e.firstChild),Ea=(e,t)=>{var n;const o=null!==(n=e.ownerDocument)&&void 0!==n?n:document,r=o.createTextNode(va),i=e.parentNode;if(t){const t=e.previousSibling;if(_a(t)){if(Sa(t))return t;if(Aa(t))return t.splitText(t.data.length-1)}null===i||void 0===i||i.insertBefore(r,e)}else{const t=e.nextSibling;if(_a(t)){if(Sa(t))return t;if(Da(t))return t.splitText(1),t}e.nextSibling?null===i||void 0===i||i.insertBefore(r,e.nextSibling):null===i||void 0===i||i.appendChild(r)}return r},Ta=e=>{const t=e.container();return!!bi(t)&&(t.data.charAt(e.offset())===va||e.isAtStart()&&Ca(t.previousSibling))},Ma=e=>{const t=e.container();return!!bi(t)&&(t.data.charAt(e.offset()-1)===va||e.isAtEnd()&&Ca(t.nextSibling))},Oa=(e,t,n)=>{var o;const r=null!==(o=t.ownerDocument)&&void 0!==o?o:document,i=r.createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(pa().dom);const a=t.parentNode;return n?null===a||void 0===a||a.insertBefore(i,t):t.nextSibling?null===a||void 0===a||a.insertBefore(i,t.nextSibling):null===a||void 0===a||a.appendChild(i),i},Da=e=>_a(e)&&e.data[0]===va,Aa=e=>_a(e)&&e.data[e.data.length-1]===va,Ra=e=>{var t;const n=e.getElementsByTagName("br"),o=n[n.length-1];pi(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))},Pa=e=>e&&e.hasAttribute("data-mce-caret")?(Ra(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ia=e=>xa(e.startContainer),za=Ti,Na=Mi,La=ki,Ha=bi,Fa=ui(["script","style","textarea"]),Ba=ui(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ua=ui(["table"]),Va=Sa,ja=e=>!Va(e)&&(Ha(e)?!Fa(e.parentNode):Ba(e)||La(e)||Ua(e)||Za(e)),Wa=e=>li(e)&&"true"===e.getAttribute("unselectable"),Za=e=>!Wa(e)&&Na(e),$a=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Za(n))return!1;if(za(n))return!0}return!0},qa=e=>!!Za(e)&&!re(ye(e.getElementsByTagName("*")),((e,t)=>e||za(t)),!1),Ga=e=>Ba(e)||qa(e),Ka=(e,t)=>ja(e)&&$a(e,t),Ya=/^[ \t\r\n]*$/,Ja=e=>Ya.test(e),Xa=e=>{for(const t of e)if(!Li(t))return!1;return!0},Qa=e=>-1!==" \f\t\v".indexOf(e),es=e=>"\n"===e||"\r"===e,ts=(e,t)=>t<e.length&&t>=0&&es(e[t]),ns=(e,t=4,n=!0,o=!0)=>{const r=vt(" ",t),i=e.replace(/\t/g,r),a=re(i,((e,t)=>Qa(t)||t===Ni?e.pcIsSpace||""===e.str&&n||e.str.length===i.length-1&&o||ts(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+Ni}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:es(t),str:e.str+t}),{pcIsSpace:!1,str:""});return a.str},os=(e,t)=>{const n=go.fromDom(t),o=go.fromDom(e);return ri(o,"pre,code",L(xo,n))},rs=(e,t)=>bi(e)&&Ja(e.data)&&!os(e,t),is=e=>li(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),as=(e,t)=>ja(e)&&!rs(e,t)||is(e)||ss(e),ss=hi("data-mce-bookmark"),ls=hi("data-mce-bogus"),cs=mi("data-mce-bogus","all"),us=(e,t)=>{let n=0;if(as(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const r=new ii(o,e);do{if(t){if(cs(o)){o=r.next(!0);continue}if(ls(o)){o=r.next();continue}}if(ki(o))n++,o=r.next();else{if(as(o,e))return!1;o=r.next()}}while(o);return n<=1}},ds=(e,t=!0)=>us(e.dom,t),hs="data-mce-block",ms=e=>ne(_e(e),(e=>!/[A-Z]/.test(e))),ps=e=>ms(e).join(","),fs=(e,t)=>T(t.querySelector(e))?(t.setAttribute(hs,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(hs),!1),gs=(e,t)=>{const n=ps(e.getTransparentElements()),o=ps(e.getBlockElements());return ne(t.querySelectorAll(n),(e=>fs(o,e)))},vs=(e,t)=>{var n;const o=t?"lastChild":"firstChild";for(let r=e[o];r;r=r[o])if(ds(go.fromDom(r)))return void(null===(n=r.parentNode)||void 0===n||n.removeChild(r))},ys=(e,t)=>{const n=document.createRange(),o=e.parentNode;if(o){n.setStartBefore(e),n.setEndBefore(t);const r=n.extractContents();vs(r,!0),n.setStartAfter(t),n.setEndAfter(e);const i=n.extractContents();vs(i,!1),ds(go.fromDom(r))||o.insertBefore(r,e),ds(go.fromDom(t))||o.insertBefore(t,e),ds(go.fromDom(i))||o.insertBefore(i,e),o.removeChild(e)}},bs=(e,t,n)=>{const o=e.getBlockElements(),r=go.fromDom(t),i=e=>Rn(e)in o,a=e=>xo(e,r);Q(Ir(n),(t=>{tr(t,i,a).each((n=>{const o=ti(t,(t=>i(t)&&!e.isValidChild(Rn(n),Rn(t))));if(o.length>0){const t=Oo(n);Q(o,(e=>{tr(e,i,a).each((t=>{ys(t.dom,e.dom)}))})),t.each((t=>gs(e,t.dom)))}}))}))},ws=(e,t,n)=>{Q([...n,...Ts(e,t)?[t]:[]],(t=>Q(oi(go.fromDom(t),t.nodeName.toLowerCase()),(t=>{Ms(e,t.dom)&&Rr(t)}))))},_s=(e,t)=>{const n=gs(e,t);bs(e,t,n),ws(e,t,n)},xs=(e,t)=>{if(Es(e,t)){const n=ps(e.getBlockElements());fs(n,t)}},Cs=(e,t,n)=>{const o=e=>xo(e,go.fromDom(t)),r=Do(go.fromDom(n),o);fe(r,r.length-2).filter(Ln).fold((()=>_s(e,t)),(t=>_s(e,t.dom)))},Ss=e=>e.hasAttribute(hs),ks=(e,t)=>Pe(e.getTransparentElements(),t),Es=(e,t)=>li(t)&&ks(e,t.nodeName),Ts=(e,t)=>Es(e,t)&&Ss(t),Ms=(e,t)=>Es(e,t)&&!Ss(t),Os=(e,t)=>1===t.type&&ks(e,t.name)&&b(t.attr(hs)),Ds=(e,t)=>1===t.type&&ks(e,t.name)&&k(t.attr(hs)),As=Gt().browser,Rs=e=>ae(e,Ln),Ps=e=>As.isFirefox()&&"table"===Rn(e)?Rs(No(e)).filter((e=>"caption"===Rn(e))).bind((e=>Rs(zo(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,r=e.dom.offsetHeight;return n<=o?-r:0})))).getOr(0):0,Is=(e,t)=>e.children&&Y(e.children,t),zs=(e,t,n)=>{let o=0,r=0;const i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===vr(go.fromDom(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,r=n.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:o,y:r}}let a=t;while(a&&a!==n&&a.nodeType&&!Is(a,n)){const e=a;o+=e.offsetLeft||0,r+=e.offsetTop||0,a=e.offsetParent}a=t.parentNode;while(a&&a!==n&&a.nodeType&&!Is(a,n))o-=a.scrollLeft||0,r-=a.scrollTop||0,a=a.parentNode;r+=Ps(go.fromDom(t))}return{x:o,y:r}},Ns=(e,t={})=>{let n=0;const o={},r=go.fromDom(e),i=ko(r),a=e=>{t.referrerPolicy=e},s=e=>{t.contentCssCors=e},l=e=>{Er(qo(r),e)},c=e=>{const t=qo(r);sr(t,"#"+e).each(Ar)},u=e=>Re(o,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))),d=e=>new Promise(((n,r)=>{let a;const s=mn._addCacheSuffix(e),c=u(s);o[s]=c,c.count++;const d=(e,t)=>{Q(e,U),c.status=t,c.passed=[],c.failed=[],a&&(a.onload=null,a.onerror=null,a=null)},h=()=>d(c.passed,2),m=()=>d(c.failed,3);if(n&&c.passed.push(n),r&&c.failed.push(r),1===c.status)return;if(2===c.status)return void h();if(3===c.status)return void m();c.status=1;const p=go.fromTag("link",i.dom);Wn(p,{rel:"stylesheet",type:"text/css",id:c.id}),t.contentCssCors&&jn(p,"crossOrigin","anonymous"),t.referrerPolicy&&jn(p,"referrerpolicy",t.referrerPolicy),a=p.dom,a.onload=h,a.onerror=m,l(p),jn(p,"href",s)})),h=e=>{const t=Promise.allSettled(X(e,(e=>d(e).then(I(e)))));return t.then((e=>{const t=te(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(X(t.fail,(e=>e.reason))):X(t.pass,(e=>e.value))}))},m=e=>{const t=mn._addCacheSuffix(e);Re(o,t).each((e=>{const n=--e.count;0===n&&(delete o[t],c(e.id))}))},p=e=>{Q(e,(e=>{m(e)}))};return{load:d,loadAll:h,unload:m,unloadAll:p,_setReferrerPolicy:a,_setContentCssCors:s}},Ls=()=>{const e=new WeakMap,t=(t,n)=>{const o=$o(t),r=o.dom;return W.from(e.get(r)).getOrThunk((()=>{const t=Ns(r,n);return e.set(r,t),t}))};return{forElement:t}},Hs=Ls(),Fs=e=>"span"===e.nodeName.toLowerCase(),Bs=(e,t)=>T(e)&&(as(e,t)||na(go.fromDom(e))),Us=(e,t)=>{const n=new ii(e,t).prev(!1),o=new ii(e,t).next(!1),r=k(n)||Bs(n,t),i=k(o)||Bs(o,t);return r&&i},Vs=e=>Fs(e)&&"bookmark"===e.getAttribute("data-mce-type"),js=(e,t)=>bi(e)&&e.data.length>0&&Us(e,t),Ws=e=>!!li(e)&&e.childNodes.length>0,Zs=e=>Si(e)||Ci(e),$s=(e,t,n)=>{var o;const r=n||t;if(li(t)&&Vs(t))return t;const i=t.childNodes;for(let a=i.length-1;a>=0;a--)$s(e,i[a],r);if(li(t)){const e=t.childNodes;1===e.length&&Vs(e[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(e[0],t))}return Zs(t)||as(t,r)||Ws(t)||js(t,r)||e.remove(t),t},qs=mn.makeMap,Gs=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ks=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ys=/[<>&\"\']/g,Js=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Xs={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Qs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},el={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tl=e=>{const t=go.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},nl=(e,t)=>{const n={};if(e){const o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){const r=String.fromCharCode(parseInt(o[e],t));if(!Qs[r]){const t="&"+o[e+1]+";";n[r]=t,n[t]=r}}return n}},ol=nl("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),rl=(e,t)=>e.replace(t?Gs:Ks,(e=>Qs[e]||e)),il=e=>(""+e).replace(Ys,(e=>Qs[e]||e)),al=(e,t)=>e.replace(t?Gs:Ks,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Qs[e]||"&#"+e.charCodeAt(0)+";")),sl=(e,t,n)=>{const o=n||ol;return e.replace(t?Gs:Ks,(e=>Qs[e]||o[e]||e))},ll=(e,t)=>{const n=nl(t)||ol,o=(e,t)=>e.replace(t?Gs:Ks,(e=>void 0!==Qs[e]?Qs[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),r=(e,t)=>sl(e,t,n),i=qs(e.replace(/\+/g,","));return i.named&&i.numeric?o:i.named?t?r:sl:i.numeric?al:rl},cl=e=>e.replace(Js,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Xs[t]||String.fromCharCode(t)):el[e]||ol[e]||tl(e))),ul={encodeRaw:rl,encodeAllRaw:il,encodeNumeric:al,encodeNamed:sl,getEncodeFunc:ll,decode:cl},dl={},hl={},ml={},pl=mn.makeMap,fl=mn.each,gl=mn.extend,vl=mn.explode,yl=mn.inArray,bl=(e,t)=>(e=mn.trim(e),e?e.split(t||" "):[]),wl=(e,t={})=>{const n=pl(e," ",pl(e.toUpperCase()," "));return gl(n,t)},_l=e=>wl("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),xl=e=>{const t={};let n,o,r,i;const a=(e,o="",r="")=>{const i=bl(r),a=bl(e);let s=a.length;while(s--){const e=bl([n,o].join(" "));t[a[s]]={attributes:me(e,(()=>({}))),attributesOrder:e,children:me(i,I(ml))}}},s=(e,n)=>{const o=bl(e),r=bl(n);let i=o.length;while(i--){const e=t[o[i]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};if(dl[e])return dl[e];if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e){const e="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+e,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if("html5-strict"!==e){n+=" xml:lang";const e="acronym applet basefont big font strike tt";r=[r,e].join(" "),fl(bl(e),(e=>{a(e,"",r)}));const t="center dir isindex noframes";o=[o,t].join(" "),i=[o,r].join(" "),fl(bl(t),(e=>{a(e,"",i)}))}return i=i||[o,r].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),a("dd div","",i),a("address dt caption","","html4"===e?r:i),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),a("blockquote","cite",i),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",i),a("dl","","dt dd"),a("a","href target rel media hreflang type","html4"===e?r:i),a("q","cite",r),a("ins del","cite datetime",i),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",i),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),a("param","name value"),a("map","name",[i,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",i),a("th","colspan rowspan headers scope abbr",i),a("form","accept-charset action autocomplete enctype method name novalidate target",i),a("fieldset","disabled form name",[i,"legend"].join(" ")),a("label","form for",r),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[i,"li"].join(" ")),a("noscript","",i),"html4"!==e&&(a("wbr"),a("ruby","",[r,"rt rp"].join(" ")),a("figcaption","",i),a("mark rt rp summary bdi","",r),a("canvas","width height",i),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[r,"option"].join(" ")),a("article section nav aside main header footer","",i),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[i,"figcaption"].join(" ")),a("time","datetime",r),a("dialog","open",i),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",r),a("progress","value max",r),a("meter","value min max low high optimum",r),a("details","open",[i,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("img","loading"),s("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&Q([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),fl(bl("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,dl[e]=t,t},Cl=(e,t)=>{if(e){const n={};return b(e)&&(e={"*":e}),fl(e,((e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?pl(e,/[, ]/):vl(e,/[, ]/)})),n}},Sl=(e={})=>{var t;const n={},o={};let r=[];const i={},a={},s=(t,n,o)=>{const r=e[t];if(r)return pl(r,/[, ]/,pl(r.toUpperCase(),/[, ]/));{let e=hl[t];return e||(e=wl(n,o),hl[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=xl(l);!1===e.verify_html&&(e.valid_elements="*[*]");const u=Cl(e.valid_styles),d=Cl(e.invalid_styles,"map"),h=Cl(e.valid_classes,"map"),m=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=s("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",y=s("non_empty_elements",v+" pre",f),b=s("move_caret_before_on_enter_elements",v+" table",f),w=s("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),x=s("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),C=s("transparent_elements","a ins del canvas map");fl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{a[e]=new RegExp("</"+e+"[^>]*>","gi")}));const S=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),k=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const a=bl(e,",");let s,l;n["@"]&&(s=n["@"].attributes,l=n["@"].attributesOrder);for(let e=0,c=a.length;e<c;e++){let c=t.exec(a[e]);if(c){const e=c[1],t=c[2],a=c[3],u=c[5],d={},h=[],m={attributes:d,attributesOrder:h};if("#"===e&&(m.paddEmpty=!0),"-"===e&&(m.removeEmpty=!0),"!"===c[4]&&(m.removeEmptyAttrs=!0),s&&(Ce(s,((e,t)=>{d[t]=e})),l&&h.push(...l)),u){const e=bl(u,"|");for(let t=0,n=e.length;t<n;t++)if(c=o.exec(e[t]),c){const e={},t=c[1],n=c[2].replace(/[\\:]:/g,":"),o=c[3],r=c[4];if("!"===t&&(m.attributesRequired=m.attributesRequired||[],m.attributesRequired.push(n),e.required=!0),"-"===t){delete d[n],h.splice(yl(h,n),1);continue}if(o&&("="===o&&(m.attributesDefault=m.attributesDefault||[],m.attributesDefault.push({name:n,value:r}),e.defaultValue=r),"~"===o&&(m.attributesForced=m.attributesForced||[],m.attributesForced.push({name:n,value:r}),e.forcedValue=r),"<"===o&&(e.validValues=pl(r,"?"))),i.test(n)){const t=e;m.attributePatterns=m.attributePatterns||[],t.pattern=S(n),m.attributePatterns.push(t)}else d[n]||h.push(n),d[n]=e}}if(s||"@"!==t||(s=d,l=h),a&&(m.outputName=t,n[a]=m),i.test(t)){const e=m;e.pattern=S(t),r.push(e)}else n[t]=m}}}},E=e=>{r=[],Q(_e(n),(e=>{delete n[e]})),k(e),fl(c,((e,t)=>{o[t]=e.children}))},T=e=>{const t=/^(~)?(.+)$/;e&&(delete hl.text_block_elements,delete hl.block_elements,fl(bl(e,","),(e=>{const r=t.exec(e);if(r){const e="~"===r[1],t=e?"span":"div",a=r[2];if(o[a]=o[t],i[a]=t,y[a.toUpperCase()]={},y[a]={},e||(_[a.toUpperCase()]={},_[a]={}),!n[a]){let e=n[t];e=gl({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[a]=e}fl(o,((e,n)=>{e[t]&&(o[n]=e=gl({},o[n]),e[a]=e[t])}))}})))},M=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete dl[l],e&&fl(bl(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1];let t;t=e?o[n[2]]:o[n[2]]={"#comment":{}},t=o[n[2]],fl(bl(n[3],"|"),(n=>{"-"===e?delete t[n]:t[n]={}}))}}))},O=e=>{const t=n[e];if(t)return t;let o=r.length;while(o--){const t=r[o];if(t.pattern.test(e))return t}};e.valid_elements?E(e.valid_elements):(fl(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),fl(bl("strong/b em/i"),(e=>{const t=bl(e,"/");n[t[1]].outputName=t[0]})),fl(x,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),fl(bl("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),fl(bl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),(e=>{n[e]&&(n[e].paddEmpty=!0)})),fl(bl("span"),(e=>{n[e].removeEmptyAttrs=!0}))),T(e.custom_elements),M(e.valid_children),k(e.extended_valid_elements),M("+ol[ul|ol],+ul[ul|ol]"),fl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=bl(e))})),e.invalid_elements&&fl(vl(e.invalid_elements),(e=>{n[e]&&delete n[e]})),O("span")||k("span[!data-mce-type|*]");const D=I(u),A=I(d),R=I(h),P=I(g),z=I(_),N=I(w),L=I(x),H=I(Object.seal(f)),F=I(p),B=I(y),U=I(b),V=I(m),j=I(C),W=I(Object.seal(a)),Z=(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},$=(e,t)=>{const n=O(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;while(n--)if(e[n].pattern.test(t))return!0}}}return!1},q=I(i);return{type:l,children:o,elements:n,getValidStyles:D,getValidClasses:R,getBlockElements:z,getInvalidStyles:A,getVoidElements:H,getTextBlockElements:N,getTextInlineElements:L,getBoolAttrs:P,getElementRule:O,getSelfClosingElements:F,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:U,getWhitespaceElements:V,getTransparentElements:j,getSpecialElements:W,isValidChild:Z,isValid:$,getCustomElements:q,addValidElements:k,setValidElements:E,addCustomElements:T,addValidChildren:M}},kl=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,i={};let a,s;const l=zi;t&&(a=t.getValidStyles(),s=t.getInvalidStyles());const c=("\\\" \\' \\; \\: ; : "+l).split(" ");for(let d=0;d<c.length;d++)i[c[d]]=l+d,i[l+d]=c[d];const u={parse:t=>{const a={};let s=!1;const c=e.url_converter,d=e.url_converter_scope||u,h=(e,t,n)=>{const o=a[e+"-top"+t];if(!o)return;const r=a[e+"-right"+t];if(!r)return;const i=a[e+"-bottom"+t];if(!i)return;const s=a[e+"-left"+t];if(!s)return;const l=[o,r,i,s];let c=l.length-1;while(c--)if(l[c]!==l[c+1])break;c>-1&&n||(a[e+t]=-1===c?l[0]:l.join(" "),delete a[e+"-top"+t],delete a[e+"-right"+t],delete a[e+"-bottom"+t],delete a[e+"-left"+t])},m=e=>{const t=a[e];if(!t)return;const n=t.split(" ");let o=n.length;while(o--)if(n[o]!==n[0])return!1;return a[e]=n[0],!0},p=(e,t,n,o)=>{m(t)&&m(n)&&m(o)&&(a[e]=a[t]+" "+a[n]+" "+a[o],delete a[t],delete a[n],delete a[o])},f=e=>(s=!0,i[e]),g=(e,t)=>(s&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),v=e=>String.fromCharCode(parseInt(e.slice(1),16)),y=e=>e.replace(/\\[0-9a-f]+/gi,v),b=(t,n,o,r,i,a)=>{if(i=i||a,i)return i=g(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=g(n||o||r||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(n=c.call(d,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let i;t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,f).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,f)));while(i=o.exec(t)){o.lastIndex=i.index+i[0].length;let t=i[1].replace(r,"").toLowerCase(),c=i[2].replace(r,"");if(t&&c){if(t=y(t),c=y(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),c=c.replace(n,b),a[t]=s?g(c,!0):c}}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),p("border","border-width","border-style","border-color"),"medium none"===a.border&&delete a.border,"none"===a["border-image"]&&delete a["border-image"]}return a},serialize:(e,t)=>{let n="";const o=(t,o)=>{const r=o[t];if(r)for(let i=0,a=r.length;i<a;i++){const t=r[i],o=e[t];o&&(n+=(n.length>0?" ":"")+t+": "+o+";")}},r=(e,t)=>{if(!s||!t)return!0;let n=s["*"];return(!n||!n[e])&&(n=s[t],!(n&&n[e]))};return t&&a?(o("*",a),o(t,a)):Ce(e,((e,o)=>{e&&r(o,t)&&(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return u},El={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Tl=e=>e instanceof Event||M(e.initEvent),Ml=e=>e.isDefaultPrevented===j||e.isDefaultPrevented===V,Ol=e=>E(e.preventDefault)||Tl(e),Dl=(e,t)=>{const n=null!==t&&void 0!==t?t:{};for(const o in e)Pe(El,o)||(n[o]=e[o]);return T(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Al=(e,t,n,o)=>{var r;const i=Dl(t,o);return i.type=e,E(i.target)&&(i.target=null!==(r=i.srcElement)&&void 0!==r?r:n),Ol(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=j,M(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=j,M(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=j,i.stopPropagation()},Ml(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?j:V,i.isPropagationStopped=!0===i.cancelBubble?j:V,i.isImmediatePropagationStopped=V)),i},Rl="mce-data-",Pl=/^(?:mouse|contextmenu)|click/,Il=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},zl=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},Nl=e=>T(e)&&Pl.test(e.type),Ll=(e,t)=>{const n=Al(e.type,e,document,t);if(Nl(e)&&k(e.pageX)&&!k(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,r=t.body,i=n;i.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},Hl=(e,t,n)=>{const o=e.document,r={type:"ready"};if(n.domLoaded)return void t(r);const i=()=>"complete"===o.readyState||"interactive"===o.readyState&&o.body,a=()=>{zl(e,"DOMContentLoaded",a),zl(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};i()?a():Il(e,"DOMContentLoaded",a),n.domLoaded||Il(e,"load",a)};class Fl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Rl+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const r=this;let i;const a=window,s=e=>{r.executeHandlers(Ll(e||a.event),l)};if(!e||bi(e)||xi(e))return n;let l;e[r.expando]?l=e[r.expando]:(l=r.count++,e[r.expando]=l,r.events[l]={}),o=o||e;const c=t.split(" ");let u=c.length;while(u--){let t=c[u],d=s,h=!1,m=!1;"DOMContentLoaded"===t&&(t="ready"),r.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(o,Ll({type:t})):(r.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,m="focusin"===t?"focus":"blur",d=e=>{const t=Ll(e||a.event);t.type="focus"===t.type?"focusin":"focusout",r.executeHandlers(t,l)}),i=r.events[l][t],i?"ready"===t&&r.domLoaded?n(Ll({type:t})):i.push({func:n,scope:o}):(r.events[l][t]=i=[{func:n,scope:o}],i.fakeName=m,i.capture=h,i.nativeHandler=d,"ready"===t?Hl(e,d,r):Il(e,m||t,d,h)))}return e=i=null,n}unbind(e,t,n){if(!e||bi(e)||xi(e))return this;const o=e[this.expando];if(o){let i=this.events[o];if(t){const o=t.split(" ");let r=o.length;while(r--){const t=o[r],a=i[t];if(a){if(n){let e=a.length;while(e--)if(a[e].func===n){const n=a.nativeHandler,o=a.fakeName,r=a.capture,s=a.slice(0,e).concat(a.slice(e+1));s.nativeHandler=n,s.fakeName=o,s.capture=r,i[t]=s}}n&&0!==a.length||(delete i[t],zl(e,a.fakeName||t,a.nativeHandler,a.capture))}}}else Ce(i,((t,n)=>{zl(e,t.fakeName||n,t.nativeHandler,t.capture)})),i={};for(const e in i)if(Pe(i,e))return this;delete this.events[o];try{delete e[this.expando]}catch(r){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||bi(e)||xi(e))return this;const o=Ll({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||bi(e)||xi(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;while(n--)e=t[n],e[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let r=0,i=o.length;r<i;r++){const t=o[r];if(t&&!1===t.func.call(t.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Fl.Event=new Fl;const Bl=mn.each,Ul=mn.grep,Vl="data-mce-style",jl=mn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Wl=(e,t,n)=>{E(n)||""===n?Gn(e,t):jn(e,t,n)},Zl=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),$l=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const e=r.nodeType;(!t||!bi(r)||e!==o&&r.data.length)&&(n++,o=e)}return n},ql=(e,t)=>{const n=Zn(t,"style"),o=e.serialize(e.parse(n),Rn(t));Wl(t,Vl,o)},Gl=(e,t)=>O(e)?Pe(jl,t)?e+"":e+"px":e,Kl=(e,t,n)=>{const o=Zl(t);E(n)||""===n?_r(e,o):fr(e,o,Gl(n,o))},Yl=(e,t,n)=>{const o=t.keep_values,r={set:(e,o,r)=>{const i=go.fromDom(e);M(t.url_converter)&&T(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),r,e));const a="data-mce-"+r;Wl(i,a,o),Wl(i,r,o)},get:(e,t)=>{const n=go.fromDom(e);return Zn(n,"data-mce-"+t)||Zn(n,t)}},i={style:{set:(t,n)=>{const r=go.fromDom(t);o&&Wl(r,Vl,n),Gn(r,"style"),b(n)&&gr(r,e.parse(n))},get:t=>{const n=go.fromDom(t),o=Zn(n,Vl)||Zn(n,"style");return e.serialize(e.parse(o),Rn(n))}}};return o&&(i.href=i.src=r),i},Jl=(e,t={})=>{const n={},o=window,r={};let i=0;const a=!0,s=!0,l=Hs.forElement(go.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],u=t.schema?t.schema:Sl({}),d=kl({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new Fl:Fl.Event,m=u.getBlockElements(),p=e=>b(e)?Pe(m,e):li(e)&&(Pe(m,e.nodeName)||Ts(u,e)),f=t=>t&&e&&b(t)?e.getElementById(t):t,g=e=>{const t=f(e);return T(t)?go.fromDom(t):null},v=(e,t,n="")=>{let o;const r=g(e);if(T(r)&&Ln(r)){const e=Ue[t];o=e&&e.get?e.get(r.dom,t):Zn(r,t)}return T(o)?o:n},y=e=>{const t=f(e);return E(t)?[]:t.attributes},w=(e,n,o)=>{W(e,(e=>{if(li(e)){const r=go.fromDom(e),i=""===o?null:o,a=Zn(r,n),s=Ue[n];s&&s.set?s.set(r.dom,i,n):Wl(r,n,i),a!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:r.dom,attrName:n,attrValue:i})}}))},_=(e,t)=>e.cloneNode(t),C=()=>t.root_element||e.body,S=e=>{const t=ei(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},k=(t,n)=>zs(e.body,f(t),n),O=(e,n,o)=>{W(e,(e=>{const r=go.fromDom(e);Kl(r,n,o),t.update_styles&&ql(d,r)}))},D=(e,n)=>{W(e,(e=>{const o=go.fromDom(e);Ce(n,((e,t)=>{Kl(o,t,e)})),t.update_styles&&ql(d,o)}))},R=(e,t,n)=>{const o=f(e);if(!E(o)&&li(o))return n?vr(go.fromDom(o),Zl(t)):(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())),"float"===t&&(t="cssFloat"),o.style?o.style[t]:void 0)},P=e=>{const t=f(e);if(!t)return{w:0,h:0};let n=R(t,"width"),o=R(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},z=e=>{const t=f(e),n=k(t),o=P(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},N=(e,t)=>{if(!e)return!1;const n=x(e)?e:[e];return J(n,(e=>yo(go.fromDom(e),t)))},L=(e,t,n,o)=>{const r=[];let i=f(e);o=void 0===o;const a=n||("BODY"!==C().nodeName?C().parentNode:null);if(b(t))if("*"===t)t=li;else{const e=t;t=t=>N(t,e)}while(i){if(i===a||E(i.nodeType)||Ci(i)||Si(i))break;if(!t||t(i)){if(!o)return[i];r.push(i)}i=i.parentNode}return o?r:null},H=(e,t,n)=>{const o=L(e,t,n,!1);return o&&o.length>0?o[0]:null},F=(e,t,n)=>{let o=t;if(e){b(t)&&(o=e=>N(e,t));for(let t=e[n];t;t=t[n])if(M(o)&&o(t))return t}return null},B=(e,t)=>F(e,t,"nextSibling"),U=(e,t)=>F(e,t,"previousSibling"),V=e=>M(e.querySelectorAll),j=(n,o)=>{var r,i;const a=null!==(i=null!==(r=f(o))&&void 0!==r?r:t.root_element)&&void 0!==i?i:e;return V(a)?ye(a.querySelectorAll(n)):[]},W=function(e,t,n){const o=null!==n&&void 0!==n?n:this;if(x(e)){const n=[];return Bl(e,((e,r)=>{const i=f(e);i&&n.push(t.call(o,i,r))})),n}{const n=f(e);return!!n&&t.call(o,n)}},Z=(e,t)=>{W(e,(e=>{Ce(t,((t,n)=>{w(e,n,t)}))}))},$=(e,t)=>{W(e,(e=>{const n=go.fromDom(e);Nr(n,t)}))},q=(t,n,o,r,i)=>W(t,(t=>{const a=b(n)?e.createElement(n):n;return T(o)&&Z(a,o),r&&(!b(r)&&r.nodeType?a.appendChild(r):b(r)&&$(a,r)),i?a:t.appendChild(a)})),G=(t,n,o)=>q(e.createElement(t),t,n,o,!0),K=ul.decode,Y=ul.encodeAllRaw,X=(e,t,n="")=>{let o="<"+e;for(const r in t)Ie(t,r)&&(o+=" "+r+'="'+Y(t[r])+'"');return gt(n)&&Pe(u.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},ee=t=>{const n=e.createElement("div"),o=e.createDocumentFragment();let r;o.appendChild(n),t&&(n.innerHTML=t);while(r=n.firstChild)o.appendChild(r);return o.removeChild(n),o},te=(e,t)=>W(e,(e=>{const n=go.fromDom(e);return t&&Q(No(n),(e=>{Hn(e)&&0===e.dom.length?Ar(e):Cr(n,e)})),Ar(n),n.dom})),ne=e=>W(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),oe=e=>d.parse(e),re=(e,t)=>d.serialize(e,t),ie=t=>{if(Be!==Jl.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},ae=e=>{e||(e=""),Q(e.split(","),(e=>{r[e]=!0,l.load(e).catch(A)}))},se=(e,t,n)=>{W(e,(e=>{if(li(e)){const o=go.fromDom(e),r=t.split(" ");Q(r,(e=>{if(T(n)){const t=n?io:so;t(o,e)}else lo(o,e)}))}}))},le=(e,t)=>{se(e,t,!0)},ce=(e,t)=>{se(e,t,!1)},de=(e,t)=>{const n=g(e),o=t.split(" ");return T(n)&&ue(o,(e=>co(n,e)))},he=e=>{W(e,(e=>_r(go.fromDom(e),"display")))},me=e=>{W(e,(e=>fr(go.fromDom(e),"display","none")))},pe=e=>{const t=g(e);return T(t)&&pn(br(t,"display"),"none")},fe=e=>(e||"mce_")+i++,ge=e=>{const t=g(e);return T(t)?li(t.dom)?t.dom.outerHTML:Lr(t):""},ve=(e,t)=>{W(e,(e=>{li(e)&&(e.outerHTML=t)}))},be=(e,t)=>{const n=f(t);return W(e,(e=>{const t=null===n||void 0===n?void 0:n.parentNode,o=null===n||void 0===n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e}))},we=(e,t,n)=>W(t,(o=>{var r;const i=x(t)?e.cloneNode(!0):e;return n&&Bl(Ul(o.childNodes),(e=>{i.appendChild(e)})),null===(r=o.parentNode)||void 0===r||r.replaceChild(i,o),o})),_e=(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=G(t);return Bl(y(e),(t=>{w(n,t.nodeName,v(e,t.nodeName))})),we(n,e,!0),n}return e},xe=(e,t)=>{let n=e;while(n){let e=t;while(e&&n!==e)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},Se=e=>{if(li(e)){const t="a"===e.nodeName.toLowerCase()&&!v(e,"href")&&v(e,"id");if(v(e,"name")||v(e,"data-mce-bookmark")||t)return!0}return!1},ke=(e,t,n)=>{let o=0;if(Se(e))return!1;const r=e.firstChild;if(r){const i=new ii(r,e),a=u?u.getWhitespaceElements():{},s=t||(u?u.getNonEmptyElements():null);let l=r;do{if(li(l)){const e=l.getAttribute("data-mce-bogus");if(e){l=i.next("all"===e);continue}const t=l.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){o++,l=i.next();continue}return!1}if(Se(l))return!1}if(xi(l))return!1;if(bi(l)&&!Ja(l.data)&&(!(null===n||void 0===n?void 0:n.includeZwsp)||!Xa(l.data)))return!1;if(bi(l)&&l.parentNode&&a[l.parentNode.nodeName]&&Ja(l.data))return!1;l=i.next()}while(l)}return o<=1},Ee=()=>e.createRange(),Te=(e,t,n)=>{let o,r,i=Ee();if(e&&t&&e.parentNode&&t.parentNode){const a=e.parentNode;return i.setStart(a,$l(e)),i.setEnd(t.parentNode,$l(t)),o=i.extractContents(),i=Ee(),i.setStart(t.parentNode,$l(t)+1),i.setEnd(a,$l(e)+1),r=i.extractContents(),a.insertBefore($s(Be,o),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore($s(Be,r),e),te(e),n||t}},Me=(n,r,i,a)=>{if(x(n)){let e=n.length;const t=[];while(e--)t[e]=Me(n[e],r,i,a);return t}return!t.collect||n!==e&&n!==o||c.push([n,r,i,a]),h.bind(n,r,i,a||Be)},Oe=(t,n,r)=>{if(x(t)){let e=t.length;const o=[];while(e--)o[e]=Oe(t[e],n,r);return o}if(c.length>0&&(t===e||t===o)){let e=c.length;while(e--){const[o,i,a]=c[e];t!==o||n&&n!==i||r&&r!==a||h.unbind(o,i,a)}}return h.unbind(t,n,r)},De=(e,t,n)=>h.dispatch(e,t,n),Ae=(e,t,n)=>h.dispatch(e,t,n),Re=e=>{if(e&&li(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},ze=e=>{const t=C();let n=null;for(let o=e;o&&o!==t;o=o.parentNode)if(n=Re(o),null!==n)break;return n},Ne=e=>{if(T(e)){const t=li(e)?e:e.parentElement;return T(t)&&ur(go.fromDom(t))}return!1},Le=()=>{if(c.length>0){let e=c.length;while(e--){const[t,n,o]=c[e];h.unbind(t,n,o)}}Ce(r,((e,t)=>{l.unload(t),delete r[t]}))},He=(e,t)=>e===t||t.contains(e),Fe=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset,Be={doc:e,settings:t,win:o,files:r,stdMode:a,boxModel:s,styleSheetLoader:l,boundEvents:c,styles:d,schema:u,events:h,isBlock:p,root:null,clone:_,getRoot:C,getViewPort:S,getRect:z,getSize:P,getParent:H,getParents:L,get:f,getNext:B,getPrev:U,select:j,is:N,add:q,create:G,createHTML:X,createFragment:ee,remove:te,setStyle:O,getStyle:R,setStyles:D,removeAllAttribs:ne,setAttrib:w,setAttribs:Z,getAttrib:v,getPos:k,parseStyle:oe,serializeStyle:re,addStyle:ie,loadCSS:ae,addClass:le,removeClass:ce,hasClass:de,toggleClass:se,show:he,hide:me,isHidden:pe,uniqueId:fe,setHTML:$,getOuterHTML:ge,setOuterHTML:ve,decode:K,encode:Y,insertAfter:be,replace:we,rename:_e,findCommonAncestor:xe,run:W,getAttribs:y,isEmpty:ke,createRng:Ee,nodeIndex:$l,split:Te,bind:Me,unbind:Oe,fire:Ae,dispatch:De,getContentEditable:Re,getContentEditableParent:ze,isEditable:Ne,destroy:Le,isChildOf:He,dumpRng:Fe},Ue=Yl(d,t,I(Be));return Be};Jl.DOM=Jl(document),Jl.nodeIndex=$l;const Xl=Jl.DOM,Ql=0,ec=1,tc=2,nc=3;class oc{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=Xl;let r;const i=()=>{o.remove(l),r&&(r.onerror=r.onload=r=null)},a=()=>{i(),t()},s=()=>{i(),n("Failed to load script: "+e)},l=o.uniqueId();r=document.createElement("script"),r.id=l,r.type="text/javascript",r.src=mn._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}))}isDone(e){return this.states[e]===tc}markDone(e){this.states[e]=tc}add(e){const t=this;t.queue.push(e);const n=t.states[e];return void 0===n&&(t.states[e]=Ql),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Re(t.scriptLoadedCallbacks,n).each((t=>{Q(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=ne(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(ce(t,(({reason:e})=>x(e)?e:[e]))):Promise.resolve()},r=e=>Promise.allSettled(X(e,(e=>t.states[e]===tc?(n("resolve",e),Promise.resolve()):t.states[e]===nc?(n("reject",e),Promise.reject(e)):(t.states[e]=ec,t.loadScript(e).then((()=>{t.states[e]=tc,n("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],r(i).then(o)):Promise.resolve()}),(()=>(t.states[e]=nc,n("reject",e),Promise.reject(e)))))))),i=e=>(t.loading=!0,r(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return W.from(n).each(U),o(e)}))),a=Ne(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>{i(a).then(e,n)}))})):i(a)}}oc.ScriptLoader=new oc;const rc=e=>{let t=e;const n=()=>t,o=e=>{t=e};return{get:n,set:o}},ic=e=>w(e)&&Pe(e,"raw"),ac=e=>x(e)&&e.length>1,sc={},lc=rc("en"),cc=()=>Re(sc,lc.get()),uc=()=>Se(sc,(e=>({...e}))),dc=e=>{e&&lc.set(e)},hc=()=>lc.get(),mc=(e,t)=>{let n=sc[e];n||(sc[e]=n={}),Ce(t,((e,t)=>{n[t.toLowerCase()]=e}))},pc=e=>{const t=cc().getOr({}),n=e=>M(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null===e||void 0===e,r=e=>{const o=n(e);return Re(t,o.toLowerCase()).map(n).getOr(o)},i=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(ic(e))return n(e.raw);if(ac(e)){const t=e.slice(1),o=r(e[0]).replace(/\{([0-9]+)\}/g,((e,o)=>Pe(t,o)?n(t[o]):e));return i(o)}return i(r(e))},fc=()=>cc().bind((e=>Re(e,"_dir"))).exists((e=>"rtl"===e)),gc=e=>Pe(sc,e),vc={getData:uc,setCode:dc,getCode:hc,add:mc,translate:pc,isRtl:fc,hasCode:gc},yc=()=>{const e=[],t={},n={},o=[],r=(e,t)=>{const n=ne(o,(n=>n.name===e&&n.state===t));Q(n,(e=>e.resolve()))},i=e=>Pe(t,e),a=e=>Pe(n,e),s=e=>{if(n[e])return n[e].instance},l=(e,n)=>{const o=vc.getCode(),r=","+(n||"")+",";!o||n&&-1===r.indexOf(","+o+",")||oc.ScriptLoader.add(t[e]+"/langs/"+o+".js")},c=(e,t)=>{!1!==yc.languageLoad&&(i(e)?l(e,t):p(e,"loaded").then((()=>l(e,t))))},u=(t,o)=>(e.push(o),n[t]={instance:o},r(t,"added"),o),d=e=>{delete t[e],delete n[e]},h=(e,t)=>b(t)?b(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,m=(e,o)=>{if(t[e])return Promise.resolve();let i=b(o)?o:o.prefix+o.resource+o.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=yc.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const a=()=>(r(e,"loaded"),Promise.resolve());return n[e]?a():oc.ScriptLoader.add(i).then(a)},p=(e,t="added")=>"added"===t&&a(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:s,requireLangPack:c,add:u,remove:d,createUrl:h,load:m,waitFor:p}};yc.languageLoad=!0,yc.baseURL="",yc.PluginManager=yc(),yc.ThemeManager=yc(),yc.ModelManager=yc();const bc=e=>{const t=rc(W.none()),n=()=>t.get().each(e),o=()=>{n(),t.set(W.none())},r=()=>t.get().isSome(),i=()=>t.get(),a=e=>{n(),t.set(W.some(e))};return{clear:o,isSet:r,get:i,set:a}},wc=e=>{const t=rc(W.none()),n=()=>t.get().each((e=>clearInterval(e))),o=()=>{n(),t.set(W.none())},r=()=>t.get().isSome(),i=()=>t.get(),a=o=>{n(),t.set(W.some(setInterval(o,e)))};return{clear:o,isSet:r,get:i,set:a}},_c=()=>{const e=bc(A),t=t=>e.get().each(t);return{...e,on:t}},xc=(e,t)=>{let n=null;const o=()=>{C(n)||(clearTimeout(n),n=null)},r=(...o)=>{C(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))};return{cancel:o,throttle:r}},Cc=(e,t)=>{let n=null;const o=()=>{C(n)||(clearTimeout(n),n=null)},r=(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)};return{cancel:o,throttle:r}},Sc=I("mce-annotation"),kc=I("data-mce-annotation"),Ec=I("data-mce-annotation-uid"),Tc=I("data-mce-annotation-active"),Mc=I("data-mce-annotation-classes"),Oc=I("data-mce-annotation-attrs"),Dc=e=>t=>xo(t,e),Ac=(e,t)=>{const n=e.selection.getRng(),o=go.fromDom(n.startContainer),r=go.fromDom(e.getBody()),i=t.fold((()=>"."+Sc()),(e=>`[${kc()}="${e}"]`)),a=Lo(o,n.startOffset).getOr(o),s=lr(a,i,Dc(r));return s.bind((t=>$n(t,`${Ec()}`).bind((n=>$n(t,`${kc()}`).map((t=>{const o=Ic(e,n);return{uid:n,name:t,elements:o}}))))))},Rc=e=>Ln(e)&&co(e,Sc()),Pc=(e,t)=>qn(e,"data-mce-bogus")||ri(e,'[data-mce-bogus="all"]',Dc(t)),Ic=(e,t)=>{const n=go.fromDom(e.getBody()),o=oi(n,`[${Ec()}="${t}"]`);return ne(o,(e=>!Pc(e,n)))},zc=(e,t)=>{const n=go.fromDom(e.getBody()),o=oi(n,`[${kc()}="${t}"]`),r={};return Q(o,(e=>{if(!Pc(e,n)){const t=Zn(e,Ec()),n=Re(r,t).getOr([]);r[t]=n.concat([e])}})),r},Nc=(e,t)=>{const n=rc({}),o=()=>({listeners:[],previous:_c()}),r=(e,t)=>{i(e,(e=>(t(e),e)))},i=(e,t)=>{const r=n.get(),i=Re(r,e).getOrThunk(o),a=t(i);r[e]=a,n.set(r)},a=(e,t,n)=>{r(e,(o=>{Q(o.listeners,(o=>o(!0,e,{uid:t,nodes:X(n,(e=>e.dom))})))}))},s=e=>{r(e,(t=>{Q(t.listeners,(t=>t(!1,e)))}))},l=(t,n)=>{Q(Ic(e,t),(e=>{n?jn(e,Tc(),"true"):Gn(e,Tc())}))},c=Cc((()=>{const n=pe(t.getNames());Q(n,(t=>{i(t,(n=>{const o=n.previous.get();return Ac(e,W.some(t)).fold((()=>{o.each((e=>{s(t),n.previous.clear(),l(e,!1)}))}),(({uid:e,name:t,elements:r})=>{pn(o,e)||(o.each((e=>l(e,!1))),a(t,e,r),n.previous.set(e),l(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{c.cancel()})),e.on("NodeChange",(()=>{c.throttle()}));const u=(e,t)=>{i(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))};return{addListener:u}},Lc=(e,t)=>{const n=kc(),o=e=>W.from(e.attr(n)).bind(t.lookup),r=e=>{var t,n;e.attr(Ec(),null),e.attr(kc(),null),e.attr(Tc(),null);const o=W.from(e.attr(Oc())).map((e=>e.split(","))).getOr([]),r=W.from(e.attr(Mc())).map((e=>e.split(","))).getOr([]);Q(o,(t=>e.attr(t,null)));const i=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],a=he(i,[Sc()].concat(r));e.attr("class",a.length>0?a.join(" "):null),e.attr(Mc(),null),e.attr(Oc(),null)};e.serializer.addTempAttr(Tc()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():r(t))}))}))},Hc=()=>{const e={},t=(t,n)=>{e[t]={name:t,settings:n}},n=t=>Re(e,t).map((e=>e.settings)),o=()=>_e(e);return{register:t,lookup:n,getNames:o}};let Fc=0;const Bc=e=>{const t=new Date,n=t.getTime(),o=Math.floor(1e9*Math.random());return Fc++,e+"_"+o+Fc+String(n)},Uc=(e,t)=>{Q(t,(t=>{io(e,t)}))},Vc=(e,t)=>{Q(t,(t=>{so(e,t)}))},jc=(e,t)=>go.fromDom(e.dom.cloneNode(t)),Wc=e=>jc(e,!1),Zc=e=>jc(e,!0),$c=(e,t)=>{const n=go.fromTag(t),o=Yn(e);return Wn(n,o),n},qc=(e,t)=>{const n=$c(e,t);Sr(e,n);const o=No(e);return Or(n,o),Ar(e),n},Gc=(e,t,n=V)=>{const o=new ii(e,t),r=e=>{let t;do{t=o[e]()}while(t&&!bi(t)&&!n(t));return W.from(t).filter(bi)};return{current:()=>W.from(o.current()).filter(bi),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},Kc=(e,t)=>{const n=t||(t=>e.isBlock(t)||ki(t)||Mi(t)),o=(e,t,n,r)=>{if(bi(e)){const n=r(e,t,e.data);if(-1!==n)return W.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,r)))},r=(t,r,i,a)=>{const s=Gc(t,null!==a&&void 0!==a?a:e.getRoot(),n);return o(t,r,(()=>s.prev().map((e=>({container:e,offset:e.length})))),i).getOrNull()},i=(t,r,i,a)=>{const s=Gc(t,null!==a&&void 0!==a?a:e.getRoot(),n);return o(t,r,(()=>s.next().map((e=>({container:e,offset:0})))),i).getOrNull()};return{backwards:r,forwards:i}},Yc=Math.round,Jc=e=>e?{left:Yc(e.left),top:Yc(e.top),bottom:Yc(e.bottom),right:Yc(e.right),width:Yc(e.width),height:Yc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Xc=(e,t)=>(e=Jc(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Qc=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,eu=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,tu=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&eu(t.top-e.bottom,e,t)},nu=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&eu(t.bottom-e.top,e,t),ou=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,ru=e=>re(e,((e,t)=>e.fold((()=>W.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return W.some({top:o,right:r,bottom:i,left:n,width:r-n,height:i-o})}))),W.none()),iu=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},au=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),su=(e,t,n)=>Math.min(Math.max(e,t),n),lu=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},cu=(e,t)=>{if(li(e)&&e.hasChildNodes()){const n=e.childNodes,o=su(t,0,n.length-1);return n[o]}return e},uu=(e,t)=>t<0&&li(e)&&e.hasChildNodes()?void 0:cu(e,t),du=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),hu=e=>b(e)&&e.charCodeAt(0)>=768&&du.test(e),mu=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},pu=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},fu=li,gu=ja,vu=di("display","block table"),yu=di("float","left right"),bu=pu(fu,gu,H(yu)),wu=H(di("white-space","pre pre-line pre-wrap")),_u=bi,xu=ki,Cu=Jl.nodeIndex,Su=uu,ku=e=>e?e.createRange():Jl.DOM.createRng(),Eu=e=>b(e)&&/[\r\n\t ]/.test(e),Tu=e=>!!e.setStart&&!!e.setEnd,Mu=e=>{const t=e.startContainer,n=e.startOffset;if(Eu(e.toString())&&wu(t.parentNode)&&bi(t)){const e=t.data;if(Eu(e[n-1])||Eu(e[n+1]))return!0}return!1},Ou=e=>{const t=e.ownerDocument,n=ku(t),o=t.createTextNode(Ni),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const i=Jc(n.getBoundingClientRect());return r.removeChild(o),i},Du=e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,r=e.endOffset;if(t===n&&bi(n)&&0===o&&1===r){const t=e.cloneRange();return t.setEndAfter(n),Ru(t)}return null},Au=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Ru=e=>{var t;let n;const o=e.getClientRects();return n=o.length>0?Jc(o[0]):Jc(e.getBoundingClientRect()),!Tu(e)&&xu(e)&&Au(n)?Ou(e):Au(n)&&Tu(e)&&null!==(t=Du(e))&&void 0!==t?t:n},Pu=(e,t)=>{const n=Xc(e,t);return n.width=1,n.right=n.left+1,n},Iu=e=>{const t=[],n=e=>{0!==e.height&&(t.length>0&&Qc(e,t[t.length-1])||t.push(e))},o=(e,t)=>{const o=ku(e.ownerDocument);if(t<e.data.length){if(hu(e.data[t]))return;if(hu(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!Mu(o)))return void n(Pu(Ru(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),Mu(o)||n(Pu(Ru(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),Mu(o)||n(Pu(Ru(o),!0)))},r=e.container(),i=e.offset();if(_u(r))return o(r,i),t;if(fu(r))if(e.isAtEnd()){const e=Su(r,i);_u(e)&&o(e,e.data.length),bu(e)&&!xu(e)&&n(Pu(Ru(e),!1))}else{const a=Su(r,i);if(_u(a)&&o(a,0),bu(a)&&e.isAtEnd())return n(Pu(Ru(a),!1)),t;const s=Su(e.container(),e.offset()-1);bu(s)&&!xu(s)&&(vu(s)||vu(a)||!bu(a))&&n(Pu(Ru(s),!1)),bu(a)&&n(Pu(Ru(a),!0))}return t},zu=(e,t,n)=>{const o=()=>(_u(e),0===t),r=()=>_u(e)?t>=e.data.length:t>=e.childNodes.length,i=()=>{const n=ku(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=()=>(n||(n=Iu(zu(e,t))),n),s=()=>a().length>0,l=n=>n&&e===n.container()&&t===n.offset(),c=n=>Su(e,n?t-1:t);return{container:I(e),offset:I(t),toRange:i,getClientRects:a,isVisible:s,isAtStart:o,isAtEnd:r,isEqual:l,getNode:c}};zu.fromRangeStart=e=>zu(e.startContainer,e.startOffset),zu.fromRangeEnd=e=>zu(e.endContainer,e.endOffset),zu.after=e=>zu(e.parentNode,Cu(e)+1),zu.before=e=>zu(e.parentNode,Cu(e)),zu.isAbove=(e,t)=>gn(ge(t.getClientRects()),ve(e.getClientRects()),tu).getOr(!1),zu.isBelow=(e,t)=>gn(ve(t.getClientRects()),ge(e.getClientRects()),nu).getOr(!1),zu.isAtStart=e=>!!e&&e.isAtStart(),zu.isAtEnd=e=>!!e&&e.isAtEnd(),zu.isTextPosition=e=>!!e&&bi(e.container()),zu.isElementPosition=e=>!zu.isTextPosition(e);const Nu=(e,t)=>{bi(t)&&0===t.data.length&&e.remove(t)},Lu=(e,t,n)=>{t.insertNode(n),Nu(e,n.previousSibling),Nu(e,n.nextSibling)},Hu=(e,t,n)=>{const o=W.from(n.firstChild),r=W.from(n.lastChild);t.insertNode(n),o.each((t=>Nu(e,t.previousSibling))),r.each((t=>Nu(e,t.nextSibling)))},Fu=(e,t,n)=>{Si(n)?Hu(e,t,n):Lu(e,t,n)},Bu=bi,Uu=pi,Vu=Jl.nodeIndex,ju=e=>{const t=e.parentNode;return Uu(t)?ju(t):t},Wu=e=>e?We(e.childNodes,((e,t)=>(Uu(t)&&"BR"!==t.nodeName?e=e.concat(Wu(t)):e.push(t),e)),[]):[],Zu=(e,t)=>{let n=e;while(n=n.previousSibling){if(!Bu(n))break;t+=n.data.length}return t},$u=e=>t=>e===t,qu=e=>{let t,n;t=Wu(ju(e)),n=Ze(t,$u(e),e),t=t.slice(0,n+1);const o=We(t,((e,n,o)=>(Bu(n)&&Bu(t[o-1])&&e++,e)),0);return t=Ve(t,ui([e.nodeName])),n=Ze(t,$u(e),e),n-o},Gu=e=>{const t=Bu(e)?"text()":e.nodeName.toLowerCase();return t+"["+qu(e)+"]"},Ku=(e,t,n)=>{const o=[];for(let r=t.parentNode;r&&r!==e;r=r.parentNode){if(n&&n(r))break;o.push(r)}return o},Yu=(e,t)=>{let n,o=[],r=t.container(),i=t.offset();if(Bu(r))n=Zu(r,i);else{const e=r.childNodes;i>=e.length?(n="after",i=e.length-1):n="before",r=e[i]}o.push(Gu(r));let a=Ku(e,r);return a=Ve(a,H(pi)),o=o.concat(Ue(a,(e=>Gu(e)))),o.reverse().join("/")+","+n},Ju=(e,t,n)=>{let o=Wu(e);return o=Ve(o,((e,t)=>!Bu(e)||!Bu(o[t-1]))),o=Ve(o,ui([t])),o[n]},Xu=(e,t)=>{let n=e,o=0;while(Bu(n)){const r=n.data.length;if(t>=o&&t<=o+r){e=n,t-=o;break}if(!Bu(n.nextSibling)){e=n,t=r;break}o+=r,n=n.nextSibling}return Bu(e)&&t>e.data.length&&(t=e.data.length),zu(e,t)},Qu=(e,t)=>{if(!t)return null;const n=t.split(","),o=n[0].split("/"),r=n.length>1?n[1]:"before",i=We(o,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),Ju(e,n[1],parseInt(n[2],10))):null}),e);if(!i)return null;if(!Bu(i)&&i.parentNode){let e;return e="after"===r?Vu(i)+1:Vu(i),zu(i.parentNode,e)}return Xu(i,parseInt(r,10))},ed=Mi,td=(e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let r=t.previousSibling;r&&bi(r);r=r.previousSibling)o+=e(r.data).length;return o},nd=(e,t,n,o,r)=>{const i=r?o.startContainer:o.endContainer;let a=r?o.startOffset:o.endOffset;const s=[],l=e.getRoot();if(bi(i))s.push(n?td(t,i,a):a);else{let t=0;const o=i.childNodes;a>=o.length&&o.length&&(t=1,a=Math.max(0,o.length-1)),s.push(e.nodeIndex(o[a],n)+t)}for(let c=i;c&&c!==l;c=c.parentNode)s.push(e.nodeIndex(c,n));return s},od=(e,t,n,o)=>{const r=t.dom,i=nd(r,e,n,o,!0),a=t.isForward(),s=Ia(o)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:i,forward:a,...s};{const t=nd(r,e,n,o,!1);return{start:i,end:t,forward:a,...s}}},rd=(e,t,n)=>{let o=0;return mn.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void o++)),o},id=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(li(n)&&"TR"===n.nodeName){const r=n.childNodes;n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},ad=e=>(id(e,!0),id(e,!1),e),sd=(e,t)=>{if(li(e)&&(e=cu(e,t),ed(e)))return e;if(Sa(e)){bi(e)&&xa(e)&&(e=e.parentNode);let t=e.previousSibling;if(ed(t))return t;if(t=e.nextSibling,ed(t))return t}},ld=e=>sd(e.startContainer,e.startOffset)||sd(e.endContainer,e.endOffset),cd=(e,t,n)=>{const o=n.getNode(),r=n.getRng();if("IMG"===o.nodeName||ed(o)){const e=o.nodeName;return{name:e,index:rd(n.dom,e,o)}}const i=ld(r);if(i){const e=i.tagName;return{name:e,index:rd(n.dom,e,i)}}return od(e,n,t,r)},ud=e=>{const t=e.getRng();return{start:Yu(e.dom.getRoot(),zu.fromRangeStart(t)),end:Yu(e.dom.getRoot(),zu.fromRangeEnd(t)),forward:e.isForward()}},dd=e=>({rng:e.getRng(),forward:e.isForward()}),hd=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},md=(e,t)=>{const n=e.dom;let o=e.getRng();const r=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName,l=e.isForward();if("IMG"===s)return{name:s,index:rd(n,s,a)};const c=ad(o.cloneRange());if(!i){c.collapse(!1);const e=hd(n,r+"_end",t);Fu(n,c,e)}o=ad(o),o.collapse(!0);const u=hd(n,r+"_start",t);return Fu(n,o,u),e.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},pd=(e,t,n=!1)=>2===t?cd(ba,n,e):3===t?ud(e):t?dd(e):md(e,!1),fd=L(cd,z,!0),gd=e=>{const t=t=>t(e),n=I(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:j,isError:V,map:t=>bd.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>W.some(e)};return r},vd=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:V,isError:j,map:t,mapError:t=>bd.error(t(e)),bind:t,exists:V,forall:j,getOr:z,or:z,getOrThunk:B,orThunk:B,getOrDie:F(String(e)),each:A,toOptional:W.none};return n},yd=(e,t)=>e.fold((()=>vd(t)),gd),bd={value:gd,error:vd,fromOption:yd},wd=e=>{if(!x(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return Q(e,((o,r)=>{const i=_e(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],s=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!x(s))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+o);const i=e=>{const o=_e(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));const r=ue(t,(e=>Y(o,e)));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)};return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);const o=t[r];return o.apply(null,n)},match:i,log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},_d={generate:wd};_d.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const xd=e=>{const t=[],n=[];return Q(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}},Cd=e=>"inline-command"===e.type||"inline-format"===e.type,Sd=e=>"block-command"===e.type||"block-format"===e.type,kd=e=>{const t=t=>bd.error({message:t,pattern:e}),n=(n,o,r)=>{if(void 0!==e.format){let r;if(x(e.format)){if(!ue(e.format,b))return t(n+" pattern has non-string items in the `format` array");r=e.format}else{if(!b(e.format))return t(n+" pattern has non-string `format` parameter");r=[e.format]}return bd.value(o(r))}return void 0!==e.cmd?b(e.cmd)?bd.value(r(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!w(e))return t("Raw pattern is not an object");if(!b(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!b(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,r=e.end;return 0===r.length&&(r=o,o=""),n("Inline",(e=>({type:"inline-format",start:o,end:r,format:e})),((e,t)=>({type:"inline-command",start:o,end:r,cmd:e,value:t})))}return void 0!==e.replacement?b(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):bd.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},Ed=e=>ne(e,Sd),Td=e=>ne(e,Cd),Md=(e,t)=>({inlinePatterns:Td(e),blockPatterns:Ed(e),dynamicPatternsLookup:t}),Od=e=>{const t=xd(X(e,kd));return Q(t.errors,(e=>console.error(e.message,e.pattern))),t.values},Dd=e=>t=>{const n=e(t);return Od(n)},Ad=Gt().deviceType,Rd=Ad.isTouch(),Pd=Jl.DOM,Id=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return re(t,((e,t)=>{const n=t.split("="),o=n[0],r=n.length>1?n[1]:o;return e[ht(o)]=ht(r),e}),{})},zd=e=>y(e,RegExp),Nd=e=>t=>t.options.get(e),Ld=e=>b(e)||w(e),Hd=(e,t="")=>n=>{const o=b(n);if(o){if(-1!==n.indexOf("=")){const r=Id(n);return{value:Re(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},Fd=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:Hd(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:Hd(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=b(e)&&ft(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=Y(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>S(e)||b(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||b(e)||D(e,b);return t?b(e)?{value:X(e.split(","),ht),valid:t}:x(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:zh(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=b(e)||D(e,b);if(t){const n=x(e)?e:X(e.split(","),ht);return{value:n,valid:t}}return{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=S(e)||b(e);return t?!1===e||Ad.isiPhone()||Ad.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Rd}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||b(e)||M(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||b(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Ld}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Ld}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Ld}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>b(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>{if(D(e,w)||!1===e){const t=!1===e?[]:e;return{value:Od(t),valid:!0}}return{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>M(e)?{value:Dd(e),valid:!0}:{valid:!1,message:"Must be a single function"},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>D(e,zd)?{value:e,valid:!0}:zd(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:vc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Pd.getAttrib(e.getElement(),"placeholder")})}))},Bd=Nd("iframe_attrs"),Ud=Nd("doctype"),Vd=Nd("document_base_url"),jd=Nd("body_id"),Wd=Nd("body_class"),Zd=Nd("content_security_policy"),$d=Nd("br_in_pre"),qd=Nd("forced_root_block"),Gd=Nd("forced_root_block_attrs"),Kd=Nd("newline_behavior"),Yd=Nd("br_newline_selector"),Jd=Nd("no_newline_selector"),Xd=Nd("keep_styles"),Qd=Nd("end_container_on_empty_block"),eh=Nd("automatic_uploads"),th=Nd("images_reuse_filename"),nh=Nd("images_replace_blob_uris"),oh=Nd("icons"),rh=Nd("icons_url"),ih=Nd("images_upload_url"),ah=Nd("images_upload_base_path"),sh=Nd("images_upload_credentials"),lh=Nd("images_upload_handler"),ch=Nd("content_css_cors"),uh=Nd("referrer_policy"),dh=Nd("language"),hh=Nd("language_url"),mh=Nd("indent_use_margin"),ph=Nd("indentation"),fh=Nd("content_css"),gh=Nd("content_style"),vh=Nd("font_css"),yh=Nd("directionality"),bh=Nd("inline_boundaries_selector"),wh=Nd("object_resizing"),_h=Nd("resize_img_proportional"),xh=Nd("placeholder"),Ch=Nd("event_root"),Sh=Nd("service_message"),kh=Nd("theme"),Eh=Nd("theme_url"),Th=Nd("model"),Mh=Nd("model_url"),Oh=Nd("inline_boundaries"),Dh=Nd("formats"),Ah=Nd("preview_styles"),Rh=Nd("format_empty_lines"),Ph=Nd("format_noneditable_selector"),Ih=Nd("custom_ui_selector"),zh=Nd("inline"),Nh=Nd("hidden_input"),Lh=Nd("submit_patch"),Hh=Nd("add_form_submit_trigger"),Fh=Nd("add_unload_trigger"),Bh=Nd("custom_undo_redo_levels"),Uh=Nd("disable_nodechange"),Vh=Nd("readonly"),jh=Nd("editable_root"),Wh=Nd("content_css_cors"),Zh=Nd("plugins"),$h=Nd("external_plugins"),qh=Nd("block_unsupported_drop"),Gh=Nd("visual"),Kh=Nd("visual_table_class"),Yh=Nd("visual_anchor_class"),Jh=Nd("iframe_aria_text"),Xh=Nd("setup"),Qh=Nd("init_instance_callback"),em=Nd("urlconverter_callback"),tm=Nd("auto_focus"),nm=Nd("browser_spellcheck"),om=Nd("protect"),rm=Nd("paste_block_drop"),im=Nd("paste_data_images"),am=Nd("paste_preprocess"),sm=Nd("paste_postprocess"),lm=Nd("newdocument_content"),cm=Nd("paste_webkit_styles"),um=Nd("paste_remove_styles_if_webkit"),dm=Nd("paste_merge_formats"),hm=Nd("smart_paste"),mm=Nd("paste_as_text"),pm=Nd("paste_tab_spaces"),fm=Nd("allow_html_data_urls"),gm=Nd("text_patterns"),vm=Nd("text_patterns_lookup"),ym=Nd("noneditable_class"),bm=Nd("editable_class"),wm=Nd("noneditable_regexp"),_m=Nd("preserve_cdata"),xm=Nd("highlight_on_focus"),Cm=Nd("xss_sanitization"),Sm=Nd("init_content_sync"),km=e=>e.options.isSet("text_patterns_lookup"),Em=e=>mn.explode(e.options.get("font_size_style_values")),Tm=e=>mn.explode(e.options.get("font_size_classes")),Mm=e=>"xml"===e.options.get("encoding"),Om=e=>mn.explode(e.options.get("images_file_types")),Dm=Nd("table_tab_navigation"),Am=Nd("details_initial_state"),Rm=Nd("details_serialized_state"),Pm=li,Im=bi,zm=e=>{const t=e.parentNode;t&&t.removeChild(e)},Nm=e=>{const t=ba(e);return{count:e.length-t.length,text:t}},Lm=e=>{let t;while(-1!==(t=e.data.lastIndexOf(va)))e.deleteData(t,1)},Hm=(e,t)=>(Wm(e),t),Fm=(e,t)=>{const n=Nm(e.data.substr(0,t.offset())),o=Nm(e.data.substr(t.offset())),r=n.text+o.text;return r.length>0?(Lm(e),zu(e,t.offset()-n.count)):t},Bm=(e,t)=>{const n=t.container(),o=K(ye(n.childNodes),e).map((e=>e<t.offset()?zu(n,t.offset()-1):t)).getOr(t);return Wm(e),o},Um=(e,t)=>Im(e)&&t.container()===e?Fm(e,t):Hm(e,t),Vm=(e,t)=>t.container()===e.parentNode?Bm(e,t):Hm(e,t),jm=(e,t)=>zu.isTextPosition(t)?Um(e,t):Vm(e,t),Wm=e=>{Pm(e)&&Sa(e)&&(ka(e)?e.removeAttribute("data-mce-caret"):zm(e)),Im(e)&&(Lm(e),0===e.data.length&&zm(e))},Zm=Mi,$m=Ai,qm=Oi,Gm="*[contentEditable=false],video,audio,embed,object",Km=(e,t,n)=>{const o=Xc(t.getBoundingClientRect(),n);let r,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,i=e.scrollTop-t.top}o.left+=r,o.right+=r,o.top+=i,o.bottom+=i,o.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),o.left+=a,o.right+=a),o},Ym=e=>{var t,n;const o=oi(go.fromDom(e),Gm);for(let r=0;r<o.length;r++){const e=o[r].dom;let i=e.previousSibling;if(Aa(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}if(i=e.nextSibling,Da(i)){const e=i.data;1===e.length?null===(n=i.parentNode)||void 0===n||n.removeChild(i):i.deleteData(0,1)}}},Jm=(e,t,n,o)=>{const r=_c();let i,a;const s=qd(e),l=e.dom,c=(e,o)=>{let i;if(u(),qm(o))return null;if(!n(o))return a=Ea(o,e),i=o.ownerDocument.createRange(),Qm(a.nextSibling)?(i.setStart(a,0),i.setEnd(a,0)):(i.setStart(a,1),i.setEnd(a,1)),i;{const n=Oa(s,o,e),c=Km(t,o,e);l.setStyle(n,"top",c.top),a=n;const u=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(u,{...c}),l.add(t,u),r.set({caret:u,element:o,before:e}),e&&l.addClass(u,"mce-visual-caret-before"),d(),i=o.ownerDocument.createRange(),i.setStart(n,0),i.setEnd(n,0)}return i},u=()=>{Ym(t),a&&(Wm(a),a=null),r.on((e=>{l.remove(e.caret),r.clear()})),i&&(clearInterval(i),i=void 0)},d=()=>{i=setInterval((()=>{r.on((e=>{o()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)},h=()=>{r.on((e=>{const n=Km(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},m=()=>clearInterval(i),p=()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";return{show:c,hide:u,getCss:p,reposition:h,destroy:m}},Xm=()=>tn.browser.isFirefox(),Qm=e=>Zm(e)||$m(e),ep=e=>{const t=Qm(e)||gi(e)&&Xm();return t&&Oo(go.fromDom(e)).exists(ur)},tp=Ti,np=Mi,op=Ai,rp=di("display","block table table-cell table-caption list-item"),ip=Sa,ap=xa,sp=li,lp=bi,cp=ja,up=e=>e>0,dp=e=>e<0,hp=(e,t)=>{let n;while(n=e(t))if(!ap(n))return n;return null},mp=(e,t,n,o,r)=>{const i=new ii(e,o),a=np(e)||ap(e);let s;if(dp(t)){if(a&&(s=hp(i.prev.bind(i),!0),n(s)))return s;while(s=hp(i.prev.bind(i),r))if(n(s))return s}if(up(t)){if(a&&(s=hp(i.next.bind(i),!0),n(s)))return s;while(s=hp(i.next.bind(i),r))if(n(s))return s}return null},pp=(e,t)=>{const n=e=>tp(e.dom),o=e=>e.dom===t;return tr(go.fromDom(e),n,o).map((e=>e.dom)).getOr(t)},fp=(e,t)=>{while(e&&e!==t){if(rp(e))return e;e=e.parentNode}return null},gp=(e,t,n)=>fp(e.container(),n)===fp(t.container(),n),vp=(e,t)=>{if(!t)return W.none();const n=t.container(),o=t.offset();return sp(n)?W.from(n.childNodes[o+e]):W.none()},yp=(e,t)=>{var n;const o=null!==(n=t.ownerDocument)&&void 0!==n?n:document,r=o.createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},bp=(e,t,n)=>fp(t,e)===fp(n,e),wp=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";let r=n;while(r&&r!==t){let e=r[o];if(e&&ip(e)&&(e=e[o]),np(e)||op(e)){if(bp(t,e,r))return e;break}if(cp(e))break;r=r.parentNode}return null},_p=L(yp,!0),xp=L(yp,!1),Cp=(e,t,n)=>{let o;const r=L(wp,!0,t),i=L(wp,!1,t),a=n.startContainer,s=n.startOffset;if(xa(a)){const e=lp(a)?a.parentNode:a,t=e.getAttribute("data-mce-caret");if("before"===t&&(o=e.nextSibling,ep(o)))return _p(o);if("after"===t&&(o=e.previousSibling,ep(o)))return xp(o)}if(!n.collapsed)return n;if(bi(a)){if(ip(a)){if(1===e){if(o=i(a),o)return _p(o);if(o=r(a),o)return xp(o)}if(-1===e){if(o=r(a),o)return xp(o);if(o=i(a),o)return _p(o)}return n}if(Aa(a)&&s>=a.data.length-1)return 1===e&&(o=i(a),o)?_p(o):n;if(Da(a)&&s<=1)return-1===e&&(o=r(a),o)?xp(o):n;if(s===a.data.length)return o=i(a),o?_p(o):n;if(0===s)return o=r(a),o?xp(o):n}return n},Sp=(e,t)=>vp(e?0:-1,t).filter(np),kp=(e,t,n)=>{const o=Cp(e,t,n);return-1===e?zu.fromRangeStart(o):zu.fromRangeEnd(o)},Ep=e=>W.from(e.getNode()).map(go.fromDom),Tp=e=>W.from(e.getNode(!0)).map(go.fromDom),Mp=(e,t)=>{let n=t;while(n=e(n))if(n.isVisible())return n;return n},Op=(e,t)=>{const n=gp(e,t);return!(n||!ki(e.getNode()))||n};var Dp;(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(Dp||(Dp={}));const Ap=Mi,Rp=bi,Pp=li,Ip=ki,zp=ja,Np=Ga,Lp=Ka,Hp=(e,t)=>{const n=[];let o=e;while(o&&o!==t)n.push(o),o=o.parentNode;return n},Fp=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Bp=(e,t)=>{if(up(e)){if(zp(t.previousSibling)&&!Rp(t.previousSibling))return zu.before(t);if(Rp(t))return zu(t,0)}if(dp(e)){if(zp(t.nextSibling)&&!Rp(t.nextSibling))return zu.after(t);if(Rp(t))return zu(t,t.data.length)}return dp(e)?Ip(t)?zu.before(t):zu.after(t):zu.before(t)},Up=(e,t)=>{const n=t.nextSibling;return n&&zp(n)?Rp(n)?zu(n,0):zu.before(n):Vp(Dp.Forwards,zu.after(t),e)},Vp=(e,t,n)=>{let o,r,i,a;if(!Pp(n)||!t)return null;if(t.isEqual(zu.after(n))&&n.lastChild){if(a=zu.after(n.lastChild),dp(e)&&zp(n.lastChild)&&Pp(n.lastChild))return Ip(n.lastChild)?zu.before(n.lastChild):a}else a=t;const s=a.container();let l=a.offset();if(Rp(s)){if(dp(e)&&l>0)return zu(s,--l);if(up(e)&&l<s.length)return zu(s,++l);o=s}else{if(dp(e)&&l>0&&(r=Fp(s,l-1),zp(r)))return!Np(r)&&(i=mp(r,e,Lp,r),i)?Rp(i)?zu(i,i.data.length):zu.after(i):Rp(r)?zu(r,r.data.length):zu.before(r);if(up(e)&&l<s.childNodes.length&&(r=Fp(s,l),zp(r)))return Ip(r)?Up(n,r):!Np(r)&&(i=mp(r,e,Lp,r),i)?Rp(i)?zu(i,0):zu.before(i):Rp(r)?zu(r,0):zu.after(r);o=r||a.getNode()}if(o&&(up(e)&&a.isAtEnd()||dp(e)&&a.isAtStart())&&(o=mp(o,e,j,n,!0),Lp(o,n)))return Bp(e,o);r=o?mp(o,e,Lp,n):o;const c=$e(ne(Hp(s,n),Ap));return!c||r&&c.contains(r)?r?Bp(e,r):null:(a=up(e)?zu.after(c):zu.before(c),a)},jp=e=>({next:t=>Vp(Dp.Forwards,t,e),prev:t=>Vp(Dp.Backwards,t,e)}),Wp=(e,t,n)=>{const o=e?zu.before(n):zu.after(n);return Jp(e,t,o)},Zp=e=>ki(e)?zu.before(e):zu.after(e),$p=e=>zu.isTextPosition(e)?0===e.offset():ja(e.getNode()),qp=e=>{if(zu.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return ja(e.getNode(!0))},Gp=(e,t)=>!zu.isTextPosition(e)&&!zu.isTextPosition(t)&&e.getNode()===t.getNode(!0),Kp=e=>!zu.isTextPosition(e)&&ki(e.getNode()),Yp=(e,t,n)=>e?!Gp(t,n)&&!Kp(t)&&qp(t)&&$p(n):!Gp(n,t)&&$p(t)&&qp(n),Jp=(e,t,n)=>{const o=jp(t);return W.from(e?o.next(n):o.prev(n))},Xp=(e,t,n)=>Jp(e,t,n).bind((o=>gp(n,o,t)&&Yp(e,n,o)?Jp(e,t,o):W.some(o))),Qp=(e,t,n,o)=>Xp(e,t,n).bind((n=>o(n)?Qp(e,t,n,o):W.some(n))),ef=(e,t)=>{const n=e?t.firstChild:t.lastChild;return bi(n)?W.some(zu(n,e?0:n.data.length)):n?ja(n)?W.some(e?zu.before(n):Zp(n)):Wp(e,t,n):W.none()},tf=L(Jp,!0),nf=L(Jp,!1),of=L(ef,!0),rf=L(ef,!1),af="_mce_caret",sf=e=>li(e)&&e.id===af,lf=(e,t)=>{let n=t;while(n&&n!==e){if(sf(n))return n;n=n.parentNode}return null},cf=e=>b(e.start),uf=e=>Pe(e,"rng"),df=e=>Pe(e,"id"),hf=e=>Pe(e,"name"),mf=e=>mn.isArray(e.start),pf=e=>!(!hf(e)&&S(e.forward))||e.forward,ff=(e,t)=>(li(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),gf=(e,t)=>{const n=W.from(Qu(e.getRoot(),t.start)),o=W.from(Qu(e.getRoot(),t.end));return gn(n,o,((n,o)=>{const r=e.createRng();return r.setStart(n.container(),n.offset()),r.setEnd(o.container(),o.offset()),{range:r,forward:pf(t)}}))},vf=(e,t)=>{var n;const o=null!==(n=e.ownerDocument)&&void 0!==n?n:document,r=o.createTextNode(va);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},yf=e=>!e.hasChildNodes(),bf=(e,t)=>rf(e).fold(V,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),wf=(e,t,n)=>!(!yf(t)||!lf(e,t))&&(vf(t,n),!0),_f=(e,t,n,o)=>{const r=n[t?"start":"end"],i=e.getRoot();if(r){let e=i,n=r[0];for(let t=r.length-1;e&&t>=1;t--){const n=e.childNodes;if(wf(i,e,o))return!0;if(r[t]>n.length-1)return!!wf(i,e,o)||bf(e,o);e=n[r[t]]}bi(e)&&(n=Math.min(r[0],e.data.length)),li(e)&&(n=Math.min(r[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},xf=e=>bi(e)&&e.data.length>0,Cf=(e,t,n)=>{const o=e.get(n.id+"_"+t),r=null===o||void 0===o?void 0:o.parentNode,i=n.keep;if(o&&r){let a,s;if("start"===t?i?o.hasChildNodes()?(a=o.firstChild,s=1):xf(o.nextSibling)?(a=o.nextSibling,s=0):xf(o.previousSibling)?(a=o.previousSibling,s=o.previousSibling.data.length):(a=r,s=e.nodeIndex(o)+1):(a=r,s=e.nodeIndex(o)):i?o.hasChildNodes()?(a=o.firstChild,s=1):xf(o.previousSibling)?(a=o.previousSibling,s=o.previousSibling.data.length):(a=r,s=e.nodeIndex(o)):(a=r,s=e.nodeIndex(o)),!i){const r=o.previousSibling,i=o.nextSibling;let l;mn.each(mn.grep(o.childNodes),(e=>{bi(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));while(l=e.get(n.id+"_"+t))e.remove(l,!0);if(bi(i)&&bi(r)&&!tn.browser.isOpera()){const t=r.data.length;r.appendData(i.data),e.remove(i),a=r,s=t}}return W.some(zu(a,s))}return W.none()},Sf=(e,t)=>{const n=e.createRng();return _f(e,!0,t,n)&&_f(e,!1,t,n)?W.some({range:n,forward:pf(t)}):W.none()},kf=(e,t)=>{const n=Cf(e,"start",t),o=Cf(e,"end",t);return gn(n,o.or(n),((n,o)=>{const r=e.createRng();return r.setStart(ff(e,n.container()),n.offset()),r.setEnd(ff(e,o.container()),o.offset()),{range:r,forward:pf(t)}}))},Ef=(e,t)=>W.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})),Tf=(e,t)=>{const n=e.dom;if(t){if(mf(t))return Sf(n,t);if(cf(t))return gf(n,t);if(df(t))return kf(n,t);if(hf(t))return Ef(n,t);if(uf(t))return W.some({range:t.rng,forward:pf(t)})}return W.none()},Mf=(e,t,n)=>pd(e,t,n),Of=(e,t)=>{Tf(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},Df=e=>li(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Af=e=>t=>e===t,Rf=Af(Ni),Pf=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),If=e=>!Pf(e)&&!Rf(e)&&!Li(e),zf=e=>({value:Nf(e)}),Nf=e=>st(e,"#").toUpperCase(),Lf=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Hf=e=>{const t=Lf(e.red)+Lf(e.green)+Lf(e.blue);return zf(t)},Ff=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Bf=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Uf=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Vf=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(o);return Uf(r,i,a,s)},jf=e=>{if("transparent"===e)return W.some(Uf(0,0,0,0));const t=Ff.exec(e);if(null!==t)return W.some(Vf(t[1],t[2],t[3],"1"));const n=Bf.exec(e);return null!==n?W.some(Vf(n[1],n[2],n[3],n[4])):W.none()},Wf=e=>jf(e).map(Hf).map((e=>"#"+e.value)).getOr(e),Zf=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},$f=e=>ce(e,(e=>{const t=lu(e);return t?[go.fromDom(t)]:[]})),qf=e=>Zf(e).length>1,Gf=e=>ne($f(e),la),Kf=e=>oi(e,"td[data-mce-selected],th[data-mce-selected]"),Yf=(e,t)=>{const n=Kf(t);return n.length>0?n:Gf(e)},Jf=e=>Yf(Zf(e.selection.getSel()),go.fromDom(e.getBody())),Xf=(e,t)=>ar(e,"table",t),Qf=e=>{const t=e.startContainer,n=e.startOffset;return bi(t)?0===n?W.some(go.fromDom(t)):W.none():W.from(t.childNodes[n]).map(go.fromDom)},eg=e=>{const t=e.endContainer,n=e.endOffset;return bi(t)?n===t.data.length?W.some(go.fromDom(t)):W.none():W.from(t.childNodes[n-1]).map(go.fromDom)},tg=e=>Ho(e).fold(I([e]),(t=>[e].concat(tg(t)))),ng=e=>Fo(e).fold(I([e]),(t=>"br"===Rn(t)?Ro(t).map((t=>[e].concat(ng(t)))).getOr([]):[e].concat(ng(t)))),og=(e,t)=>gn(Qf(t),eg(t),((t,n)=>{const o=ae(tg(e),L(xo,t)),r=ae(ng(e),L(xo,n));return o.isSome()&&r.isSome()})).getOr(!1),rg=(e,t,n,o)=>{const r=n,i=new ii(n,r),a=Oe(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!Y(["td","th","table"],t.toLowerCase())));let s=n;do{if(bi(s)&&0!==mn.trim(s.data).length)return void(o?t.setStart(s,0):t.setEnd(s,s.data.length));if(a[s.nodeName])return void(o?t.setStartBefore(s):"BR"===s.nodeName?t.setEndBefore(s):t.setEndAfter(s))}while(s=o?i.next():i.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},ig=e=>{const t=e.selection.getSel();return T(t)&&t.rangeCount>0},ag=(e,t)=>{const n=Jf(e);n.length>0?Q(n,(n=>{const o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)})):t(e.selection.getRng(),!1)},sg=(e,t,n)=>{const o=md(e,t);n(o),e.moveToBookmark(o)},lg=e=>O(null===e||void 0===e?void 0:e.nodeType),cg=e=>li(e)&&!Df(e)&&!sf(e)&&!pi(e),ug=(e,t)=>{if(cg(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1},dg=e=>!0===e.isContentEditable,hg=(e,t,n)=>{const{selection:o,dom:r}=e,i=o.getNode(),a=Mi(i);sg(o,!0,(()=>{t()}));const s=a&&Mi(i);s&&r.isChildOf(i,e.getBody())?e.selection.select(i):n(o.getStart())&&mg(r,o)},mg=(e,t)=>{var n,o;const r=t.getRng(),{startContainer:i,startOffset:a}=r,s=t.getNode();if(!ug(e,s)&&li(i)){const s=i.childNodes,l=e.getRoot();let c;if(a<s.length){const t=s[a];c=new ii(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=s[s.length-1];c=new ii(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(bi(n)&&!vg(n))return r.setStart(n,0),void t.setRng(r)}}},pg=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(li(e)||!vg(e))return e}},fg=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ts(e,t),gg=(e,t,n)=>e.schema.isValidChild(t,n),vg=(e,t=!1)=>{if(T(e)&&bi(e)){const n=t?e.data.replace(/ /g," "):e.data;return Ja(n)}return!1},yg=e=>T(e)&&bi(e)&&0===e.length,bg=(e,t)=>{const n="[data-mce-cef-wrappable]",o=Ph(e),r=gt(o)?n:`${n},${o}`;return yo(go.fromDom(t),r)},wg=(e,t)=>{const n=e.dom;return cg(t)&&"false"===n.getContentEditable(t)&&bg(e,t)&&0===n.select('[contenteditable="true"]',t).length},_g=(e,t)=>M(e)?e(t):(T(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),xg=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),Cg=(e,t)=>{if(E(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Wf(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Sg=(e,t,n)=>{const o=e.getStyle(t,n);return Cg(o,n)},kg=(e,t)=>{let n;return e.getParent(t,(t=>!!li(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},Eg=(e,t,n)=>e.getParents(t,n,e.getRoot()),Tg=(e,t,n)=>{const o=e.formatter.get(t);return T(o)&&J(o,n)},Mg=(e,t)=>{const n=e=>{const t=e=>M(e)||e.length>1&&"%"===e.charAt(0);return J(["styles","attributes"],(n=>Re(e,n).exists((e=>{const n=x(e)?e:Ae(e);return J(n,t)}))))};return Tg(e,t,n)},Og=(e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],r=e=>Oe(e,((e,t)=>J(o,(e=>e===t))));return Tg(e,t,(t=>{const o=r(t);return Tg(e,n,(e=>{const t=r(e);return ze(o,t)}))}))},Dg=e=>Ie(e,"block"),Ag=e=>Dg(e)&&!0===e.wrapper,Rg=e=>Dg(e)&&!0!==e.wrapper,Pg=e=>Ie(e,"selector"),Ig=e=>Ie(e,"inline"),zg=e=>Pg(e)&&Ig(e)&&pn(Re(e,"mixed"),!0),Ng=e=>Pg(e)&&!1!==e.expand&&!Ig(e),Lg=Df,Hg=Eg,Fg=vg,Bg=fg,Ug=e=>ki(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Vg=(e,t)=>{let n=t;while(n){if(li(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},jg=(e,t,n,o)=>{const r=t.data;if(e){for(let i=n;i>0;i--)if(o(r.charAt(i-1)))return i}else for(let i=n;i<r.length;i++)if(o(r.charAt(i)))return i;return-1},Wg=(e,t,n)=>jg(e,t,n,(e=>Rf(e)||Pf(e))),Zg=(e,t,n)=>jg(e,t,n,If),$g=(e,t,n,o,r,i)=>{let a;const s=e.getParent(n,e.isBlock)||t,l=(t,n,o)=>{const i=Kc(e),l=r?i.backwards:i.forwards;return W.from(l(t,n,((e,t)=>Lg(e.parentNode)?-1:(a=e,o(r,e,t))),s))},c=l(n,o,Wg);return c.bind((e=>i?l(e.container,e.offset+(r?-1:0),Zg):W.some(e))).orThunk((()=>a?W.some({container:a,offset:r?0:a.length}):W.none()))},qg=(e,t,n,o,r)=>{const i=o[r];bi(o)&&gt(o.data)&&i&&(o=i);const a=Hg(e,o);for(let s=0;s<a.length;s++)for(let o=0;o<t.length;o++){const r=t[o];if((!T(r.collapsed)||r.collapsed===n.collapsed)&&(Pg(r)&&e.is(a[s],r.selector)))return a[s]}return o},Gg=(e,t,n,o)=>{var r;let i=n;const a=e.getRoot(),s=t[0];if(Dg(s)&&(i=s.wrapper?null:e.getParent(n,s.block,a)),!i){const t=null!==(r=e.getParent(n,"LI,TD,TH"))&&void 0!==r?r:a;i=e.getParent(bi(n)?n.parentNode:n,(t=>t!==a&&Bg(e.schema,t)),t)}if(i&&Dg(s)&&s.wrapper&&(i=Hg(e,i,"ul,ol").reverse()[0]||i),!i){i=n;while(i&&i[o]&&!e.isBlock(i[o]))if(i=i[o],xg(i,"br"))break}return i||n},Kg=(e,t,n,o)=>{const r=n.parentNode;return!T(n[o])&&(!(r!==t&&!E(r)&&!e.isBlock(r))||Kg(e,t,r,o))},Yg=(e,t,n,o,r)=>{let i=n;const a=r?"previousSibling":"nextSibling",s=e.getRoot();if(bi(n)&&!Fg(n)&&(r?o>0:o<n.data.length))return n;while(i){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[a];t;t=t[a]){const n=bi(t)&&!Kg(e,s,t,a);if(!Lg(t)&&!Ug(t)&&!Fg(t,n))return i}if(i===s||i.parentNode===s){n=i;break}i=i.parentNode}return n},Jg=e=>Lg(e.parentNode)||Lg(e),Xg=(e,t,n,o=!1)=>{let{startContainer:r,startOffset:i,endContainer:a,endOffset:s}=t;const l=n[0];if(li(r)&&r.hasChildNodes()&&(r=cu(r,i),bi(r)&&(i=0)),li(a)&&a.hasChildNodes()&&(a=cu(a,t.collapsed?s:s-1),bi(a)&&(s=a.data.length)),r=Vg(e,r),a=Vg(e,a),Jg(r)&&(r=Lg(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,bi(r)&&(i=t.collapsed?r.length:0)),Jg(a)&&(a=Lg(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,bi(a)&&(s=t.collapsed?0:a.length)),t.collapsed){const t=$g(e,e.getRoot(),r,i,!0,o);t.each((({container:e,offset:t})=>{r=e,i=t}));const n=$g(e,e.getRoot(),a,s,!1,o);n.each((({container:e,offset:t})=>{a=e,s=t}))}return(Ig(l)||l.block_expand)&&(Ig(l)&&bi(r)&&0!==i||(r=Yg(e,n,r,i,!0)),Ig(l)&&bi(a)&&s!==a.data.length||(a=Yg(e,n,a,s,!1))),Ng(l)&&(r=qg(e,n,t,r,"previousSibling"),a=qg(e,n,t,a,"nextSibling")),(Dg(l)||Pg(l))&&(r=Gg(e,n,r,"previousSibling"),a=Gg(e,n,a,"nextSibling"),Dg(l)&&(e.isBlock(r)||(r=Yg(e,n,r,i,!0)),e.isBlock(a)||(a=Yg(e,n,a,s,!1)))),li(r)&&r.parentNode&&(i=e.nodeIndex(r),r=r.parentNode),li(a)&&a.parentNode&&(s=e.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:i,endContainer:a,endOffset:s}},Qg=(e,t,n)=>{var o;const r=t.startOffset,i=cu(t.startContainer,r),a=t.endOffset,s=cu(t.endContainer,a-1),l=e=>{const t=e[0];bi(t)&&t===i&&r>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===a&&e.length>0&&n===s&&bi(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},u=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),d=(e,t,o)=>{const r=o?"nextSibling":"previousSibling";for(let i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;const t=c(i===e?i:i[r],r);t.length&&(o||t.reverse(),n(l(t)))}};if(i===s)return n(l([i]));const h=null!==(o=e.findCommonAncestor(i,s))&&void 0!==o?o:e.getRoot();if(e.isChildOf(i,s))return d(i,h,!0);if(e.isChildOf(s,i))return d(s,h);const m=u(i,h)||i,p=u(s,h)||s;d(i,m,!0);const f=c(m===i?m:m.nextSibling,"nextSibling",p===s?p.nextSibling:p);f.length&&n(l(f)),d(s,p)},ev=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],tv=e=>Hn(e)&&Ui(e)===va,nv=(e,t,n,o)=>Mo(t).fold((()=>"skipping"),(r=>"br"===o||tv(t)?"valid":Rc(t)?"existing":sf(t.dom)?"caret":J(ev,(e=>yo(t,e)))?"valid-block":gg(e,n,o)&&gg(e,Rn(r),n)?"valid":"invalid-child")),ov=(e,t)=>{const n=Xg(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},rv=(e,t,n,o,r,i)=>{const{uid:a=t,...s}=n;io(e,Sc()),jn(e,`${Ec()}`,a),jn(e,`${kc()}`,o);const{attributes:l={},classes:c=[]}=r(a,s);if(Wn(e,l),Uc(e,c),i){c.length>0&&jn(e,`${Mc()}`,c.join(","));const t=_e(l);t.length>0&&jn(e,`${Oc()}`,t.join(","))}},iv=e=>{so(e,Sc()),Gn(e,`${Ec()}`),Gn(e,`${kc()}`),Gn(e,`${Tc()}`);const t=$n(e,`${Oc()}`).map((e=>e.split(","))).getOr([]),n=$n(e,`${Mc()}`).map((e=>e.split(","))).getOr([]);Q(t,(t=>Gn(e,t))),Vc(e,n),Gn(e,`${Mc()}`),Gn(e,`${Oc()}`)},av=(e,t,n,o,r)=>{const i=go.fromTag("span",e);return rv(i,t,n,o,r,!1),i},sv=(e,t,n,o,r,i)=>{const a=[],s=av(e.getDoc(),n,i,o,r),l=_c(),c=()=>{l.clear()},u=()=>l.get().getOrThunk((()=>{const e=Wc(s);return a.push(e),l.set(e),e})),d=e=>{Q(e,h)},h=t=>{const a=nv(e,t,"span",Rn(t));switch(a){case"invalid-child":{c();const e=No(t);d(e),c();break}case"valid-block":c(),rv(t,n,i,o,r,!0);break;case"valid":{const e=u();Tr(t,e);break}}},m=e=>{const t=X(e,go.fromDom);d(t)};return Qg(e.dom,t,(e=>{c(),m(e)})),a},lv=(e,t,n,o)=>{e.undoManager.transact((()=>{const r=e.selection,i=r.getRng(),a=Jf(e).length>0,s=Bc("mce-annotation");if(i.collapsed&&!a&&ov(e,i),r.getRng().collapsed&&!a){const i=av(e.getDoc(),s,o,t,n.decorate);Nr(i,Ni),r.getRng().insertNode(i.dom),r.select(i.dom)}else sg(r,!1,(()=>{ag(e,(r=>{sv(e,r,s,t,n.decorate,o)}))}))}))},cv=e=>{const t=Hc();Lc(e,t);const n=Nc(e,t),o=Un("span"),r=e=>{Q(e,(e=>{o(e)?Rr(e):iv(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{lv(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{Ac(e,W.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();r(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();Ce(zc(e,t),((e,t)=>{r(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=zc(e,t);return Se(n,(e=>X(e,(e=>e.dom))))}}},uv=e=>({getBookmark:L(Mf,e),moveToBookmark:L(Of,e)});uv.isBookmarkNode=Df;const dv=(e,t,n)=>!n.collapsed&&J(n.getClientRects(),(n=>ou(n,e,t))),hv=(e,t)=>e.dispatch("PreProcess",t),mv=(e,t)=>e.dispatch("PostProcess",t),pv=e=>{e.dispatch("remove")},fv=e=>{e.dispatch("detach")},gv=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},vv=(e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})},yv=(e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})},bv=e=>{e.dispatch("PreInit")},wv=e=>{e.dispatch("PostRender")},_v=e=>{e.dispatch("Init")},xv=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Cv=(e,t,n)=>{e.dispatch(t,n)},Sv=(e,t,n,o)=>{e.dispatch("FormatApply",{format:t,node:n,vars:o})},kv=(e,t,n,o)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:o})},Ev=(e,t)=>e.dispatch("BeforeSetContent",t),Tv=(e,t)=>e.dispatch("SetContent",t),Mv=(e,t)=>e.dispatch("BeforeGetContent",t),Ov=(e,t)=>e.dispatch("GetContent",t),Dv=(e,t)=>{e.dispatch("AutocompleterStart",t)},Av=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},Rv=e=>{e.dispatch("AutocompleterEnd")},Pv=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),Iv=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),zv=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Nv=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Lv={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Lv.metaKeyPressed(e),metaKeyPressed:e=>tn.os.isMacOS()||tn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Hv="data-mce-selected",Fv="table,img,figure.image,hr,video,span.mce-preview-object,details",Bv=Math.abs,Uv=Math.round,Vv={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},jv=e=>"longpress"===e.type||0===e.type.indexOf("touch"),Wv=(e,t)=>{const n=t.dom,o=t.getDoc(),r=document,i=t.getBody();let a,s,l,c,u,d,h,m,p,f,g,v,y,b,w,_,x;const C=e=>T(e)&&(Ei(e)||n.is(e,"figure.image")),S=e=>Ai(e)||n.hasClass(e,"mce-preview-object"),k=(e,t)=>{if(jv(e)){const n=e.touches[0];return C(e.target)&&!dv(n.clientX,n.clientY,t)}return C(e.target)&&!dv(e.clientX,e.clientY,t)},E=e=>{const n=e.target;k(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},M=e=>n.hasClass(e,"mce-preview-object")&&T(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],O=e=>{const o=wh(t);return!!o&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&T(e.firstElementChild)?yo(go.fromDom(e.firstElementChild),o):yo(go.fromDom(e),o))))},D=e=>S(e)?n.create("img",{src:tn.transparentSrc}):e.cloneNode(!0),A=(e,o,r)=>{if(T(r)){const i=M(e);Q(i,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,r):n.setAttrib(e,o,""+r)}))}},R=(e,t,n)=>{A(e,"width",t),A(e,"height",n)},P=e=>{let o,r,u,k,E;o=e.screenX-d,r=e.screenY-h,b=o*c[2]+f,w=r*c[3]+g,b=b<5?5:b,w=w<5?5:w,u=(C(a)||S(a))&&!1!==_h(t)?!Lv.modifierPressed(e):Lv.modifierPressed(e),u&&(Bv(o)>Bv(r)?(w=Uv(b*v),b=Uv(w/v)):(b=Uv(w/v),w=Uv(b*v))),R(s,b,w),k=c.startPos.x+o,E=c.startPos.y+r,k=k>0?k:0,E=E>0?E:0,n.setStyles(l,{left:k,top:E,display:"block"}),l.innerHTML=b+" &times; "+w,c[2]<0&&s.clientWidth<=b&&n.setStyle(s,"left",m+(f-b)),c[3]<0&&s.clientHeight<=w&&n.setStyle(s,"top",p+(g-w)),o=i.scrollWidth-_,r=i.scrollHeight-x,o+r!==0&&n.setStyles(l,{left:k-o,top:E-r}),y||(vv(t,a,f,g,"corner-"+c.name),y=!0)},I=()=>{const e=y;y=!1,e&&(A(a,"width",b),A(a,"height",w)),n.unbind(o,"mousemove",P),n.unbind(o,"mouseup",I),r!==o&&(n.unbind(r,"mousemove",P),n.unbind(r,"mouseup",I)),n.remove(s),n.remove(l),n.remove(u),z(a),e&&(yv(t,a,b,w,"corner-"+c.name),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},z=e=>{B();const m=n.getPos(e,i),p=m.x,y=m.y,C=e.getBoundingClientRect(),S=C.width||C.right-C.left,k=C.height||C.bottom-C.top;a!==e&&(L(),a=e,b=w=0);const E=t.dispatch("ObjectSelected",{target:e});O(e)&&!E.isDefaultPrevented()?Ce(Vv,((e,t)=>{const m=m=>{const b=M(a)[0];d=m.screenX,h=m.screenY,f=b.clientWidth,g=b.clientHeight,v=g/f,c=e,c.name=t,c.startPos={x:S*e[0]+p,y:k*e[1]+y},_=i.scrollWidth,x=i.scrollHeight,u=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),s=D(a),n.addClass(s,"mce-clonedresizable"),n.setAttrib(s,"data-mce-bogus","all"),s.contentEditable="false",n.setStyles(s,{left:p,top:y,margin:0}),R(s,S,k),s.removeAttribute(Hv),i.appendChild(s),n.bind(o,"mousemove",P),n.bind(o,"mouseup",I),r!==o&&(n.bind(r,"mousemove",P),n.bind(r,"mouseup",I)),l=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+g)};let b=n.get("mceResizeHandle"+t);b&&n.remove(b),b=n.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(b,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),m(e)})),e.elm=b,n.setStyles(b,{left:S*e[0]+p-b.offsetWidth/2,top:k*e[1]+y-b.offsetHeight/2})})):L(!1)},N=xc(z,0),L=(e=!0)=>{N.cancel(),B(),a&&e&&a.removeAttribute(Hv),Ce(Vv,((e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))}))},H=(e,t)=>n.isChildOf(e,t),F=o=>{if(y||t.removed||t.composing)return;const r="mousedown"===o.type?o.target:e.getNode(),a=lr(go.fromDom(r),Fv).map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement))).getOrUndefined(),s=T(a)?n.getAttrib(a,Hv,"1"):"1";if(Q(n.select(`img[${Hv}],hr[${Hv}]`),(e=>{e.removeAttribute(Hv)})),T(a)&&H(a,i)&&t.hasFocus()){U();const t=e.getStart(!0);if(H(t,a)&&H(e.getEnd(!0),a))return n.setAttrib(a,Hv,s),void N.throttle(a)}L()},B=()=>{Ce(Vv,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},U=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{U(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",F),t.on("keyup compositionend",(e=>{a&&"TABLE"===a.nodeName&&F(e)})),t.on("hide blur",L),t.on("contextmenu longpress",E,!0)})),t.on("remove",B);const V=()=>{N.cancel(),a=s=u=null};return{isResizable:O,showResizeRect:z,hideResizeRect:L,updateResizeRect:F,destroy:V}},Zv=(e,t)=>{t.fold((t=>{e.setStartBefore(t.dom)}),((t,n)=>{e.setStart(t.dom,n)}),(t=>{e.setStartAfter(t.dom)}))},$v=(e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))},qv=(e,t,n)=>{const o=e.document.createRange();return Zv(o,t),$v(o,n),o},Gv=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Kv=_d.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yv=(e,t,n)=>t(go.fromDom(n.startContainer),n.startOffset,go.fromDom(n.endContainer),n.endOffset),Jv=(e,t)=>t.match({domRange:e=>({ltr:I(e),rtl:W.none}),relative:(t,n)=>({ltr:qe((()=>qv(e,t,n))),rtl:qe((()=>W.some(qv(e,n,t))))}),exact:(t,n,o,r)=>({ltr:qe((()=>Gv(e,t,n,o,r))),rtl:qe((()=>W.some(Gv(e,o,r,t,n))))})}),Xv=(e,t)=>{const n=t.ltr();if(n.collapsed){const o=t.rtl().filter((e=>!1===e.collapsed));return o.map((e=>Kv.rtl(go.fromDom(e.endContainer),e.endOffset,go.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Yv(e,Kv.ltr,n)))}return Yv(e,Kv.ltr,n)},Qv=(e,t)=>{const n=Jv(e,t);return Xv(e,n)};Kv.ltr,Kv.rtl;const ey=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),ty={create:ey},ny=(e,t,n)=>{var o,r;return W.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return W.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),W.some(n)}))},oy=(e,t,n)=>{var o,r;return W.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},ry=(()=>document.caretPositionFromPoint?ny:document.caretRangeFromPoint?oy:W.none)(),iy=(e,t,n)=>{const o=go.fromDom(e.document);return ry(o,t,n).map((e=>ty.create(go.fromDom(e.startContainer),e.startOffset,go.fromDom(e.endContainer),e.endOffset)))},ay=_d.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sy=(e,t,n,o)=>e.fold(t,n,o),ly=e=>e.fold(z,z,z),cy=ay.before,uy=ay.on,dy=ay.after,hy={before:cy,on:uy,after:dy,cata:sy,getStart:ly},my=_d.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),py=e=>my.exact(e.start,e.soffset,e.finish,e.foffset),fy=e=>e.match({domRange:e=>go.fromDom(e.startContainer),relative:(e,t)=>hy.getStart(e),exact:(e,t,n,o)=>e}),gy=my.domRange,vy=my.relative,yy=my.exact,by=e=>{const t=fy(e);return To(t)},wy=ty.create,_y={domRange:gy,relative:vy,exact:yy,exactFromRange:py,getWin:by,range:wy},xy=(e,t)=>{const n=Rn(e);return"input"===n?hy.after(e):Y(["br","img"],n)?0===t?hy.before(e):hy.after(e):hy.on(e,t)},Cy=(e,t)=>{const n=e.fold(hy.before,xy,hy.after),o=t.fold(hy.before,xy,hy.after);return _y.relative(n,o)},Sy=(e,t,n,o)=>{const r=xy(e,t),i=xy(n,o);return _y.relative(r,i)},ky=e=>e.match({domRange:e=>{const t=go.fromDom(e.startContainer),n=go.fromDom(e.endContainer);return Sy(t,e.startOffset,n,e.endOffset)},relative:Cy,exact:Sy}),Ey=(e,t)=>{const n=t||document,o=n.createDocumentFragment();return Q(e,(e=>{o.appendChild(e.dom)})),go.fromDom(o)},Ty=e=>{const t=_y.getWin(e).dom,n=(e,n,o,r)=>Gv(t,e,n,o,r),o=ky(e);return Qv(t,o).match({ltr:n,rtl:n})},My=(e,t,n)=>iy(e,t,n),Oy=(e,t,n)=>{const o=To(go.fromDom(n));return My(o.dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},Dy=(e,t)=>T(e)&&T(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Ay=(e,t,n)=>{let o=e;while(o&&o!==t){if(n(o))return o;o=o.parentNode}return null},Ry=(e,t,n)=>null!==Ay(e,t,n),Py=(e,t,n)=>Ry(e,t,(e=>e.nodeName===n)),Iy=(e,t)=>Sa(e)&&!Ry(e,t,sf),zy=(e,t,n)=>{const o=t.parentNode;if(o){const r=new ii(t,e.getParent(o,e.isBlock)||e.getRoot());let i;while(i=r[n?"prev":"next"]())if(ki(i))return!0}return!1},Ny=(e,t)=>{var n;return(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)===t},Ly=(e,t)=>{let n=t;while(n&&n!==e){if(Mi(n))return!0;n=n.parentNode}return!1},Hy=(e,t,n,o,r)=>{const i=e.getRoot(),a=e.schema.getNonEmptyElements(),s=r.parentNode;let l,c;if(!s)return W.none();const u=e.getParent(s,e.isBlock)||i;if(o&&ki(r)&&t&&e.isEmpty(u))return W.some(zu(s,e.nodeIndex(r)));const d=new ii(r,u);while(c=d[o?"prev":"next"]()){if("false"===e.getContentEditableParent(c)||Iy(c,i))return W.none();if(bi(c)&&c.data.length>0)return Py(c,i,"A")?W.none():W.some(zu(c,o?c.data.length:0));if(e.isBlock(c)||a[c.nodeName.toLowerCase()])return W.none();l=c}return xi(l)?W.none():n&&l?W.some(zu(l,0)):W.none()},Fy=(e,t,n,o)=>{const r=e.getRoot();let i,a=!1,s=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=li(s)&&l===s.childNodes.length,u=e.schema.getNonEmptyElements();let d=n;if(Sa(s))return W.none();if(li(s)&&l>s.childNodes.length-1&&(d=!1),Ci(s)&&(s=r,l=0),s===r){if(d&&(i=s.childNodes[l>0?l-1:0],i)){if(Sa(i))return W.none();if(u[i.nodeName]||gi(i))return W.none()}if(s.hasChildNodes()){if(l=Math.min(!d&&l>0?l-1:l,s.childNodes.length-1),s=s.childNodes[l],l=bi(s)&&c?s.data.length:0,!t&&s===r.lastChild&&gi(s))return W.none();if(Ly(r,s)||Sa(s))return W.none();if(s.hasChildNodes()&&!gi(s)){i=s;const t=new ii(s,r);do{if(Mi(i)||Sa(i)){a=!1;break}if(bi(i)&&i.data.length>0){l=d?0:i.data.length,s=i,a=!0;break}if(u[i.nodeName.toLowerCase()]&&!Di(i)){l=e.nodeIndex(i),s=i.parentNode,d||l++,a=!0;break}}while(i=d?t.next():t.prev())}}}return t&&(bi(s)&&0===l&&Hy(e,c,t,!0,s).each((e=>{s=e.container(),l=e.offset(),a=!0})),li(s)&&(i=s.childNodes[l],i||(i=s.childNodes[l-1]),!i||!ki(i)||Ny(i,"A")||zy(e,i,!1)||zy(e,i,!0)||Hy(e,c,t,!0,i).each((e=>{s=e.container(),l=e.offset(),a=!0})))),d&&!t&&bi(s)&&l===s.data.length&&Hy(e,c,t,!1,s).each((e=>{s=e.container(),l=e.offset(),a=!0})),a&&s?W.some(zu(s,l)):W.none()},By=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),r=zu.fromRangeStart(t);return Fy(e,n,!0,o).each((e=>{n&&zu.isAbove(r,e)||o.setStart(e.container(),e.offset())})),n||Fy(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),Dy(t,o)?W.none():W.some(o)},Uy=(e,t)=>e.splitText(t),Vy=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;if(t===o&&bi(t)){if(n>0&&n<t.data.length)if(o=Uy(t,n),t=o.previousSibling,r>n){r-=n;const e=Uy(o,r).previousSibling;t=o=e,r=e.data.length,n=0}else r=0}else if(bi(t)&&n>0&&n<t.data.length&&(t=Uy(t,n),n=0),bi(o)&&r>0&&r<o.data.length){const e=Uy(o,r).previousSibling;o=e,r=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},jy=e=>{const t=(t,n)=>Qg(e,t,n),n=Vy,o=t=>By(e,t).fold(V,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))),r=(t,n={type:"word"})=>{if("word"===n.type){const n=Xg(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t};return{walk:t,split:n,expand:r,normalize:o}};jy.compareRanges=Dy,jy.getCaretRangeFromPoint=Oy,jy.getSelectedNode=lu,jy.getNode=cu;const Wy=(e,t)=>{const n=(t,n)=>{if(!O(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;hr(o)&&(o.style[e]=n+"px")},o=n=>{const o=t(n);if(o<=0||null===o){const t=vr(n,e);return parseFloat(t)||0}return o},r=o,i=(e,t)=>re(t,((t,n)=>{const o=vr(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0),a=(e,t,n)=>{const o=i(e,n),r=t>o?t-o:0;return r};return{set:n,get:o,getOuter:r,aggregate:i,max:a}},Zy=Wy("height",(e=>{const t=e.dom;return Qo(e)?t.getBoundingClientRect().height:t.offsetHeight})),$y=e=>Zy.get(e),qy=()=>go.fromDom(document),Gy=(e,t)=>{const n=e.view(t);return n.fold(I([]),(t=>{const n=e.owner(t),o=Gy(e,n);return[t].concat(o)}))},Ky=(e,t)=>{const n=t.owner(e);return Gy(t,n)},Yy=e=>{var t;const n=e.dom===document?W.none():W.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(go.fromDom)},Jy=e=>ko(e);var Xy=Object.freeze({__proto__:null,view:Yy,owner:Jy});const Qy=e=>{const t=qy(),n=Yr(t),o=Ky(e,Xy),r=Kr(e),i=oe(o,((e,t)=>{const n=Kr(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Zr(i.left+r.left+n.left,i.top+r.top+n.top)},eb=e=>"textarea"===Rn(e),tb=(e,t)=>{const n=e.dispatch("ScrollIntoView",t);return n.isDefaultPrevented()},nb=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},ob=(e,t)=>{const n=No(e);if(0===n.length||eb(e))return{element:e,offset:t};if(t<n.length&&!eb(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return eb(o)?{element:e,offset:t}:"img"===Rn(o)?{element:o,offset:1}:Hn(o)?{element:o,offset:Ui(o).length}:{element:o,offset:No(o).length}}},rb=(e,t)=>{const n=Gr(e),o=$y(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},ib=(e,t)=>{const n=ob(e,t),o=go.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+va+"</span>");return Cr(n.element,o),rb(o,(()=>Ar(o)))},ab=e=>rb(go.fromDom(e),A),sb=(e,t,n,o)=>{db(e,((r,i)=>cb(e,t,n,o)),n)},lb=(e,t,n,o,r)=>{const i={elm:o.element.dom,alignToTop:r};if(tb(e,i))return;const a=Yr(t).top;n(t,a,o,r),nb(e,i)},cb=(e,t,n,o)=>{const r=go.fromDom(e.getBody()),i=go.fromDom(e.getDoc());xr(r);const a=ib(go.fromDom(n.startContainer),n.startOffset);lb(e,i,t,a,o),a.cleanup()},ub=(e,t,n,o)=>{const r=go.fromDom(e.getDoc());lb(e,r,n,ab(t),o)},db=(e,t,n)=>{const o=n.startContainer,r=n.startOffset,i=n.endContainer,a=n.endOffset;t(go.fromDom(o),go.fromDom(i));const s=e.dom.createRng();s.setStart(o,r),s.setEnd(i,a),e.selection.setRng(n)},hb=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),mb=(e,t,n,o)=>{const r=t+e,i=n.pos.top,a=n.bottom,s=a-i>=t;if(i<e)hb(n,!1!==o);else if(i>r){const e=s?!1!==o:!0===o;hb(n,e)}else a>r&&!s&&hb(n,!0===o)},pb=(e,t,n,o)=>{const r=To(e).dom.innerHeight;mb(t,r,n,o)},fb=(e,t,n,o)=>{const r=To(e).dom.innerHeight;mb(t,r,n,o);const i=Qy(n.element),a=ei(window);i.top<a.y?Jr(n.element,!1!==o):i.top>a.bottom&&Jr(n.element,!0===o)},gb=(e,t,n)=>sb(e,pb,t,n),vb=(e,t,n)=>ub(e,t,pb,n),yb=(e,t,n)=>sb(e,fb,t,n),bb=(e,t,n)=>ub(e,t,fb,n),wb=(e,t,n)=>{const o=e.inline?vb:bb;o(e,t,n)},_b=(e,t,n)=>{const o=e.inline?gb:yb;o(e,t,n)},xb=e=>e.dom.focus(),Cb=e=>{const t=$o(e).dom;return e.dom===t.activeElement},Sb=(e=qy())=>W.from(e.dom.activeElement).map(go.fromDom),kb=e=>Sb($o(e)).filter((t=>e.dom.contains(t.dom))),Eb=(e,t)=>{const n=Hn(t)?Ui(t).length:No(t).length+1;return e>n?n:e<0?0:e},Tb=e=>_y.range(e.start,Eb(e.soffset,e.start),e.finish,Eb(e.foffset,e.finish)),Mb=(e,t)=>!si(t.dom)&&(Co(e,t)||xo(e,t)),Ob=e=>t=>Mb(e,t.start)&&Mb(e,t.finish),Db=e=>e.inline||tn.browser.isFirefox(),Ab=e=>_y.range(go.fromDom(e.startContainer),e.startOffset,go.fromDom(e.endContainer),e.endOffset),Rb=e=>{const t=e.getSelection(),n=t&&0!==t.rangeCount?W.from(t.getRangeAt(0)):W.none();return n.map(Ab)},Pb=e=>{const t=To(e);return Rb(t.dom).filter(Ob(e))},Ib=(e,t)=>W.from(t).filter(Ob(e)).map(Tb),zb=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),W.some(t)}catch(n){return W.none()}},Nb=e=>{const t=Db(e)?Pb(go.fromDom(e.getBody())):W.none();e.bookmark=t.isSome()?t:e.bookmark},Lb=e=>{const t=e.bookmark?e.bookmark:W.none();return t.bind((t=>Ib(go.fromDom(e.getBody()),t))).bind(zb)},Hb=e=>{Lb(e).each((t=>e.selection.setRng(t)))},Fb=e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Bb={isEditorUIElement:Fb},Ub=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),Vb=(e,t)=>(O(t)||(t=0),setInterval(e,t)),jb={setEditorTimeout:(e,t,n)=>Ub((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=Vb((()=>{e.removed?clearInterval(o):t()}),n);return o}},Wb=e=>"nodechange"===e.type&&e.selectionChange,Zb=(e,t)=>{const n=()=>{t.throttle()};Jl.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Jl.DOM.unbind(document,"mouseup",n)}))},$b=(e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))},qb=(e,t)=>{$b(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{Wb(t)||Nb(e)}))},Gb=e=>{const t=xc((()=>{Nb(e)}),0);e.on("init",(()=>{e.inline&&Zb(e,t),qb(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Kb;const Yb=Jl.DOM,Jb=e=>li(e)&&Bb.isEditorUIElement(e),Xb=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Qb=(e,t)=>{const n=Ih(e),o=Yb.getParent(t,(t=>Jb(t)||!!n&&e.dom.is(t,n)));return null!==o},ew=e=>{try{const t=$o(go.fromDom(e.getElement()));return Sb(t).fold((()=>document.body),(e=>e.dom))}catch(t){return document.body}},tw=(e,t)=>{const n=t.editor;Gb(n);const o=(e,t)=>{if(xm(e)&&!0!==e.inline){const n=go.fromDom(e.getContainer());t(n,"tox-edit-focus")}};n.on("focusin",(()=>{const t=e.focusedEditor;Xb(ew(n))&&o(n,io),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{jb.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Xb(ew(n))&&t===n||o(n,so),Qb(n,ew(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Kb||(Kb=t=>{const n=e.activeEditor;n&&Jo(t).each((t=>{const o=t;o.ownerDocument===document&&(o===document.body||Qb(n,o)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Yb.bind(document,"focusin",Kb))},nw=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Kb&&(Yb.unbind(document,"focusin",Kb),Kb=null)},ow=e=>{e.on("AddEditor",L(tw,e)),e.on("RemoveEditor",L(nw,e))},rw=(e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))),iw=e=>e.collapsed?W.from(cu(e.startContainer,e.startOffset)).map(go.fromDom):W.none(),aw=(e,t)=>iw(t).bind((t=>sa(t)?W.some(t):Co(e,t)?W.none():W.some(e))),sw=(e,t)=>{aw(go.fromDom(e.getBody()),t).bind((e=>of(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},lw=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},cw=e=>Cb(e)||kb(e).isSome(),uw=e=>T(e.iframeElement)&&Cb(go.fromDom(e.iframeElement)),dw=e=>{const t=e.getBody();return t&&cw(go.fromDom(t))},hw=e=>{const t=$o(go.fromDom(e.getElement()));return Sb(t).filter((t=>!Xb(t.dom)&&Qb(e,t.dom))).isSome()},mw=e=>e.inline?dw(e):uw(e),pw=e=>mw(e)||hw(e),fw=e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),T(e.bookmark)&&!mw(e)&&Lb(e).each((t=>{e.selection.setRng(t),o=t}));const r=rw(e,t.getNode());if(r&&e.dom.isChildOf(r,n))return lw(r),sw(e,o),void gw(e);e.inline||(tn.browser.isOpera()||lw(n),e.getWin().focus()),(tn.browser.isFirefox()||e.inline)&&(lw(n),sw(e,o)),gw(e)},gw=e=>e.editorManager.setActive(e),vw=(e,t)=>{e.removed||(t?gw(e):fw(e))},yw=(e,t,n,o,r)=>{const i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return W.from(i).map(go.fromDom).map((e=>o&&t.collapsed?e:Lo(e,r(e,a)).getOr(e))).bind((e=>Ln(e)?W.some(e):Mo(e).filter(Ln))).map((e=>e.dom)).getOr(e)},bw=(e,t,n=!1)=>yw(e,t,!0,n,((e,t)=>Math.min(Bo(e),t))),ww=(e,t,n=!1)=>yw(e,t,!1,n,((e,t)=>t>0?t-1:t)),_w=(e,t)=>{const n=e;while(e&&bi(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},xw=(e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const r=t.startOffset,i=t.endOffset;let a=t.commonAncestorContainer;t.collapsed||(n===o&&i-r<2&&n.hasChildNodes()&&(a=n.childNodes[r]),bi(n)&&bi(o)&&(n=n.length===r?_w(n.nextSibling,!0):n.parentNode,o=0===i?_w(o.previousSibling,!1):o.parentNode,n&&n===o&&(a=n)));const s=bi(a)?a.parentNode:a;return li(s)?s:e},Cw=(e,t,n,o)=>{const r=[],i=e.getRoot(),a=e.getParent(n||bw(i,t,t.collapsed),e.isBlock),s=e.getParent(o||ww(i,t,t.collapsed),e.isBlock);if(a&&a!==i&&r.push(a),a&&s&&a!==s){let t;const n=new ii(a,i);while((t=n.next())&&t!==s)e.isBlock(t)&&r.push(t)}return s&&a!==s&&s!==i&&r.push(s),r},Sw=(e,t,n)=>W.from(t).bind((t=>W.from(t.parentNode).map((o=>{const r=e.nodeIndex(t),i=e.createRng();return i.setStart(o,r),i.setEnd(o,r+1),n&&(rg(e,i,t,!0),rg(e,i,t,!1)),i})))),kw=(e,t)=>X(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),Ew=e=>"img"===Rn(e)?1:Vi(e).fold((()=>No(e).length),(e=>e.length)),Tw=e=>Vi(e).filter((e=>0!==e.trim().length||e.indexOf(Ni)>-1)).isSome(),Mw=e=>Nn(e)&&"false"===Zn(e,"contenteditable"),Ow=["img","br"],Dw=e=>{const t=Tw(e);return t||Y(Ow,Rn(e))||Mw(e)},Aw=e=>ir(e,Dw),Rw=e=>Pw(e,Dw),Pw=(e,t)=>{const n=e=>{const o=No(e);for(let r=o.length-1;r>=0;r--){const e=o[r];if(t(e))return W.some(e);const i=n(e);if(i.isSome())return i}return W.none()};return n(e)},Iw="[data-mce-autocompleter]",zw=(e,t)=>{if(Lw(go.fromDom(e.getBody())).isNone()){const n=go.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Er(n,go.fromDom(t.extractContents())),t.insertNode(n.dom),Mo(n).each((e=>e.dom.normalize())),Rw(n).map((t=>{e.selection.setCursorLocation(t.dom,Ew(t))}))}},Nw=e=>lr(e,Iw),Lw=e=>sr(e,Iw),Hw=(e,t)=>Lw(t).each((t=>{const n=e.selection.getBookmark();Rr(t),e.selection.moveToBookmark(n)})),Fw={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Bw=(e,t,n)=>{const o=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[r];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[r],n)return n}},Uw=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!Ja(n))return!1;const o=e.parent;return!o||"span"===o.name&&!o.attr("style")||!/^[ ]+$/.test(n)},Vw=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class jw{static create(e,t){const n=new jw(e,Fw[e]||1);return t&&Ce(t,((e,t)=>{n.attr(t,e)})),n}constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!b(e))return T(e)&&Ce(e,((e,t)=>{n.attr(t,e)})),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;while(t--)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;while(n--)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new jw(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=Bw(o,t))o.name===e&&n.push(o);return n}children(){const e=this,t=[];for(let n=e.firstChild;n;n=n.next)t.push(n);return t}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=Bw(o,e))t.push(o);let n=t.length;while(n--){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const r=this;let i=r.firstChild;if(Vw(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(Vw(i))return!1}if(8===i.type)return!1;if(3===i.type&&!Uw(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Ja(null!==(o=i.value)&&void 0!==o?o:""))return!1;if(n&&n(i))return!1}while(i=Bw(i,r));return!0}walk(e){return Bw(this,null,e)}}const Ww=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),Zw=(e,t,n=0)=>{const o=e.toLowerCase();if(-1!==o.indexOf("[if ",n)&&Ww(o,n)){const e=o.indexOf("[endif]",n);return o.indexOf(">",e)}if(t){const e=o.indexOf(">",n);return-1!==e?e:o.length}{const t=/--!?>/g;t.lastIndex=n;const r=t.exec(e);return r?r.index+r[0].length:o.length}},$w=(e,t,n)=>{const o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let a=1,s=n;while(0!==a){o.lastIndex=s;while(1){const e=o.exec(t);if(null===e)return s;if("!"===e[1]){s=ct(e[2],"--")?Zw(t,!1,e.index+3):Zw(t,!0,e.index+1);break}{r.lastIndex=o.lastIndex;const n=r.exec(t);if(C(n)||n.index!==o.lastIndex)continue;"/"===e[1]?a-=1:Pe(i,e[2])||(a+=1),s=o.lastIndex+n[0].length;break}}}return s},qw=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Gw=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema;let r=qw(e.getTempAttrs(),t);const i=o.getVoidElements();let a;while(a=n.exec(r)){const e=n.lastIndex,t=a[0].length;let s;s=i[a[1]]?e:$w(o,r,e),r=r.substring(0,e-t)+r.substring(s),n.lastIndex=e-t}return ba(r)},Kw=Gw,Yw=e=>{const t=oi(e,"[data-mce-bogus]");Q(t,(e=>{const t=Zn(e,"data-mce-bogus");"all"===t?Ar(e):oa(e)?(Cr(e,go.fromText(zi)),Ar(e)):Rr(e)}))},Jw=e=>{const t=oi(e,"input");Q(t,(e=>{Gn(e,"name")}))},Xw=(e,t)=>{const n=qd(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")},Qw=(e,t)=>{const n=e.getDoc(),o=$o(go.fromDom(e.getBody())),r=go.fromTag("div",n);jn(r,"data-mce-bogus","all"),gr(r,{position:"fixed",left:"-9999999px",top:"0"}),Nr(r,t.innerHTML),Yw(r),Jw(r);const i=Go(o);Er(i,r);const a=ba(r.dom.innerText);return Ar(r),a},e_=(e,t,n)=>{let o;o="raw"===t.format?mn.trim(Kw(e.serializer,n.innerHTML)):"text"===t.format?Qw(e,n):"tree"===t.format?e.serializer.serialize(n,t):Xw(e,e.serializer.serialize(n,t));const r="text"!==t.format&&!ca(go.fromDom(n));return r&&b(o)?mn.trim(o):o},t_=(e,t)=>W.from(e.getBody()).fold(I("tree"===t.format?new jw("body",11):""),(n=>e_(e,t,n))),n_=mn.makeMap,o_=e=>{const t=[];e=e||{};const n=e.indent,o=n_(e.indent_before||""),r=n_(e.indent_after||""),i=ul.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="xhtml"!==e.element_format;return{start:(e,s,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),s)for(let n=0,o=s.length;n<o;n++){const e=s[n];t.push(" ",e.name,'="',i(e.value,!0),'"')}if(t[t.length]=!l||a?">":" />",l&&n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),n&&r[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",i(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},r_=(e={},t=Sl())=>{const n=o_(e);e.validate=!("validate"in e)||e.validate;const o=o=>{const r=e.validate,i={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{a(t)}while(t=t.next)}};n.reset();const a=e=>{var o;const s=i[e.type];if(s)s(e);else{const i=e.name,s=i in t.getVoidElements();let l=e.attributes;if(r&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(i,l,s),!s){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text("\n",!0);do{a(t)}while(t=t.next)}n.end(i)}}};return 1!==o.type||e.inner?3===o.type?i[3](o):i[11](o):a(o),n.getContent()};return{serialize:o}},i_=new Set;(()=>{const e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(e,(e=>{i_.add(e)}))})();const a_=["font","text-decoration","text-emphasis"],s_=(e,t)=>_e(e.parseStyle(e.getAttrib(t,"style"))),l_=e=>i_.has(e),c_=(e,t)=>ue(s_(e,t),(e=>!l_(e))),u_=e=>ne(e,(e=>J(a_,(t=>ct(e,t))))),d_=(e,t,n)=>{const o=s_(e,t),r=s_(e,n),i=o=>{var r,i;const a=null!==(r=e.getStyle(t,o))&&void 0!==r?r:"",s=null!==(i=e.getStyle(n,o))&&void 0!==i?i:"";return ft(a)&&ft(s)&&a!==s};return J(o,(e=>{const t=t=>J(t,(t=>t===e));if(!t(r)&&t(a_)){const e=u_(r);return J(e,i)}return i(e)}))},h_=(e,t,n)=>W.from(n.container()).filter(bi).exists((o=>{const r=e?0:-1;return t(o.data.charAt(n.offset()+r))})),m_=L(h_,!0,Pf),p_=L(h_,!1,Pf),f_=e=>{const t=e.container();return bi(t)&&(0===t.data.length||ya(t.data)&&uv.isBookmarkNode(t.parentNode))},g_=(e,t)=>n=>vp(e?0:-1,n).filter(t).isSome(),v_=e=>Ei(e)&&"block"===vr(go.fromDom(e),"display"),y_=e=>Mi(e)&&!fi(e),b_=g_(!0,v_),w_=g_(!1,v_),__=g_(!0,Ai),x_=g_(!1,Ai),C_=g_(!0,gi),S_=g_(!1,gi),k_=g_(!0,y_),E_=g_(!1,y_),T_=e=>e.slice(0,-1),M_=(e,t,n)=>Co(t,e)?T_(Do(e,(e=>n(e)||xo(e,t)))):[],O_=(e,t)=>M_(e,t,V),D_=(e,t)=>[e].concat(O_(e,t)),A_=(e,t,n)=>Qp(e,t,n,f_),R_=(e,t)=>ae(D_(go.fromDom(t.container()),e),ea),P_=(e,t,n)=>A_(e,t.dom,n).forall((e=>R_(t,n).fold((()=>!gp(e,n,t.dom)),(o=>!gp(e,n,t.dom)&&Co(o,go.fromDom(e.container())))))),I_=(e,t,n)=>R_(t,n).fold((()=>A_(e,t.dom,n).forall((e=>!gp(e,n,t.dom)))),(t=>A_(e,t.dom,n).isNone())),z_=L(I_,!1),N_=L(I_,!0),L_=L(P_,!1),H_=L(P_,!0),F_=e=>Ep(e).exists(oa),B_=(e,t,n)=>{const o=ne(D_(go.fromDom(n.container()),t),ea),r=ge(o).getOr(t);return Jp(e,r.dom,n).filter(F_)},U_=(e,t)=>Ep(t).exists(oa)||B_(!0,e,t).isSome(),V_=(e,t)=>Tp(t).exists(oa)||B_(!1,e,t).isSome(),j_=L(B_,!1),W_=L(B_,!0),Z_=e=>zu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),$_=(e,t)=>{const n=ne(D_(go.fromDom(t.container()),e),ea);return ge(n).getOr(e)},q_=(e,t)=>Z_(t)?p_(t):p_(t)||nf($_(e,t).dom,t).exists(p_),G_=(e,t)=>Z_(t)?m_(t):m_(t)||tf($_(e,t).dom,t).exists(m_),K_=e=>Y(["pre","pre-wrap"],e),Y_=e=>Ep(e).bind((e=>nr(e,Ln))).exists((e=>K_(vr(e,"white-space")))),J_=(e,t)=>nf(e.dom,t).isNone(),X_=(e,t)=>tf(e.dom,t).isNone(),Q_=(e,t)=>J_(e,t)||X_(e,t)||z_(e,t)||N_(e,t)||V_(e,t)||U_(e,t),ex=e=>T(e)&&Mi(e)&&rp(e),tx=(e,t)=>n=>ex(new ii(n,e)[t]()),nx=(e,t)=>{const n=tf(e.dom,t).getOr(t),o=tx(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(n.container()))},ox=(e,t)=>{const n=nf(e.dom,t).getOr(t),o=tx(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(n.container()))},rx=(e,t)=>!Y_(t)&&(Q_(e,t)||q_(e,t)||G_(e,t)),ix=(e,t)=>!Y_(t)&&(z_(e,t)||L_(e,t)||V_(e,t)||q_(e,t)||ox(e,t)),ax=e=>{const t=e.container(),n=e.offset();return bi(t)&&n<t.data.length?zu(t,n+1):e},sx=(e,t)=>!Y_(t)&&(N_(e,t)||H_(e,t)||U_(e,t)||G_(e,t)||nx(e,t)),lx=(e,t)=>ix(e,t)||sx(e,ax(t)),cx=(e,t)=>Rf(e.charAt(t)),ux=(e,t)=>Pf(e.charAt(t)),dx=e=>{const t=e.container();return bi(t)&&lt(t.data,Ni)},hx=e=>{const t=e.split("");return X(t,((e,n)=>Rf(e)&&n>0&&n<t.length-1&&If(t[n-1])&&If(t[n+1])?" ":e)).join("")},mx=(e,t,n)=>{const o=t.data,r=zu(t,0);return n||!cx(o,0)||lx(e,r)?!!(n&&ux(o,0)&&ix(e,r))&&(t.data=Ni+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},px=e=>{const t=e.data,n=hx(t);return n!==t&&(e.data=n,!0)},fx=(e,t,n)=>{const o=t.data,r=zu(t,o.length-1);return n||!cx(o,o.length-1)||lx(e,r)?!!(n&&ux(o,o.length-1)&&sx(e,r))&&(t.data=o.slice(0,-1)+Ni,!0):(t.data=o.slice(0,-1)+" ",!0)},gx=(e,t)=>{const n=t.container();if(!bi(n))return W.none();if(dx(t)){const o=mx(e,n,!1)||px(n)||fx(e,n,!1);return yn(o,t)}if(lx(e,t)){const o=mx(e,n,!0)||fx(e,n,!0);return yn(o,t)}return W.none()},vx=e=>{const t=go.fromDom(e.getBody());e.selection.isCollapsed()&&gx(t,zu.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))},yx=(e,t,n)=>{if(0===n)return;const o=go.fromDom(e),r=tr(o,ea).getOr(o),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&sx(r,zu(e,e.data.length)),s=0===t&&ix(r,zu(e,0));e.replaceData(t,n,ns(i,4,s,a))},bx=(e,t)=>{const n=e.data.slice(t),o=n.length-mt(n).length;yx(e,t,o)},wx=(e,t)=>{const n=e.data.slice(0,t),o=n.length-pt(n).length;yx(e,t-o,o)},_x=(e,t,n,o=!0)=>{const r=pt(e.data).length,i=o?e:t,a=o?t:e;return o?i.appendData(a.data):i.insertData(0,a.data),Ar(go.fromDom(a)),n&&bx(i,r),i},xx=(e,t)=>{const n=e.container(),o=e.offset();return!zu.isTextPosition(e)&&n===t.parentNode&&o>zu.before(t).offset()},Cx=(e,t)=>xx(t,e)?zu(t.container(),t.offset()-1):t,Sx=e=>bi(e)?zu(e,0):zu.before(e),kx=e=>bi(e)?zu(e,e.data.length):zu.after(e),Ex=e=>ja(e.previousSibling)?W.some(kx(e.previousSibling)):e.previousSibling?rf(e.previousSibling):W.none(),Tx=e=>ja(e.nextSibling)?W.some(Sx(e.nextSibling)):e.nextSibling?of(e.nextSibling):W.none(),Mx=(e,t)=>W.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>nf(e,zu.before(t)))).orThunk((()=>tf(e,zu.after(t)))),Ox=(e,t)=>tf(e,zu.after(t)).orThunk((()=>nf(e,zu.before(t)))),Dx=(e,t)=>Ex(t).orThunk((()=>Tx(t))).orThunk((()=>Mx(e,t))),Ax=(e,t)=>Tx(t).orThunk((()=>Ex(t))).orThunk((()=>Ox(e,t))),Rx=(e,t,n)=>e?Ax(t,n):Dx(t,n),Px=(e,t,n)=>Rx(e,t,n).map(L(Cx,n)),Ix=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},zx=e=>t=>t.dom===e,Nx=(e,t)=>t&&Pe(e.schema.getBlockElements(),Rn(t)),Lx=e=>{if(ds(e)){const t=go.fromHtml('<br data-mce-bogus="1">');return Dr(e),Er(e,t),W.some(zu.before(t.dom))}return W.none()},Hx=(e,t,n)=>{const o=Ro(e).filter(Hn),r=Po(e).filter(Hn);return Ar(e),vn(o,r,t,((e,t,o)=>{const r=e.dom,i=t.dom,a=r.data.length;return _x(r,i,n),o.container()===i?zu(r,a):o})).orThunk((()=>(n&&(o.each((e=>wx(e.dom,e.dom.length))),r.each((e=>bx(e.dom,0)))),t)))},Fx=(e,t)=>Pe(e.schema.getTextInlineElements(),Rn(t)),Bx=(e,t,n,o=!0)=>{const r=Px(t,e.getBody(),n.dom),i=tr(n,L(Nx,e),zx(e.getBody())),a=Hx(n,r,Fx(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Lx).fold((()=>{o&&Ix(e,t,a)}),(n=>{o&&Ix(e,t,W.some(n))}))},Ux=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Vx=e=>Ux.test(e),jx=(e,t)=>yo(go.fromDom(t),bh(e))&&!Ts(e.schema,t)&&e.dom.isEditable(t),Wx=e=>{var t;return"rtl"===Jl.DOM.getStyle(e,"direction",!0)||Vx(null!==(t=e.textContent)&&void 0!==t?t:"")},Zx=(e,t,n)=>ne(Jl.DOM.getParents(n.container(),"*",t),e),$x=(e,t,n)=>{const o=Zx(e,t,n);return W.from(o[o.length-1])},qx=(e,t,n)=>{const o=fp(t,e),r=fp(n,e);return T(o)&&o===r},Gx=e=>Ta(e)||Ma(e),Kx=(e,t)=>{const n=t.container(),o=t.offset();return e?Ca(n)?bi(n.nextSibling)?zu(n.nextSibling,0):zu.after(n):Ta(t)?zu(n,o+1):t:Ca(n)?bi(n.previousSibling)?zu(n.previousSibling,n.previousSibling.data.length):zu.before(n):Ma(t)?zu(n,o-1):t},Yx=L(Kx,!0),Jx=L(Kx,!1),Xx=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Qx=e=>{e.execCommand("delete")},eC=e=>Xx(e,"Delete"),tC=e=>Xx(e,"ForwardDelete"),nC=e=>t=>pn(Mo(t),e,xo),oC=e=>ra(e)||aa(e),rC=(e,t)=>Co(e,t)?nr(t,oC,nC(e)):W.none(),iC=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},aC=(e,t,n)=>gn(of(n),rf(n),((o,r)=>{const i=Kx(!0,o),a=Kx(!1,r),s=Kx(!1,t);return e?tf(n,s).exists((e=>e.isEqual(a)&&t.isEqual(i))):nf(n,s).exists((e=>e.isEqual(i)&&t.isEqual(a)))})).getOr(!0),sC=e=>{const t=zn(e)?Ro(e):Fo(e);return t.bind(sC).orThunk((()=>W.some(e)))},lC=(e,t,n,o=!0)=>{var r;t.deleteContents();const i=sC(n).getOr(n),a=go.fromDom(null!==(r=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==r?r:n.dom);if(a.dom===e.getBody()?iC(e,o):ds(a)&&(fa(a),o&&e.selection.setCursorLocation(a.dom,0)),!xo(n,a)){const e=pn(Mo(a),n)?[]:Ao(a);Q(e.concat(No(n)),(e=>{xo(e,a)||Co(e,a)||!ds(e)||Ar(e)}))}},cC=e=>t=>xo(e,t),uC=e=>oi(e,"td,th"),dC=(e,t)=>{const n=e=>Xf(go.fromDom(e),t),o=n(e.startContainer),r=n(e.endContainer),i=o.isSome(),a=r.isSome(),s=gn(o,r,xo).getOr(!1),l=!s&&i&&a;return{startTable:o,endTable:r,isStartInTable:i,isEndInTable:a,isSameTable:s,isMultiTable:l}},hC=(e,t)=>({start:e,end:t}),mC=(e,t,n)=>({rng:e,table:t,cells:n}),pC=_d.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),fC=(e,t)=>lr(go.fromDom(e),"td,th",t),gC=e=>!xo(e.start,e.end),vC=(e,t)=>Xf(e.start,t).bind((n=>Xf(e.end,t).bind((e=>yn(xo(n,e),n))))),yC=(e,t)=>!gC(e)&&vC(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})),bC=(e,t)=>{const n=fC(e.startContainer,t),o=fC(e.endContainer,t);return gn(n,o,hC)},wC=e=>t=>Xf(t,e).bind((e=>ve(uC(e)).map((e=>hC(t,e))))),_C=e=>t=>Xf(t,e).bind((e=>ge(uC(e)).map((e=>hC(e,t))))),xC=e=>t=>vC(t,e).map((e=>mC(t,e,uC(e)))),CC=(e,t,n,o)=>{if(n.collapsed||!e.forall(gC))return W.none();if(t.isSameTable){const t=e.bind(xC(o));return W.some({start:t,end:t})}{const e=fC(n.startContainer,o),t=fC(n.endContainer,o),r=e.bind(wC(o)).bind(xC(o)),i=t.bind(_C(o)).bind(xC(o));return W.some({start:r,end:i})}},SC=(e,t)=>se(e,(e=>xo(e,t))),kC=e=>gn(SC(e.cells,e.rng.start),SC(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),EC=(e,t,n)=>e.exists((e=>yC(e,n)&&og(e.start,t))),TC=(e,t)=>{const{startTable:n,endTable:o}=t,r=e.cloneRange();return n.each((e=>r.setStartAfter(e.dom))),o.each((e=>r.setEndBefore(e.dom))),r},MC=(e,t,n,o)=>CC(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,r=kC(e).getOr([]);if(o&&e.cells.length===r.length)return W.some(pC.fullTable(e.table));if(r.length>0){if(o)return W.some(pC.partialTable(r,W.none()));{const e=TC(n,t);return W.some(pC.partialTable(r,W.some({...t,rng:e})))}}return W.none()})),OC=(e,t,n,o)=>CC(e,t,n,o).bind((({start:e,end:o})=>{const r=e.bind(kC).getOr([]),i=o.bind(kC).getOr([]);if(r.length>0&&i.length>0){const e=TC(n,t);return W.some(pC.multiTable(r,i,e))}return W.none()})),DC=(e,t)=>{const n=cC(e),o=bC(t,n),r=dC(t,n);return EC(o,t,n)?o.map((e=>pC.singleCellTable(t,e.start))):r.isMultiTable?OC(o,r,t,n):MC(o,r,t,n)},AC=e=>Q(e,(e=>{Gn(e,"contenteditable"),fa(e)})),RC=(e,t)=>W.from(e.dom.getParent(t,e.dom.isBlock)).map(go.fromDom),PC=(e,t,n)=>{n.each((n=>{t?Ar(n):(fa(n),e.selection.setCursorLocation(n.dom,0))}))},IC=(e,t,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),HC(e,r,t,!1).each((e=>e()))},zC=e=>{const t=Jf(e),n=go.fromDom(e.selection.getNode());Oi(n.dom)&&ds(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&J(t,(e=>xo(e,n)))&&jn(n,"data-mce-selected","1")},NC=(e,t,n)=>W.some((()=>{const o=e.selection.getRng(),r=n.bind((({rng:n,isStartInTable:r})=>{const i=RC(e,r?n.endContainer:n.startContainer);n.deleteContents(),PC(e,r,i.filter(ds));const a=r?t[0]:t[t.length-1];return IC(e,a,o,r),ds(a)?W.none():W.some(r?t.slice(1):t.slice(0,-1))})).getOr(t);AC(r),zC(e)})),LC=(e,t,n,o)=>W.some((()=>{const r=e.selection.getRng(),i=t[0],a=n[n.length-1];IC(e,i,r,!0),IC(e,a,r,!1);const s=ds(i)?t:t.slice(1),l=ds(a)?n:n.slice(0,-1);AC(s.concat(l)),o.deleteContents(),zC(e)})),HC=(e,t,n,o=!0)=>W.some((()=>{lC(e,t,n,o)})),FC=(e,t)=>W.some((()=>Bx(e,!1,t))),BC=(e,t,n)=>DC(t,n).bind((t=>t.fold(L(HC,e),L(FC,e),L(NC,e),L(LC,e)))),UC=(e,t)=>qC(e,t),VC=(e,t,n,o)=>ZC(t,o).fold((()=>BC(e,t,n)),(t=>UC(e,t))),jC=(e,t,n)=>{const o=go.fromDom(e.getBody()),r=e.selection.getRng();return 0!==n.length?NC(e,n,W.none()):VC(e,o,r,t)},WC=(e,t)=>ae(D_(t,e),la),ZC=(e,t)=>ae(D_(t,e),Un("caption")),$C=(e,t,n,o,r)=>Xp(n,e.getBody(),r).bind((e=>WC(t,go.fromDom(e.getNode())).bind((e=>xo(e,o)?W.none():W.some(A))))),qC=(e,t)=>W.some((()=>{fa(t),e.selection.setCursorLocation(t.dom,0)})),GC=(e,t,n,o)=>of(e.dom).bind((r=>rf(e.dom).map((e=>t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r))))).getOr(!0),KC=(e,t)=>qC(e,t),YC=(e,t,n)=>ZC(e,go.fromDom(n.getNode())).fold((()=>W.some(A)),(e=>yn(!xo(e,t),A))),JC=(e,t,n,o,r)=>Xp(n,e.getBody(),r).fold((()=>W.some(A)),(i=>GC(o,n,r,i)?KC(e,o):YC(t,o,i))),XC=(e,t,n,o)=>{const r=zu.fromRangeStart(e.selection.getRng());return WC(n,o).bind((o=>ds(o)?qC(e,o):$C(e,n,t,o,r)))},QC=(e,t,n,o)=>{const r=zu.fromRangeStart(e.selection.getRng());return ds(o)?qC(e,o):JC(e,n,t,o,r)},eS=(e,t)=>e?C_(t):S_(t),tS=(e,t)=>{const n=zu.fromRangeStart(e.selection.getRng());return eS(t,n)||Jp(t,e.getBody(),n).exists((e=>eS(t,e)))},nS=(e,t,n)=>{const o=go.fromDom(e.getBody());return ZC(o,n).fold((()=>XC(e,t,o,n).orThunk((()=>yn(tS(e,t),A)))),(n=>QC(e,t,o,n)))},oS=(e,t)=>{const n=go.fromDom(e.selection.getStart(!0)),o=Jf(e);return e.selection.isCollapsed()&&0===o.length?nS(e,t,n):jC(e,n,o)},rS=(e,t)=>{let n=t;while(n&&n!==e){if(Ti(n)||Mi(n))return n;n=n.parentNode}return null},iS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],aS=mn.each,sS=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const o=e=>{const n={};return aS(t.getAttribs(e),(o=>{const i=o.nodeName.toLowerCase();"style"===i||r(i)||(n[i]=t.getAttrib(e,i))})),n},i=(e,t)=>{for(const n in e)if(Pe(e,n)){const o=t[n];if(k(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const n in t)if(Pe(t,n))return!1;return!0};if(li(e)&&li(n)){if(!i(o(e),o(n)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Df(e)&&!Df(n)},r=e=>J(iS,(t=>ct(e,t)))||n.has(e);return{compare:o,isAttributeInternal:r}},lS=(e,t)=>{let n=e;while(n=n.walk())t(n)},cS=(e,t,n,o)=>{const r=n.name;for(let i=0,a=e.length;i<a;i++){const t=e[i];if(t.name===r){const e=o.nodes[r];e?e.nodes.push(n):o.nodes[r]={filter:t,nodes:[n]}}}if(n.attributes)for(let i=0,a=t.length;i<a;i++){const e=t[i],r=e.name;if(r in n.attributes.map){const t=o.attributes[r];t?t.nodes.push(n):o.attributes[r]={filter:e,nodes:[n]}}}},uS=(e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&lS(n,(n=>{cS(e,t,n,o)})),o},dS=(e,t)=>{const n=(e,n)=>{Ce(e,(e=>{const o=ye(e.nodes);Q(e.filter.callbacks,(r=>{for(let t=o.length-1;t>=0;t--){const r=o[t],i=n?void 0!==r.attr(e.filter.name):r.name===e.filter.name;i&&!E(r.parent)||o.splice(t,1)}o.length>0&&r(o,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},hS=(e,t,n,o={})=>{const r=uS(e,t,n);dS(r,o)},mS=(e,t,n)=>{if(e.insert&&t(n)){const e=new jw("br",1);e.attr("data-mce-bogus","1"),n.empty().append(e)}else n.empty().append(new jw("#text",3)).value=Ni},pS=e=>{var t;return fS(e,"#text")&&(null===(t=null===e||void 0===e?void 0:e.firstChild)||void 0===t?void 0:t.value)===Ni},fS=(e,t)=>{const n=null===e||void 0===e?void 0:e.firstChild;return T(n)&&n===e.lastChild&&n.name===t},gS=(e,t)=>{const n=e.getElementRule(t.name);return!0===(null===n||void 0===n?void 0:n.paddEmpty)},vS=(e,t,n,o)=>o.isEmpty(t,n,(t=>gS(e,t))),yS=(e,t)=>T(e)&&(t(e)||"br"===e.name),bS=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return W.from(t)},wS=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&wS(e,t,n);e.unwrap()}},_S=(e,t,n,o=A)=>{const r=t.getTextBlockElements(),i=t.getNonEmptyElements(),a=t.getWhitespaceElements(),s=mn.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==n&&!s[e.name];for(let u=0;u<e.length;u++){const n=e[u];let s,d,h;if(!n.parent||l.has(n))continue;if(r[n.name]&&"li"===n.parent.name){let e=n.next;while(e){if(!r[e.name])break;e.name="li",l.add(e),n.parent.insert(e,n.parent),e=e.next}n.unwrap();continue}const m=[n];for(s=n.parent;s&&!t.isValidChild(s.name,n.name)&&c(s);s=s.parent)m.push(s);if(s&&m.length>1)if(t.isValidChild(s.name,n.name)){m.reverse(),d=m[0].clone(),o(d);let e=d;for(let n=0;n<m.length-1;n++){t.isValidChild(e.name,m[n].name)&&n>0?(h=m[n].clone(),o(h),e.append(h)):h=e;for(let e=m[n].firstChild;e&&e!==m[n+1];){const t=e.next;h.append(e),e=t}e=h}vS(t,i,a,d)?s.insert(n,m[0],!0):(s.insert(d,m[0],!0),s.insert(n,d)),s=m[0],(vS(t,i,a,s)||fS(s,"br"))&&s.empty().remove()}else wS(n,t);else if(n.parent){if("li"===n.name){let e=n.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(n);continue}if(e=n.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(n,e.firstChild,!0);continue}const t=new jw("ul",1);o(t),n.wrap(t);continue}if(t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)){const e=new jw("div",1);o(e),n.wrap(e)}else wS(n,t)}}},xS=(e,t)=>{let n=e;while(n){if(n.name===t)return!0;n=n.parent}return!1},CS=(e,t,n=t.parent)=>!(!n||!e.children[t.name]||e.isValidChild(n.name,t.name))||!(!n||"a"!==t.name||!xS(n,"a")),SS=(e,t,n,o)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r},kS=e=>{const t=zu.fromRangeStart(e),n=zu.fromRangeEnd(e),o=e.commonAncestorContainer;return Jp(!1,o,n).map((r=>!gp(t,n,o)&&gp(t,r,o)?SS(t.container(),t.offset(),r.container(),r.offset()):e)).getOr(e)},ES=e=>e.collapsed?e:kS(e),TS=e=>T(e.firstChild)&&e.firstChild===e.lastChild,MS=e=>"br"===e.name||e.value===Ni,OS=(e,t)=>{const n=e.getBlockElements();return n[t.name]&&TS(t)&&MS(t.firstChild)},DS=(e,t)=>{const n=e.getNonEmptyElements();return T(t)&&(t.isEmpty(n)||OS(e,t))},AS=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),DS(e,o)&&(o=null===o||void 0===o?void 0:o.prev),!(!n||n!==o)&&("ul"===n.name||"ol"===n.name)},RS=e=>{var t,n;const o=e.firstChild,r=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),r&&"mce_marker"===r.id&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),e},PS=(e,t,n)=>{const o=t.serialize(n),r=e.createFragment(o);return RS(r)},IS=e=>{var t;return ne(null!==(t=null===e||void 0===e?void 0:e.childNodes)&&void 0!==t?t:[],(e=>"LI"===e.nodeName))},zS=e=>e.data===Ni||ki(e),NS=e=>T(null===e||void 0===e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&zS(e.firstChild),LS=e=>!e.firstChild||NS(e),HS=e=>e.length>0&&LS(e[e.length-1])?e.slice(0,-1):e,FS=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},BS=(e,t)=>!!FS(e,t),US=(e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]},VS=(e,t)=>{const n=zu.before(e),o=jp(t),r=o.next(n);return r?r.toRange():null},jS=(e,t)=>{const n=zu.after(e),o=jp(t),r=o.prev(n);return r?r.toRange():null},WS=(e,t,n,o)=>{const r=US(e,o),i=e.parentNode;return i&&(i.insertBefore(r[0],e),mn.each(t,(t=>{i.insertBefore(t,e)})),i.insertBefore(r[1],e),i.removeChild(e)),jS(t[t.length-1],n)},ZS=(e,t,n)=>{const o=e.parentNode;return o&&mn.each(t,(t=>{o.insertBefore(t,e)})),VS(e,n)},$S=(e,t,n,o)=>(o.insertAfter(t.reverse(),e),jS(t[0],n)),qS=(e,t,n,o)=>{const r=PS(t,e,o),i=FS(t,n.startContainer),a=HS(IS(r.firstChild)),s=1,l=2,c=t.getRoot(),u=e=>{const o=zu.fromRangeStart(n),r=jp(t.getRoot()),a=e===s?r.prev(o):r.next(o),l=null===a||void 0===a?void 0:a.getNode();return!l||FS(t,l)!==i};return i?u(s)?ZS(i,a,c):u(l)?$S(i,a,c,t):WS(i,a,c,n):null},GS=["pre"],KS=(e,t,n,o)=>{var r;const i=t.firstChild,a=t.lastChild,s="bookmark"===a.attr("data-mce-type")?a.prev:a,l=i===s,c=Y(GS,i.name);if(l&&c){const t="false"!==i.attr("contenteditable"),a=(null===(r=e.getParent(n,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===i.name,s=W.from(rS(o,n)).forall(Ti);return t&&a&&s}return!1},YS=Oi,JS=(e,t,n)=>{if(T(n)){const o=e.getParent(t.endContainer,YS);return n===o&&og(go.fromDom(n),t)}return!1},XS=(e,t,n)=>{var o;if("all"===n.getAttribute("data-mce-bogus"))null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},QS=(e,t)=>{W.from(e.getParent(t,"td,th")).map(go.fromDom).each(ga)},ek=(e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),r=sS(e);mn.each(o.select("*[data-mce-fragment]"),(e=>{const i=T(n[e.nodeName.toLowerCase()]);if(i&&c_(o,e))for(let n=e.parentElement;T(n)&&n!==t;n=n.parentElement){const t=d_(o,e,n);if(t)break;if(r.compare(n,e)){o.remove(e,!0);break}}}))}},tk=e=>{let t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},nk=e=>{mn.each(e.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")}))},ok=e=>!!e.getAttribute("data-mce-fragment"),rk=(e,t)=>T(t)&&!e.schema.getVoidElements()[t.nodeName],ik=(e,t)=>{var n,o,r;let i;const a=e.dom,s=e.selection;if(!t)return;s.scrollIntoView(t);const l=rS(e.getBody(),t);if(l&&"false"===a.getContentEditable(l))return a.remove(t),void s.select(l);let c=a.createRng();const u=t.previousSibling;if(bi(u)){c.setStart(u,null!==(o=null===(n=u.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;bi(e)&&(u.appendData(e.data),null===(r=e.parentNode)||void 0===r||r.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const d=t=>{let n=zu.fromRangeStart(t);const o=jp(e.getBody());return n=o.next(n),null===n||void 0===n?void 0:n.toRange()},h=a.getParent(t,a.isBlock);a.remove(t),h&&a.isEmpty(h)&&(Dr(go.fromDom(h)),c.setStart(h,0),c.setEnd(h,0),YS(h)||ok(h)||!(i=d(c))?a.add(h,a.create("br",{"data-mce-bogus":"1"})):(c=i,a.remove(h))),s.setRng(c)},ak=e=>{const t=e.dom,n=ES(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,YS);JS(t,n,o)?HC(e,n,go.fromDom(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&bi(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},sk=e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return W.some(t);return W.none()},lk=e=>{Q(ye(e.getBody().querySelectorAll("details")),(e=>{const t=ne(ye(e.children),(e=>"SUMMARY"===e.nodeName));t.length>1&&Q(t.slice(1),(e=>{const t=go.fromDom(e);so(t,"mce-accordion-summary"),qc(t,"p")}))}))},ck=(e,t,n)=>{var o,r;const i=e.selection,a=e.dom,s=e.parser,l=n.merge,c=r_({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let d=i.getRng();const h=d.startContainer,m=e.getBody();h===m&&i.isCollapsed()&&a.isBlock(m.firstChild)&&rk(e,m.firstChild)&&a.isEmpty(m.firstChild)&&(d=a.createRng(),d.setStart(m.firstChild,0),d.setEnd(m.firstChild,0),i.setRng(d)),i.isCollapsed()||ak(e);const p=i.getNode(),f={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},g=s.parse(t,f);if(!0===n.paste&&AS(e.schema,g)&&BS(a,p))return d=qS(c,a,i.getRng(),g),d&&i.setRng(d),t;!0===n.paste&&KS(a,g,p,e.getBody())&&(null===(o=g.firstChild)||void 0===o||o.unwrap()),tk(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!a.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),f.invalid){e.selection.setContent(u);let n,o=i.getNode();const l=e.getBody();Ci(o)?o=n=l:n=o;while(n&&n!==l)o=n,n=n.parentNode;t=o===l?l.innerHTML:a.getOuterHTML(o);const d=s.parse(t),h=sk(d),m=h.bind(bS).getOr(d);h.each((e=>e.replace(g)));const p=g.children(),f=null!==(r=g.parent)&&void 0!==r?r:d;g.unwrap();const v=ne(p,(t=>CS(e.schema,t,f)));_S(v,e.schema,m),hS(s.getNodeFilters(),s.getAttributeFilters(),d),t=c.serialize(d),o===l?a.setHTML(l,t):a.setOuterHTML(o,t)}else t=c.serialize(g),XS(e,t,p);return ek(e,l),ik(e,a.get("mce_marker")),nk(e.getBody()),QS(a,i.getStart()),lk(e),Cs(e.schema,e.getBody(),i.getStart()),t},uk=e=>e instanceof jw,dk=e=>{mw(e)&&of(e.getBody()).each((t=>{const n=t.getNode(),o=gi(n)?of(n).getOr(t):t;e.selection.setRng(o.toRange())}))},hk=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&dk(e)},mk=(e,t,n,o)=>{if(0===n.length||/^\s+$/.test(n)){const r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");const i=qd(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=r,n=e.dom.createHTML(i,Gd(e),n)):n||(n=r),hk(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=r_({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=ca(go.fromDom(t))?n:mn.trim(n);return hk(e,r,o.no_selection),{content:r,html:r}}},pk=(e,t,n,o)=>{hS(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=r_({validate:!1},e.schema).serialize(n),i=ca(go.fromDom(t))?r:mn.trim(r);return hk(e,i,o.no_selection),{content:n,html:i}},fk=(e,t,n)=>W.from(e.getBody()).map((o=>uk(t)?pk(e,o,t,n):mk(e,o,t,n))).getOr({content:t,html:uk(n.content)?"":n.content}),gk=(e,t,n)=>tr(e,t,n).isSome(),vk=(e,t)=>or(e,t).isSome(),yk=e=>M(e)?e:V,bk=(e,t,n)=>{let o=e.dom;const r=yk(n);while(o.parentNode){o=o.parentNode;const e=go.fromDom(o),n=t(e);if(n.isSome())return n;if(r(e))break}return W.none()},wk=(e,t,n)=>{const o=t(e),r=yk(n);return o.orThunk((()=>r(e)?W.none():bk(e,t,r)))},_k=xg,xk=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let r=0;r<o.length;r++){const n=o[r];if(Pg(n)&&!1===n.inherit&&e.dom.is(t,n.selector))return!0}return!1},Ck=(e,t,n,o,r)=>{const i=e.dom.getRoot();if(t===i)return!1;const a=e.dom.getParent(t,(t=>!!xk(e,t,n)||(t.parentNode===i||!!Ek(e,t,n,o,!0))));return!!Ek(e,a,n,o,r)},Sk=(e,t,n)=>!(!Ig(n)||!_k(t,n.inline))||(!(!Dg(n)||!_k(t,n.block))||!!Pg(n)&&(li(t)&&e.is(t,n.selector))),kk=(e,t,n,o,r,i)=>{const a=n[o],s="attributes"===o;if(M(n.onmatch))return n.onmatch(t,n,o);if(a)if(Le(a)){for(let l=0;l<a.length;l++)if(s?e.getAttrib(t,a[l]):Sg(e,t,a[l]))return!0}else for(const l in a)if(Pe(a,l)){const o=s?e.getAttrib(t,l):Sg(e,t,l),c=_g(a[l],i),u=E(o)||gt(o);if(u&&E(c))continue;if(r&&u&&!n.exact)return!1;if((!r||n.exact)&&!_k(o,Cg(c,l)))return!1}return!0},Ek=(e,t,n,o,r)=>{const i=e.formatter.get(n),a=e.dom;if(i&&li(t))for(let s=0;s<i.length;s++){const n=i[s];if(Sk(e.dom,t,n)&&kk(a,t,n,"attributes",r,o)&&kk(a,t,n,"styles",r,o)){const r=n.classes;if(r)for(let n=0;n<r.length;n++)if(!e.dom.hasClass(t,_g(r[n],o)))return;return n}}},Tk=(e,t,n,o,r)=>{if(o)return Ck(e,o,t,n,r);if(o=e.selection.getNode(),Ck(e,o,t,n,r))return!0;const i=e.selection.getStart();return!(i===o||!Ck(e,i,t,n,r))},Mk=(e,t,n)=>{const o=[],r={},i=e.selection.getStart();return e.dom.getParent(i,(i=>{for(let a=0;a<t.length;a++){const s=t[a];!r[s]&&Ek(e,i,s,n)&&(r[s]=!0,o.push(s))}}),e.dom.getRoot()),o},Ok=(e,t)=>{const n=t=>xo(t,go.fromDom(e.getBody())),o=(t,n)=>Ek(e,t.dom,n)?W.some(n):W.none();return W.from(e.selection.getStart(!0)).bind((e=>wk(go.fromDom(e),(e=>be(t,(t=>o(e,t)))),n))).getOrNull()},Dk=(e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n&&e.selection.isEditable()){const t=e.selection.getStart(),r=Eg(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Pg(t))return!0;for(let e=r.length-1;e>=0;e--)if(o.is(r[e],t.selector))return!0}}return!1},Ak=(e,t,n)=>re(n,((n,o)=>{const r=Mg(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n}),[]),Rk=va,Pk=(e,t)=>e.importNode(t,!0),Ik=e=>{const t=[];let n=e;while(n){if(bi(n)&&n.data!==Rk||n.childNodes.length>1)return[];li(n)&&t.push(n),n=n.firstChild}return t},zk=e=>Ik(e).length>0,Nk=e=>{if(e){const t=new ii(e,e);for(let e=t.current();e;e=t.next())if(bi(e))return e}return null},Lk=e=>{const t=go.fromTag("span");return Wn(t,{id:af,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Er(t,go.fromText(Rk)),t},Hk=e=>{const t=Nk(e);return t&&t.data.charAt(0)===Rk&&t.deleteData(0,1),t},Fk=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(zk(t))Bx(e,!1,go.fromDom(t),n);else{const e=r.getRng(),n=o.getParent(t,o.isBlock),i=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,c=Hk(t);o.remove(t,!0),i===c&&a>0&&e.setStart(c,a-1),s===c&&l>0&&e.setEnd(c,l-1),n&&o.isEmpty(n)&&fa(go.fromDom(n)),r.setRng(e)}},Bk=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(t)Fk(e,t,n);else if(t=lf(e.getBody(),r.getStart()),!t)while(t=o.get(af))Fk(e,t,n)},Uk=(e,t,n)=>{var o,r;const i=e.dom,a=i.getParent(n,L(fg,e.schema));a&&i.isEmpty(a)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):(ma(go.fromDom(n)),i.isEmpty(n)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):i.insertAfter(t,n))},Vk=(e,t)=>(e.appendChild(t),t),jk=(e,t)=>{var n;const o=oe(e,((e,t)=>Vk(e,t.cloneNode(!1))),t),r=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return Vk(o,r.createTextNode(Rk))},Wk=(e,t,n,o,r,i)=>{const a=e.formatter,s=e.dom,l=ne(_e(a.get()),(e=>e!==o&&!lt(e,"removeformat"))),c=Ak(e,n,l),u=ne(c,(t=>!Og(e,t,o)));if(u.length>0){const e=n.cloneNode(!1);return s.add(t,e),a.remove(o,r,e,i),s.remove(e),W.some(e)}return W.none()},Zk=(e,t,n)=>{let o;const r=e.selection,i=e.formatter.get(t);if(!i)return;const a=r.getRng();let s=a.startOffset;const l=a.startContainer,c=l.nodeValue;o=lf(e.getBody(),r.getStart());const u=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&s>0&&s<c.length&&u.test(c.charAt(s))&&u.test(c.charAt(s-1))){const o=r.getBookmark();a.collapse(!0);let s=Xg(e.dom,a,i);s=Vy(s),e.formatter.apply(t,n,s),r.moveToBookmark(o)}else{let i=o?Nk(o):null;o&&(null===i||void 0===i?void 0:i.data)===Rk||(o=Pk(e.getDoc(),Lk(!0).dom),i=o.firstChild,a.insertNode(o),s=1),e.formatter.apply(t,n,o),r.setCursorLocation(i,s)}},$k=(e,t,n,o)=>{const r=e.dom,i=e.selection;let a=!1;const s=e.formatter.get(t);if(!s)return;const l=i.getRng(),c=l.startContainer,u=l.startOffset;let d=c;bi(c)&&(u!==c.data.length&&(a=!0),d=d.parentNode);const h=[];let m;while(d){if(Ek(e,d,t,n,o)){m=d;break}d.nextSibling&&(a=!0),h.push(d),d=d.parentNode}if(m)if(a){const a=i.getBookmark();l.collapse(!0);let c=Xg(r,l,s,!0);c=Vy(c),e.formatter.remove(t,n,c,o),i.moveToBookmark(a)}else{const a=lf(e.getBody(),m),s=Lk(!1).dom;Uk(e,s,null!==a&&void 0!==a?a:m);const l=Wk(e,s,m,t,n,o),c=jk(h.concat(l.toArray()),s);a&&Fk(e,a,!1),i.setCursorLocation(c,1),r.isEmpty(m)&&r.remove(m)}},qk=(e,t,n)=>{const o=e.selection,r=e.getBody();Bk(e,null,n),8!==t&&46!==t||!o.isCollapsed()||o.getStart().innerHTML!==Rk||Bk(e,lf(r,o.getStart())),37!==t&&39!==t||Bk(e,lf(r,o.getStart()))},Gk=e=>bi(e)&&ut(e.data,Ni),Kk=e=>{e.on("mouseup keydown",(t=>{qk(e,t.keyCode,Gk(e.selection.getRng().endContainer))}))},Yk=e=>{const t=Lk(!1),n=jk(e,t.dom);return{caretContainer:t,caretPosition:zu(n,0)}},Jk=(e,t)=>{const{caretContainer:n,caretPosition:o}=Yk(t);return Cr(go.fromDom(e),n),Ar(go.fromDom(e)),o},Xk=(e,t)=>{const{caretContainer:n,caretPosition:o}=Yk(t);return e.insertNode(n.dom),o},Qk=(e,t)=>{const n=e.schema.getTextInlineElements();return Pe(n,Rn(t))&&!sf(t.dom)&&!pi(t.dom)},eE=e=>sf(e.dom)&&zk(e.dom),tE={},nE=ui(["pre"]),oE=(e,t)=>{const n=tE[e];n||(tE[e]=[]),tE[e].push(t)},rE=(e,t)=>{Pe(tE,e)&&Q(tE[e],(e=>{e(t)}))};oE("pre",(e=>{const t=e.selection.getRng(),n=e=>t=>{const n=t.previousSibling;return nE(n)&&Y(e,n)},o=(e,t)=>{const n=go.fromDom(t),o=ko(n).dom;Ar(n),Or(go.fromDom(e),[go.fromTag("br",o),go.fromTag("br",o),...No(n)])};if(!t.collapsed){const t=e.selection.getSelectedBlocks(),r=ne(ne(t,nE),n(t));Q(r,(e=>{o(e.previousSibling,e)}))}}));const iE=["fontWeight","fontStyle","color","fontSize","fontFamily"],aE=e=>w(e.styles)&&J(_e(e.styles),(e=>Y(iE,e))),sE=e=>ae(e,(e=>Ig(e)&&"span"===e.inline&&aE(e))),lE=(e,t)=>{const n=e.get(t);return x(n)?sE(n):W.none()},cE=(e,t)=>nf(t,zu.fromRangeStart(e)).isNone(),uE=(e,t)=>!1===tf(t,zu.fromRangeEnd(e)).exists((e=>!ki(e.getNode())||tf(t,e).isSome())),dE=e=>t=>Ri(t)&&e.isEditable(t),hE=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return cE(n,t[0])&&uE(n,t[0])?t:[];{const e=ge(t).filter((e=>cE(n,e))).toArray(),o=ve(t).filter((e=>uE(n,e))).toArray(),r=t.slice(1,-1);return e.concat(r).concat(o)}},mE=e=>ne(hE(e),dE(e.dom)),pE=e=>ne(e.getSelectedBlocks(),dE(e.dom)),fE=mn.each,gE=e=>li(e)&&!Df(e)&&!sf(e)&&!pi(e),vE=(e,t)=>{for(let n=e;n;n=n[t]){if(bi(n)&&ft(n.data))return e;if(li(n)&&!Df(n))return n}return e},yE=(e,t,n)=>{const o=sS(e),r=li(t)&&dg(t),i=li(n)&&dg(n);if(r&&i){const r=vE(t,"previousSibling"),i=vE(n,"nextSibling");if(o.compare(r,i)){for(let e=r.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,r.appendChild(t)}return e.dom.remove(i),mn.each(mn.grep(i.childNodes),(e=>{r.appendChild(e)})),r}}return n},bE=(e,t,n,o)=>{var r;if(o&&!1!==t.merge_siblings){const t=null!==(r=yE(e,pg(o),o))&&void 0!==r?r:o;yE(e,t,pg(t,!0))}},wE=(e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";fE(e.select(o,n),(n=>{gE(n)&&dg(n)&&fE(t.styles,((t,o)=>{e.setStyle(n,o,"")}))}))}},_E=(e,t,n)=>{fE(e.childNodes,(e=>{gE(e)&&(t(e)&&n(e),e.hasChildNodes()&&_E(e,t,n))}))},xE=(e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},CE=(e,t)=>n=>!(!n||!Sg(e,n,t)),SE=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),xE(e,o)},kE=_d.generate([{keep:[]},{rename:["name"]},{removed:[]}]),EE=/^(src|href|style)$/,TE=mn.each,ME=xg,OE=e=>/^(TR|TH|TD)$/.test(e.nodeName),DE=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),AE=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(li(o)){const e=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>e?e:r]}return bi(o)&&n&&r>=o.data.length&&(o=new ii(o,e.getBody()).next()||o),bi(o)&&!n&&0===r&&(o=new ii(o,e.getBody()).prev()||o),o},RE=(e,t)=>{const n=t?"firstChild":"lastChild",o=e[n];return OE(e)&&o?"TR"===e.nodeName&&o[n]||o:e},PE=(e,t,n,o)=>{var r;const i=e.create(n,o);return null===(r=t.parentNode)||void 0===r||r.insertBefore(i,t),i.appendChild(t),i},IE=(e,t,n,o,r)=>{const i=go.fromDom(t),a=go.fromDom(e.create(o,r)),s=n?zo(i):Io(i);return Or(a,s),n?(Cr(i,a),kr(a,i)):(Sr(i,a),Er(a,i)),a.dom},zE=(e,t)=>t.links&&"A"===e.nodeName,NE=(e,t,n)=>{const o=t.parentNode;let r;const i=e.dom,a=qd(e);Dg(n)&&o===i.getRoot()&&(n.list_block&&ME(t,n.list_block)||Q(ye(t.childNodes),(t=>{gg(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=PE(i,t,a),i.setAttribs(r,Gd(e))):r=null}))),zg(n)&&!ME(n.inline,t)||i.remove(t,!0)},LE=(e,t,n)=>O(e)?{name:t,value:null}:{name:e,value:_g(t,n)},HE=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},FE=(e,t,n,o,r)=>{let i=!1;TE(n.styles,((a,s)=>{const{name:l,value:c}=LE(s,a,o),u=Cg(c,l);(n.remove_similar||C(c)||!li(r)||ME(Sg(e,r,l),u))&&e.setStyle(t,l,""),i=!0})),i&&HE(e,t)},BE=(e,t,n)=>{"removeformat"===t?Q(pE(e.selection),(t=>{Q(iE,(n=>e.dom.setStyle(t,n,""))),HE(e.dom,t)})):lE(e.formatter,t).each((t=>{Q(pE(e.selection),(o=>FE(e.dom,o,t,n,null)))}))},UE=(e,t,n,o,r)=>{const i=e.dom,a=sS(e),s=e.schema;if(Ig(t)&&ks(s,t.inline)&&Ts(s,o)&&o.parentElement===e.getBody())return NE(e,o,t),kE.removed();if(!t.ceFalseOverride&&o&&"false"===i.getContentEditableParent(o))return kE.keep();if(o&&!Sk(i,o,t)&&!zE(o,t))return kE.keep();const l=o,c=t.preserve_attributes;if(Ig(t)&&"all"===t.remove&&x(c)){const e=ne(i.getAttribs(l),(e=>Y(c,e.name.toLowerCase())));if(i.removeAllAttribs(l),Q(e,(e=>i.setAttrib(l,e.name,e.value))),e.length>0)return kE.rename("span")}if("all"!==t.remove){FE(i,l,t,n,r),TE(t.attributes,((e,o)=>{const{name:a,value:s}=LE(o,e,n);if(t.remove_similar||C(s)||!li(r)||ME(i.getAttrib(r,a),s)){if("class"===a){const e=i.getAttrib(l,a);if(e){let t="";if(Q(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void i.setAttrib(l,a,t)}}if(EE.test(a)&&l.removeAttribute("data-mce-"+a),"style"===a&&ui(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(a),void i.setStyle(l,"list-style-type","none");"class"===a&&l.removeAttribute("className"),l.removeAttribute(a)}})),TE(t.classes,(e=>{e=_g(e,n),li(r)&&!i.hasClass(r,e)||i.removeClass(l,e)}));const e=i.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!a.isAttributeInternal(n))return kE.keep()}}return"none"!==t.remove?(NE(e,l,t),kE.removed()):kE.keep()},VE=(e,t,n,o,r)=>{let i;return t.parentNode&&Q(Eg(e.dom,t.parentNode).reverse(),(t=>{if(!i&&li(t)&&"_start"!==t.id&&"_end"!==t.id){const a=Ek(e,t,n,o,r);a&&!1!==a.split&&(i=t)}})),i},jE=(e,t,n,o)=>UE(e,t,n,o,o).fold(I(o),(t=>{const n=e.dom.createFragment();return n.appendChild(o),e.dom.rename(o,t)}),I(null)),WE=(e,t,n,o,r,i,a,s)=>{var l,c;let u,d;const h=e.dom;if(n){const m=n.parentNode;for(let n=o.parentNode;n&&n!==m;n=n.parentNode){let o=h.clone(n,!1);for(let n=0;n<t.length;n++)if(o=jE(e,t[n],s,o),null===o)break;o&&(u&&o.appendChild(u),d||(d=o),u=o)}!i||a.mixed&&h.isBlock(n)||(o=null!==(l=h.split(n,o))&&void 0!==l?l:o),u&&d&&(null===(c=r.parentNode)||void 0===c||c.insertBefore(u,r),d.appendChild(r),Ig(a)&&bE(e,a,s,u))}return o},ZE=(e,t,n,o,r)=>{const i=e.formatter.get(t),a=i[0],s=e.dom,l=e.selection,c=o=>{const s=VE(e,o,t,n,r);return WE(e,i,s,o,o,!0,a,n)},u=e=>Df(e)&&li(e)&&("_start"===e.id||"_end"===e.id),d=t=>J(i,(o=>qE(e,o,n,t,t))),h=t=>{const n=ye(t.childNodes),o=d(t),r=o||J(i,(e=>Sk(s,t,e))),l=t.parentNode;if(!r&&T(l)&&Ng(a)&&d(l),a.deep&&n.length)for(let e=0;e<n.length;e++)h(n[e]);const c=["underline","line-through","overline"];Q(c,(n=>{li(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&kg(s,t.parentNode)===n&&qE(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},m=e=>{const t=s.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return u(n)&&(n=n[e?"firstChild":"lastChild"]),bi(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n}return null},p=t=>{let n,o,r=Xg(s,t,i,t.collapsed);if(a.split){if(r=Vy(r),n=AE(e,r,!0),o=AE(e,r),n!==o){if(n=RE(n,!0),o=RE(o,!1),DE(s,n,o)){const e=W.from(n.firstChild).getOr(n);return c(IE(s,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(DE(s,o,n)){const e=W.from(o.lastChild).getOr(o);return c(IE(s,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1)}n=PE(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=PE(s,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=s.createRng();e.setStartAfter(n),e.setEndBefore(o),Qg(s,e,(e=>{Q(e,(e=>{Df(e)||Df(e.parentNode)||c(e)}))})),c(n),c(o),n=m(!0),o=m()}else n=o=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=s.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=s.nodeIndex(o)+1}Qg(s,r,(e=>{Q(e,h)}))};if(o){if(lg(o)){const e=s.createRng();e.setStartBefore(o),e.setEndAfter(o),p(e)}else p(o);kv(e,t,o,n)}else l.isCollapsed()&&Ig(a)&&!Jf(e).length?$k(e,t,n,r):(hg(e,(()=>ag(e,p)),(o=>Ig(a)&&Tk(e,t,n,o))),e.nodeChanged()),BE(e,t,n),kv(e,t,o,n)},$E=(e,t,n,o,r)=>{(o||e.selection.isEditable())&&ZE(e,t,n,o,r)},qE=(e,t,n,o,r)=>UE(e,t,n,o,r).fold(V,(t=>(e.dom.rename(o,t),!0)),j),GE=mn.each,KE=(e,t,n,o)=>{const r=t=>{if(li(t)&&li(t.parentNode)&&dg(t)){const n=kg(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(mn.walk(o,r,"childNodes"),r(o))},YE=(e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const r=CE(e,"fontSize");_E(o,(e=>r(e)&&dg(e)),SE(e,"backgroundColor",_g(t.styles.backgroundColor,n)))}},JE=(e,t,n,o)=>{if(Ig(t)&&("sub"===t.inline||"sup"===t.inline)){const n=CE(e,"fontSize");_E(o,(e=>n(e)&&dg(e)),SE(e,"fontSize",""));const r=ne(e.select("sup"===t.inline?"sub":"sup",o),dg);e.remove(r,!0)}},XE=(e,t,n,o)=>{GE(t,(t=>{Ig(t)&&GE(e.dom.select(t.inline,o),(o=>{gE(o)&&qE(e,t,n,o,t.exact?o:null)})),wE(e.dom,t,o)}))},QE=(e,t,n,o,r)=>{const i=r.parentNode;Ek(e,i,n,o)&&qE(e,t,o,r)||t.merge_with_parents&&i&&e.dom.getParent(i,(i=>!!Ek(e,i,n,o)&&(qE(e,t,o,r),!0)))},eT=mn.each,tT=(e,t,n,o)=>{if(Rh(e)&&Ig(t)&&n.parentNode){const t=_l(e.schema),r=vk(go.fromDom(n),(e=>sf(e.dom)));return Ie(t,o)&&ds(go.fromDom(n.parentNode),!1)&&!r}return!1},nT=(e,t,n,o)=>{if(eT(n.styles,((n,r)=>{e.setStyle(t,r,_g(n,o))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},oT=(e,t,n,o)=>{const r=e.formatter.get(t),i=r[0],a=!o&&e.selection.isCollapsed(),s=e.dom,l=e.selection,c=(e,t=i)=>{M(t.onformat)&&t.onformat(e,t,n,o),nT(s,e,t,n),eT(t.attributes,((t,o)=>{s.setAttrib(e,o,_g(t,n))})),eT(t.classes,(t=>{const o=_g(t,n);s.hasClass(e,o)||s.addClass(e,o)}))},u=(e,t)=>{let n=!1;return eT(e,(e=>!!Pg(e)&&("false"===s.getContentEditable(t)&&!e.ceFalseOverride||(!(!T(e.collapsed)||e.collapsed===a)||(!(s.is(t,e.selector)&&!sf(t))||(c(t,e),n=!0,!1)))))),n},d=e=>{if(b(e)){const t=s.create(e);return c(t),t}return null},h=(o,a,s)=>{const l=[];let h=!0;const m=i.inline||i.block,p=d(m),f=o=>Ag(i)&&Ek(e,o,t,n),g=(t,n,o)=>{const r=Rg(i)&&fg(e.schema,t)&&gg(e,n,m);return o&&r},v=(t,n,r,a)=>{const l=t.nodeName.toLowerCase(),c=gg(e,m,l)&&gg(e,n,m),u=!s&&bi(t)&&ya(t.data),d=sf(t),h=!Ig(i)||!o.isBlock(t);return(r||a)&&c&&!u&&!d&&h};Qg(o,a,(t=>{let n;const a=t=>{let s=!1,d=h,y=!1;const b=t.parentNode,w=b.nodeName.toLowerCase(),_=o.getContentEditable(t);T(_)&&(d=h,h="true"===_,s=!0,y=wg(e,t));const x=h&&!s;if(ki(t)&&!tT(e,i,t,w))return n=null,void(Dg(i)&&o.remove(t));if(f(t))n=null;else{if(g(t,w,x)){const e=o.rename(t,m);return c(e),l.push(e),void(n=null)}if(Pg(i)){let e=u(r,t);if(!e&&T(b)&&Ng(i)&&(e=u(r,b)),!Ig(i)||e)return void(n=null)}T(p)&&v(t,w,x,y)?(n||(n=o.clone(p,!1),b.insertBefore(n,t),l.push(n)),y&&s&&(h=d),n.appendChild(t)):(n=null,Q(ye(t.childNodes),a),s&&(h=d),n=null)}};Q(t,a)})),!0===i.links&&Q(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,i),Q(ye(e.childNodes),t)};t(e)})),Q(l,(a=>{const s=e=>{let t=0;return Q(e.childNodes,(e=>{yg(e)||Df(e)||t++})),t},u=e=>{const t=ae(e.childNodes,cg).filter((e=>"false"!==o.getContentEditable(e)&&Sk(o,e,i)));return t.map((t=>{const n=o.clone(t,!1);return c(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)},d=s(a);!(l.length>1)&&o.isBlock(a)||0!==d?(Ig(i)||Dg(i)&&i.wrapper)&&(i.exact||1!==d||(a=u(a)),XE(e,r,n,a),QE(e,i,t,n,a),YE(o,i,n,a),KE(o,i,n,a),JE(o,i,n,a),bE(e,i,n,a)):o.remove(a,!0)}))},m=lg(o)?o:l.getNode();if("false"===s.getContentEditable(m)&&!wg(e,m))return o=m,u(r,o),void Sv(e,t,o,n);if(i){if(o)if(lg(o)){if(!u(r,o)){const e=s.createRng();e.setStartBefore(o),e.setEndAfter(o),h(s,Xg(s,e,r),!0)}}else h(s,o,!0);else a&&Ig(i)&&!Jf(e).length?Zk(e,t,n):(l.setRng(ES(l.getRng())),hg(e,(()=>{ag(e,((e,t)=>{const n=t?e:Xg(s,e,r);h(s,n,!1)}))}),j),e.nodeChanged()),lE(e.formatter,t).each((t=>{Q(mE(e.selection),(e=>nT(s,e,t,n)))}));rE(t,e)}Sv(e,t,o,n)},rT=(e,t,n,o)=>{(o||e.selection.isEditable())&&oT(e,t,n,o)},iT=e=>Pe(e,"vars"),aT=(e,t)=>{e.set({}),t.on("NodeChange",(n=>{uT(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const o=W.from(n.node).map((e=>lg(e)?e:e.startContainer)).bind((e=>li(e)?W.some(e):W.from(e.parentElement))).getOrThunk((()=>sT(t)));uT(t,o,e.get())}))},sT=e=>e.selection.getStart(),lT=(e,t,n,o,r)=>{const i=t=>{const i=e.formatter.matchNode(t,n,null!==r&&void 0!==r?r:{},o);return!k(i)},a=t=>!!xk(e,t,n)||!o&&T(e.formatter.matchNode(t,n,r,!0));return ie(t,i,a)},cT=(e,t)=>{const n=null!==t&&void 0!==t?t:sT(e);return ne(Eg(e.dom,n),(e=>li(e)&&!pi(e)))},uT=(e,t,n)=>{const o=cT(e,t);Ce(n,((n,r)=>{const i=n=>{const i=lT(e,o,r,n.similar,iT(n)?n.vars:void 0),a=i.isSome();if(n.state.get()!==a){n.state.set(a);const e=i.getOr(t);iT(n)?n.callback(a,{node:e,format:r,parents:o}):Q(n.callbacks,(t=>t(a,{node:e,format:r,parents:o})))}};Q([n.withSimilar,n.withoutSimilar],i),Q(n.withVars,i)}))},dT=(e,t,n,o,r,i)=>{const a=t.get();Q(n.split(","),(t=>{const n=Re(a,t).getOrThunk((()=>{const e={withSimilar:{state:rc(!1),similar:!0,callbacks:[]},withoutSimilar:{state:rc(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e})),s=()=>{const n=cT(e);return lT(e,n,t,r,i).isSome()};if(k(i)){const e=r?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(s())}else n.withVars.push({state:rc(s()),similar:r,vars:i,callback:o})})),t.set(a)},hT=(e,t,n)=>{const o=e.get();Q(t.split(","),(e=>Re(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:ne(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:ne(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:ne(t.withVars,(e=>e.callback!==n))}})))),e.set(o)},mT=(e,t,n,o,r,i)=>(dT(e,t,n,o,r,i),{unbind:()=>hT(t,n,o)}),pT=(e,t,n,o)=>{const r=e.formatter.get(t);r&&(!Tk(e,t,n,o)||"toggle"in r[0]&&!r[0].toggle?rT(e,t,n,o):$E(e,t,n,o))},fT=mn.explode,gT=()=>{const e={},t=(t,n)=>{Q(fT(t),(t=>{Pe(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},n=()=>Ae(e),o=(t,n)=>{Q(fT(t),(t=>{if(Pe(e,t))if(T(n)){const o=e[t],r=ne(o.callbacks,(e=>e!==n));r.length>0?o.callbacks=r:delete e[t]}else delete e[t]}))};return{addFilter:t,getFilters:n,removeFilter:o}},vT=(e,t)=>{Q(t,(t=>{e.attr(t,null)}))},yT=(e,t,n)=>{e.addNodeFilter("font",(e=>{Q(e,(e=>{const o=t.parse(e.attr("style")),r=e.attr("color"),i=e.attr("face"),a=e.attr("size");r&&(o.color=r),i&&(o["font-family"]=i),a&&yt(a).each((e=>{o["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(o)),vT(e,["color","face","size"])}))}))},bT=(e,t,n)=>{e.addNodeFilter("strike",(e=>{const o="html4"!==t.type;Q(e,(e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))},wT=(e,t,n)=>{var o;const r=kl();t.convert_fonts_to_spans&&yT(e,r,mn.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),bT(e,n,r)},_T=(e,t,n)=>{t.inline_styles&&wT(e,t,n)},xT=(e,t)=>{e.addNodeFilter("br",((e,n,o)=>{const r=mn.extend({},t.getBlockElements()),i=t.getNonEmptyElements(),a=t.getWhitespaceElements();r.body=1;const s=e=>e.name in r&&Ds(t,e);for(let l=0,c=e.length;l<c;l++){let n=e[l],c=n.parent;if(c&&r[c.name]&&n===c.lastChild){let e=n.prev;while(e){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(n=null);break}e=e.prev}if(n&&(n.remove(),vS(t,i,a,c))){const e=t.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&mS(o,s,c))}}else{let e=n;while(c&&c.firstChild===e&&c.lastChild===e){if(e=c,r[c.name])break;c=c.parent}if(e===c){const e=new jw("#text",3);e.value=Ni,n.replace(e)}}}}))},CT=e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))),ST=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},kT=e=>{const[t,...n]=e.split(","),o=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const e=";base64"===r[2],t=e?ST(o):decodeURIComponent(o);return W.some({type:r[1],data:t,base64Encoded:e})}return W.none()},ET=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(i){return W.none()}const r=new Uint8Array(o.length);for(let a=0;a<r.length;a++)r[a]=o.charCodeAt(a);return W.some(new Blob([r],{type:e}))},TT=e=>new Promise(((t,n)=>{kT(e).bind((({type:e,data:t,base64Encoded:n})=>ET(e,t,n))).fold((()=>n("Invalid data URI")),t)})),MT=e=>ct(e,"blob:")?CT(e):ct(e,"data:")?TT(e):Promise.reject("Unknown URI format"),OT=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}));let DT=0;const AT=e=>(e||"blobid")+DT++,RT=(e,t,n)=>kT(e).bind((({data:e,type:o,base64Encoded:r})=>{if(t&&!r)return W.none();{const t=r?e:btoa(e);return n(t,o)}})),PT=(e,t,n)=>{const o=e.create(AT(),t,n);return e.add(o),o},IT=(e,t,n=!1)=>RT(t,n,((t,n)=>W.from(e.getByData(t,n)).orThunk((()=>ET(n,t).map((n=>PT(e,n,t))))))),zT=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(ct(t,"blob:")){const o=e.getByUri(t);return T(o)?Promise.resolve(o):MT(t).then((t=>OT(t).then((o=>RT(o,!1,(n=>W.some(PT(e,t,n)))).getOrThunk(n)))))}return ct(t,"data:")?IT(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")},NT=e=>T(e.attr("data-mce-bogus")),LT=e=>e.attr("src")===tn.transparentSrc||T(e.attr("data-mce-placeholder")),HT=(e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");LT(e)||NT(e)||E(t)||IT(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>Q(e,t)))}},FT=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&xT(e,n),e.addAttributeFilter("href",(e=>{let n=e.length;const o=e=>{const t=e.split(" ").filter((e=>e.length>0));return t.concat(["noopener"]).sort().join(" ")},r=e=>{const t=e?mn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)while(n--){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,o,r,i=e.length;while(i--)if(r=e[i],"a"===r.name&&r.firstChild&&!r.attr("href")){o=r.parent,t=r.lastChild;while(t&&o)n=t.prev,o.insert(t,r),t=n}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,o=e.length;while(o--)if(t=e[o],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new jw("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const o=n.getValidClasses();t.validate&&o&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;while(n--){const r=e[n],i=null!==(t=r.attr("class"))&&void 0!==t?t:"",a=mn.explode(i," ");let s="";for(let e=0;e<a.length;e++){const t=a[e];let n=!1,i=o["*"];i&&i[t]&&(n=!0),i=o[r.name],!n&&i&&i[t]&&(n=!0),n&&(s&&(s+=" "),s+=t)}s.length||(s=null),r.attr("class",s)}})),HT(e,t)};function BT(e){return BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(e)}function UT(e,t){return UT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},UT(e,t)}function VT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jT(e,t,n){return jT=VT()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=Function.bind.apply(e,o),i=new r;return n&&UT(i,n.prototype),i},jT.apply(null,arguments)}function WT(e){return ZT(e)||$T(e)||qT(e)||KT()}function ZT(e){if(Array.isArray(e))return GT(e)}function $T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qT(e,t){if(e){if("string"===typeof e)return GT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GT(e,t):void 0}}function GT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function KT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var YT=Object.hasOwnProperty,JT=Object.setPrototypeOf,XT=Object.isFrozen,QT=Object.getPrototypeOf,eM=Object.getOwnPropertyDescriptor,tM=Object.freeze,nM=Object.seal,oM=Object.create,rM="undefined"!==typeof Reflect&&Reflect,iM=rM.apply,aM=rM.construct;iM||(iM=function(e,t,n){return e.apply(t,n)}),tM||(tM=function(e){return e}),nM||(nM=function(e){return e}),aM||(aM=function(e,t){return jT(e,WT(t))});var sM=vM(Array.prototype.forEach),lM=vM(Array.prototype.pop),cM=vM(Array.prototype.push),uM=vM(String.prototype.toLowerCase),dM=vM(String.prototype.match),hM=vM(String.prototype.replace),mM=vM(String.prototype.indexOf),pM=vM(String.prototype.trim),fM=vM(RegExp.prototype.test),gM=yM(TypeError);function vM(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return iM(e,t,o)}}function yM(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return aM(e,n)}}function bM(e,t){JT&&JT(e,null);var n=t.length;while(n--){var o=t[n];if("string"===typeof o){var r=uM(o);r!==o&&(XT(t)||(t[n]=r),o=r)}e[o]=!0}return e}function wM(e){var t,n=oM(null);for(t in e)iM(YT,e,[t])&&(n[t]=e[t]);return n}function _M(e,t){while(null!==e){var n=eM(e,t);if(n){if(n.get)return vM(n.get);if("function"===typeof n.value)return vM(n.value)}e=QT(e)}function o(e){return console.warn("fallback value for",e),null}return o}var xM=tM(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),CM=tM(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),SM=tM(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kM=tM(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),EM=tM(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),TM=tM(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),MM=tM(["#text"]),OM=tM(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),DM=tM(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),AM=tM(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),RM=tM(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PM=nM(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IM=nM(/<%[\w\W]*|[\w\W]*%>/gm),zM=nM(/^data-[\-\w.\u00B7-\uFFFF]/),NM=nM(/^aria-[\-\w]+$/),LM=nM(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),HM=nM(/^(?:\w+script|data):/i),FM=nM(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),BM=nM(/^html$/i),UM=function(){return"undefined"===typeof window?null:window},VM=function(e,t){if("object"!==BT(e)||"function"!==typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(i){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function jM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UM(),t=function(e){return jM(e)};if(t.version="2.3.8",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,o=e.document,r=e.DocumentFragment,i=e.HTMLTemplateElement,a=e.Node,s=e.Element,l=e.NodeFilter,c=e.NamedNodeMap,u=void 0===c?e.NamedNodeMap||e.MozNamedAttrMap:c,d=e.HTMLFormElement,h=e.DOMParser,m=e.trustedTypes,p=s.prototype,f=_M(p,"cloneNode"),g=_M(p,"nextSibling"),v=_M(p,"childNodes"),y=_M(p,"parentNode");if("function"===typeof i){var b=o.createElement("template");b.content&&b.content.ownerDocument&&(o=b.content.ownerDocument)}var w=VM(m,n),_=w?w.createHTML(""):"",x=o,C=x.implementation,S=x.createNodeIterator,k=x.createDocumentFragment,E=x.getElementsByTagName,T=n.importNode,M={};try{M=wM(o).documentMode?o.documentMode:{}}catch(Ue){}var O={};t.isSupported="function"===typeof y&&C&&"undefined"!==typeof C.createHTMLDocument&&9!==M;var D,A,R=PM,P=IM,I=zM,z=NM,N=HM,L=FM,H=LM,F=null,B=bM({},[].concat(WT(xM),WT(CM),WT(SM),WT(EM),WT(MM))),U=null,V=bM({},[].concat(WT(OM),WT(DM),WT(AM),WT(RM))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,Z=null,$=!0,q=!0,G=!1,K=!1,Y=!1,J=!1,X=!1,Q=!1,ee=!1,te=!1,ne=!0,oe=!0,re=!1,ie={},ae=null,se=bM({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),le=null,ce=bM({},["audio","video","img","source","image","track"]),ue=null,de=bM({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",fe=pe,ge=!1,ve=["application/xhtml+xml","text/html"],ye="text/html",be=null,we=o.createElement("form"),_e=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){be&&be===e||(e&&"object"===BT(e)||(e={}),e=wM(e),F="ALLOWED_TAGS"in e?bM({},e.ALLOWED_TAGS):B,U="ALLOWED_ATTR"in e?bM({},e.ALLOWED_ATTR):V,ue="ADD_URI_SAFE_ATTR"in e?bM(wM(de),e.ADD_URI_SAFE_ATTR):de,le="ADD_DATA_URI_TAGS"in e?bM(wM(ce),e.ADD_DATA_URI_TAGS):ce,ae="FORBID_CONTENTS"in e?bM({},e.FORBID_CONTENTS):se,W="FORBID_TAGS"in e?bM({},e.FORBID_TAGS):{},Z="FORBID_ATTR"in e?bM({},e.FORBID_ATTR):{},ie="USE_PROFILES"in e&&e.USE_PROFILES,$=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,ee=e.RETURN_DOM_FRAGMENT||!1,te=e.RETURN_TRUSTED_TYPE||!1,X=e.FORCE_BODY||!1,ne=!1!==e.SANITIZE_DOM,oe=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,H=e.ALLOWED_URI_REGEXP||H,fe=e.NAMESPACE||pe,e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&_e(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,A="application/xhtml+xml"===D?function(e){return e}:uM,K&&(q=!1),ee&&(Q=!0),ie&&(F=bM({},WT(MM)),U=[],!0===ie.html&&(bM(F,xM),bM(U,OM)),!0===ie.svg&&(bM(F,CM),bM(U,DM),bM(U,RM)),!0===ie.svgFilters&&(bM(F,SM),bM(U,DM),bM(U,RM)),!0===ie.mathMl&&(bM(F,EM),bM(U,AM),bM(U,RM))),e.ADD_TAGS&&(F===B&&(F=wM(F)),bM(F,e.ADD_TAGS)),e.ADD_ATTR&&(U===V&&(U=wM(U)),bM(U,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&bM(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===se&&(ae=wM(ae)),bM(ae,e.FORBID_CONTENTS)),oe&&(F["#text"]=!0),Y&&bM(F,["html","head","body"]),F.table&&(bM(F,["tbody"]),delete W.tbody),tM&&tM(e),be=e)},Ce=bM({},["mi","mo","mn","ms","mtext"]),Se=bM({},["foreignobject","desc","title","annotation-xml"]),ke=bM({},["title","style","font","a","script"]),Ee=bM({},CM);bM(Ee,SM),bM(Ee,kM);var Te=bM({},EM);bM(Te,TM);var Me=function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=uM(e.tagName),o=uM(t.tagName);return e.namespaceURI===me?t.namespaceURI===pe?"svg"===n:t.namespaceURI===he?"svg"===n&&("annotation-xml"===o||Ce[o]):Boolean(Ee[n]):e.namespaceURI===he?t.namespaceURI===pe?"math"===n:t.namespaceURI===me?"math"===n&&Se[o]:Boolean(Te[n]):e.namespaceURI===pe&&(!(t.namespaceURI===me&&!Se[o])&&(!(t.namespaceURI===he&&!Ce[o])&&(!Te[n]&&(ke[n]||!Ee[n]))))},Oe=function(e){cM(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Ue){try{e.outerHTML=_}catch(Ue){e.remove()}}},De=function(e,n){try{cM(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(Ue){cM(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!U[e])if(Q||ee)try{Oe(n)}catch(Ue){}else try{n.setAttribute(e,"")}catch(Ue){}},Ae=function(e){var t,n;if(X)e="<remove></remove>"+e;else{var r=dM(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=w?w.createHTML(e):e;if(fe===pe)try{t=(new h).parseFromString(i,D)}catch(Ue){}if(!t||!t.documentElement){t=C.createDocument(fe,"template",null);try{t.documentElement.innerHTML=ge?"":i}catch(Ue){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),fe===pe?E.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Re=function(e){return S.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof d&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof u)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore)},Ie=function(e){return"object"===BT(a)?e instanceof a:e&&"object"===BT(e)&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName},ze=function(e,n,o){O[e]&&sM(O[e],(function(e){e.call(t,n,o,be)}))},Ne=function(e){var n;if(ze("beforeSanitizeElements",e,null),Pe(e))return Oe(e),!0;if(fM(/[\u0080-\uFFFF]/,e.nodeName))return Oe(e),!0;var o=A(e.nodeName);if(ze("uponSanitizeElement",e,{tagName:o,allowedTags:F}),e.hasChildNodes()&&!Ie(e.firstElementChild)&&(!Ie(e.content)||!Ie(e.content.firstElementChild))&&fM(/<[/\w]/g,e.innerHTML)&&fM(/<[/\w]/g,e.textContent))return Oe(e),!0;if("select"===o&&fM(/<template/i,e.innerHTML))return Oe(e),!0;if(!F[o]||W[o]){if(!W[o]&&He(o)){if(j.tagNameCheck instanceof RegExp&&fM(j.tagNameCheck,o))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(o))return!1}if(oe&&!ae[o]){var r=y(e)||e.parentNode,i=v(e)||e.childNodes;if(i&&r)for(var a=i.length,l=a-1;l>=0;--l)r.insertBefore(f(i[l],!0),g(e))}return Oe(e),!0}return e instanceof s&&!Me(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o||!fM(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(n=e.textContent,n=hM(n,R," "),n=hM(n,P," "),e.textContent!==n&&(cM(t.removed,{element:e.cloneNode()}),e.textContent=n)),ze("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Le=function(e,t,n){if(ne&&("id"===t||"name"===t)&&(n in o||n in we))return!1;if(q&&!Z[t]&&fM(I,t));else if($&&fM(z,t));else if(!U[t]||Z[t]){if(!(He(e)&&(j.tagNameCheck instanceof RegExp&&fM(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&fM(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&fM(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(ue[t]);else if(fM(H,hM(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==mM(n,"data:")||!le[e]){if(G&&!fM(N,hM(n,L,"")));else if(n)return!1}else;return!0},He=function(e){return e.indexOf("-")>0},Fe=function(e){var t,n,o,r;ze("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};r=i.length;while(r--){t=i[r];var s=t,l=s.name,c=s.namespaceURI;n="value"===l?t.value:pM(t.value),o=A(l);var u=n;if(a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,ze("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(fM(/\/>/i,n))De(l,e);else{K&&(n=hM(n,R," "),n=hM(n,P," "));var d=A(e.nodeName);if(Le(d,o,n)){if(n!==u)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(Ue){De(l,e)}}else De(l,e)}else De(l,e)}ze("afterSanitizeAttributes",e,null)}},Be=function e(t){var n,o=Re(t);ze("beforeSanitizeShadowDOM",t,null);while(n=o.nextNode())ze("uponSanitizeShadowNode",n,null),Ne(n)||(n.content instanceof r&&e(n.content),Fe(n));ze("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(o,i){var s,l,c,u,d;if(ge=!o,ge&&(o="\x3c!--\x3e"),"string"!==typeof o&&!Ie(o)){if("function"!==typeof o.toString)throw gM("toString is not a function");if(o=o.toString(),"string"!==typeof o)throw gM("dirty is not a string, aborting")}if(!t.isSupported){if("object"===BT(e.toStaticHTML)||"function"===typeof e.toStaticHTML){if("string"===typeof o)return e.toStaticHTML(o);if(Ie(o))return e.toStaticHTML(o.outerHTML)}return o}if(J||xe(i),t.removed=[],"string"===typeof o&&(re=!1),re){if(o.nodeName){var h=A(o.nodeName);if(!F[h]||W[h])throw gM("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof a)s=Ae("\x3c!----\x3e"),l=s.ownerDocument.importNode(o,!0),1===l.nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Q&&!K&&!Y&&-1===o.indexOf("<"))return w&&te?w.createHTML(o):o;if(s=Ae(o),!s)return Q?null:te?_:""}s&&X&&Oe(s.firstChild);var m=Re(re?o:s);while(c=m.nextNode())3===c.nodeType&&c===u||Ne(c)||(c.content instanceof r&&Be(c.content),Fe(c),u=c);if(u=null,re)return o;if(Q){if(ee){d=k.call(s.ownerDocument);while(s.firstChild)d.appendChild(s.firstChild)}else d=s;return U.shadowroot&&(d=T.call(n,d,!0)),d}var p=Y?s.outerHTML:s.innerHTML;return Y&&F["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&fM(BM,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),K&&(p=hM(p,R," "),p=hM(p,P," ")),w&&te?w.createHTML(p):p},t.setConfig=function(e){xe(e),J=!0},t.clearConfig=function(){be=null,J=!1},t.isValidAttribute=function(e,t,n){be||xe({});var o=A(e),r=A(t);return Le(o,r,n)},t.addHook=function(e,t){"function"===typeof t&&(O[e]=O[e]||[],cM(O[e],t))},t.removeHook=function(e){if(O[e])return lM(O[e])},t.removeHooks=function(e){O[e]&&(O[e]=[])},t.removeAllHooks=function(){O={}},t}var WM=jM();const ZM=mn.each,$M=mn.trim,qM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],GM={ftp:21,http:80,https:443,mailto:25},KM=["img","video"],YM=(e,t)=>T(e)?!e:!T(t)||!Y(KM,t),JM=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}},XM=(e,t,n)=>{const o=JM(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?YM(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class QM{static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=ul.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!XM(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}constructor(e,t={}){this.path="",this.directory="",e=$M(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new QM(document.location.href).directory;if(""===(null===n||void 0===n?void 0:n.protocol))e="//mce_host"+o.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);r&&(e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,r[1])+r[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&ZM(qM,((e,t)=>{let n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),r&&(o.protocol="")}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new QM(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let r=this.toRelPath(this.path,t.path);return t.query&&(r+="?"+t.query),t.anchor&&(r+="#"+t.anchor),r}toAbsolute(e,t){const n=new QM(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?GM[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,r=0,i="";const a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,o=a.length;n<o;n++)if(n>=s.length||a[n]!==s[n]){r=n+1;break}if(a.length<s.length)for(n=0,o=s.length;n<o;n++)if(n>=a.length||a[n]!==s[n]){r=n+1;break}if(1===r)return t;for(n=0,o=a.length-(r-1);n<o;n++)i+="../";for(n=r-1,o=s.length;n<o;n++)i+=n!==r-1?"/"+s[n]:s[n];return i}toAbsPath(e,t){let n=0;const o=/\/$/.test(t)?"/":"",r=e.split("/"),i=t.split("/"),a=[];ZM(r,(e=>{e&&a.push(e)}));const s=[];for(let u=i.length-1;u>=0;u--)0!==i[u].length&&"."!==i[u]&&(".."!==i[u]?n>0?n--:s.push(i[u]):n++);const l=a.length-n;let c;return c=l<=0?de(s).join("/"):a.slice(0,l).join("/")+"/"+de(s).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const eO=mn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),tO="data-mce-type";let nO=0;const oO=(e,t,n,o)=>{var r,i,a,s;const l=t.validate,c=n.getSpecialElements();e.nodeType===Tn&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const u=null!==(i=null===o||void 0===o?void 0:o.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if(e.nodeType!==Dn||"body"===u)return;const d=go.fromDom(e),h=qn(d,tO),m=Zn(d,"data-mce-bogus");if(!h&&b(m))return void("all"===m?Ar(d):Rr(d));const p=n.getElementRule(u);if(!l||p){if(T(o)&&(o.allowedTags[u]=!0),l&&p&&!h){if(Q(null!==(a=p.attributesForced)&&void 0!==a?a:[],(e=>{jn(d,e.name,"{$uid}"===e.value?"mce_"+nO++:e.value)})),Q(null!==(s=p.attributesDefault)&&void 0!==s?s:[],(e=>{qn(d,e.name)||jn(d,e.name,"{$uid}"===e.value?"mce_"+nO++:e.value)})),p.attributesRequired&&!J(p.attributesRequired,(e=>qn(d,e))))return void Rr(d);if(p.removeEmptyAttrs&&Kn(d))return void Rr(d);p.outputName&&p.outputName!==u&&qc(d,p.outputName)}}else Pe(c,u)?Ar(d):Rr(d)},rO=(e,t,n,o,r)=>!(o in eO&&XM(e,r,n))&&(!e.validate||t.isValid(n,o)||ct(o,"data-")||ct(o,"aria-")),iO=(e,t)=>e.hasAttribute(tO)&&("id"===t||"class"===t||"style"===t),aO=(e,t)=>e in t.getBoolAttrs(),sO=(e,t,n)=>{const{attributes:o}=e;for(let r=o.length-1;r>=0;r--){const i=o[r],a=i.name,s=i.value;rO(t,n,e.tagName.toLowerCase(),a,s)||iO(e,a)?aO(a,n)&&e.setAttribute(a,a):e.removeAttribute(a)}},lO=(e,t)=>{const n=WM();return n.addHook("uponSanitizeElement",((n,o)=>{oO(n,e,t,o)})),n.addHook("uponSanitizeAttribute",((n,o)=>{const r=n.tagName.toLowerCase(),{attrName:i,attrValue:a}=o;o.keepAttr=rO(e,t,r,i,a),o.keepAttr?(o.allowedAttributes[i]=!0,aO(i,t)&&(o.attrValue=i),e.allow_svg_data_urls&&ct(a,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):iO(n,i)&&(o.forceKeepAttr=!0)})),n},cO=(e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},o={...n};return o.PARSER_MEDIA_TYPE=t,e.allow_script_urls?o.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(o.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),o},uO=(e,t)=>{if(e.sanitize){const n=lO(e,t);return(t,o)=>{n.sanitize(t,cO(e,o)),n.removed=[]}}return(n,o)=>{const r=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;while(i=r.nextNode())oO(i,e,t),li(i)&&sO(i,e,t)}},dO=mn.makeMap,hO=mn.extend,mO=(e,t,n)=>{const o=e.name,r=o in n&&"title"!==o&&"textarea"!==o,i=t.childNodes;for(let a=0,s=i.length;a<s;a++){const t=i[a],o=new jw(t.nodeName.toLowerCase(),t.nodeType);if(li(t)){const e=t.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];o.attr(n.name,n.value)}}else bi(t)?(o.value=t.data,r&&(o.raw=!0)):(xi(t)||wi(t)||_i(t))&&(o.value=t.data);mO(o,t,n),e.append(o)}},pO=(e,t,n)=>{const o=[];for(let r=e,i=r;r;i=r,r=r.walk()){const n=r;Q(t,(e=>e(n))),E(n.parent)&&n!==e?r=i:o.push(n)}for(let r=o.length-1;r>=0;r--){const e=o[r];Q(n,(t=>t(e)))}},fO=(e,t,n,o)=>{const r=n.validate,i=t.getNonEmptyElements(),a=t.getWhitespaceElements(),s=hO(dO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=_l(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,h=e=>{let t=e.parent;while(T(t)){if(t.name in a)return!0;t=t.parent}return!1},m=e=>{let n=e;while(T(n)){if(n.name in l)return vS(t,i,a,n);n=n.parent}return!1},p=e=>e.name in s||Os(t,e),f=(t,n)=>{const r=n?t.prev:t.next;return!T(r)&&!E(t.parent)&&(p(t.parent)&&(t.parent!==e||!0===o.isRootContent))},g=e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(yS(e.prev,p)||f(e,!0))&&(n=n.replace(u,"")),0===n.length?e.remove():e.value=n}},v=e=>{var n;if(1===e.type){const n=t.getElementRule(e.name);if(r&&n){const r=vS(t,i,a,e);n.paddInEmptyBlock&&r&&m(e)?mS(o,p,e):n.removeEmpty&&r?p(e)?e.remove():e.unwrap():n.paddEmpty&&(r||pS(e))&&mS(o,p,e)}}else if(3===e.type&&!h(e)){let t=null!==(n=e.value)&&void 0!==n?n:"";(e.next&&p(e.next)||f(e,!1))&&(t=t.replace(d,"")),0===t.length?e.remove():e.value=t}};return[g,v]},gO=(e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o},vO=(e={},t=Sl())=>{const n=gT(),o=gT(),r={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,a=uO(r,t),s=(e,n,o="html")=>{const r="xhtml"===o?"application/xhtml+xml":"text/html",s=Pe(t.getSpecialElements(),n.toLowerCase()),l=s?`<${n}>${e}</${n}>`:e,c="xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,u=i.parseFromString(c,r).body;return a(u,r),s?u.firstChild:u},l=n.addFilter,c=n.getFilters,u=n.removeFilter,d=o.addFilter,h=o.getFilters,m=o.removeFilter,p=(e,n)=>{CS(t,e)&&n.push(e)},f=(e,n)=>{const o=b(n.attr(tO)),r=1===n.type&&!Pe(e,n.name)&&!Os(t,n);return 3===n.type||r&&!o},g=(e,n)=>{const o=hO(dO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,a=/[ \t\r\n]+$/;let s=e.firstChild,l=null;const c=e=>{var t,n;e&&(s=e.firstChild,s&&3===s.type&&(s.value=null===(t=s.value)||void 0===t?void 0:t.replace(i,"")),s=e.lastChild,s&&3===s.type&&(s.value=null===(n=s.value)||void 0===n?void 0:n.replace(a,"")))};if(t.isValidChild(e.name,n.toLowerCase())){while(s){const t=s.next;f(o,s)?(l||(l=new jw(n,1),l.attr(r.forced_root_block_attrs),e.insert(l,s)),l.append(s)):(c(l),l=null),s=t}c(l)}},v=(e,n={})=>{var o;const i=r.validate,a=null!==(o=n.context)&&void 0!==o?o:r.root_name,l=s(e,a,n.format);_s(t,l);const u=new jw(a,11);mO(u,l,t.getSpecialElements()),l.innerHTML="";const[d,m]=fO(u,t,r,n),f=[],v=i?e=>p(e,f):A,y={nodes:{},attributes:{}},b=e=>cS(c(),h(),e,y);if(pO(u,[d,b],[m,v]),f.reverse(),i&&f.length>0)if(n.context){const{pass:e,fail:o}=te(f,(e=>e.parent===u));_S(o,t,u,b),n.invalid=e.length>0}else _S(f,t,u,b);const w=gO(r,n);return w&&("body"===u.name||n.isRootContent)&&g(u,w),n.invalid||dS(y,n),u},y={schema:t,addAttributeFilter:d,getAttributeFilters:h,removeAttributeFilter:m,addNodeFilter:l,getNodeFilters:c,removeNodeFilter:u,parse:v};return FT(y,r),_T(y,r,t),y},yO=e=>uk(e)?r_({validate:!1}).serialize(e):e,bO=(e,t,n)=>{const o=yO(e),r=t(o);if(r.isDefaultPrevented())return r;if(uk(e)){if(r.content!==o){const t=vO({validate:!1,forced_root_block:!1,sanitize:n}).parse(r.content,{context:e.name});return{...r,content:t}}return{...r,content:e}}return r},wO=(e,t)=>{if(t.no_events)return bd.value(t);{const n=Mv(e,t);return n.isDefaultPrevented()?bd.error(Ov(e,{content:"",...n}).content):bd.value(n)}},_O=(e,t,n)=>{if(n.no_events)return t;{const o=bO(t,(t=>Ov(e,{...n,content:t})),Cm(e));return o.content}},xO=(e,t)=>{if(t.no_events)return bd.value(t);{const n=bO(t.content,(n=>Ev(e,{...t,content:n})),Cm(e));return n.isDefaultPrevented()?(Tv(e,n),bd.error(void 0)):bd.value(n)}},CO=(e,t,n)=>{n.no_events||Tv(e,{...n,content:t})},SO=(e,t,n)=>({element:e,width:t,rows:n}),kO=(e,t)=>({element:e,cells:t}),EO=(e,t)=>({x:e,y:t}),TO=(e,t)=>$n(e,t).bind(yt).getOr(1),MO=(e,t,n,o,r)=>{const i=TO(r,"rowspan"),a=TO(r,"colspan"),s=e.rows;for(let l=n;l<n+i;l++){s[l]||(s[l]=kO(Zc(o),[]));for(let e=t;e<t+a;e++){const o=s[l].cells;o[e]=l===n&&e===t?r:Wc(r)}}},OO=(e,t,n)=>{const o=e.rows,r=o[n]?o[n].cells:[];return!!r[t]},DO=(e,t,n)=>{while(OO(e,t,n))t++;return t},AO=e=>re(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),RO=(e,t)=>{const n=e.rows;for(let o=0;o<n.length;o++){const e=n[o].cells;for(let n=0;n<e.length;n++)if(xo(e[n],t))return W.some(EO(n,o))}return W.none()},PO=(e,t,n,o,r)=>{const i=[],a=e.rows;for(let s=n;s<=r;s++){const e=a[s].cells,n=t<o?e.slice(t,o+1):e.slice(o,t+1);i.push(kO(a[s].element,n))}return i},IO=(e,t,n)=>{const o=t.x,r=t.y,i=n.x,a=n.y,s=r<a?PO(e,o,r,i,a):PO(e,o,a,i,r);return SO(e.element,AO(s),s)},zO=(e,t)=>{const n=Wc(e.element),o=go.fromTag("tbody");return Or(o,t),Er(n,o),n},NO=e=>X(e.rows,(e=>{const t=X(e.cells,(e=>{const t=Zc(e);return Gn(t,"colspan"),Gn(t,"rowspan"),t})),n=Wc(e.element);return Or(n,t),n})),LO=e=>{const t=SO(Wc(e),0,[]);return Q(oi(e,"tr"),((e,n)=>{Q(oi(e,"td,th"),((o,r)=>{MO(t,DO(t,r,n),n,e,o)}))})),SO(t.element,AO(t.rows),t.rows)},HO=e=>zO(e,NO(e)),FO=(e,t,n)=>RO(e,t).bind((t=>RO(e,n).map((n=>IO(e,t,n))))),BO=e=>ae(e,(e=>"ul"===Rn(e)||"ol"===Rn(e))),UO=(e,t)=>ae(e,(e=>"li"===Rn(e)&&og(e,t))).fold(I([]),(t=>BO(e).map((e=>{const t=go.fromTag(Rn(e)),n=Oe(wr(e),((e,t)=>ct(t,"list-style")));return gr(t,n),[go.fromTag("li"),t]})).getOr([]))),VO=(e,t)=>{const n=re(t,((e,t)=>(Er(t,e),t)),e);return t.length>0?Ey([n]):n},jO=e=>aa(e)?Mo(e).filter(ia).fold(I([]),(t=>[e,t])):ia(e)?[e]:[],WO=(e,t)=>{const n=go.fromDom(t.commonAncestorContainer),o=D_(n,e),r=ne(o,da),i=UO(o,t),a=r.concat(i.length?i:jO(n));return X(a,Wc)},ZO=()=>Ey([]),$O=(e,t)=>VO(go.fromDom(t.cloneContents()),WO(e,t)),qO=(e,t)=>ar(t,"table",L(xo,e)),GO=(e,t)=>qO(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],r=LO(e);return FO(r,n,o).map((e=>Ey([HO(e)])))})).getOrThunk(ZO),KO=(e,t)=>t.length>0&&t[0].collapsed?ZO():$O(e,t[0]),YO=(e,t)=>{const n=Yf(t,e);return n.length>0?GO(e,n):KO(e,t)},JO=(e,t)=>t>=0&&t<e.length&&Pf(e.charAt(t)),XO=e=>ba(e.innerText),QO=e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase(),eD=e=>W.from(e.selection.getRng()).map((t=>{var n;const o=W.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=QO(o),a=go.fromDom(t.cloneContents());Yw(a),Jw(a);const s=e.dom.add(r,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom),l=XO(s),c=ba(null!==(n=s.textContent)&&void 0!==n?n:"");if(e.dom.remove(s),JO(c,0)||JO(c,c.length-1)){const e=o.getOr(r),t=XO(e),n=t.indexOf(l);if(-1===n)return l;{const e=JO(t,n-1),o=JO(t,n+l.length);return(e?" ":"")+l+(o?" ":"")}}return l})).getOr(""),tD=(e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),r=e.selection.getSel(),i=kw(e,Zf(r)),a=t.contextual?YO(go.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&o.appendChild(a),e.selection.serializer.serialize(o,t)},nD=(e,t)=>{if("text"===t.format)return eD(e);{const n=tD(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},oD=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),rD=(e,t,n={})=>{const o=oD(n,t);return wO(e,o).fold(z,(t=>{const n=nD(e,t);return _O(e,n,t)}))},iD=0,aD=1,sD=2,lD=(e,t)=>{const n=e.length+t.length+2,o=new Array(n),r=new Array(n),i=(e,t,n)=>({start:e,end:t,diag:n}),a=(n,o,r,i,s)=>{const c=l(n,o,r,i);if(null===c||c.start===o&&c.diag===o-i||c.end===n&&c.diag===n-r){let a=n,l=r;while(a<o||l<i)a<o&&l<i&&e[a]===t[l]?(s.push([iD,e[a]]),++a,++l):o-n>i-r?(s.push([sD,e[a]]),++a):(s.push([aD,t[l]]),++l)}else{a(n,c.start,r,c.start-c.diag,s);for(let t=c.start;t<c.end;++t)s.push([iD,e[t]]);a(c.end,o,c.end-c.diag,i,s)}},s=(n,o,r,a)=>{let s=n;while(s-o<a&&s<r&&e[s]===t[s-o])++s;return i(n,s,o)},l=(n,i,a,l)=>{const c=i-n,u=l-a;if(0===c||0===u)return null;const d=c-u,h=u+c,m=(h%2===0?h:h+1)/2;let p,f,g,v,y;for(o[1+m]=n,r[1+m]=i+1,p=0;p<=m;++p){for(f=-p;f<=p;f+=2){g=f+m,f===-p||f!==p&&o[g-1]<o[g+1]?o[g]=o[g+1]:o[g]=o[g-1]+1,v=o[g],y=v-n+a-f;while(v<i&&y<l&&e[v]===t[y])o[g]=++v,++y;if(d%2!==0&&d-p<=f&&f<=d+p&&r[g-d]<=o[g])return s(r[g-d],f+n-a,i,l)}for(f=d-p;f<=d+p;f+=2){g=f+m-d,f===d-p||f!==d+p&&r[g+1]<=r[g-1]?r[g]=r[g+1]-1:r[g]=r[g-1],v=r[g]-1,y=v-n+a-f;while(v>=n&&y>=a&&e[v]===t[y])r[g]=v--,y--;if(d%2===0&&-p<=f&&f<=p&&r[g]<=o[g+d])return s(r[g],f+n-a,i,l)}}return null},c=[];return a(0,e.length,0,t.length,c),c},cD=e=>li(e)?e.outerHTML:bi(e)?ul.encodeRaw(e.data,!1):xi(e)?"\x3c!--"+e.data+"--\x3e":"",uD=e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();e&&(n.innerHTML=e);while(t=n.firstChild)o.appendChild(t);return o},dD=(e,t,n)=>{const o=uD(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(o,t)}else e.appendChild(o)},hD=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},mD=(e,t)=>{let n=0;Q(e,(e=>{e[0]===iD?n++:e[0]===aD?(dD(t,e[1],n),n++):e[0]===sD&&hD(t,n)}))},pD=e=>ne(X(ye(e.childNodes),cD),(e=>e.length>0)),fD=(e,t)=>{const n=X(ye(t.childNodes),cD);return mD(lD(n,e),t),t},gD=qe((()=>document.implementation.createHTMLDocument("undo"))),vD=e=>-1!==e.indexOf("</iframe>"),yD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),bD=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),wD=e=>{const t=pD(e.getBody()),n=ce(t,(t=>{const n=Gw(e.serializer,t);return n.length>0?[n]:[]})),o=n.join("");return vD(o)?yD(n):bD(o)},_D=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?fD(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!T(o)||!mf(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},xD=e=>"fragmented"===e.type?e.fragments.join(""):e.content,CD=e=>{const t=go.fromTag("body",gD());return Nr(t,xD(e)),Q(oi(t,"*[data-mce-bogus]"),Rr),zr(t)},SD=(e,t)=>xD(e)===xD(t),kD=(e,t)=>CD(e)===CD(t),ED=(e,t)=>!(!e||!t)&&(!!SD(e,t)||kD(e,t)),TD=e=>0===e.get(),MD=(e,t,n)=>{TD(n)&&(e.typing=t)},OD=(e,t)=>{e.typing&&(MD(e,!1,t),e.add())},DD=e=>{e.typing&&(e.typing=!1,e.add())},AD=(e,t,n)=>{TD(t)&&n.set(fd(e.selection))},RD=(e,t,n,o,r,i,a)=>{const s=wD(e),l=mn.extend(i||{},s);if(!TD(o)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:a}).isDefaultPrevented())return null;if(c&&ED(c,l))return null;t.data[n.get()]&&r.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const u=Bh(e);if(u&&t.data.length>u){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=fd(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const d={level:l,lastLevel:c,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),l},PD=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},ID=(e,t,n,o,r)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,i=t.data[n.get()-1];_D(e,i,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}},zD=(e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],_D(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o},ND=(e,t,n,o)=>{let r;return t.typing&&(t.add(),t.typing=!1,MD(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],_D(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r},LD=e=>{e.clear(),e.add()},HD=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!ED(wD(e),t.data[0]),FD=(e,t)=>t.get()<e.data.length-1&&!e.typing,BD=(e,t,n)=>(OD(e,t),e.beforeChange(),e.ignore(n),e.add()),UD=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},VD=(e,t)=>{const n=e.dom,o=T(t)?t:e.getBody();Q(n.select("table,a",o),(t=>{switch(t.nodeName){case"TABLE":const o=Kh(e),r=n.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,r=Yh(e);o&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r)}break}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},jD=e=>({init:{bindEvents:A},undoManager:{beforeChange:(t,n)=>AD(e,t,n),add:(t,n,o,r,i,a)=>RD(e,t,n,o,r,i,a),undo:(t,n,o)=>ND(e,t,n,o),redo:(t,n)=>zD(e,t,n),clear:(t,n)=>PD(e,t,n),reset:e=>LD(e),hasUndo:(t,n)=>HD(e,t,n),hasRedo:(e,t)=>FD(e,t),transact:(e,t,n)=>BD(e,t,n),ignore:(e,t)=>UD(e,t),extra:(t,n,o,r)=>ID(e,t,n,o,r)},formatter:{match:(t,n,o,r)=>Tk(e,t,n,o,r),matchAll:(t,n)=>Mk(e,t,n),matchNode:(t,n,o,r)=>Ek(e,t,n,o,r),canApply:t=>Dk(e,t),closest:t=>Ok(e,t),apply:(t,n,o)=>rT(e,t,n,o),remove:(t,n,o,r)=>$E(e,t,n,o,r),toggle:(t,n,o)=>pT(e,t,n,o),formatChanged:(t,n,o,r,i)=>mT(e,t,n,o,r,i)},editor:{getContent:t=>t_(e,t),setContent:(t,n)=>fk(e,t,n),insertContent:(t,n)=>ck(e,t,n),addVisual:t=>VD(e,t)},selection:{getContent:(t,n)=>rD(e,t,n)},autocompleter:{addDecoration:t=>zw(e,t),removeDecoration:()=>Hw(e,go.fromDom(e.getBody()))},raw:{getModel:()=>W.none()}}),WD=e=>{const t=e=>w(e)?e:{},{init:n,undoManager:o,formatter:r,editor:i,selection:a,autocompleter:s,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,r)=>o.extra(n,r)},formatter:{match:(e,n,o,i)=>r.match(e,t(n),i),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,n,o)=>r.apply(e,t(n)),remove:(e,n,o,i)=>r.remove(e,t(n)),toggle:(e,n,o)=>r.toggle(e,t(n)),formatChanged:(e,t,n,o,i)=>r.formatChanged(t,n,o,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>W.some(l.getRawModel())}}},ZD=()=>{const e=I(null),t=I("");return{init:{bindEvents:A},undoManager:{beforeChange:A,add:e,undo:e,redo:e,clear:A,reset:A,hasUndo:V,hasRedo:V,transact:e,ignore:A,extra:A},formatter:{match:V,matchAll:I([]),matchNode:I(void 0),canApply:V,closest:t,apply:A,remove:A,toggle:A,formatChanged:I({unbind:A})},editor:{getContent:t,setContent:I({content:"",html:""}),insertContent:I(""),addVisual:A},selection:{getContent:t},autocompleter:{addDecoration:A,removeDecoration:A},raw:{getModel:I(W.none())}}},$D=e=>Pe(e.plugins,"rtc"),qD=e=>Re(e.plugins,"rtc").bind((e=>W.from(e.setup))),GD=e=>{const t=e;return qD(e).fold((()=>(t.rtcInstance=jD(e),W.none())),(e=>(t.rtcInstance=ZD(),W.some((()=>e().then((e=>(t.rtcInstance=WD(e),e.rtc.isRemote))))))))},KD=e=>e.rtcInstance?e.rtcInstance:jD(e),YD=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},JD=(e,t,n)=>{YD(e).undoManager.beforeChange(t,n)},XD=(e,t,n,o,r,i,a)=>YD(e).undoManager.add(t,n,o,r,i,a),QD=(e,t,n,o)=>YD(e).undoManager.undo(t,n,o),eA=(e,t,n)=>YD(e).undoManager.redo(t,n),tA=(e,t,n)=>{YD(e).undoManager.clear(t,n)},nA=(e,t)=>{YD(e).undoManager.reset(t)},oA=(e,t,n)=>YD(e).undoManager.hasUndo(t,n),rA=(e,t,n)=>YD(e).undoManager.hasRedo(t,n),iA=(e,t,n,o)=>YD(e).undoManager.transact(t,n,o),aA=(e,t,n)=>{YD(e).undoManager.ignore(t,n)},sA=(e,t,n,o,r)=>{YD(e).undoManager.extra(t,n,o,r)},lA=(e,t,n,o,r)=>YD(e).formatter.match(t,n,o,r),cA=(e,t,n)=>YD(e).formatter.matchAll(t,n),uA=(e,t,n,o,r)=>YD(e).formatter.matchNode(t,n,o,r),dA=(e,t)=>YD(e).formatter.canApply(t),hA=(e,t)=>YD(e).formatter.closest(t),mA=(e,t,n,o)=>{YD(e).formatter.apply(t,n,o)},pA=(e,t,n,o,r)=>{YD(e).formatter.remove(t,n,o,r)},fA=(e,t,n,o)=>{YD(e).formatter.toggle(t,n,o)},gA=(e,t,n,o,r,i)=>YD(e).formatter.formatChanged(t,n,o,r,i),vA=(e,t)=>KD(e).editor.getContent(t),yA=(e,t,n)=>KD(e).editor.setContent(t,n),bA=(e,t,n)=>KD(e).editor.insertContent(t,n),wA=(e,t,n)=>YD(e).selection.getContent(t,n),_A=(e,t)=>YD(e).editor.addVisual(t),xA=e=>YD(e).init.bindEvents(),CA=(e,t)=>YD(e).autocompleter.addDecoration(t),SA=e=>YD(e).autocompleter.removeDecoration(),kA=(e,t={})=>{const n=t.format?t.format:"html";return wA(e,n,t)},EA=e=>0===e.dom.length?(Ar(e),W.none()):W.some(e),TA=(e,t)=>e.filter((e=>uv.isBookmarkNode(e.dom))).bind(t?Po:Ro),MA=(e,t,n,o)=>{const r=e.dom,i=t.dom,a=o?r.length:i.length;o?(_x(r,i,!1,!o),n.setStart(i,a)):(_x(i,r,!1,!o),n.setEnd(i,a))},OA=(e,t)=>{Mo(e).each((n=>{const o=e.dom;t&&ix(n,zu(o,0))?bx(o,0):!t&&sx(n,zu(o,o.length))&&wx(o,o.length)}))},DA=(e,t,n,o)=>{e.bind((e=>{const r=o?wx:bx;return r(e.dom,o?e.dom.length:0),t.filter(Hn).map((t=>MA(e,t,n,o)))})).orThunk((()=>{const e=TA(t,o).or(t).filter(Hn);return e.map((e=>OA(e,o)))}))},AA=(e,t)=>{const n=W.from(t.firstChild).map(go.fromDom),o=W.from(t.lastChild).map(go.fromDom);e.deleteContents(),e.insertNode(t);const r=n.bind(Ro).filter(Hn).bind(EA),i=o.bind(Po).filter(Hn).bind(EA);DA(r,n,e,!0),DA(i,o,e,!1),e.collapse(!1)},RA=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),PA=(e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return r_({validate:!1},e.schema).serialize(i)}return t.content},IA=(e,t,n={})=>{const o=RA(n,t);xO(e,o).each((t=>{const n=PA(e,t),o=e.selection.getRng();AA(o,o.createContextualFragment(n)),e.selection.setRng(o),_b(e,o),CO(e,n,t)}))},zA=(e,t,n)=>{if(Pe(e,t)){const o=ne(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}};var NA=(e,t)=>{let n,o;const r=(t,n)=>ae(n,(n=>e.is(n,t))),i=t=>e.getParents(t,void 0,e.getRoot()),a=()=>{n={},o={},t.on("NodeChange",(e=>{const t=e.element,a=i(t),s={};Ce(n,((e,t)=>{r(t,a).each((n=>{o[t]||(Q(e,(e=>{e(!0,{node:n,selector:t,parents:a})})),o[t]=e),s[t]=e}))})),Ce(o,((e,n)=>{s[n]||(delete o[n],Q(e,(e=>{e(!1,{node:t,selector:n,parents:a})})))}))}))};return{selectorChangedWithUnbind:(e,s)=>(n||a(),n[e]||(n[e]=[]),n[e].push(s),r(e,i(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{zA(n,e,s),zA(o,e,s)}})}};const LA=e=>!(!e||!e.ownerDocument)&&Co(go.fromDom(e.ownerDocument),go.fromDom(e)),HA=e=>!!e&&(LA(e.startContainer)&&LA(e.endContainer)),FA=(e,t,n,o)=>{let r,i;const{selectorChangedWithUnbind:a}=NA(e,o),s=(t,n)=>{const r=e.createRng();T(t)&&T(n)?(r.setStart(t,n),r.setEnd(t,n),w(r),v(!1)):(rg(e,r,o.getBody(),!0),w(r))},l=e=>kA(o,e),c=(e,t)=>IA(o,e,t),u=e=>bw(o.getBody(),b(),e),d=e=>ww(o.getBody(),b(),e),h=(e,t)=>z.getBookmark(e,t),m=e=>z.moveToBookmark(e),p=(t,n)=>(Sw(e,t,n).each(w),t),f=()=>{const e=b(),t=y();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},g=()=>{const t=b(),n=o.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ue(n,(t=>e.isEditable(t.parentElement))):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},v=e=>{const t=b();t.collapse(!!e),w(t)},y=()=>t.getSelection?t.getSelection():t.document.selection,b=()=>{let n;const a=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(o){return-1}},s=t.document;if(T(o.bookmark)&&!mw(o)){const e=Lb(o);if(e.isSome())return e.map((e=>kw(o,[e])[0])).getOr(s.createRange())}try{const e=y();e&&!si(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):s.createRange(),n=kw(o,[n])[0])}catch(l){}if(n||(n=s.createRange()),Ci(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return r&&i&&(0===a(n.START_TO_START,n,r)&&0===a(n.END_TO_END,n,r)?n=i:(r=null,i=null)),n},w=(e,t)=>{if(!HA(e))return;const n=y(),a=o.dispatch("SetSelectionRange",{range:e,forward:t});if(e=a.range,n){i=e;try{n.removeAllRanges(),n.addRange(e)}catch(s){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null===n||void 0===n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},_=t=>(c(e.getOuterHTML(t)),t),x=()=>xw(o.getBody(),b()),C=(t,n)=>Cw(e,b(),t,n),S=()=>{const t=y(),n=null===t||void 0===t?void 0:t.anchorNode,o=null===t||void 0===t?void 0:t.focusNode;if(!t||!n||!o||si(n)||si(o))return!0;const r=e.createRng(),i=e.createRng();try{r.setStart(n,t.anchorOffset),r.collapse(!0),i.setStart(o,t.focusOffset),i.collapse(!0)}catch(a){return!0}return r.compareBoundaryPoints(r.START_TO_START,i)<=0},k=()=>{const t=b(),n=y();if(!qf(n)&&ig(o)){const n=By(e,t);return n.each((e=>{w(e,S())})),n.getOr(t)}return t},E=(e,t)=>(a(e,t),I),M=()=>{let t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},O=(e,t)=>{T(e)?wb(o,e,t):_b(o,b(),t)},D=(e,t)=>w(Oy(e,t,o.getDoc())),A=()=>{const e=b();return e.collapsed?zu.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},R=()=>{t=r=i=null,N.destroy()},P=(t={type:"word"})=>w(jy(e).expand(b(),t)),I={dom:e,win:t,serializer:n,editor:o,expand:P,collapse:v,setCursorLocation:s,getContent:l,setContent:c,getBookmark:h,moveToBookmark:m,select:p,isCollapsed:f,isEditable:g,isForward:S,setNode:_,getNode:x,getSel:y,setRng:w,getRng:b,getStart:u,getEnd:d,getSelectedBlocks:C,normalize:k,selectorChanged:E,selectorChangedWithUnbind:a,getScrollContainer:M,scrollIntoView:O,placeCaretAt:D,getBoundingClientRect:A,destroy:R},z=uv(I),N=Wv(I,o);return I.bookmarkManager=z,I.controlSelection=N,I},BA=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;while(n--){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,o)=>{const r="data-mce-"+o,i=t.url_converter,a=t.url_converter_scope;let s=e.length;while(s--){const t=e[s];let l=t.attr(r);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(r,null)):(l=t.attr(o),"style"===o?l=n.serializeStyle(n.parseStyle(l),t.name):i&&(l=i.call(a,l,o,t.name)),t.attr(o,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;while(t--){const n=e[t];let o=n.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let o=e.length;while(o--){const t=e[o];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=W.from(t.firstChild).exists((e=>{var t;return!ya(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;while(n--){const o=e[n].firstChild;o&&(o.value=ul.decode(null!==(t=o.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var o;const r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;while(i--){const a=e[i],s=a.firstChild,l=null!==(o=null===s||void 0===s?void 0:s.value)&&void 0!==o?o:"";if("script"===n){const e=a.attr("type");e&&a.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&s&&l.length>0&&(s.value="// <![CDATA[\n"+r(l)+"\n// ]]>")}else"xhtml"===t.element_format&&s&&l.length>0&&(s.value="\x3c!--\n"+r(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let o=e.length;while(o--){const r=e[o],i=r.value;t.preserve_cdata&&0===(null===i||void 0===i?void 0:i.indexOf("[CDATA["))?(r.name="#cdata",r.type=4,r.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null===i||void 0===i?void 0:i.indexOf("mce:protected "))&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(i).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;while(n--){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{Q(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;while(n--)e[n].attr(t,null)})),t.remove_trailing_brs&&xT(e,e.schema)},UA=e=>{const t=e=>"br"===(null===e||void 0===e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}},VA=(e,t,n)=>{let o;const r=e.dom;let i=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument("");mn.each("BODY"===i.nodeName?i.childNodes:[i],(t=>{e.body.appendChild(e.importNode(t,!0))})),i="BODY"!==i.nodeName?e.body.firstChild:e.body,o=r.doc,r.doc=e}return hv(e,{...n,node:i}),o&&(r.doc=o),i},jA=(e,t)=>T(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,WA=(e,t,n)=>jA(e,n)?VA(e,t,n):t,ZA=(e,t,n)=>{-1===mn.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;while(n--)e[n].attr(t,null)})),t.push(n))},$A=(e,t,n)=>{if(!t.no_events&&e){const o=mv(e,{...t,content:n});return o.content}return n},qA=(e,t,n)=>{const o=ba(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ca(go.fromDom(t))?o:mn.trim(o)},GA=(e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,o);return UA(r),r},KA=(e,t,n)=>{const o=r_(e,t);return o.serialize(n)},YA=(e,t,n,o,r)=>{const i=KA(t,n,o);return $A(e,r,i)},JA=(e,t)=>{const n=["data-mce-selected"],o={entity_encoding:"named",remove_trailing_brs:!0,...e},r=t&&t.dom?t.dom:Jl.DOM,i=t&&t.schema?t.schema:Sl(o),a=vO(o,i);BA(a,o,r);const s=(e,n={})=>{const s={format:"html",...n},l=WA(t,e,s),c=qA(r,l,s),u=GA(a,c,s);return"tree"===s.format?u:YA(t,o,i,u,s)};return{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:s,addRules:i.addValidElements,setRules:i.setValidElements,addTempAttr:L(ZA,a,n),getTempAttrs:I(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},XA=(e,t)=>{const n=JA(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},QA="html",eR=(e,t)=>({...e,format:t,get:!0,getInner:!0}),tR=(e,t={})=>{const n=t.format?t.format:QA,o=eR(t,n);return wO(e,o).fold(z,(t=>{const n=vA(e,t);return _O(e,n,t)}))},nR="html",oR=(e,t)=>({format:nR,...e,set:!0,content:t}),rR=(e,t,n={})=>{const o=oR(n,t);return xO(e,o).map((t=>{const n=yA(e,t.content,t);return CO(e,n.html,t),n.content})).getOr(t)},iR="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),aR="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),sR="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),lR=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],cR=(e,t)=>{const n=ne(t,(t=>Pe(e,t)));return pe(n)},uR=e=>{const t=cR(e,iR),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),pe(t)},dR=e=>cR(e,aR),hR=(e,t)=>{const n=mn.makeMap(e.plugins," "),o=e=>Pe(n,e),r=ne(t,o);return pe(r)},mR=e=>hR(e,sR),pR=e=>hR(e,lR.map((e=>e.name))),fR=(e,t)=>{const n=uR(e),o=mR(t),r=o.length>0,i=n.length>0,a="mobile"===t.theme;if(r||i||a){const e="\n- ",t=a?`\n\nThemes:${e}mobile`:"",s=r?`\n\nPlugins:${e}${o.join(e)}`:"",l=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+s+l)}},gR=e=>ae(lR,(t=>t.name===e)).fold((()=>e),(t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e)),vR=(e,t)=>{const n=dR(e),o=pR(t),r=o.length>0,i=n.length>0;if(r||i){const e="\n- ",t=r?`\n\nPlugins:${e}${o.map(gR).join(e)}`:"",a=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+a)}},yR=(e,t)=>{fR(e,t),vR(e,t)},bR=Jl.DOM,wR=e=>{bR.setStyle(e.id,"display",e.orgDisplay)},_R=e=>W.from(e).each((e=>e.destroy())),xR=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}},CR=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),bR.unbind(t,"submit reset",e.formEventDelegate))},SR=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&T(null===r||void 0===r?void 0:r.nextSibling)&&bR.remove(r.nextSibling),pv(e),e.editorManager.remove(e),!e.inline&&o&&wR(e),fv(e),bR.remove(e.getContainer()),_R(t),_R(n),e.destroy()}},kR=(e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),_R(n),_R(o)),CR(e),xR(e),e.destroyed=!0):e.remove())},ER=()=>{const e={},t=(t,n)=>{e[t]=n},n=t=>e[t]?e[t]:{icons:{}},o=t=>Pe(e,t);return{add:t,get:n,has:o}},TR=ER(),MR=yc.ModelManager,OR=(e,t)=>{const n=t.dom;return n[e]},DR=(e,t)=>parseInt(vr(t,e),10),AR=L(OR,"clientWidth"),RR=L(OR,"clientHeight"),PR=L(DR,"margin-top"),IR=L(DR,"margin-left"),zR=e=>e.dom.getBoundingClientRect(),NR=(e,t,n)=>{const o=AR(e),r=RR(e);return t>=0&&n>=0&&t<=o&&n<=r},LR=(e,t,n,o)=>{const r=zR(t),i=e?r.left+t.dom.clientLeft+IR(t):0,a=e?r.top+t.dom.clientTop+PR(t):0,s=n-i,l=o-a;return{x:s,y:l}},HR=(e,t,n)=>{const o=go.fromDom(e.getBody()),r=e.inline?o:Eo(o),i=LR(e.inline,r,t,n);return NR(r,i.x,i.y)},FR=e=>W.from(e).map(go.fromDom),BR=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return FR(t).map(Qo).getOr(!1)};var UR=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const VR=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():UR()},o=()=>W.from(t[0]),r=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout,i=()=>{Q(t,(e=>{e.reposition()}))},a=e=>{t.push(e)},s=e=>{se(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},l=(l,c=!0)=>e.removed||!BR(e)?{}:(c&&e.dispatch("BeforeOpenNotification",{notification:l}),ae(t,(e=>r(n().getArgs(e),l))).getOrThunk((()=>{e.editorManager.setActive(e);const t=n().open(l,(()=>{s(t),i(),o().fold((()=>e.focus()),(e=>xb(go.fromDom(e.getEl()))))}));return a(t),i(),e.dispatch("OpenNotification",{notification:{...t}}),t}))),c=()=>{o().each((e=>{n().close(e),s(e),i()}))},u=I(t),d=e=>{e.on("SkinLoaded",(()=>{const t=Sh(e);t&&l({text:t,type:"warning",timeout:0},!1),i()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(i)})),e.on("remove",(()=>{Q(t.slice(),(e=>{n().close(e)}))}))};return d(e),{open:l,close:c,getNotifications:u}},jR=yc.PluginManager,WR=yc.ThemeManager;var ZR=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const $R=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():ZR()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,r=t=>{e.dispatch("OpenWindow",{dialog:t})},i=t=>{e.dispatch("CloseWindow",{dialog:t})},a=e=>{t.push(e),r(e)},s=n=>{i(n),t=ne(t,(e=>e!==n)),0===t.length&&e.focus()},l=()=>W.from(t[t.length-1]),c=t=>{e.editorManager.setActive(e),Nb(e),e.ui.show();const n=t();return a(n),n},u=(e,t)=>c((()=>n().open(e,t,s))),d=e=>c((()=>n().openUrl(e,s))),h=(e,t,r)=>{const i=n();i.alert(e,o(r||i,t))},m=(e,t,r)=>{const i=n();i.confirm(e,o(r||i,t))},p=()=>{l().each((e=>{n().close(e),s(e)}))};return e.on("remove",(()=>{Q(t,(e=>{n().close(e)}))})),{open:u,openUrl:d,alert:h,confirm:m,close:p}},qR=(e,t)=>{e.notificationManager.open({type:"error",text:t})},GR=(e,t)=>{e._skinLoaded?qR(e,t):e.on("SkinLoaded",(()=>{qR(e,t)}))},KR=(e,t)=>{GR(e,vc.translate(["Failed to upload image: {0}",t]))},YR=(e,t,n)=>{Cv(e,t,{message:n}),console.error(n)},JR=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,XR=(e,t,n)=>{YR(e,"PluginLoadError",JR("plugin",t,n))},QR=(e,t,n)=>{YR(e,"IconsLoadError",JR("icons",t,n))},eP=(e,t,n)=>{YR(e,"LanguageLoadError",JR("language",t,n))},tP=(e,t,n)=>{YR(e,"ThemeLoadError",JR("theme",t,n))},nP=(e,t,n)=>{YR(e,"ModelLoadError",JR("model",t,n))},oP=(e,t,n)=>{const o=vc.translate(["Failed to initialize plugin: {0}",t]);Cv(e,"PluginLoadError",{message:o}),rP(o,n),GR(e,o)},rP=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},iP=e=>/^[a-z0-9\-]+$/i.test(e),aP=e=>lP(e,fh(e)),sP=e=>lP(e,vh(e)),lP=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=e.editorManager.suffix,r=`content${o}.css`;return X(t,(t=>iP(t)&&!e.inline?`${n}/${t}/${r}`:e.documentBaseURI.toAbsolute(t)))},cP=e=>{e.contentCSS=e.contentCSS.concat(aP(e),sP(e))},uP=e=>e?ye(e.getElementsByTagName("img")):[],dP=(e,t)=>{const n={},o=(o,r=j)=>{const i=ne(uP(o),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===tn.transparentSrc)&&(ct(n,"blob:")?!e.isUploaded(n)&&r(t):!!ct(n,"data:")&&r(t))))})),a=X(i,(e=>{const o=e.src;if(Pe(n,o))return n[o].then((t=>b(t)?t:{image:e,blobInfo:t.blobInfo}));{const r=zT(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=r,r}}));return Promise.all(a)};return{findAll:o}},hP=()=>{const e=1,t=2;let n={};const o=(e,t)=>({status:e,resultUri:t}),r=e=>e in n,i=e=>{const t=n[e];return t?t.resultUri:null},a=t=>!!r(t)&&n[t].status===e,s=e=>!!r(e)&&n[e].status===t,l=t=>{n[t]=o(e,null)},c=(e,r)=>{n[e]=o(t,r)},u=e=>{delete n[e]},d=()=>{n={}};return{hasBlobUri:r,getResultUri:i,isPending:a,isUploaded:s,markPending:l,markUploaded:c,removeFailed:u,destroy:d}};let mP=0;const pP=()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36),t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},fP=e=>e+mP+++pP(),gP=()=>{let e=[];const t=e=>{const t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"},n=(e,t,n,r,i)=>{if(b(e)){const a=e;return o({id:a,name:r,filename:i,blob:t,base64:n})}if(w(e))return o(e);throw new Error("Unknown input type")},o=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const n=e.id||fP("blobid"),o=e.name||n,r=e.blob;return{id:I(n),name:I(o),filename:I(e.filename||o+"."+t(r.type)),blob:I(r),base64:I(e.base64),blobUri:I(e.blobUri||URL.createObjectURL(r)),uri:I(e.uri)}},r=t=>{a(t.id())||e.push(t)},i=t=>ae(e,t).getOrUndefined(),a=e=>i((t=>t.id()===e)),s=e=>i((t=>t.blobUri()===e)),l=(e,t)=>i((n=>n.base64()===e&&n.blob().type===t)),c=t=>{e=ne(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},u=()=>{Q(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]};return{create:n,add:r,get:a,getByUri:s,getByData:l,findFirst:i,removeByUri:c,destroy:u}},vP=(e,t)=>{const n={},o=(e,t)=>e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t,r=(e,n)=>new Promise(((r,i)=>{const a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=e=>{n(e.loaded/e.total*100)},a.onerror=()=>{i("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=()=>{if(a.status<200||a.status>=300)return void i("HTTP Error: "+a.status);const e=JSON.parse(a.responseText);e&&b(e.location)?r(o(t.basePath,e.location)):i("Invalid JSON: "+a.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)})),i=M(t.handler)?t.handler:r,a=()=>new Promise((e=>{e([])})),s=(e,t)=>({url:t,blobInfo:e,status:!0}),l=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),c=(e,t)=>{mn.each(n[e],(e=>{e(t)})),delete n[e]},u=(t,n,o)=>(e.markPending(t.blobUri()),new Promise((r=>{let i,a;try{const u=()=>{i&&(i.close(),a=A)},d=n=>{u(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),s(t,n)),r(s(t,n))},h=n=>{u(),e.removeFailed(t.blobUri()),c(t.blobUri(),l(t,n)),r(l(t,n))};a=e=>{e<0||e>100||W.from(i).orThunk((()=>W.from(o).map(B))).each((t=>{i=t,t.progressBar.value(e)}))},n(t,a).then(d,(e=>{h(b(e)?{message:e}:e)}))}catch(u){r(l(t,u))}}))),d=e=>e===r,h=e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))},m=(t,n)=>(t=mn.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(mn.map(t,(t=>e.isPending(t.blobUri())?h(t):u(t,i,n))))),p=(e,n)=>!t.url&&d(i)?a():m(e,n);return{upload:p}},yP=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),bP=(e,t)=>vP(t,{url:ih(e),basePath:ah(e),credentials:sh(e),handler:lh(e)}),wP=e=>{const t=hP(),n=bP(e,t);return{upload:(t,o=!0)=>n.upload(t,o?yP(e):void 0)}},_P=(e,t)=>e.dom.isEmpty(t.dom)&&T(e.schema.getTextBlockElements()[Rn(t)]),xP=e=>t=>{_P(e,t)&&Er(t,go.fromHtml('<br data-mce-bogus="1" />'))},CP=e=>{const t=gP();let n,o;const r=hP(),i=[],a=t=>n=>e.selection?t(n):[],s=e=>e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime(),l=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},c=(e,t,n)=>{const o=`src="${n}"${n===tn.transparentSrc?' data-mce-placeholder="1"':""}`;return e=l(e,`src="${t}"`,o),e=l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},u=(t,n)=>{Q(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=X(e.fragments,(e=>c(e,t,n))):e.content=c(e.content,t,n)}))},d=(t,n)=>{const o=e.convertURL(n,"src");u(t.src,n),Wn(go.fromDom(t),{src:th(e)?s(n):n,"data-mce-src":o})},h=()=>(n||(n=bP(e,r)),g().then(a((o=>{const r=X(o,(e=>e.blobInfo));return n.upload(r,yP(e)).then(a((n=>{const r=[];let i=!1;const a=X(n,((n,a)=>{const{blobInfo:s,image:l}=o[a];let c=!1;return n.status&&nh(e)?(n.url&&!lt(l.src,n.url)&&(i=!0),t.removeByUri(l.src),$D(e)||d(l,n.url)):n.error&&(n.error.remove&&(u(l.src,tn.transparentSrc),r.push(l),c=!0),KR(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:s,removed:c}}));return r.length>0&&!$D(e)?e.undoManager.transact((()=>{Q(Ir(r),(n=>{const o=Mo(n);Ar(n),o.each(xP(e)),t.removeByUri(n.dom.src)}))})):i&&e.undoManager.dispatchChange(),a})))})))),m=()=>eh(e)?h():Promise.resolve([]),p=e=>ue(i,(t=>t(e))),f=e=>{i.push(e)},g=()=>(o||(o=dP(r,t)),o.findAll(e.getBody(),p).then(a((t=>{const n=ne(t,(t=>b(t)?(GR(e,t),!1):"blob"!==t.uriType));return $D(e)||Q(n,(e=>{u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),v=()=>{t.destroy(),r.destroy(),o=n=null},y=n=>n.replace(/src="(blob:[^"]+)"/g,((n,o)=>{const i=r.getResultUri(o);if(i)return'src="'+i+'"';let a=t.getByUri(o);if(a||(a=re(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),void 0)),a){const e=a.blob();return'src="data:'+e.type+";base64,"+a.base64()+'"'}return n}));return e.on("SetContent",(()=>{eh(e)?m():g()})),e.on("RawSaveContent",(e=>{e.content=y(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=y(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{Q(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const o=r.getResultUri(n);o&&e.attr("src",o)}))}))})),{blobCache:t,addFilter:f,uploadImages:h,uploadImagesAuto:m,scanForImages:g,destroy:v}},SP=e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>li(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{mn.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return mn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{o[e]={block:e,remove:"all"}})),o},kP={remove_similar:!0,inherit:!1},EP={selector:"td,th",...kP},TP={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...EP},tablecellverticalalign:{styles:{"vertical-align":"%value"},...EP},tablecellbordercolor:{styles:{borderColor:"%value"},...EP},tablecellclass:{classes:["%value"],...EP},tableclass:{selector:"table",classes:["%value"],...kP},tablecellborderstyle:{styles:{borderStyle:"%value"},...EP},tablecellborderwidth:{styles:{borderWidth:"%value"},...EP}},MP=I(TP),OP=e=>{const t={},n=e=>T(e)?t[e]:t,o=e=>Pe(t,e),r=(e,n)=>{e&&(b(e)?(x(n)||(n=[n]),Q(n,(e=>{k(e.deep)&&(e.deep=!Pg(e)),k(e.split)&&(e.split=!Pg(e)||Ig(e)),k(e.remove)&&Pg(e)&&!Ig(e)&&(e.remove="none"),Pg(e)&&Ig(e)&&(e.mixed=!0,e.block_expand=!0),b(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=n):Ce(e,((e,t)=>{r(t,e)})))},i=e=>(e&&t[e]&&delete t[e],t);return r(SP(e)),r(MP()),r(Dh(e)),{get:n,has:o,register:r,unregister:i}},DP=mn.each,AP=Jl.DOM,RP=e=>T(e)&&w(e),PP=(e,t)=>{const n=t&&t.schema||Sl({}),o=(e,t)=>{t.classes.length>0&&AP.addClass(e,t.classes.join(" ")),AP.setAttribs(e,t.attrs)},r=e=>{const t=b(e)?{name:e,classes:[],attrs:{}}:e,n=AP.create(t.name);return o(n,t),n},i=(e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),r=null===o||void 0===o?void 0:o.parentsRequired;return!(!r||!r.length)&&(t&&Y(r,t)?t:r[0])},a=(e,t,n)=>{let o;const s=t[0],l=RP(s)?s.name:void 0,c=i(e,l);if(c)l===c?(o=s,t=t.slice(1)):o=c;else if(s)o=s,t=t.slice(1);else if(!n)return e;const u=o?r(o):AP.create("div");u.appendChild(e),n&&mn.each(n,(t=>{const n=r(t);u.insertBefore(n,e)}));const d=RP(o)?o.siblings:void 0;return a(u,t,d)},s=AP.create("div");if(e.length>0){const t=e[0],n=r(t),o=RP(t)?t.siblings:void 0;s.appendChild(a(n,e.slice(1),o))}return s},IP=e=>{e=mn.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,o,r,i)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==mn.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o);break}if("["===r){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},zP=e=>b(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),mn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=mn.map(e.split(/(?:~\+|~|\+)/),IP),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[],NP=(e,t)=>{let n="",o=Ah(e);if(""===o)return"";const r=e=>b(e)?e.replace(/%(\w+)/g,""):"",i=(t,n)=>AP.getStyle(null!==n&&void 0!==n?n:e.getBody(),t,!0);if(b(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";o=e||o}let a,s=t.block||t.inline||"span";const l=zP(t.selector);l.length>0?(l[0].name||(l[0].name=s),s=t.selector,a=PP(l,e)):a=PP([s],e);const c=AP.select(s,a)[0]||a.firstChild;DP(t.styles,((e,t)=>{const n=r(e);n&&AP.setStyle(c,t,n)})),DP(t.attributes,((e,t)=>{const n=r(e);n&&AP.setAttrib(c,t,n)})),DP(t.classes,(e=>{const t=r(e);AP.hasClass(c,t)||AP.addClass(c,t)})),e.dispatch("PreviewFormats"),AP.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a);const u=i("fontSize"),d=/px$/.test(u)?parseInt(u,10):0;return DP(o.split(" "),(e=>{let t=i(e,c);if(("background-color"!==e||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)||(t=i(e),"#ffffff"!==Wf(t).toLowerCase()))&&("color"!==e||"#000000"!==Wf(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===d)return;const e=parseFloat(t)/(/%$/.test(t)?100:1);t=e*d+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),AP.remove(a),n},LP=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},HP=e=>{const t=OP(e),n=rc({});return LP(e),Kk(e),$D(e)||aT(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{mA(e,t,n,o)},remove:(t,n,o,r)=>{pA(e,t,n,o,r)},toggle:(t,n,o)=>{fA(e,t,n,o)},match:(t,n,o,r)=>lA(e,t,n,o,r),closest:t=>hA(e,t),matchAll:(t,n)=>cA(e,t,n),matchNode:(t,n,o,r)=>uA(e,t,n,o,r),canApply:t=>dA(e,t),formatChanged:(t,o,r,i)=>gA(e,n,t,o,r,i),getCssText:L(NP,e)}},FP=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},BP=(e,t,n)=>{const o=rc(!1),r=e=>{MD(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const o=e.command;FP(o)||(OD(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;FP(t)||r(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(n=>{const i=n.keyCode;if(n.isDefaultPrevented())return;const a=tn.os.isMacOS()&&"Meta"===n.key;(i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey||a)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!ED(wD(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged())})),e.on("keydown",(e=>{const i=e.keyCode;if(e.isDefaultPrevented())return;if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&r(e));const a=e.ctrlKey&&!e.altKey||e.metaKey;if((i<16||i>20)&&224!==i&&91!==i&&!t.typing&&!a)return t.beforeChange(),MD(t,!0,n),t.add({},e),void o.set(!0);const s=tn.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey;s&&t.beforeChange()})),e.on("mousedown",(e=>{t.typing&&r(e)}));const i=e=>"insertReplacementText"===e.inputType,a=e=>"insertText"===e.inputType&&null===e.data,s=e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType;e.on("input",(e=>{e.inputType&&(i(e)||a(e)||s(e))&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))},UP=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},VP=e=>{const t=_c(),n=rc(0),o=rc(0),r={data:[],typing:!1,beforeChange:()=>{JD(e,n,t)},add:(i,a)=>XD(e,r,o,n,t,i,a),dispatchChange:()=>{e.setDirty(!0);const t=wD(e);t.bookmark=fd(e.selection),e.dispatch("change",{level:t,lastLevel:fe(r.data,o.get()).getOrUndefined()})},undo:()=>QD(e,r,n,o),redo:()=>eA(e,o,r.data),clear:()=>{tA(e,r,o)},reset:()=>{nA(e,r)},hasUndo:()=>oA(e,r,o),hasRedo:()=>rA(e,r,o),transact:t=>iA(e,r,n,t),ignore:t=>{aA(e,n,t)},extra:(t,n)=>{sA(e,r,o,t,n)}};return $D(e)||BP(e,r,n),UP(e),r},jP=[9,27,Lv.HOME,Lv.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Lv.DOWN,Lv.UP,Lv.LEFT,Lv.RIGHT].concat(tn.browser.isFirefox()?[224]:[]),WP="data-mce-placeholder",ZP=e=>"keydown"===e.type||"keyup"===e.type,$P=e=>{const t=e.keyCode;return t===Lv.BACKSPACE||t===Lv.DELETE},qP=e=>{if(ZP(e)){const t=e.keyCode;return!$P(e)&&(Lv.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(jP,t))}return!1},GP=e=>ZP(e)&&!($P(e)||"keyup"===e.type&&229===e.keyCode),KP=(e,t,n)=>{if(ds(go.fromDom(t),!1)){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1},YP=e=>{var t;const n=e.dom,o=qd(e),r=null!==(t=xh(e))&&void 0!==t?t:"",i=(t,a)=>{if(qP(t))return;const s=e.getBody(),l=!GP(t)&&KP(n,s,o),c=""!==n.getAttrib(s,WP);(c!==l||a)&&(n.setAttrib(s,WP,l?r:null),n.setAttrib(s,"aria-placeholder",l?r:null),xv(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};ft(r)&&e.on("init",(t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(t=>jb.setEditorTimeout(e,(()=>i(t)))))}))},JP=(e,t)=>({block:e,position:t}),XP=(e,t)=>({from:e,to:t}),QP=(e,t)=>{const n=go.fromDom(e),o=go.fromDom(t.container());return rC(n,o).map((e=>JP(e,t)))},eI=e=>!xo(e.from.block,e.to.block),tI=(e,t)=>{const n=t=>xo(t,e),o=e=>la(e)||Ti(e.dom);return nr(t,o,n).filter(Ln).getOr(e)},nI=(e,t)=>{const n=go.fromDom(e);return xo(tI(n,t.from.block),tI(n,t.to.block))},oI=e=>!1===Mi(e.from.block.dom)&&!1===Mi(e.to.block.dom),rI=e=>{const t=e=>ra(e)||Ss(e.dom);return t(e.from.block)&&t(e.to.block)},iI=(e,t,n)=>ki(n.position.getNode())&&!ds(n.block)?ef(!1,n.block.dom).bind((o=>o.isEqual(n.position)?Jp(t,e,o).bind((t=>QP(e,t))):W.some(n))).getOr(n):n,aI=(e,t,n)=>{const o=QP(e,zu.fromRangeStart(n)),r=o.bind((n=>Jp(t,e,n.position).bind((n=>QP(e,n).map((n=>iI(e,t,n)))))));return gn(o,r,XP).filter((t=>eI(t)&&nI(e,t)&&oI(t)&&rI(t)))},sI=(e,t,n)=>n.collapsed?aI(e,t,n):W.none(),lI=e=>{const t=No(e);return se(t,ea).fold(I(t),(e=>t.slice(0,e)))},cI=e=>{const t=lI(e);return Q(t,Ar),t},uI=(e,t)=>{const n=D_(t,e);return ae(n.reverse(),(e=>ds(e))).each(Ar)},dI=e=>0===ne(Io(e),(e=>!ds(e))).length,hI=(e,t,n,o)=>{if(ds(n))return fa(n),of(n.dom);dI(o)&&ds(t)&&Cr(o,go.fromTag("br"));const r=nf(n.dom,zu.before(o.dom));return Q(cI(t),(e=>{Cr(o,e)})),uI(e,t),r},mI=(e,t,n)=>{if(ds(n)){if(ds(t)){const e=e=>{const t=(e,n)=>Ho(e).fold((()=>n),(e=>na(e)?t(e,n.concat(Wc(e))):n));return t(e,[])},o=oe(e(n),((e,t)=>(Tr(e,t),t)),pa());Dr(t),Er(t,o)}return Ar(n),of(t.dom)}const o=rf(n.dom);return Q(cI(t),(e=>{Er(n,e)})),uI(e,t),o},pI=(e,t)=>{const n=D_(t,e);return W.from(n[n.length-1])},fI=(e,t)=>Co(t,e)?pI(t,e):W.none(),gI=(e,t)=>{ef(e,t.dom).bind((e=>W.from(e.getNode()))).map(go.fromDom).filter(oa).each(Ar)},vI=(e,t,n)=>(gI(!0,t),gI(!1,n),fI(t,n).fold(L(mI,e,t,n),L(hI,e,t,n))),yI=(e,t,n,o)=>t?vI(e,o,n):vI(e,n,o),bI=(e,t)=>{const n=go.fromDom(e.getBody()),o=sI(n.dom,t,e.selection.getRng()).map((o=>()=>{yI(n,t,o.from.block,o.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return o},wI=(e,t)=>{const n=t.getRng();return gn(rC(e,go.fromDom(n.startContainer)),rC(e,go.fromDom(n.endContainer)),((o,r)=>xo(o,r)?W.none():W.some((()=>{n.deleteContents(),yI(e,!0,o,r).each((e=>{t.setRng(e.toRange())}))})))).getOr(W.none())},_I=(e,t)=>{const n=go.fromDom(t),o=L(xo,e);return tr(n,la,o).isSome()},xI=(e,t)=>_I(e,t.startContainer)||_I(e,t.endContainer),CI=(e,t)=>{const n=nf(e.dom,zu.fromRangeStart(t)).isNone(),o=tf(e.dom,zu.fromRangeEnd(t)).isNone();return!xI(e,t)&&n&&o},SI=e=>W.some((()=>{e.setContent(""),e.selection.setCursorLocation()})),kI=e=>{const t=go.fromDom(e.getBody()),n=e.selection.getRng();return CI(t,n)?SI(e):wI(t,e.selection)},EI=(e,t)=>e.selection.isCollapsed()?W.none():kI(e),TI=(e,t,n,o,r)=>W.from(t._selectionOverrides.showCaret(e,n,o,r)),MI=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},OI=(e,t)=>{const n=e.dispatch("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?W.none():W.some(MI(t))},DI=(e,t,n)=>{const o=Cp(1,e.getBody(),t),r=zu.fromRangeStart(o),i=r.getNode();if(Qm(i))return TI(1,e,i,!r.isAtEnd(),!1);const a=r.getNode(!0);if(Qm(a))return TI(1,e,a,!1,!1);const s=rS(e.dom.getRoot(),r.getNode());return Qm(s)?TI(1,e,s,!1,n):W.none()},AI=(e,t,n)=>t.collapsed?DI(e,t,n).getOr(t):t,RI=e=>k_(e)||__(e),PI=e=>E_(e)||x_(e),II=(e,t)=>{bi(t)&&0===t.data.length&&e.remove(t)},zI=(e,t,n,o,r,i)=>{TI(o,e,i.getNode(!r),r,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),II(e.dom,n)},NI=(e,t)=>{const n=e.selection.getRng();if(!bi(n.commonAncestorContainer))return W.none();const o=t?Dp.Forwards:Dp.Backwards,r=jp(e.getBody()),i=L(Mp,t?r.next:r.prev),a=t?RI:PI,s=kp(o,e.getBody(),n),l=i(s),c=l?Kx(t,l):l;if(!c||!Op(s,c))return W.none();if(a(c))return W.some((()=>zI(e,n,s.getNode(),o,t,c)));const u=i(c);return u&&a(u)&&Op(c,u)?W.some((()=>zI(e,n,s.getNode(),o,t,u))):W.none()},LI=(e,t)=>NI(e,t),HI=(e,t)=>{const n=e.getBody();return t?of(n).filter(k_):rf(n).filter(E_)},FI=e=>{const t=e.selection.getRng();return!t.collapsed&&(HI(e,!0).exists((e=>e.isEqual(zu.fromRangeStart(t))))||HI(e,!1).exists((e=>e.isEqual(zu.fromRangeEnd(t)))))},BI=e=>T(e)&&(la(go.fromDom(e))||aa(go.fromDom(e))),UI=_d.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),VI=(e,t)=>{const n=t.getNode(!e),o=e?"after":"before";return li(n)&&n.getAttribute("data-mce-caret")===o},jI=(e,t,n,o)=>{const r=t=>na(go.fromDom(t))&&!gp(n,o,e);return Sp(!t,n).fold((()=>Sp(t,o).fold(V,r)),r)},WI=(e,t,n,o)=>{const r=o.getNode(!t);return rC(go.fromDom(e),go.fromDom(n.getNode())).map((e=>ds(e)?UI.remove(e.dom):UI.moveToElement(r))).orThunk((()=>W.some(UI.moveToElement(r))))},ZI=(e,t,n)=>Jp(t,e,n).bind((o=>BI(o.getNode())||jI(e,t,n,o)?W.none():t&&Mi(o.getNode())||!t&&Mi(o.getNode(!0))?WI(e,t,n,o):t&&E_(n)||!t&&k_(n)?W.some(UI.moveToPosition(o)):W.none())),$I=(e,t)=>E(t)?W.none():e&&Mi(t.nextSibling)?W.some(UI.moveToElement(t.nextSibling)):!e&&Mi(t.previousSibling)?W.some(UI.moveToElement(t.previousSibling)):W.none(),qI=(e,t,n)=>n.fold((e=>W.some(UI.remove(e))),(e=>W.some(UI.moveToElement(e))),(n=>gp(t,n,e)?W.none():W.some(UI.moveToPosition(n)))),GI=(e,t,n)=>VI(t,n)?$I(t,n.getNode(!t)).orThunk((()=>ZI(e,t,n))):ZI(e,t,n).bind((t=>qI(e,n,t))),KI=(e,t,n)=>{const o=Cp(t?1:-1,e,n),r=zu.fromRangeStart(o),i=go.fromDom(e);return!t&&E_(r)?W.some(UI.remove(r.getNode(!0))):t&&k_(r)?W.some(UI.remove(r.getNode())):!t&&k_(r)&&V_(i,r)?j_(i,r).map((e=>UI.remove(e.getNode()))):t&&E_(r)&&U_(i,r)?W_(i,r).map((e=>UI.remove(e.getNode()))):GI(e,t,r)},YI=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Bx(e,t,go.fromDom(n)),!0),JI=(e,t)=>n=>{const o=t?zu.before(n):zu.after(n);return e.selection.setRng(o.toRange()),!0},XI=e=>t=>(e.selection.setRng(t.toRange()),!0),QI=(e,t)=>W.from(rS(e.getBody(),t)),ez=(e,t)=>{const n=e.selection.getNode();return QI(e,n).filter(Mi).fold((()=>KI(e.getBody(),t,e.selection.getRng()).map((n=>()=>n.fold(YI(e,t),JI(e,t),XI(e))))),(()=>W.some(A)))},tz=e=>{Q(oi(e,".mce-offscreen-selection"),Ar)},nz=(e,t)=>{const n=e.selection.getNode();if(Mi(n)&&!Oi(n)){const o=QI(e,n.parentNode).filter(Mi);return o.fold((()=>W.some((()=>{tz(go.fromDom(e.getBody())),Bx(e,t,go.fromDom(e.selection.getNode())),iC(e)}))),(()=>W.some(A)))}return FI(e)?W.some((()=>{lC(e,e.selection.getRng(),go.fromDom(e.getBody()))})):W.none()},oz=e=>{const t=e.dom,n=e.selection,o=rS(e.getBody(),n.getNode());if(Ti(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(zu.before(e).toRange())}return!0},rz=(e,t)=>e.selection.isCollapsed()?ez(e,t):nz(e,t),iz=(e,t)=>{const n=zu.fromRangeStart(e.selection.getRng());return Jp(t,e.getBody(),n).filter((e=>t?b_(e):w_(e))).bind((e=>vp(t?0:-1,e))).map((t=>()=>e.selection.select(t)))},az=(e,t)=>e.selection.isCollapsed()?iz(e,t):W.none(),sz=bi,lz=e=>sz(e)&&e.data[0]===va,cz=e=>sz(e)&&e.data[e.data.length-1]===va,uz=e=>{var t;const n=null!==(t=e.ownerDocument)&&void 0!==t?t:document;return n.createTextNode(va)},dz=e=>{var t;if(sz(e.previousSibling))return cz(e.previousSibling)||e.previousSibling.appendData(va),e.previousSibling;if(sz(e))return lz(e)||e.insertData(0,va),e;{const n=uz(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}},hz=e=>{var t,n;if(sz(e.nextSibling))return lz(e.nextSibling)||e.nextSibling.insertData(0,va),e.nextSibling;if(sz(e))return cz(e)||e.appendData(va),e;{const o=uz(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}},mz=(e,t)=>e?dz(t):hz(t),pz=L(mz,!0),fz=L(mz,!1),gz=(e,t)=>bi(e.container())?mz(t,e.container()):mz(t,e.getNode()),vz=(e,t)=>{const n=t.get();return n&&e.container()===n&&Ca(n)},yz=(e,t)=>t.fold((t=>{Wm(e.get());const n=pz(t);return e.set(n),W.some(zu(n,n.length-1))}),(t=>of(t).map((t=>{if(vz(t,e)){const t=e.get();return zu(t,1)}{Wm(e.get());const n=gz(t,!0);return e.set(n),zu(n,1)}}))),(t=>rf(t).map((t=>{if(vz(t,e)){const t=e.get();return zu(t,t.length-1)}{Wm(e.get());const n=gz(t,!1);return e.set(n),zu(n,n.length-1)}}))),(t=>{Wm(e.get());const n=fz(t);return e.set(n),W.some(zu(n,1))})),bz=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return W.none()},wz=_d.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),_z=(e,t)=>{const n=fp(t,e);return n||e},xz=(e,t,n)=>{const o=Yx(n),r=_z(t,o.container());return $x(e,r,o).fold((()=>tf(r,o).bind(L($x,e,r)).map((e=>wz.before(e)))),W.none)},Cz=(e,t)=>null===lf(e,t),Sz=(e,t,n)=>$x(e,t,n).filter(L(Cz,t)),kz=(e,t,n)=>{const o=Jx(n);return Sz(e,t,o).bind((e=>{const t=nf(e,o);return t.isNone()?W.some(wz.start(e)):W.none()}))},Ez=(e,t,n)=>{const o=Yx(n);return Sz(e,t,o).bind((e=>{const t=tf(e,o);return t.isNone()?W.some(wz.end(e)):W.none()}))},Tz=(e,t,n)=>{const o=Jx(n),r=_z(t,o.container());return $x(e,r,o).fold((()=>nf(r,o).bind(L($x,e,r)).map((e=>wz.after(e)))),W.none)},Mz=e=>!Wx(Dz(e)),Oz=(e,t,n)=>{const o=bz([xz,kz,Ez,Tz],[e,t,n]);return o.filter(Mz)},Dz=e=>e.fold(z,z,z,z),Az=e=>e.fold(I("before"),I("start"),I("end"),I("after")),Rz=e=>e.fold(wz.before,wz.before,wz.after,wz.after),Pz=e=>e.fold(wz.start,wz.start,wz.end,wz.end),Iz=(e,t)=>Az(e)===Az(t)&&Dz(e)===Dz(t),zz=(e,t,n,o,r,i)=>gn($x(t,n,o),$x(t,n,r),((t,o)=>t!==o&&qx(n,t,o)?wz.after(e?t:o):i)).getOr(i),Nz=(e,t)=>e.fold(j,(e=>!Iz(e,t))),Lz=(e,t,n,o,r)=>{const i=Kx(e,r),a=Jp(e,n,i).map(L(Kx,e)),s=a.fold((()=>o.map(Rz)),(r=>Oz(t,n,r).map(L(zz,e,t,n,i,r)).filter(L(Nz,o))));return s.filter(Mz)},Hz=(e,t)=>e?t.fold(R(W.some,wz.start),W.none,R(W.some,wz.after),W.none):t.fold(W.none,R(W.some,wz.before),W.none,R(W.some,wz.end)),Fz=(e,t,n,o)=>{const r=Kx(e,o),i=Oz(t,n,r);return Oz(t,n,r).bind(L(Hz,e)).orThunk((()=>Lz(e,t,n,i,o)))},Bz=e=>M(e.selection.getSel().modify),Uz=(e,t,n)=>{const o=e?1:-1;return t.setRng(zu(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Vz=(e,t)=>{const n=t.selection.getRng(),o=e?zu.fromRangeEnd(n):zu.fromRangeStart(n);return!!Bz(t)&&(e&&Ta(o)?Uz(!0,t.selection,o):!(e||!Ma(o))&&Uz(!1,t.selection,o))};var jz;(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(jz||(jz={}));const Wz=(e,t)=>e===Dp.Backwards?de(t):t,Zz=(e,t,n)=>e===Dp.Forwards?t.next(n):t.prev(n),$z=(e,t,n,o)=>ki(o.getNode(t===Dp.Forwards))?jz.Br:!1===gp(n,o)?jz.Block:jz.Wrap,qz=(e,t,n,o)=>{const r=jp(n);let i=o;const a=[];while(i){const o=Zz(t,r,i);if(!o)break;if(ki(o.getNode(!1)))return t===Dp.Forwards?{positions:Wz(t,a).concat([o]),breakType:jz.Br,breakAt:W.some(o)}:{positions:Wz(t,a),breakType:jz.Br,breakAt:W.some(o)};if(o.isVisible()){if(e(i,o)){const e=$z(n,t,i,o);return{positions:Wz(t,a),breakType:e,breakAt:W.some(o)}}a.push(o),i=o}else i=o}return{positions:Wz(t,a),breakType:jz.Eol,breakAt:W.none()}},Gz=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const r=t(n,o).positions;return e===Dp.Backwards?r.concat(o):[o].concat(r)})).getOr([]),Kz=(e,t)=>re(e,((e,n)=>e.fold((()=>W.some(n)),(o=>gn(ge(o.getClientRects()),ge(n.getClientRects()),((e,r)=>{const i=Math.abs(t-e.left),a=Math.abs(t-r.left);return a<=i?n:o})).or(e)))),W.none()),Yz=(e,t)=>ge(t.getClientRects()).bind((t=>Kz(e,t.left))),Jz=L(qz,zu.isAbove,-1),Xz=L(qz,zu.isBelow,1),Qz=L(Gz,-1,Jz),eN=L(Gz,1,Xz),tN=(e,t)=>Jz(e,t).breakAt.isNone(),nN=(e,t)=>Xz(e,t).breakAt.isNone(),oN=e=>of(e).map((t=>[t].concat(Xz(e,t).positions))).getOr([]),rN=e=>rf(e).map((t=>Jz(e,t).positions.concat(t))).getOr([]),iN=(e,t)=>Yz(Qz(e,t),t),aN=(e,t)=>Yz(eN(e,t),t),sN=Mi,lN=(e,t)=>Math.abs(e.left-t),cN=(e,t)=>Math.abs(e.right-t),uN=e=>Ie(e,"node"),dN=(e,t)=>We(e,((e,n)=>{const o=Math.min(lN(e,t),cN(e,t)),r=Math.min(lN(n,t),cN(n,t));return r===o&&uN(n)&&sN(n.node)||r<o?n:e})),hN=e=>{const t=t=>X(t,(t=>{const n=Jc(t);return n.node=e,n}));if(li(e))return t(e.getClientRects());if(bi(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},mN=e=>ce(e,hN);var pN;(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(pN||(pN={}));const fN=(e,t,n,o)=>{let r=o;while(r=mp(r,e,Ka,t))if(n(r))return},gN=(e,t,n,o,r,i)=>{let a=0;const s=[],l=o=>{let i=mN([o]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const o=i[e];if(!n(o,c)){if(s.length>0&&t(o,$e(s))&&a++,o.line=a,r(o))return!0;s.push(o)}}return!1},c=$e(i.getClientRects());if(!c)return s;const u=i.getNode();return u&&(l(u),fN(e,o,l,u)),s},vN=(e,t)=>t.line>e,yN=(e,t)=>t.line===e,bN=L(gN,pN.Up,tu,nu),wN=L(gN,pN.Down,nu,tu),_N=e=>$e(e.getClientRects()),xN=(e,t,n,o)=>{const r=jp(t);let i,a,s,l;const c=[];let u=0;1===e?(i=r.next,a=nu,s=tu,l=zu.after(o)):(i=r.prev,a=tu,s=nu,l=zu.before(o));const d=_N(l);do{if(!l.isVisible())continue;const e=_N(l);if(s(e,d))continue;c.length>0&&a(e,$e(c))&&u++;const t=Jc(e);if(t.position=l,t.line=u,n(t))return c;c.push(t)}while(l=i(l));return c},CN=e=>t=>vN(e,t),SN=e=>t=>yN(e,t),kN=(e,t)=>{e.selection.setRng(t),_b(e,e.selection.getRng())},EN=(e,t,n)=>W.some(AI(e,t,n)),TN=(e,t,n,o,r,i)=>{const a=t===Dp.Forwards,s=jp(e.getBody()),l=L(Mp,a?s.next:s.prev),c=a?o:r;if(!n.collapsed){const o=lu(n);if(i(o))return TI(t,e,o,t===Dp.Backwards,!1);if(FI(e)){const e=n.cloneRange();return e.collapse(t===Dp.Backwards),W.from(e)}}const u=kp(t,e.getBody(),n);if(c(u))return OI(e,u.getNode(!a));let d=l(u);const h=Ia(n);if(!d)return h?W.some(n):W.none();if(d=Kx(a,d),c(d))return TI(t,e,d.getNode(!a),a,!1);const m=l(d);return m&&c(m)&&Op(d,m)?TI(t,e,m.getNode(!a),a,!1):h?EN(e,d.toRange(),!1):W.none()},MN=(e,t,n,o,r,i)=>{const a=kp(t,e.getBody(),n),s=$e(a.getClientRects()),l=t===pN.Down,c=e.getBody();if(!s)return W.none();if(FI(e)){const e=l?zu.fromRangeEnd(n):zu.fromRangeStart(n),t=l?aN:iN;return t(c,e).orThunk((()=>W.from(e))).map((e=>e.toRange()))}const u=l?wN:bN,d=u(c,CN(1),a),h=ne(d,SN(1)),m=s.left,p=dN(h,m);if(p&&i(p.node)){const n=Math.abs(m-p.left),o=Math.abs(m-p.right);return TI(t,e,p.node,n<o,!1)}let f;if(f=o(a)?a.getNode():r(a)?a.getNode(!0):lu(n),f){const n=xN(t,c,CN(1),f);let o=dN(ne(n,SN(1)),m);if(o)return EN(e,o.position.toRange(),!1);if(o=$e(ne(n,SN(0))),o)return EN(e,o.position.toRange(),!1)}return 0===h.length?ON(e,l).filter(l?r:o).map((t=>AI(e,t.toRange(),!1))):W.none()},ON=(e,t)=>{const n=e.selection.getRng(),o=t?zu.fromRangeEnd(n):zu.fromRangeStart(n),r=pp(o.container(),e.getBody());if(t){const e=Xz(r,o);return ve(e.positions)}{const e=Jz(r,o);return ge(e.positions)}},DN=(e,t,n)=>ON(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),AN=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},RN=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},PN=(e,t,n)=>yz(t,n).map((t=>(AN(e,t),n))),IN=(e,t,n)=>{const o=zu.fromRangeStart(e);if(e.collapsed)return o;{const r=zu.fromRangeEnd(e);return n?nf(t,r).getOr(r):tf(t,o).getOr(o)}},zN=(e,t,n)=>{const o=e.getBody(),r=IN(e.selection.getRng(),o,n),i=L(jx,e),a=Fz(n,i,o,r);return a.bind((n=>PN(e,t,n)))},NN=(e,t,n)=>{const o=X(oi(go.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),r=ne(o,e),i=ne(n,e);Q(he(r,i),L(RN,!1)),Q(he(i,r),L(RN,!0))},LN=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=zu.fromRangeStart(e.selection.getRng());zu.isTextPosition(o)&&!Gx(o)&&(AN(e,jm(n,o)),t.set(null))}},HN=(e,t,n,o)=>{if(t.selection.isCollapsed()){const r=ne(o,e);Q(r,(o=>{const r=zu.fromRangeStart(t.selection.getRng());Oz(e,t.getBody(),r).bind((e=>PN(t,n,e)))}))}},FN=(e,t,n)=>!!Oh(e)&&zN(e,t,n).isSome(),BN=(e,t,n)=>!!Oh(t)&&Vz(e,t),UN=e=>{const t=rc(null),n=L(jx,e);return e.on("NodeChange",(o=>{Oh(e)&&(NN(n,e.dom,o.parents),LN(e,t),HN(n,e,t,o.parents))})),t},VN=L(BN,!0),jN=L(BN,!1),WN=(e,t,n)=>{if(Oh(e)){const o=ON(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?zu.fromRangeEnd(n):zu.fromRangeStart(n)}));return Oz(L(jx,e),e.getBody(),o).exists((t=>{const o=Rz(t);return yz(n,o).exists((t=>(AN(e,t),!0)))}))}return!1},ZN=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},$N=e=>gn(of(e),rf(e),((t,n)=>{const o=Kx(!0,t),r=Kx(!1,n);return tf(e,o).forall((e=>e.isEqual(r)))})).getOr(!0),qN=(e,t)=>n=>yz(t,n).map((t=>()=>AN(e,t))),GN=(e,t,n,o)=>{const r=e.getBody(),i=L(jx,e);e.undoManager.ignore((()=>{e.selection.setRng(ZN(n,o)),eC(e),Oz(i,r,zu.fromRangeStart(e.selection.getRng())).map(Pz).bind(qN(e,t)).each(U)})),e.nodeChanged()},KN=(e,t)=>{const n=fp(t,e);return n||e},YN=(e,t,n,o)=>{const r=KN(e.getBody(),o.container()),i=L(jx,e),a=Oz(i,r,o),s=a.bind((e=>n?e.fold(I(W.some(Pz(e))),W.none,I(W.some(Rz(e))),W.none):e.fold(W.none,I(W.some(Rz(e))),W.none,I(W.some(Pz(e))))));return s.map(qN(e,t)).getOrThunk((()=>{const s=Xp(n,r,o),l=s.bind((e=>Oz(i,r,e)));return gn(a,l,(()=>$x(i,r,o).bind((t=>$N(t)?W.some((()=>{Bx(e,n,go.fromDom(t))})):W.none())))).getOrThunk((()=>l.bind((()=>s.map((r=>()=>{n?GN(e,t,o,r):GN(e,t,r,o)}))))))}))},JN=(e,t,n)=>{if(e.selection.isCollapsed()&&Oh(e)){const o=zu.fromRangeStart(e.selection.getRng());return YN(e,t,n,o)}return W.none()},XN=e=>Bo(e)>1,QN=(e,t)=>{const n=go.fromDom(e.getBody()),o=go.fromDom(e.selection.getStart()),r=D_(o,n);return se(r,t).fold(I(r),(e=>r.slice(0,e)))},eL=e=>1===Bo(e),tL=e=>QN(e,(e=>ea(e)||XN(e))),nL=e=>QN(e,ea),oL=(e,t)=>{const n=L(Qk,e);return ce(t,(e=>n(e)?[e.dom]:[]))},rL=e=>{const t=nL(e);return oL(e,t)},iL=(e,t,n,o)=>{const r=oL(t,o);if(0===r.length)Bx(t,e,n);else{const e=Jk(n.dom,r);t.selection.setRng(e.toRange())}},aL=(e,t)=>{const n=ne(tL(e),eL);return ve(n).bind((o=>{const r=zu.fromRangeStart(e.selection.getRng());return aC(t,r,o.dom)&&!eE(o)?W.some((()=>iL(t,e,o,n))):W.none()}))},sL=(e,t)=>{const n=t.parentElement;return ki(t)&&!C(n)&&e.dom.isEmpty(n)},lL=e=>eE(go.fromDom(e)),cL=(e,t)=>{const n=e.selection.getStart(),o=sL(e,n)||lL(n)?Jk(n,t):Xk(e.selection.getRng(),t);e.selection.setRng(o.toRange())},uL=(e,t)=>{const n=he(t,rL(e));n.length>0&&cL(e,n)},dL=e=>bi(e.startContainer),hL=e=>0===e.startOffset&&dL(e),mL=(e,t)=>{const n=t.startContainer.parentElement;return!C(n)&&Qk(e,go.fromDom(n))},pL=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!C(t)&&!C(n)&&t.isEqualNode(n)},fL=e=>{const t=e.endContainer;return e.endOffset===(bi(t)?t.length:t.childNodes.length)},gL=e=>pL(e)&&fL(e),vL=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),yL=e=>gL(e)||vL(e),bL=e=>{const t=e.selection.getRng();return hL(t)&&mL(e,t)&&yL(t)},wL=e=>{if(bL(e)){const t=rL(e);return W.some((()=>{eC(e),uL(e,t)}))}return W.none()},_L=(e,t)=>e.selection.isCollapsed()?aL(e,t):wL(e),xL=e=>gk(e,(e=>sf(e.dom)),ea),CL=e=>xL(go.fromDom(e.selection.getStart())),SL=e=>{const t=e.selection.getRng();return t.collapsed&&(dL(t)||e.dom.isEmpty(t.startContainer))&&!CL(e)},kL=e=>(SL(e)&&cL(e,[]),!0),EL=(e,t,n)=>T(n)?W.some((()=>{e._selectionOverrides.hideFakeCaret(),Bx(e,t,go.fromDom(n))})):W.none(),TL=(e,t)=>{const n=t?__:x_,o=t?Dp.Forwards:Dp.Backwards,r=kp(o,e.getBody(),e.selection.getRng());return n(r)?EL(e,t,r.getNode(!t)):W.from(Kx(t,r)).filter((e=>n(e)&&Op(r,e))).bind((n=>EL(e,t,n.getNode(!t))))},ML=(e,t)=>{const n=e.selection.getNode();return Ai(n)?EL(e,t,n):W.none()},OL=(e,t)=>e.selection.isCollapsed()?TL(e,t):ML(e,t),DL=e=>nr(e,(e=>Ti(e.dom)||Mi(e.dom))).exists((e=>Ti(e.dom))),AL=e=>yt(null!==e&&void 0!==e?e:"").getOr(0),RL=(e,t)=>{const n=e||ta(t)?"margin":"padding",o="rtl"===vr(t,"direction")?"-right":"-left";return n+o},PL=(e,t,n,o,r,i)=>{const a=RL(n,go.fromDom(i)),s=AL(e.getStyle(i,a));if("outdent"===t){const t=Math.max(0,s-o);e.setStyle(i,a,t?t+r:"")}else{const t=s+o+r;e.setStyle(i,a,t)}},IL=(e,t)=>ue(t,(t=>{const n=RL(mh(e),t),o=br(t,n).map(AL).getOr(0),r=e.dom.getContentEditable(t.dom);return"false"!==r&&o>0})),zL=e=>{const t=HL(e);return!e.mode.isReadOnly()&&(t.length>1||IL(e,t))},NL=e=>ia(e)||aa(e),LL=e=>Mo(e).exists(NL),HL=e=>ne(Ir(e.selection.getSelectedBlocks()),(e=>!NL(e)&&!LL(e)&&DL(e))),FL=(e,t)=>{var n,o;const{dom:r}=e,i=ph(e),a=null!==(o=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==o?o:"px",s=AL(i),l=mh(e);Q(HL(e),(e=>{PL(r,t,l,s,a,e.dom)}))},BL=e=>FL(e,"indent"),UL=e=>FL(e,"outdent"),VL=e=>{if(e.selection.isCollapsed()&&zL(e)){const t=e.dom,n=e.selection.getRng(),o=zu.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&z_(go.fromDom(r),o))return W.some((()=>UL(e)))}return W.none()},jL=(e,t,n)=>be([VL,rz,LI,(e,n)=>JN(e,t,n),bI,oS,az,OL,EI,_L],(t=>t(e,n))).filter((t=>e.selection.isEditable())),WL=(e,t)=>{const n=jL(e,t,!1);n.fold((()=>{eC(e),iC(e)}),U)},ZL=(e,t)=>{const n=jL(e,t,!0);n.fold((()=>tC(e)),U)},$L=(e,t)=>{e.addCommand("delete",(()=>{WL(e,t)})),e.addCommand("forwardDelete",(()=>{ZL(e,t)}))},qL=5,GL=400,KL=e=>void 0===e.touches||1!==e.touches.length?W.none():W.some(e.touches[0]),YL=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>qL||o>qL},JL=e=>{const t=_c(),n=rc(!1),o=Cc((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),GL);e.on("touchstart",(e=>{KL(e).each((r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(i)}))}),!0),e.on("touchmove",(r=>{o.cancel(),KL(r).each((o=>{t.on((r=>{YL(o,r)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(r=>{o.cancel(),"touchcancel"!==r.type&&t.get().filter((e=>e.target.isEqualNode(r.target))).each((()=>{n.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})}))}),!0)},XL=(e,t)=>Pe(e,t.nodeName),QL=(e,t)=>!!bi(t)||!!li(t)&&(!XL(e.getBlockElements(),t)&&!Df(t)&&!Ts(e,t)),eH=(e,t,n)=>J(O_(go.fromDom(n),go.fromDom(t)),(t=>XL(e,t.dom))),tH=(e,t)=>{if(bi(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||XL(e,t.nextSibling)))return!0}return!1},nH=e=>e.dom.create(qd(e),Gd(e)),oH=e=>{const t=e.dom,n=e.selection,o=e.schema,r=o.getBlockElements(),i=n.getStart(),a=e.getBody();let s,l,c=!1;const u=qd(e);if(!i||!li(i))return;const d=a.nodeName.toLowerCase();if(!o.isValidChild(d,u.toLowerCase())||eH(r,a,i))return;const h=n.getRng(),{startContainer:m,startOffset:p,endContainer:f,endOffset:g}=h,v=mw(e);let y=a.firstChild;while(y)if(li(y)&&xs(o,y),QL(o,y)){if(tH(r,y)){l=y,y=y.nextSibling,t.remove(l);continue}s||(s=nH(e),a.insertBefore(s,y),c=!0),l=y,y=y.nextSibling,s.appendChild(l)}else s=null,y=y.nextSibling;c&&v&&(h.setStart(m,p),h.setEnd(f,g),n.setRng(h),e.nodeChanged())},rH=(e,t,n)=>{const o=go.fromDom(nH(e)),r=pa();Er(o,r),n(t,o);const i=document.createRange();return i.setStartBefore(r.dom),i.setEndBefore(r.dom),i},iH=e=>{e.on("NodeChange",L(oH,e))},aH=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),sH=(e,t,n)=>function(o){const r=arguments,i=r[r.length-2],a=i>0?t.charAt(i-1):"";if('"'===a)return o;if(">"===a){const e=t.lastIndexOf("<",i);if(-1!==e){const n=t.substring(e,i);if(-1!==n.indexOf('contenteditable="false"'))return o}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"===typeof r[1]?r[1]:r[0])+"</span>"},lH=(e,t,n)=>{let o=t.length,r=n.content;if("raw"!==n.format){while(o--)r=r.replace(t[o],sH(e,r,ym(e)));n.content=r}},cH=e=>{const t="contenteditable",n=" "+mn.trim(bm(e))+" ",o=" "+mn.trim(ym(e))+" ",r=aH(n),i=aH(o),a=wm(e);a.length>0&&e.on("BeforeSetContent",(t=>{lH(e,a,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;while(n--){const o=e[n];r(o)?o.attr(t,"true"):i(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;while(n--){const o=e[n];(r(o)||i(o))&&(a.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}}))},uH=e=>sr(go.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull(),dH=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Pa(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},hH=(e,t)=>{const n=uH(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void dH(e,n)):void(ka(n)&&(dH(e,n),e.undoManager.add()))},mH=e=>{e.on("keyup compositionstart",L(hH,e))},pH=Mi,fH=(e,t,n)=>TN(t,e,n,k_,E_,pH),gH=(e,t,n)=>{const o=e=>k_(e)||C_(e),r=e=>E_(e)||S_(e);return MN(t,e,n,o,r,pH)},vH=e=>{const t=e.dom.create(qd(e));return t.innerHTML='<br data-mce-bogus="1">',t},yH=(e,t,n)=>{const o=jp(e.getBody()),r=L(Mp,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;const i=r(zu.fromRangeStart(n));if(!i){const n=go.fromDom(vH(e));1===t?Sr(go.fromDom(o),n):Cr(go.fromDom(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},bH=(e,t)=>{const n=t?Dp.Forwards:Dp.Backwards,o=e.selection.getRng();return fH(n,e,o).orThunk((()=>(yH(e,n,o),W.none())))},wH=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return gH(n,e,o).orThunk((()=>(yH(e,n,o),W.none())))},_H=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return Wx(n)?!t:t},xH=(e,t)=>bH(e,_H(e.selection,t)).exists((t=>(kN(e,t),!0))),CH=(e,t)=>wH(e,t).exists((t=>(kN(e,t),!0))),SH=(e,t)=>{const n=t?E_:k_;return DN(e,t,n)},kH=(e,t)=>HI(e,!t).map((n=>{const o=n.toRange(),r=e.selection.getRng();return t?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o})).exists((t=>(kN(e,t),!0))),EH=e=>Y(["figcaption"],Rn(e)),TH=(e,t)=>{const n=L(xo,t);return nr(go.fromDom(e.container()),ea,n).filter(EH)},MH=(e,t,n)=>t?nN(e.dom,n):tN(e.dom,n),OH=(e,t)=>{const n=go.fromDom(e.getBody()),o=zu.fromRangeStart(e.selection.getRng());return TH(o,n).exists((()=>{if(MH(n,t,o)){const o=t?Er:kr,r=rH(e,n,o);return e.selection.setRng(r),!0}return!1}))},DH=(e,t)=>!!e.selection.isCollapsed()&&OH(e,t),AH={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},RH=e=>X(e,(e=>({...AH,...e}))),PH=e=>X(e,(e=>({...AH,...e}))),IH=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,zH=(e,t)=>ce(RH(e),(e=>IH(e,t)?[e]:[])),NH=(e,t)=>ce(PH(e),(e=>IH(e,t)?[e]:[])),LH=(e,...t)=>()=>e.apply(null,t),HH=(e,t)=>ae(zH(e,t),(e=>e.action())),FH=(e,t)=>be(NH(e,t),(e=>e.action())),BH=(e,t)=>{const n=t?Dp.Forwards:Dp.Backwards,o=e.selection.getRng();return TN(e,n,o,__,x_,Ai).exists((t=>(kN(e,t),!0)))},UH=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return MN(e,n,o,__,x_,Ai).exists((t=>(kN(e,t),!0)))},VH=(e,t)=>{const n=t?x_:__;return DN(e,t,n)},jH=_d.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),WH=e=>jH.none(e),ZH={...jH,none:WH},$H=(e,t)=>qH(e,t,j),qH=(e,t,n)=>ce(No(e),(e=>yo(e,t)?n(e)?[e]:[]:qH(e,t,n))),GH=(e,t,n=V)=>{if(n(t))return W.none();if(Y(e,Rn(t)))return W.some(t);const o=e=>yo(e,"table")||n(e);return ar(t,e.join(","),o)},KH=(e,t)=>GH(["td","th"],e,t),YH=e=>$H(e,"th,td"),JH=(e,t)=>lr(e,"table",t),XH=(e,t,n,o,r=j)=>{const i=1===o;if(!i&&n<=0)return ZH.first(e[0]);if(i&&n>=e.length-1)return ZH.last(e[e.length-1]);{const i=n+o,a=e[i];return r(a)?ZH.middle(t,a):XH(e,t,i,o,r)}},QH=(e,t)=>JH(e,t).bind((t=>{const n=YH(t),o=se(n,(t=>xo(e,t)));return o.map((e=>({index:e,all:n})))})),eF=(e,t,n)=>{const o=QH(e,n);return o.fold((()=>ZH.none(e)),(n=>XH(n.all,e,n.index,1,t)))},tF=(e,t,n)=>{const o=QH(e,n);return o.fold((()=>ZH.none()),(n=>XH(n.all,e,n.index,-1,t)))},nF=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}),oF=(e,t)=>ce(t,(t=>{const n=nF(Jc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})),rF=(e,t,n)=>re(e,((e,o)=>e.fold((()=>W.some(o)),(e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return W.some(i<r?o:e)}))),W.none()),iF=(e,t,n,o,r)=>{const i=oi(go.fromDom(n),"td,th,caption").map((e=>e.dom)),a=ne(oF(e,i),(e=>t(e,r)));return rF(a,o,r).map((e=>e.cell))},aF=e=>e.bottom,sF=e=>e.top,lF=(e,t)=>e.y<t,cF=(e,t)=>e.y>t,uF=L(iF,aF,lF),dF=L(iF,sF,cF),hF=(e,t)=>ge(t.getClientRects()).bind((t=>uF(e,t.left,t.top))).bind((e=>Yz(rN(e),t))),mF=(e,t)=>ve(t.getClientRects()).bind((t=>dF(e,t.left,t.top))).bind((e=>Yz(oN(e),t))),pF=(e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())),fF=e=>e.breakType===jz.Wrap&&0===e.positions.length,gF=e=>e.breakType===jz.Br&&1===e.positions.length,vF=(e,t,n)=>{const o=e(t,n);return fF(o)||!ki(n.getNode())&&gF(o)?!pF(e,t,o):o.breakAt.isNone()},yF=L(vF,Jz),bF=L(vF,Xz),wF=(e,t,n)=>{const o=zu.fromRangeStart(t);return ef(!e,n).exists((e=>e.isEqual(o)))},_F=(e,t,n,o)=>{const r=e.selection.getRng(),i=t?1:-1;return!(!Xm()||!wF(t,r,n))&&(TI(i,e,n,!t,!1).each((t=>{kN(e,t)})),!0)},xF=(e,t,n)=>hF(t,n).orThunk((()=>ge(n.getClientRects()).bind((n=>Kz(Qz(e,zu.before(t)),n.left))))).getOr(zu.before(t)),CF=(e,t,n)=>mF(t,n).orThunk((()=>ge(n.getClientRects()).bind((n=>Kz(eN(e,zu.after(t)),n.left))))).getOr(zu.after(t)),SF=(e,t)=>{const n=t.getNode(e);return gi(n)?W.some(n):W.none()},kF=(e,t,n)=>{t.undoManager.transact((()=>{const o=e?Sr:Cr,r=rH(t,go.fromDom(n),o);kN(t,r)}))},EF=(e,t,n)=>{const o=SF(!!t,n),r=!1===t;o.fold((()=>kN(e,n.toRange())),(o=>ef(r,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>kN(e,n.toRange())),(n=>kF(t,e,o)))))},TF=(e,t,n,o)=>{const r=e.selection.getRng(),i=zu.fromRangeStart(r),a=e.getBody();if(!t&&yF(o,i)){const o=xF(a,n,i);return EF(e,t,o),!0}if(t&&bF(o,i)){const o=CF(a,n,i);return EF(e,t,o),!0}return!1},MF=(e,t,n)=>W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((o=>W.from(e.dom.getParent(o,"table")).map((r=>n(e,t,r,o))))).getOr(!1),OF=(e,t)=>MF(e,t,_F),DF=(e,t)=>MF(e,t,TF),AF=e=>{const t=_y.exact(e,0,e,0);return Ty(t)},RF=(e,t,n)=>n.fold(W.none,W.none,((e,t)=>Aw(t).map((e=>AF(e)))),(n=>(e.execCommand("mceTableInsertRowAfter"),PF(e,t,n)))),PF=(e,t,n)=>RF(e,t,eF(n,ur)),IF=(e,t,n)=>RF(e,t,tF(n,ur)),zF=(e,t)=>{const n=["table","li","dl"],o=go.fromDom(e.getBody()),r=e=>{const t=Rn(e);return xo(e,o)||Y(n,t)},i=e.selection.getRng(),a=go.fromDom(t?i.endContainer:i.startContainer);return KH(a,r).map((n=>{JH(n,r).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);const o=t?PF:IF,i=o(e,r,n);return i.each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},NF=(e,t,n)=>{const o=tn.os.isMacOS()||tn.os.isiOS();HH([{keyCode:Lv.RIGHT,action:LH(xH,e,!0)},{keyCode:Lv.LEFT,action:LH(xH,e,!1)},{keyCode:Lv.UP,action:LH(CH,e,!1)},{keyCode:Lv.DOWN,action:LH(CH,e,!0)},...o?[{keyCode:Lv.UP,action:LH(kH,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Lv.DOWN,action:LH(kH,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Lv.RIGHT,action:LH(OF,e,!0)},{keyCode:Lv.LEFT,action:LH(OF,e,!1)},{keyCode:Lv.UP,action:LH(DF,e,!1)},{keyCode:Lv.DOWN,action:LH(DF,e,!0)},{keyCode:Lv.RIGHT,action:LH(BH,e,!0)},{keyCode:Lv.LEFT,action:LH(BH,e,!1)},{keyCode:Lv.UP,action:LH(UH,e,!1)},{keyCode:Lv.DOWN,action:LH(UH,e,!0)},{keyCode:Lv.RIGHT,action:LH(FN,e,t,!0)},{keyCode:Lv.LEFT,action:LH(FN,e,t,!1)},{keyCode:Lv.RIGHT,ctrlKey:!o,altKey:o,action:LH(VN,e,t)},{keyCode:Lv.LEFT,ctrlKey:!o,altKey:o,action:LH(jN,e,t)},{keyCode:Lv.UP,action:LH(DH,e,!1)},{keyCode:Lv.DOWN,action:LH(DH,e,!0)}],n).each((e=>{n.preventDefault()}))},LF=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||NF(e,t,n)}))},HF=(e,t)=>({container:e,offset:t}),FF=Jl.DOM,BF=e=>t=>e===t?-1:0,UF=e=>t=>e.isBlock(t)||Y(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t),VF=(e,t,n)=>{if(bi(e)&&t>=0)return W.some(HF(e,t));{const o=Kc(FF);return W.from(o.backwards(e,t,BF(e),n)).map((e=>HF(e.container,e.container.data.length)))}},jF=(e,t,n)=>{if(bi(e)&&t>=e.length)return W.some(HF(e,t));{const o=Kc(FF);return W.from(o.forwards(e,t,BF(e),n)).map((e=>HF(e.container,0)))}},WF=(e,t,n)=>{if(!bi(e))return W.none();const o=e.data;if(t>=0&&t<=o.length)return W.some(HF(e,t));{const o=Kc(FF);return W.from(o.backwards(e,t,BF(e),n)).bind((e=>{const o=e.container.data;return WF(e.container,t+o.length,n)}))}},ZF=(e,t,n)=>{if(!bi(e))return W.none();const o=e.data;if(t<=o.length)return W.some(HF(e,t));{const r=Kc(FF);return W.from(r.forwards(e,t,BF(e),n)).bind((e=>ZF(e.container,t-o.length,n)))}},$F=(e,t,n,o,r)=>{const i=Kc(e,UF(e));return W.from(i.backwards(t,n,o,r))},qF=e=>e.collapsed&&bi(e.startContainer),GF=e=>ba(e.toString().replace(/\u00A0/g," ")),KF=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),YF=(e,t)=>e.substring(t.length),JF=(e,t,n)=>{let o;const r=n.charAt(0);for(o=t-1;o>=0;o--){const i=e.charAt(o);if(KF(i))return W.none();if(r===i&&lt(e,n,o,t))break}return W.some(o)},XF=(e,t,n,o=0)=>{if(!qF(t))return W.none();const r={text:"",offset:0},i=(e,t,o)=>(r.text=o+r.text,r.offset+=t,JF(r.text,r.offset,n).getOr(t)),a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return $F(e,t.startContainer,t.startOffset,i,a).bind((e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return W.none();const i=GF(r),a=i.lastIndexOf(n);return 0!==a||YF(i,n).length<o?W.none():W.some({text:YF(i,n),range:r,trigger:n})}))},QF=(e,t,n,o=0)=>Nw(go.fromDom(t.startContainer)).fold((()=>XF(e,t,n,o)),(t=>{const o=e.createRng();o.selectNode(t.dom);const r=GF(o);return W.some({range:o,text:YF(r,n),trigger:n})})),eB=e=>e.nodeType===An,tB=e=>e.nodeType===Dn,nB=e=>{if(eB(e))return HF(e,e.data.length);{const t=e.childNodes;return t.length>0?nB(t[t.length-1]):HF(e,t.length)}},oB=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?oB(n[t],0):n.length>0&&tB(e)&&n.length===t?nB(n[n.length-1]):HF(e,t)},rB=(e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return $F(e,t.container,t.offset,((e,t)=>0===t?-1:t),o).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!KF(t)})).isSome()},iB=e=>t=>{const n=oB(t.startContainer,t.startOffset);return!rB(e,n)},aB=(e,t,n)=>be(n.triggers,(n=>QF(e,t,n))),sB=(e,t)=>{const n=t(),o=e.selection.getRng();return aB(e.dom,o,n).bind((n=>lB(e,t,n)))},lB=(e,t,n,o={})=>{var r;const i=t(),a=e.selection.getRng(),s=null!==(r=a.startContainer.nodeValue)&&void 0!==r?r:"",l=ne(i.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>iB(e.dom)))(n.range,s,n.text)));if(0===l.length)return W.none();const c=Promise.all(X(l,(e=>{const t=e.fetch(n.text,e.maxResults,o);return t.then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn})))})));return W.some({lookupData:c,context:n})};var cB;(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(cB||(cB={}));const uB=(e,t,n)=>e.stype===cB.Error?t(e.serror):n(e.svalue),dB=e=>{const t=[],n=[];return Q(e,(e=>{uB(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},hB=(e,t)=>e.stype===cB.Error?{stype:cB.Error,serror:t(e.serror)}:e,mB=(e,t)=>e.stype===cB.Value?{stype:cB.Value,svalue:t(e.svalue)}:e,pB=(e,t)=>e.stype===cB.Value?t(e.svalue):e,fB=(e,t)=>e.stype===cB.Error?t(e.serror):e,gB=e=>({stype:cB.Value,svalue:e}),vB=e=>({stype:cB.Error,serror:e}),yB=e=>uB(e,bd.error,bd.value),bB=e=>e.fold(vB,gB),wB={fromResult:bB,toResult:yB,svalue:gB,partition:dB,serror:vB,bind:pB,bindError:fB,map:mB,mapError:hB,fold:uB},_B=e=>w(e)&&_e(e).length>100?" removed due to size":JSON.stringify(e,null,2),xB=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:I("... (only showing first ten failures)")}]):e;return X(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))},CB=(e,t)=>wB.serror([{path:e,getErrorInfo:t}]),SB=(e,t,n)=>CB(e,(()=>'Could not find valid *required* value for "'+t+'" in '+_B(n))),kB=(e,t)=>CB(e,(()=>'Choice schema did not contain choice key: "'+t+'"')),EB=(e,t,n)=>CB(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+_B(t))),TB=(e,t)=>CB(e,I(t)),MB=(e,t,n,o)=>{const r=Re(n,o);return r.fold((()=>EB(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t)))},OB=(e,t)=>{const n=(n,o)=>{const r=Re(o,e);return r.fold((()=>kB(n,e)),(e=>MB(n,o,t,e)))},o=()=>"chooseOn("+e+"). Possible values: "+_e(t);return{extract:n,toString:o}},DB=(e,t)=>t,AB=(e,t)=>{const n=_(e)&&_(t);return n?PB(e,t):t},RB=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)Pe(r,t)&&(n[t]=e(n[t],r[t]))}return n},PB=RB(AB),IB=RB(DB),zB=()=>({tag:"required",process:{}}),NB=e=>({tag:"defaultedThunk",process:e}),LB=e=>NB(I(e)),HB=()=>({tag:"option",process:{}}),FB=(e,t)=>e.length>0?wB.svalue(PB(t,IB.apply(void 0,e))):wB.svalue(t),BB=e=>R(wB.serror,le)(e),UB=(e,t)=>{const n=wB.partition(e);return n.errors.length>0?BB(n.errors):FB(n.values,t)},VB=e=>{const t=wB.partition(e);return t.errors.length>0?BB(t.errors):wB.svalue(t.values)},jB={consolidateObj:UB,consolidateArr:VB},WB=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),ZB=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),$B=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},qB=e=>{const t=(t,n)=>wB.bindError(e(n),(e=>TB(t,e))),n=I("val");return{extract:t,toString:n}},GB=qB(wB.svalue),KB=(e,t,n,o)=>Re(t,n).fold((()=>SB(e,n,t)),o),YB=(e,t,n,o)=>{const r=Re(e,t).getOrThunk((()=>n(e)));return o(r)},JB=(e,t,n)=>n(Re(e,t)),XB=(e,t,n,o)=>{const r=Re(e,t).map((t=>!0===t?n(e):t));return o(r)},QB=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),a=e=>e.fold((()=>wB.svalue(W.none())),(e=>{const n=r.extract(t.concat([o]),e);return wB.map(n,W.some)}));switch(e.tag){case"required":return KB(t,n,o,i);case"defaultedThunk":return YB(n,o,e.process,i);case"option":return JB(n,o,a);case"defaultedOptionThunk":return XB(n,o,e.process,a);case"mergeWithThunk":return YB(n,o,I({}),(t=>{const o=PB(e.process(n),t);return i(o)}))}},eU=(e,t,n)=>{const o={},r=[];for(const i of n)$B(i,((n,i,a,s)=>{const l=QB(a,e,t,n,s);wB.fold(l,(e=>{r.push(...e)}),(e=>{o[i]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?wB.serror(r):wB.svalue(o)},tU=e=>{const t=(t,n)=>eU(t,n,e),n=()=>{const t=X(e,(e=>$B(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},nU=e=>{const t=(t,n)=>{const o=X(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return jB.consolidateArr(o)},n=()=>"array("+e.toString()+")";return{extract:t,toString:n}},oU=e=>qB((t=>e(t).fold(wB.serror,wB.svalue))),rU=(e,t,n)=>{const o=t.extract([e],n);return wB.mapError(o,(e=>({input:n,errors:e})))},iU=(e,t,n)=>wB.toResult(rU(e,t,n)),aU=e=>"Errors: \n"+xB(e.errors).join("\n")+"\n\nInput object: "+_B(e.input),sU=(e,t)=>OB(e,Se(t,tU)),lU=I(GB),cU=(e,t)=>qB((n=>{const o=typeof n;return e(n)?wB.svalue(n):wB.serror(`Expected type: ${t} but got: ${o}`)})),uU=cU(O,"number"),dU=cU(b,"string"),hU=cU(S,"boolean"),mU=cU(M,"function"),pU=WB,fU=ZB,gU=e=>oU((t=>Y(e,t)?bd.value(t):bd.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),vU=(e,t)=>pU(e,e,zB(),t),yU=e=>vU(e,dU),bU=e=>vU(e,mU),wU=(e,t)=>pU(e,e,zB(),nU(t)),_U=(e,t)=>pU(e,e,HB(),t),xU=e=>_U(e,dU),CU=e=>_U(e,mU),SU=(e,t)=>pU(e,e,LB(t),lU()),kU=(e,t,n)=>pU(e,e,LB(t),n),EU=(e,t)=>kU(e,t,uU),TU=(e,t)=>kU(e,t,dU),MU=(e,t,n)=>kU(e,t,gU(n)),OU=(e,t)=>kU(e,t,hU),DU=(e,t)=>kU(e,t,mU),AU=(e,t,n)=>kU(e,t,nU(n)),RU=yU("type"),PU=bU("fetch"),IU=bU("onAction"),zU=DU("onSetup",(()=>A)),NU=xU("text"),LU=xU("icon"),HU=xU("tooltip"),FU=xU("label"),BU=OU("active",!1),UU=OU("enabled",!0),VU=OU("primary",!1),jU=e=>SU("columns",e),WU=e=>TU("type",e),ZU=tU([RU,yU("trigger"),EU("minChars",1),jU(1),EU("maxResults",10),CU("matches"),PU,IU,AU("highlightOn",[],dU)]),$U=e=>iU("Autocompleter",ZU,{trigger:e.ch,...e}),qU=[UU,HU,LU,NU,zU],GU=[BU].concat(qU),KU=[DU("predicate",V),MU("scope","node",["node","editor"]),MU("position","selection",["node","selection","line"])],YU=qU.concat([WU("contextformbutton"),VU,IU,fU("original",z)]),JU=GU.concat([WU("contextformbutton"),VU,IU,fU("original",z)]),XU=qU.concat([WU("contextformbutton")]),QU=GU.concat([WU("contextformtogglebutton")]),eV=sU("type",{contextformbutton:YU,contextformtogglebutton:JU});tU([WU("contextform"),DU("initValue",I("")),FU,wU("commands",eV),_U("launch",sU("type",{contextformbutton:XU,contextformtogglebutton:QU}))].concat(KU));const tV=e=>{const t=e.ui.registry.getAll().popups,n=Se(t,(e=>$U(e).fold((e=>{throw new Error(aU(e))}),z))),o=Ne(De(n,(e=>e.trigger))),r=Ae(n),i=e=>ne(r,(t=>t.trigger===e));return{dataset:n,triggers:o,lookupByTrigger:i}},nV=(e,t)=>{const n=Cc(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()})),e.on("remove",n.cancel)},oV=e=>{const t=_c(),n=rc(!1),o=t.isSet,r=()=>{o()&&(SA(e),Rv(e),n.set(!1),t.clear())},i=n=>{o()||(CA(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))},a=qe((()=>tV(e))),s=n=>t.get().map((t=>QF(e.dom,e.selection.getRng(),t.trigger).bind((t=>lB(e,a,t,n))))).getOrThunk((()=>sB(e,a))),l=o=>{s(o).fold(r,(o=>{i(o.context),o.lookupData.then((i=>{t.get().map((a=>{const s=o.context;a.trigger===s.trigger&&(s.text.length-a.matchLength>=10?r():(t.set({...a,matchLength:s.text.length}),n.get()?Av(e,{lookupData:i}):(n.set(!0),Dv(e,{lookupData:i}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=w(t)?t.fetchOptions:{};l(n)})),e.addCommand("mceAutocompleterClose",r),nV(e,{cancelIfNecessary:r,load:l})},rV=e=>(t,n,o={})=>{const r=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:A,inputType:n},a=Dl(new InputEvent(e));return t.dispatch(e,{...a,...i,...o})},iV=rV("input"),aV=rV("beforeinput"),sV=(e,t,n)=>{const o=n.keyCode===Lv.BACKSPACE?"deleteContentBackward":"deleteContentForward";FH([{keyCode:Lv.BACKSPACE,action:LH(VL,e)},{keyCode:Lv.BACKSPACE,action:LH(rz,e,!1)},{keyCode:Lv.DELETE,action:LH(rz,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(LI,e,!1)},{keyCode:Lv.DELETE,action:LH(LI,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(JN,e,t,!1)},{keyCode:Lv.DELETE,action:LH(JN,e,t,!0)},{keyCode:Lv.BACKSPACE,action:LH(oS,e,!1)},{keyCode:Lv.DELETE,action:LH(oS,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(az,e,!1)},{keyCode:Lv.DELETE,action:LH(az,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(OL,e,!1)},{keyCode:Lv.DELETE,action:LH(OL,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(EI,e,!1)},{keyCode:Lv.DELETE,action:LH(EI,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(bI,e,!1)},{keyCode:Lv.DELETE,action:LH(bI,e,!0)},{keyCode:Lv.BACKSPACE,action:LH(_L,e,!1)},{keyCode:Lv.DELETE,action:LH(_L,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault();const r=aV(e,o);r.isDefaultPrevented()||(t(),iV(e,o))}))},lV=(e,t,n)=>{const o=Gt(),r=o.os,i=o.browser,a=r.isMacOS()?[{keyCode:Lv.BACKSPACE,altKey:!0,action:LH(kL,e)},{keyCode:Lv.DELETE,altKey:!0,action:LH(kL,e)}]:[{keyCode:Lv.BACKSPACE,ctrlKey:!0,action:LH(kL,e)},{keyCode:Lv.DELETE,ctrlKey:!0,action:LH(kL,e)}];r.isMacOS()&&n&&a.push({keyCode:i.isFirefox()?224:91,action:LH(kL,e)}),HH([{keyCode:Lv.BACKSPACE,action:LH(oz,e)},{keyCode:Lv.DELETE,action:LH(oz,e)},...a],t)},cV=(e,t)=>{let n=!1;e.on("keydown",(o=>{n=o.keyCode===Lv.BACKSPACE,o.isDefaultPrevented()||sV(e,t,o)})),e.on("keyup",(t=>{t.isDefaultPrevented()||lV(e,t,n),n=!1}))},uV=e=>{while(e){if(li(e)||bi(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},dV=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=uV(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(Ni),t.firstChild)}const r=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new ii(t,t);let n,i=t;while(n=e.current()){if(bi(n)){r.setStart(n,0),r.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}i=n,n=e.next()}n||(r.setStart(i,0),r.setEnd(i,0))}else ki(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),_b(e,r)},hV=(e,t)=>{const n=e.getRoot();let o,r=t;while(r!==n&&r&&"false"!==e.getContentEditable(r))"true"===e.getContentEditable(r)&&(o=r),r=r.parentNode;return r!==n?o:n},mV=e=>W.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),pV=e=>mV(e).fold(I(""),(e=>e.nodeName.toUpperCase())),fV=e=>mV(e).filter((e=>aa(go.fromDom(e)))).isSome(),gV=(e,t)=>e.dom.getParent(t,Pi),vV=(e,t,n)=>{let o=t;while(o&&o!==e&&C(o.nextSibling)){const e=o.parentElement;if(!e||!n(e))return Pi(e);o=e}return!1},yV=(e,t,n)=>!t&&n.nodeName.toLowerCase()===qd(e)&&e.dom.isEmpty(n)&&vV(e.getBody(),n,(t=>Pe(e.schema.getTextBlockElements(),t.nodeName.toLowerCase()))),bV=(e,t,n)=>{var o,r,i;const a=t(qd(e)),s=gV(e,n);s&&(e.dom.insertAfter(a,s),dV(e,a),(null!==(i=null===(r=null===(o=n.parentElement)||void 0===o?void 0:o.childNodes)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>1&&e.dom.remove(n))},wV=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,_V=e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},xV=(e,t)=>{const n=null===e||void 0===e?void 0:e.parentNode;return T(n)&&n.nodeName===t},CV=e=>T(e)&&/^(OL|UL|LI)$/.test(e.nodeName),SV=e=>T(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kV=e=>CV(e)&&CV(e.parentNode),EV=e=>{const t=e.parentNode;return SV(t)?t:e},TV=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];while(o){if(li(o))break;o=o[n?"nextSibling":"previousSibling"]}return o===t},MV=(e,t,n,o,r)=>{const i=e.dom,a=e.selection.getRng(),s=n.parentNode;if(n===e.getBody()||!s)return;kV(n)&&(r="LI");let l=t(r);if(TV(n,o,!0)&&TV(n,o,!1))if(xV(n,"LI")){const e=EV(n);i.insertAfter(l,e),_V(n)?i.remove(e):i.remove(n)}else i.replace(l,n);else if(TV(n,o,!0))xV(n,"LI")?(i.insertAfter(l,EV(n)),l.appendChild(i.doc.createTextNode(" ")),l.appendChild(n)):s.insertBefore(l,n),i.remove(o);else if(TV(n,o,!1))i.insertAfter(l,EV(n)),i.remove(o);else{n=EV(n);const e=a.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();"LI"===r&&wV(t,"LI")?(l=t.firstChild,i.insertAfter(t,n)):(i.insertAfter(t,n),i.insertAfter(l,n)),i.remove(o)}dV(e,l)},OV=e=>{Q(ni(go.fromDom(e),Hn),(e=>{const t=e.dom;t.nodeValue=ba(t.data)}))},DV=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)},AV=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),RV=e=>{e.innerHTML='<br data-mce-bogus="1">'},PV=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,IV=(e,t)=>T(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),zV=(e,t,n)=>{var o;const r=[];if(!n)return;let i=n;while(i=i.firstChild){if(e.isBlock(i))return;li(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let a=r.length;while(a--)i=r[a],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(o=i.firstChild)||void 0===o?void 0:o.nodeValue)||AV(e,i))&&e.remove(i)},NV=(e,t,n)=>bi(t)?e?1===n&&t.data.charAt(n-1)===va?0:n:n===t.data.length-1&&t.data.charAt(n)===va?t.data.length:n:n,LV=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,NV(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,NV(!1,e.endContainer,e.endOffset)),t},HV=e=>{let t=e;do{bi(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},FV=(e,t,n)=>{const o=e.dom;W.from(n.style).map(o.parseStyle).each((e=>{const n=wr(go.fromDom(t)),r={...n,...e};o.setStyles(t,r)}));const r=W.from(n.class).map((e=>e.split(/\s+/))),i=W.from(t.className).map((e=>ne(e.split(/\s+/),(e=>""!==e))));gn(r,i,((e,n)=>{const r=ne(n,(t=>!Y(e,t))),i=[...e,...r];o.setAttrib(t,"class",i.join(" "))}));const a=["style","class"],s=Oe(n,((e,t)=>!Y(a,t)));o.setAttribs(t,s)},BV=(e,t)=>{const n=qd(e);if(n.toLowerCase()===t.tagName.toLowerCase()){const n=Gd(e);FV(e,t,n)}},UV=(e,t,n,o,r)=>{var i,a;const s=e.dom,l=null!==(i=hV(s,o))&&void 0!==i?i:s.getRoot();let c=s.getParent(o,s.isBlock);if(!c||!IV(s,c)){if(c=c||l,!c.hasChildNodes()){const o=s.create(t);return BV(e,o),c.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let i,u=o;while(u&&u.parentNode!==c)u=u.parentNode;while(u&&!s.isBlock(u))i=u,u=u.previousSibling;const d=null===(a=null===i||void 0===i?void 0:i.parentElement)||void 0===a?void 0:a.nodeName;if(i&&d&&e.schema.isValidChild(d,t.toLowerCase())){const a=i.parentNode,l=s.create(t);BV(e,l),a.insertBefore(l,i),u=i;while(u&&!s.isBlock(u)){const e=u.nextSibling;l.appendChild(u),u=e}n.setStart(o,r),n.setEnd(o,r)}}return o},VV=(e,t)=>{t.normalize();const n=t.lastChild;(!n||li(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},jV=(e,t)=>{const n=Qd(e);return!E(t)&&(b(n)?Y(mn.explode(n),t.nodeName.toLowerCase()):n)},WV=(e,t)=>{let n,o,r,i,a=!1;const s=e.dom,l=e.schema,c=l.getNonEmptyElements(),u=e.selection.getRng(),d=qd(e),h=u.collapsed&&u.startContainer===e.dom.getRoot(),m=go.fromDom(u.startContainer),p=Lo(m,u.startOffset),f=p.exists((e=>Nn(e)&&!ur(e))),g=h&&f,v=t=>{let o=n;const i=l.getTextInlineElements();let a;a=t||"TABLE"===r||"HR"===r?s.create(t||d):C.cloneNode(!1);let c=a;if(!1===Xd(e))s.setAttrib(a,"style",null),s.setAttrib(a,"class",null);else do{if(i[o.nodeName]){if(sf(o)||Df(o))continue;const e=o.cloneNode(!1);s.setAttrib(e,"id",""),a.hasChildNodes()?(e.appendChild(a.firstChild),a.appendChild(e)):(c=e,a.appendChild(e))}}while((o=o.parentNode)&&o!==x);return BV(e,a),RV(c),a},y=e=>{const t=NV(e,n,o);if(bi(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===C&&a&&!e)return!0;if(e&&li(n)&&n===C.firstChild)return!0;if(PV(n,"TABLE")||PV(n,"HR"))return a&&!e||!a&&e;const r=new ii(n,C);let i;bi(n)&&(e&&0===t?r.prev():e||t!==n.data.length||r.next());while(i=r.current()){if(li(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(bi(i)&&!Ja(i.data))return!1;e?r.prev():r.next()}return!0},b=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&"HGROUP"!==S?v(d):v(),jV(e,i)&&IV(s,i)&&s.isEmpty(C,void 0,{includeZwsp:!0})?t=s.split(i,C):s.insertAfter(t,C),dV(e,t),t};By(s,u).each((e=>{u.setStart(e.startContainer,e.startOffset),u.setEnd(e.endContainer,e.endOffset)})),n=u.startContainer,o=u.startOffset;const w=!(!t||!t.shiftKey),_=!(!t||!t.ctrlKey);li(n)&&n.hasChildNodes()&&!g&&(a=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=a&&bi(n)?n.data.length:0);const x=hV(s,n);if(!x||DV(e,n))return;w||(n=UV(e,d,u,n,o));let C=s.getParent(n,s.isBlock)||s.getRoot();i=T(null===C||void 0===C?void 0:C.parentNode)?s.getParent(C.parentNode,s.isBlock):null,r=C?C.nodeName.toUpperCase():"";const S=i?i.nodeName.toUpperCase():"";if("LI"===S&&!_){const e=i;C=e,i=e.parentNode,r=S}if(li(i)&&yV(e,w,C))return bV(e,v,C);if(/^(LI|DT|DD)$/.test(r)&&li(i)&&s.isEmpty(C))return void MV(e,v,i,C,d);if(!g&&(C===e.getBody()||!IV(s,C)))return;const k=C.parentNode;let E;if(g)E=v(d),p.fold((()=>{Er(m,go.fromDom(E))}),(e=>{Cr(e,go.fromDom(E))})),e.selection.setCursorLocation(E,0);else if(xa(C))E=Pa(C),s.isEmpty(C)&&RV(C),BV(e,E),dV(e,E);else if(y(!1))E=b();else if(y(!0)&&k){E=k.insertBefore(v(),C);const t=Uo(go.fromDom(u.startContainer))&&u.collapsed;dV(e,PV(C,"HR")||t?E:C)}else{const t=LV(u).cloneRange();t.setEndAfter(C);const n=t.extractContents();OV(n),HV(n),E=n.firstChild,s.insertAfter(n,C),zV(s,c,E),VV(s,C),s.isEmpty(C)&&RV(C),E.normalize(),s.isEmpty(E)?(s.remove(E),b()):(BV(e,E),dV(e,E))}s.setAttrib(E,"id",""),e.dispatch("NewBlock",{newBlock:E})},ZV="insertParagraph",$V={insert:WV,fakeEventName:ZV},qV=(e,t,n)=>{const o=new ii(t,n);let r;const i=e.getNonEmptyElements();while(r=o.next())if(i[r.nodeName.toLowerCase()]||bi(r)&&r.length>0)return!0;return!1},GV=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),_b(e,o)},KV=(e,t)=>{const n=e.selection,o=e.dom,r=n.getRng();let i,a=!1;By(o,r).each((e=>{r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset)}));let s=r.startOffset,l=r.startContainer;if(li(l)&&l.hasChildNodes()){const e=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=e&&bi(l)?l.data.length:0}let c=o.getParent(l,o.isBlock);const u=c&&c.parentNode?o.getParent(c.parentNode,o.isBlock):null,d=u?u.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==d||h||(c=u),bi(l)&&s>=l.data.length&&(qV(e.schema,l,c||o.getRoot())||(i=o.create("br"),r.insertNode(i),r.setStartAfter(i),r.setEndAfter(i),a=!0)),i=o.create("br"),Fu(o,r,i),GV(e,i,a),e.undoManager.add()},YV=(e,t)=>{const n=go.fromTag("br");Cr(go.fromDom(t),n),e.undoManager.add()},JV=(e,t)=>{QV(e.getBody(),t)||Sr(go.fromDom(t),go.fromTag("br"));const n=go.fromTag("br");Sr(go.fromDom(t),n),GV(e,n.dom,!1),e.undoManager.add()},XV=e=>ki(e.getNode()),QV=(e,t)=>!!XV(zu.after(t))||tf(e,zu.after(t)).map((e=>ki(e.getNode()))).getOr(!1),ej=e=>e&&"A"===e.nodeName&&"href"in e,tj=e=>e.fold(V,ej,ej,V),nj=e=>{const t=L(jx,e),n=zu.fromRangeStart(e.selection.getRng());return Oz(t,e.getBody(),n).filter(tj)},oj=(e,t)=>{t.fold(A,L(YV,e),L(JV,e),A)},rj=(e,t)=>{const n=nj(e);n.isSome()?n.each(L(oj,e)):KV(e,t)},ij="insertLineBreak",aj={insert:rj,fakeEventName:ij},sj=(e,t)=>mV(e).filter((e=>t.length>0&&yo(go.fromDom(e),t))).isSome(),lj=e=>sj(e,Yd(e)),cj=e=>sj(e,Jd(e)),uj=_d.generate([{br:[]},{block:[]},{none:[]}]),dj=(e,t)=>cj(e),hj=e=>(t,n)=>fV(t)===e,mj=(e,t)=>(n,o)=>{const r=pV(n)===e.toUpperCase();return r===t},pj=e=>{const t=hV(e.dom,e.selection.getStart());return E(t)},fj=e=>mj("pre",e),gj=()=>mj("summary",!0),vj=e=>(t,n)=>$d(t)===e,yj=(e,t)=>lj(e),bj=(e,t)=>t,wj=e=>{const t=qd(e),n=hV(e.dom,e.selection.getStart());return T(n)&&e.schema.isValidChild(n.nodeName,t)},_j=e=>{const t=e.selection.getRng(),n=t.collapsed&&t.startContainer===e.dom.getRoot(),o=go.fromDom(t.startContainer),r=Lo(o,t.startOffset),i=r.map((e=>Nn(e)&&!ur(e)));return n&&i.getOr(!0)},xj=(e,t)=>(n,o)=>{const r=re(e,((e,t)=>e&&t(n,o)),!0);return r?W.some(t):W.none()},Cj=(e,t)=>bz([xj([dj],uj.none()),xj([fj(!0),pj],uj.none()),xj([gj()],uj.br()),xj([fj(!0),vj(!1),bj],uj.br()),xj([fj(!0),vj(!1)],uj.block()),xj([fj(!0),vj(!0),bj],uj.block()),xj([fj(!0),vj(!0)],uj.br()),xj([hj(!0),bj],uj.br()),xj([hj(!0)],uj.block()),xj([yj],uj.br()),xj([bj],uj.br()),xj([wj],uj.block()),xj([_j],uj.block())],[e,!(!t||!t.shiftKey)]).getOr(uj.none()),Sj=(e,t,n)=>{if(t.selection.isCollapsed()||Qx(t),T(n)){const n=aV(t,e.fakeEventName);if(n.isDefaultPrevented())return}e.insert(t,n),T(n)&&iV(t,e.fakeEventName)},kj=(e,t)=>{const n=()=>Sj(aj,e,t),o=()=>Sj($V,e,t),r=Cj(e,t);switch(Kd(e)){case"linebreak":r.fold(n,n,A);break;case"block":r.fold(o,o,A);break;case"invert":r.fold(o,n,A);break;default:r.fold(n,o,A);break}},Ej=Gt(),Tj=Ej.os.isiOS()&&Ej.browser.isSafari(),Mj=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),DD(e.undoManager),e.undoManager.transact((()=>{kj(e,t)})))},Oj=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(bi(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,o=t.data.charAt(e.startOffset-1);return n.test(o)}return!1},Dj=e=>{let t=W.none();const n=e=>{t=W.some(e.selection.getBookmark()),e.undoManager.add()},o=(e,n)=>{e.undoManager.undo(),t.fold(A,(t=>e.selection.moveToBookmark(t))),Mj(e,n),t=W.none()};e.on("keydown",(t=>{t.keyCode===Lv.ENTER&&(Tj&&Oj(e.selection.getRng())?n(e):Mj(e,t))})),e.on("keyup",(n=>{n.keyCode===Lv.ENTER&&t.each((()=>o(e,n)))}))},Aj=(e,t,n)=>{const o=tn.os.isMacOS()||tn.os.isiOS();HH([{keyCode:Lv.END,action:LH(SH,e,!0)},{keyCode:Lv.HOME,action:LH(SH,e,!1)},...o?[]:[{keyCode:Lv.HOME,action:LH(kH,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Lv.END,action:LH(kH,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Lv.END,action:LH(VH,e,!0)},{keyCode:Lv.HOME,action:LH(VH,e,!1)},{keyCode:Lv.END,action:LH(WN,e,!0,t)},{keyCode:Lv.HOME,action:LH(WN,e,!1,t)}],n).each((e=>{n.preventDefault()}))},Rj=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||Aj(e,t,n)}))},Pj=e=>{e.on("input",(t=>{t.isComposing||vx(e)}))},Ij=Gt(),zj=(e,t,n)=>{HH([{keyCode:Lv.PAGE_UP,action:LH(WN,e,!1,t)},{keyCode:Lv.PAGE_DOWN,action:LH(WN,e,!0,t)}],n)},Nj=e=>e.stopImmediatePropagation(),Lj=e=>e.keyCode===Lv.PAGE_UP||e.keyCode===Lv.PAGE_DOWN,Hj=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",Nj,!0):!n&&e.get()&&t.off("NodeChange",Nj),e.set(n)},Fj=(e,t)=>{if(Ij.os.isMacOS())return;const n=rc(!1);e.on("keydown",(t=>{Lj(t)&&Hj(n,e,!0)})),e.on("keyup",(o=>{o.isDefaultPrevented()||zj(e,t,o),Lj(o)&&n.get()&&(Hj(n,e,!1),e.nodeChanged())}))},Bj=(e,t)=>{const n=t.container(),o=t.offset();return bi(n)?(n.insertData(o,e),W.some(zu(n,o+e.length))):Ep(t).map((n=>{const o=go.fromText(e);return t.isAtEnd()?Sr(n,o):Cr(n,o),zu(o.dom,e.length)}))},Uj=L(Bj,Ni),Vj=L(Bj," "),jj=(e,t)=>rx(e,t)?Uj(t):Vj(t),Wj=e=>t=>t.fold((t=>nf(e.dom,zu.before(t))),(e=>of(e)),(e=>rf(e)),(t=>tf(e.dom,zu.after(t)))),Zj=(e,t)=>n=>rx(e,n)?Uj(t):Vj(t),$j=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},qj=(e,t)=>e.isEditable(e.getParent(t,"summary")),Gj=e=>{const t=zu.fromRangeStart(e.selection.getRng()),n=go.fromDom(e.getBody());if(e.selection.isCollapsed()){const o=L(jx,e),r=zu.fromRangeStart(e.selection.getRng());return Oz(o,e.getBody(),r).bind(Wj(n)).map((o=>()=>Zj(n,t)(o).each($j(e))))}return W.none()},Kj=e=>{const t=()=>{const t=go.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const n=zu.fromRangeStart(e.selection.getRng());jj(t,n).each($j(e))};return yn(tn.browser.isFirefox()&&e.selection.isEditable()&&qj(e.dom,e.selection.getRng().startContainer),t)},Yj=(e,t)=>{FH([{keyCode:Lv.SPACEBAR,action:LH(Gj,e)},{keyCode:Lv.SPACEBAR,action:LH(Kj,e)}],t).each((n=>{t.preventDefault();const o=aV(e,"insertText",{data:" "});o.isDefaultPrevented()||(n(),iV(e,"insertText",{data:" "}))}))},Jj=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||Yj(e,t)}))},Xj=e=>Dm(e)?[{keyCode:Lv.TAB,action:LH(zF,e,!0)},{keyCode:Lv.TAB,shiftKey:!0,action:LH(zF,e,!1)}]:[],Qj=(e,t)=>{HH([...Xj(e)],t).each((e=>{t.preventDefault()}))},eW=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||Qj(e,t)}))},tW=e=>{if(e.addShortcut("Meta+P","","mcePrint"),oV(e),$D(e))return rc(null);{const t=UN(e);return mH(e),LF(e,t),cV(e,t),Dj(e),Jj(e),Pj(e),eW(e),Rj(e,t),Fj(e,t),t}};class nW{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const o=e.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&Dy(r,t)||e.dispatch("SelectionChange"),t=r})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&ig(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&ig(e)&&("IMG"===e.selection.getNode().nodeName?jb.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!Uh(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();n=t.getStart(!0)||o,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o);const r=[];this.editor.dom.getParent(n,(e=>e===o||(r.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:r})}}isSameElementPath(e){let t;const n=this.editor,o=de(n.dom.getParents(e,j,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0;t--)if(o[t]!==this.lastPath[t])break;if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const oW=Bc("image"),rW=e=>{const t=e;return W.from(t[oW])},iW=(e,t)=>{const n=e;n[oW]=t},aW=Bc("event"),sW=e=>{const t=e;return W.from(t[aW])},lW=e=>t=>{const n=t;n[aW]=e},cW=(e,t)=>lW(t)(e),uW=lW(0),dW=lW(2),hW=lW(1),mW=e=>t=>{const n=t;return W.from(n[aW]).exists((t=>t===e))},pW=mW(0),fW=()=>Object.freeze({length:0,item:e=>null}),gW=Bc("mode"),vW=e=>{const t=e;return W.from(t[gW])},yW=e=>t=>{const n=t;n[gW]=e},bW=(e,t)=>yW(t)(e),wW=yW(0),_W=yW(2),xW=yW(1),CW=e=>t=>{const n=t;return W.from(n[gW]).exists((t=>t===e))},SW=CW(0),kW=CW(1),EW=(e,t)=>({...t,get length(){return t.length},add:(n,o)=>{if(SW(e)){if(!b(n))return t.add(n);if(!k(o))return t.add(n,o)}return null},remove:n=>{SW(e)&&t.remove(n)},clear:()=>{SW(e)&&t.clear()}}),TW=["none","copy","link","move"],MW=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],OW=()=>{const e=new window.DataTransfer;let t="move",n="all";const o={get dropEffect(){return t},set dropEffect(e){Y(TW,e)&&(t=e)},get effectAllowed(){return n},set effectAllowed(e){pW(o)&&Y(MW,e)&&(n=e)},get items(){return EW(o,e.items)},get files(){return kW(o)?fW():e.files},get types(){return e.types},setDragImage:(t,n,r)=>{SW(o)&&(iW(o,{image:t,x:n,y:r}),e.setDragImage(t,n,r))},getData:t=>kW(o)?"":e.getData(t),setData:(t,n)=>{SW(o)&&e.setData(t,n)},clearData:t=>{SW(o)&&e.clearData(t)}};return wW(o),o},DW=e=>{const t=OW(),n=vW(e);return _W(e),uW(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,rW(e).each((e=>t.setDragImage(e.image,e.x,e.y))),Q(e.types,(n=>{"Files"!==n&&t.setData(n,e.getData(n))})),Q(e.files,(e=>t.items.add(e))),sW(e).each((e=>{cW(t,e)})),n.each((n=>{bW(e,n),bW(t,n)})),t},AW=e=>{const t=e.getData("text/html");return""===t?W.none():W.some(t)},RW=(e,t)=>e.setData("text/html",t),PW="x-tinymce/html",IW=I(PW),zW="\x3c!-- "+PW+" --\x3e",NW=e=>zW+e,LW=e=>e.replace(zW,""),HW=e=>-1!==e.indexOf(zW),FW=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),BW=(e,t)=>{let n="<"+e;const o=De(t,((e,t)=>t+'="'+ul.encodeAllRaw(e)+'"'));return o.length&&(n+=" "+o.join(" ")),n+">"},UW=(e,t,n)=>{const o=e.split(/\n\n/),r=BW(t,n),i="</"+t+">",a=X(o,(e=>e.split(/\n/).join("<br />"))),s=e=>r+e+i;return 1===a.length?a[0]:X(a,s).join("")},VW="%MCEPASTEBIN%",jW=(e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();t.set(o.getRng());const i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},VW);tn.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(r,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),i.focus(),o.select(i,!0)},WW=(e,t)=>{const n=e.dom;if(ZW(e)){let o;const r=t.get();while(o=ZW(e))n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)},ZW=e=>e.dom.get("mcepastebin"),$W=e=>T(e)&&"mcepastebin"===e.id,qW=e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...r]=ne(e.getBody().childNodes,$W);Q(r,(e=>{n(o,e)}));const i=t.select("div[id=mcepastebin]",o);for(let a=i.length-1;a>=0;a--){const e=t.create("div");o.insertBefore(e,i[a]),n(e,i[a])}return o?o.innerHTML:""},GW=e=>e===VW,KW=e=>{const t=rc(null);return{create:()=>jW(e,t),remove:()=>WW(e,t),getEl:()=>ZW(e),getHtml:()=>qW(e),getLastRng:t.get}},YW=(e,t)=>(mn.each(t,(t=>{e=y(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),JW=e=>{const t=Sl(),n=vO({},t);let o="";const r=t.getVoidElements(),i=mn.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),s=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(r[n]&&(o+=" "),i[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{s(t)}while(t=t.next)}a[n]&&l.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=YW(e,[/<!\[[^\]]+\]>/g]),s(n.parse(e)),o},XW=e=>{const t=(e,t,n)=>t||n?Ni:" ";return e=YW(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e},QW=e=>{let t=0;return()=>e+t++},eZ=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return mn.hasOwn(n,t)?"image/"+n[t]:"image/"+t},tZ=(e,t)=>{const n=vO({sanitize:Cm(e)},e.schema);n.addNodeFilter("meta",(e=>{mn.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return r_({validate:!0},e.schema).serialize(o)},nZ=(e,t)=>({content:e,cancelled:t}),oZ=(e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),r=Iv(e,o,n);return nZ(r.node.innerHTML,r.isDefaultPrevented())},rZ=(e,t,n)=>{const o=Pv(e,t,n),r=tZ(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?oZ(e,r,n):nZ(r,o.isDefaultPrevented())},iZ=(e,t,n)=>rZ(e,t,n),aZ=(e,t)=>(e.insertContent(t,{merge:dm(e),paste:!0}),!0),sZ=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),lZ=(e,t)=>sZ(t)&&J(Om(e),(e=>ut(t.toLowerCase(),`.${e.toLowerCase()}`))),cZ=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0),uZ=(e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0),dZ=(e,t,n)=>!(e.selection.isCollapsed()||!sZ(t))&&uZ(e,t,n),hZ=(e,t,n)=>!!lZ(e,t)&&cZ(e,t,n),mZ=(e,t)=>{mn.each([dZ,hZ,aZ],(n=>!n(e,t,aZ)))},pZ=(e,t,n)=>{n||!hm(e)?aZ(e,t):mZ(e,t)},fZ=QW("mceclip"),gZ=e=>{const t=OW();return RW(t,e),_W(t),t},vZ=(e,t,n,o,r)=>{const i=iZ(e,t,n);if(!i.cancelled){const t=i.content,n=()=>pZ(e,t,o);if(r){const o=aV(e,"insertFromPaste",{dataTransfer:gZ(t)});o.isDefaultPrevented()||(n(),iV(e,"insertFromPaste"))}else n()}},yZ=(e,t,n,o)=>{const r=n||HW(t);vZ(e,LW(t),r,!1,o)},bZ=(e,t,n)=>{const o=e.dom.encode(t).replace(/\r\n/g,"\n"),r=ns(o,pm(e)),i=UW(r,qd(e),Gd(e));vZ(e,i,!1,!0,n)},wZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch(n){t[r]=""}}return t},_Z=(e,t)=>t in e&&e[t].length>0,xZ=e=>_Z(e,"text/html")||_Z(e,"text/plain"),CZ=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return T(n)?e.dom.encode(n[1]):void 0},SZ=(e,t,n,o)=>{const r=fZ(),i=th(e)&&T(n.name),a=i?CZ(e,n.name):r,s=i?n.name:void 0,l=t.create(r,n,o,a,s);return t.add(l),l},kZ=(e,t)=>{kT(t.uri).each((({data:n,type:o,base64Encoded:r})=>{const i=r?n:btoa(n),a=t.file,s=e.editorUpload.blobCache,l=s.getByData(i,o),c=null!==l&&void 0!==l?l:SZ(e,s,a,i);yZ(e,`<img src="${c.blobUri()}">`,!1,!0)}))},EZ=e=>"paste"===e.type,TZ=e=>Promise.all(X(e,(e=>OT(e).then((t=>({file:e,uri:t})))))),MZ=e=>{const t=Om(e);return e=>ct(e.type,"image/")&&J(t,(t=>eZ(t)===e.type))},OZ=(e,t)=>{const n=t.items?ce(ye(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],o=t.files?ye(t.files):[];return ne(n.length>0?n:o,MZ(e))},DZ=(e,t,n)=>{const o=EZ(t)?t.clipboardData:t.dataTransfer;if(im(e)&&o){const r=OZ(e,o);if(r.length>0)return t.preventDefault(),TZ(r).then((t=>{n&&e.selection.setRng(n),Q(t,(t=>{kZ(e,t)}))})),!0}return!1},AZ=e=>{var t,n;return tn.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)},RZ=e=>Lv.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode,PZ=(e,t,n,o,r)=>{let i=XW(n);const a=_Z(t,IW())||HW(n),s=!a&&FW(i),l=sZ(i);(GW(i)||!i.length||s&&!l)&&(o=!0),(o||l)&&(i=_Z(t,"text/plain")&&s?t["text/plain"]:JW(i)),GW(i)||(o?bZ(e,i,r):yZ(e,i,a,r))},IZ=(e,t,n)=>{let o;const r=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",(e=>{RZ(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(i=>{if(i.isDefaultPrevented()||AZ(i))return;const a="text"===n.get()||o;o=!1;const s=wZ(i.clipboardData);!xZ(s)&&DZ(e,i,r())||(_Z(s,"text/html")?(i.preventDefault(),PZ(e,s,s["text/html"],a,!0)):_Z(s,"text/plain")&&_Z(s,"text/uri-list")?(i.preventDefault(),PZ(e,s,s["text/plain"],a,!0)):(t.create(),jb.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),PZ(e,s,n,a,!1)}),0)))}))},zZ=e=>{const t=e=>ct(e,"webkit-fake-url"),n=e=>ct(e,"data:"),o=e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)};e.parser.addNodeFilter("img",((r,i,a)=>{if(!im(e)&&o(a))for(const o of r){const r=o.attr("src");b(r)&&!o.attr("data-mce-object")&&r!==tn.transparentSrc&&(t(r)||!fm(e)&&n(r))&&o.remove()}}))},NZ=(e,t,n)=>{IZ(e,t,n),zZ(e)},LZ=(e,t)=>{"text"===t.get()?(t.set("html"),zv(e,!1)):(t.set("text"),zv(e,!0)),e.focus()},HZ=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{LZ(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&yZ(e,n.html,n.internal,!1),n.text&&bZ(e,n.text,!1)}))},FZ=(e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(IW(),t),!0}catch(o){return!1}},BZ=(e,t,n,o)=>{FZ(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},UZ=e=>(t,n)=>{const{dom:o,selection:r}=e,i=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=o.create("div",{contenteditable:"true"},t);o.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(a),o.add(e.getBody(),i);const s=r.getRng();a.focus();const l=o.createRng();l.selectNodeContents(a),r.setRng(l),jb.setEditorTimeout(e,(()=>{r.setRng(s),o.remove(i),n()}),0)},VZ=e=>({html:NW(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),jZ=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),WZ=e=>!e.selection.isCollapsed()||jZ(e),ZZ=e=>t=>{!t.isDefaultPrevented()&&WZ(e)&&BZ(t,VZ(e),UZ(e),(()=>{if(tn.browser.isChromium()||tn.browser.isFirefox()){const t=e.selection.getRng();jb.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))},$Z=e=>t=>{!t.isDefaultPrevented()&&WZ(e)&&BZ(t,VZ(e),UZ(e),A)},qZ=e=>{e.on("cut",ZZ(e)),e.on("copy",$Z(e))},GZ=(e,t)=>{var n,o;return jy.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},KZ=e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")},YZ=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},JZ=e=>J(e.files,(e=>/^image\//.test(e.type))),XZ=(e,t,n,o)=>{const r=e.getParent(n,(e=>Ts(t,e)));if(r&&Pe(o,"text/html")){const e=(new DOMParser).parseFromString(o["text/html"],"text/html").body;return!C(e.querySelector(r.nodeName.toLowerCase()))}return!1},QZ=(e,t)=>{rm(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),im(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&JZ(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const o=GZ(e,n);if(E(o))return;const r=wZ(n.dataTransfer),i=_Z(r,IW());if((!xZ(r)||KZ(r))&&DZ(e,n,o))return;const a=r[IW()],s=a||r["text/html"]||r["text/plain"],l=XZ(e.dom,e.schema,o.startContainer,r);t.get()&&!l||s&&(n.preventDefault(),jb.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{a&&e.execCommand("Delete"),YZ(e,o);const t=XW(s);r["text/html"]?yZ(e,t,i,!0):bZ(e,t,!0)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{im(e)&&!t.get()&&(n.preventDefault(),YZ(e,GZ(e,n))),"dragend"===n.type&&t.set(!1)}))},e$=e=>{const t=t=>n=>{t(e,n)},n=am(e);M(n)&&e.on("PastePreProcess",t(n));const o=sm(e);M(o)&&e.on("PastePostProcess",t(o))},t$=(e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))},n$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,o$=e=>mn.trim(e).replace(n$,Wf).toLowerCase(),r$=(e,t,n)=>{const o=cm(e);if(n||"all"===o||!um(e))return t;const r=o?o.split(/[, ]/):[];if(r&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,i,a)=>{const s=n.parseStyle(n.decode(i)),l={};for(let u=0;u<r.length;u++){const e=s[r[u]];let t=e,i=n.getStyle(o,r[u],!0);/color/.test(r[u])&&(t=o$(t),i=o$(i)),i!==t&&(l[r[u]]=e)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+a:t+a}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,o)=>t+' style="'+n+'"'+o)),t},i$=e=>{(tn.browser.isChromium()||tn.browser.isSafari())&&t$(e,r$)},a$=e=>{const t=rc(!1),n=rc(mm(e)?"text":"html"),o=KW(e);i$(e),HZ(e,n),e$(e),e.on("PreInit",(()=>{qZ(e),QZ(e,t),NZ(e,o,n)}))},s$=e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))},l$=e=>{e.parser.addNodeFilter("details",(t=>{const n=Am(e);Q(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))})),e.serializer.addNodeFilter("details",(t=>{const n=Rm(e);Q(t,(e=>{"expanded"===n?e.attr("open","open"):"collapsed"===n&&e.attr("open",null)}))}))},c$=e=>fa(go.fromDom(e)),u$=(e,t)=>{const n=t.getNode();k(n)||e.selection.setCursorLocation(n,t.offset())},d$=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},h$=Gt(),m$=h$.browser,p$=h$.os,f$=m$.isSafari(),g$=p$.isMacOS()||p$.isiOS(),v$=(e,t)=>of(t).exists((t=>t.isEqual(e))),y$=(e,t)=>rf(t).exists((n=>ki(n.getNode())&&nf(t,n).exists((t=>t.isEqual(e)))||n.isEqual(e))),b$=(e,t)=>{const n=W.from(e.getParent(t.startContainer,"details")),o=W.from(e.getParent(t.endContainer,"details"));if(n.isSome()||o.isSome()){const t=n.bind((t=>W.from(e.select("summary",t)[0])));return W.some({startSummary:t,startDetails:n,endDetails:o})}return W.none()},w$=(e,t)=>{const n=t=>t.contains(e.startContainer),o=t=>t.contains(e.endContainer),r=t.startSummary.exists(n),i=t.startSummary.exists(o),a=t.startDetails.forall((e=>t.endDetails.forall((t=>e!==t)))),s=(r||i)&&!(r&&i);return s||a},_$=(e,t)=>t.startSummary.exists((t=>v$(e,t))),x$=(e,t)=>t.startSummary.exists((t=>y$(e,t))),C$=(e,t)=>t.startDetails.exists((n=>nf(n,e).forall((n=>t.startSummary.exists((t=>!t.contains(e.container())&&t.contains(n.container()))))))),S$=(e,t,n)=>n.startDetails.exists((n=>tf(e,t).forall((e=>!n.contains(e.container()))))),k$=(e,t)=>T(e.getParent(t.container(),"details")),E$=(e,t)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const t=e.dom.select("summary",n)[0];t&&rf(t).each((t=>u$(e,t)))}else u$(e,t)},T$=(e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();if(e.selection.isCollapsed()){const i=zu.fromRangeStart(o.getRng()),a=n.getParent(i.container(),n.isBlock);if(a&&n.isEmpty(a))if(C(a.nextSibling)){const o=nf(r,i).filter((e=>k$(n,e)));if(o.isSome())return o.each((n=>{t||E$(e,n)})),!0}else if(C(a.previousSibling)){const e=tf(r,i).filter((e=>k$(n,e)));if(e)return!0}return Xp(t,r,i).fold(V,(o=>!!k$(n,o)&&(a&&n.isEmpty(a)&&e.dom.remove(a),t||E$(e,o),!0)))}return!1},M$=(e,t,n)=>{const o=e.selection,r=o.getNode(),i=o.getRng(),a=n.keyCode===Lv.BACKSPACE,s=n.keyCode===Lv.DELETE,l=e.selection.isCollapsed(),c=zu.fromRangeStart(i),u=e.getBody();return!(l||!w$(i,t))||(!!(l&&a&&_$(c,t))||(!!(l&&s&&x$(c,t))||(!!(l&&a&&C$(c,t))||(!!(l&&s&&S$(u,c,t))||!(!f$||!Ii(r))&&(!l&&d$(i,r)||aC(s,c,r)?c$(r):e.undoManager.transact((()=>{const t=o.getSel();let{anchorNode:i,anchorOffset:s,focusNode:c,focusOffset:u}=null!==t&&void 0!==t?t:{};const d=()=>{T(i)&&T(s)&&T(c)&&T(u)&&(null===t||void 0===t||t.setBaseAndExtent(i,s,c,u))},h=()=>{i=null===t||void 0===t?void 0:t.anchorNode,s=null===t||void 0===t?void 0:t.anchorOffset,c=null===t||void 0===t?void 0:t.focusNode,u=null===t||void 0===t?void 0:t.focusOffset},m=(e,t)=>{Q(e.childNodes,(e=>{lg(e)&&t.appendChild(e)}))},p=e.dom.create("span",{"data-mce-bogus":"all"});m(r,p),r.appendChild(p),d(),l&&(g$&&(n.altKey||a&&n.metaKey)||!g$&&n.ctrlKey)&&(null===t||void 0===t||t.modify("extend",a?"left":"right",n.metaKey?"line":"word")),!o.isCollapsed()&&d$(o.getRng(),p)?c$(r):(e.execCommand(a?"Delete":"ForwardDelete"),h(),m(p,r),d()),e.dom.remove(p)})),!0)))))},O$=e=>{e.on("keydown",(t=>{t.keyCode!==Lv.BACKSPACE&&t.keyCode!==Lv.DELETE||b$(e.dom,e.selection.getRng()).fold((()=>{T$(e,t.keyCode===Lv.DELETE)&&t.preventDefault()}),(n=>{M$(e,n,t)&&t.preventDefault()}))}))},D$=e=>{s$(e),l$(e),O$(e)},A$=ki,R$=bi,P$=e=>Mi(e.dom),I$=e=>Ti(e.dom),z$=e=>t=>xo(go.fromDom(e),t),N$=(e,t)=>nr(go.fromDom(e),(e=>I$(e)||ea(e)),z$(t)).getOr(go.fromDom(t)).dom,L$=(e,t)=>nr(go.fromDom(e),P$,z$(t)),H$=(e,t,n)=>{const o=new ii(e,t),r=n?o.next.bind(o):o.prev.bind(o);let i=e;for(let a=n?e:r();a&&!A$(a);a=r())ja(a)&&(i=a);return i},F$=(e,t)=>{const n=zu.fromRangeStart(e),o=n.getNode(),r=N$(o,t),i=H$(o,r,!1),a=H$(o,r,!0),s=document.createRange();return L$(i,r).fold((()=>{R$(i)?s.setStart(i,0):s.setStartBefore(i)}),(e=>s.setStartBefore(e.dom))),L$(a,r).fold((()=>{R$(a)?s.setEnd(a,a.data.length):s.setEndAfter(a)}),(e=>s.setEndAfter(e.dom))),s},B$=e=>{const t=F$(e.selection.getRng(),e.getBody());e.selection.setRng(ES(t))},U$=e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),B$(e))}))};var V$;(function(e){e["Before"]="before",e["After"]="after"})(V$||(V$={}));const j$=(e,t)=>Math.abs(e.left-t),W$=(e,t)=>Math.abs(e.right-t),Z$=(e,t)=>e>=t.top&&e<=t.bottom,$$=(e,t)=>e.top<t.bottom&&e.bottom>t.top,q$=(e,t)=>{const n=au(e,t)/Math.min(e.height,t.height);return $$(e,t)&&n>.5},G$=(e,t)=>{const n=ne(e,(e=>Z$(t,e)));return ru(n).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=te(e,(e=>q$(e,t)));return[n,o]}))},K$=(e,t)=>({node:e.node,position:j$(e,t)<W$(e,t)?V$.Before:V$.After}),Y$=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),J$=(e,t,n)=>{const o=e=>ja(e.node)?W.some(e):li(e.node)?J$(ye(e.node.childNodes),t,n):W.none(),r=(e,r)=>{if(e.length>=2){const i=o(e[0]).getOr(e[0]),a=o(e[1]).getOr(e[1]),s=Math.abs(r(i,t,n)-r(a,t,n));if(s<2){if(bi(i.node))return W.some(i);if(bi(a.node))return W.some(a)}}return W.none()},i=(e,i)=>{const a=pe(e,((e,o)=>i(e,t,n)-i(o,t,n)));return r(a,i).orThunk((()=>be(a,o)))},[a,s]=G$(mN(e),n),{pass:l,fail:c}=te(s,(e=>e.top<n));return i(a,Y$).orThunk((()=>i(c,iu))).orThunk((()=>i(l,iu)))},X$=(e,t,n,o)=>{const r=(t,i)=>{const a=e=>li(e)&&e.classList.contains("mce-drag-container"),s=ne(t.dom.childNodes,H(a));return i.fold((()=>J$(s,n,o)),(e=>{const t=ne(s,(t=>t!==e.dom));return J$(t,n,o)})).orThunk((()=>{const n=xo(t,e)?W.none():Oo(t);return n.bind((e=>r(e,W.some(t))))}))};return r(t,W.none())},Q$=(e,t,n)=>{const o=go.fromDom(e),r=ko(o),i=go.fromPoint(r,t,n).filter((e=>Co(o,e))),a=i.getOr(o);return X$(o,a,t,n)},eq=(e,t,n)=>Q$(e,t,n).filter((e=>ep(e.node))).map((e=>K$(e,t))),tq=e=>{var t,n;const o=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,a=r.defaultView;return{top:o.top+(null!==(t=null===a||void 0===a?void 0:a.scrollY)&&void 0!==t?t:0)-i.clientTop,left:o.left+(null!==(n=null===a||void 0===a?void 0:a.scrollX)&&void 0!==n?n:0)-i.clientLeft}},nq=e=>e.inline?tq(e.getBody()):{left:0,top:0},oq=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},rq=e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:r},iq=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=tq(e.getContentAreaContainer()),o=rq(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}},aq=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),sq=(e,t)=>aq(nq(e),oq(e),iq(e,t)),lq=e=>({target:e,srcElement:e}),cq=(e,t,n,o)=>({...t,dataTransfer:o,type:e,...lq(n)}),uq=(e,t,n)=>{const o=F("Function not supported on simulated event."),r={bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:o,initEvent:o,preventDefault:A,stopImmediatePropagation:A,stopPropagation:A,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:o,initMouseEvent:o,getModifierState:o,dataTransfer:n,...lq(t)};return r},dq=(e,t)=>{const n=DW(e);return"dragstart"===t?(uW(n),wW(n)):"drop"===t?(dW(n),_W(n)):(hW(n),xW(n)),n},hq=(e,t,n,o)=>{const r=dq(n,e);return k(o)?uq(e,t,r):cq(e,o,t,r)},mq=32,pq=100,fq=8,gq=16,vq=Mi,yq=mu(vq,Ti),bq=(e,t,n)=>vq(n)&&n!==t&&e.isEditable(n.parentElement),wq=(e,t,n)=>!E(t)&&(t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t)),_q=(e,t,n,o)=>{const r=e.dom,i=t.cloneNode(!0);r.setStyles(i,{width:n,height:o}),r.setAttrib(i,"data-mce-selected",null);const a=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},xq=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Cq=(e,t)=>n=>()=>{const o="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:o+t,behavior:"smooth"})},Sq=Cq("left",-mq),kq=Cq("left",mq),Eq=Cq("top",-mq),Tq=Cq("top",mq),Mq=(e,t,n,o,r,i,a,s,l,c,u,d)=>{let h=0,m=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(h=t.pageX+n-r),t.pageY+o>i&&(m=t.pageY+o-i),e.style.width=n-h+"px",e.style.height=o-m+"px";const p=l.clientHeight,f=l.clientWidth,g=a+l.getBoundingClientRect().top,v=s+l.getBoundingClientRect().left;u.on((e=>{e.intervalId.clear(),e.dragging&&d&&(a+fq>=p?e.intervalId.set(Tq(c)):a-fq<=0?e.intervalId.set(Eq(c)):s+fq>=f?e.intervalId.set(kq(c)):s-fq<=0?e.intervalId.set(Sq(c)):g+gq>=window.innerHeight?e.intervalId.set(Tq(window)):g-gq<=0?e.intervalId.set(Eq(window)):v+gq>=window.innerWidth?e.intervalId.set(kq(window)):v-gq<=0&&e.intervalId.set(Sq(window)))}))},Oq=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Dq=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);Oq(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&fa(go.fromDom(n))},Aq=e=>0===e.button,Rq=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Pq=(e,t)=>n=>{if(Aq(n)){const o=ae(t.dom.getParents(n.target),yq).getOr(null);if(T(o)&&bq(t.dom,t.getBody(),o)){const r=t.dom.getPos(o),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:o,dataTransfer:OW(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:_q(t,o,o.offsetWidth,o.offsetHeight),intervalId:wc(pq)})}}},Iq=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),eq(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(o=>{const r=e._selectionOverrides.showCaret(1,o.node,o.position===V$.Before,!1);r?e.selection.setRng(r):e.selection.placeCaretAt(t,n)}))},zq=(e,t,n,o,r)=>{"dragstart"===t&&RW(o,e.dom.getOuterHTML(n));const i=hq(t,n,o,r),a=e.dispatch(t,i);return a},Nq=(e,t)=>{const n=xc(((e,n)=>Iq(t,e,n)),0);t.on("remove",n.cancel);const o=e;return r=>e.on((e=>{const i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&i>10){const n=zq(t,"dragstart",e.element,e.dataTransfer,r);if(T(n.dataTransfer)&&(e.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=r.currentTarget===t.getDoc().documentElement,a=Rq(e,sq(t,r));xq(e.ghost,t.getBody()),Mq(e.ghost,a,e.width,e.height,e.maxX,e.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),o,i),n.throttle(r.clientX,r.clientY)}}))},Lq=e=>{const t=e.getSel();if(T(t)){const e=t.getRangeAt(0),n=e.startContainer;return bi(n)?n.parentNode:n}return null},Hq=(e,t)=>n=>{e.on((e=>{var o;if(e.intervalId.clear(),e.dragging){if(wq(t,Lq(t.selection),e.element)){const r=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody(),i=zq(t,"drop",r,e.dataTransfer,n);i.isDefaultPrevented()||t.undoManager.transact((()=>{Dq(t.dom,e.element),AW(e.dataTransfer).each((e=>t.insertContent(e))),t._selectionOverrides.hideFakeCaret()}))}zq(t,"dragend",t.getBody(),e.dataTransfer,n)}})),Uq(e)},Fq=(e,t,n)=>{e.on((e=>{e.intervalId.clear(),e.dragging&&n.fold((()=>zq(t,"dragend",e.element,e.dataTransfer)),(n=>zq(t,"dragend",e.element,e.dataTransfer,n)))})),Uq(e)},Bq=(e,t)=>n=>Fq(e,t,W.some(n)),Uq=e=>{e.on((e=>{e.intervalId.clear(),Oq(e.ghost)})),e.clear()},Vq=e=>{const t=_c(),n=Jl.DOM,o=document,r=Pq(t,e),i=Nq(t,e),a=Hq(t,e),s=Bq(t,e);e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",a),n.bind(o,"mousemove",i),n.bind(o,"mouseup",s),e.on("remove",(()=>{n.unbind(o,"mousemove",i),n.unbind(o,"mouseup",s)})),e.on("keydown",(n=>{n.keyCode===Lv.ESC&&Fq(t,e,W.none())}))},jq=e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(Y(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&GR(e,"Dropped file type is not supported"))}},n=n=>{Qb(e,n.target)&&t(n)},o=()=>{const o=Jl.DOM,r=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Q(s,(e=>{o.bind(i,e,n),r.bind(a,e,t)})),e.on("remove",(()=>{Q(s,(e=>{o.unbind(i,e,n),r.unbind(a,e,t)}))}))};e.on("init",(()=>{jb.setEditorTimeout(e,o,0)}))},Wq=e=>{Vq(e),qh(e)&&jq(e)},Zq=e=>{const t=xc((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=AI(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))},$q=e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(Ai(n)){const t=rS(e.getBody(),n),o=Mi(t)?t:n;e.selection.getNode()!==o&&OI(e,o).each((t=>e.selection.setRng(t)))}}))}))},qq=Mi,Gq=(e,t)=>rS(e.getBody(),t),Kq=e=>{const t=e.selection,n=e.dom,o=e.getBody(),r=Jm(e,o,n.isBlock,(()=>mw(e))),i="sel-"+n.uniqueId(),a="data-mce-selected";let s;const l=e=>T(e)&&n.hasClass(e,"mce-offscreen-selection"),c=e=>e!==o&&(qq(e)||Ai(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),u=e=>{e&&t.setRng(e)},d=(n,o,i,a=!0)=>{const s=e.dispatch("ShowCaret",{target:o,direction:n,before:i});return s.isDefaultPrevented()?null:(a&&t.scrollIntoView(o,-1===n),r.show(i,o))},h=e=>{e.hasAttribute("data-mce-caret")&&(Pa(e),t.scrollIntoView(e))},m=()=>{e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",w),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",(t=>{const n=t.target,o=Gq(e,n);qq(o)?(t.preventDefault(),OI(e,o).each(b)):c(n)&&OI(e,n).each(b)}),!0),e.on("mousedown",(t=>{const r=t.target;if(r!==o&&"HTML"!==r.nodeName&&!n.isChildOf(r,o))return;if(!HR(e,t.clientX,t.clientY))return;w(),x();const i=Gq(e,r);qq(i)?(t.preventDefault(),OI(e,i).each(b)):eq(o,t.clientX,t.clientY).each((n=>{t.preventDefault();const o=d(1,n.node,n.position===V$.Before,!1);u(o),li(i)?i.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{Lv.modifierPressed(e)||qq(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(s){if(!s.parentNode)return void(s=null);t=t.cloneRange(),t.selectNode(s),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=g(e.range);const t=b(e.range,e.forward);t&&(e.range=t)}));const i=e=>li(e)&&"mcepastebin"===e.id;e.on("AfterSetSelectionRange",(e=>{const t=e.range,n=t.startContainer.parentElement;f(t)||i(n)||x(),l(n)||w()})),Wq(e),Zq(e),$q(e)},p=e=>Sa(e)||Da(e)||Aa(e),f=e=>p(e.startContainer)||p(e.endContainer),g=t=>{const o=e.schema.getVoidElements(),r=n.createRng(),i=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset;return Pe(o,i.nodeName.toLowerCase())?0===a?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,a),Pe(o,s.nodeName.toLowerCase())?0===l?r.setEndBefore(s):r.setEndAfter(s):r.setEnd(s,l),r},v=(o,r)=>{const a=go.fromDom(e.getBody()),s=e.getDoc(),l=sr(a,"#"+i).getOrThunk((()=>{const e=go.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',s);return jn(e,"id",i),Er(a,e),e})),c=n.createRng();Dr(l),Or(l,[go.fromText(Ni,s),go.fromDom(r),go.fromText(Ni,s)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),gr(l,{top:n.getPos(o,e.getBody()).y+"px"}),xb(l);const u=t.getSel();return u&&(u.removeAllRanges(),u.addRange(c)),c},y=t=>{const o=t.cloneNode(!0),r=e.dispatch("ObjectSelected",{target:t,targetClone:o});if(r.isDefaultPrevented())return null;const i=v(t,r.targetClone),l=go.fromDom(t);return Q(oi(go.fromDom(e.getBody()),`*[${a}]`),(e=>{xo(l,e)||Gn(e,a)})),n.getAttrib(t,a)||t.setAttribute(a,"1"),s=t,x(),i},b=(e,t)=>{if(!e)return null;if(e.collapsed){if(!f(e)){const r=t?1:-1,i=kp(r,o,e),a=i.getNode(!t);if(T(a)){if(ep(a))return d(r,a,!!t&&!i.isAtEnd(),!1);if(Ca(a)&&Mi(a.nextSibling)){const e=n.createRng();return e.setStart(a,0),e.setEnd(a,0),e}}const s=i.getNode(t);if(T(s)){if(ep(s))return d(r,s,!t&&!i.isAtEnd(),!1);if(Ca(s)&&Mi(s.previousSibling)){const e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let r=e.startContainer,i=e.startOffset;const a=e.endOffset;if(bi(r)&&0===i&&qq(r.parentNode)&&(r=r.parentNode,i=n.nodeIndex(r),r=r.parentNode),!li(r))return null;if(a===i+1&&r===e.endContainer){const e=r.childNodes[i];if(c(e))return y(e)}return null},w=()=>{s&&s.removeAttribute(a),sr(go.fromDom(e.getBody()),"#"+i).each(Ar),s=null},_=()=>{r.destroy(),s=null},x=()=>{r.hide()};return $D(e)||m(),{showCaret:d,showBlockCaretContainer:h,hideFakeCaret:x,destroy:_}},Yq=(e,t)=>{let n=t;for(let o=e.previousSibling;bi(o);o=o.previousSibling)n+=o.data.length;return n},Jq=(e,t,n,o,r)=>{if(bi(n)&&(o<0||o>n.data.length))return[];const i=r&&bi(n)?[Yq(n,o)]:[o];let a=n;while(a!==t&&a.parentNode)i.push(e.nodeIndex(a,r)),a=a.parentNode;return a===t?i.reverse():[]},Xq=(e,t,n,o,r,i,a=!1)=>{const s=Jq(e,t,n,o,a),l=Jq(e,t,r,i,a);return{start:s,end:l}},Qq=(e,t)=>{const n=t.slice(),o=n.pop();if(O(o)){const t=re(n,((e,t)=>e.bind((e=>W.from(e.childNodes[t])))),W.some(e));return t.bind((e=>bi(e)&&(o<0||o>e.data.length)?W.none():W.some({node:e,offset:o})))}return W.none()},eG=(e,t)=>Qq(e,t.start).bind((({node:n,offset:o})=>Qq(e,t.end).map((({node:e,offset:t})=>{const r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})))),tG=(e,t,n,o=!1)=>Xq(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o),nG=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t),nG(e,o,n)}},oG=(e,t,n,o=!0)=>{const r=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(bi(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),bi(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),nG(e,r,n),r!==i&&nG(e,i,n))},rG=(e,t)=>W.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),iG=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:Ed(o).concat(e.blockPatterns),inlinePatterns:Td(o).concat(e.inlinePatterns)}},aG=(e,t,n,o)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(n,o),r.toString()},sG=e=>/^\s[^\s]/.test(e),lG=(e,t,n)=>{const o=jF(t,0,t);o.each((o=>{const r=o.container;ZF(r,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),oG(e,o,(e=>e===t))}));const i=go.fromDom(r),a=Ui(i);sG(a)&&ji(i,a.slice(1))}))},cG=(e,t)=>{const n=e.dom,o=t.pattern,r=eG(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),i=(e,t)=>{const n=t.get(e);return x(n)&&ge(n).exists((e=>Pe(e,"block")))};return rG(e,r).each((t=>{"block-format"===o.type?i(o.format,e.formatter)&&e.undoManager.transact((()=>{lG(e.dom,t,o),e.formatter.apply(o.format)})):"block-command"===o.type&&e.undoManager.transact((()=>{lG(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)}))})),!0},uG=e=>pe(e,((e,t)=>t.start.length-e.start.length)),dG=(e,t)=>{const n=uG(e),o=t.replace(Ni," ");return ae(n,(e=>0===t.indexOf(e.start)||0===o.indexOf(e.start)))},hG=(e,t,n,o)=>{var r;const i=e.dom,a=qd(e);if(!i.is(t,a))return[];const s=null!==(r=t.textContent)&&void 0!==r?r:"";return dG(n.blockPatterns,s).map((e=>mn.trim(s).length===e.start.length?[]:[{pattern:e,range:Xq(i,i.getRoot(),t,0,t,0,o)}])).getOr([])},mG=(e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();Q(t,(t=>cG(e,t))),e.selection.moveToBookmark(n)},pG=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),fG=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},gG=(e,t,n)=>{const o=eG(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,i=o.endContainer,a=0===o.endOffset?i:i.splitText(o.endOffset),s=0===o.startOffset?r:r.splitText(o.startOffset),l=s.parentNode,c=a.parentNode;return{prefix:t,end:c.insertBefore(pG(e,t+"-end"),a),start:l.insertBefore(pG(e,t+"-start"),s)}},vG=(e,t,n)=>{nG(e,e.get(t.prefix+"-end"),n),nG(e,e.get(t.prefix+"-start"),n)},yG=e=>0===e.start.length,bG=e=>(t,n)=>{const o=t.data,r=o.substring(0,n),i=r.lastIndexOf(e.charAt(e.length-1)),a=r.lastIndexOf(e);return-1!==a?a+e.length:-1!==i?i+1:-1},wG=(e,t,n,o)=>{const r=t.start,i=$F(e,o.container,o.offset,bG(r),n);return i.bind((o=>{var i,a;const s=null!==(a=null===(i=n.textContent)||void 0===i?void 0:i.indexOf(r))&&void 0!==a?a:-1,l=-1!==s&&o.offset>=s+r.length;if(l){const t=e.createRng();return t.setStart(o.container,o.offset-r.length),t.setEnd(o.container,o.offset),W.some(t)}{const i=o.offset-r.length;return WF(o.container,i,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===r)).orThunk((()=>wG(e,t,n,HF(o.container,0))))}}))},_G=(e,t,n,o,r,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),W.some(t)}return VF(n,o,r).bind((n=>{const o=wG(e,t,r,n);return o.bind((e=>{var t;if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return W.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return W.none()}return W.some(e)}))}))},xG=(e,t,n,o)=>{const r=e.dom,i=r.getRoot(),a=n.pattern,s=n.position.container,l=n.position.offset;return WF(s,l-n.pattern.end.length,t).bind((c=>{const u=Xq(r,i,c.container,c.offset,s,l,o);if(yG(a))return W.some({matches:[{pattern:a,startRng:u,endRng:u}],position:c});{const s=CG(e,n.remainingPatterns,c.container,c.offset,t,o),l=s.getOr({matches:[],position:c}),d=l.position,h=_G(r,a,d.container,d.offset,t,s.isNone());return h.map((e=>{const t=tG(r,i,e,o);return{matches:l.matches.concat([{pattern:a,startRng:t,endRng:u}]),position:HF(e.startContainer,e.startOffset)}}))}}))},CG=(e,t,n,o,r,i)=>{const a=e.dom;return VF(n,o,a.getRoot()).bind((s=>{const l=aG(a,r,n,o);for(let a=0;a<t.length;a++){const c=t[a];if(!ut(l,c.end))continue;const u=t.slice();u.splice(a,1);const d=xG(e,r,{pattern:c,remainingPatterns:u,position:s},i);if(d.isNone()&&o>0)return CG(e,t,n,o-1,r,i);if(d.isSome())return d}return W.none()}))},SG=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?Q(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},kG=(e,t,n,o)=>{const r=fG(e.dom,n);oG(e.dom,r,o),SG(e,t,r)},EG=(e,t,n,o,r)=>{const i=e.dom,a=fG(i,o),s=fG(i,n);oG(i,s,r),oG(i,a,r);const l={prefix:n.prefix,start:n.end,end:o.start},c=fG(i,l);SG(e,t,c)},TG=(e,t)=>{const n=Bc("mce_textpattern"),o=oe(t,((t,o)=>{const r=gG(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:r}])}),[]);return oe(o,((t,r)=>{const i=o.length-t.length-1,a=yG(r.pattern)?r.endMarker:gG(e,n+`_start${i}`,r.startRng);return t.concat([{...r,startMarker:a}])}),[])},MG=e=>pe(e,((e,t)=>t.end.length-e.end.length)),OG=(e,t)=>{const n=ue(e,(e=>J(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t},DG=(e,t,n,o,r,i)=>{const a=CG(e,r.inlinePatterns,n,o,t,i).fold((()=>[]),(e=>e.matches)),s=CG(e,MG(r.inlinePatterns),n,o,t,i).fold((()=>[]),(e=>e.matches));return OG(a,s)},AG=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),r=TG(n,t);Q(r,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),r=e=>e===o;yG(t.pattern)?kG(e,t.pattern,t.endMarker,r):EG(e,t.pattern,t.startMarker,t.endMarker,r),vG(n,t.endMarker,r),vG(n,t.startMarker,r)})),e.selection.moveToBookmark(o)},RG=(e,t)=>{const n=e.selection.getRng();return rG(e,n).map((o=>{var r;const i=Math.max(0,n.startOffset),a=iG(t,o,null!==(r=o.textContent)&&void 0!==r?r:""),s=DG(e,o,n.startContainer,i,a,!0),l=hG(e,o,a,!0);return(l.length>0||s.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(zi),AG(e,s),mG(e,l);const t=e.selection.getRng(),n=VF(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===zi&&(n.deleteData(t.offset-1,1),nG(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)},PG=(e,t)=>{const n=e.selection.getRng();rG(e,n).map((o=>{const r=Math.max(0,n.startOffset-1),i=aG(e.dom,o,n.startContainer,r),a=iG(t,o,i),s=DG(e,o,n.startContainer,r,a,!1);s.length>0&&e.undoManager.transact((()=>{AG(e,s)}))}))},IG=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},zG=(e,t)=>IG(e,t,((e,t)=>e===t.keyCode&&!Lv.modifierPressed(t))),NG=(e,t)=>IG(e,t,((e,t)=>e.charCodeAt(0)===t.charCode)),LG=e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>Md(gm(e),vm(e)),r=()=>km(e);e.on("keydown",(t=>{if(13===t.keyCode&&!Lv.modifierPressed(t)&&e.selection.isCollapsed()){const n=o(),i=n.inlinePatterns.length>0||n.blockPatterns.length>0||r();i&&RG(e,n)&&t.preventDefault()}}),!0);const i=()=>{if(e.selection.isCollapsed()){const t=o(),n=t.inlinePatterns.length>0||r();n&&PG(e,t)}};e.on("keyup",(e=>{zG(n,e)&&i()})),e.on("keypress",(n=>{NG(t,n)&&jb.setEditorTimeout(e,i)}))},HG=e=>{LG(e)},FG=e=>{const t=mn.each,n=Lv.BACKSPACE,o=Lv.DELETE,r=e.dom,i=e.selection,a=e.parser,s=tn.browser,l=s.isFirefox(),c=s.isChromium()||s.isSafari(),u=tn.deviceType.isiPhone()||tn.deviceType.isiPad(),d=tn.os.isMacOS()||tn.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(o){}},m=e=>e.isDefaultPrevented(),p=()=>{const t=e=>{const t=r.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},a=n=>{const o=t(n),i=r.createRng();i.selectNode(e.getBody());const a=t(i);return o===a};e.on("keydown",(t=>{const i=t.keyCode;if(!m(t)&&(i===o||i===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!r.isEmpty(o))return;if(!n&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),o.firstChild&&r.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}))},f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Sa(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)}))},v=()=>{e.on("keydown",(t=>{if(!m(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return r.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(r.remove(n),t.preventDefault())}}}))},y=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!m(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),jb.setEditorTimeout(e,(()=>{t.focus()}))}}))},w=()=>{const t=Yh(e);e.on("click",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&r.isEditable(o.parentNode)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&r.isEditable(o.parentNode)&&(n.preventDefault(),i.select(o))}))},_=()=>{const n=()=>{const n=r.getAttribs(i.getStart().cloneNode(!1));return()=>{const o=i.getStart();o!==e.getBody()&&(r.setAttrib(o,"style",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!i.isCollapsed()&&r.getParent(i.getStart(),r.isBlock)!==r.getParent(i.getEnd(),r.isBlock);e.on("keypress",(t=>{let r;return!(!(m(t)||8!==t.keyCode&&46!==t.keyCode)&&o())||(r=n(),e.getDoc().execCommand("delete",!1),r(),t.preventDefault(),!1)})),r.bind(e.getDoc(),"cut",(t=>{if(!m(t)&&o()){const t=n();jb.setEditorTimeout(e,(()=>{t()}))}}))},x=()=>{e.on("keydown",(e=>{if(!m(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},C=()=>{e.on("keydown",(t=>{if(m(t)||t.keyCode!==Lv.BACKSPACE)return;let n=i.getRng();const o=n.startContainer,a=n.startOffset,s=r.getRoot();let l=o;if(n.collapsed&&0===a){while(l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==s)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=r.createRng(),n.setStart(o,0),n.setEnd(o,0),i.setRng(n))}}))},S=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),wh(e)||h("enableObjectResizing",!1)};Vh(e)||e.on("BeforeExecCommand mousedown",t)},k=()=>{const n=()=>{t(r.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const o=r.getRoot();if((null===n||void 0===n?void 0:n.lastChild)===e){while(n&&!r.isBlock(n)){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}r.add(n,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},E=()=>{e.on("init",(()=>{h("DefaultParagraphSeparator",qd(e))}))},T=e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length},M=()=>{e.on("keyup focusin mouseup",(t=>{Lv.modifierPressed(t)||T(e)||i.normalize()}),!0)},O=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},D=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},R=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},P=()=>{d&&e.on("keydown",(t=>{if(Lv.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();const n=e.selection.getSel();n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},I=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},z=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},N=()=>{a.addNodeFilter("br",(e=>{let t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},L=A,H=()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount},F=()=>{c&&(g(),w(),z(),f(),u&&(D(),R(),I())),l&&(y(),S(),O(),P())},B=()=>{e.on("drop",(t=>{var n;const o=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/html");b(o)&&/^<img[^>]*>$/.test(o)&&e.dispatch("dragend",new window.DragEvent("dragend",t))}))},U=()=>{C(),p(),tn.windowsPhone||M(),c&&(g(),w(),E(),z(),x(),N(),u?(D(),R(),I()):f()),l&&(v(),y(),_(),S(),k(),O(),P(),x(),B())};return $D(e)?F():U(),{refreshContentEditable:L,isHidden:H}},BG=Jl.DOM,UG=(e,t)=>{const n=go.fromDom(e.getBody()),o=qo($o(n)),r=go.fromTag("style");jn(r,"type","text/css"),Er(r,go.fromText(t)),Er(o,r),e.on("remove",(()=>{Ar(r)}))},VG=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,jG=e=>Oe(e,(e=>!1===k(e))),WG=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return jG({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:VG(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},ZG=e=>{const t=e.options.get;return jG({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},$G=e=>{const t=e.options.get;return{...WG(e),...ZG(e),...jG({remove_trailing_brs:t("remove_trailing_brs"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},qG=e=>{const t=vO(WG(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const o=e.dom,r="data-mce-"+n;let i=t.length;while(i--){const a=t[i];let s=a.attr(n);if(s&&!a.attr(r)){if(0===s.indexOf("data:")||0===s.indexOf("blob:"))continue;"style"===n?(s=o.serializeStyle(o.parseStyle(s),a.name),s.length||(s=null),a.attr(r,s),a.attr(n,s)):"tabindex"===n?(a.attr(r,s),a.attr(n,null)):a.attr(r,e.convertURL(s,n,a.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;while(t--){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),_m(e)&&t.addNodeFilter("#cdata",(t=>{var n;let o=t.length;while(o--){const r=t[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(null!==(n=r.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();while(n--){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new jw("br",1))}})),t},GG=e=>{const t=tm(e);t&&jb.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)},KG=e=>{const t=e.dom.getRoot();e.inline||ig(e)&&e.selection.getStart(!0)!==t||of(t).each((t=>{const n=t.getNode(),o=gi(n)?of(n).getOr(t):t;e.selection.setRng(o.toRange())}))},YG=e=>{e.bindPendingEventDelegates(),e.initialized=!0,_v(e),e.focus(!0),KG(e),e.nodeChanged({initial:!0});const t=Qh(e);M(t)&&t.call(e,e),GG(e)},JG=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,XG=(e,t,n)=>{const o=[JG(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])},QG=e=>{const t=JG(e),n=vh(e),o=e.contentCSS,r=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let t="";mn.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const a=Promise.all(XG(e,o,n)).then(i).catch(i),s=gh(e);return s&&UG(e,s),a},eK=e=>{const t=e.getDoc(),n=e.getBody();bv(e),nm(e)||(t.body.spellcheck=!1,BG.setAttrib(n,"spellcheck","false")),e.quirks=FG(e),wv(e);const o=yh(e);void 0!==o&&(n.dir=o);const r=om(e);r&&e.on("BeforeSetContent",(e=>{mn.each(r,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))},tK=e=>{$D(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},nK=e=>{!0!==e.removed&&(tK(e),YG(e))},oK=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(BG.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=Vh(e),e._editableRoot=jh(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===BG.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=CP(e),e.schema=Sl(ZG(e)),e.dom=Jl(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:ch(e),referrerPolicy:uh(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=qG(e),e.serializer=XA($G(e),e),e.selection=FA(e.dom,e.getWin(),e.serializer,e),e.annotator=cv(e),e.formatter=HP(e),e.undoManager=VP(e),e._nodeChangeDispatcher=new nW(e),e._selectionOverrides=Kq(e),JL(e),D$(e),cH(e),$D(e)||(U$(e),HG(e));const r=tW(e);$L(e,r),iH(e),YP(e),a$(e);const i=GD(e);eK(e),i.fold((()=>{QG(e).then((()=>nK(e)))}),(t=>{e.setProgressState(!0),QG(e).then((()=>{t().then((t=>{e.setProgressState(!1),nK(e),xA(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),nK(e),xA(e)}))}))}))},rK=j,iK=(e,t,n)=>Vr(e,t,rK,n),aK=Jl.DOM,sK=(e,t,n,o)=>{const r=go.fromTag("iframe");return o.each((e=>jn(r,"tabindex",e))),Wn(r,n),Wn(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),io(r,"tox-edit-area__iframe"),r},lK=e=>{let t=Ud(e)+"<html><head>";Vd(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=jd(e),o=Wd(e),r=e.translate(Jh(e));return Zd(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Zd(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t},cK=(e,t)=>{const n=e.translate("Rich Text Area"),o=$n(go.fromDom(e.getElement()),"tabindex").bind(yt),r=sK(e.id,n,Bd(e),o).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=lK(e),aK.add(t.iframeContainer,r)},uK=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,oK(e)};if(Sm(e)||tn.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close(),n()}else{const o=iK(go.fromDom(t),"load",(()=>{o.unbind(),n()}));t.srcdoc=e.iframeHTML}},dK=(e,t)=>{cK(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=aK.isHidden(t.editorContainer)),e.getElement().style.display="none",aK.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,uK(e)},hK=Jl.DOM,mK=(e,t,n)=>{const o=jR.get(n),r=jR.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=mn.trim(n),o&&-1===mn.inArray(t,n)){if(e.plugins[n])return;try{const i=o(e,r)||{};e.plugins[n]=i,M(i.init)&&(i.init(e,r),t.push(n))}catch(i){oP(e,n,i)}}},pK=e=>e.replace(/^\-/,""),fK=e=>{const t=[];Q(Zh(e),(n=>{mK(e,t,pK(n))}))},gK=e=>{const t=mn.trim(oh(e)),n=e.ui.registry.getAll().icons,o={...TR.get("default").icons,...TR.get(t).icons};Ce(o,((t,o)=>{Pe(n,o)||e.ui.registry.addIcon(o,t)}))},vK=e=>{const t=kh(e);if(b(t)){const n=WR.get(t);e.theme=n(e,WR.urls[t])||{},M(e.theme.init)&&e.theme.init(e,WR.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},yK=e=>{const t=Th(e),n=MR.get(t);e.model=n(e,MR.urls[t])},bK=e=>{const t=e.theme.renderUI;return t?t():CK(e)},wK=e=>{const t=e.getElement(),n=kh(e),o=n(e,t);return o.editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||e.id+"_parent"),o.iframeContainer&&o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||e.id+"_iframecontainer"),o.height=o.iframeHeight?o.iframeHeight:t.offsetHeight,o},_K=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),xK=e=>{const t=hK.create("div");return hK.insertAfter(t,e),_K(t,t)},CK=e=>{const t=e.getElement();return e.inline?_K(null):xK(t)},SK=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,b(kh(e))?bK(e):M(kh(e))?wK(e):CK(e)},kK=(e,t)=>{const n={show:W.from(t.show).getOr(A),hide:W.from(t.hide).getOr(A),isEnabled:W.from(t.isEnabled).getOr(j),setEnabled:n=>{e.mode.isReadOnly()||W.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}},EK=async e=>{e.dispatch("ScriptsLoaded"),gK(e),vK(e),yK(e),fK(e);const t=await SK(e);kK(e,W.from(t.api).getOr({})),e.editorContainer=t.editorContainer,cP(e),e.inline?oK(e):dK(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},TK=Jl.DOM,MK=e=>"-"===e.charAt(0),OK=(e,t)=>{const n=dh(t),o=hh(t);if(!vc.hasCode(n)&&"en"!==n){const r=ft(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch((()=>{eP(t,r,n)}))}},DK=(e,t)=>{const n=kh(e);if(b(n)&&!MK(n)&&!Pe(WR.urls,n)){const o=Eh(e),r=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;WR.load(n,r).catch((()=>{tP(e,r,n)}))}},AK=(e,t)=>{const n=Th(e);if("plugin"!==n&&!Pe(MR.urls,n)){const o=Mh(e),r=b(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;MR.load(n,r).catch((()=>{nP(e,r,n)}))}},RK=e=>W.from(rh(e)).filter(ft).map((e=>({url:e,name:W.none()}))),PK=(e,t,n)=>W.from(t).filter((e=>ft(e)&&!TR.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:W.some(t)}))),IK=(e,t,n)=>{const o=PK(t,"default",n),r=RK(t).orThunk((()=>PK(t,oh(t),"")));Q(fn([o,r]),(n=>{e.add(n.url).catch((()=>{QR(t,n.url,n.name.getOrUndefined())}))}))},zK=(e,t)=>{const n=(t,n)=>{jR.load(t,n).catch((()=>{XR(e,n,t)}))};Ce($h(e),((t,o)=>{n(o,t),e.options.set("plugins",Zh(e).concat(o))})),Q(Zh(e),(e=>{e=mn.trim(e),!e||jR.urls[e]||MK(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},NK=e=>{const t=kh(e);return!b(t)||T(WR.get(t))},LK=e=>{const t=Th(e);return T(MR.get(t))},HK=(e,t)=>{const n=oc.ScriptLoader,o=()=>{!e.removed&&NK(e)&&LK(e)&&EK(e)};DK(e,t),AK(e,t),OK(n,e),IK(n,e,t),zK(e,t),n.loadQueue().then(o,o)},FK=(e,t)=>Hs.forElement(e,{contentCssCors:Wh(t),referrerPolicy:uh(t)}),BK=e=>{const t=e.id;vc.setCode(dh(e));const n=()=>{TK.unbind(window,"ready",n),e.render()};if(!Fl.Event.domLoaded)return void TK.bind(window,"ready",n);if(!e.getElement())return;const o=go.fromDom(e.getElement()),r=Yn(o);e.on("remove",(()=>{ee(o.dom.attributes,(e=>Gn(o,e.name))),Wn(o,r)})),e.ui.styleSheetLoader=FK(o,e),zh(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||TK.getParent(t,"form");i&&(e.formElement=i,Nh(e)&&!yi(e.getElement())&&(TK.insertAfter(TK.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},TK.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!Lh(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=$R(e),e.notificationManager=VR(e),Mm(e)&&e.on("GetContent",(e=>{e.save&&(e.content=TK.encode(e.content))})),Hh(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Fh(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),HK(e,e.suffix)},UK=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Nv(e,t))},VK=e=>e._editableRoot,jK=(e,t)=>({sections:I(e),options:I(t)}),WK=Gt().deviceType,ZK=WK.isPhone(),$K=WK.isTablet(),qK=e=>{if(E(e))return[];{const t=x(e)?e:e.split(/[ ,]/),n=X(t,ht);return ne(n,ft)}},GK=(e,t)=>{const n=Me(t,((t,n)=>Y(e,n)));return jK(n.t,n.f)},KK=(e,t,n={})=>{const o=e.sections(),r=Re(o,t).getOr({});return mn.extend({},n,r)},YK=(e,t)=>Pe(e.sections(),t),JK=(e,t)=>YK(e,t)?e.sections()[t]:{},XK=(e,t)=>{const n={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Re(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},o={menubar:!1};return{...n,...t?o:{}}},QK=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?mn.extend({},e.external_plugins,o):o},eY=(e,t)=>[...qK(e),...qK(t)],tY=(e,t,n,o)=>e&&YK(t,"mobile")?o:n,nY=(e,t,n,o)=>{const r=qK(n.forced_plugins),i=qK(o.plugins),a=JK(t,"mobile"),s=a.plugins?qK(a.plugins):i,l=tY(e,t,i,s),c=eY(r,l);return mn.extend(o,{forced_plugins:r,plugins:c})},oY=(e,t)=>e&&YK(t,"mobile"),rY=(e,t,n,o,r)=>{var i;const a=e?{mobile:XK(null!==(i=r.mobile)&&void 0!==i?i:{},t)}:{},s=GK(["mobile"],PB(a,r)),l=mn.extend(n,o,s.options(),oY(e,s)?KK(s,"mobile"):{},{external_plugins:QK(o,s.options())});return nY(e,s,o,l)},iY=(e,t)=>rY(ZK||$K,ZK,t,e,t),aY=(e,t)=>_A(e,t),sY=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()},n=n=>()=>{Q("left,center,right,justify".split(","),(t=>{n!==t&&e.formatter.remove("align"+t)})),"none"!==n&&t("align"+n)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},lY=e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return J(o,(n=>T(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},cY=e=>{sY(e),lY(e)},uY=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(r){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(tn.os.isMacOS()||tn.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:t,type:"error"})}}})},dY=(e,t,n)=>{const o=go.fromDom(e.getRoot());return n=ix(o,zu.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=sx(o,zu.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},hY=e=>{if("string"!==typeof e){const t=mn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},mY=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?dY(o,n.getRng(),t):t},pY=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=hY(t);xO(e,{...o,content:mY(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=bA(e,t.content,o);CO(e,n,t),e.addVisual()}))}},fY=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{pY(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{pY(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{pY(e,o)},mceInsertContent:(t,n,o)=>{pY(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(lm(e))}})},gY={"font-size":"size","font-family":"face"},vY=Un("font"),yY=(e,t,n)=>{const o=t=>br(t,e).orThunk((()=>vY(t)?Re(gY,e).bind((e=>$n(t,e))):W.none())),r=e=>xo(go.fromDom(t),e);return wk(go.fromDom(n),(e=>o(e)),r)},bY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),wY=(e,t)=>W.from(Jl.DOM.getStyle(t,e,!0)),_Y=e=>(t,n)=>W.from(n).map(go.fromDom).filter(Ln).bind((n=>yY(e,t,n.dom).or(wY(e,n.dom)))).getOr(""),xY=_Y("font-size"),CY=R(bY,_Y("font-family")),SY=e=>of(e.getBody()).bind((e=>{const t=e.container();return W.from(bi(t)?t.parentNode:t)})),kY=e=>W.from(e.selection.getRng()).bind((t=>{const n=e.getBody(),o=t.startContainer===n&&0===t.startOffset;return o?W.none():W.from(e.selection.getStart(!0))})),EY=(e,t)=>kY(e).orThunk(L(SY,e)).map(go.fromDom).filter(Ln).bind(t),TY=(e,t)=>EY(e,P(W.some,t)),MY=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=Em(e),r=Tm(e);return r.length>0?r[n-1]||t:o[n-1]||t}return t}return t},OY=e=>{const t=e.split(/\s*,\s*/);return X(t,(e=>-1===e.indexOf(" ")||ct(e,'"')||ct(e,"'")?e:`'${e}'`)).join(",")},DY=(e,t)=>{const n=MY(e,t);e.formatter.toggle("fontname",{value:OY(n)}),e.nodeChanged()},AY=e=>TY(e,(t=>CY(e.getBody(),t.dom))).getOr(""),RY=(e,t)=>{e.formatter.toggle("fontsize",{value:MY(e,t)}),e.nodeChanged()},PY=e=>TY(e,(t=>xY(e.getBody(),t.dom))).getOr(""),IY=e=>TY(e,(t=>{const n=go.fromDom(e.getBody()),o=wk(t,(e=>br(e,"line-height")),L(xo,n)),r=()=>{const e=parseFloat(vr(t,"line-height")),n=parseFloat(vr(t,"font-size"));return String(e/n)};return o.getOrThunk(r)})).getOr(""),zY=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},NY=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{DY(e,o)},FontSize:(t,n,o)=>{RY(e,o)},LineHeight:(t,n,o)=>{zY(e,o)},Lang:(e,n,o)=>{var r;t(e,{value:o.code,customValue:null!==(r=o.customCode)&&void 0!==r?r:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(b(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})},LY=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>AY(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>PY(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>IY(e)))},HY=e=>{NY(e),LY(e)},FY=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},BY=e=>{e.editorCommands.addCommands({Indent:()=>{BL(e)},Outdent:()=>{UL(e)}}),e.editorCommands.addCommands({Outdent:()=>zL(e)},"state")},UY=e=>{const t=(t,n,o)=>{const r=b(o)?{href:o}:o,i=e.dom.getParent(e.selection.getNode(),"a");w(r)&&b(r.href)&&(r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},VY=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const o=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(o)}}}})},jY=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")},WY=e=>{VY(e),jY(e)},ZY=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Sj($V,e)},mceInsertNewLine:(t,n,o)=>{kj(e,o)},InsertLineBreak:(t,n,o)=>{Sj(aj,e)}})},$Y=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let r=0;e.dom.getParent(e.selection.getNode(),(t=>!li(t)||r++!==o||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ti);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},qY=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const r=null!==o&&void 0!==o?o:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{vw(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},GY=e=>{cY(e),uY(e),FY(e),$Y(e),fY(e),UY(e),BY(e),ZY(e),WY(e),HY(e),qY(e)},KY=["toggleview"],YY=e=>Y(KY,e.toLowerCase());class JY{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const r=this.editor,i=e.toLowerCase(),a=null===o||void 0===o?void 0:o.skip_focus;if(r.removed)return!1;"mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||a?Hb(r):r.focus());const s=r.dispatch("BeforeExecCommand",{command:e,ui:t,value:n});if(s.isDefaultPrevented())return!1;const l=this.commands.exec[i];return!!M(l)&&(l(i,t,n),r.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!YY(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!M(n)&&n(t)}queryCommandValue(e){if(!YY(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return M(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;Ce(e,((e,o)=>{Q(o.toLowerCase().split(","),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,r)=>t.call(null!==n&&void 0!==n?n:this.editor,o,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!==n&&void 0!==n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!==n&&void 0!==n?n:this.editor)}}const XY="data-mce-contenteditable",QY=(e,t,n)=>{co(e,t)&&!n?so(e,t):n&&io(e,t)},eJ=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(o){}},tJ=(e,t)=>{e.dom.contentEditable=t?"true":"false"},nJ=e=>{Q(oi(e,'*[contenteditable="true"]'),(e=>{jn(e,XY,"true"),tJ(e,!1)}))},oJ=e=>{Q(oi(e,`*[${XY}="true"]`),(e=>{Gn(e,XY),tJ(e,!0)}))},rJ=e=>{W.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))},iJ=e=>{e.selection.setRng(e.selection.getRng())},aJ=(e,t)=>{const n=go.fromDom(e.getBody());QY(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),rJ(e),e.readonly=!0,tJ(n,!1),nJ(n)):(e.readonly=!1,e.hasEditableRoot()&&tJ(n,!0),oJ(n),eJ(e,"StyleWithCSS",!1),eJ(e,"enableInlineTableEditing",!1),eJ(e,"enableObjectResizing",!1),pw(e)&&e.focus(),iJ(e),e.nodeChanged())},sJ=e=>e.readonly,lJ=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{sJ(e)&&Q(t,(e=>{e.attr(XY,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(XY,(t=>{sJ(e)&&Q(t,(e=>{e.attr("contenteditable",e.attr(XY))}))})),e.serializer.addTempAttr(XY)},cJ=e=>{e.serializer?lJ(e):e.on("PreInit",(()=>{lJ(e)}))},uJ=e=>"click"===e.type,dJ=["copy"],hJ=e=>Y(dJ,e.type),mJ=(e,t)=>{const n=t=>xo(t,go.fromDom(e.getBody()));return lr(t,"a",n).bind((e=>$n(e,"href")))},pJ=(e,t)=>{if(uJ(t)&&!Lv.metaKeyPressed(t)){const n=go.fromDom(t.target);mJ(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${st(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else hJ(t)&&e.dispatch(t.type,t)},fJ=e=>{e.on("ShowCaret",(t=>{sJ(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{sJ(e)&&t.preventDefault()}))},gJ=mn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class vJ{static isNative(e){return!!gJ[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||V}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=Al(n,null!==t&&void 0!==t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[n];if(r)for(let i=0,a=r.length;i<a;i++){const e=r[i];if(!e.removed){if(e.once&&this.off(n,e.func),o.isImmediatePropagationStopped())return o;if(!1===e.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=V),t){const r={func:t,removed:!1};o&&mn.extend(r,o);const i=e.toLowerCase().split(" ");let a=i.length;while(a--){const e=i[a];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;while(o--){const r=n[o];let i=this.bindings[r];if(!r)return Ce(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(i){if(t){const e=te(i,(e=>e.func===t));i=e.fail,this.bindings[r]=i,Q(e.pass,(e=>{e.removed=!0}))}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else Ce(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const yJ=e=>(e._eventDispatcher||(e._eventDispatcher=new vJ({scope:e,toggleEvent:(t,n)=>{vJ.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),bJ={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return Al(e.toLowerCase(),null!==t&&void 0!==t?t:{},o);const r=yJ(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();while(t&&!r.isPropagationStopped())t.dispatch(e,r,!1),t=t.parent?t.parent():void 0}return r},on(e,t,n){return yJ(this).on(e,t,n)},off(e,t){return yJ(this).off(e,t)},once(e,t){return yJ(this).once(e,t)},hasEventListeners(e){return yJ(this).has(e)}},wJ=Jl.DOM;let _J;const xJ=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Ch(e);return n?(e.eventRoot||(e.eventRoot=wJ.select(n)[0]),e.eventRoot):e.getBody()},CJ=e=>!e.hidden&&!sJ(e),SJ=(e,t,n)=>{CJ(e)?e.dispatch(t,n):sJ(e)&&pJ(e,n)},kJ=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=xJ(e,t);if(Ch(e)){if(_J||(_J={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||_J&&(Ce(_J,((t,n)=>{e.dom.unbind(xJ(e,n))})),_J=null)}))),_J[t])return;const o=n=>{const o=n.target,r=e.editorManager.get();let i=r.length;while(i--){const e=r[i].getBody();(e===o||wJ.isChildOf(o,e))&&SJ(r[i],t,n)}};_J[t]=o,wJ.bind(n,t,o)}else{const o=n=>{SJ(e,t,n)};wJ.bind(n,t,o),e.delegates[t]=o}},EJ={...bJ,bindPendingEventDelegates(){const e=this;mn.each(e._pendingNativeEvents,(t=>{kJ(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?kJ(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(xJ(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ce(e.delegates,((t,n)=>{e.dom.unbind(xJ(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},TJ=e=>b(e)?{value:e.split(/[ ,]/),valid:!0}:D(e,b)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},MJ=e=>{const t=(()=>{switch(e){case"array":return x;case"boolean":return S;case"function":return M;case"number":return O;case"object":return w;case"string":return b;case"string[]":return TJ;case"object[]":return e=>D(e,w);case"regexp":return e=>y(e,RegExp);default:return j}})();return n=>RJ(n,t,`The value must be a ${e}.`)},OJ=e=>b(e.processor),DJ=(e,t)=>{const n=gt(t.message)?"":`. ${t.message}`;return e+n},AJ=e=>e.valid,RJ=(e,t,n="")=>{const o=t(e);return S(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},PJ=(e,t,n)=>{if(!k(t)){const o=RJ(t,n);if(AJ(o))return o.value;console.error(DJ(`Invalid default value passed for the "${e}" option`,o))}},IJ=(e,t)=>{const n={},o={},r=(e,t,n)=>{const r=RJ(t,n);return AJ(r)?(o[e]=r.value,!0):(console.warn(DJ(`Invalid value passed for the ${e} option`,r)),!1)},i=(e,i)=>{const a=OJ(i)?MJ(i.processor):i.processor,s=PJ(e,i.default,a);n[e]={...i,default:s,processor:a};const l=Re(o,e).orThunk((()=>Re(t,e)));l.each((t=>r(e,t,a)))},a=e=>Pe(n,e),s=e=>Re(o,e).orThunk((()=>Re(n,e).map((e=>e.default)))).getOrUndefined(),l=(e,t)=>{if(a(e)){const o=n[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,o.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},c=e=>{const t=a(e);return t&&delete o[e],t},u=e=>Pe(o,e);return{register:i,isRegistered:a,get:s,set:l,unset:c,isSet:u}},zJ=["design","readonly"],NJ=(e,t,n,o)=>{const r=n[t.get()],i=n[o];try{i.activate()}catch(a){return void console.error(`problem while activating editor mode ${o}:`,a)}r.deactivate(),r.editorReadOnly!==i.editorReadOnly&&aJ(e,i.editorReadOnly),t.set(o),gv(e,o)},LJ=(e,t,n,o)=>{if(o!==n.get()){if(!Pe(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?NJ(e,n,t,o):e.on("init",(()=>NJ(e,n,t,o)))}},HJ=(e,t,n)=>{if(Y(zJ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}},FJ=e=>{const t=rc("design"),n=rc({design:{activate:A,deactivate:A,editorReadOnly:!1},readonly:{activate:A,deactivate:A,editorReadOnly:!0}});return cJ(e),fJ(e),{isReadOnly:()=>sJ(e),set:o=>LJ(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(HJ(n.get(),e,t))}}},BJ=mn.each,UJ=mn.explode,VJ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},jJ=mn.makeMap("alt,ctrl,shift,meta,access"),WJ=e=>e in jJ,ZJ=e=>{const t={},n=tn.os.isMacOS()||tn.os.isiOS();BJ(UJ(e.toLowerCase(),"+"),(e=>{WJ(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=VJ[e]||e.toUpperCase().charCodeAt(0))}));const o=[t.keyCode];let r;for(r in jJ)t[r]?o.push(r):t[r]=!1;return t.id=o.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class $J{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(BJ(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const r=this,i=r.normalizeCommandFunc(n);return BJ(UJ(mn.trim(e)),(e=>{const n=r.createShortcut(e,t,i,o);r.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"===typeof n?()=>{t.editor.execCommand(n,!1,null)}:mn.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const r=mn.map(UJ(e,">"),ZJ);return r[r.length-1]=mn.extend(r[r.length-1],{func:n,scope:o||this.editor}),mn.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const qJ=()=>{const e={},t={},n={},o={},r={},i={},a={},s={},l=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}},c=(e,t)=>o[e.toLowerCase()]=t;return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(r,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(a,"sidebar"),addView:l(s,"views"),addIcon:c,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:i,sidebars:a,views:s})}},GJ=()=>{const e=qJ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},KJ=Jl.DOM,YJ=mn.extend,JJ=mn.each;class XJ{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,YJ(this,EJ);const o=this;this.id=e,this.hidden=!1;const r=iY(n.defaultOptions,t);this.options=IJ(o,r),Fd(o);const i=this.options.get;i("deprecation_warnings")&&yR(t,r);const a=i("suffix");a&&(n.suffix=a),this.suffix=n.suffix;const s=i("base_url");s&&n._setBaseUrl(s),this.baseUri=n.baseURI;const l=uh(o);l&&(oc.ScriptLoader._setReferrerPolicy(l),Jl.DOM.styleSheetLoader._setReferrerPolicy(l));const c=Wh(o);T(c)&&Jl.DOM.styleSheetLoader._setContentCssCors(c),yc.languageLoad=i("language_load"),yc.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new QM(Vd(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=zh(o),this.hasVisual=Gh(o),this.shortcuts=new $J(this),this.editorCommands=new JY(this),GY(this);const u=i("cache_suffix");u&&(tn.cacheSuffix=u.replace(/^[\?\&]+/,"")),this.ui={registry:GJ(),styleSheetLoader:void 0,show:A,hide:A,setEnabled:A,isEnabled:j},this.mode=FJ(o),n.dispatch("SetupEditor",{editor:this});const d=Xh(o);M(d)&&d.call(o,o)}render(){BK(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return mw(this)}translate(e){return vc.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(T(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:j,default:t})),o.isSet(e)||k(t)?o.get(e):t}hasPlugin(e,t){const n=Y(Zh(this),e);return!!n&&(!t||void 0!==jR.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(KJ.show(e.getContainer()),KJ.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(KJ.hide(e.getContainer()),KJ.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const o={...e,load:!0},r=yi(n)?n.value:n.innerHTML,i=t.setContent(r,o);return o.no_events||t.dispatch("LoadContent",{...o,element:n}),i}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const o={...e,save:!0,element:n};let r=t.getContent(o);const i={...o,content:r};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),r=i.content,yi(n))n.value=r;else{!e.is_removing&&t.inline||(n.innerHTML=r);const o=KJ.getParent(t.id,"form");o&&JJ(o.elements,(e=>e.name!==t.id||(e.value=r,!1)))}return i.element=o.element=n=null,!1!==i.set_dirty&&t.setDirty(!1),r}setContent(e,t){return rR(this,e,t)}getContent(e){return tR(this,e)}insertContent(e,t){t&&(e=YJ({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?rR(this,this.startContent,{format:"raw"}):rR(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||KJ.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=KJ.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null===n||void 0===n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,r=o.options.get,i=em(o);return M(i)?i.call(o,e,n,!0,t):!r("convert_urls")||"link"===n||w(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?o.documentBaseURI.toRelative(e):(e=o.documentBaseURI.toAbsolute(e,r("remove_script_host")),e)}addVisual(e){aY(this,e)}setEditableRoot(e){UK(this,e)}hasEditableRoot(){return VK(this)}remove(){SR(this)}destroy(e){kR(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const QJ=Jl.DOM,eX=mn.each;let tX,nX=!1,oX=[];const rX=e=>{const t=e.type;eX(cX.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}}))},iX=e=>{if(e!==nX){const t=Jl.DOM;e?(t.bind(window,"resize",rX),t.bind(window,"scroll",rX)):(t.unbind(window,"resize",rX),t.unbind(window,"scroll",rX)),nX=e}},aX=e=>{const t=oX;return oX=ne(oX,(t=>e!==t)),cX.activeEditor===e&&(cX.activeEditor=oX.length>0?oX[0]:null),cX.focusedEditor===e&&(cX.focusedEditor=null),t.length!==oX.length},sX=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(aX(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},lX="CSS1Compat"!==document.compatMode,cX={...bJ,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"5.1",releaseDate:"2023-06-19",i18n:vc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",o=QM.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,n=r.suffix;else{const e=document.getElementsByTagName("script");for(let o=0;o<e.length;o++){const r=e[o].src||"";if(""===r)continue;const i=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==i.indexOf(".min")&&(n=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new QM(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new QM(e.baseURL),e.suffix=n,ow(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&Ce(o,((e,t)=>{yc.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=mn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),r=(e,t)=>e.inline&&t.tagName.toLowerCase()in o,i=e=>{let t=e.id;return t||(t=Re(e,"name").filter((e=>!QJ.get(e))).getOrThunk(QJ.uniqueId),e.setAttribute("id",t)),t},a=n=>{const o=e[n];if(o)return o.apply(t,[])},s=e=>tn.browser.isIE()||tn.browser.isEdge()?(rP("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):lX?(rP("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):b(e.selector)?QJ.select(e.selector):T(e.target)?[e.target]:[];let l=e=>{n=e};const c=()=>{let n=0;const o=[];let u;const d=(e,r,i)=>{const a=new XJ(e,r,t);o.push(a),a.on("init",(()=>{++n===u.length&&l(o)})),a.targetElm=a.targetElm||i,a.render()};QJ.unbind(window,"ready",c),a("onpageload"),u=we(s(e)),mn.each(u,(e=>{sX(t.get(e.id))})),u=mn.grep(u,(e=>!t.get(e.id))),0===u.length?l([]):eX(u,(t=>{r(e,t)?rP("Could not initialize inline editor on invalid inline target element",t):d(i(t),e,t)}))};return QJ.bind(window,"ready",c),new Promise((e=>{n?e(n):l=t=>{e(t)}}))},get(e){return 0===arguments.length?oX.slice(0):b(e)?ae(oX,(t=>t.id===e)).getOr(null):O(e)&&oX[e]?oX[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&oX.push(e),iX(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),tX||(tX=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",tX))),e},createEditor(e,t){return this.add(new XJ(e,t,this))},remove(e){const t=this;let n;if(e){if(!b(e))return n=e,C(t.get(n.id))?null:(aX(n)&&t.dispatch("RemoveEditor",{editor:n}),0===oX.length&&window.removeEventListener("beforeunload",tX),n.remove(),iX(oX.length>0),n);eX(QJ.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let o=oX.length-1;o>=0;o--)t.remove(oX[o])},execCommand(e,t,n){var o;const r=this,i=w(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!r.get(i)){const e=n.options;new XJ(i,e,r).render()}return!0;case"mceRemoveEditor":{const e=r.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=r.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:()=>{eX(oX,(e=>{e.save()}))},addI18n:(e,t)=>{vc.add(e,t)},translate:e=>vc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new QM(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new QM(this.baseURL)}};cX.setup();const uX=()=>{const e=_c(),t=e=>({items:e,types:_e(e),getType:t=>Re(e,t).getOrUndefined()}),n=t=>{e.set(t)},o=()=>e.get().getOrUndefined(),r=e.clear;return{FakeClipboardItem:t,write:n,read:o,clear:r}},dX=uX(),hX=Math.min,mX=Math.max,pX=Math.round,fX=(e,t,n)=>{let o=t.x,r=t.y;const i=e.w,a=e.h,s=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(r+=l),"r"===c[1]&&(o+=s),"c"===c[0]&&(r+=pX(l/2)),"c"===c[1]&&(o+=pX(s/2)),"b"===c[3]&&(r-=a),"r"===c[4]&&(o-=i),"c"===c[3]&&(r-=pX(a/2)),"c"===c[4]&&(o-=pX(i/2)),wX(o,r,i,a)},gX=(e,t,n,o)=>{for(let r=0;r<o.length;r++){const i=fX(e,t,o[r]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return o[r]}return null},vX=(e,t,n)=>wX(e.x-t,e.y-n,e.w+2*t,e.h+2*n),yX=(e,t)=>{const n=mX(e.x,t.x),o=mX(e.y,t.y),r=hX(e.x+e.w,t.x+t.w),i=hX(e.y+e.h,t.y+t.h);return r-n<0||i-o<0?null:wX(n,o,r-n,i-o)},bX=(e,t,n)=>{let o=e.x,r=e.y,i=e.x+e.w,a=e.y+e.h;const s=t.x+t.w,l=t.y+t.h,c=mX(0,t.x-o),u=mX(0,t.y-r),d=mX(0,i-s),h=mX(0,a-l);return o+=c,r+=u,n&&(i+=c,a+=u,o-=d,r-=h),i-=d,a-=h,wX(o,r,i-o,a-r)},wX=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),_X=e=>wX(e.left,e.top,e.width,e.height),xX={inflate:vX,relativePosition:fX,findBestRelativePosition:gX,intersect:yX,clamp:bX,create:wX,fromClientRect:_X},CX=(e,t,n=1e3)=>{let o=!1,r=null;const i=e=>(...t)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},a=i(e),s=i(t),l=(...e)=>{o||null!==r||(r=setTimeout((()=>s.apply(null,e)),n))};return{start:l,resolve:a,reject:s}},SX=()=>{const e={},t={},n=(n,o)=>{const r=`Script at URL "${o}" failed to load`,i=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const a=new Promise(((e,a)=>{const s=CX(e,a);t[n]=s.resolve,oc.ScriptLoader.loadScript(o).then((()=>s.start(i)),(()=>s.reject(r)))}));return e[n]=a,a}},o=(n,o)=>{void 0!==t[n]&&(t[n](o),delete t[n]),e[n]=Promise.resolve(o)},r=t=>{delete e[t]};return{load:n,add:o,unload:r}},kX=SX(),EX=()=>(()=>{let e={},t=[];const n={getItem:t=>{const n=e[t];return n||null},setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let TX;try{const e="__storage_test__";TX=window.localStorage,TX.setItem(e,e),TX.removeItem(e)}catch(PX){TX=EX()}var MX=TX;const OX={geom:{Rect:xX},util:{Delay:jb,Tools:mn,VK:Lv,URI:QM,EventDispatcher:vJ,Observable:bJ,I18n:vc,LocalStorage:MX,ImageUploader:wP},dom:{EventUtils:Fl,TreeWalker:ii,TextSeeker:Kc,DOMUtils:Jl,ScriptLoader:oc,RangeUtils:jy,Serializer:XA,StyleSheetLoader:Ns,ControlSelection:Wv,BookmarkManager:uv,Selection:FA,Event:Fl.Event},html:{Styles:kl,Entities:ul,Node:jw,Schema:Sl,DomParser:vO,Writer:o_,Serializer:r_},Env:tn,AddOnManager:yc,Annotator:cv,Formatter:HP,UndoManager:VP,EditorCommands:JY,WindowManager:$R,NotificationManager:VR,EditorObservable:EJ,Shortcuts:$J,Editor:XJ,FocusManager:Bb,EditorManager:cX,DOM:Jl.DOM,ScriptLoader:oc.ScriptLoader,PluginManager:jR,ThemeManager:WR,ModelManager:MR,IconManager:TR,Resource:kX,FakeClipboard:dX,trim:mn.trim,isArray:mn.isArray,is:mn.is,toArray:mn.toArray,makeMap:mn.makeMap,each:mn.each,map:mn.map,grep:mn.grep,inArray:mn.inArray,extend:mn.extend,walk:mn.walk,resolve:mn.resolve,explode:mn.explode,_addCacheSuffix:mn._addCacheSuffix},DX=mn.extend(cX,OX),AX=t=>{try{e.exports=t}catch(n){}},RX=e=>{window.tinymce=e,window.tinyMCE=e};RX(DX),AX(DX)}()},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},678:function(e,t,n){"use strict";n.d(t,{p7:function(){return nt},r5:function(){return $},tv:function(){return it}});n(7658);var o=n(3396),r=n(4870);
/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,a=e=>i?Symbol(e):"_vr_"+e,s=a("rvlm"),l=a("rvd"),c=a("r"),u=a("rl"),d=a("rvl"),h="undefined"!==typeof window;function m(e){return e.__esModule||i&&"Module"===e[Symbol.toStringTag]}const p=Object.assign;function f(e,t){const n={};for(const o in t){const r=t[o];n[o]=Array.isArray(r)?r.map(e):e(r)}return n}const g=()=>{};const v=/\/$/,y=e=>e.replace(v,"");function b(e,t,n="/"){let o,r={},i="",a="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(o=t.slice(0,s),i=t.slice(s+1,l>-1?l:t.length),r=e(i)),l>-1&&(o=o||t.slice(0,l),a=t.slice(l,t.length)),o=T(null!=o?o:t,n),{fullPath:o+(i&&"?")+i+a,path:o,query:r,hash:a}}function w(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function x(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&C(t.matched[o],n.matched[r])&&S(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function C(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function S(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!k(e[n],t[n]))return!1;return!0}function k(e,t){return Array.isArray(e)?E(e,t):Array.isArray(t)?E(t,e):e===t}function E(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function T(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/");let r,i,a=n.length-1;for(r=0;r<o.length;r++)if(i=o[r],1!==a&&"."!==i){if(".."!==i)break;a--}return n.slice(0,a).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var M,O;(function(e){e["pop"]="pop",e["push"]="push"})(M||(M={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(O||(O={}));function D(e){if(!e)if(h){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const A=/^[^#]+#/;function R(e,t){return e.replace(A,"#")+t}function P(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const I=()=>({left:window.pageXOffset,top:window.pageYOffset});function z(e){let t;if("el"in e){const n=e.el,o="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=P(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function N(e,t){const n=history.state?history.state.position-t:-1;return n+e}const L=new Map;function H(e,t){L.set(e,t)}function F(e){const t=L.get(e);return L.delete(e),t}let B=()=>location.protocol+"//"+location.host;function U(e,t){const{pathname:n,search:o,hash:r}=t,i=e.indexOf("#");if(i>-1){let t=r.includes(e.slice(i))?e.slice(i).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),_(n,"")}const a=_(n,e);return a+o+r}function V(e,t,n,o){let r=[],i=[],a=null;const s=({state:i})=>{const s=U(e,location),l=n.value,c=t.value;let u=0;if(i){if(n.value=s,t.value=i,a&&a===l)return void(a=null);u=c?i.position-c.position:0}else o(s);r.forEach((e=>{e(n.value,l,{delta:u,type:M.pop,direction:u?u>0?O.forward:O.back:O.unknown})}))};function l(){a=n.value}function c(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return i.push(t),t}function u(){const{history:e}=window;e.state&&e.replaceState(p({},e.state,{scroll:I()}),"")}function d(){for(const e of i)e();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function j(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?I():null}}function W(e){const{history:t,location:n}=window,o={value:U(e,n)},r={value:t.state};function i(o,i,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+o:B()+e+o;try{t[a?"replaceState":"pushState"](i,"",l),r.value=i}catch(c){console.error(c),n[a?"replace":"assign"](l)}}function a(e,n){const a=p({},t.state,j(r.value.back,e,r.value.forward,!0),n,{position:r.value.position});i(e,a,!0),o.value=e}function s(e,n){const a=p({},r.value,t.state,{forward:e,scroll:I()});i(a.current,a,!0);const s=p({},j(o.value,e,null),{position:a.position+1},n);i(e,s,!1),o.value=e}return r.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:r,push:s,replace:a}}function Z(e){e=D(e);const t=W(e),n=V(e,t.state,t.location,t.replace);function o(e,t=!0){t||n.pauseListeners(),history.go(e)}const r=p({location:"",base:e,go:o,createHref:R.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function $(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Z(e)}function q(e){return"string"===typeof e||e&&"object"===typeof e}function G(e){return"string"===typeof e||"symbol"===typeof e}const K={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Y=a("nf");var J;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(J||(J={}));function X(e,t){return p(new Error,{type:e,[Y]:!0},t)}function Q(e,t){return e instanceof Error&&Y in e&&(null==t||!!(e.type&t))}const ee="[^/]+?",te={sensitive:!1,strict:!1,start:!0,end:!0},ne=/[.+*?^${}()[\]/\\]/g;function oe(e,t){const n=p({},te,t),o=[];let r=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let t=0;t<u.length;t++){const o=u[t];let a=40+(n.sensitive?.25:0);if(0===o.type)t||(r+="/"),r+=o.value.replace(ne,"\\$&"),a+=40;else if(1===o.type){const{value:e,repeatable:n,optional:s,regexp:l}=o;i.push({name:e,repeatable:n,optional:s});const d=l||ee;if(d!==ee){a+=10;try{new RegExp(`(${d})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+c.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(h=s&&u.length<2?`(?:/${h})`:"/"+h),s&&(h+="?"),r+=h,a+=20,s&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}o.push(e)}if(n.strict&&n.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function s(e){const t=e.match(a),n={};if(!t)return null;for(let o=1;o<t.length;o++){const e=t[o]||"",r=i[o-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n}function l(t){let n="",o=!1;for(const r of e){o&&n.endsWith("/")||(n+="/"),o=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,l=i in t?t[i]:"";if(Array.isArray(l)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${i}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):o=!0)}n+=c}}return n}return{re:a,score:o,keys:i,parse:s,stringify:l}}function re(e,t){let n=0;while(n<e.length&&n<t.length){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ie(e,t){let n=0;const o=e.score,r=t.score;while(n<o.length&&n<r.length){const e=re(o[n],r[n]);if(e)return e;n++}return r.length-o.length}const ae={type:0,value:""},se=/[a-zA-Z0-9_]/;function le(e){if(!e)return[[]];if("/"===e)return[[ae]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,o=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let s,l=0,c="",u="";function d(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),n=1):h();break;case 4:h(),n=o;break;case 1:"("===s?n=2:se.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else o=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),r}function ce(e,t,n){const o=oe(le(e.path),n);const r=p(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf===!t.record.aliasOf&&t.children.push(r),r}function ue(e,t){const n=[],o=new Map;function r(e){return o.get(e)}function i(e,n,o){const r=!o,s=he(e);s.aliasOf=o&&o.record;const c=ge(t,e),u=[s];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(p({},s,{components:o?o.record.components:s.components,path:e,aliasOf:o?o.record:s}))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,o="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&o+u)}if(d=ce(t,n,c),o?o.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),r&&e.name&&!pe(d)&&a(e.name)),"children"in s){const e=s.children;for(let t=0;t<e.length;t++)i(e[t],d,o&&o.children[t])}o=o||d,l(d)}return h?()=>{a(h)}:g}function a(e){if(G(e)){const t=o.get(e);t&&(o.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function s(){return n}function l(e){let t=0;while(t<n.length&&ie(e,n[t])>=0&&(e.record.path!==n[t].record.path||!ve(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!pe(e)&&o.set(e.record.name,e)}function c(e,t){let r,i,a,s={};if("name"in e&&e.name){if(r=o.get(e.name),!r)throw X(1,{location:e});a=r.record.name,s=p(de(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=r.stringify(s)}else if("path"in e)i=e.path,r=n.find((e=>e.re.test(i))),r&&(s=r.parse(i),a=r.record.name);else{if(r=t.name?o.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw X(1,{location:e,currentLocation:t});a=r.record.name,s=p({},t.params,e.params),i=r.stringify(s)}const l=[];let c=r;while(c)l.unshift(c.record),c=c.parent;return{name:a,path:i,params:s,matched:l,meta:fe(l)}}return t=ge({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:c,removeRoute:a,getRoutes:s,getRecordMatcher:r}}function de(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function he(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:me(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function me(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]="boolean"===typeof n?n:n[o];return t}function pe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function fe(e){return e.reduce(((e,t)=>p(e,t.meta)),{})}function ge(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function ve(e,t){return t.children.some((t=>t===e||ve(e,t)))}const ye=/#/g,be=/&/g,we=/\//g,_e=/=/g,xe=/\?/g,Ce=/\+/g,Se=/%5B/g,ke=/%5D/g,Ee=/%5E/g,Te=/%60/g,Me=/%7B/g,Oe=/%7C/g,De=/%7D/g,Ae=/%20/g;function Re(e){return encodeURI(""+e).replace(Oe,"|").replace(Se,"[").replace(ke,"]")}function Pe(e){return Re(e).replace(Me,"{").replace(De,"}").replace(Ee,"^")}function Ie(e){return Re(e).replace(Ce,"%2B").replace(Ae,"+").replace(ye,"%23").replace(be,"%26").replace(Te,"`").replace(Me,"{").replace(De,"}").replace(Ee,"^")}function ze(e){return Ie(e).replace(_e,"%3D")}function Ne(e){return Re(e).replace(ye,"%23").replace(xe,"%3F")}function Le(e){return null==e?"":Ne(e).replace(we,"%2F")}function He(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Fe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],o=(n?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const e=o[r].replace(Ce," "),n=e.indexOf("="),i=He(n<0?e:e.slice(0,n)),a=n<0?null:He(e.slice(n+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function Be(e){let t="";for(let n in e){const o=e[n];if(n=ze(n),null==o){void 0!==o&&(t+=(t.length?"&":"")+n);continue}const r=Array.isArray(o)?o.map((e=>e&&Ie(e))):[o&&Ie(o)];r.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ue(e){const t={};for(const n in e){const o=e[n];void 0!==o&&(t[n]=Array.isArray(o)?o.map((e=>null==e?null:""+e)):null==o?o:""+o)}return t}function Ve(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function je(e,t,n,o,r){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise(((a,s)=>{const l=e=>{!1===e?s(X(4,{from:n,to:t})):e instanceof Error?s(e):q(e)?s(X(2,{from:t,to:e})):(i&&o.enterCallbacks[r]===i&&"function"===typeof e&&i.push(e),a())},c=e.call(o&&o.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function We(e,t,n,o){const r=[];for(const i of e)for(const e in i.components){let a=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(Ze(a)){const s=a.__vccOpts||a,l=s[t];l&&r.push(je(l,n,o,i,e))}else{let s=a();0,r.push((()=>s.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${i.path}"`));const a=m(r)?r.default:r;i.components[e]=a;const s=a.__vccOpts||a,l=s[t];return l&&je(l,n,o,i,e)()}))))}}return r}function Ze(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function $e(e){const t=(0,o.f3)(c),n=(0,o.f3)(u),i=(0,o.Fl)((()=>t.resolve((0,r.SU)(e.to)))),a=(0,o.Fl)((()=>{const{matched:e}=i.value,{length:t}=e,o=e[t-1],r=n.matched;if(!o||!r.length)return-1;const a=r.findIndex(C.bind(null,o));if(a>-1)return a;const s=Je(e[t-2]);return t>1&&Je(o)===s&&r[r.length-1].path!==s?r.findIndex(C.bind(null,e[t-2])):a})),s=(0,o.Fl)((()=>a.value>-1&&Ye(n.params,i.value.params))),l=(0,o.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&S(n.params,i.value.params)));function d(n={}){return Ke(n)?t[(0,r.SU)(e.replace)?"replace":"push"]((0,r.SU)(e.to)).catch(g):Promise.resolve()}return{route:i,href:(0,o.Fl)((()=>i.value.href)),isActive:s,isExactActive:l,navigate:d}}const qe=(0,o.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$e,setup(e,{slots:t}){const n=(0,r.qj)($e(e)),{options:i}=(0,o.f3)(c),a=(0,o.Fl)((()=>({[Xe(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Xe(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:(0,o.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}}),Ge=qe;function Ke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const o=t[n],r=e[n];if("string"===typeof o){if(o!==r)return!1}else if(!Array.isArray(r)||r.length!==o.length||o.some(((e,t)=>e!==r[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xe=(e,t,n)=>null!=e?e:null!=t?t:n,Qe=(0,o.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=(0,o.f3)(d),a=(0,o.Fl)((()=>e.route||i.value)),c=(0,o.f3)(l,0),u=(0,o.Fl)((()=>a.value.matched[c]));(0,o.JJ)(l,c+1),(0,o.JJ)(s,u),(0,o.JJ)(d,a);const h=(0,r.iH)();return(0,o.YP)((()=>[h.value,u.value,e.name]),(([e,t,n],[o,r,i])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&C(t,r)&&o||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=a.value,i=u.value,s=i&&i.components[e.name],l=e.name;if(!s)return et(n.default,{Component:s,route:r});const c=i.props[e.name],d=c?!0===c?r.params:"function"===typeof c?c(r):c:null,m=e=>{e.component.isUnmounted&&(i.instances[l]=null)},f=(0,o.h)(s,p({},d,t,{onVnodeUnmounted:m,ref:h}));return et(n.default,{Component:f,route:r})||f}}});function et(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const tt=Qe;function nt(e){const t=ue(e.routes,e),n=e.parseQuery||Fe,i=e.stringifyQuery||Be,a=e.history;const s=Ve(),l=Ve(),m=Ve(),v=(0,r.XI)(K);let y=K;h&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=f.bind(null,(e=>""+e)),C=f.bind(null,Le),S=f.bind(null,He);function k(e,n){let o,r;return G(e)?(o=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,o)}function E(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function T(){return t.getRoutes().map((e=>e.record))}function O(e){return!!t.getRecordMatcher(e)}function D(e,o){if(o=p({},o||v.value),"string"===typeof e){const r=b(n,e,o.path),i=t.resolve({path:r.path},o),s=a.createHref(r.fullPath);return p(r,i,{params:S(i.params),hash:He(r.hash),redirectedFrom:void 0,href:s})}let r;if("path"in e)r=p({},e,{path:b(n,e.path,o.path).path});else{const t=p({},e.params);for(const e in t)null==t[e]&&delete t[e];r=p({},e,{params:C(e.params)}),o.params=C(o.params)}const s=t.resolve(r,o),l=e.hash||"";s.params=_(S(s.params));const c=w(i,p({},e,{hash:Pe(l),path:s.path})),u=a.createHref(c);return p({fullPath:c,hash:l,query:i===Be?Ue(e.query):e.query||{}},s,{redirectedFrom:void 0,href:u})}function A(e){return"string"===typeof e?b(n,e,v.value.path):p({},e)}function R(e,t){if(y!==e)return X(8,{from:t,to:e})}function P(e){return U(e)}function L(e){return P(p(A(e),{replace:!0}))}function B(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let o="function"===typeof n?n(e):n;return"string"===typeof o&&(o=o.includes("?")||o.includes("#")?o=A(o):{path:o},o.params={}),p({query:e.query,hash:e.hash,params:e.params},o)}}function U(e,t){const n=y=D(e),o=v.value,r=e.state,a=e.force,s=!0===e.replace,l=B(n);if(l)return U(p(A(l),{state:r,force:a,replace:s}),t||n);const c=n;let u;return c.redirectedFrom=t,!a&&x(i,o,n)&&(u=X(16,{to:c,from:o}),re(o,o,!0,!1)),(u?Promise.resolve(u):j(c,o)).catch((e=>Q(e)?Q(e,2)?e:oe(e):te(e,c,o))).then((e=>{if(e){if(Q(e,2))return U(p(A(e.to),{state:r,force:a,replace:s}),t||c)}else e=Z(c,o,!0,s,r);return W(c,o,e),e}))}function V(e,t){const n=R(e,t);return n?Promise.reject(n):Promise.resolve()}function j(e,t){let n;const[o,r,i]=rt(e,t);n=We(o.reverse(),"beforeRouteLeave",e,t);for(const s of o)s.leaveGuards.forEach((o=>{n.push(je(o,e,t))}));const a=V.bind(null,e,t);return n.push(a),ot(n).then((()=>{n=[];for(const o of s.list())n.push(je(o,e,t));return n.push(a),ot(n)})).then((()=>{n=We(r,"beforeRouteUpdate",e,t);for(const o of r)o.updateGuards.forEach((o=>{n.push(je(o,e,t))}));return n.push(a),ot(n)})).then((()=>{n=[];for(const o of e.matched)if(o.beforeEnter&&!t.matched.includes(o))if(Array.isArray(o.beforeEnter))for(const r of o.beforeEnter)n.push(je(r,e,t));else n.push(je(o.beforeEnter,e,t));return n.push(a),ot(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=We(i,"beforeRouteEnter",e,t),n.push(a),ot(n)))).then((()=>{n=[];for(const o of l.list())n.push(je(o,e,t));return n.push(a),ot(n)})).catch((e=>Q(e,8)?e:Promise.reject(e)))}function W(e,t,n){for(const o of m.list())o(e,t,n)}function Z(e,t,n,o,r){const i=R(e,t);if(i)return i;const s=t===K,l=h?history.state:{};n&&(o||s?a.replace(e.fullPath,p({scroll:s&&l&&l.scroll},r)):a.push(e.fullPath,r)),v.value=e,re(e,t,n,s),oe()}let $;function q(){$=a.listen(((e,t,n)=>{const o=D(e),r=B(o);if(r)return void U(p(r,{replace:!0}),o).catch(g);y=o;const i=v.value;h&&H(N(i.fullPath,n.delta),I()),j(o,i).catch((e=>Q(e,12)?e:Q(e,2)?(U(e.to,o).then((e=>{Q(e,20)&&!n.delta&&n.type===M.pop&&a.go(-1,!1)})).catch(g),Promise.reject()):(n.delta&&a.go(-n.delta,!1),te(e,o,i)))).then((e=>{e=e||Z(o,i,!1),e&&(n.delta?a.go(-n.delta,!1):n.type===M.pop&&Q(e,20)&&a.go(-1,!1)),W(o,i,e)})).catch(g)}))}let Y,J=Ve(),ee=Ve();function te(e,t,n){oe(e);const o=ee.list();return o.length?o.forEach((o=>o(e,t,n))):console.error(e),Promise.reject(e)}function ne(){return Y&&v.value!==K?Promise.resolve():new Promise(((e,t)=>{J.add([e,t])}))}function oe(e){return Y||(Y=!e,q(),J.list().forEach((([t,n])=>e?n(e):t())),J.reset()),e}function re(t,n,r,i){const{scrollBehavior:a}=e;if(!h||!a)return Promise.resolve();const s=!r&&F(N(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return(0,o.Y3)().then((()=>a(t,n,s))).then((e=>e&&z(e))).catch((e=>te(e,t,n)))}const ie=e=>a.go(e);let ae;const se=new Set,le={currentRoute:v,addRoute:k,removeRoute:E,hasRoute:O,getRoutes:T,resolve:D,options:e,push:P,replace:L,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:s.add,beforeResolve:l.add,afterEach:m.add,onError:ee.add,isReady:ne,install(e){const t=this;e.component("RouterLink",Ge),e.component("RouterView",tt),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(v)}),h&&!ae&&v.value===K&&(ae=!0,P(a.location).catch((e=>{0})));const n={};for(const r in K)n[r]=(0,o.Fl)((()=>v.value[r]));e.provide(c,t),e.provide(u,(0,r.qj)(n)),e.provide(d,v);const i=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(y=K,$&&$(),v.value=K,ae=!1,Y=!1),i()}}};return le}function ot(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],o=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>C(e,i)))?o.push(i):n.push(i));const s=e.matched[a];s&&(t.matched.find((e=>C(e,s)))||r.push(s))}return[n,o,r]}function it(){return(0,o.f3)(c)}},5593:function(e,t,n){n(4633),n(7658),function(t){"use strict";var n,o,r="fulfilled",i="undefined",a=function(){var e=[],n=0;function r(){for(;e.length-n;){try{e[n]()}catch(r){t.console&&t.console.error(r)}e[n++]=o,1024==n&&(e.splice(0,1024),n=0)}}var a=function(){if(typeof MutationObserver===i)return typeof process!==i&&"function"==typeof process.nextTick?function(){process.nextTick(r)}:typeof setImmediate!==i?function(){setImmediate(r)}:function(){setTimeout(r,0)};var e=document.createElement("div");return new MutationObserver(r).observe(e,{attributes:!0}),function(){e.setAttribute("a",0)}}();return function(t){e.push(t),e.length-n==1&&a()}}();function s(e){if(!(this instanceof s))throw new TypeError("Zousan must be created with the new keyword");if("function"==typeof e){var t=this;try{e((function(e){t.resolve(e)}),(function(e){t.reject(e)}))}catch(e){t.reject(e)}}else if(0<arguments.length)throw new TypeError("Zousan resolver "+e+" is not a function")}function l(e,t){if("function"==typeof e.y)try{var n=e.y.call(o,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function c(e,t){if("function"==typeof e.n)try{var n=e.n.call(o,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}s.prototype={resolve:function(e){if(this.state===n){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var t=this;if(e&&("function"==typeof e||"object"==typeof e))try{var o=!0,i=e.then;if("function"==typeof i)return void i.call(e,(function(e){o&&(o=!1,t.resolve(e))}),(function(e){o&&(o=!1,t.reject(e))}))}catch(i){return void(o&&this.reject(i))}this.state=r,this.v=e,t.c&&a((function(){for(var n=0,o=t.c.length;n<o;n++)l(t.c[n],e)}))}},reject:function(e){if(this.state===n){var o=this;this.state="rejected",this.v=e;var r=this.c;a(r?function(){for(var t=0,n=r.length;t<n;t++)c(r[t],e)}:function(){o.handled||!s.suppressUncaughtRejectionError&&t.console&&s.warn("You upset Zousan. Please catch rejections: ",e,e?e.stack:null)})}},then:function(e,t){var o=new s,i={y:e,n:t,p:o};if(this.state===n)this.c?this.c.push(i):this.c=[i];else{var u=this.state,d=this.v;this.handled=!0,a((function(){u===r?l(i,d):c(i,d)}))}return o},catch:function(e){return this.then(null,e)},finally:function(e){return this.then(e,e)},timeout:function(e,t){t=t||"Timeout";var n=this;return new s((function(o,r){setTimeout((function(){r(Error(t))}),e),n.then((function(e){o(e)}),(function(e){r(e)}))}))}},s.resolve=function(e){var t=new s;return t.resolve(e),t},s.reject=function(e){var t=new s;return t.c=[],t.reject(e),t},s.all=function(e){var t=[],n=0,o=new s;function r(r,i){r&&"function"==typeof r.then||(r=s.resolve(r)),r.then((function(r){t[i]=r,++n==e.length&&o.resolve(t)}),(function(e){o.reject(e)}))}for(var i=0;i<e.length;i++)r(e[i],i);return e.length||o.resolve(t),o},s.warn=console.warn,"object"!=i&&e.exports&&(e.exports=s),t.define&&t.define.amd&&t.define([],(function(){return s})),(t.Zousan=s).soon=a}("undefined"!=typeof n.g?n.g:this)},2748:function(e,t,n){"use strict";n.r(t),n.d(t,{AddLocation:function(){return h},Aim:function(){return b},AlarmClock:function(){return E},Apple:function(){return R},ArrowDown:function(){return W},ArrowDownBold:function(){return H},ArrowLeft:function(){return ne},ArrowLeftBold:function(){return Y},ArrowRight:function(){return pe},ArrowRightBold:function(){return le},ArrowUp:function(){return Ee},ArrowUpBold:function(){return we},Avatar:function(){return Re},Back:function(){return Fe},Baseball:function(){return $e},Basketball:function(){return Xe},Bell:function(){return ht},BellFilled:function(){return rt},Bicycle:function(){return yt},Bottom:function(){return Ht},BottomLeft:function(){return kt},BottomRight:function(){return Rt},Bowl:function(){return Wt},Box:function(){return Xt},Briefcase:function(){return rn},Brush:function(){return vn},BrushFilled:function(){return dn},Burger:function(){return Cn},Calendar:function(){return On},Camera:function(){return Un},CameraFilled:function(){return zn},CaretBottom:function(){return qn},CaretLeft:function(){return Qn},CaretRight:function(){return io},CaretTop:function(){return ho},Cellphone:function(){return yo},ChatDotRound:function(){return ko},ChatDotSquare:function(){return Ro},ChatLineRound:function(){return Fo},ChatLineSquare:function(){return $o},ChatRound:function(){return Xo},ChatSquare:function(){return rr},Check:function(){return ur},Checked:function(){return gr},Cherry:function(){return xr},Chicken:function(){return Mr},ChromeFilled:function(){return Nr},CircleCheck:function(){return Kr},CircleCheckFilled:function(){return Vr},CircleClose:function(){return li},CircleCloseFilled:function(){return ti},CirclePlus:function(){return xi},CirclePlusFilled:function(){return pi},Clock:function(){return Di},Close:function(){return Vi},CloseBold:function(){return Ni},Cloudy:function(){return Gi},Coffee:function(){return aa},CoffeeCup:function(){return ea},Coin:function(){return pa},ColdDrink:function(){return wa},Collection:function(){return Pa},CollectionTag:function(){return Ea},Comment:function(){return Fa},Compass:function(){return $a},Connection:function(){return Qa},Coordinate:function(){return as},CopyDocument:function(){return ms},Cpu:function(){return ws},CreditCard:function(){return Ts},Crop:function(){return Is},DArrowLeft:function(){return Bs},DArrowRight:function(){return $s},DCaret:function(){return Xs},DataAnalysis:function(){return rl},DataBoard:function(){return hl},DataLine:function(){return yl},Delete:function(){return Hl},DeleteFilled:function(){return Sl},DeleteLocation:function(){return Rl},Dessert:function(){return Wl},Discount:function(){return Jl},Dish:function(){return cc},DishDot:function(){return oc},Document:function(){return Zc},DocumentAdd:function(){return fc},DocumentChecked:function(){return _c},DocumentCopy:function(){return Tc},DocumentDelete:function(){return Pc},DocumentRemove:function(){return Fc},Download:function(){return Jc},Drizzling:function(){return ou},Edit:function(){return gu},EditPen:function(){return cu},Eleme:function(){return Mu},ElemeFilled:function(){return xu},ElementPlus:function(){return Iu},Expand:function(){return Bu},Failed:function(){return $u},Female:function(){return ed},Files:function(){return ad},Film:function(){return md},Filter:function(){return bd},Finished:function(){return kd},FirstAidKit:function(){return Rd},Flag:function(){return Hd},Fold:function(){return Wd},Folder:function(){return Eh},FolderAdd:function(){return Yd},FolderChecked:function(){return nh},FolderDelete:function(){return lh},FolderOpened:function(){return ph},FolderRemove:function(){return wh},Food:function(){return Rh},Football:function(){return Fh},ForkSpoon:function(){return Zh},Fries:function(){return Jh},FullScreen:function(){return om},Goblet:function(){return Tm},GobletFull:function(){return cm},GobletSquare:function(){return _m},GobletSquareFull:function(){return fm},GoldMedal:function(){return Im},Goods:function(){return $m},GoodsFilled:function(){return Bm},Grape:function(){return Xm},Grid:function(){return rp},Guide:function(){return dp},Handbag:function(){return vp},Headset:function(){return Cp},Help:function(){return zp},HelpFilled:function(){return Op},Hide:function(){return Vp},Histogram:function(){return Gp},HomeFilled:function(){return ef},HotWater:function(){return sf},House:function(){return mf},IceCream:function(){return Af},IceCreamRound:function(){return bf},IceCreamSquare:function(){return kf},IceDrink:function(){return Lf},IceTea:function(){return jf},InfoFilled:function(){return Kf},Iphone:function(){return tg},Key:function(){return sg},KnifeFork:function(){return mg},Lightning:function(){return wg},Link:function(){return Eg},List:function(){return Rg},Loading:function(){return Hg},Location:function(){return iv},LocationFilled:function(){return Wg},LocationInformation:function(){return Xg},Lock:function(){return hv},Lollipop:function(){return yv},MagicStick:function(){return Sv},Magnet:function(){return Dv},Male:function(){return Hv},Management:function(){return Wv},MapLocation:function(){return Jv},Medal:function(){return ry},Memo:function(){return hy},Menu:function(){return yy},Message:function(){return Ay},MessageBox:function(){return Sy},Mic:function(){return Ly},Microphone:function(){return jy},MilkTea:function(){return Ky},Minus:function(){return tb},Money:function(){return cb},Monitor:function(){return fb},Moon:function(){return Mb},MoonNight:function(){return xb},More:function(){return Bb},MoreFilled:function(){return Ib},MostlyCloudy:function(){return $b},Mouse:function(){return Qb},Mug:function(){return iw},Mute:function(){return bw},MuteNotification:function(){return hw},NoSmoking:function(){return kw},Notebook:function(){return Rw},Notification:function(){return Fw},Odometer:function(){return qw},OfficeBuilding:function(){return t_},Open:function(){return l_},Operation:function(){return p_},Opportunity:function(){return w_},Orange:function(){return E_},Paperclip:function(){return R_},PartlyCloudy:function(){return F_},Pear:function(){return Z_},Phone:function(){return ox},PhoneFilled:function(){return J_},Picture:function(){return Cx},PictureFilled:function(){return cx},PictureRounded:function(){return gx},PieChart:function(){return Dx},Place:function(){return Hx},Platform:function(){return Wx},Plus:function(){return Yx},Pointer:function(){return nC},Position:function(){return lC},Postcard:function(){return fC},Pouring:function(){return _C},Present:function(){return DC},PriceTag:function(){return LC},Printer:function(){return jC},Promotion:function(){return KC},QuartzWatch:function(){return oS},QuestionFilled:function(){return cS},Rank:function(){return fS},Reading:function(){return OS},ReadingLamp:function(){return xS},Refresh:function(){return qS},RefreshLeft:function(){return zS},RefreshRight:function(){return US},Refrigerator:function(){return QS},Remove:function(){return hk},RemoveFilled:function(){return ik},Right:function(){return yk},ScaleToOriginal:function(){return Sk},School:function(){return Rk},Scissor:function(){return Hk},Search:function(){return Wk},Select:function(){return Yk},Sell:function(){return nE},SemiSelect:function(){return lE},Service:function(){return pE},SetUp:function(){return CE},Setting:function(){return OE},Share:function(){return zE},Ship:function(){return UE},Shop:function(){return qE},ShoppingBag:function(){return eT},ShoppingCart:function(){return mT},ShoppingCartFull:function(){return sT},ShoppingTrolley:function(){return bT},Smoking:function(){return ET},Soccer:function(){return RT},SoldOut:function(){return HT},Sort:function(){return nM},SortDown:function(){return WT},SortUp:function(){return YT},Stamp:function(){return lM},Star:function(){return wM},StarFilled:function(){return pM},Stopwatch:function(){return TM},SuccessFilled:function(){return PM},Sugar:function(){return FM},Suitcase:function(){return XM},SuitcaseLine:function(){return ZM},Sunny:function(){return rO},Sunrise:function(){return uO},Sunset:function(){return gO},Switch:function(){return NO},SwitchButton:function(){return CO},SwitchFilled:function(){return DO},TakeawayBox:function(){return VO},Ticket:function(){return GO},Tickets:function(){return eD},Timer:function(){return lD},ToiletPaper:function(){return fD},Tools:function(){return _D},Top:function(){return UD},TopLeft:function(){return MD},TopRight:function(){return zD},TrendCharts:function(){return qD},Trophy:function(){return iA},TrophyBase:function(){return QD},TurnOff:function(){return hA},Umbrella:function(){return yA},Unlock:function(){return kA},Upload:function(){return LA},UploadFilled:function(){return AA},User:function(){return KA},UserFilled:function(){return jA},Van:function(){return tR},VideoCamera:function(){return mR},VideoCameraFilled:function(){return sR},VideoPause:function(){return bR},VideoPlay:function(){return kR},View:function(){return AR},Wallet:function(){return ZR},WalletFilled:function(){return LR},WarnTriangleFilled:function(){return JR},Warning:function(){return cP},WarningFilled:function(){return oP},Watch:function(){return vP},Watermelon:function(){return CP},WindPower:function(){return OP},ZoomIn:function(){return zP},ZoomOut:function(){return UP}});var o=n(3396),r={name:"AddLocation"},i=(e,t)=>{let n=e.__vccOpts||e;for(let[o,r]of t)n[o]=r;return n},a={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},s=(0,o._)("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),l=(0,o._)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),c=(0,o._)("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"},null,-1),u=[s,l,c];
/*! Element Plus Icons Vue v2.1.0 */function d(e,t,n,r,i,s){return(0,o.wg)(),(0,o.iD)("svg",a,u)}var h=i(r,[["render",d],["__file","add-location.vue"]]),m={name:"Aim"},p={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},f=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),g=(0,o._)("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),v=[f,g];function y(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",p,v)}var b=i(m,[["render",y],["__file","aim.vue"]]),w={name:"AlarmClock"},_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},x=(0,o._)("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),C=(0,o._)("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32l48-83.136zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32l-48-83.136zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0v192zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128l46.912 46.912z"},null,-1),S=[x,C];function k(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_,S)}var E=i(w,[["render",k],["__file","alarm-clock.vue"]]),T={name:"Apple"},M={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},O=(0,o._)("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"},null,-1),D=[O];function A(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",M,D)}var R=i(T,[["render",A],["__file","apple.vue"]]),P={name:"ArrowDownBold"},I={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},z=(0,o._)("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"},null,-1),N=[z];function L(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",I,N)}var H=i(P,[["render",L],["__file","arrow-down-bold.vue"]]),F={name:"ArrowDown"},B={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},U=(0,o._)("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),V=[U];function j(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",B,V)}var W=i(F,[["render",j],["__file","arrow-down.vue"]]),Z={name:"ArrowLeftBold"},$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},q=(0,o._)("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),G=[q];function K(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$,G)}var Y=i(Z,[["render",K],["__file","arrow-left-bold.vue"]]),J={name:"ArrowLeft"},X={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Q=(0,o._)("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),ee=[Q];function te(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",X,ee)}var ne=i(J,[["render",te],["__file","arrow-left.vue"]]),oe={name:"ArrowRightBold"},re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ie=(0,o._)("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),ae=[ie];function se(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",re,ae)}var le=i(oe,[["render",se],["__file","arrow-right-bold.vue"]]),ce={name:"ArrowRight"},ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},de=(0,o._)("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),he=[de];function me(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ue,he)}var pe=i(ce,[["render",me],["__file","arrow-right.vue"]]),fe={name:"ArrowUpBold"},ge={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ve=(0,o._)("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"},null,-1),ye=[ve];function be(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ge,ye)}var we=i(fe,[["render",be],["__file","arrow-up-bold.vue"]]),_e={name:"ArrowUp"},xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ce=(0,o._)("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),Se=[Ce];function ke(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xe,Se)}var Ee=i(_e,[["render",ke],["__file","arrow-up.vue"]]),Te={name:"Avatar"},Me={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oe=(0,o._)("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z"},null,-1),De=[Oe];function Ae(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Me,De)}var Re=i(Te,[["render",Ae],["__file","avatar.vue"]]),Pe={name:"Back"},Ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ze=(0,o._)("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),Ne=(0,o._)("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),Le=[ze,Ne];function He(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ie,Le)}var Fe=i(Pe,[["render",He],["__file","back.vue"]]),Be={name:"Baseball"},Ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ve=(0,o._)("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104z"},null,-1),je=(0,o._)("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"},null,-1),We=[Ve,je];function Ze(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ue,We)}var $e=i(Be,[["render",Ze],["__file","baseball.vue"]]),qe={name:"Basketball"},Ge={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ke=(0,o._)("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336zm-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8zm106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6z"},null,-1),Ye=[Ke];function Je(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ge,Ye)}var Xe=i(qe,[["render",Je],["__file","basketball.vue"]]),Qe={name:"BellFilled"},et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tt=(0,o._)("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0h256zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8H832z"},null,-1),nt=[tt];function ot(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",et,nt)}var rt=i(Qe,[["render",ot],["__file","bell-filled.vue"]]),it={name:"Bell"},at={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},st=(0,o._)("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"},null,-1),lt=(0,o._)("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"},null,-1),ct=(0,o._)("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"},null,-1),ut=[st,lt,ct];function dt(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",at,ut)}var ht=i(it,[["render",dt],["__file","bell.vue"]]),mt={name:"Bicycle"},pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ft=(0,o.uE)('<path fill="currentColor" d="M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"></path><path fill="currentColor" d="M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192H480zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384H96z"></path><path fill="currentColor" d="m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"></path>',5),gt=[ft];function vt(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pt,gt)}var yt=i(mt,[["render",vt],["__file","bicycle.vue"]]),bt={name:"BottomLeft"},wt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_t=(0,o._)("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0v416z"},null,-1),xt=(0,o._)("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"},null,-1),Ct=[_t,xt];function St(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wt,Ct)}var kt=i(bt,[["render",St],["__file","bottom-left.vue"]]),Et={name:"BottomRight"},Tt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mt=(0,o._)("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416H352z"},null,-1),Ot=(0,o._)("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312l544 544z"},null,-1),Dt=[Mt,Ot];function At(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Tt,Dt)}var Rt=i(Et,[["render",At],["__file","bottom-right.vue"]]),Pt={name:"Bottom"},It={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zt=(0,o._)("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"},null,-1),Nt=[zt];function Lt(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",It,Nt)}var Ht=i(Pt,[["render",Lt],["__file","bottom.vue"]]),Ft={name:"Bowl"},Bt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ut=(0,o._)("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256h404.864zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64v-65.408zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248L493.248 320zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424L680.576 320zM352 768v64h320v-64H352z"},null,-1),Vt=[Ut];function jt(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bt,Vt)}var Wt=i(Ft,[["render",jt],["__file","bowl.vue"]]),Zt={name:"Box"},$t={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qt=(0,o._)("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128H317.056zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"},null,-1),Gt=(0,o._)("path",{fill:"currentColor",d:"M64 320h896v64H64z"},null,-1),Kt=(0,o._)("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16L448 327.872zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320l64-256z"},null,-1),Yt=[qt,Gt,Kt];function Jt(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$t,Yt)}var Xt=i(Zt,[["render",Jt],["__file","box.vue"]]),Qt={name:"Briefcase"},en={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tn=(0,o._)("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320h192zM128 576h768v320H128V576zm256-256h256.064V192H384v128z"},null,-1),nn=[tn];function on(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",en,nn)}var rn=i(Qt,[["render",on],["__file","briefcase.vue"]]),an={name:"BrushFilled"},sn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ln=(0,o._)("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128h-96zM192 512V128.064h640V512H192z"},null,-1),cn=[ln];function un(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",sn,cn)}var dn=i(an,[["render",un],["__file","brush-filled.vue"]]),hn={name:"Brush"},mn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pn=(0,o._)("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64V448zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"},null,-1),fn=[pn];function gn(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",mn,fn)}var vn=i(hn,[["render",gn],["__file","brush.vue"]]),yn={name:"Burger"},bn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wn=(0,o._)("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H160zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44zM832 448a320 320 0 0 0-640 0h640zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704H512z"},null,-1),_n=[wn];function xn(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",bn,_n)}var Cn=i(yn,[["render",xn],["__file","burger.vue"]]),Sn={name:"Calendar"},kn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},En=(0,o._)("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),Tn=[En];function Mn(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kn,Tn)}var On=i(Sn,[["render",Mn],["__file","calendar.vue"]]),Dn={name:"CameraFilled"},An={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Rn=(0,o._)("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224H160zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4zm0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),Pn=[Rn];function In(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",An,Pn)}var zn=i(Dn,[["render",In],["__file","camera-filled.vue"]]),Nn={name:"Camera"},Ln={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Hn=(0,o._)("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1),Fn=[Hn];function Bn(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ln,Fn)}var Un=i(Nn,[["render",Bn],["__file","camera.vue"]]),Vn={name:"CaretBottom"},jn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wn=(0,o._)("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1),Zn=[Wn];function $n(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",jn,Zn)}var qn=i(Vn,[["render",$n],["__file","caret-bottom.vue"]]),Gn={name:"CaretLeft"},Kn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yn=(0,o._)("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"},null,-1),Jn=[Yn];function Xn(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Kn,Jn)}var Qn=i(Gn,[["render",Xn],["__file","caret-left.vue"]]),eo={name:"CaretRight"},to={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},no=(0,o._)("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),oo=[no];function ro(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",to,oo)}var io=i(eo,[["render",ro],["__file","caret-right.vue"]]),ao={name:"CaretTop"},so={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lo=(0,o._)("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),co=[lo];function uo(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",so,co)}var ho=i(ao,[["render",uo],["__file","caret-top.vue"]]),mo={name:"Cellphone"},po={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fo=(0,o._)("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H256zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64zm128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64zm128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),go=[fo];function vo(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",po,go)}var yo=i(mo,[["render",vo],["__file","cellphone.vue"]]),bo={name:"ChatDotRound"},wo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_o=(0,o._)("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),xo=(0,o._)("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),Co=[_o,xo];function So(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wo,Co)}var ko=i(bo,[["render",So],["__file","chat-dot-round.vue"]]),Eo={name:"ChatDotSquare"},To={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mo=(0,o._)("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),Oo=(0,o._)("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),Do=[Mo,Oo];function Ao(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",To,Do)}var Ro=i(Eo,[["render",Ao],["__file","chat-dot-square.vue"]]),Po={name:"ChatLineRound"},Io={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zo=(0,o._)("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),No=(0,o._)("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),Lo=[zo,No];function Ho(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Io,Lo)}var Fo=i(Po,[["render",Ho],["__file","chat-line-round.vue"]]),Bo={name:"ChatLineSquare"},Uo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vo=(0,o._)("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),jo=(0,o._)("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),Wo=[Vo,jo];function Zo(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Uo,Wo)}var $o=i(Bo,[["render",Zo],["__file","chat-line-square.vue"]]),qo={name:"ChatRound"},Go={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ko=(0,o._)("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"},null,-1),Yo=[Ko];function Jo(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Go,Yo)}var Xo=i(qo,[["render",Jo],["__file","chat-round.vue"]]),Qo={name:"ChatSquare"},er={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tr=(0,o._)("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),nr=[tr];function or(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",er,nr)}var rr=i(Qo,[["render",or],["__file","chat-square.vue"]]),ir={name:"Check"},ar={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sr=(0,o._)("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),lr=[sr];function cr(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ar,lr)}var ur=i(ir,[["render",cr],["__file","check.vue"]]),dr={name:"Checked"},hr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mr=(0,o._)("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704v-64zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024 311.616 537.28zM384 192V96h256v96H384z"},null,-1),pr=[mr];function fr(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",hr,pr)}var gr=i(dr,[["render",fr],["__file","checked.vue"]]),vr={name:"Cherry"},yr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},br=(0,o._)("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320z"},null,-1),wr=[br];function _r(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",yr,wr)}var xr=i(vr,[["render",_r],["__file","cherry.vue"]]),Cr={name:"Chicken"},Sr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kr=(0,o._)("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84zM244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52 3.52-56.32zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"},null,-1),Er=[kr];function Tr(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Sr,Er)}var Mr=i(Cr,[["render",Tr],["__file","chicken.vue"]]),Or={name:"ChromeFilled"},Dr={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Ar=(0,o._)("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"},null,-1),Rr=(0,o._)("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91z"},null,-1),Pr=(0,o._)("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21zm117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"},null,-1),Ir=[Ar,Rr,Pr];function zr(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Dr,Ir)}var Nr=i(Or,[["render",zr],["__file","chrome-filled.vue"]]),Lr={name:"CircleCheckFilled"},Hr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fr=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),Br=[Fr];function Ur(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Hr,Br)}var Vr=i(Lr,[["render",Ur],["__file","circle-check-filled.vue"]]),jr={name:"CircleCheck"},Wr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zr=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),$r=(0,o._)("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),qr=[Zr,$r];function Gr(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Wr,qr)}var Kr=i(jr,[["render",Gr],["__file","circle-check.vue"]]),Yr={name:"CircleCloseFilled"},Jr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xr=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),Qr=[Xr];function ei(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Jr,Qr)}var ti=i(Yr,[["render",ei],["__file","circle-close-filled.vue"]]),ni={name:"CircleClose"},oi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ri=(0,o._)("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),ii=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),ai=[ri,ii];function si(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",oi,ai)}var li=i(ni,[["render",si],["__file","circle-close.vue"]]),ci={name:"CirclePlusFilled"},ui={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},di=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"},null,-1),hi=[di];function mi(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ui,hi)}var pi=i(ci,[["render",mi],["__file","circle-plus-filled.vue"]]),fi={name:"CirclePlus"},gi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vi=(0,o._)("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),yi=(0,o._)("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"},null,-1),bi=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),wi=[vi,yi,bi];function _i(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",gi,wi)}var xi=i(fi,[["render",_i],["__file","circle-plus.vue"]]),Ci={name:"Clock"},Si={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ki=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Ei=(0,o._)("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),Ti=(0,o._)("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),Mi=[ki,Ei,Ti];function Oi(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Si,Mi)}var Di=i(Ci,[["render",Oi],["__file","clock.vue"]]),Ai={name:"CloseBold"},Ri={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Pi=(0,o._)("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"},null,-1),Ii=[Pi];function zi(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ri,Ii)}var Ni=i(Ai,[["render",zi],["__file","close-bold.vue"]]),Li={name:"Close"},Hi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fi=(0,o._)("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Bi=[Fi];function Ui(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Hi,Bi)}var Vi=i(Li,[["render",Ui],["__file","close.vue"]]),ji={name:"Cloudy"},Wi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zi=(0,o._)("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),$i=[Zi];function qi(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Wi,$i)}var Gi=i(ji,[["render",qi],["__file","cloudy.vue"]]),Ki={name:"CoffeeCup"},Yi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ji=(0,o._)("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v32zm0 64v256a128 128 0 1 0 0-256zM96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192H128z"},null,-1),Xi=[Ji];function Qi(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Yi,Xi)}var ea=i(Ki,[["render",Qi],["__file","coffee-cup.vue"]]),ta={name:"Coffee"},na={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oa=(0,o._)("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304L822.592 192zm-64.128 0 4.544-64H260.736l4.544 64h493.184zm-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784zm68.736 64 36.544 512H708.16l36.544-512H279.04z"},null,-1),ra=[oa];function ia(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",na,ra)}var aa=i(ta,[["render",ia],["__file","coffee.vue"]]),sa={name:"Coin"},la={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ca=(0,o._)("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),ua=(0,o._)("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),da=(0,o._)("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1),ha=[ca,ua,da];function ma(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",la,ha)}var pa=i(sa,[["render",ma],["__file","coin.vue"]]),fa={name:"ColdDrink"},ga={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},va=(0,o._)("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928H299.008z"},null,-1),ya=[va];function ba(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ga,ya)}var wa=i(fa,[["render",ba],["__file","cold-drink.vue"]]),_a={name:"CollectionTag"},xa={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ca=(0,o._)("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128H256zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32z"},null,-1),Sa=[Ca];function ka(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xa,Sa)}var Ea=i(_a,[["render",ka],["__file","collection-tag.vue"]]),Ta={name:"Collection"},Ma={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oa=(0,o._)("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64v544zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64z"},null,-1),Da=(0,o._)("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96H240zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224zm144-608v250.88l96-76.8 96 76.8V128H384zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44V64z"},null,-1),Aa=[Oa,Da];function Ra(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ma,Aa)}var Pa=i(Ta,[["render",Ra],["__file","collection.vue"]]),Ia={name:"Comment"},za={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Na=(0,o._)("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zM128 128v640h192v160l224-160h352V128H128z"},null,-1),La=[Na];function Ha(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",za,La)}var Fa=i(Ia,[["render",Ha],["__file","comment.vue"]]),Ba={name:"Compass"},Ua={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Va=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),ja=(0,o._)("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"},null,-1),Wa=[Va,ja];function Za(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ua,Wa)}var $a=i(Ba,[["render",Za],["__file","compass.vue"]]),qa={name:"Connection"},Ga={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ka=(0,o._)("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),Ya=(0,o._)("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1),Ja=[Ka,Ya];function Xa(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ga,Ja)}var Qa=i(qa,[["render",Xa],["__file","connection.vue"]]),es={name:"Coordinate"},ts={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ns=(0,o._)("path",{fill:"currentColor",d:"M480 512h64v320h-64z"},null,-1),os=(0,o._)("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),rs=[ns,os];function is(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ts,rs)}var as=i(es,[["render",is],["__file","coordinate.vue"]]),ss={name:"CopyDocument"},ls={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cs=(0,o._)("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"},null,-1),us=(0,o._)("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"},null,-1),ds=[cs,us];function hs(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ls,ds)}var ms=i(ss,[["render",hs],["__file","copy-document.vue"]]),ps={name:"Cpu"},fs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gs=(0,o._)("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H320zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128z"},null,-1),vs=(0,o._)("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zM64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32z"},null,-1),ys=[gs,vs];function bs(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",fs,ys)}var ws=i(ps,[["render",bs],["__file","cpu.vue"]]),_s={name:"CreditCard"},xs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cs=(0,o._)("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416V324.096zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"},null,-1),Ss=(0,o._)("path",{fill:"currentColor",d:"M64 320h896v64H64v-64zm0 128h896v64H64v-64zm128 192h256v64H192z"},null,-1),ks=[Cs,Ss];function Es(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xs,ks)}var Ts=i(_s,[["render",Es],["__file","credit-card.vue"]]),Ms={name:"Crop"},Os={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ds=(0,o._)("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0v672z"},null,-1),As=(0,o._)("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32z"},null,-1),Rs=[Ds,As];function Ps(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Os,Rs)}var Is=i(Ms,[["render",Ps],["__file","crop.vue"]]),zs={name:"DArrowLeft"},Ns={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ls=(0,o._)("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),Hs=[Ls];function Fs(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ns,Hs)}var Bs=i(zs,[["render",Fs],["__file","d-arrow-left.vue"]]),Us={name:"DArrowRight"},Vs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},js=(0,o._)("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),Ws=[js];function Zs(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Vs,Ws)}var $s=i(Us,[["render",Zs],["__file","d-arrow-right.vue"]]),qs={name:"DCaret"},Gs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ks=(0,o._)("path",{fill:"currentColor",d:"m512 128 288 320H224l288-320zM224 576h576L512 896 224 576z"},null,-1),Ys=[Ks];function Js(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Gs,Ys)}var Xs=i(qs,[["render",Js],["__file","d-caret.vue"]]),Qs={name:"DataAnalysis"},el={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tl=(0,o._)("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216zM832 192H192v512h640V192zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32z"},null,-1),nl=[tl];function ol(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",el,nl)}var rl=i(Qs,[["render",ol],["__file","data-analysis.vue"]]),il={name:"DataBoard"},al={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sl=(0,o._)("path",{fill:"currentColor",d:"M32 128h960v64H32z"},null,-1),ll=(0,o._)("path",{fill:"currentColor",d:"M192 192v512h640V192H192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V128z"},null,-1),cl=(0,o._)("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32L322.176 960zm453.888 0h-73.856L576 741.44l55.424-32L776.064 960z"},null,-1),ul=[sl,ll,cl];function dl(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",al,ul)}var hl=i(il,[["render",dl],["__file","data-board.vue"]]),ml={name:"DataLine"},pl={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fl=(0,o._)("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192zM832 192H192v512h640V192zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"},null,-1),gl=[fl];function vl(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pl,gl)}var yl=i(ml,[["render",vl],["__file","data-line.vue"]]),bl={name:"DeleteFilled"},wl={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_l=(0,o._)("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"},null,-1),xl=[_l];function Cl(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wl,xl)}var Sl=i(bl,[["render",Cl],["__file","delete-filled.vue"]]),kl={name:"DeleteLocation"},El={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tl=(0,o._)("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),Ml=(0,o._)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Ol=(0,o._)("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),Dl=[Tl,Ml,Ol];function Al(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",El,Dl)}var Rl=i(kl,[["render",Al],["__file","delete-location.vue"]]),Pl={name:"Delete"},Il={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zl=(0,o._)("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),Nl=[zl];function Ll(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Il,Nl)}var Hl=i(Pl,[["render",Ll],["__file","delete.vue"]]),Fl={name:"Dessert"},Bl={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ul=(0,o._)("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416zm287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48zm339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736zM384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64z"},null,-1),Vl=[Ul];function jl(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bl,Vl)}var Wl=i(Fl,[["render",jl],["__file","dessert.vue"]]),Zl={name:"Discount"},$l={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ql=(0,o._)("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336V704zm0 64v128h576V768H224zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),Gl=(0,o._)("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),Kl=[ql,Gl];function Yl(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$l,Kl)}var Jl=i(Zl,[["render",Yl],["__file","discount.vue"]]),Xl={name:"DishDot"},Ql={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ec=(0,o._)("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-128h768a384 384 0 1 0-768 0zm447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256h127.68z"},null,-1),tc=[ec];function nc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ql,tc)}var oc=i(Xl,[["render",nc],["__file","dish-dot.vue"]]),rc={name:"Dish"},ic={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ac=(0,o._)("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152zM128 704h768a384 384 0 1 0-768 0zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64z"},null,-1),sc=[ac];function lc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ic,sc)}var cc=i(rc,[["render",lc],["__file","dish.vue"]]),uc={name:"DocumentAdd"},dc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hc=(0,o._)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),mc=[hc];function pc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",dc,mc)}var fc=i(uc,[["render",pc],["__file","document-add.vue"]]),gc={name:"DocumentChecked"},vc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yc=(0,o._)("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312L478.4 646.144z"},null,-1),bc=[yc];function wc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vc,bc)}var _c=i(gc,[["render",wc],["__file","document-checked.vue"]]),xc={name:"DocumentCopy"},Cc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Sc=(0,o._)("path",{fill:"currentColor",d:"M128 320v576h576V320H128zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zM960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32zM256 672h320v64H256v-64zm0-192h320v64H256v-64z"},null,-1),kc=[Sc];function Ec(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Cc,kc)}var Tc=i(xc,[["render",Ec],["__file","document-copy.vue"]]),Mc={name:"DocumentDelete"},Oc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Dc=(0,o._)("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"},null,-1),Ac=[Dc];function Rc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Oc,Ac)}var Pc=i(Mc,[["render",Rc],["__file","document-delete.vue"]]),Ic={name:"DocumentRemove"},zc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Nc=(0,o._)("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm192 512h320v64H352v-64z"},null,-1),Lc=[Nc];function Hc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",zc,Lc)}var Fc=i(Ic,[["render",Hc],["__file","document-remove.vue"]]),Bc={name:"Document"},Uc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vc=(0,o._)("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),jc=[Vc];function Wc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Uc,jc)}var Zc=i(Bc,[["render",Wc],["__file","document.vue"]]),$c={name:"Download"},qc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gc=(0,o._)("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),Kc=[Gc];function Yc(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",qc,Kc)}var Jc=i($c,[["render",Yc],["__file","download.vue"]]),Xc={name:"Drizzling"},Qc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eu=(0,o._)("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM288 800h64v64h-64v-64zm192 0h64v64h-64v-64zm-96 96h64v64h-64v-64zm192 0h64v64h-64v-64zm96-96h64v64h-64v-64z"},null,-1),tu=[eu];function nu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Qc,tu)}var ou=i(Xc,[["render",nu],["__file","drizzling.vue"]]),ru={name:"EditPen"},iu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},au=(0,o._)("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z"},null,-1),su=[au];function lu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",iu,su)}var cu=i(ru,[["render",lu],["__file","edit-pen.vue"]]),uu={name:"Edit"},du={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hu=(0,o._)("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),mu=(0,o._)("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),pu=[hu,mu];function fu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",du,pu)}var gu=i(uu,[["render",fu],["__file","edit.vue"]]),vu={name:"ElemeFilled"},yu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bu=(0,o._)("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112zm150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"},null,-1),wu=[bu];function _u(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",yu,wu)}var xu=i(vu,[["render",_u],["__file","eleme-filled.vue"]]),Cu={name:"Eleme"},Su={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ku=(0,o._)("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"},null,-1),Eu=[ku];function Tu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Su,Eu)}var Mu=i(Cu,[["render",Tu],["__file","eleme.vue"]]),Ou={name:"ElementPlus"},Du={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Au=(0,o._)("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8zM714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"},null,-1),Ru=[Au];function Pu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Du,Ru)}var Iu=i(Ou,[["render",Pu],["__file","element-plus.vue"]]),zu={name:"Expand"},Nu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lu=(0,o._)("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352 192 160-192 128V352z"},null,-1),Hu=[Lu];function Fu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Nu,Hu)}var Bu=i(zu,[["render",Fu],["__file","expand.vue"]]),Uu={name:"Failed"},Vu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ju=(0,o._)("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384v-64zm-320 0V96h256v96H384z"},null,-1),Wu=[ju];function Zu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Vu,Wu)}var $u=i(Uu,[["render",Zu],["__file","failed.vue"]]),qu={name:"Female"},Gu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ku=(0,o._)("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),Yu=(0,o._)("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32z"},null,-1),Ju=(0,o._)("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),Xu=[Ku,Yu,Ju];function Qu(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Gu,Xu)}var ed=i(qu,[["render",Qu],["__file","female.vue"]]),td={name:"Files"},nd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},od=(0,o._)("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),rd=[od];function id(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",nd,rd)}var ad=i(td,[["render",id],["__file","files.vue"]]),sd={name:"Film"},ld={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cd=(0,o._)("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),ud=(0,o._)("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64h192z"},null,-1),dd=[cd,ud];function hd(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ld,dd)}var md=i(sd,[["render",hd],["__file","film.vue"]]),pd={name:"Filter"},fd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gd=(0,o._)("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288L384 523.392z"},null,-1),vd=[gd];function yd(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",fd,vd)}var bd=i(pd,[["render",yd],["__file","filter.vue"]]),wd={name:"Finished"},_d={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xd=(0,o._)("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64H736zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64H608zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64H480z"},null,-1),Cd=[xd];function Sd(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_d,Cd)}var kd=i(wd,[["render",Sd],["__file","finished.vue"]]),Ed={name:"FirstAidKit"},Td={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Md=(0,o._)("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H192zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),Od=(0,o._)("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96zM352 128v64h320v-64H352zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Dd=[Md,Od];function Ad(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Td,Dd)}var Rd=i(Ed,[["render",Ad],["__file","first-aid-kit.vue"]]),Pd={name:"Flag"},Id={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zd=(0,o._)("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96v64z"},null,-1),Nd=[zd];function Ld(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Id,Nd)}var Hd=i(Pd,[["render",Ld],["__file","flag.vue"]]),Fd={name:"Fold"},Bd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ud=(0,o._)("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384 128 512l192 128V384z"},null,-1),Vd=[Ud];function jd(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bd,Vd)}var Wd=i(Fd,[["render",jd],["__file","fold.vue"]]),Zd={name:"FolderAdd"},$d={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qd=(0,o._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),Gd=[qd];function Kd(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$d,Gd)}var Yd=i(Zd,[["render",Kd],["__file","folder-add.vue"]]),Jd={name:"FolderChecked"},Xd={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qd=(0,o._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312L510.08 630.144z"},null,-1),eh=[Qd];function th(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Xd,eh)}var nh=i(Jd,[["render",th],["__file","folder-checked.vue"]]),oh={name:"FolderDelete"},rh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ih=(0,o._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248L466.752 576z"},null,-1),ah=[ih];function sh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",rh,ah)}var lh=i(oh,[["render",sh],["__file","folder-delete.vue"]]),ch={name:"FolderOpened"},uh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dh=(0,o._)("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),hh=[dh];function mh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",uh,hh)}var ph=i(ch,[["render",mh],["__file","folder-opened.vue"]]),fh={name:"FolderRemove"},gh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vh=(0,o._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm256 416h320v64H352v-64z"},null,-1),yh=[vh];function bh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",gh,yh)}var wh=i(fh,[["render",bh],["__file","folder-remove.vue"]]),_h={name:"Folder"},xh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ch=(0,o._)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),Sh=[Ch];function kh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xh,Sh)}var Eh=i(_h,[["render",kh],["__file","folder.vue"]]),Th={name:"Food"},Mh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oh=(0,o._)("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z"},null,-1),Dh=[Oh];function Ah(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Mh,Dh)}var Rh=i(Th,[["render",Ah],["__file","food.vue"]]),Ph={name:"Football"},Ih={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zh=(0,o._)("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768z"},null,-1),Nh=(0,o._)("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0zm-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0l-11.136-63.104zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"},null,-1),Lh=[zh,Nh];function Hh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ih,Lh)}var Fh=i(Ph,[["render",Hh],["__file","football.vue"]]),Bh={name:"ForkSpoon"},Uh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vh=(0,o._)("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0V572.48zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192z"},null,-1),jh=[Vh];function Wh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Uh,jh)}var Zh=i(Bh,[["render",Wh],["__file","fork-spoon.vue"]]),$h={name:"Fries"},qh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gh=(0,o._)("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096V224zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160h37.12zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160h-16zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512h-1.216zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480V288zm-128 96V224a32 32 0 0 0-64 0v160h64-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704H253.12z"},null,-1),Kh=[Gh];function Yh(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",qh,Kh)}var Jh=i($h,[["render",Yh],["__file","fries.vue"]]),Xh={name:"FullScreen"},Qh={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},em=(0,o._)("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),tm=[em];function nm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Qh,tm)}var om=i(Xh,[["render",nm],["__file","full-screen.vue"]]),rm={name:"GobletFull"},im={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},am=(0,o._)("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320zm503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4z"},null,-1),sm=[am];function lm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",im,sm)}var cm=i(rm,[["render",lm],["__file","goblet-full.vue"]]),um={name:"GobletSquareFull"},dm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hm=(0,o._)("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848z"},null,-1),mm=[hm];function pm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",dm,mm)}var fm=i(um,[["render",pm],["__file","goblet-square-full.vue"]]),gm={name:"GobletSquare"},vm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ym=(0,o._)("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912zM256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256v191.68z"},null,-1),bm=[ym];function wm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vm,bm)}var _m=i(gm,[["render",wm],["__file","goblet-square.vue"]]),xm={name:"Goblet"},Cm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Sm=(0,o._)("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4zM256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320z"},null,-1),km=[Sm];function Em(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Cm,km)}var Tm=i(xm,[["render",Em],["__file","goblet.vue"]]),Mm={name:"GoldMedal"},Om={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Dm=(0,o._)("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128h128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128H384zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"},null,-1),Am=(0,o._)("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"},null,-1),Rm=[Dm,Am];function Pm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Om,Rm)}var Im=i(Mm,[["render",Pm],["__file","gold-medal.vue"]]),zm={name:"GoodsFilled"},Nm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lm=(0,o._)("path",{fill:"currentColor",d:"M192 352h640l64 544H128l64-544zm128 224h64V448h-64v128zm320 0h64V448h-64v128zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0z"},null,-1),Hm=[Lm];function Fm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Nm,Hm)}var Bm=i(zm,[["render",Fm],["__file","goods-filled.vue"]]),Um={name:"Goods"},Vm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jm=(0,o._)("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96z"},null,-1),Wm=[jm];function Zm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Vm,Wm)}var $m=i(Um,[["render",Zm],["__file","goods.vue"]]),qm={name:"Grape"},Gm={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Km=(0,o._)("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64v67.2zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),Ym=[Km];function Jm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Gm,Ym)}var Xm=i(qm,[["render",Jm],["__file","grape.vue"]]),Qm={name:"Grid"},ep={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tp=(0,o._)("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),np=[tp];function op(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ep,np)}var rp=i(Qm,[["render",op],["__file","grid.vue"]]),ip={name:"Guide"},ap={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sp=(0,o._)("path",{fill:"currentColor",d:"M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"},null,-1),lp=(0,o._)("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"},null,-1),cp=[sp,lp];function up(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ap,cp)}var dp=i(ip,[["render",up],["__file","guide.vue"]]),hp={name:"Handbag"},mp={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},pp=(0,o._)("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01zM421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5zM832 896H192V320h128v128h64V320h256v128h64V320h128v576z"},null,-1),fp=[pp];function gp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",mp,fp)}var vp=i(hp,[["render",gp],["__file","handbag.vue"]]),yp={name:"Headset"},bp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wp=(0,o._)("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848zM896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0V640zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0z"},null,-1),_p=[wp];function xp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",bp,_p)}var Cp=i(yp,[["render",xp],["__file","headset.vue"]]),Sp={name:"HelpFilled"},kp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ep=(0,o._)("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480zm0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544h225.472zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"},null,-1),Tp=[Ep];function Mp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kp,Tp)}var Op=i(Sp,[["render",Mp],["__file","help-filled.vue"]]),Dp={name:"Help"},Ap={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Rp=(0,o._)("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752zm45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992l-91.008-90.944zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Pp=[Rp];function Ip(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ap,Pp)}var zp=i(Dp,[["render",Ip],["__file","help.vue"]]),Np={name:"Hide"},Lp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Hp=(0,o._)("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),Fp=(0,o._)("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),Bp=[Hp,Fp];function Up(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Lp,Bp)}var Vp=i(Np,[["render",Up],["__file","hide.vue"]]),jp={name:"Histogram"},Wp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zp=(0,o._)("path",{fill:"currentColor",d:"M416 896V128h192v768H416zm-288 0V448h192v448H128zm576 0V320h192v576H704z"},null,-1),$p=[Zp];function qp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Wp,$p)}var Gp=i(jp,[["render",qp],["__file","histogram.vue"]]),Kp={name:"HomeFilled"},Yp={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jp=(0,o._)("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,-1),Xp=[Jp];function Qp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Yp,Xp)}var ef=i(Kp,[["render",Qp],["__file","home-filled.vue"]]),tf={name:"HotWater"},nf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},of=(0,o._)("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1),rf=[of];function af(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",nf,rf)}var sf=i(tf,[["render",af],["__file","hot-water.vue"]]),lf={name:"House"},cf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uf=(0,o._)("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328 192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1),df=[uf];function hf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",cf,df)}var mf=i(lf,[["render",hf],["__file","house.vue"]]),pf={name:"IceCreamRound"},ff={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gf=(0,o._)("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248L398.848 670.4zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"},null,-1),vf=[gf];function yf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ff,vf)}var bf=i(pf,[["render",yf],["__file","ice-cream-round.vue"]]),wf={name:"IceCreamSquare"},_f={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xf=(0,o._)("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32h64zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96h-64zm-64 0h-64v160a32 32 0 1 0 64 0V704z"},null,-1),Cf=[xf];function Sf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_f,Cf)}var kf=i(wf,[["render",Sf],["__file","ice-cream-square.vue"]]),Ef={name:"IceCream"},Tf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mf=(0,o._)("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448h.64zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56z"},null,-1),Of=[Mf];function Df(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Tf,Of)}var Af=i(Ef,[["render",Df],["__file","ice-cream.vue"]]),Rf={name:"IceDrink"},Pf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},If=(0,o._)("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128H512zm-64 0H256.256l16.064 128H448V448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64zm-64 8.064A256.448 256.448 0 0 0 264.256 384H448V200.704zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32v32.64zM743.68 640H280.32l32.128 256h399.104l32.128-256z"},null,-1),zf=[If];function Nf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Pf,zf)}var Lf=i(Rf,[["render",Nf],["__file","ice-drink.vue"]]),Hf={name:"IceTea"},Ff={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Bf=(0,o._)("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352zM264.064 256h495.872a256.128 256.128 0 0 0-495.872 0zm495.424 256H264.512l48 384h398.976l48-384zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32zm160 192h64v64h-64v-64zm192 64h64v64h-64v-64zm-128 64h64v64h-64v-64zm64-192h64v64h-64v-64z"},null,-1),Uf=[Bf];function Vf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ff,Uf)}var jf=i(Hf,[["render",Vf],["__file","ice-tea.vue"]]),Wf={name:"InfoFilled"},Zf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$f=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),qf=[$f];function Gf(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Zf,qf)}var Kf=i(Wf,[["render",Gf],["__file","info-filled.vue"]]),Yf={name:"Iphone"},Jf={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xf=(0,o._)("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0z"},null,-1),Qf=[Xf];function eg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Jf,Qf)}var tg=i(Yf,[["render",eg],["__file","iphone.vue"]]),ng={name:"Key"},og={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rg=(0,o._)("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064zM512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384z"},null,-1),ig=[rg];function ag(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",og,ig)}var sg=i(ng,[["render",ag],["__file","key.vue"]]),lg={name:"KnifeFork"},cg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ug=(0,o._)("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56zm384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288H640z"},null,-1),dg=[ug];function hg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",cg,dg)}var mg=i(lg,[["render",hg],["__file","knife-fork.vue"]]),pg={name:"Lightning"},fg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gg=(0,o._)("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"},null,-1),vg=(0,o._)("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736H416z"},null,-1),yg=[gg,vg];function bg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",fg,yg)}var wg=i(pg,[["render",bg],["__file","lightning.vue"]]),_g={name:"Link"},xg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cg=(0,o._)("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496 45.248 45.248zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152 625.152 353.6z"},null,-1),Sg=[Cg];function kg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xg,Sg)}var Eg=i(_g,[["render",kg],["__file","link.vue"]]),Tg={name:"List"},Mg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Og=(0,o._)("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),Dg=[Og];function Ag(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Mg,Dg)}var Rg=i(Tg,[["render",Ag],["__file","list.vue"]]),Pg={name:"Loading"},Ig={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zg=(0,o._)("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Ng=[zg];function Lg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ig,Ng)}var Hg=i(Pg,[["render",Lg],["__file","loading.vue"]]),Fg={name:"LocationFilled"},Bg={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ug=(0,o._)("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928zm0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6z"},null,-1),Vg=[Ug];function jg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bg,Vg)}var Wg=i(Fg,[["render",jg],["__file","location-filled.vue"]]),Zg={name:"LocationInformation"},$g={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qg=(0,o._)("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),Gg=(0,o._)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Kg=(0,o._)("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),Yg=[qg,Gg,Kg];function Jg(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$g,Yg)}var Xg=i(Zg,[["render",Jg],["__file","location-information.vue"]]),Qg={name:"Location"},ev={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tv=(0,o._)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),nv=(0,o._)("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),ov=[tv,nv];function rv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ev,ov)}var iv=i(Qg,[["render",rv],["__file","location.vue"]]),av={name:"Lock"},sv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lv=(0,o._)("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),cv=(0,o._)("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),uv=[lv,cv];function dv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",sv,uv)}var hv=i(av,[["render",dv],["__file","lock.vue"]]),mv={name:"Lollipop"},pv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fv=(0,o._)("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0h1.28zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696zm105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),gv=[fv];function vv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pv,gv)}var yv=i(mv,[["render",vv],["__file","lollipop.vue"]]),bv={name:"MagicStick"},wv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_v=(0,o._)("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248L657.152 606.4zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248-316.8 316.8zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248L702.4 334.848z"},null,-1),xv=[_v];function Cv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wv,xv)}var Sv=i(bv,[["render",Cv],["__file","magic-stick.vue"]]),kv={name:"Magnet"},Ev={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tv=(0,o._)("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64h128zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0z"},null,-1),Mv=[Tv];function Ov(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ev,Mv)}var Dv=i(kv,[["render",Ov],["__file","magnet.vue"]]),Av={name:"Male"},Rv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Pv=(0,o._)("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),Iv=(0,o._)("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),zv=(0,o._)("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"},null,-1),Nv=[Pv,Iv,zv];function Lv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Rv,Nv)}var Hv=i(Av,[["render",Lv],["__file","male.vue"]]),Fv={name:"Management"},Bv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uv=(0,o._)("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128h256zm-448 0h128v768H128V128z"},null,-1),Vv=[Uv];function jv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bv,Vv)}var Wv=i(Fv,[["render",jv],["__file","management.vue"]]),Zv={name:"MapLocation"},$v={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qv=(0,o._)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Gv=(0,o._)("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256zm345.6 192L960 960H672v-64H352v64H64l102.4-256h691.2zm-68.928 0H235.328l-76.8 192h706.944l-76.8-192z"},null,-1),Kv=[qv,Gv];function Yv(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$v,Kv)}var Jv=i(Zv,[["render",Yv],["__file","map-location.vue"]]),Xv={name:"Medal"},Qv={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ey=(0,o._)("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),ty=(0,o._)("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8V128zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128H640zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64z"},null,-1),ny=[ey,ty];function oy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Qv,ny)}var ry=i(Xv,[["render",oy],["__file","medal.vue"]]),iy={name:"Memo"},ay={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},sy=(0,o._)("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z"},null,-1),ly=(0,o._)("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01zM192 896V128h96v768h-96zm640 0H352V128h480v768z"},null,-1),cy=(0,o._)("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32zm0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z"},null,-1),uy=[sy,ly,cy];function dy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ay,uy)}var hy=i(iy,[["render",dy],["__file","memo.vue"]]),my={name:"Menu"},py={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fy=(0,o._)("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),gy=[fy];function vy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",py,gy)}var yy=i(my,[["render",vy],["__file","menu.vue"]]),by={name:"MessageBox"},wy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_y=(0,o._)("path",{fill:"currentColor",d:"M288 384h448v64H288v-64zm96-128h256v64H384v-64zM131.456 512H384v128h256V512h252.544L721.856 192H302.144L131.456 512zM896 576H704v128H320V576H128v256h768V576zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"},null,-1),xy=[_y];function Cy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wy,xy)}var Sy=i(by,[["render",Cy],["__file","message-box.vue"]]),ky={name:"Message"},Ey={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ty=(0,o._)("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224H128zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64z"},null,-1),My=(0,o._)("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224h784zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056z"},null,-1),Oy=[Ty,My];function Dy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ey,Oy)}var Ay=i(ky,[["render",Dy],["__file","message.vue"]]),Ry={name:"Mic"},Py={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Iy=(0,o._)("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64h96zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128h-96z"},null,-1),zy=[Iy];function Ny(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Py,zy)}var Ly=i(Ry,[["render",Ny],["__file","mic.vue"]]),Hy={name:"Microphone"},Fy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},By=(0,o._)("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128zm0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64zm-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64z"},null,-1),Uy=[By];function Vy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Fy,Uy)}var jy=i(Hy,[["render",Vy],["__file","microphone.vue"]]),Wy={name:"MilkTea"},Zy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$y=(0,o._)("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128h192zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320H276.48zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64zm493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12z"},null,-1),qy=[$y];function Gy(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Zy,qy)}var Ky=i(Wy,[["render",Gy],["__file","milk-tea.vue"]]),Yy={name:"Minus"},Jy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xy=(0,o._)("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),Qy=[Xy];function eb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Jy,Qy)}var tb=i(Yy,[["render",eb],["__file","minus.vue"]]),nb={name:"Money"},ob={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rb=(0,o._)("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640h64z"},null,-1),ib=(0,o._)("path",{fill:"currentColor",d:"M768 192H128v448h640V192zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"},null,-1),ab=(0,o._)("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320zm0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),sb=[rb,ib,ab];function lb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ob,sb)}var cb=i(nb,[["render",lb],["__file","money.vue"]]),ub={name:"Monitor"},db={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hb=(0,o._)("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H544zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H192z"},null,-1),mb=[hb];function pb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",db,mb)}var fb=i(ub,[["render",pb],["__file","monitor.vue"]]),gb={name:"MoonNight"},vb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yb=(0,o._)("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),bb=(0,o._)("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1),wb=[yb,bb];function _b(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vb,wb)}var xb=i(gb,[["render",_b],["__file","moon-night.vue"]]),Cb={name:"Moon"},Sb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kb=(0,o._)("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696z"},null,-1),Eb=[kb];function Tb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Sb,Eb)}var Mb=i(Cb,[["render",Tb],["__file","moon.vue"]]),Ob={name:"MoreFilled"},Db={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ab=(0,o._)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),Rb=[Ab];function Pb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Db,Rb)}var Ib=i(Ob,[["render",Pb],["__file","more-filled.vue"]]),zb={name:"More"},Nb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lb=(0,o._)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),Hb=[Lb];function Fb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Nb,Hb)}var Bb=i(zb,[["render",Fb],["__file","more.vue"]]),Ub={name:"MostlyCloudy"},Vb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jb=(0,o._)("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048zm15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72z"},null,-1),Wb=[jb];function Zb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Vb,Wb)}var $b=i(Ub,[["render",Zb],["__file","mostly-cloudy.vue"]]),qb={name:"Mouse"},Gb={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Kb=(0,o._)("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256H438.144zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"},null,-1),Yb=(0,o._)("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32zm32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96v64z"},null,-1),Jb=[Kb,Yb];function Xb(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Gb,Jb)}var Qb=i(qb,[["render",Xb],["__file","mouse.vue"]]),ew={name:"Mug"},tw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nw=(0,o._)("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64zm64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32H800z"},null,-1),ow=[nw];function rw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",tw,ow)}var iw=i(ew,[["render",rw],["__file","mug.vue"]]),aw={name:"MuteNotification"},sw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lw=(0,o._)("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64H241.216zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0z"},null,-1),cw=(0,o._)("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),uw=[lw,cw];function dw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",sw,uw)}var hw=i(aw,[["render",dw],["__file","mute-notification.vue"]]),mw={name:"Mute"},pw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fw=(0,o._)("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128zm51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528l47.808-47.808zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032zM266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288L266.752 737.6z"},null,-1),gw=(0,o._)("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),vw=[fw,gw];function yw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pw,vw)}var bw=i(mw,[["render",yw],["__file","mute.vue"]]),ww={name:"NoSmoking"},_w={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xw=(0,o._)("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256l-64 64zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744l64-64zM768 576v128h128V576H768zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),Cw=[xw];function Sw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_w,Cw)}var kw=i(ww,[["render",Sw],["__file","no-smoking.vue"]]),Ew={name:"Notebook"},Tw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mw=(0,o._)("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Ow=(0,o._)("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),Dw=[Mw,Ow];function Aw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Tw,Dw)}var Rw=i(Ew,[["render",Aw],["__file","notebook.vue"]]),Pw={name:"Notification"},Iw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zw=(0,o._)("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128h256z"},null,-1),Nw=(0,o._)("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"},null,-1),Lw=[zw,Nw];function Hw(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Iw,Lw)}var Fw=i(Pw,[["render",Hw],["__file","notification.vue"]]),Bw={name:"Odometer"},Uw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vw=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),jw=(0,o._)("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0z"},null,-1),Ww=(0,o._)("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928z"},null,-1),Zw=[Vw,jw,Ww];function $w(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Uw,Zw)}var qw=i(Bw,[["render",$w],["__file","odometer.vue"]]),Gw={name:"OfficeBuilding"},Kw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yw=(0,o._)("path",{fill:"currentColor",d:"M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Jw=(0,o._)("path",{fill:"currentColor",d:"M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"},null,-1),Xw=(0,o._)("path",{fill:"currentColor",d:"M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"},null,-1),Qw=[Yw,Jw,Xw];function e_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Kw,Qw)}var t_=i(Gw,[["render",e_],["__file","office-building.vue"]]),n_={name:"Open"},o_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},r_=(0,o._)("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),i_=(0,o._)("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),a_=[r_,i_];function s_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",o_,a_)}var l_=i(n_,[["render",s_],["__file","open.vue"]]),c_={name:"Operation"},u_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d_=(0,o._)("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),h_=[d_];function m_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",u_,h_)}var p_=i(c_,[["render",m_],["__file","operation.vue"]]),f_={name:"Opportunity"},g_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},v_=(0,o._)("path",{fill:"currentColor",d:"M384 960v-64h192.064v64H384zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416zm-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288h64z"},null,-1),y_=[v_];function b_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",g_,y_)}var w_=i(f_,[["render",b_],["__file","opportunity.vue"]]),__={name:"Orange"},x_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},C_=(0,o._)("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696l182.912-182.976zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696V129.344zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024L218.752 264.064zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544H129.344zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696L264.064 805.248zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128z"},null,-1),S_=[C_];function k_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",x_,S_)}var E_=i(__,[["render",k_],["__file","orange.vue"]]),T_={name:"Paperclip"},M_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},O_=(0,o._)("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"},null,-1),D_=[O_];function A_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",M_,D_)}var R_=i(T_,[["render",A_],["__file","paperclip.vue"]]),P_={name:"PartlyCloudy"},I_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},z_=(0,o._)("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),N_=(0,o._)("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"},null,-1),L_=[z_,N_];function H_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",I_,L_)}var F_=i(P_,[["render",H_],["__file","partly-cloudy.vue"]]),B_={name:"Pear"},U_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},V_=(0,o._)("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"},null,-1),j_=[V_];function W_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",U_,j_)}var Z_=i(B_,[["render",W_],["__file","pear.vue"]]),$_={name:"PhoneFilled"},q_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},G_=(0,o._)("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"},null,-1),K_=[G_];function Y_(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",q_,K_)}var J_=i($_,[["render",Y_],["__file","phone-filled.vue"]]),X_={name:"Phone"},Q_={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ex=(0,o._)("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192zm0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384z"},null,-1),tx=[ex];function nx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Q_,tx)}var ox=i(X_,[["render",nx],["__file","phone.vue"]]),rx={name:"PictureFilled"},ix={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ax=(0,o._)("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),sx=[ax];function lx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ix,sx)}var cx=i(rx,[["render",lx],["__file","picture-filled.vue"]]),ux={name:"PictureRounded"},dx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hx=(0,o._)("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768zm0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896z"},null,-1),mx=(0,o._)("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"},null,-1),px=[hx,mx];function fx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",dx,px)}var gx=i(ux,[["render",fx],["__file","picture-rounded.vue"]]),vx={name:"Picture"},yx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bx=(0,o._)("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),wx=(0,o._)("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),_x=[bx,wx];function xx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",yx,_x)}var Cx=i(vx,[["render",xx],["__file","picture.vue"]]),Sx={name:"PieChart"},kx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ex=(0,o._)("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"},null,-1),Tx=(0,o._)("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512V64z"},null,-1),Mx=[Ex,Tx];function Ox(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kx,Mx)}var Dx=i(Sx,[["render",Ox],["__file","pie-chart.vue"]]),Ax={name:"Place"},Rx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Px=(0,o._)("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),Ix=(0,o._)("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32z"},null,-1),zx=(0,o._)("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912z"},null,-1),Nx=[Px,Ix,zx];function Lx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Rx,Nx)}var Hx=i(Ax,[["render",Lx],["__file","place.vue"]]),Fx={name:"Platform"},Bx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ux=(0,o._)("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64h192zM128 704V128h768v576H128z"},null,-1),Vx=[Ux];function jx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bx,Vx)}var Wx=i(Fx,[["render",jx],["__file","platform.vue"]]),Zx={name:"Plus"},$x={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qx=(0,o._)("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Gx=[qx];function Kx(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$x,Gx)}var Yx=i(Zx,[["render",Kx],["__file","plus.vue"]]),Jx={name:"Pointer"},Xx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qx=(0,o._)("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128zM359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32L359.04 556.8z"},null,-1),eC=[Qx];function tC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Xx,eC)}var nC=i(Jx,[["render",tC],["__file","pointer.vue"]]),oC={name:"Position"},rC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iC=(0,o._)("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"},null,-1),aC=[iC];function sC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",rC,aC)}var lC=i(oC,[["render",sC],["__file","position.vue"]]),cC={name:"Postcard"},uC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dC=(0,o._)("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32H160zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96z"},null,-1),hC=(0,o._)("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128zM288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32zm0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),mC=[dC,hC];function pC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",uC,mC)}var fC=i(cC,[["render",pC],["__file","postcard.vue"]]),gC={name:"Pouring"},vC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yC=(0,o._)("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32z"},null,-1),bC=[yC];function wC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vC,bC)}var _C=i(gC,[["render",wC],["__file","pouring.vue"]]),xC={name:"Present"},CC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SC=(0,o._)("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576h288zm64 0h288V320H544v256h288v64H544v256zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V256z"},null,-1),kC=(0,o._)("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),EC=(0,o._)("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),TC=(0,o._)("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),MC=[SC,kC,EC,TC];function OC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",CC,MC)}var DC=i(xC,[["render",OC],["__file","present.vue"]]),AC={name:"PriceTag"},RC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PC=(0,o._)("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),IC=(0,o._)("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),zC=[PC,IC];function NC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",RC,zC)}var LC=i(AC,[["render",NC],["__file","price-tag.vue"]]),HC={name:"Printer"},FC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BC=(0,o._)("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256V768zm64-192v320h384V576H320zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704h128zm64-448h384V128H320v128zm-64 128h64v64h-64v-64zm128 0h64v64h-64v-64z"},null,-1),UC=[BC];function VC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",FC,UC)}var jC=i(HC,[["render",VC],["__file","printer.vue"]]),WC={name:"Promotion"},ZC={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$C=(0,o._)("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472 64 448zm256 512V657.024L512 768 320 960z"},null,-1),qC=[$C];function GC(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ZC,qC)}var KC=i(WC,[["render",GC],["__file","promotion.vue"]]),YC={name:"QuartzWatch"},JC={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},XC=(0,o._)("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49v-.01zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01zm6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49zM512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99zm183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01z"},null,-1),QC=(0,o._)("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5zM416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68V128zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68V896zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768z"},null,-1),eS=(0,o._)("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99zm112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02z"},null,-1),tS=[XC,QC,eS];function nS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",JC,tS)}var oS=i(YC,[["render",nS],["__file","quartz-watch.vue"]]),rS={name:"QuestionFilled"},iS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aS=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),sS=[aS];function lS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",iS,sS)}var cS=i(rS,[["render",lS],["__file","question-filled.vue"]]),uS={name:"Rank"},dS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hS=(0,o._)("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"},null,-1),mS=[hS];function pS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",dS,mS)}var fS=i(uS,[["render",pS],["__file","rank.vue"]]),gS={name:"ReadingLamp"},vS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yS=(0,o._)("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm-44.672-768-99.52 448h608.384l-99.52-448H307.328zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"},null,-1),bS=(0,o._)("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32zm-192-.064h64V960h-64z"},null,-1),wS=[yS,bS];function _S(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vS,wS)}var xS=i(gS,[["render",_S],["__file","reading-lamp.vue"]]),CS={name:"Reading"},SS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kS=(0,o._)("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72l384 54.848zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"},null,-1),ES=(0,o._)("path",{fill:"currentColor",d:"M480 192h64v704h-64z"},null,-1),TS=[kS,ES];function MS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",SS,TS)}var OS=i(CS,[["render",MS],["__file","reading.vue"]]),DS={name:"RefreshLeft"},AS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RS=(0,o._)("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),PS=[RS];function IS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",AS,PS)}var zS=i(DS,[["render",IS],["__file","refresh-left.vue"]]),NS={name:"RefreshRight"},LS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HS=(0,o._)("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),FS=[HS];function BS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",LS,FS)}var US=i(NS,[["render",BS],["__file","refresh-right.vue"]]),VS={name:"Refresh"},jS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WS=(0,o._)("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),ZS=[WS];function $S(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",jS,ZS)}var qS=i(VS,[["render",$S],["__file","refresh.vue"]]),GS={name:"Refrigerator"},KS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YS=(0,o._)("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32v288zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512H256zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96zm32 224h64v96h-64v-96zm0 288h64v96h-64v-96z"},null,-1),JS=[YS];function XS(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",KS,JS)}var QS=i(GS,[["render",XS],["__file","refrigerator.vue"]]),ek={name:"RemoveFilled"},tk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nk=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1),ok=[nk];function rk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",tk,ok)}var ik=i(ek,[["render",rk],["__file","remove-filled.vue"]]),ak={name:"Remove"},sk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lk=(0,o._)("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),ck=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),uk=[lk,ck];function dk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",sk,uk)}var hk=i(ak,[["render",dk],["__file","remove.vue"]]),mk={name:"Right"},pk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fk=(0,o._)("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),gk=[fk];function vk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pk,gk)}var yk=i(mk,[["render",vk],["__file","right.vue"]]),bk={name:"ScaleToOriginal"},wk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_k=(0,o._)("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),xk=[_k];function Ck(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wk,xk)}var Sk=i(bk,[["render",Ck],["__file","scale-to-original.vue"]]),kk={name:"School"},Ek={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tk=(0,o._)("path",{fill:"currentColor",d:"M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Mk=(0,o._)("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"},null,-1),Ok=(0,o._)("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"},null,-1),Dk=[Tk,Mk,Ok];function Ak(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ek,Dk)}var Rk=i(kk,[["render",Ak],["__file","school.vue"]]),Pk={name:"Scissor"},Ik={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zk=(0,o._)("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248z"},null,-1),Nk=[zk];function Lk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Ik,Nk)}var Hk=i(Pk,[["render",Lk],["__file","scissor.vue"]]),Fk={name:"Search"},Bk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uk=(0,o._)("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),Vk=[Uk];function jk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Bk,Vk)}var Wk=i(Fk,[["render",jk],["__file","search.vue"]]),Zk={name:"Select"},$k={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qk=(0,o._)("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),Gk=[qk];function Kk(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$k,Gk)}var Yk=i(Zk,[["render",Kk],["__file","select.vue"]]),Jk={name:"Sell"},Xk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qk=(0,o._)("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"},null,-1),eE=[Qk];function tE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",Xk,eE)}var nE=i(Jk,[["render",tE],["__file","sell.vue"]]),oE={name:"SemiSelect"},rE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iE=(0,o._)("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64z"},null,-1),aE=[iE];function sE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",rE,aE)}var lE=i(oE,[["render",sE],["__file","semi-select.vue"]]),cE={name:"Service"},uE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dE=(0,o._)("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0zM256 448a128 128 0 1 0 0 256V448zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128z"},null,-1),hE=[dE];function mE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",uE,hE)}var pE=i(cE,[["render",mE],["__file","service.vue"]]),fE={name:"SetUp"},gE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vE=(0,o._)("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64H224zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96z"},null,-1),yE=(0,o._)("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),bE=(0,o._)("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),wE=(0,o._)("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),_E=[vE,yE,bE,wE];function xE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",gE,_E)}var CE=i(fE,[["render",xE],["__file","set-up.vue"]]),SE={name:"Setting"},kE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EE=(0,o._)("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),TE=[EE];function ME(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kE,TE)}var OE=i(SE,[["render",ME],["__file","setting.vue"]]),DE={name:"Share"},AE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RE=(0,o._)("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),PE=[RE];function IE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",AE,PE)}var zE=i(DE,[["render",IE],["__file","share.vue"]]),NE={name:"Ship"},LE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HE=(0,o._)("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216L512 386.88zm0-70.272 144.768-65.792L512 171.84v144.768zM512 512H148.864l18.24 64H856.96l18.24-64H512zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408z"},null,-1),FE=[HE];function BE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",LE,FE)}var UE=i(NE,[["render",BE],["__file","ship.vue"]]),VE={name:"Shop"},jE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WE=(0,o._)("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384v-64zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640l60.544 423.808z"},null,-1),ZE=[WE];function $E(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",jE,ZE)}var qE=i(VE,[["render",$E],["__file","shop.vue"]]),GE={name:"ShoppingBag"},KE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YE=(0,o._)("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320H704zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32h160zm64 0h256a128 128 0 1 0-256 0z"},null,-1),JE=(0,o._)("path",{fill:"currentColor",d:"M192 704h640v64H192z"},null,-1),XE=[YE,JE];function QE(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",KE,XE)}var eT=i(GE,[["render",QE],["__file","shopping-bag.vue"]]),tT={name:"ShoppingCartFull"},nT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oT=(0,o._)("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),rT=(0,o._)("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04z"},null,-1),iT=[oT,rT];function aT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",nT,iT)}var sT=i(tT,[["render",aT],["__file","shopping-cart-full.vue"]]),lT={name:"ShoppingCart"},cT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uT=(0,o._)("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),dT=[uT];function hT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",cT,dT)}var mT=i(lT,[["render",hT],["__file","shopping-cart.vue"]]),pT={name:"ShoppingTrolley"},fT={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},gT=(0,o._)("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833zm439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64h551zM256 192h622l-96 384H256V192zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833z"},null,-1),vT=[gT];function yT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",fT,vT)}var bT=i(pT,[["render",yT],["__file","shopping-trolley.vue"]]),wT={name:"Smoking"},_T={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xT=(0,o._)("path",{fill:"currentColor",d:"M256 576v128h640V576H256zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32z"},null,-1),CT=(0,o._)("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),ST=[xT,CT];function kT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_T,ST)}var ET=i(wT,[["render",kT],["__file","smoking.vue"]]),TT={name:"Soccer"},MT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},OT=(0,o._)("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24zm72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536L871.04 418.496zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152zm452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"},null,-1),DT=[OT];function AT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",MT,DT)}var RT=i(TT,[["render",AT],["__file","soccer.vue"]]),PT={name:"SoldOut"},IT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zT=(0,o._)("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"},null,-1),NT=[zT];function LT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",IT,NT)}var HT=i(PT,[["render",LT],["__file","sold-out.vue"]]),FT={name:"SortDown"},BT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UT=(0,o._)("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),VT=[UT];function jT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",BT,VT)}var WT=i(FT,[["render",jT],["__file","sort-down.vue"]]),ZT={name:"SortUp"},$T={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qT=(0,o._)("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),GT=[qT];function KT(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",$T,GT)}var YT=i(ZT,[["render",KT],["__file","sort-up.vue"]]),JT={name:"Sort"},XT={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QT=(0,o._)("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632V96zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"},null,-1),eM=[QT];function tM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",XT,eM)}var nM=i(JT,[["render",tM],["__file","sort.vue"]]),oM={name:"Stamp"},rM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iM=(0,o._)("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0zM128 896v-64h768v64H128z"},null,-1),aM=[iM];function sM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",rM,aM)}var lM=i(oM,[["render",sM],["__file","stamp.vue"]]),cM={name:"StarFilled"},uM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dM=(0,o._)("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),hM=[dM];function mM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",uM,hM)}var pM=i(cM,[["render",mM],["__file","star-filled.vue"]]),fM={name:"Star"},gM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vM=(0,o._)("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),yM=[vM];function bM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",gM,yM)}var wM=i(fM,[["render",bM],["__file","star.vue"]]),_M={name:"Stopwatch"},xM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},CM=(0,o._)("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),SM=(0,o._)("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"},null,-1),kM=[CM,SM];function EM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",xM,kM)}var TM=i(_M,[["render",EM],["__file","stopwatch.vue"]]),MM={name:"SuccessFilled"},OM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DM=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),AM=[DM];function RM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",OM,AM)}var PM=i(MM,[["render",RM],["__file","success-filled.vue"]]),IM={name:"Sugar"},zM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},NM=(0,o._)("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904H252.928zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928h326.208zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"},null,-1),LM=[NM];function HM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",zM,LM)}var FM=i(IM,[["render",HM],["__file","sugar.vue"]]),BM={name:"SuitcaseLine"},UM={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},VM=(0,o._)("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5zM384 128h256v64H384v-64zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128v384zm448 0H320V448h384v384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128v320zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320v64z"},null,-1),jM=[VM];function WM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",UM,jM)}var ZM=i(BM,[["render",WM],["__file","suitcase-line.vue"]]),$M={name:"Suitcase"},qM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GM=(0,o._)("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64v64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448H128zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),KM=(0,o._)("path",{fill:"currentColor",d:"M384 128v64h256v-64H384zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z"},null,-1),YM=[GM,KM];function JM(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",qM,YM)}var XM=i($M,[["render",JM],["__file","suitcase.vue"]]),QM={name:"Sunny"},eO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tO=(0,o._)("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1),nO=[tO];function oO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",eO,nO)}var rO=i(QM,[["render",oO],["__file","sunny.vue"]]),iO={name:"Sunrise"},aO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sO=(0,o._)("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64zm129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32zm407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248z"},null,-1),lO=[sO];function cO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",aO,lO)}var uO=i(iO,[["render",cO],["__file","sunrise.vue"]]),dO={name:"Sunset"},hO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mO=(0,o._)("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0H82.56zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),pO=[mO];function fO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",hO,pO)}var gO=i(dO,[["render",fO],["__file","sunset.vue"]]),vO={name:"SwitchButton"},yO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bO=(0,o._)("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),wO=(0,o._)("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),_O=[bO,wO];function xO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",yO,_O)}var CO=i(vO,[["render",xO],["__file","switch-button.vue"]]),SO={name:"SwitchFilled"},kO={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},EO=(0,o._)("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"},null,-1),TO=(0,o._)("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57v644.36zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"},null,-1),MO=[EO,TO];function OO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kO,MO)}var DO=i(SO,[["render",OO],["__file","switch-filled.vue"]]),AO={name:"Switch"},RO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PO=(0,o._)("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),IO=[PO];function zO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",RO,IO)}var NO=i(AO,[["render",zO],["__file","switch.vue"]]),LO={name:"TakeawayBox"},HO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},FO=(0,o._)("path",{fill:"currentColor",d:"M832 384H192v448h640V384zM96 320h832V128H96v192zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32h-64zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64z"},null,-1),BO=[FO];function UO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",HO,BO)}var VO=i(LO,[["render",UO],["__file","takeaway-box.vue"]]),jO={name:"Ticket"},WO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZO=(0,o._)("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64v160zm0-416v192h64V416h-64z"},null,-1),$O=[ZO];function qO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",WO,$O)}var GO=i(jO,[["render",qO],["__file","ticket.vue"]]),KO={name:"Tickets"},YO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},JO=(0,o._)("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),XO=[JO];function QO(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",YO,XO)}var eD=i(KO,[["render",QO],["__file","tickets.vue"]]),tD={name:"Timer"},nD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oD=(0,o._)("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),rD=(0,o._)("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32z"},null,-1),iD=(0,o._)("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0zm96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96z"},null,-1),aD=[oD,rD,iD];function sD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",nD,aD)}var lD=i(tD,[["render",sD],["__file","timer.vue"]]),cD={name:"ToiletPaper"},uD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dD=(0,o._)("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224zM736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64h416zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224z"},null,-1),hD=(0,o._)("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96z"},null,-1),mD=[dD,hD];function pD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",uD,mD)}var fD=i(cD,[["render",pD],["__file","toilet-paper.vue"]]),gD={name:"Tools"},vD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yD=(0,o._)("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),bD=[yD];function wD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",vD,bD)}var _D=i(gD,[["render",wD],["__file","tools.vue"]]),xD={name:"TopLeft"},CD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SD=(0,o._)("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0V256z"},null,-1),kD=(0,o._)("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"},null,-1),ED=[SD,kD];function TD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",CD,ED)}var MD=i(xD,[["render",TD],["__file","top-left.vue"]]),OD={name:"TopRight"},DD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AD=(0,o._)("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0V256z"},null,-1),RD=(0,o._)("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"},null,-1),PD=[AD,RD];function ID(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",DD,PD)}var zD=i(OD,[["render",ID],["__file","top-right.vue"]]),ND={name:"Top"},LD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HD=(0,o._)("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"},null,-1),FD=[HD];function BD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",LD,FD)}var UD=i(ND,[["render",BD],["__file","top.vue"]]),VD={name:"TrendCharts"},jD={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WD=(0,o._)("path",{fill:"currentColor",d:"M128 896V128h768v768H128zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0z"},null,-1),ZD=[WD];function $D(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",jD,ZD)}var qD=i(VD,[["render",$D],["__file","trend-charts.vue"]]),GD={name:"TrophyBase"},KD={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},YD=(0,o._)("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256v182.4zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4zm172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6z"},null,-1),JD=[YD];function XD(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",KD,JD)}var QD=i(GD,[["render",XD],["__file","trophy-base.vue"]]),eA={name:"Trophy"},tA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nA=(0,o._)("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64h128zm224-448V128H320v320a192 192 0 1 0 384 0zm64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768v192zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448H256z"},null,-1),oA=[nA];function rA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",tA,oA)}var iA=i(eA,[["render",rA],["__file","trophy.vue"]]),aA={name:"TurnOff"},sA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lA=(0,o._)("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),cA=(0,o._)("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),uA=[lA,cA];function dA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",sA,uA)}var hA=i(aA,[["render",dA],["__file","turn-off.vue"]]),mA={name:"Umbrella"},pA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fA=(0,o._)("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0zm570.688-320a384.128 384.128 0 0 0-757.376 0h757.376z"},null,-1),gA=[fA];function vA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",pA,gA)}var yA=i(mA,[["render",vA],["__file","umbrella.vue"]]),bA={name:"Unlock"},wA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_A=(0,o._)("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),xA=(0,o._)("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),CA=[_A,xA];function SA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",wA,CA)}var kA=i(bA,[["render",SA],["__file","unlock.vue"]]),EA={name:"UploadFilled"},TA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MA=(0,o._)("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),OA=[MA];function DA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",TA,OA)}var AA=i(EA,[["render",DA],["__file","upload-filled.vue"]]),RA={name:"Upload"},PA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IA=(0,o._)("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),zA=[IA];function NA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",PA,zA)}var LA=i(RA,[["render",NA],["__file","upload.vue"]]),HA={name:"UserFilled"},FA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BA=(0,o._)("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),UA=[BA];function VA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",FA,UA)}var jA=i(HA,[["render",VA],["__file","user-filled.vue"]]),WA={name:"User"},ZA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$A=(0,o._)("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),qA=[$A];function GA(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",ZA,qA)}var KA=i(WA,[["render",GA],["__file","user.vue"]]),YA={name:"Van"},JA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XA=(0,o._)("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416h24.256zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672zm48.128-192-14.72-96H704v96h151.872zM688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160zm-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160z"},null,-1),QA=[XA];function eR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",JA,QA)}var tR=i(YA,[["render",eR],["__file","van.vue"]]),nR={name:"VideoCameraFilled"},oR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rR=(0,o._)("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v96zM192 768v64h384v-64H192zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0zm64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288zm-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320zm64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z"},null,-1),iR=[rR];function aR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",oR,iR)}var sR=i(nR,[["render",aR],["__file","video-camera-filled.vue"]]),lR={name:"VideoCamera"},cR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uR=(0,o._)("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1),dR=[uR];function hR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",cR,dR)}var mR=i(lR,[["render",hR],["__file","video-camera.vue"]]),pR={name:"VideoPause"},fR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gR=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32zm192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32z"},null,-1),vR=[gR];function yR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",fR,vR)}var bR=i(pR,[["render",yR],["__file","video-pause.vue"]]),wR={name:"VideoPlay"},_R={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xR=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-48-247.616L668.608 512 464 375.616v272.768zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),CR=[xR];function SR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",_R,CR)}var kR=i(wR,[["render",SR],["__file","video-play.vue"]]),ER={name:"View"},TR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MR=(0,o._)("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),OR=[MR];function DR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",TR,OR)}var AR=i(ER,[["render",DR],["__file","view.vue"]]),RR={name:"WalletFilled"},PR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IR=(0,o._)("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160H688zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96zm-80-544 128 160H384l256-160z"},null,-1),zR=[IR];function NR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",PR,zR)}var LR=i(RR,[["render",NR],["__file","wallet-filled.vue"]]),HR={name:"Wallet"},FR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BR=(0,o._)("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32v192z"},null,-1),UR=(0,o._)("path",{fill:"currentColor",d:"M128 320v512h768V320H128zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"},null,-1),VR=(0,o._)("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),jR=[BR,UR,VR];function WR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",FR,jR)}var ZR=i(HR,[["render",WR],["__file","wallet.vue"]]),$R={name:"WarnTriangleFilled"},qR={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},GR=(0,o._)("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z"},null,-1),KR=[GR];function YR(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",qR,KR)}var JR=i($R,[["render",YR],["__file","warn-triangle-filled.vue"]]),XR={name:"WarningFilled"},QR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eP=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),tP=[eP];function nP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",QR,tP)}var oP=i(XR,[["render",nP],["__file","warning-filled.vue"]]),rP={name:"Warning"},iP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aP=(0,o._)("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),sP=[aP];function lP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",iP,sP)}var cP=i(rP,[["render",lP],["__file","warning.vue"]]),uP={name:"Watch"},dP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hP=(0,o._)("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),mP=(0,o._)("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32z"},null,-1),pP=(0,o._)("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm128-256V128H416v128h-64V64h320v192h-64zM416 768v128h192V768h64v192H352V768h64z"},null,-1),fP=[hP,mP,pP];function gP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",dP,fP)}var vP=i(uP,[["render",gP],["__file","watch.vue"]]),yP={name:"Watermelon"},bP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wP=(0,o._)("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248L683.072 600.32zm231.552 141.056a448 448 0 1 1-632-632l632 632z"},null,-1),_P=[wP];function xP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",bP,_P)}var CP=i(yP,[["render",xP],["__file","watermelon.vue"]]),SP={name:"WindPower"},kP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EP=(0,o._)("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32zm416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92l192-17.472zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96v226.368z"},null,-1),TP=[EP];function MP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",kP,TP)}var OP=i(SP,[["render",MP],["__file","wind-power.vue"]]),DP={name:"ZoomIn"},AP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RP=(0,o._)("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),PP=[RP];function IP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",AP,PP)}var zP=i(DP,[["render",IP],["__file","zoom-in.vue"]]),NP={name:"ZoomOut"},LP={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HP=(0,o._)("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),FP=[HP];function BP(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("svg",LP,FP)}var UP=i(NP,[["render",BP],["__file","zoom-out.vue"]])},5119:function(e,t,n){"use strict";n.d(t,{i9H:function(){return h},NXq:function(){return s},Zaf:function(){return v},xKQ:function(){return y},rBN:function(){return S},ORN:function(){return u},yU7:function(){return C},NCN:function(){return P},vou:function(){return I},iPe:function(){return z}});n(7658),n(2801),n(1439),n(7585),n(5315),n(2062);var o=n(6413),r=n(3396),i=n(4870),a=!1;function s(e){var t;const n=(0,o.Ly)(e);return null!=(t=null==n?void 0:n.$el)?t:n}const l=o.C5?window:void 0,c=o.C5?window.document:void 0;o.C5&&window.navigator,o.C5&&window.location;function u(...e){let t,n,i,a;if((0,o.HD)(e[0])||Array.isArray(e[0])?([n,i,a]=e,t=l):[t,n,i,a]=e,!t)return o.ZT;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const c=[],u=()=>{c.forEach((e=>e())),c.length=0},d=(e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)),h=(0,r.YP)((()=>[s(t),(0,o.Ly)(a)]),(([e,t])=>{u(),e&&c.push(...n.flatMap((n=>i.map((o=>d(e,n,o,t))))))}),{immediate:!0,flush:"post"}),m=()=>{h(),u()};return(0,o.IY)(m),m}let d=!1;function h(e,t,n={}){const{window:r=l,ignore:i=[],capture:a=!0,detectIframe:c=!1}=n;if(!r)return;o.gn&&!d&&(d=!0,Array.from(r.document.body.children).forEach((e=>e.addEventListener("click",o.ZT))));let h=!0;const m=e=>i.some((t=>{if("string"===typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=s(t);return n&&(e.target===n||e.composedPath().includes(n))}})),p=n=>{const o=s(e);o&&o!==n.target&&!n.composedPath().includes(o)&&(0===n.detail&&(h=!m(n)),h?t(n):h=!0)},f=[u(r,"click",p,{passive:!0,capture:a}),u(r,"pointerdown",(t=>{const n=s(e);n&&(h=!t.composedPath().includes(n)&&!m(t))}),{passive:!0}),c&&u(r,"blur",(n=>{var o;const i=s(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}))].filter(Boolean),g=()=>f.forEach((e=>e()));return g}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function m(e,t=!1){const n=(0,i.iH)(),r=()=>n.value=Boolean(e());return r(),(0,o.u7)(r,t),n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function p(e){return JSON.parse(JSON.stringify(e))}const f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},g="__vueuse_ssr_handlers__";f[g]=f[g]||{};f[g];Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function v(e,t,{window:n=l,initialValue:a=""}={}){const c=(0,i.iH)(a),u=(0,r.Fl)((()=>{var e;return s(t)||(null==(e=null==n?void 0:n.document)?void 0:e.documentElement)}));return(0,r.YP)([u,()=>(0,o.Ly)(e)],(([e,t])=>{var o;if(e&&n){const r=null==(o=n.getComputedStyle(e).getPropertyValue(t))?void 0:o.trim();c.value=r||a}}),{immediate:!0}),(0,r.YP)(c,(t=>{var n;(null==(n=u.value)?void 0:n.style)&&u.value.style.setProperty((0,o.Ly)(e),t)})),c}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function y({document:e=c}={}){if(!e)return(0,i.iH)("visible");const t=(0,i.iH)(e.visibilityState);return u(e,"visibilitychange",(()=>{t.value=e.visibilityState})),t}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,x=(e,t)=>{var n={};for(var o in e)w.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&b)for(var o of b(e))t.indexOf(o)<0&&_.call(e,o)&&(n[o]=e[o]);return n};function C(e,t,n={}){const i=n,{window:a=l}=i,c=x(i,["window"]);let u;const d=m((()=>a&&"ResizeObserver"in a)),h=()=>{u&&(u.disconnect(),u=void 0)},p=(0,r.YP)((()=>s(e)),(e=>{h(),d.value&&a&&e&&(u=new ResizeObserver(t),u.observe(e,c))}),{immediate:!0,flush:"post"}),f=()=>{h(),p()};return(0,o.IY)(f),{isSupported:d,stop:f}}function S(e,t={}){const{reset:n=!0,windowResize:a=!0,windowScroll:l=!0,immediate:c=!0}=t,d=(0,i.iH)(0),h=(0,i.iH)(0),m=(0,i.iH)(0),p=(0,i.iH)(0),f=(0,i.iH)(0),g=(0,i.iH)(0),v=(0,i.iH)(0),y=(0,i.iH)(0);function b(){const t=s(e);if(!t)return void(n&&(d.value=0,h.value=0,m.value=0,p.value=0,f.value=0,g.value=0,v.value=0,y.value=0));const o=t.getBoundingClientRect();d.value=o.height,h.value=o.bottom,m.value=o.left,p.value=o.right,f.value=o.top,g.value=o.width,v.value=o.x,y.value=o.y}return C(e,b),(0,r.YP)((()=>s(e)),(e=>!e&&b())),l&&u("scroll",b,{capture:!0,passive:!0}),a&&u("resize",b,{passive:!0}),(0,o.u7)((()=>{c&&b()})),{height:d,bottom:h,left:m,right:p,top:f,width:g,x:v,y:y,update:b}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;new Map;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var k;(function(e){e["UP"]="UP",e["RIGHT"]="RIGHT",e["DOWN"]="DOWN",e["LEFT"]="LEFT",e["NONE"]="NONE"})(k||(k={}));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var E=Object.defineProperty,T=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&D(e,n,t[n]);if(T)for(var n of T(t))O.call(t,n)&&D(e,n,t[n]);return e};const R={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};A({linear:o.yR},R);function P(e,t,n,s={}){var l,c,u,d,h;const{clone:m=!1,passive:f=!1,eventName:g,deep:v=!1,defaultValue:y}=s,b=(0,r.FN)(),w=n||(null==b?void 0:b.emit)||(null==(l=null==b?void 0:b.$emit)?void 0:l.bind(b))||(null==(u=null==(c=null==b?void 0:b.proxy)?void 0:c.$emit)?void 0:u.bind(null==b?void 0:b.proxy));let _=g;if(!t)if(a){const e=null==(h=null==(d=null==b?void 0:b.proxy)?void 0:d.$options)?void 0:h.model;t=(null==e?void 0:e.value)||"value",g||(_=(null==e?void 0:e.event)||"input")}else t="modelValue";_=g||_||`update:${t.toString()}`;const x=e=>m?(0,o.mf)(m)?m(e):p(e):e,C=()=>(0,o.Xq)(e[t])?x(e[t]):y;if(f){const n=C(),o=(0,i.iH)(n);return(0,r.YP)((()=>e[t]),(e=>o.value=x(e))),(0,r.YP)(o,(n=>{(n!==e[t]||v)&&w(_,n)}),{deep:v}),o}return(0,r.Fl)({get(){return C()},set(e){w(_,e)}})}function I({window:e=l}={}){if(!e)return(0,i.iH)(!1);const t=(0,i.iH)(e.document.hasFocus());return u(e,"blur",(()=>{t.value=!1})),u(e,"focus",(()=>{t.value=!0})),t}function z(e={}){const{window:t=l,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:a=!0,includeScrollbar:s=!0}=e,c=(0,i.iH)(n),d=(0,i.iH)(r),h=()=>{t&&(s?(c.value=t.innerWidth,d.value=t.innerHeight):(c.value=t.document.documentElement.clientWidth,d.value=t.document.documentElement.clientHeight))};return h(),(0,o.u7)(h),u("resize",h,{passive:!0}),a&&u("orientationchange",h,{passive:!0}),{width:c,height:d}}},6413:function(e,t,n){"use strict";n.d(t,{Rc:function(){return f},yR:function(){return E},C5:function(){return g},Xq:function(){return v},mf:function(){return y},gn:function(){return _},HD:function(){return b},ZT:function(){return w},Dp:function(){return O},Ly:function(){return x},u7:function(){return A},IY:function(){return T},vA:function(){return D},eM:function(){return R}});n(7658);var o=n(4870),r=n(3396);var i,a=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&h(e,n,t[n]);if(c)for(var n of c(t))d.call(t,n)&&h(e,n,t[n]);return e},p=(e,t)=>s(e,l(t));function f(e,t){var n;const i=(0,o.XI)();return(0,r.m0)((()=>{i.value=e()}),p(m({},t),{flush:null!=(n=null==t?void 0:t.flush)?n:"sync"})),(0,o.OT)(i)}const g="undefined"!==typeof window,v=e=>"undefined"!==typeof e,y=(Object.prototype.toString,e=>"function"===typeof e),b=e=>"string"===typeof e,w=()=>{},_=g&&(null==(i=null==window?void 0:window.navigator)?void 0:i.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function x(e){return"function"===typeof e?e():(0,o.SU)(e)}function C(e,t){function n(...n){return new Promise(((o,r)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(o).catch(r)}))}return n}function S(e,t={}){let n,o,r=w;const i=e=>{clearTimeout(e),r(),r=w},a=a=>{const s=x(e),l=x(t.maxWait);return n&&i(n),s<=0||void 0!==l&&l<=0?(o&&(i(o),o=null),Promise.resolve(a())):new Promise(((e,c)=>{r=t.rejectOnCancel?c:e,l&&!o&&(o=setTimeout((()=>{n&&i(n),o=null,e(a())}),l)),n=setTimeout((()=>{o&&i(o),o=null,e(a())}),s)}))};return a}function k(e,t=!0,n=!0,o=!1){let r,i,a=0,s=!0,l=w;const c=()=>{r&&(clearTimeout(r),r=void 0,l(),l=w)},u=u=>{const d=x(e),h=Date.now()-a,m=()=>i=u();return c(),d<=0?(a=Date.now(),m()):(h>d&&(n||!s)?(a=Date.now(),m()):t&&(i=new Promise(((e,t)=>{l=o?t:e,r=setTimeout((()=>{a=Date.now(),s=!0,e(m()),c()}),Math.max(0,d-h))}))),n||r||(r=setTimeout((()=>s=!0),d)),s=!1,i)};return u}function E(e){return e}function T(e){return!!(0,o.nZ)()&&((0,o.EB)(e),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function M(e,t=200,n={}){return C(S(t,n),e)}function O(e,t=200,n={}){const i=(0,o.iH)(e.value),a=M((()=>{i.value=e.value}),t,n);return(0,r.YP)(e,(()=>a())),i}function D(e,t=200,n=!1,o=!0,r=!1){return C(k(t,n,o,r),e)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function A(e,t=!0){(0,r.FN)()?(0,r.bv)(e):t?e():(0,r.Y3)(e)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function R(e,t,n={}){const{immediate:r=!0}=n,i=(0,o.iH)(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function l(){i.value=!1,s()}function c(...n){s(),i.value=!0,a=setTimeout((()=>{i.value=!1,a=null,e(...n)}),x(t))}return r&&(i.value=!0,g&&c()),T(l),{isPending:(0,o.OT)(i),start:c,stop:l}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},5989:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var o=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n}},1183:function(e,t,n){"use strict";n.d(t,{dQ:function(){return v}});var o=n(3396),r=n(7139),i=n(4870),a=n(9242),s=n(5994);const l=(0,s.o8)({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var c=n(5989),u=n(6734),d=n(7354);const h=["textContent"],m=(0,o.aZ)({name:"ElBadge"}),p=(0,o.aZ)({...m,props:l,setup(e,{expose:t}){const n=e,s=(0,u.s3)("badge"),l=(0,o.Fl)((()=>n.isDot?"":(0,d.hj)(n.value)&&(0,d.hj)(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`));return t({content:l}),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)((0,i.SU)(s).b())},[(0,o.WI)(e.$slots,"default"),(0,o.Wm)(a.uT,{name:`${(0,i.SU)(s).namespace.value}-zoom-in-center`,persisted:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("sup",{class:(0,r.C_)([(0,i.SU)(s).e("content"),(0,i.SU)(s).em("content",e.type),(0,i.SU)(s).is("fixed",!!e.$slots.default),(0,i.SU)(s).is("dot",e.isDot)]),textContent:(0,r.zw)((0,i.SU)(l))},null,10,h),[[a.F8,!e.hidden&&((0,i.SU)(l)||e.isDot)]])])),_:1},8,["name"])],2))}});var f=(0,c.Z)(p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]),g=n(9015);const v=(0,g.nz)(f)},5869:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},I:function(){return l}});var o=n(3396),r=n(3965),i=n(5994),a=n(4689);const s=(0,i.o8)({a11y:{type:Boolean,default:!0},locale:{type:(0,i.Cq)(Object)},size:a.Pp,button:{type:(0,i.Cq)(Object)},experimentalFeatures:{type:(0,i.Cq)(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:(0,i.Cq)(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),l={},c=(0,o.aZ)({name:"ElConfigProvider",props:s,setup(e,{slots:t}){(0,o.YP)((()=>e.message),(e=>{Object.assign(l,null!=e?e:{})}),{immediate:!0,deep:!0});const n=(0,r.AR)(e);return()=>(0,o.WI)(t,"default",{config:null==n?void 0:n.value})}})},3965:function(e,t,n){"use strict";n.d(t,{AR:function(){return f},cU:function(){return p},WS:function(){return m}});var o=n(4870),r=n(3396);const i=Symbol();var a=n(6734),s=n(2137),l=n(7750),c=n(4620),u=n(4689),d=n(984);const h=(0,o.iH)();function m(e,t=void 0){const n=(0,r.FN)()?(0,r.f3)(i,h):h;return e?(0,r.Fl)((()=>{var o,r;return null!=(r=null==(o=n.value)?void 0:o[e])?r:t})):n}function p(e,t){const n=m(),i=(0,a.s3)(e,(0,r.Fl)((()=>{var e;return(null==(e=n.value)?void 0:e.namespace)||a.tL}))),c=(0,s.bU)((0,r.Fl)((()=>{var e;return null==(e=n.value)?void 0:e.locale}))),u=(0,l.Cn)((0,r.Fl)((()=>{var e;return(null==(e=n.value)?void 0:e.zIndex)||l.DA}))),d=(0,r.Fl)((()=>{var e;return(0,o.SU)(t)||(null==(e=n.value)?void 0:e.size)||""}));return f((0,r.Fl)((()=>(0,o.SU)(n)||{}))),{ns:i,locale:c,zIndex:u,size:d}}const f=(e,t,n=!1)=>{var d;const p=!!(0,r.FN)(),f=p?m():void 0,v=null!=(d=null==t?void 0:t.provide)?d:p?r.JJ:void 0;if(!v)return void(0,c.N)("provideGlobalConfig","provideGlobalConfig() can only be used inside setup().");const y=(0,r.Fl)((()=>{const t=(0,o.SU)(e);return(null==f?void 0:f.value)?g(f.value,t):t}));return v(i,y),v(s._N,(0,r.Fl)((()=>y.value.locale))),v(a.dP,(0,r.Fl)((()=>y.value.namespace))),v(l.KM,(0,r.Fl)((()=>y.value.zIndex))),v(u.m8,{size:(0,r.Fl)((()=>y.value.size||""))}),!n&&h.value||(h.value=y.value),y},g=(e,t)=>{var n;const o=[...new Set([...(0,d.uc)(e),...(0,d.uc)(t)])],r={};for(const i of o)r[i]=null!=(n=t[i])?n:e[i];return r}},8715:function(e,t,n){"use strict";n.d(t,{H:function(){return o},K:function(){return r}});const o=Symbol("formContextKey"),r=Symbol("formItemContextKey")},9817:function(e,t,n){"use strict";n.d(t,{DT:function(){return c},Cd:function(){return l}});var o=n(4870),r=n(3396),i=n(8715);const a=e=>{const t=(0,r.FN)();return(0,r.Fl)((()=>{var n,o;return null==(o=null==(n=null==t?void 0:t.proxy)?void 0:n.$props)?void 0:o[e]}))};var s=n(4689);const l=(e,t={})=>{const n=(0,o.iH)(void 0),l=t.prop?n:a("size"),c=t.global?n:(0,s.fl)(),u=t.form?{size:void 0}:(0,r.f3)(i.H,void 0),d=t.formItem?{size:void 0}:(0,r.f3)(i.K,void 0);return(0,r.Fl)((()=>l.value||(0,o.SU)(e)||(null==d?void 0:d.size)||(null==u?void 0:u.size)||c.value||""))},c=e=>{const t=a("disabled"),n=(0,r.f3)(i.H,void 0);return(0,r.Fl)((()=>t.value||(0,o.SU)(e)||(null==n?void 0:n.disabled)||!1))}},1389:function(e,t,n){"use strict";n.d(t,{A:function(){return s},p:function(){return l}});var o=n(3396),r=n(4870),i=n(8715),a=n(8925);const s=()=>{const e=(0,o.f3)(i.H,void 0),t=(0,o.f3)(i.K,void 0);return{form:e,formItem:t}},l=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=(0,r.iH)(!1)),i||(i=(0,r.iH)(!1));const s=(0,r.iH)();let l;const c=(0,o.Fl)((()=>{var n;return!!(!e.label&&t&&t.inputIds&&(null==(n=t.inputIds)?void 0:n.length)<=1)}));return(0,o.bv)((()=>{l=(0,o.YP)([(0,r.Vh)(e,"id"),n],(([e,n])=>{const o=null!=e?e:n?void 0:(0,a.Me)().value;o!==s.value&&((null==t?void 0:t.removeInputId)&&(s.value&&t.removeInputId(s.value),(null==i?void 0:i.value)||n||!o||t.addInputId(o)),s.value=o)}),{immediate:!0})})),(0,o.Ah)((()=>{l&&l(),(null==t?void 0:t.removeInputId)&&s.value&&t.removeInputId(s.value)})),{isLabeledByFormItem:c,inputId:s}}},1015:function(e,t,n){"use strict";n.d(t,{gn:function(){return f}});var o=n(3396),r=n(4870),i=n(5994);const a=(0,i.o8)({size:{type:(0,i.Cq)([Number,String])},color:{type:String}});var s=n(5989),l=n(6734),c=n(7354),u=n(529);const d=(0,o.aZ)({name:"ElIcon",inheritAttrs:!1}),h=(0,o.aZ)({...d,props:a,setup(e){const t=e,n=(0,l.s3)("icon"),i=(0,o.Fl)((()=>{const{size:e,color:n}=t;return e||n?{fontSize:(0,c.o8)(e)?void 0:(0,u.Nn)(e),"--color":n}:{}}));return(e,t)=>((0,o.wg)(),(0,o.iD)("i",(0,o.dG)({class:(0,r.SU)(n).b(),style:(0,r.SU)(i)},e.$attrs),[(0,o.WI)(e.$slots,"default")],16))}});var m=(0,s.Z)(h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]),p=n(9015);const f=(0,p.nz)(m)},3417:function(e,t,n){"use strict";n.d(t,{EZ:function(){return U}});var o=n(3396),r=n(4870),i=n(7139),a=n(9242),s=n(5119),l=n(6413),c=n(1727),u=n(1015),d=n(2748),h=n(4494),m=n(7354);let p;const f=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${(0,h.vU)()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,g=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function v(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),r=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width")),i=g.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";");return{contextStyle:i,paddingSize:o,borderSize:r,boxSizing:n}}function y(e,t=1,n){var o;p||(p=document.createElement("textarea"),document.body.appendChild(p));const{paddingSize:r,borderSize:i,boxSizing:a,contextStyle:s}=v(e);p.setAttribute("style",`${s};${f}`),p.value=e.value||e.placeholder||"";let l=p.scrollHeight;const c={};"border-box"===a?l+=i:"content-box"===a&&(l-=r),p.value="";const u=p.scrollHeight-r;if((0,m.hj)(t)){let e=u*t;"border-box"===a&&(e=e+r+i),l=Math.max(e,l),c.minHeight=`${e}px`}if((0,m.hj)(n)){let e=u*n;"border-box"===a&&(e=e+r+i),l=Math.min(e,l)}return c.height=`${l}px`,null==(o=p.parentNode)||o.removeChild(p),p=void 0,c}var b=n(5994),w=n(4689),_=n(2039),x=n(3071),C=n(6835);const S=(0,b.o8)({id:{type:String,default:void 0},size:w.Pp,disabled:Boolean,modelValue:{type:(0,b.Cq)([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:(0,b.Cq)([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:_.AA},prefixIcon:{type:_.AA},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:(0,b.Cq)([Object,Array,String]),default:()=>(0,x.N)({})}}),k={[C.f_]:e=>(0,i.HD)(e),input:e=>(0,i.HD)(e),change:e=>(0,i.HD)(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};var E=n(5989),T=n(9068),M=n(1389),O=n(9817),D=n(6734);function A(e){const t=(0,r.iH)();function n(){if(void 0==e.value)return;const{selectionStart:n,selectionEnd:o,value:r}=e.value;if(null==n||null==o)return;const i=r.slice(0,Math.max(0,n)),a=r.slice(Math.max(0,o));t.value={selectionStart:n,selectionEnd:o,value:r,beforeTxt:i,afterTxt:a}}function o(){if(void 0==e.value||void 0==t.value)return;const{value:n}=e.value,{beforeTxt:o,afterTxt:r,selectionStart:i}=t.value;if(void 0==o||void 0==r||void 0==i)return;let a=n.length;if(n.endsWith(r))a=n.length-r.length;else if(n.startsWith(o))a=o.length;else{const e=o[i-1],t=n.indexOf(e,i-1);-1!==t&&(a=t+1)}e.value.setSelectionRange(a,a)}return[n,o]}var R=n(3356),P=n(4620);const I=["role"],z=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],N=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],L=(0,o.aZ)({name:"ElInput",inheritAttrs:!1}),H=(0,o.aZ)({...L,props:S,emits:k,setup(e,{expose:t,emit:n}){const h=e,m=(0,o.l1)(),p=(0,o.Rr)(),f=(0,o.Fl)((()=>{const e={};return"combobox"===h.containerRole&&(e["aria-haspopup"]=m["aria-haspopup"],e["aria-owns"]=m["aria-owns"],e["aria-expanded"]=m["aria-expanded"]),e})),g=(0,o.Fl)((()=>["textarea"===h.type?H.b():L.b(),L.m(k.value),L.is("disabled",E.value),L.is("exceed",ie.value),{[L.b("group")]:p.prepend||p.append,[L.bm("group","append")]:p.append,[L.bm("group","prepend")]:p.prepend,[L.m("prefix")]:p.prefix||h.prefixIcon,[L.m("suffix")]:p.suffix||h.suffixIcon||h.clearable||h.showPassword,[L.bm("suffix","password-clear")]:te.value&&ne.value},m.class])),v=(0,o.Fl)((()=>[L.e("wrapper"),L.is("focus",U.value)])),b=(0,T.l)({excludeKeys:(0,o.Fl)((()=>Object.keys(f.value)))}),{form:w,formItem:x}=(0,M.A)(),{inputId:S}=(0,M.p)(h,{formItemContext:x}),k=(0,O.Cd)(),E=(0,O.DT)(),L=(0,D.s3)("input"),H=(0,D.s3)("textarea"),F=(0,r.XI)(),B=(0,r.XI)(),U=(0,r.iH)(!1),V=(0,r.iH)(!1),j=(0,r.iH)(!1),W=(0,r.iH)(!1),Z=(0,r.iH)(),$=(0,r.XI)(h.inputStyle),q=(0,o.Fl)((()=>F.value||B.value)),G=(0,o.Fl)((()=>{var e;return null!=(e=null==w?void 0:w.statusIcon)&&e})),K=(0,o.Fl)((()=>(null==x?void 0:x.validateState)||"")),Y=(0,o.Fl)((()=>K.value&&_.rU[K.value])),J=(0,o.Fl)((()=>W.value?d.View:d.Hide)),X=(0,o.Fl)((()=>[m.style,h.inputStyle])),Q=(0,o.Fl)((()=>[h.inputStyle,$.value,{resize:h.resize}])),ee=(0,o.Fl)((()=>(0,c.Z)(h.modelValue)?"":String(h.modelValue))),te=(0,o.Fl)((()=>h.clearable&&!E.value&&!h.readonly&&!!ee.value&&(U.value||V.value))),ne=(0,o.Fl)((()=>h.showPassword&&!E.value&&!h.readonly&&!!ee.value&&(!!ee.value||U.value))),oe=(0,o.Fl)((()=>h.showWordLimit&&!!b.value.maxlength&&("text"===h.type||"textarea"===h.type)&&!E.value&&!h.readonly&&!h.showPassword)),re=(0,o.Fl)((()=>ee.value.length)),ie=(0,o.Fl)((()=>!!oe.value&&re.value>Number(b.value.maxlength))),ae=(0,o.Fl)((()=>!!p.suffix||!!h.suffixIcon||te.value||h.showPassword||oe.value||!!K.value&&G.value)),[se,le]=A(F);(0,s.yU7)(B,(e=>{if(de(),!oe.value||"both"!==h.resize)return;const t=e[0],{width:n}=t.contentRect;Z.value={right:`calc(100% - ${n+15+6}px)`}}));const ce=()=>{const{type:e,autosize:t}=h;if(l.C5&&"textarea"===e&&B.value)if(t){const e=(0,i.Kn)(t)?t.minRows:void 0,n=(0,i.Kn)(t)?t.maxRows:void 0,r=y(B.value,e,n);$.value={overflowY:"hidden",...r},(0,o.Y3)((()=>{B.value.offsetHeight,$.value=r}))}else $.value={minHeight:y(B.value).minHeight}},ue=e=>{let t=!1;return()=>{var n;if(t||!h.autosize)return;const o=null===(null==(n=B.value)?void 0:n.offsetParent);o||(e(),t=!0)}},de=ue(ce),he=()=>{const e=q.value;e&&e.value!==ee.value&&(e.value=ee.value)},me=async e=>{se();let{value:t}=e.target;h.formatter&&(t=h.parser?h.parser(t):t,t=h.formatter(t)),j.value||(t!==ee.value?(n(C.f_,t),n("input",t),await(0,o.Y3)(),he(),le()):he())},pe=e=>{n("change",e.target.value)},fe=e=>{n("compositionstart",e),j.value=!0},ge=e=>{var t;n("compositionupdate",e);const o=null==(t=e.target)?void 0:t.value,r=o[o.length-1]||"";j.value=!(0,R.w)(r)},ve=e=>{n("compositionend",e),j.value&&(j.value=!1,me(e))},ye=()=>{W.value=!W.value,be()},be=async()=>{var e;await(0,o.Y3)(),null==(e=q.value)||e.focus()},we=()=>{var e;return null==(e=q.value)?void 0:e.blur()},_e=e=>{U.value=!0,n("focus",e)},xe=e=>{var t;U.value=!1,n("blur",e),h.validateEvent&&(null==(t=null==x?void 0:x.validate)||t.call(x,"blur").catch((e=>(0,P.N)(e))))},Ce=e=>{V.value=!1,n("mouseleave",e)},Se=e=>{V.value=!0,n("mouseenter",e)},ke=e=>{n("keydown",e)},Ee=()=>{var e;null==(e=q.value)||e.select()},Te=()=>{n(C.f_,""),n("change",""),n("clear"),n("input","")};return(0,o.YP)((()=>h.modelValue),(()=>{var e;(0,o.Y3)((()=>ce())),h.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"change").catch((e=>(0,P.N)(e))))})),(0,o.YP)(ee,(()=>he())),(0,o.YP)((()=>h.type),(async()=>{await(0,o.Y3)(),he(),ce()})),(0,o.bv)((()=>{!h.formatter&&h.parser&&(0,P.N)("ElInput","If you set the parser, you also need to set the formatter."),he(),(0,o.Y3)(ce)})),t({input:F,textarea:B,ref:q,textareaStyle:Q,autosize:(0,r.Vh)(h,"autosize"),focus:be,blur:we,select:Ee,clear:Te,resizeTextarea:ce}),(e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",(0,o.dG)((0,r.SU)(f),{class:(0,r.SU)(g),style:(0,r.SU)(X),role:e.containerRole,onMouseenter:Se,onMouseleave:Ce}),[(0,o.kq)(" input "),"textarea"!==e.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.kq)(" prepend slot "),e.$slots.prepend?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,i.C_)((0,r.SU)(L).be("group","prepend"))},[(0,o.WI)(e.$slots,"prepend")],2)):(0,o.kq)("v-if",!0),(0,o._)("div",{class:(0,i.C_)((0,r.SU)(v))},[(0,o.kq)(" prefix slot "),e.$slots.prefix||e.prefixIcon?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,i.C_)((0,r.SU)(L).e("prefix"))},[(0,o._)("span",{class:(0,i.C_)((0,r.SU)(L).e("prefix-inner")),onClick:be},[(0,o.WI)(e.$slots,"prefix"),e.prefixIcon?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.gn),{key:0,class:(0,i.C_)((0,r.SU)(L).e("icon"))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.prefixIcon)))])),_:1},8,["class"])):(0,o.kq)("v-if",!0)],2)],2)):(0,o.kq)("v-if",!0),(0,o._)("input",(0,o.dG)({id:(0,r.SU)(S),ref_key:"input",ref:F,class:(0,r.SU)(L).e("inner")},(0,r.SU)(b),{type:e.showPassword?W.value?"text":"password":e.type,disabled:(0,r.SU)(E),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:h.form,onCompositionstart:fe,onCompositionupdate:ge,onCompositionend:ve,onInput:me,onFocus:_e,onBlur:xe,onChange:pe,onKeydown:ke}),null,16,z),(0,o.kq)(" suffix slot "),(0,r.SU)(ae)?((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,i.C_)((0,r.SU)(L).e("suffix"))},[(0,o._)("span",{class:(0,i.C_)((0,r.SU)(L).e("suffix-inner")),onClick:be},[(0,r.SU)(te)&&(0,r.SU)(ne)&&(0,r.SU)(oe)?(0,o.kq)("v-if",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.WI)(e.$slots,"suffix"),e.suffixIcon?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.gn),{key:0,class:(0,i.C_)((0,r.SU)(L).e("icon"))},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.suffixIcon)))])),_:1},8,["class"])):(0,o.kq)("v-if",!0)],64)),(0,r.SU)(te)?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.gn),{key:1,class:(0,i.C_)([(0,r.SU)(L).e("icon"),(0,r.SU)(L).e("clear")]),onMousedown:(0,a.iM)((0,r.SU)(i.dG),["prevent"]),onClick:Te},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(d.CircleClose))])),_:1},8,["class","onMousedown"])):(0,o.kq)("v-if",!0),(0,r.SU)(ne)?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.gn),{key:2,class:(0,i.C_)([(0,r.SU)(L).e("icon"),(0,r.SU)(L).e("password")]),onClick:ye},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)((0,r.SU)(J))))])),_:1},8,["class"])):(0,o.kq)("v-if",!0),(0,r.SU)(oe)?((0,o.wg)(),(0,o.iD)("span",{key:3,class:(0,i.C_)((0,r.SU)(L).e("count"))},[(0,o._)("span",{class:(0,i.C_)((0,r.SU)(L).e("count-inner"))},(0,i.zw)((0,r.SU)(re))+" / "+(0,i.zw)((0,r.SU)(b).maxlength),3)],2)):(0,o.kq)("v-if",!0),(0,r.SU)(K)&&(0,r.SU)(Y)&&(0,r.SU)(G)?((0,o.wg)(),(0,o.j4)((0,r.SU)(u.gn),{key:4,class:(0,i.C_)([(0,r.SU)(L).e("icon"),(0,r.SU)(L).e("validateIcon"),(0,r.SU)(L).is("loading","validating"===(0,r.SU)(K))])},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)((0,r.SU)(Y))))])),_:1},8,["class"])):(0,o.kq)("v-if",!0)],2)],2)):(0,o.kq)("v-if",!0)],2),(0,o.kq)(" append slot "),e.$slots.append?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,i.C_)((0,r.SU)(L).be("group","append"))},[(0,o.WI)(e.$slots,"append")],2)):(0,o.kq)("v-if",!0)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.kq)(" textarea "),(0,o._)("textarea",(0,o.dG)({id:(0,r.SU)(S),ref_key:"textarea",ref:B,class:(0,r.SU)(H).e("inner")},(0,r.SU)(b),{tabindex:e.tabindex,disabled:(0,r.SU)(E),readonly:e.readonly,autocomplete:e.autocomplete,style:(0,r.SU)(Q),"aria-label":e.label,placeholder:e.placeholder,form:h.form,onCompositionstart:fe,onCompositionupdate:ge,onCompositionend:ve,onInput:me,onFocus:_e,onBlur:xe,onChange:pe,onKeydown:ke}),null,16,N),(0,r.SU)(oe)?((0,o.wg)(),(0,o.iD)("span",{key:0,style:(0,i.j5)(Z.value),class:(0,i.C_)((0,r.SU)(L).e("count"))},(0,i.zw)((0,r.SU)(re))+" / "+(0,i.zw)((0,r.SU)(b).maxlength),7)):(0,o.kq)("v-if",!0)],64))],16,I)),[[a.F8,"hidden"!==e.type]])}});var F=(0,E.Z)(H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]),B=n(9015);const U=(0,B.nz)(F)},7178:function(e,t,n){"use strict";n.d(t,{z8:function(){return B}});n(7658);var o=n(3396),r=n(9242),i=n(4870),a=n(7139),s=n(6413),l=n(5119),c=n(1183),u=n(1015),d=n(3071),h=n(5994),m=n(2039);const p=["success","info","warning","error"],f=(0,d.N)({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:s.C5?document.body:void 0}),g=(0,h.o8)({customClass:{type:String,default:f.customClass},center:{type:Boolean,default:f.center},dangerouslyUseHTMLString:{type:Boolean,default:f.dangerouslyUseHTMLString},duration:{type:Number,default:f.duration},icon:{type:m.AA,default:f.icon},id:{type:String,default:f.id},message:{type:(0,h.Cq)([String,Object,Function]),default:f.message},onClose:{type:(0,h.Cq)(Function),required:!1},showClose:{type:Boolean,default:f.showClose},type:{type:String,values:p,default:f.type},offset:{type:Number,default:f.offset},zIndex:{type:Number,default:f.zIndex},grouping:{type:Boolean,default:f.grouping},repeatNum:{type:Number,default:f.repeatNum}}),v={destroy:()=>!0},y=(0,i.Um)([]),b=e=>{const t=y.findIndex((t=>t.id===e)),n=y[t];let o;return t>0&&(o=y[t-1]),{current:n,prev:o}},w=e=>{const{prev:t}=b(e);return t?t.vm.exposed.bottom.value:0},_=(e,t)=>{const n=y.findIndex((t=>t.id===e));return n>0?20:t};var x=n(5989),C=n(3965),S=n(9619);const k=["id"],E=["innerHTML"],T=(0,o.aZ)({name:"ElMessage"}),M=(0,o.aZ)({...T,props:g,emits:v,setup(e,{expose:t}){const n=e,{Close:d}=m.TypeComponents,{ns:h,zIndex:p}=(0,C.cU)("message"),{currentZIndex:f,nextZIndex:g}=p,v=(0,i.iH)(),y=(0,i.iH)(!1),b=(0,i.iH)(0);let x;const T=(0,o.Fl)((()=>n.type?"error"===n.type?"danger":n.type:"info")),M=(0,o.Fl)((()=>{const e=n.type;return{[h.bm("icon",e)]:e&&m.Rp[e]}})),O=(0,o.Fl)((()=>n.icon||m.Rp[n.type]||"")),D=(0,o.Fl)((()=>w(n.id))),A=(0,o.Fl)((()=>_(n.id,n.offset)+D.value)),R=(0,o.Fl)((()=>b.value+A.value)),P=(0,o.Fl)((()=>({top:`${A.value}px`,zIndex:f.value})));function I(){0!==n.duration&&({stop:x}=(0,s.eM)((()=>{N()}),n.duration))}function z(){null==x||x()}function N(){y.value=!1}function L({code:e}){e===S.EVENT_CODE.esc&&N()}return(0,o.bv)((()=>{I(),g(),y.value=!0})),(0,o.YP)((()=>n.repeatNum),(()=>{z(),I()})),(0,l.ORN)(document,"keydown",L),(0,l.yU7)(v,(()=>{b.value=v.value.getBoundingClientRect().height})),t({visible:y,bottom:R,close:N}),(e,t)=>((0,o.wg)(),(0,o.j4)(r.uT,{name:(0,i.SU)(h).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[0]||(t[0]=t=>e.$emit("destroy")),persisted:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",{id:e.id,ref_key:"messageRef",ref:v,class:(0,a.C_)([(0,i.SU)(h).b(),{[(0,i.SU)(h).m(e.type)]:e.type&&!e.icon},(0,i.SU)(h).is("center",e.center),(0,i.SU)(h).is("closable",e.showClose),e.customClass]),style:(0,a.j5)((0,i.SU)(P)),role:"alert",onMouseenter:z,onMouseleave:I},[e.repeatNum>1?((0,o.wg)(),(0,o.j4)((0,i.SU)(c.dQ),{key:0,value:e.repeatNum,type:(0,i.SU)(T),class:(0,a.C_)((0,i.SU)(h).e("badge"))},null,8,["value","type","class"])):(0,o.kq)("v-if",!0),(0,i.SU)(O)?((0,o.wg)(),(0,o.j4)((0,i.SU)(u.gn),{key:1,class:(0,a.C_)([(0,i.SU)(h).e("icon"),(0,i.SU)(M)])},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(O))))])),_:1},8,["class"])):(0,o.kq)("v-if",!0),(0,o.WI)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.kq)(" Caution here, message could've been compromised, never use user's input as message "),(0,o._)("p",{class:(0,a.C_)((0,i.SU)(h).e("content")),innerHTML:e.message},null,10,E)],2112)):((0,o.wg)(),(0,o.iD)("p",{key:0,class:(0,a.C_)((0,i.SU)(h).e("content"))},(0,a.zw)(e.message),3))])),e.showClose?((0,o.wg)(),(0,o.j4)((0,i.SU)(u.gn),{key:2,class:(0,a.C_)((0,i.SU)(h).e("closeBtn")),onClick:(0,r.iM)(N,["stop"])},{default:(0,o.w5)((()=>[(0,o.Wm)((0,i.SU)(d))])),_:1},8,["class","onClick"])):(0,o.kq)("v-if",!0)],46,k),[[r.F8,y.value]])])),_:3},8,["name","onBeforeLeave"]))}});var O=(0,x.Z)(M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]),D=n(7354),A=n(4620),R=n(5869);let P=1;const I=e=>{const t=!e||(0,a.HD)(e)||(0,o.lA)(e)||(0,a.mf)(e)?{message:e}:e,n={...f,...t};if(n.appendTo){if((0,a.HD)(n.appendTo)){let e=document.querySelector(n.appendTo);(0,D.kK)(e)||((0,A.N)("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),e=document.body),n.appendTo=e}}else n.appendTo=document.body;return n},z=e=>{const t=y.indexOf(e);if(-1===t)return;y.splice(t,1);const{handler:n}=e;n.close()},N=({appendTo:e,...t},n)=>{const i="message_"+P++,s=t.onClose,l=document.createElement("div"),c={...t,id:i,onClose:()=>{null==s||s(),z(m)},onDestroy:()=>{(0,r.sY)(null,l)}},u=(0,o.Wm)(O,c,(0,a.mf)(c.message)||(0,o.lA)(c.message)?{default:(0,a.mf)(c.message)?c.message:()=>c.message}:null);u.appContext=n||L._context,(0,r.sY)(u,l),e.appendChild(l.firstElementChild);const d=u.component,h={close:()=>{d.exposed.visible.value=!1}},m={id:i,vnode:u,vm:d,handler:h,props:u.component.props};return m},L=(e={},t)=>{if(!s.C5)return{close:()=>{}};if((0,D.hj)(R.I.max)&&y.length>=R.I.max)return{close:()=>{}};const n=I(e);if(n.grouping&&y.length){const e=y.find((({vnode:e})=>{var t;return(null==(t=e.props)?void 0:t.message)===n.message}));if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}const o=N(n,t);return y.push(o),o.handler};function H(e){for(const t of y)e&&e!==t.props.type||t.handler.close()}p.forEach((e=>{L[e]=(t={},n)=>{const o=I(t);return L({...o,type:e},n)}})),L.closeAll=H,L._context=null;var F=n(9015);const B=(0,F.oN)(L,"$message")},9619:function(e,t,n){"use strict";n.d(t,{EVENT_CODE:function(){return o}});const o={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"}},6835:function(e,t,n){"use strict";n.d(t,{O7:function(){return r},e_:function(){return i},f_:function(){return o}});const o="update:modelValue",r="change",i="input"},7609:function(e,t,n){"use strict";n.d(t,{V:function(){return r},k:function(){return o}});const o=["","default","small","large"],r={large:40,default:32,small:24}},7764:function(e,t,n){"use strict";n.d(t,{Z:function(){return Rj}});const o="2.3.5",r=Symbol("INSTALLED_KEY");var i=n(3965);const a=(e=[])=>{const t=(t,n)=>{t[r]||(t[r]=!0,e.forEach((e=>t.use(e))),n&&(0,i.AR)(n,t,!0))};return{version:o,install:t}};var s=n(3396),l=n(4870),c=n(7139),u=n(5119),d=n(5994),h=n(7354),m=n(6835);const p=(0,d.o8)({zIndex:{type:(0,d.Cq)([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),f={scroll:({scrollTop:e,fixed:t})=>(0,h.hj)(e)&&(0,h.jn)(t),[m.O7]:e=>(0,h.jn)(e)};var g=n(5989),v=n(6734),y=n(529),b=n(4620),w=(n(7658),n(6413));const _=(e,t)=>{if(!w.C5)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],o=(0,y.C2)(e,n);return["scroll","auto","overlay"].some((e=>o.includes(e)))},x=(e,t)=>{if(!w.C5)return;let n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(_(n,t))return n;n=n.parentNode}return n};let C;const S=e=>{var t;if(!w.C5)return 0;if(void 0!==C)return C;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const o=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const i=r.offsetWidth;return null==(t=n.parentNode)||t.removeChild(n),C=o-i,C};function k(e,t){if(!w.C5)return;if(!t)return void(e.scrollTop=0);const n=[];let o=t.offsetParent;while(null!==o&&e!==o&&e.contains(o))n.push(o),o=o.offsetParent;const r=t.offsetTop+n.reduce(((e,t)=>e+t.offsetTop),0),i=r+t.offsetHeight,a=e.scrollTop,s=a+e.clientHeight;r<a?e.scrollTop=r:i>s&&(e.scrollTop=i-e.clientHeight)}const E="ElAffix",T=(0,s.aZ)({name:E}),M=(0,s.aZ)({...T,props:p,emits:f,setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("affix"),i=(0,l.XI)(),a=(0,l.XI)(),d=(0,l.XI)(),{height:h}=(0,u.iPe)(),{height:m,width:p,top:f,bottom:g,update:w}=(0,u.rBN)(a,{windowScroll:!1}),_=(0,u.rBN)(i),C=(0,l.iH)(!1),S=(0,l.iH)(0),k=(0,l.iH)(0),T=(0,s.Fl)((()=>({height:C.value?`${m.value}px`:"",width:C.value?`${p.value}px`:""}))),M=(0,s.Fl)((()=>{if(!C.value)return{};const e=o.offset?(0,y.Nn)(o.offset):0;return{height:`${m.value}px`,width:`${p.value}px`,top:"top"===o.position?e:"",bottom:"bottom"===o.position?e:"",transform:k.value?`translateY(${k.value}px)`:"",zIndex:o.zIndex}})),O=()=>{if(d.value)if(S.value=d.value instanceof Window?document.documentElement.scrollTop:d.value.scrollTop||0,"top"===o.position)if(o.target){const e=_.bottom.value-o.offset-m.value;C.value=o.offset>f.value&&_.bottom.value>0,k.value=e<0?e:0}else C.value=o.offset>f.value;else if(o.target){const e=h.value-_.top.value-o.offset-m.value;C.value=h.value-o.offset<g.value&&h.value>_.top.value,k.value=e<0?-e:0}else C.value=h.value-o.offset<g.value},D=()=>{w(),n("scroll",{scrollTop:S.value,fixed:C.value})};return(0,s.YP)(C,(e=>n("change",e))),(0,s.bv)((()=>{var e;o.target?(i.value=null!=(e=document.querySelector(o.target))?e:void 0,i.value||(0,b._)(E,`Target is not existed: ${o.target}`)):i.value=document.documentElement,d.value=x(a.value,!0),w()})),(0,u.ORN)(d,"scroll",D),(0,s.m0)(O),t({update:O,updateRoot:w}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"root",ref:a,class:(0,c.C_)((0,l.SU)(r).b()),style:(0,c.j5)((0,l.SU)(T))},[(0,s._)("div",{class:(0,c.C_)({[(0,l.SU)(r).m("fixed")]:C.value}),style:(0,c.j5)((0,l.SU)(M))},[(0,s.WI)(e.$slots,"default")],6)],6))}});var O=(0,g.Z)(M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]),D=n(9015);const A=(0,D.nz)(O);var R=n(9242),P=n(1015),I=n(984),z=n(2039);const N=["light","dark"],L=(0,d.o8)({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:(0,I.uc)(z.Rp),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:N,default:"light"}}),H={close:e=>e instanceof MouseEvent},F=(0,s.aZ)({name:"ElAlert"}),B=(0,s.aZ)({...F,props:L,emits:H,setup(e,{emit:t}){const n=e,{Close:o}=z.TypeComponents,r=(0,s.Rr)(),i=(0,v.s3)("alert"),a=(0,l.iH)(!0),u=(0,s.Fl)((()=>z.Rp[n.type])),d=(0,s.Fl)((()=>[i.e("icon"),{[i.is("big")]:!!n.description||!!r.default}])),h=(0,s.Fl)((()=>({[i.is("bold")]:n.description||r.default}))),m=e=>{a.value=!1,t("close",e)};return(e,t)=>((0,s.wg)(),(0,s.j4)(R.uT,{name:(0,l.SU)(i).b("fade"),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:(0,c.C_)([(0,l.SU)(i).b(),(0,l.SU)(i).m(e.type),(0,l.SU)(i).is("center",e.center),(0,l.SU)(i).is(e.effect)]),role:"alert"},[e.showIcon&&(0,l.SU)(u)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(d))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(u))))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).e("content"))},[e.title||e.$slots.title?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)([(0,l.SU)(i).e("title"),(0,l.SU)(h)])},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title),1)]))],2)):(0,s.kq)("v-if",!0),e.$slots.default||e.description?((0,s.wg)(),(0,s.iD)("p",{key:1,class:(0,c.C_)((0,l.SU)(i).e("description"))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,c.zw)(e.description),1)]))],2)):(0,s.kq)("v-if",!0),e.closable?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[e.closeText?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)([(0,l.SU)(i).e("close-btn"),(0,l.SU)(i).is("customed")]),onClick:m},(0,c.zw)(e.closeText),3)):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,class:(0,c.C_)((0,l.SU)(i).e("close-btn")),onClick:m},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(o))])),_:1},8,["class"]))],64)):(0,s.kq)("v-if",!0)],2)],2),[[R.F8,a.value]])])),_:3},8,["name"]))}});var U=(0,g.Z)(B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const V=(0,D.nz)(U);var j=n(6049),W=n(8345),Z=function(){return W.Z.Date.now()},$=Z,q=/\s/;function G(e){var t=e.length;while(t--&&q.test(e.charAt(t)));return t}var K=G,Y=/^\s+/;function J(e){return e?e.slice(0,K(e)+1).replace(Y,""):e}var X=J,Q=n(8590),ee=NaN,te=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,oe=/^0o[0-7]+$/i,re=parseInt;function ie(e){if("number"==typeof e)return e;if((0,Q.Z)(e))return ee;if((0,j.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,j.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=X(e);var n=ne.test(e);return n||oe.test(e)?re(e.slice(2),n?2:8):te.test(e)?ee:+e}var ae=ie,se="Expected a function",le=Math.max,ce=Math.min;function ue(e,t,n){var o,r,i,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(se);function m(t){var n=o,i=r;return o=r=void 0,c=t,a=e.apply(i,n),a}function p(e){return c=e,s=setTimeout(v,t),u?m(e):a}function f(e){var n=e-l,o=e-c,r=t-n;return d?ce(r,i-o):r}function g(e){var n=e-l,o=e-c;return void 0===l||n>=t||n<0||d&&o>=i}function v(){var e=$();if(g(e))return y(e);s=setTimeout(v,f(e))}function y(e){return s=void 0,h&&o?m(e):(o=r=void 0,a)}function b(){void 0!==s&&clearTimeout(s),c=0,o=l=r=s=void 0}function w(){return void 0===s?a:y($())}function _(){var e=$(),n=g(e);if(o=arguments,r=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(v,t),m(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=ae(t)||0,(0,j.Z)(n)&&(u=!!n.leading,d="maxWait"in n,i=d?le(ae(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),_.cancel=b,_.flush=w,_}var de=ue,he=n(2748),me=n(3417);const pe=4,fe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ge=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),ve=Symbol("scrollbarContextKey"),ye=(0,d.o8)({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),be="Thumb",we=(0,s.aZ)({__name:"thumb",props:ye,setup(e){const t=e,n=(0,s.f3)(ve),o=(0,v.s3)("scrollbar");n||(0,b._)(be,"can not inject scrollbar context");const r=(0,l.iH)(),i=(0,l.iH)(),a=(0,l.iH)({}),d=(0,l.iH)(!1);let h=!1,m=!1,p=w.C5?document.onselectstart:null;const f=(0,s.Fl)((()=>fe[t.vertical?"vertical":"horizontal"])),g=(0,s.Fl)((()=>ge({size:t.size,move:t.move,bar:f.value}))),y=(0,s.Fl)((()=>r.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/i.value[f.value.offset])),_=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),C(e);const n=e.currentTarget;n&&(a.value[f.value.axis]=n[f.value.offset]-(e[f.value.client]-n.getBoundingClientRect()[f.value.direction]))},x=e=>{if(!i.value||!r.value||!n.wrapElement)return;const t=Math.abs(e.target.getBoundingClientRect()[f.value.direction]-e[f.value.client]),o=i.value[f.value.offset]/2,a=100*(t-o)*y.value/r.value[f.value.offset];n.wrapElement[f.value.scroll]=a*n.wrapElement[f.value.scrollSize]/100},C=e=>{e.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",k),p=document.onselectstart,document.onselectstart=()=>!1},S=e=>{if(!r.value||!i.value)return;if(!1===h)return;const t=a.value[f.value.axis];if(!t)return;const o=-1*(r.value.getBoundingClientRect()[f.value.direction]-e[f.value.client]),s=i.value[f.value.offset]-t,l=100*(o-s)*y.value/r.value[f.value.offset];n.wrapElement[f.value.scroll]=l*n.wrapElement[f.value.scrollSize]/100},k=()=>{h=!1,a.value[f.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",k),M(),m&&(d.value=!1)},E=()=>{m=!1,d.value=!!t.size},T=()=>{m=!0,d.value=h};(0,s.Jd)((()=>{M(),document.removeEventListener("mouseup",k)}));const M=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return(0,u.ORN)((0,l.Vh)(n,"scrollbarElement"),"mousemove",E),(0,u.ORN)((0,l.Vh)(n,"scrollbarElement"),"mouseleave",T),(e,t)=>((0,s.wg)(),(0,s.j4)(R.uT,{name:(0,l.SU)(o).b("fade"),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{ref_key:"instance",ref:r,class:(0,c.C_)([(0,l.SU)(o).e("bar"),(0,l.SU)(o).is((0,l.SU)(f).key)]),onMousedown:x},[(0,s._)("div",{ref_key:"thumb",ref:i,class:(0,c.C_)((0,l.SU)(o).e("thumb")),style:(0,c.j5)((0,l.SU)(g)),onMousedown:_},null,38)],34),[[R.F8,e.always||d.value]])])),_:1},8,["name"]))}});var _e=(0,g.Z)(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const xe=(0,d.o8)({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Ce=(0,s.aZ)({__name:"bar",props:xe,setup(e,{expose:t}){const n=e,o=(0,l.iH)(0),r=(0,l.iH)(0),i=e=>{if(e){const t=e.offsetHeight-pe,i=e.offsetWidth-pe;r.value=100*e.scrollTop/t*n.ratioY,o.value=100*e.scrollLeft/i*n.ratioX}};return t({handleScroll:i}),(e,t)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(_e,{move:o.value,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),(0,s.Wm)(_e,{move:r.value,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}});var Se=(0,g.Z)(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const ke=(0,d.o8)({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:(0,d.Cq)([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Ee={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(h.hj)},Te="ElScrollbar",Me=(0,s.aZ)({name:Te}),Oe=(0,s.aZ)({...Me,props:ke,emits:Ee,setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("scrollbar");let i,a;const d=(0,l.iH)(),m=(0,l.iH)(),p=(0,l.iH)(),f=(0,l.iH)("0"),g=(0,l.iH)("0"),w=(0,l.iH)(),_=(0,l.iH)(1),x=(0,l.iH)(1),C=(0,s.Fl)((()=>{const e={};return o.height&&(e.height=(0,y.Nn)(o.height)),o.maxHeight&&(e.maxHeight=(0,y.Nn)(o.maxHeight)),[o.wrapStyle,e]})),S=(0,s.Fl)((()=>[o.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!o.native}])),k=(0,s.Fl)((()=>[r.e("view"),o.viewClass])),E=()=>{var e;m.value&&(null==(e=w.value)||e.handleScroll(m.value),n("scroll",{scrollTop:m.value.scrollTop,scrollLeft:m.value.scrollLeft}))};function T(e,t){(0,c.Kn)(e)?m.value.scrollTo(e):(0,h.hj)(e)&&(0,h.hj)(t)&&m.value.scrollTo(e,t)}const M=e=>{(0,h.hj)(e)?m.value.scrollTop=e:(0,b.N)(Te,"value must be a number")},O=e=>{(0,h.hj)(e)?m.value.scrollLeft=e:(0,b.N)(Te,"value must be a number")},D=()=>{if(!m.value)return;const e=m.value.offsetHeight-pe,t=m.value.offsetWidth-pe,n=e**2/m.value.scrollHeight,r=t**2/m.value.scrollWidth,i=Math.max(n,o.minSize),a=Math.max(r,o.minSize);_.value=n/(e-n)/(i/(e-i)),x.value=r/(t-r)/(a/(t-a)),g.value=i+pe<e?`${i}px`:"",f.value=a+pe<t?`${a}px`:""};return(0,s.YP)((()=>o.noresize),(e=>{e?(null==i||i(),null==a||a()):(({stop:i}=(0,u.yU7)(p,D)),a=(0,u.ORN)("resize",D))}),{immediate:!0}),(0,s.YP)((()=>[o.maxHeight,o.height]),(()=>{o.native||(0,s.Y3)((()=>{var e;D(),m.value&&(null==(e=w.value)||e.handleScroll(m.value))}))})),(0,s.JJ)(ve,(0,l.qj)({scrollbarElement:d,wrapElement:m})),(0,s.bv)((()=>{o.native||(0,s.Y3)((()=>{D()}))})),(0,s.ic)((()=>D())),t({wrapRef:m,update:D,scrollTo:T,setScrollTop:M,setScrollLeft:O,handleScroll:E}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"scrollbarRef",ref:d,class:(0,c.C_)((0,l.SU)(r).b())},[(0,s._)("div",{ref_key:"wrapRef",ref:m,class:(0,c.C_)((0,l.SU)(S)),style:(0,c.j5)((0,l.SU)(C)),onScroll:E},[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{ref_key:"resizeRef",ref:p,class:(0,c.C_)((0,l.SU)(k)),style:(0,c.j5)(e.viewStyle)},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)(Se,{key:0,ref_key:"barRef",ref:w,height:g.value,width:f.value,always:e.always,"ratio-x":x.value,"ratio-y":_.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var De=(0,g.Z)(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Ae=(0,D.nz)(De),Re=Symbol("popper"),Pe=Symbol("popperContent"),Ie=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],ze=(0,d.o8)({role:{type:String,values:Ie,default:"tooltip"}}),Ne=(0,s.aZ)({name:"ElPopper",inheritAttrs:!1}),Le=(0,s.aZ)({...Ne,props:ze,setup(e,{expose:t}){const n=e,o=(0,l.iH)(),r=(0,l.iH)(),i=(0,l.iH)(),a=(0,l.iH)(),c=(0,s.Fl)((()=>n.role)),u={triggerRef:o,popperInstanceRef:r,contentRef:i,referenceRef:a,role:c};return t(u),(0,s.JJ)(Re,u),(e,t)=>(0,s.WI)(e.$slots,"default")}});var He=(0,g.Z)(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Fe=(0,D.nz)(He),Be=Symbol("elTooltip");function Ue(){let e;const t=(t,o)=>{n(),e=window.setTimeout(t,o)},n=()=>window.clearTimeout(e);return(0,w.IY)((()=>n())),{registerTimeout:t,cancelTimeout:n}}const Ve=(0,d.o8)({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),je=({showAfter:e,hideAfter:t,autoClose:n,open:o,close:r})=>{const{registerTimeout:i}=Ue(),{registerTimeout:a,cancelTimeout:s}=Ue(),c=t=>{i((()=>{o(t);const e=(0,l.SU)(n);(0,h.hj)(e)&&e>0&&a((()=>{r(t)}),e)}),(0,l.SU)(e))},u=e=>{s(),i((()=>{r(e)}),(0,l.SU)(t))};return{onOpen:c,onClose:u}};var We="top",Ze="bottom",$e="right",qe="left",Ge="auto",Ke=[We,Ze,$e,qe],Ye="start",Je="end",Xe="clippingParents",Qe="viewport",et="popper",tt="reference",nt=Ke.reduce((function(e,t){return e.concat([t+"-"+Ye,t+"-"+Je])}),[]),ot=[].concat(Ke,[Ge]).reduce((function(e,t){return e.concat([t,t+"-"+Ye,t+"-"+Je])}),[]),rt="beforeRead",it="read",at="afterRead",st="beforeMain",lt="main",ct="afterMain",ut="beforeWrite",dt="write",ht="afterWrite",mt=[rt,it,at,st,lt,ct,ut,dt,ht];function pt(e){return e?(e.nodeName||"").toLowerCase():null}function ft(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gt(e){var t=ft(e).Element;return e instanceof t||e instanceof Element}function vt(e){var t=ft(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function yt(e){if("undefined"==typeof ShadowRoot)return!1;var t=ft(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function bt(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];!vt(r)||!pt(r)||(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))}function wt(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),a=i.reduce((function(e,t){return e[t]="",e}),{});!vt(o)||!pt(o)||(Object.assign(o.style,a),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}}var _t={name:"applyStyles",enabled:!0,phase:"write",fn:bt,effect:wt,requires:["computeStyles"]};function xt(e){return e.split("-")[0]}var Ct=Math.max,St=Math.min,kt=Math.round;function Et(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,r=1;if(vt(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(o=kt(n.width)/a||1),i>0&&(r=kt(n.height)/i||1)}return{width:n.width/o,height:n.height/r,top:n.top/r,right:n.right/o,bottom:n.bottom/r,left:n.left/o,x:n.left/o,y:n.top/r}}function Tt(e){var t=Et(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function Mt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&yt(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ot(e){return ft(e).getComputedStyle(e)}function Dt(e){return["table","td","th"].indexOf(pt(e))>=0}function At(e){return((gt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Rt(e){return"html"===pt(e)?e:e.assignedSlot||e.parentNode||(yt(e)?e.host:null)||At(e)}function Pt(e){return vt(e)&&"fixed"!==Ot(e).position?e.offsetParent:null}function It(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&vt(e)){var o=Ot(e);if("fixed"===o.position)return null}var r=Rt(e);for(yt(r)&&(r=r.host);vt(r)&&["html","body"].indexOf(pt(r))<0;){var i=Ot(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}function zt(e){for(var t=ft(e),n=Pt(e);n&&Dt(n)&&"static"===Ot(n).position;)n=Pt(n);return n&&("html"===pt(n)||"body"===pt(n)&&"static"===Ot(n).position)?t:n||It(e)||t}function Nt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lt(e,t,n){return Ct(e,St(t,n))}function Ht(e,t,n){var o=Lt(e,t,n);return o>n?n:o}function Ft(){return{top:0,right:0,bottom:0,left:0}}function Bt(e){return Object.assign({},Ft(),e)}function Ut(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Vt=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Bt("number"!=typeof e?e:Ut(e,Ke))};function jt(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=xt(n.placement),l=Nt(s),c=[qe,$e].indexOf(s)>=0,u=c?"height":"width";if(i&&a){var d=Vt(r.padding,n),h=Tt(i),m="y"===l?We:qe,p="y"===l?Ze:$e,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],g=a[l]-n.rects.reference[l],v=zt(i),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,b=f/2-g/2,w=d[m],_=y-h[u]-d[p],x=y/2-h[u]/2+b,C=Lt(w,x,_),S=l;n.modifiersData[o]=(t={},t[S]=C,t.centerOffset=C-x,t)}}function Wt(e){var t=e.state,n=e.options,o=n.element,r=void 0===o?"[data-popper-arrow]":o;null!=r&&("string"==typeof r&&(r=t.elements.popper.querySelector(r),!r)||!Mt(t.elements.popper,r)||(t.elements.arrow=r))}var Zt={name:"arrow",enabled:!0,phase:"main",fn:jt,effect:Wt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $t(e){return e.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gt(e){var t=e.x,n=e.y,o=window,r=o.devicePixelRatio||1;return{x:kt(t*r)/r||0,y:kt(n*r)/r||0}}function Kt(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,m=void 0===h?0:h,p=a.y,f=void 0===p?0:p,g="function"==typeof u?u({x:m,y:f}):{x:m,y:f};m=g.x,f=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=qe,w=We,_=window;if(c){var x=zt(n),C="clientHeight",S="clientWidth";if(x===ft(n)&&(x=At(n),"static"!==Ot(x).position&&"absolute"===s&&(C="scrollHeight",S="scrollWidth")),r===We||(r===qe||r===$e)&&i===Je){w=Ze;var k=d&&x===_&&_.visualViewport?_.visualViewport.height:x[C];f-=k-o.height,f*=l?1:-1}if(r===qe||(r===We||r===Ze)&&i===Je){b=$e;var E=d&&x===_&&_.visualViewport?_.visualViewport.width:x[S];m-=E-o.width,m*=l?1:-1}}var T,M=Object.assign({position:s},c&&qt),O=!0===u?Gt({x:m,y:f}):{x:m,y:f};return m=O.x,f=O.y,l?Object.assign({},M,(T={},T[w]=y?"0":"",T[b]=v?"0":"",T.transform=(_.devicePixelRatio||1)<=1?"translate("+m+"px, "+f+"px)":"translate3d("+m+"px, "+f+"px, 0)",T)):Object.assign({},M,(t={},t[w]=y?f+"px":"",t[b]=v?m+"px":"",t.transform="",t))}function Yt(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:xt(t.placement),variation:$t(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Kt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Jt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Yt,data:{}},Xt={passive:!0};function Qt(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=void 0===r||r,a=o.resize,s=void 0===a||a,l=ft(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Xt)})),s&&l.addEventListener("resize",n.update,Xt),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Xt)})),s&&l.removeEventListener("resize",n.update,Xt)}}var en={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qt,data:{}},tn={left:"right",right:"left",bottom:"top",top:"bottom"};function nn(e){return e.replace(/left|right|bottom|top/g,(function(e){return tn[e]}))}var on={start:"end",end:"start"};function rn(e){return e.replace(/start|end/g,(function(e){return on[e]}))}function an(e){var t=ft(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function sn(e){return Et(At(e)).left+an(e).scrollLeft}function ln(e){var t=ft(e),n=At(e),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,s=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,s=o.offsetTop)),{width:r,height:i,x:a+sn(e),y:s}}function cn(e){var t,n=At(e),o=an(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=Ct(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ct(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+sn(e),l=-o.scrollTop;return"rtl"===Ot(r||n).direction&&(s+=Ct(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function un(e){var t=Ot(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function dn(e){return["html","body","#document"].indexOf(pt(e))>=0?e.ownerDocument.body:vt(e)&&un(e)?e:dn(Rt(e))}function hn(e,t){var n;void 0===t&&(t=[]);var o=dn(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=ft(o),a=r?[i].concat(i.visualViewport||[],un(o)?o:[]):o,s=t.concat(a);return r?s:s.concat(hn(Rt(a)))}function mn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function pn(e){var t=Et(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function fn(e,t){return t===Qe?mn(ln(e)):gt(t)?pn(t):mn(cn(At(e)))}function gn(e){var t=hn(Rt(e)),n=["absolute","fixed"].indexOf(Ot(e).position)>=0,o=n&&vt(e)?zt(e):e;return gt(o)?t.filter((function(e){return gt(e)&&Mt(e,o)&&"body"!==pt(e)})):[]}function vn(e,t,n){var o="clippingParents"===t?gn(e):[].concat(t),r=[].concat(o,[n]),i=r[0],a=r.reduce((function(t,n){var o=fn(e,n);return t.top=Ct(o.top,t.top),t.right=St(o.right,t.right),t.bottom=St(o.bottom,t.bottom),t.left=Ct(o.left,t.left),t}),fn(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function yn(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?xt(r):null,a=r?$t(r):null,s=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(i){case We:t={x:s,y:n.y-o.height};break;case Ze:t={x:s,y:n.y+n.height};break;case $e:t={x:n.x+n.width,y:l};break;case qe:t={x:n.x-o.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Nt(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Ye:t[c]=t[c]-(n[u]/2-o[u]/2);break;case Je:t[c]=t[c]+(n[u]/2-o[u]/2);break}}return t}function bn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=void 0===o?e.placement:o,i=n.boundary,a=void 0===i?Xe:i,s=n.rootBoundary,l=void 0===s?Qe:s,c=n.elementContext,u=void 0===c?et:c,d=n.altBoundary,h=void 0!==d&&d,m=n.padding,p=void 0===m?0:m,f=Bt("number"!=typeof p?p:Ut(p,Ke)),g=u===et?tt:et,v=e.rects.popper,y=e.elements[h?g:u],b=vn(gt(y)?y:y.contextElement||At(e.elements.popper),a,l),w=Et(e.elements.reference),_=yn({reference:w,element:v,strategy:"absolute",placement:r}),x=mn(Object.assign({},v,_)),C=u===et?x:w,S={top:b.top-C.top+f.top,bottom:C.bottom-b.bottom+f.bottom,left:b.left-C.left+f.left,right:C.right-b.right+f.right},k=e.modifiersData.offset;if(u===et&&k){var E=k[r];Object.keys(S).forEach((function(e){var t=[$e,Ze].indexOf(e)>=0?1:-1,n=[We,Ze].indexOf(e)>=0?"y":"x";S[e]+=E[n]*t}))}return S}function wn(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ot:l,u=$t(o),d=u?s?nt:nt.filter((function(e){return $t(e)===u})):Ke,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var m=h.reduce((function(t,n){return t[n]=bn(e,{placement:n,boundary:r,rootBoundary:i,padding:a})[xt(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}function _n(e){if(xt(e)===Ge)return[];var t=nn(e);return[rn(e),t,rn(t)]}function xn(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,p=void 0===m||m,f=n.allowedAutoPlacements,g=t.options.placement,v=xt(g),y=v===g,b=l||(y||!p?[nn(g)]:_n(g)),w=[g].concat(b).reduce((function(e,n){return e.concat(xt(n)===Ge?wn(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:f}):n)}),[]),_=t.rects.reference,x=t.rects.popper,C=new Map,S=!0,k=w[0],E=0;E<w.length;E++){var T=w[E],M=xt(T),O=$t(T)===Ye,D=[We,Ze].indexOf(M)>=0,A=D?"width":"height",R=bn(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=D?O?$e:qe:O?Ze:We;_[A]>x[A]&&(P=nn(P));var I=nn(P),z=[];if(i&&z.push(R[M]<=0),s&&z.push(R[P]<=0,R[I]<=0),z.every((function(e){return e}))){k=T,S=!1;break}C.set(T,z)}if(S)for(var N=p?3:1,L=function(e){var t=w.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},H=N;H>0;H--){var F=L(H);if("break"===F)break}t.placement!==k&&(t.modifiersData[o]._skip=!0,t.placement=k,t.reset=!0)}}var Cn={name:"flip",enabled:!0,phase:"main",fn:xn,requiresIfExists:["offset"],data:{_skip:!1}};function Sn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kn(e){return[We,$e,Ze,qe].some((function(t){return e[t]>=0}))}function En(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,a=bn(t,{elementContext:"reference"}),s=bn(t,{altBoundary:!0}),l=Sn(a,o),c=Sn(s,r,i),u=kn(l),d=kn(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Tn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:En};function Mn(e,t,n){var o=xt(e),r=[qe,We].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[qe,$e].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}function On(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,a=ot.reduce((function(e,n){return e[n]=Mn(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=a}var Dn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:On};function An(e){var t=e.state,n=e.name;t.modifiersData[n]=yn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Rn={name:"popperOffsets",enabled:!0,phase:"read",fn:An,data:{}};function Pn(e){return"x"===e?"y":"x"}function In(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,m=void 0===h||h,p=n.tetherOffset,f=void 0===p?0:p,g=bn(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=xt(t.placement),y=$t(t.placement),b=!y,w=Nt(v),_=Pn(w),x=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,k="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,E="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(x){if(i){var O,D="y"===w?We:qe,A="y"===w?Ze:$e,R="y"===w?"height":"width",P=x[w],I=P+g[D],z=P-g[A],N=m?-S[R]/2:0,L=y===Ye?C[R]:S[R],H=y===Ye?-S[R]:-C[R],F=t.elements.arrow,B=m&&F?Tt(F):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ft(),V=U[D],j=U[A],W=Lt(0,C[R],B[R]),Z=b?C[R]/2-N-W-V-E.mainAxis:L-W-V-E.mainAxis,$=b?-C[R]/2+N+W+j+E.mainAxis:H+W+j+E.mainAxis,q=t.elements.arrow&&zt(t.elements.arrow),G=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,K=null!=(O=null==T?void 0:T[w])?O:0,Y=P+Z-K-G,J=P+$-K,X=Lt(m?St(I,Y):I,P,m?Ct(z,J):z);x[w]=X,M[w]=X-P}if(s){var Q,ee="x"===w?We:qe,te="x"===w?Ze:$e,ne=x[_],oe="y"===_?"height":"width",re=ne+g[ee],ie=ne-g[te],ae=-1!==[We,qe].indexOf(v),se=null!=(Q=null==T?void 0:T[_])?Q:0,le=ae?re:ne-C[oe]-S[oe]-se+E.altAxis,ce=ae?ne+C[oe]+S[oe]-se-E.altAxis:ie,ue=m&&ae?Ht(le,ne,ce):Lt(m?le:re,ne,m?ce:ie);x[_]=ue,M[_]=ue-ne}t.modifiersData[o]=M}}var zn={name:"preventOverflow",enabled:!0,phase:"main",fn:In,requiresIfExists:["offset"]};function Nn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ln(e){return e!==ft(e)&&vt(e)?Nn(e):an(e)}function Hn(e){var t=e.getBoundingClientRect(),n=kt(t.width)/e.offsetWidth||1,o=kt(t.height)/e.offsetHeight||1;return 1!==n||1!==o}function Fn(e,t,n){void 0===n&&(n=!1);var o=vt(t),r=vt(t)&&Hn(t),i=At(t),a=Et(e,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&(("body"!==pt(t)||un(i))&&(s=Ln(t)),vt(t)?(l=Et(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=sn(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Bn(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name);var i=[].concat(e.requires||[],e.requiresIfExists||[]);i.forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}function Un(e){var t=Bn(e);return mt.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function Vn(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function jn(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var Wn={placement:"bottom",modifiers:[],strategy:"absolute"};function Zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function $n(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?Wn:r;return function(e,t,n){void 0===n&&(n=i);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wn,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:r,setOptions:function(n){var a="function"==typeof n?n(r.options):n;u(),r.options=Object.assign({},i,r.options,a),r.scrollParents={reference:gt(e)?hn(e):e.contextElement?hn(e.contextElement):[],popper:hn(t)};var s=Un(jn([].concat(o,r.options.modifiers)));return r.orderedModifiers=s.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!s){var e=r.elements,t=e.reference,n=e.popper;if(Zn(t,n)){r.rects={reference:Fn(t,zt(n),"fixed"===r.options.strategy),popper:Tt(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<r.orderedModifiers.length;o++)if(!0!==r.reset){var i=r.orderedModifiers[o],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"==typeof a&&(r=a({state:r,options:u,name:d,instance:l})||r)}else r.reset=!1,o=-1}}},update:Vn((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){u(),s=!0}};if(!Zn(e,t))return l;function c(){r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:r,name:t,instance:l,options:o}),c=function(){};a.push(s||c)}}))}function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}$n();var qn=[en,Rn,Jt,_t],Gn=($n({defaultModifiers:qn}),[en,Rn,Jt,_t,Dn,Cn,zn,Zt,Tn]),Kn=$n({defaultModifiers:Gn});const Yn=["fixed","absolute"],Jn=(0,d.o8)({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:(0,d.Cq)(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:ot,default:"bottom"},popperOptions:{type:(0,d.Cq)(Object),default:()=>({})},strategy:{type:String,values:Yn,default:"absolute"}}),Xn=(0,d.o8)({...Jn,id:String,style:{type:(0,d.Cq)([String,Array,Object])},className:{type:(0,d.Cq)([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:(0,d.Cq)([String,Array,Object])},popperStyle:{type:(0,d.Cq)([String,Array,Object])},referenceEl:{type:(0,d.Cq)(Object)},triggerTargetEl:{type:(0,d.Cq)(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Qn={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},eo=(0,d.o8)({...Ve,...Xn,appendTo:{type:(0,d.Cq)([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:(0,d.Cq)(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),to=(0,d.o8)({virtualRef:{type:(0,d.Cq)(Object)},virtualTriggering:Boolean,onMouseenter:{type:(0,d.Cq)(Function)},onMouseleave:{type:(0,d.Cq)(Function)},onClick:{type:(0,d.Cq)(Function)},onKeydown:{type:(0,d.Cq)(Function)},onFocus:{type:(0,d.Cq)(Function)},onBlur:{type:(0,d.Cq)(Function)},onContextmenu:{type:(0,d.Cq)(Function)},id:String,open:Boolean});var no=n(9619);const oo=(0,d.o8)({...to,disabled:Boolean,trigger:{type:(0,d.Cq)([String,Array]),default:"hover"},triggerKeys:{type:(0,d.Cq)(Array),default:()=>[no.EVENT_CODE.enter,no.EVENT_CODE.space]}}),ro=(0,d.l0)({type:(0,d.Cq)(Boolean),default:null}),io=(0,d.l0)({type:(0,d.Cq)(Function)}),ao=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,o=[t],r={[e]:ro,[n]:io},i=({indicator:o,toggleReason:r,shouldHideWhenRouteChanges:i,shouldProceed:a,onShow:l,onHide:u})=>{const d=(0,s.FN)(),{emit:m}=d,p=d.props,f=(0,s.Fl)((()=>(0,c.mf)(p[n]))),g=(0,s.Fl)((()=>null===p[e])),v=e=>{!0!==o.value&&(o.value=!0,r&&(r.value=e),(0,c.mf)(l)&&l(e))},y=e=>{!1!==o.value&&(o.value=!1,r&&(r.value=e),(0,c.mf)(u)&&u(e))},b=e=>{if(!0===p.disabled||(0,c.mf)(a)&&!a())return;const n=f.value&&w.C5;n&&m(t,!0),!g.value&&n||v(e)},_=e=>{if(!0===p.disabled||!w.C5)return;const n=f.value&&w.C5;n&&m(t,!1),!g.value&&n||y(e)},x=e=>{(0,h.jn)(e)&&(p.disabled&&e?f.value&&m(t,!1):o.value!==e&&(e?v():y()))},C=()=>{o.value?_():b()};return(0,s.YP)((()=>p[e]),x),i&&void 0!==d.appContext.config.globalProperties.$route&&(0,s.YP)((()=>({...d.proxy.$route})),(()=>{i.value&&o.value&&_()})),(0,s.bv)((()=>{x(p[e])})),{hide:_,show:b,toggle:C,hasUpdateHandler:f}};return{useModelToggle:i,useModelToggleProps:r,useModelToggleEmits:o}},{useModelToggle:so,useModelToggleProps:lo,useModelToggleEmits:co}=ao("modelValue"),uo=(0,d.o8)({arrowOffset:{type:Number,default:5}}),{useModelToggleProps:ho,useModelToggleEmits:mo,useModelToggle:po}=ao("visible"),fo=(0,d.o8)({...ze,...ho,...eo,...oo,...uo,showArrow:{type:Boolean,default:!0}}),go=[...mo,"before-show","before-hide","show","hide","open","close"],vo=(e,t)=>(0,c.kJ)(e)?e.includes(t):e===t,yo=(e,t,n)=>o=>{vo((0,l.SU)(e),t)&&n(o)},bo=(e,t,{checkForDefaultPrevented:n=!0}={})=>{const o=o=>{const r=null==e?void 0:e(o);if(!1===n||!r)return null==t?void 0:t(o)};return o},wo=e=>t=>"mouse"===t.pointerType?e(t):void 0;var _o=n(1727);const xo=Symbol("elForwardRef"),Co=e=>{const t=t=>{e.value=t};(0,s.JJ)(xo,{setForwardRef:t})},So=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),ko="ElOnlyChild",Eo=(0,s.aZ)({name:ko,setup(e,{slots:t,attrs:n}){var o;const r=(0,s.f3)(xo),i=So(null!=(o=null==r?void 0:r.setForwardRef)?o:c.dG);return()=>{var e;const o=null==(e=t.default)?void 0:e.call(t,n);if(!o)return null;if(o.length>1)return(0,b.N)(ko,"requires exact only one valid child."),null;const r=To(o);return r?(0,s.wy)((0,s.Ho)(r,n),[[i]]):((0,b.N)(ko,"no valid child node found"),null)}}});function To(e){if(!e)return null;const t=e;for(const n of t){if((0,c.Kn)(n))switch(n.type){case s.sv:continue;case s.xv:case"svg":return Mo(n);case s.HY:return To(n.children);default:return n}return Mo(n)}return null}function Mo(e){const t=(0,v.s3)("only-child");return(0,s.Wm)("span",{class:t.e("content")},[e])}const Oo=(0,s.aZ)({name:"ElPopperTrigger",inheritAttrs:!1}),Do=(0,s.aZ)({...Oo,props:to,setup(e,{expose:t}){const n=e,{role:o,triggerRef:r}=(0,s.f3)(Re,void 0);Co(r);const i=(0,s.Fl)((()=>c.value?n.id:void 0)),a=(0,s.Fl)((()=>{if(o&&"tooltip"===o.value)return n.open&&n.id?n.id:void 0})),c=(0,s.Fl)((()=>{if(o&&"tooltip"!==o.value)return o.value})),d=(0,s.Fl)((()=>c.value?`${n.open}`:void 0));let m;return(0,s.bv)((()=>{(0,s.YP)((()=>n.virtualRef),(e=>{e&&(r.value=(0,u.NXq)(e))}),{immediate:!0}),(0,s.YP)(r,((e,t)=>{null==m||m(),m=void 0,(0,h.kK)(e)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((o=>{var r;const i=n[o];i&&(e.addEventListener(o.slice(2).toLowerCase(),i),null==(r=null==t?void 0:t.removeEventListener)||r.call(t,o.slice(2).toLowerCase(),i))})),m=(0,s.YP)([i,a,c,d],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((n,o)=>{(0,_o.Z)(t[o])?e.removeAttribute(n):e.setAttribute(n,t[o])}))}),{immediate:!0})),(0,h.kK)(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),(0,s.Jd)((()=>{null==m||m(),m=void 0})),t({triggerRef:r}),(e,t)=>e.virtualTriggering?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)((0,l.SU)(Eo),(0,s.dG)({key:0},e.$attrs,{"aria-controls":(0,l.SU)(i),"aria-describedby":(0,l.SU)(a),"aria-expanded":(0,l.SU)(d),"aria-haspopup":(0,l.SU)(c)}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Ao=(0,g.Z)(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Ro=(0,s.aZ)({name:"ElTooltipTrigger"}),Po=(0,s.aZ)({...Ro,props:oo,setup(e,{expose:t}){const n=e,o=(0,v.s3)("tooltip"),{controlled:r,id:i,open:a,onOpen:u,onClose:d,onToggle:h}=(0,s.f3)(Be,void 0),m=(0,l.iH)(null),p=()=>{if((0,l.SU)(r)||n.disabled)return!0},f=(0,l.Vh)(n,"trigger"),g=bo(p,yo(f,"hover",u)),y=bo(p,yo(f,"hover",d)),b=bo(p,yo(f,"click",(e=>{0===e.button&&h(e)}))),w=bo(p,yo(f,"focus",u)),_=bo(p,yo(f,"focus",d)),x=bo(p,yo(f,"contextmenu",(e=>{e.preventDefault(),h(e)}))),C=bo(p,(e=>{const{code:t}=e;n.triggerKeys.includes(t)&&(e.preventDefault(),h(e))}));return t({triggerRef:m}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Ao),{id:(0,l.SU)(i),"virtual-ref":e.virtualRef,open:(0,l.SU)(a),"virtual-triggering":e.virtualTriggering,class:(0,c.C_)((0,l.SU)(o).e("trigger")),onBlur:(0,l.SU)(_),onClick:(0,l.SU)(b),onContextmenu:(0,l.SU)(x),onFocus:(0,l.SU)(w),onMouseenter:(0,l.SU)(g),onMouseleave:(0,l.SU)(y),onKeydown:(0,l.SU)(C)},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Io=(0,g.Z)(Po,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]),zo=n(8925);let No;const Lo=()=>{const e=(0,v.u_)(),t=(0,zo.SG)(),n=(0,s.Fl)((()=>`${e.value}-popper-container-${t.prefix}`)),o=(0,s.Fl)((()=>`#${n.value}`));return{id:n,selector:o}},Ho=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Fo=()=>{const{id:e,selector:t}=Lo();return(0,s.wF)((()=>{w.C5&&(No||document.body.querySelector(t.value)||(No=Ho(e.value)))})),{id:e,selector:t}},Bo=(e,t)=>{const n=(0,l.iH)(!1),o=(0,l.iH)(),r=()=>{t("focus")},i=e=>{var n;"pointer"!==(null==(n=e.detail)?void 0:n.focusReason)&&(o.value="first",t("blur"))},a=t=>{e.visible&&!n.value&&(t.target&&(o.value=t.target),n.value=!0)},s=t=>{e.trapping||("pointer"===t.detail.focusReason&&t.preventDefault(),n.value=!1)},c=()=>{n.value=!1,t("close")};return{focusStartRef:o,trapped:n,onFocusAfterReleased:i,onFocusAfterTrapped:r,onFocusInTrap:a,onFocusoutPrevented:s,onReleaseRequested:c}};function Uo(e){return void 0===e}var Vo=Uo;const jo=(e,t=[])=>{const{placement:n,strategy:o,popperOptions:r}=e,i={placement:n,strategy:o,...r,modifiers:[...Zo(e),...t]};return $o(i,null==r?void 0:r.modifiers),i},Wo=e=>{if(w.C5)return(0,u.NXq)(e)};function Zo(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:o}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function $o(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}var qo=n(8149);const Go=(e,t,n={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:e})=>{const t=Ko(e);Object.assign(a.value,t)},requires:["computeStyles"]},r=(0,s.Fl)((()=>{const{onFirstUpdate:e,placement:t,strategy:r,modifiers:i}=(0,l.SU)(n);return{onFirstUpdate:e,placement:t||"bottom",strategy:r||"absolute",modifiers:[...i||[],o,{name:"applyStyles",enabled:!1}]}})),i=(0,l.XI)(),a=(0,l.iH)({styles:{popper:{position:(0,l.SU)(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return(0,s.YP)(r,(e=>{const t=(0,l.SU)(i);t&&t.setOptions(e)}),{deep:!0}),(0,s.YP)([e,t],(([e,t])=>{c(),e&&t&&(i.value=Kn(e,t,(0,l.SU)(r)))})),(0,s.Jd)((()=>{c()})),{state:(0,s.Fl)((()=>{var e;return{...(null==(e=(0,l.SU)(i))?void 0:e.state)||{}}})),styles:(0,s.Fl)((()=>(0,l.SU)(a).styles)),attributes:(0,s.Fl)((()=>(0,l.SU)(a).attributes)),update:()=>{var e;return null==(e=(0,l.SU)(i))?void 0:e.update()},forceUpdate:()=>{var e;return null==(e=(0,l.SU)(i))?void 0:e.forceUpdate()},instanceRef:(0,s.Fl)((()=>(0,l.SU)(i)))}};function Ko(e){const t=Object.keys(e.elements),n=(0,qo.Z)(t.map((t=>[t,e.styles[t]||{}]))),o=(0,qo.Z)(t.map((t=>[t,e.attributes[t]])));return{styles:n,attributes:o}}const Yo=0,Jo=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:o,role:r}=(0,s.f3)(Re,void 0),i=(0,l.iH)(),a=(0,l.iH)(),c=(0,s.Fl)((()=>({name:"eventListeners",enabled:!!e.visible}))),u=(0,s.Fl)((()=>{var e;const t=(0,l.SU)(i),n=null!=(e=(0,l.SU)(a))?e:Yo;return{name:"arrow",enabled:!Vo(t),options:{element:t,padding:n}}})),d=(0,s.Fl)((()=>({onFirstUpdate:()=>{g()},...jo(e,[(0,l.SU)(u),(0,l.SU)(c)])}))),h=(0,s.Fl)((()=>Wo(e.referenceEl)||(0,l.SU)(o))),{attributes:m,state:p,styles:f,update:g,forceUpdate:v,instanceRef:y}=Go(h,n,d);return(0,s.YP)(y,(e=>t.value=e)),(0,s.bv)((()=>{(0,s.YP)((()=>{var e;return null==(e=(0,l.SU)(h))?void 0:e.getBoundingClientRect()}),(()=>{g()}))})),{attributes:m,arrowRef:i,contentRef:n,instanceRef:y,state:p,styles:f,role:r,forceUpdate:v,update:g}};var Xo=n(7750);const Qo=(e,{attributes:t,styles:n,role:o})=>{const{nextZIndex:r}=(0,Xo.Cn)(),i=(0,v.s3)("popper"),a=(0,s.Fl)((()=>(0,l.SU)(t).popper)),c=(0,l.iH)(e.zIndex||r()),u=(0,s.Fl)((()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass])),d=(0,s.Fl)((()=>[{zIndex:(0,l.SU)(c)},e.popperStyle||{},(0,l.SU)(n).popper])),h=(0,s.Fl)((()=>"dialog"===o.value?"false":void 0)),m=(0,s.Fl)((()=>(0,l.SU)(n).arrow||{})),p=()=>{c.value=e.zIndex||r()};return{ariaModal:h,arrowStyle:m,contentAttrs:a,contentClass:u,contentStyle:d,contentZIndex:c,updateZIndex:p}};var er=n(8715);const tr="focus-trap.focus-after-trapped",nr="focus-trap.focus-after-released",or="focus-trap.focusout-prevented",rr={cancelable:!0,bubbles:!1},ir={cancelable:!0,bubbles:!1},ar="focusAfterTrapped",sr="focusAfterReleased",lr=Symbol("elFocusTrap"),cr=(0,l.iH)(),ur=(0,l.iH)(0),dr=(0,l.iH)(0);let hr=0;const mr=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});while(n.nextNode())t.push(n.currentNode);return t},pr=(e,t)=>{for(const n of e)if(!fr(n,t))return n},fr=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;while(e){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},gr=e=>{const t=mr(e),n=pr(t,e),o=pr(t.reverse(),e);return[n,o]},vr=e=>e instanceof HTMLInputElement&&"select"in e,yr=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),dr.value=window.performance.now(),e!==n&&vr(e)&&t&&e.select()}};function br(e,t){const n=[...e],o=e.indexOf(t);return-1!==o&&n.splice(o,1),n}const wr=()=>{let e=[];const t=t=>{const n=e[0];n&&t!==n&&n.pause(),e=br(e,t),e.unshift(t)},n=t=>{var n,o;e=br(e,t),null==(o=null==(n=e[0])?void 0:n.resume)||o.call(n)};return{push:t,remove:n}},_r=(e,t=!1)=>{const n=document.activeElement;for(const o of e)if(yr(o,t),document.activeElement!==n)return},xr=wr(),Cr=()=>ur.value>dr.value,Sr=()=>{cr.value="pointer",ur.value=window.performance.now()},kr=()=>{cr.value="keyboard",ur.value=window.performance.now()},Er=()=>((0,s.bv)((()=>{0===hr&&(document.addEventListener("mousedown",Sr),document.addEventListener("touchstart",Sr),document.addEventListener("keydown",kr)),hr++})),(0,s.Jd)((()=>{hr--,hr<=0&&(document.removeEventListener("mousedown",Sr),document.removeEventListener("touchstart",Sr),document.removeEventListener("keydown",kr))})),{focusReason:cr,lastUserFocusTimestamp:ur,lastAutomatedFocusTimestamp:dr}),Tr=e=>new CustomEvent(or,{...ir,detail:e});let Mr=[];const Or=e=>{const t=e;t.key===no.EVENT_CODE.esc&&Mr.forEach((e=>e(t)))},Dr=e=>{(0,s.bv)((()=>{0===Mr.length&&document.addEventListener("keydown",Or),w.C5&&Mr.push(e)})),(0,s.Jd)((()=>{Mr=Mr.filter((t=>t!==e)),0===Mr.length&&w.C5&&document.removeEventListener("keydown",Or)}))},Ar=(0,s.aZ)({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ar,sr,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=(0,l.iH)();let o,r;const{focusReason:i}=Er();Dr((n=>{e.trapped&&!a.paused&&t("release-requested",n)}));const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=n=>{if(!e.loop&&!e.trapped)return;if(a.paused)return;const{key:o,altKey:r,ctrlKey:s,metaKey:l,currentTarget:c,shiftKey:u}=n,{loop:d}=e,h=o===no.EVENT_CODE.tab&&!r&&!s&&!l,m=document.activeElement;if(h&&m){const e=c,[o,r]=gr(e),a=o&&r;if(a)if(u||m!==r){if(u&&[o,e].includes(m)){const e=Tr({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&yr(r,!0))}}else{const e=Tr({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||(n.preventDefault(),d&&yr(o,!0))}else if(m===e){const e=Tr({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||n.preventDefault()}}};(0,s.JJ)(lr,{focusTrapRef:n,onKeydown:u}),(0,s.YP)((()=>e.focusTrapEl),(e=>{e&&(n.value=e)}),{immediate:!0}),(0,s.YP)([n],(([e],[t])=>{e&&(e.addEventListener("keydown",u),e.addEventListener("focusin",m),e.addEventListener("focusout",p)),t&&(t.removeEventListener("keydown",u),t.removeEventListener("focusin",m),t.removeEventListener("focusout",p))}));const d=e=>{t(ar,e)},h=e=>t(sr,e),m=i=>{const s=(0,l.SU)(n);if(!s)return;const c=i.target,u=i.relatedTarget,d=c&&s.contains(c);if(!e.trapped){const e=u&&s.contains(u);e||(o=u)}d&&t("focusin",i),a.paused||e.trapped&&(d?r=c:yr(r,!0))},p=o=>{const s=(0,l.SU)(n);if(!a.paused&&s)if(e.trapped){const n=o.relatedTarget;(0,_o.Z)(n)||s.contains(n)||setTimeout((()=>{if(!a.paused&&e.trapped){const e=Tr({focusReason:i.value});t("focusout-prevented",e),e.defaultPrevented||yr(r,!0)}}),0)}else{const e=o.target,n=e&&s.contains(e);n||t("focusout",o)}};async function f(){await(0,s.Y3)();const t=(0,l.SU)(n);if(t){xr.push(a);const n=t.contains(document.activeElement)?o:document.activeElement;o=n;const r=t.contains(n);if(!r){const o=new Event(tr,rr);t.addEventListener(tr,d),t.dispatchEvent(o),o.defaultPrevented||(0,s.Y3)((()=>{let o=e.focusStartEl;(0,c.HD)(o)||(yr(o),document.activeElement!==o&&(o="first")),"first"===o&&_r(mr(t),!0),document.activeElement!==n&&"container"!==o||yr(t)}))}}}function g(){const e=(0,l.SU)(n);if(e){e.removeEventListener(tr,d);const t=new CustomEvent(nr,{...rr,detail:{focusReason:i.value}});e.addEventListener(nr,h),e.dispatchEvent(t),t.defaultPrevented||"keyboard"!=i.value&&Cr()&&!e.contains(document.activeElement)||yr(null!=o?o:document.body),e.removeEventListener(nr,d),xr.remove(a)}}return(0,s.bv)((()=>{e.trapped&&f(),(0,s.YP)((()=>e.trapped),(e=>{e?f():g()}))})),(0,s.Jd)((()=>{e.trapped&&g()})),{onKeydown:u}}});function Rr(e,t,n,o,r,i){return(0,s.WI)(e.$slots,"default",{handleKeydown:e.onKeydown})}var Pr=(0,g.Z)(Ar,[["render",Rr],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Ir=(0,s.aZ)({name:"ElPopperContent"}),zr=(0,s.aZ)({...Ir,props:Xn,emits:Qn,setup(e,{expose:t,emit:n}){const o=e,{focusStartRef:r,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:u,onFocusInTrap:d,onFocusoutPrevented:m,onReleaseRequested:p}=Bo(o,n),{attributes:f,arrowRef:g,contentRef:v,styles:y,instanceRef:b,role:w,update:_}=Jo(o),{ariaModal:x,arrowStyle:C,contentAttrs:S,contentClass:k,contentStyle:E,updateZIndex:T}=Qo(o,{styles:y,attributes:f,role:w}),M=(0,s.f3)(er.K,void 0),O=(0,l.iH)();let D;(0,s.JJ)(Pe,{arrowStyle:C,arrowRef:g,arrowOffset:O}),M&&(M.addInputId||M.removeInputId)&&(0,s.JJ)(er.K,{...M,addInputId:c.dG,removeInputId:c.dG});const A=(e=!0)=>{_(),e&&T()},R=()=>{A(!1),o.visible&&o.focusOnShow?i.value=!0:!1===o.visible&&(i.value=!1)};return(0,s.bv)((()=>{(0,s.YP)((()=>o.triggerTargetEl),((e,t)=>{null==D||D(),D=void 0;const n=(0,l.SU)(e||v.value),r=(0,l.SU)(t||v.value);(0,h.kK)(n)&&(D=(0,s.YP)([w,()=>o.ariaLabel,x,()=>o.id],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,o)=>{(0,_o.Z)(e[o])?n.removeAttribute(t):n.setAttribute(t,e[o])}))}),{immediate:!0})),r!==n&&(0,h.kK)(r)&&["role","aria-label","aria-modal","id"].forEach((e=>{r.removeAttribute(e)}))}),{immediate:!0}),(0,s.YP)((()=>o.visible),R,{immediate:!0})})),(0,s.Jd)((()=>{null==D||D(),D=void 0})),t({popperContentRef:v,popperInstanceRef:b,updatePopper:A,contentStyle:E}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({ref_key:"contentRef",ref:v},(0,l.SU)(S),{style:(0,l.SU)(E),class:(0,l.SU)(k),tabindex:"-1",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))}),[(0,s.Wm)((0,l.SU)(Pr),{trapped:(0,l.SU)(i),"trap-on-focus-in":!0,"focus-trap-el":(0,l.SU)(v),"focus-start-el":(0,l.SU)(r),onFocusAfterTrapped:(0,l.SU)(u),onFocusAfterReleased:(0,l.SU)(a),onFocusin:(0,l.SU)(d),onFocusoutPrevented:(0,l.SU)(m),onReleaseRequested:(0,l.SU)(p)},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Nr=(0,g.Z)(zr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const Lr=(0,s.aZ)({name:"ElTooltipContent",inheritAttrs:!1}),Hr=(0,s.aZ)({...Lr,props:eo,setup(e,{expose:t}){const n=e,{selector:o}=Lo(),r=(0,v.s3)("tooltip"),i=(0,l.iH)(null),a=(0,l.iH)(!1),{controlled:c,id:d,open:h,trigger:m,onClose:p,onOpen:f,onShow:g,onHide:y,onBeforeShow:b,onBeforeHide:w}=(0,s.f3)(Be,void 0),_=(0,s.Fl)((()=>n.transition||`${r.namespace.value}-fade-in-linear`)),x=(0,s.Fl)((()=>n.persistent));(0,s.Jd)((()=>{a.value=!0}));const C=(0,s.Fl)((()=>!!(0,l.SU)(x)||(0,l.SU)(h))),S=(0,s.Fl)((()=>!n.disabled&&(0,l.SU)(h))),k=(0,s.Fl)((()=>n.appendTo||o.value)),E=(0,s.Fl)((()=>{var e;return null!=(e=n.style)?e:{}})),T=(0,s.Fl)((()=>!(0,l.SU)(h))),M=()=>{y()},O=()=>{if((0,l.SU)(c))return!0},D=bo(O,(()=>{n.enterable&&"hover"===(0,l.SU)(m)&&f()})),A=bo(O,(()=>{"hover"===(0,l.SU)(m)&&p()})),P=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e),null==b||b()},I=()=>{null==w||w()},z=()=>{g(),L=(0,u.i9H)((0,s.Fl)((()=>{var e;return null==(e=i.value)?void 0:e.popperContentRef})),(()=>{if((0,l.SU)(c))return;const e=(0,l.SU)(m);"hover"!==e&&p()}))},N=()=>{n.virtualTriggering||p()};let L;return(0,s.YP)((()=>(0,l.SU)(h)),(e=>{e||null==L||L()}),{flush:"post"}),(0,s.YP)((()=>n.content),(()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.updatePopper)||t.call(e)})),t({contentRef:i}),(e,t)=>((0,s.wg)(),(0,s.j4)(s.lR,{disabled:!e.teleported,to:(0,l.SU)(k)},[(0,s.Wm)(R.uT,{name:(0,l.SU)(_),onAfterLeave:M,onBeforeEnter:P,onAfterEnter:z,onBeforeLeave:I},{default:(0,s.w5)((()=>[(0,l.SU)(C)?(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,l.SU)(Nr),(0,s.dG)({key:0,id:(0,l.SU)(d),ref_key:"contentRef",ref:i},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":(0,l.SU)(T),"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,(0,l.SU)(E)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:(0,l.SU)(S),"z-index":e.zIndex,onMouseenter:(0,l.SU)(D),onMouseleave:(0,l.SU)(A),onBlur:N,onClose:(0,l.SU)(p)}),{default:(0,s.w5)((()=>[a.value?(0,s.kq)("v-if",!0):(0,s.WI)(e.$slots,"default",{key:0})])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[R.F8,(0,l.SU)(S)]]):(0,s.kq)("v-if",!0)])),_:3},8,["name"])],8,["disabled","to"]))}});var Fr=(0,g.Z)(Hr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Br=(0,s.aZ)({name:"ElPopperArrow",inheritAttrs:!1}),Ur=(0,s.aZ)({...Br,props:uo,setup(e,{expose:t}){const n=e,o=(0,v.s3)("popper"),{arrowOffset:r,arrowRef:i,arrowStyle:a}=(0,s.f3)(Pe,void 0);return(0,s.YP)((()=>n.arrowOffset),(e=>{r.value=e})),(0,s.Jd)((()=>{i.value=void 0})),t({arrowRef:i}),(e,t)=>((0,s.wg)(),(0,s.iD)("span",{ref_key:"arrowRef",ref:i,class:(0,c.C_)((0,l.SU)(o).e("arrow")),style:(0,c.j5)((0,l.SU)(a)),"data-popper-arrow":""},null,6))}});var Vr=(0,g.Z)(Ur,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const jr=["innerHTML"],Wr={key:1},Zr=(0,s.aZ)({name:"ElTooltip"}),$r=(0,s.aZ)({...Zr,props:fo,emits:go,setup(e,{expose:t,emit:n}){const o=e;Fo();const r=(0,zo.Me)(),i=(0,l.iH)(),a=(0,l.iH)(),u=()=>{var e;const t=(0,l.SU)(i);t&&(null==(e=t.popperInstanceRef)||e.update())},d=(0,l.iH)(!1),m=(0,l.iH)(),{show:p,hide:f,hasUpdateHandler:g}=po({indicator:d,toggleReason:m}),{onOpen:v,onClose:y}=je({showAfter:(0,l.Vh)(o,"showAfter"),hideAfter:(0,l.Vh)(o,"hideAfter"),autoClose:(0,l.Vh)(o,"autoClose"),open:p,close:f}),b=(0,s.Fl)((()=>(0,h.jn)(o.visible)&&!g.value));(0,s.JJ)(Be,{controlled:b,id:r,open:(0,l.OT)(d),trigger:(0,l.Vh)(o,"trigger"),onOpen:e=>{v(e)},onClose:e=>{y(e)},onToggle:e=>{(0,l.SU)(d)?y(e):v(e)},onShow:()=>{n("show",m.value)},onHide:()=>{n("hide",m.value)},onBeforeShow:()=>{n("before-show",m.value)},onBeforeHide:()=>{n("before-hide",m.value)},updatePopper:u}),(0,s.YP)((()=>o.disabled),(e=>{e&&d.value&&(d.value=!1)}));const w=()=>{var e,t;const n=null==(t=null==(e=a.value)?void 0:e.contentRef)?void 0:t.popperContentRef;return n&&n.contains(document.activeElement)};return(0,s.se)((()=>d.value&&f())),t({popperRef:i,contentRef:a,isFocusInsideContent:w,updatePopper:u,onOpen:v,onClose:y,hide:f}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Fe),{ref_key:"popperRef",ref:i,role:e.role},{default:(0,s.w5)((()=>[(0,s.Wm)(Io,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:(0,s.w5)((()=>[e.$slots.default?(0,s.WI)(e.$slots,"default",{key:0}):(0,s.kq)("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),(0,s.Wm)(Fr,{ref_key:"contentRef",ref:a,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"content",{},(()=>[e.rawContent?((0,s.wg)(),(0,s.iD)("span",{key:0,innerHTML:e.content},null,8,jr)):((0,s.wg)(),(0,s.iD)("span",Wr,(0,c.zw)(e.content),1))])),e.showArrow?((0,s.wg)(),(0,s.j4)((0,l.SU)(Vr),{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):(0,s.kq)("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"]))}});var qr=(0,g.Z)($r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Gr=(0,D.nz)(qr),Kr=(0,d.o8)({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:(0,d.Cq)(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:(0,d.Cq)([Function,Array]),default:c.dG},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:eo.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),Yr={[m.f_]:e=>(0,c.HD)(e),[m.e_]:e=>(0,c.HD)(e),[m.O7]:e=>(0,c.HD)(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>(0,c.Kn)(e)};var Jr=n(9068),Xr=n(9817);const Qr=()=>Math.floor(1e4*Math.random()),ei=["aria-expanded","aria-owns"],ti={key:0},ni=["id","aria-selected","onClick"],oi="ElAutocomplete",ri=(0,s.aZ)({name:oi,inheritAttrs:!1}),ii=(0,s.aZ)({...ri,props:Kr,emits:Yr,setup(e,{expose:t,emit:n}){const o=e,r=(0,Jr.l)(),i=(0,s.l1)(),a=(0,Xr.DT)(),d=(0,v.s3)("autocomplete"),h=(0,l.iH)(),p=(0,l.iH)(),f=(0,l.iH)(),g=(0,l.iH)();let y=!1,w=!1;const _=(0,l.iH)([]),x=(0,l.iH)(-1),C=(0,l.iH)(""),S=(0,l.iH)(!1),k=(0,l.iH)(!1),E=(0,l.iH)(!1),T=(0,s.Fl)((()=>d.b(String(Qr())))),M=(0,s.Fl)((()=>i.style)),O=(0,s.Fl)((()=>{const e=_.value.length>0;return(e||E.value)&&S.value})),D=(0,s.Fl)((()=>!o.hideLoading&&E.value)),A=(0,s.Fl)((()=>h.value?Array.from(h.value.$el.querySelectorAll("input")):[])),I=async()=>{await(0,s.Y3)(),O.value&&(C.value=`${h.value.$el.offsetWidth}px`)},z=()=>{x.value=-1},N=async e=>{if(k.value)return;const t=e=>{E.value=!1,k.value||((0,c.kJ)(e)?(_.value=e,x.value=o.highlightFirstItem?0:-1):(0,b._)(oi,"autocomplete suggestions must be an array"))};if(E.value=!0,(0,c.kJ)(o.fetchSuggestions))t(o.fetchSuggestions);else{const n=await o.fetchSuggestions(e,t);(0,c.kJ)(n)&&t(n)}},L=de(N,o.debounce),H=e=>{const t=!!e;if(n(m.e_,e),n(m.f_,e),k.value=!1,S.value||(S.value=t),!o.triggerOnFocus&&!e)return k.value=!0,void(_.value=[]);L(e)},F=e=>{var t;a.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||A.value.includes(document.activeElement))&&(S.value=!0)},B=e=>{n(m.O7,e)},U=e=>{w?w=!1:(S.value=!0,n("focus",e),o.triggerOnFocus&&!y&&L(String(o.modelValue)))},V=e=>{setTimeout((()=>{var t;(null==(t=f.value)?void 0:t.isFocusInsideContent())?w=!0:(S.value&&$(),n("blur",e))}))},j=()=>{S.value=!1,n(m.f_,""),n("clear")},W=async()=>{O.value&&x.value>=0&&x.value<_.value.length?K(_.value[x.value]):o.selectWhenUnmatched&&(n("select",{value:o.modelValue}),_.value=[],x.value=-1)},Z=e=>{O.value&&(e.preventDefault(),e.stopPropagation(),$())},$=()=>{S.value=!1},q=()=>{var e;null==(e=h.value)||e.focus()},G=()=>{var e;null==(e=h.value)||e.blur()},K=async e=>{n(m.e_,e[o.valueKey]),n(m.f_,e[o.valueKey]),n("select",e),_.value=[],x.value=-1},Y=e=>{if(!O.value||E.value)return;if(e<0)return void(x.value=-1);e>=_.value.length&&(e=_.value.length-1);const t=p.value.querySelector(`.${d.be("suggestion","wrap")}`),n=t.querySelectorAll(`.${d.be("suggestion","list")} li`),o=n[e],r=t.scrollTop,{offsetTop:i,scrollHeight:a}=o;i+a>r+t.clientHeight&&(t.scrollTop+=a),i<r&&(t.scrollTop-=a),x.value=e,h.value.ref.setAttribute("aria-activedescendant",`${T.value}-item-${x.value}`)};return(0,u.i9H)(g,(()=>{O.value&&$()})),(0,s.bv)((()=>{h.value.ref.setAttribute("role","textbox"),h.value.ref.setAttribute("aria-autocomplete","list"),h.value.ref.setAttribute("aria-controls","id"),h.value.ref.setAttribute("aria-activedescendant",`${T.value}-item-${x.value}`),y=h.value.ref.hasAttribute("readonly")})),t({highlightedIndex:x,activated:S,loading:E,inputRef:h,popperRef:f,suggestions:_,handleSelect:K,handleKeyEnter:W,focus:q,blur:G,close:$,highlight:Y}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),{ref_key:"popperRef",ref:f,visible:(0,l.SU)(O),placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[(0,l.SU)(d).e("popper"),e.popperClass],teleported:e.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${(0,l.SU)(d).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:I,onHide:z},{content:(0,s.w5)((()=>[(0,s._)("div",{ref_key:"regionRef",ref:p,class:(0,c.C_)([(0,l.SU)(d).b("suggestion"),(0,l.SU)(d).is("loading",(0,l.SU)(D))]),style:(0,c.j5)({[e.fitInputWidth?"width":"minWidth"]:C.value,outline:"none"}),role:"region"},[(0,s.Wm)((0,l.SU)(Ae),{id:(0,l.SU)(T),tag:"ul","wrap-class":(0,l.SU)(d).be("suggestion","wrap"),"view-class":(0,l.SU)(d).be("suggestion","list"),role:"listbox"},{default:(0,s.w5)((()=>[(0,l.SU)(D)?((0,s.wg)(),(0,s.iD)("li",ti,[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(d).is("loading"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Loading))])),_:1},8,["class"])])):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(_.value,((t,n)=>((0,s.wg)(),(0,s.iD)("li",{id:`${(0,l.SU)(T)}-item-${n}`,key:n,class:(0,c.C_)({highlighted:x.value===n}),role:"option","aria-selected":x.value===n,onClick:e=>K(t)},[(0,s.WI)(e.$slots,"default",{item:t},(()=>[(0,s.Uk)((0,c.zw)(t[e.valueKey]),1)]))],10,ni)))),128))])),_:3},8,["id","wrap-class","view-class"])],6)])),default:(0,s.w5)((()=>[(0,s._)("div",{ref_key:"listboxRef",ref:g,class:(0,c.C_)([(0,l.SU)(d).b(),e.$attrs.class]),style:(0,c.j5)((0,l.SU)(M)),role:"combobox","aria-haspopup":"listbox","aria-expanded":(0,l.SU)(O),"aria-owns":(0,l.SU)(T)},[(0,s.Wm)((0,l.SU)(me.EZ),(0,s.dG)({ref_key:"inputRef",ref:h},(0,l.SU)(r),{clearable:e.clearable,disabled:(0,l.SU)(a),name:e.name,"model-value":e.modelValue,onInput:H,onChange:B,onFocus:U,onBlur:V,onClear:j,onKeydown:[t[0]||(t[0]=(0,R.D2)((0,R.iM)((e=>Y(x.value-1)),["prevent"]),["up"])),t[1]||(t[1]=(0,R.D2)((0,R.iM)((e=>Y(x.value+1)),["prevent"]),["down"])),(0,R.D2)(W,["enter"]),(0,R.D2)($,["tab"]),(0,R.D2)(Z,["esc"])],onMousedown:F}),(0,s.Nv)({_:2},[e.$slots.prepend?{name:"prepend",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"suffix")]))}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,ei)])),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var ai=(0,g.Z)(ii,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const si=(0,D.nz)(ai);var li=n(7609);const ci=(0,d.o8)({size:{type:[Number,String],values:li.k,default:"",validator:e=>(0,h.hj)(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:z.AA},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:(0,d.Cq)(String),default:"cover"}}),ui={error:e=>e instanceof Event},di=["src","alt","srcset"],hi=(0,s.aZ)({name:"ElAvatar"}),mi=(0,s.aZ)({...hi,props:ci,emits:ui,setup(e,{emit:t}){const n=e,o=(0,v.s3)("avatar"),r=(0,l.iH)(!1),i=(0,s.Fl)((()=>{const{size:e,icon:t,shape:r}=n,i=[o.b()];return(0,c.HD)(e)&&i.push(o.m(e)),t&&i.push(o.m("icon")),r&&i.push(o.m(r)),i})),a=(0,s.Fl)((()=>{const{size:e}=n;return(0,h.hj)(e)?o.cssVarBlock({size:(0,y.Nn)(e)||""}):void 0})),u=(0,s.Fl)((()=>({objectFit:n.fit})));function d(e){r.value=!0,t("error",e)}return(0,s.YP)((()=>n.src),(()=>r.value=!1)),(e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(i)),style:(0,c.j5)((0,l.SU)(a))},[!e.src&&!e.srcSet||r.value?e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1})):(0,s.WI)(e.$slots,"default",{key:2}):((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:(0,c.j5)((0,l.SU)(u)),onError:d},null,44,di))],6))}});var pi=(0,g.Z)(mi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const fi=(0,D.nz)(pi),gi={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},vi={click:e=>e instanceof MouseEvent},yi=(e,t,n)=>{const o=(0,l.XI)(),r=(0,l.XI)(),i=(0,l.iH)(!1),a=()=>{o.value&&(i.value=o.value.scrollTop>=e.visibilityHeight)},c=e=>{var n;null==(n=o.value)||n.scrollTo({top:0,behavior:"smooth"}),t("click",e)},d=(0,w.vA)(a,300,!0);return(0,u.ORN)(r,"scroll",d),(0,s.bv)((()=>{var t;r.value=document,o.value=document.documentElement,e.target&&(o.value=null!=(t=document.querySelector(e.target))?t:void 0,o.value||(0,b._)(n,`target does not exist: ${e.target}`),r.value=o.value)})),{visible:i,handleClick:c}},bi="ElBacktop",wi=(0,s.aZ)({name:bi}),_i=(0,s.aZ)({...wi,props:gi,emits:vi,setup(e,{emit:t}){const n=e,o=(0,v.s3)("backtop"),{handleClick:r,visible:i}=yi(n,t,bi),a=(0,s.Fl)((()=>({right:`${n.right}px`,bottom:`${n.bottom}px`})));return(e,t)=>((0,s.wg)(),(0,s.j4)(R.uT,{name:`${(0,l.SU)(o).namespace.value}-fade-in`},{default:(0,s.w5)((()=>[(0,l.SU)(i)?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,c.j5)((0,l.SU)(a)),class:(0,c.C_)((0,l.SU)(o).b()),onClick:t[0]||(t[0]=(0,R.iM)(((...e)=>(0,l.SU)(r)&&(0,l.SU)(r)(...e)),["stop"]))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(o).e("icon"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.CaretTop))])),_:1},8,["class"])]))],6)):(0,s.kq)("v-if",!0)])),_:3},8,["name"]))}});var xi=(0,g.Z)(_i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const Ci=(0,D.nz)(xi);var Si=n(1183);const ki=Symbol("breadcrumbKey"),Ei=(0,d.o8)({separator:{type:String,default:"/"},separatorIcon:{type:z.AA}}),Ti=(0,s.aZ)({name:"ElBreadcrumb"}),Mi=(0,s.aZ)({...Ti,props:Ei,setup(e){const t=e,n=(0,v.s3)("breadcrumb"),o=(0,l.iH)();return(0,s.JJ)(ki,t),(0,s.bv)((()=>{const e=o.value.querySelectorAll(`.${n.e("item")}`);e.length&&e[e.length-1].setAttribute("aria-current","page")})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"breadcrumb",ref:o,class:(0,c.C_)((0,l.SU)(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[(0,s.WI)(e.$slots,"default")],2))}});var Oi=(0,g.Z)(Mi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Di=(0,d.o8)({to:{type:(0,d.Cq)([String,Object]),default:""},replace:{type:Boolean,default:!1}}),Ai=(0,s.aZ)({name:"ElBreadcrumbItem"}),Ri=(0,s.aZ)({...Ai,props:Di,setup(e){const t=e,n=(0,s.FN)(),o=(0,s.f3)(ki,void 0),r=(0,v.s3)("breadcrumb"),{separator:i,separatorIcon:a}=(0,l.BK)(o),u=n.appContext.config.globalProperties.$router,d=(0,l.iH)(),h=()=>{t.to&&u&&(t.replace?u.replace(t.to):u.push(t.to))};return(e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(r).e("item"))},[(0,s._)("span",{ref_key:"link",ref:d,class:(0,c.C_)([(0,l.SU)(r).e("inner"),(0,l.SU)(r).is("link",!!e.to)]),role:"link",onClick:h},[(0,s.WI)(e.$slots,"default")],2),(0,l.SU)(a)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(r).e("separator"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(a))))])),_:1},8,["class"])):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)((0,l.SU)(r).e("separator")),role:"presentation"},(0,c.zw)((0,l.SU)(i)),3))],2))}});var Pi=(0,g.Z)(Ri,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const Ii=(0,D.nz)(Oi,{BreadcrumbItem:Pi}),zi=(0,D.dp)(Pi),Ni=Symbol("buttonGroupContextKey"),Li=({from:e,replacement:t,scope:n,version:o,ref:r,type:i="API"},a)=>{(0,s.YP)((()=>(0,l.SU)(a)),(a=>{a&&(0,b.N)(n,`[${i}] ${e} is about to be deprecated in version ${o}, please use ${t} instead.\nFor more detail, please visit: ${r}\n`)}),{immediate:!0})};var Hi=n(1389);const Fi=(e,t)=>{Li({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},(0,s.Fl)((()=>"text"===e.type)));const n=(0,s.f3)(Ni,void 0),o=(0,i.WS)("button"),{form:r}=(0,Hi.A)(),a=(0,Xr.Cd)((0,s.Fl)((()=>null==n?void 0:n.size))),c=(0,Xr.DT)(),u=(0,l.iH)(),d=(0,s.Rr)(),h=(0,s.Fl)((()=>e.type||(null==n?void 0:n.type)||"")),m=(0,s.Fl)((()=>{var t,n,r;return null!=(r=null!=(n=e.autoInsertSpace)?n:null==(t=o.value)?void 0:t.autoInsertSpace)&&r})),p=(0,s.Fl)((()=>"button"===e.tag?{ariaDisabled:c.value||e.loading,disabled:c.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{})),f=(0,s.Fl)((()=>{var e;const t=null==(e=d.default)?void 0:e.call(d);if(m.value&&1===(null==t?void 0:t.length)){const e=t[0];if((null==e?void 0:e.type)===s.xv){const t=e.children;return/^\p{Unified_Ideograph}{2}$/u.test(t.trim())}}return!1})),g=n=>{"reset"===e.nativeType&&(null==r||r.resetFields()),t("click",n)};return{_disabled:c,_size:a,_type:h,_ref:u,_props:p,shouldAddSpace:f,handleClick:g}};var Bi=n(4689);const Ui=["default","primary","success","warning","info","danger","text",""],Vi=["button","submit","reset"],ji=(0,d.o8)({size:Bi.Pp,disabled:Boolean,type:{type:String,values:Ui,default:""},icon:{type:z.AA},nativeType:{type:String,values:Vi,default:"button"},loading:Boolean,loadingIcon:{type:z.AA,default:()=>he.Loading},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:(0,d.Cq)([String,Object]),default:"button"}}),Wi={click:e=>e instanceof MouseEvent};function Zi(e,t){qi(e)&&(e="100%");var n=Gi(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function $i(e){return Math.min(1,Math.max(0,e))}function qi(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function Gi(e){return"string"===typeof e&&-1!==e.indexOf("%")}function Ki(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Yi(e){return e<=1?"".concat(100*Number(e),"%"):e}function Ji(e){return 1===e.length?"0"+e:String(e)}function Xi(e,t,n){return{r:255*Zi(e,255),g:255*Zi(t,255),b:255*Zi(n,255)}}function Qi(e,t,n){e=Zi(e,255),t=Zi(t,255),n=Zi(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),i=0,a=0,s=(o+r)/2;if(o===r)a=0,i=0;else{var l=o-r;switch(a=s>.5?l/(2-o-r):l/(o+r),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break;default:break}i/=6}return{h:i,s:a,l:s}}function ea(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ta(e,t,n){var o,r,i;if(e=Zi(e,360),t=Zi(t,100),n=Zi(n,100),0===t)r=n,i=n,o=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;o=ea(s,a,e+1/3),r=ea(s,a,e),i=ea(s,a,e-1/3)}return{r:255*o,g:255*r,b:255*i}}function na(e,t,n){e=Zi(e,255),t=Zi(t,255),n=Zi(n,255);var o=Math.max(e,t,n),r=Math.min(e,t,n),i=0,a=o,s=o-r,l=0===o?0:s/o;if(o===r)i=0;else{switch(o){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break;default:break}i/=6}return{h:i,s:l,v:a}}function oa(e,t,n){e=6*Zi(e,360),t=Zi(t,100),n=Zi(n,100);var o=Math.floor(e),r=e-o,i=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=o%6,c=[n,a,i,i,s,n][l],u=[s,n,n,a,i,i][l],d=[i,i,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}function ra(e,t,n,o){var r=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function ia(e,t,n,o,r){var i=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16)),Ji(aa(o))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function aa(e){return Math.round(255*parseFloat(e)).toString(16)}function sa(e){return la(e)/255}function la(e){return parseInt(e,16)}function ca(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}var ua={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function da(e){var t={r:0,g:0,b:0},n=1,o=null,r=null,i=null,a=!1,s=!1;return"string"===typeof e&&(e=ya(e)),"object"===typeof e&&(ba(e.r)&&ba(e.g)&&ba(e.b)?(t=Xi(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):ba(e.h)&&ba(e.s)&&ba(e.v)?(o=Yi(e.s),r=Yi(e.v),t=oa(e.h,o,r),a=!0,s="hsv"):ba(e.h)&&ba(e.s)&&ba(e.l)&&(o=Yi(e.s),i=Yi(e.l),t=ta(e.h,o,i),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Ki(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var ha="[-\\+]?\\d+%?",ma="[-\\+]?\\d*\\.\\d+%?",pa="(?:".concat(ma,")|(?:").concat(ha,")"),fa="[\\s|\\(]+(".concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")\\s*\\)?"),ga="[\\s|\\(]+(".concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")[,|\\s]+(").concat(pa,")\\s*\\)?"),va={CSS_UNIT:new RegExp(pa),rgb:new RegExp("rgb"+fa),rgba:new RegExp("rgba"+ga),hsl:new RegExp("hsl"+fa),hsla:new RegExp("hsla"+ga),hsv:new RegExp("hsv"+fa),hsva:new RegExp("hsva"+ga),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ya(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(ua[e])e=ua[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=va.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=va.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=va.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=va.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=va.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=va.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=va.hex8.exec(e),n?{r:la(n[1]),g:la(n[2]),b:la(n[3]),a:sa(n[4]),format:t?"name":"hex8"}:(n=va.hex6.exec(e),n?{r:la(n[1]),g:la(n[2]),b:la(n[3]),format:t?"name":"hex"}:(n=va.hex4.exec(e),n?{r:la(n[1]+n[1]),g:la(n[2]+n[2]),b:la(n[3]+n[3]),a:sa(n[4]+n[4]),format:t?"name":"hex8"}:(n=va.hex3.exec(e),!!n&&{r:la(n[1]+n[1]),g:la(n[2]+n[2]),b:la(n[3]+n[3]),format:t?"name":"hex"})))))))))}function ba(e){return Boolean(va.CSS_UNIT.exec(String(e)))}var wa=function(){function e(t,n){var o;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=ca(t)),this.originalInput=t;var r=da(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(o=n.format)&&void 0!==o?o:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e,t,n,o=this.toRgb(),r=o.r/255,i=o.g/255,a=o.b/255;return e=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),t=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),n=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*t+.0722*n},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Ki(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var e=this.toHsl().s;return 0===e},e.prototype.toHsv=function(){var e=na(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=na(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Qi(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Qi(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),ra(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),ia(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Zi(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Zi(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+ra(this.r,this.g,this.b,!1),t=0,n=Object.entries(ua);t<n.length;t++){var o=n[t],r=o[0],i=o[1];if(e===i)return r}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,o=this.a<1&&this.a>=0,r=!t&&o&&(e.startsWith("hex")||"name"===e);return r?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=$i(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=$i(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=$i(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=$i(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var o=this.toRgb(),r=new e(t).toRgb(),i=n/100,a={r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a};return new e(a)},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var o=this.toHsl(),r=360/n,i=[this];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(new e(o));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);var n=this.toHsv(),o=n.h,r=n.s,i=n.v,a=[],s=1/t;while(t--)a.push(new e({h:o,s:r,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),o=new e(t).toRgb(),r=n.a+o.a*(1-n.a);return new e({r:(n.r*n.a+o.r*o.a*(1-n.a))/r,g:(n.g*n.a+o.g*o.a*(1-n.a))/r,b:(n.b*n.a+o.b*o.a*(1-n.a))/r,a:r})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),o=n.h,r=[this],i=360/t,a=1;a<t;a++)r.push(new e({h:(o+a*i)%360,s:n.s,l:n.l}));return r},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function _a(e,t=20){return e.mix("#141414",t).toString()}function xa(e){const t=(0,Xr.DT)(),n=(0,v.s3)("button");return(0,s.Fl)((()=>{let o={};const r=e.color;if(r){const i=new wa(r),a=e.dark?i.tint(20).toString():_a(i,20);if(e.plain)o=n.cssVarBlock({"bg-color":e.dark?_a(i,90):i.tint(90).toString(),"text-color":r,"border-color":e.dark?_a(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(o[n.cssVarBlockName("disabled-bg-color")]=e.dark?_a(i,90):i.tint(90).toString(),o[n.cssVarBlockName("disabled-text-color")]=e.dark?_a(i,50):i.tint(50).toString(),o[n.cssVarBlockName("disabled-border-color")]=e.dark?_a(i,80):i.tint(80).toString());else{const s=e.dark?_a(i,30):i.tint(30).toString(),l=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(o=n.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":s,"hover-text-color":l,"hover-border-color":s,"active-bg-color":a,"active-border-color":a}),t.value){const t=e.dark?_a(i,50):i.tint(50).toString();o[n.cssVarBlockName("disabled-bg-color")]=t,o[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,o[n.cssVarBlockName("disabled-border-color")]=t}}}return o}))}const Ca=(0,s.aZ)({name:"ElButton"}),Sa=(0,s.aZ)({...Ca,props:ji,emits:Wi,setup(e,{expose:t,emit:n}){const o=e,r=xa(o),i=(0,v.s3)("button"),{_ref:a,_size:u,_type:d,_disabled:h,_props:m,shouldAddSpace:p,handleClick:f}=Fi(o,n);return t({ref:a,size:u,type:d,disabled:h,shouldAddSpace:p}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),(0,s.dG)({ref_key:"_ref",ref:a},(0,l.SU)(m),{class:[(0,l.SU)(i).b(),(0,l.SU)(i).m((0,l.SU)(d)),(0,l.SU)(i).m((0,l.SU)(u)),(0,l.SU)(i).is("disabled",(0,l.SU)(h)),(0,l.SU)(i).is("loading",e.loading),(0,l.SU)(i).is("plain",e.plain),(0,l.SU)(i).is("round",e.round),(0,l.SU)(i).is("circle",e.circle),(0,l.SU)(i).is("text",e.text),(0,l.SU)(i).is("link",e.link),(0,l.SU)(i).is("has-bg",e.bg)],style:(0,l.SU)(r),onClick:(0,l.SU)(f)}),{default:(0,s.w5)((()=>[e.loading?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.$slots.loading?(0,s.WI)(e.$slots,"loading",{key:0}):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,class:(0,c.C_)((0,l.SU)(i).is("loading"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.loadingIcon)))])),_:1},8,["class"]))],64)):e.icon||e.$slots.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1},{default:(0,s.w5)((()=>[e.icon?((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon),{key:0})):(0,s.WI)(e.$slots,"icon",{key:1})])),_:3})):(0,s.kq)("v-if",!0),e.$slots.default?((0,s.wg)(),(0,s.iD)("span",{key:2,class:(0,c.C_)({[(0,l.SU)(i).em("text","expand")]:(0,l.SU)(p)})},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0)])),_:3},16,["class","style","onClick"]))}});var ka=(0,g.Z)(Sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Ea={size:ji.size,type:ji.type},Ta=(0,s.aZ)({name:"ElButtonGroup"}),Ma=(0,s.aZ)({...Ta,props:Ea,setup(e){const t=e;(0,s.JJ)(Ni,(0,l.qj)({size:(0,l.Vh)(t,"size"),type:(0,l.Vh)(t,"type")}));const n=(0,v.s3)("button");return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(`${(0,l.SU)(n).b("group")}`)},[(0,s.WI)(e.$slots,"default")],2))}});var Oa=(0,g.Z)(Ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Da=(0,D.nz)(ka,{ButtonGroup:Oa}),Aa=(0,D.dp)(Oa);var Ra=n(5743);const Pa=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Ia=e=>Array.from(Array.from({length:e}).keys()),za=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Na=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),La=function(e,t){const n=(0,c.J_)(e),o=(0,c.J_)(t);return n&&o?e.getTime()===t.getTime():!n&&!o&&e===t},Ha=function(e,t){const n=(0,c.kJ)(e),o=(0,c.kJ)(t);return n&&o?e.length===t.length&&e.every(((e,n)=>La(e,t[n]))):!n&&!o&&La(e,t)},Fa=function(e,t,n){const o=(0,h.xb)(t)||"x"===t?Ra(e).locale(n):Ra(e,t).locale(n);return o.isValid()?o:void 0},Ba=function(e,t,n){return(0,h.xb)(t)?e:"x"===t?+e:Ra(e).locale(n).format(t)},Ua=(e,t)=>{var n;const o=[],r=null==t?void 0:t();for(let i=0;i<e;i++)o.push(null!=(n=null==r?void 0:r.includes(i))&&n);return o},Va=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return Ia(t).map(((e,o)=>n-(t-o-1)))},ja=e=>{const t=e.daysInMonth();return Ia(t).map(((e,t)=>t+1))},Wa=e=>Ia(e.length/7).map((t=>{const n=7*t;return e.slice(n,n+7)})),Za=(0,d.o8)({selectedDay:{type:(0,d.Cq)(Object)},range:{type:(0,d.Cq)(Array)},date:{type:(0,d.Cq)(Object),required:!0},hideHeader:{type:Boolean}}),$a={pick:e=>(0,c.Kn)(e)};var qa=n(225),Ga=n(2137);const Ka=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Ya=["sun","mon","tue","wed","thu","fri","sat"],Ja=(e,t)=>{Ra.extend(qa);const n=Ra.localeData().firstDayOfWeek(),{t:o,lang:r}=(0,Ga.bU)(),i=Ra().locale(r.value),a=(0,s.Fl)((()=>!!e.range&&!!e.range.length)),l=(0,s.Fl)((()=>{let t=[];if(a.value){const[n,o]=e.range,r=Ia(o.date()-n.date()+1).map((e=>({text:n.date()+e,type:"current"})));let i=r.length%7;i=0===i?0:7-i;const a=Ia(i).map(((e,t)=>({text:t+1,type:"next"})));t=r.concat(a)}else{const o=e.date.startOf("month").day(),r=Va(e.date,(o-n+7)%7).map((e=>({text:e,type:"prev"}))),i=ja(e.date).map((e=>({text:e,type:"current"})));t=[...r,...i];const a=7-(t.length%7||7),s=Ia(a).map(((e,t)=>({text:t+1,type:"next"})));t=t.concat(s)}return Wa(t)})),c=(0,s.Fl)((()=>{const e=n;return 0===e?Ya.map((e=>o(`el.datepicker.weeks.${e}`))):Ya.slice(e).concat(Ya.slice(0,e)).map((e=>o(`el.datepicker.weeks.${e}`)))})),u=(t,n)=>{switch(n){case"prev":return e.date.startOf("month").subtract(1,"month").date(t);case"next":return e.date.startOf("month").add(1,"month").date(t);case"current":return e.date.date(t)}},d=({text:e,type:n})=>{const o=u(e,n);t("pick",o)},h=({text:t,type:n})=>{const o=u(t,n);return{isSelected:o.isSame(e.selectedDay),type:`${n}-month`,day:o.format("YYYY-MM-DD"),date:o.toDate()}};return{now:i,isInRange:a,rows:l,weekDays:c,getFormattedDate:u,handlePickDay:d,getSlotData:h}},Xa={key:0},Qa=["onClick"],es=(0,s.aZ)({name:"DateTable"}),ts=(0,s.aZ)({...es,props:Za,emits:$a,setup(e,{expose:t,emit:n}){const o=e,{isInRange:r,now:i,rows:a,weekDays:u,getFormattedDate:d,handlePickDay:h,getSlotData:m}=Ja(o,n),p=(0,v.s3)("calendar-table"),f=(0,v.s3)("calendar-day"),g=({text:e,type:t})=>{const n=[t];if("current"===t){const r=d(e,t);r.isSame(o.selectedDay,"day")&&n.push(f.is("selected")),r.isSame(i,"day")&&n.push(f.is("today"))}return n};return t({getFormattedDate:d}),(e,t)=>((0,s.wg)(),(0,s.iD)("table",{class:(0,c.C_)([(0,l.SU)(p).b(),(0,l.SU)(p).is("range",(0,l.SU)(r))]),cellspacing:"0",cellpadding:"0"},[e.hideHeader?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("thead",Xa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(u),(e=>((0,s.wg)(),(0,s.iD)("th",{key:e},(0,c.zw)(e),1)))),128))])),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(a),((t,n)=>((0,s.wg)(),(0,s.iD)("tr",{key:n,class:(0,c.C_)({[(0,l.SU)(p).e("row")]:!0,[(0,l.SU)(p).em("row","hide-border")]:0===n&&e.hideHeader})},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,n)=>((0,s.wg)(),(0,s.iD)("td",{key:n,class:(0,c.C_)(g(t)),onClick:e=>(0,l.SU)(h)(t)},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(f).b())},[(0,s.WI)(e.$slots,"date-cell",{data:(0,l.SU)(m)(t)},(()=>[(0,s._)("span",null,(0,c.zw)(t.text),1)]))],2)],10,Qa)))),128))],2)))),128))])],2))}});var ns=(0,g.Z)(ts,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const os=(e,t)=>{const n=e.endOf("month"),o=t.startOf("month"),r=n.isSame(o,"week"),i=r?o.add(1,"week"):o;return[[e,n],[i.startOf("week"),t]]},rs=(e,t)=>{const n=e.endOf("month"),o=e.add(1,"month").startOf("month"),r=n.isSame(o,"week")?o.add(1,"week"):o,i=r.endOf("month"),a=t.startOf("month"),s=i.isSame(a,"week")?a.add(1,"week"):a;return[[e,n],[r.startOf("week"),i],[s.startOf("week"),t]]},is=(e,t,n)=>{const o=(0,s.Rr)(),{lang:r}=(0,Ga.bU)(),i=(0,l.iH)(),a=Ra().locale(r.value),c=(0,s.Fl)({get(){return e.modelValue?d.value:i.value},set(e){if(!e)return;i.value=e;const n=e.toDate();t(m.e_,n),t(m.f_,n)}}),u=(0,s.Fl)((()=>{if(!e.range)return[];const t=e.range.map((e=>Ra(e).locale(r.value))),[o,i]=t;return o.isAfter(i)?((0,b.N)(n,"end time should be greater than start time"),[]):o.isSame(i,"month")?v(o,i):o.add(1,"month").month()!==i.month()?((0,b.N)(n,"start time and end time interval must not exceed two months"),[]):v(o,i)})),d=(0,s.Fl)((()=>e.modelValue?Ra(e.modelValue).locale(r.value):c.value||(u.value.length?u.value[0][0]:a))),h=(0,s.Fl)((()=>d.value.subtract(1,"month").date(1))),p=(0,s.Fl)((()=>d.value.add(1,"month").date(1))),f=(0,s.Fl)((()=>d.value.subtract(1,"year").date(1))),g=(0,s.Fl)((()=>d.value.add(1,"year").date(1))),v=(e,t)=>{const o=e.startOf("week"),r=t.endOf("week"),i=o.get("month"),a=r.get("month");return i===a?[[o,r]]:(i+1)%12===a?os(o,r):i+2===a||(i+1)%11===a?rs(o,r):((0,b.N)(n,"start time and end time interval must not exceed two months"),[])},y=e=>{c.value=e},w=e=>{const t={"prev-month":h.value,"next-month":p.value,"prev-year":f.value,"next-year":g.value,today:a},n=t[e];n.isSame(d.value,"day")||y(n)};return Li({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},(0,s.Fl)((()=>!!o.dateCell))),{calculateValidatedDateRange:v,date:d,realSelectedDay:c,pickDay:y,selectDate:w,validatedRange:u}},as=e=>(0,c.kJ)(e)&&2===e.length&&e.every((e=>(0,c.J_)(e))),ss=(0,d.o8)({modelValue:{type:Date},range:{type:(0,d.Cq)(Array),validator:as}}),ls={[m.f_]:e=>(0,c.J_)(e),[m.e_]:e=>(0,c.J_)(e)},cs="ElCalendar",us=(0,s.aZ)({name:cs}),ds=(0,s.aZ)({...us,props:ss,emits:ls,setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("calendar"),{calculateValidatedDateRange:i,date:a,pickDay:u,realSelectedDay:d,selectDate:h,validatedRange:m}=is(o,n,cs),{t:p}=(0,Ga.bU)(),f=(0,s.Fl)((()=>{const e=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${p("el.datepicker.year")} ${p(e)}`}));return t({selectedDay:d,pickDay:u,selectDate:h,calculateValidatedDateRange:i}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(r).b())},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("header"))},[(0,s.WI)(e.$slots,"header",{date:(0,l.SU)(f)},(()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("title"))},(0,c.zw)((0,l.SU)(f)),3),0===(0,l.SU)(m).length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(r).e("button-group"))},[(0,s.Wm)((0,l.SU)(Aa),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(Da),{size:"small",onClick:t[0]||(t[0]=e=>(0,l.SU)(h)("prev-month"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(p)("el.datepicker.prevMonth")),1)])),_:1}),(0,s.Wm)((0,l.SU)(Da),{size:"small",onClick:t[1]||(t[1]=e=>(0,l.SU)(h)("today"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(p)("el.datepicker.today")),1)])),_:1}),(0,s.Wm)((0,l.SU)(Da),{size:"small",onClick:t[2]||(t[2]=e=>(0,l.SU)(h)("next-month"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(p)("el.datepicker.nextMonth")),1)])),_:1})])),_:1})],2)):(0,s.kq)("v-if",!0)]))],2),0===(0,l.SU)(m).length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(r).e("body"))},[(0,s.Wm)(ns,{date:(0,l.SU)(a),"selected-day":(0,l.SU)(d),onPick:(0,l.SU)(u)},(0,s.Nv)({_:2},[e.$slots["date-cell"]||e.$slots.dateCell?{name:"date-cell",fn:(0,s.w5)((t=>[e.$slots["date-cell"]?(0,s.WI)(e.$slots,"date-cell",(0,c.vs)((0,s.dG)({key:0},t))):(0,s.WI)(e.$slots,"dateCell",(0,c.vs)((0,s.dG)({key:1},t)))]))}:void 0]),1032,["date","selected-day","onPick"])],2)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(r).e("body"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(m),((t,n)=>((0,s.wg)(),(0,s.j4)(ns,{key:n,date:t[0],"selected-day":(0,l.SU)(d),range:t,"hide-header":0!==n,onPick:(0,l.SU)(u)},(0,s.Nv)({_:2},[e.$slots["date-cell"]||e.$slots.dateCell?{name:"date-cell",fn:(0,s.w5)((t=>[e.$slots["date-cell"]?(0,s.WI)(e.$slots,"date-cell",(0,c.vs)((0,s.dG)({key:0},t))):(0,s.WI)(e.$slots,"dateCell",(0,c.vs)((0,s.dG)({key:1},t)))]))}:void 0]),1032,["date","selected-day","range","hide-header","onPick"])))),128))],2))],2))}});var hs=(0,g.Z)(ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const ms=(0,D.nz)(hs),ps=(0,d.o8)({header:{type:String,default:""},bodyStyle:{type:(0,d.Cq)([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),fs=(0,s.aZ)({name:"ElCard"}),gs=(0,s.aZ)({...fs,props:ps,setup(e){const t=(0,v.s3)("card");return(e,n)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(t).b(),(0,l.SU)(t).is(`${e.shadow}-shadow`)])},[e.$slots.header||e.header?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(t).e("header"))},[(0,s.WI)(e.$slots,"header",{},(()=>[(0,s.Uk)((0,c.zw)(e.header),1)]))],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(t).e("body")),style:(0,c.j5)(e.bodyStyle)},[(0,s.WI)(e.$slots,"default")],6)],2))}});var vs=(0,g.Z)(gs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const ys=(0,D.nz)(vs),bs=(0,d.o8)({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),ws={change:(e,t)=>[e,t].every(h.hj)};var _s="Expected a function";function xs(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(_s);return(0,j.Z)(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),de(e,t,{leading:o,maxWait:t,trailing:r})}var Cs=xs;const Ss=Symbol("carouselContextKey"),ks="utils/vue/vnode";var Es=(e=>(e[e["TEXT"]=1]="TEXT",e[e["CLASS"]=2]="CLASS",e[e["STYLE"]=4]="STYLE",e[e["PROPS"]=8]="PROPS",e[e["FULL_PROPS"]=16]="FULL_PROPS",e[e["HYDRATE_EVENTS"]=32]="HYDRATE_EVENTS",e[e["STABLE_FRAGMENT"]=64]="STABLE_FRAGMENT",e[e["KEYED_FRAGMENT"]=128]="KEYED_FRAGMENT",e[e["UNKEYED_FRAGMENT"]=256]="UNKEYED_FRAGMENT",e[e["NEED_PATCH"]=512]="NEED_PATCH",e[e["DYNAMIC_SLOTS"]=1024]="DYNAMIC_SLOTS",e[e["HOISTED"]=-1]="HOISTED",e[e["BAIL"]=-2]="BAIL",e))(Es||{});function Ts(e){return(0,s.lA)(e)&&e.type===s.HY}function Ms(e){return(0,s.lA)(e)&&e.type===s.sv}function Os(e){return(0,s.lA)(e)&&!Ts(e)&&!Ms(e)}const Ds=e=>{if(!(0,s.lA)(e))return(0,b.N)(ks,"[getNormalizedProps] must be a VNode"),{};const t=e.props||{},n=((0,s.lA)(e.type)?e.type.props:void 0)||{},o={};return Object.keys(n).forEach((e=>{(0,c.RI)(n[e],"default")&&(o[e]=n[e].default)})),Object.keys(t).forEach((e=>{o[(0,c._A)(e)]=t[e]})),o},As=e=>{if(!(0,c.kJ)(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Rs=e=>{const t=(0,c.kJ)(e)?e:[e],n=[];return t.forEach((e=>{var t;(0,c.kJ)(e)?n.push(...Rs(e)):(0,s.lA)(e)&&(0,c.kJ)(e.children)?n.push(...Rs(e.children)):(n.push(e),(0,s.lA)(e)&&(null==(t=e.component)?void 0:t.subTree)&&n.push(...Rs(e.component.subTree)))})),n},Ps=(e,t,n)=>{const o=Rs(e.subTree).filter((e=>{var n;return(0,s.lA)(e)&&(null==(n=e.type)?void 0:n.name)===t&&!!e.component})),r=o.map((e=>e.component.uid));return r.map((e=>n[e])).filter((e=>!!e))},Is=(e,t)=>{const n={},o=(0,l.XI)([]),r=r=>{n[r.uid]=r,o.value=Ps(e,t,n)},i=e=>{delete n[e],o.value=o.value.filter((t=>t.uid!==e))};return{children:o,addChild:r,removeChild:i}},zs=300,Ns=(e,t,n)=>{const{children:o,addChild:r,removeChild:i}=Is((0,s.FN)(),"ElCarouselItem"),a=(0,l.iH)(-1),d=(0,l.iH)(null),h=(0,l.iH)(!1),m=(0,l.iH)(),p=(0,l.iH)(0),f=(0,s.Fl)((()=>"never"!==e.arrow&&!(0,l.SU)(y))),g=(0,s.Fl)((()=>o.value.some((e=>e.props.label.toString().length>0)))),v=(0,s.Fl)((()=>"card"===e.type)),y=(0,s.Fl)((()=>"vertical"===e.direction)),w=(0,s.Fl)((()=>"auto"!==e.height?{height:e.height}:{height:`${p.value}px`,overflow:"hidden"})),_=Cs((e=>{E(e)}),zs,{trailing:!0}),x=Cs((e=>{I(e)}),zs);function C(){d.value&&(clearInterval(d.value),d.value=null)}function S(){e.interval<=0||!e.autoplay||d.value||(d.value=setInterval((()=>k()),e.interval))}const k=()=>{a.value<o.value.length-1?a.value=a.value+1:e.loop&&(a.value=0)};function E(t){if((0,c.HD)(t)){const e=o.value.filter((e=>e.props.name===t));e.length>0&&(t=o.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return void(0,b.N)(n,"index must be integer.");const r=o.value.length,i=a.value;a.value=t<0?e.loop?r-1:0:t>=r?e.loop?0:r-1:t,i===a.value&&T(i),L()}function T(e){o.value.forEach(((t,n)=>{t.translateItem(n,a.value,e)}))}function M(e,t){var n,r,i,a;const s=(0,l.SU)(o),c=s.length;if(0===c||!e.states.inStage)return!1;const u=t+1,d=t-1,h=c-1,m=s[h].states.active,p=s[0].states.active,f=null==(r=null==(n=s[u])?void 0:n.states)?void 0:r.active,g=null==(a=null==(i=s[d])?void 0:i.states)?void 0:a.active;return t===h&&p||f?"left":!!(0===t&&m||g)&&"right"}function O(){h.value=!0,e.pauseOnHover&&C()}function D(){h.value=!1,S()}function A(e){(0,l.SU)(y)||o.value.forEach(((t,n)=>{e===M(t,n)&&(t.states.hover=!0)}))}function R(){(0,l.SU)(y)||o.value.forEach((e=>{e.states.hover=!1}))}function P(e){a.value=e}function I(t){"hover"===e.trigger&&t!==a.value&&(a.value=t)}function z(){E(a.value-1)}function N(){E(a.value+1)}function L(){C(),S()}function H(t){"auto"===e.height&&(p.value=t)}(0,s.YP)((()=>a.value),((e,n)=>{T(n),n>-1&&t("change",e,n)})),(0,s.YP)((()=>e.autoplay),(e=>{e?S():C()})),(0,s.YP)((()=>e.loop),(()=>{E(a.value)})),(0,s.YP)((()=>e.interval),(()=>{L()})),(0,s.YP)((()=>o.value),(()=>{o.value.length>0&&E(e.initialIndex)}));const F=(0,l.XI)();return(0,s.bv)((()=>{F.value=(0,u.yU7)(m.value,(()=>{T()})),S()})),(0,s.Jd)((()=>{C(),m.value&&F.value&&F.value.stop()})),(0,s.JJ)(Ss,{root:m,isCardType:v,isVertical:y,items:o,loop:e.loop,addItem:r,removeItem:i,setActiveItem:E,setContainerHeight:H}),{root:m,activeIndex:a,arrowDisplay:f,hasLabel:g,hover:h,isCardType:v,items:o,isVertical:y,containerStyle:w,handleButtonEnter:A,handleButtonLeave:R,handleIndicatorClick:P,handleMouseEnter:O,handleMouseLeave:D,setActiveItem:E,prev:z,next:N,throttledArrowClick:_,throttledIndicatorHover:x}},Ls=["onMouseenter","onClick"],Hs={key:0},Fs="ElCarousel",Bs=(0,s.aZ)({name:Fs}),Us=(0,s.aZ)({...Bs,props:bs,emits:ws,setup(e,{expose:t,emit:n}){const o=e,{root:r,activeIndex:i,arrowDisplay:a,hasLabel:u,hover:d,isCardType:h,items:m,isVertical:p,containerStyle:f,handleButtonEnter:g,handleButtonLeave:y,handleIndicatorClick:b,handleMouseEnter:w,handleMouseLeave:_,setActiveItem:x,prev:C,next:S,throttledArrowClick:k,throttledIndicatorHover:E}=Ns(o,n,Fs),T=(0,v.s3)("carousel"),M=(0,s.Fl)((()=>{const e=[T.b(),T.m(o.direction)];return(0,l.SU)(h)&&e.push(T.m("card")),e})),O=(0,s.Fl)((()=>{const e=[T.e("indicators"),T.em("indicators",o.direction)];return(0,l.SU)(u)&&e.push(T.em("indicators","labels")),"outside"===o.indicatorPosition&&e.push(T.em("indicators","outside")),(0,l.SU)(p)&&e.push(T.em("indicators","right")),e}));return t({setActiveItem:x,prev:C,next:S}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"root",ref:r,class:(0,c.C_)((0,l.SU)(M)),onMouseenter:t[6]||(t[6]=(0,R.iM)(((...e)=>(0,l.SU)(w)&&(0,l.SU)(w)(...e)),["stop"])),onMouseleave:t[7]||(t[7]=(0,R.iM)(((...e)=>(0,l.SU)(_)&&(0,l.SU)(_)(...e)),["stop"]))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(T).e("container")),style:(0,c.j5)((0,l.SU)(f))},[(0,l.SU)(a)?((0,s.wg)(),(0,s.j4)(R.uT,{key:0,name:"carousel-arrow-left",persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(T).e("arrow"),(0,l.SU)(T).em("arrow","left")]),onMouseenter:t[0]||(t[0]=e=>(0,l.SU)(g)("left")),onMouseleave:t[1]||(t[1]=(...e)=>(0,l.SU)(y)&&(0,l.SU)(y)(...e)),onClick:t[2]||(t[2]=(0,R.iM)((e=>(0,l.SU)(k)((0,l.SU)(i)-1)),["stop"]))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1})],34),[[R.F8,("always"===e.arrow||(0,l.SU)(d))&&(o.loop||(0,l.SU)(i)>0)]])])),_:1})):(0,s.kq)("v-if",!0),(0,l.SU)(a)?((0,s.wg)(),(0,s.j4)(R.uT,{key:1,name:"carousel-arrow-right",persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(T).e("arrow"),(0,l.SU)(T).em("arrow","right")]),onMouseenter:t[3]||(t[3]=e=>(0,l.SU)(g)("right")),onMouseleave:t[4]||(t[4]=(...e)=>(0,l.SU)(y)&&(0,l.SU)(y)(...e)),onClick:t[5]||(t[5]=(0,R.iM)((e=>(0,l.SU)(k)((0,l.SU)(i)+1)),["stop"]))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})],34),[[R.F8,("always"===e.arrow||(0,l.SU)(d))&&(o.loop||(0,l.SU)(i)<(0,l.SU)(m).length-1)]])])),_:1})):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"default")],6),"none"!==e.indicatorPosition?((0,s.wg)(),(0,s.iD)("ul",{key:0,class:(0,c.C_)((0,l.SU)(O))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(m),((t,n)=>((0,s.wg)(),(0,s.iD)("li",{key:n,class:(0,c.C_)([(0,l.SU)(T).e("indicator"),(0,l.SU)(T).em("indicator",e.direction),(0,l.SU)(T).is("active",n===(0,l.SU)(i))]),onMouseenter:e=>(0,l.SU)(E)(n),onClick:(0,R.iM)((e=>(0,l.SU)(b)(n)),["stop"])},[(0,s._)("button",{class:(0,c.C_)((0,l.SU)(T).e("button"))},[(0,l.SU)(u)?((0,s.wg)(),(0,s.iD)("span",Hs,(0,c.zw)(t.props.label),1)):(0,s.kq)("v-if",!0)],2)],42,Ls)))),128))],2)):(0,s.kq)("v-if",!0)],34))}});var Vs=(0,g.Z)(Us,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const js=(0,d.o8)({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ws=(e,t)=>{const n=(0,s.f3)(Ss),o=(0,s.FN)();n||(0,b.N)(t,"usage: <el-carousel></el-carousel-item></el-carousel>"),o||(0,b.N)(t,"compositional hook can only be invoked inside setups");const r=.83,i=(0,l.iH)(),a=(0,l.iH)(!1),c=(0,l.iH)(0),u=(0,l.iH)(1),d=(0,l.iH)(!1),m=(0,l.iH)(!1),p=(0,l.iH)(!1),f=(0,l.iH)(!1),{isCardType:g,isVertical:v}=n;function y(e,t,n){const o=n-1,r=t-1,i=t+1,a=n/2;return 0===t&&e===o?-1:t===o&&0===e?n:e<r&&t-e>=a?n+1:e>i&&e-t>=a?-2:e}function w(e,t){var o,i;const a=(0,l.SU)(v)?(null==(o=n.root.value)?void 0:o.offsetHeight)||0:(null==(i=n.root.value)?void 0:i.offsetWidth)||0;return p.value?a*((2-r)*(e-t)+1)/4:e<t?-(1+r)*a/4:(3+r)*a/4}function _(e,t,o){const r=n.root.value;if(!r)return 0;const i=(o?r.offsetHeight:r.offsetWidth)||0;return i*(e-t)}const x=(e,t,o)=>{var a;const s=(0,l.SU)(g),b=null!=(a=n.items.value.length)?a:Number.NaN,x=e===t;s||(0,h.o8)(o)||(f.value=x||e===o),!x&&b>2&&n.loop&&(e=y(e,t,b));const C=(0,l.SU)(v);d.value=x,s?(p.value=Math.round(Math.abs(e-t))<=1,c.value=w(e,t),u.value=(0,l.SU)(d)?1:r):c.value=_(e,t,C),m.value=!0,x&&i.value&&n.setContainerHeight(i.value.offsetHeight)};function C(){if(n&&(0,l.SU)(g)){const e=n.items.value.findIndex((({uid:e})=>e===o.uid));n.setActiveItem(e)}}return(0,s.bv)((()=>{n.addItem({props:e,states:(0,l.qj)({hover:a,translate:c,scale:u,active:d,ready:m,inStage:p,animating:f}),uid:o.uid,translateItem:x})})),(0,s.Ah)((()=>{n.removeItem(o.uid)})),{carouselItemRef:i,active:d,animating:f,hover:a,inStage:p,isVertical:v,translate:c,isCardType:g,scale:u,ready:m,handleItemClick:C}},Zs="ElCarouselItem",$s=(0,s.aZ)({name:"ElCarouselItem"}),qs=(0,s.aZ)({...$s,props:js,setup(e){const t=e,n=(0,v.s3)("carousel"),{carouselItemRef:o,active:r,animating:i,hover:a,inStage:u,isVertical:d,translate:h,isCardType:m,scale:p,ready:f,handleItemClick:g}=Ws(t,Zs),y=(0,s.Fl)((()=>{const e="translate"+((0,l.SU)(d)?"Y":"X"),t=`${e}(${(0,l.SU)(h)}px)`,n=`scale(${(0,l.SU)(p)})`,o=[t,n].join(" ");return{transform:o}}));return(e,t)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref_key:"carouselItemRef",ref:o,class:(0,c.C_)([(0,l.SU)(n).e("item"),(0,l.SU)(n).is("active",(0,l.SU)(r)),(0,l.SU)(n).is("in-stage",(0,l.SU)(u)),(0,l.SU)(n).is("hover",(0,l.SU)(a)),(0,l.SU)(n).is("animating",(0,l.SU)(i)),{[(0,l.SU)(n).em("item","card")]:(0,l.SU)(m),[(0,l.SU)(n).em("item","card-vertical")]:(0,l.SU)(m)&&(0,l.SU)(d)}]),style:(0,c.j5)((0,l.SU)(y)),onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(g)&&(0,l.SU)(g)(...e))},[(0,l.SU)(m)?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(n).e("mask"))},null,2)),[[R.F8,!(0,l.SU)(r)]]):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"default")],6)),[[R.F8,(0,l.SU)(f)]])}});var Gs=(0,g.Z)(qs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Ks=(0,D.nz)(Vs,{CarouselItem:Gs}),Ys=(0,D.dp)(Gs);var Js=n(3058);function Xs(){this.__data__=new Js.Z,this.size=0}var Qs=Xs;function el(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var tl=el;function nl(e){return this.__data__.get(e)}var ol=nl;function rl(e){return this.__data__.has(e)}var il=rl,al=n(9795),sl=n(9350),ll=200;function cl(e,t){var n=this.__data__;if(n instanceof Js.Z){var o=n.__data__;if(!al.Z||o.length<ll-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new sl.Z(o)}return n.set(e,t),this.size=n.size,this}var ul=cl;function dl(e){var t=this.__data__=new Js.Z(e);this.size=t.size}dl.prototype.clear=Qs,dl.prototype["delete"]=tl,dl.prototype.get=ol,dl.prototype.has=il,dl.prototype.set=ul;var hl=dl;function ml(e,t){var n=-1,o=null==e?0:e.length;while(++n<o)if(!1===t(e[n],n,e))break;return e}var pl=ml,fl=n(7788),gl=n(4441);function vl(e,t,n,o){var r=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var s=t[i],l=o?o(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?(0,gl.Z)(n,s,l):(0,fl.Z)(n,s,l)}return n}var yl=vl;function bl(e,t){var n=-1,o=Array(e);while(++n<e)o[n]=t(n);return o}var wl=bl,_l=n(681),xl=n(3835),Cl="[object Arguments]";function Sl(e){return(0,xl.Z)(e)&&(0,_l.Z)(e)==Cl}var kl=Sl,El=Object.prototype,Tl=El.hasOwnProperty,Ml=El.propertyIsEnumerable,Ol=kl(function(){return arguments}())?kl:function(e){return(0,xl.Z)(e)&&Tl.call(e,"callee")&&!Ml.call(e,"callee")},Dl=Ol,Al=n(7933);function Rl(){return!1}var Pl=Rl,Il="object"==typeof exports&&exports&&!exports.nodeType&&exports,zl=Il&&"object"==typeof module&&module&&!module.nodeType&&module,Nl=zl&&zl.exports===Il,Ll=Nl?W.Z.Buffer:void 0,Hl=Ll?Ll.isBuffer:void 0,Fl=Hl||Pl,Bl=Fl,Ul=n(9016),Vl=9007199254740991;function jl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Vl}var Wl=jl,Zl="[object Arguments]",$l="[object Array]",ql="[object Boolean]",Gl="[object Date]",Kl="[object Error]",Yl="[object Function]",Jl="[object Map]",Xl="[object Number]",Ql="[object Object]",ec="[object RegExp]",tc="[object Set]",nc="[object String]",oc="[object WeakMap]",rc="[object ArrayBuffer]",ic="[object DataView]",ac="[object Float32Array]",sc="[object Float64Array]",lc="[object Int8Array]",cc="[object Int16Array]",uc="[object Int32Array]",dc="[object Uint8Array]",hc="[object Uint8ClampedArray]",mc="[object Uint16Array]",pc="[object Uint32Array]",fc={};function gc(e){return(0,xl.Z)(e)&&Wl(e.length)&&!!fc[(0,_l.Z)(e)]}fc[ac]=fc[sc]=fc[lc]=fc[cc]=fc[uc]=fc[dc]=fc[hc]=fc[mc]=fc[pc]=!0,fc[Zl]=fc[$l]=fc[rc]=fc[ql]=fc[ic]=fc[Gl]=fc[Kl]=fc[Yl]=fc[Jl]=fc[Xl]=fc[Ql]=fc[ec]=fc[tc]=fc[nc]=fc[oc]=!1;var vc=gc;function yc(e){return function(t){return e(t)}}var bc=yc,wc=n(2701),_c="object"==typeof exports&&exports&&!exports.nodeType&&exports,xc=_c&&"object"==typeof module&&module&&!module.nodeType&&module,Cc=xc&&xc.exports===_c,Sc=Cc&&wc.Z.process,kc=function(){try{var e=xc&&xc.require&&xc.require("util").types;return e||Sc&&Sc.binding&&Sc.binding("util")}catch(HH){}}(),Ec=kc,Tc=Ec&&Ec.isTypedArray,Mc=Tc?bc(Tc):vc,Oc=Mc,Dc=Object.prototype,Ac=Dc.hasOwnProperty;function Rc(e,t){var n=(0,Al.Z)(e),o=!n&&Dl(e),r=!n&&!o&&Bl(e),i=!n&&!o&&!r&&Oc(e),a=n||o||r||i,s=a?wl(e.length,String):[],l=s.length;for(var c in e)!t&&!Ac.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||(0,Ul.Z)(c,l))||s.push(c);return s}var Pc=Rc,Ic=Object.prototype;function zc(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ic;return e===n}var Nc=zc;function Lc(e,t){return function(n){return e(t(n))}}var Hc=Lc,Fc=Hc(Object.keys,Object),Bc=Fc,Uc=Object.prototype,Vc=Uc.hasOwnProperty;function jc(e){if(!Nc(e))return Bc(e);var t=[];for(var n in Object(e))Vc.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Wc=jc,Zc=n(9138);function $c(e){return null!=e&&Wl(e.length)&&!(0,Zc.Z)(e)}var qc=$c;function Gc(e){return qc(e)?Pc(e):Wc(e)}var Kc=Gc;function Yc(e,t){return e&&yl(t,Kc(t),e)}var Jc=Yc;function Xc(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var Qc=Xc,eu=Object.prototype,tu=eu.hasOwnProperty;function nu(e){if(!(0,j.Z)(e))return Qc(e);var t=Nc(e),n=[];for(var o in e)("constructor"!=o||!t&&tu.call(e,o))&&n.push(o);return n}var ou=nu;function ru(e){return qc(e)?Pc(e,!0):ou(e)}var iu=ru;function au(e,t){return e&&yl(t,iu(t),e)}var su=au,lu="object"==typeof exports&&exports&&!exports.nodeType&&exports,cu=lu&&"object"==typeof module&&module&&!module.nodeType&&module,uu=cu&&cu.exports===lu,du=uu?W.Z.Buffer:void 0,hu=du?du.allocUnsafe:void 0;function mu(e,t){if(t)return e.slice();var n=e.length,o=hu?hu(n):new e.constructor(n);return e.copy(o),o}var pu=mu;function fu(e,t){var n=-1,o=e.length;t||(t=Array(o));while(++n<o)t[n]=e[n];return t}var gu=fu;function vu(e,t){var n=-1,o=null==e?0:e.length,r=0,i=[];while(++n<o){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}var yu=vu;function bu(){return[]}var wu=bu,_u=Object.prototype,xu=_u.propertyIsEnumerable,Cu=Object.getOwnPropertySymbols,Su=Cu?function(e){return null==e?[]:(e=Object(e),yu(Cu(e),(function(t){return xu.call(e,t)})))}:wu,ku=Su;function Eu(e,t){return yl(e,ku(e),t)}var Tu=Eu;function Mu(e,t){var n=-1,o=t.length,r=e.length;while(++n<o)e[r+n]=t[n];return e}var Ou=Mu,Du=Hc(Object.getPrototypeOf,Object),Au=Du,Ru=Object.getOwnPropertySymbols,Pu=Ru?function(e){var t=[];while(e)Ou(t,ku(e)),e=Au(e);return t}:wu,Iu=Pu;function zu(e,t){return yl(e,Iu(e),t)}var Nu=zu;function Lu(e,t,n){var o=t(e);return(0,Al.Z)(e)?o:Ou(o,n(e))}var Hu=Lu;function Fu(e){return Hu(e,Kc,ku)}var Bu=Fu;function Uu(e){return Hu(e,iu,Iu)}var Vu=Uu,ju=n(6823),Wu=(0,ju.Z)(W.Z,"DataView"),Zu=Wu,$u=(0,ju.Z)(W.Z,"Promise"),qu=$u,Gu=(0,ju.Z)(W.Z,"Set"),Ku=Gu,Yu=(0,ju.Z)(W.Z,"WeakMap"),Ju=Yu,Xu=n(8481),Qu="[object Map]",ed="[object Object]",td="[object Promise]",nd="[object Set]",od="[object WeakMap]",rd="[object DataView]",id=(0,Xu.Z)(Zu),ad=(0,Xu.Z)(al.Z),sd=(0,Xu.Z)(qu),ld=(0,Xu.Z)(Ku),cd=(0,Xu.Z)(Ju),ud=_l.Z;(Zu&&ud(new Zu(new ArrayBuffer(1)))!=rd||al.Z&&ud(new al.Z)!=Qu||qu&&ud(qu.resolve())!=td||Ku&&ud(new Ku)!=nd||Ju&&ud(new Ju)!=od)&&(ud=function(e){var t=(0,_l.Z)(e),n=t==ed?e.constructor:void 0,o=n?(0,Xu.Z)(n):"";if(o)switch(o){case id:return rd;case ad:return Qu;case sd:return td;case ld:return nd;case cd:return od}return t});var dd=ud,hd=Object.prototype,md=hd.hasOwnProperty;function pd(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&md.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var fd=pd,gd=W.Z.Uint8Array,vd=gd;function yd(e){var t=new e.constructor(e.byteLength);return new vd(t).set(new vd(e)),t}var bd=yd;function wd(e,t){var n=t?bd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _d=wd,xd=/\w*$/;function Cd(e){var t=new e.constructor(e.source,xd.exec(e));return t.lastIndex=e.lastIndex,t}var Sd=Cd,kd=n(7401),Ed=kd.Z?kd.Z.prototype:void 0,Td=Ed?Ed.valueOf:void 0;function Md(e){return Td?Object(Td.call(e)):{}}var Od=Md;function Dd(e,t){var n=t?bd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Ad=Dd,Rd="[object Boolean]",Pd="[object Date]",Id="[object Map]",zd="[object Number]",Nd="[object RegExp]",Ld="[object Set]",Hd="[object String]",Fd="[object Symbol]",Bd="[object ArrayBuffer]",Ud="[object DataView]",Vd="[object Float32Array]",jd="[object Float64Array]",Wd="[object Int8Array]",Zd="[object Int16Array]",$d="[object Int32Array]",qd="[object Uint8Array]",Gd="[object Uint8ClampedArray]",Kd="[object Uint16Array]",Yd="[object Uint32Array]";function Jd(e,t,n){var o=e.constructor;switch(t){case Bd:return bd(e);case Rd:case Pd:return new o(+e);case Ud:return _d(e,n);case Vd:case jd:case Wd:case Zd:case $d:case qd:case Gd:case Kd:case Yd:return Ad(e,n);case Id:return new o;case zd:case Hd:return new o(e);case Nd:return Sd(e);case Ld:return new o;case Fd:return Od(e)}}var Xd=Jd,Qd=Object.create,eh=function(){function e(){}return function(t){if(!(0,j.Z)(t))return{};if(Qd)return Qd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),th=eh;function nh(e){return"function"!=typeof e.constructor||Nc(e)?{}:th(Au(e))}var oh=nh,rh="[object Map]";function ih(e){return(0,xl.Z)(e)&&dd(e)==rh}var ah=ih,sh=Ec&&Ec.isMap,lh=sh?bc(sh):ah,ch=lh,uh="[object Set]";function dh(e){return(0,xl.Z)(e)&&dd(e)==uh}var hh=dh,mh=Ec&&Ec.isSet,ph=mh?bc(mh):hh,fh=ph,gh=1,vh=2,yh=4,bh="[object Arguments]",wh="[object Array]",_h="[object Boolean]",xh="[object Date]",Ch="[object Error]",Sh="[object Function]",kh="[object GeneratorFunction]",Eh="[object Map]",Th="[object Number]",Mh="[object Object]",Oh="[object RegExp]",Dh="[object Set]",Ah="[object String]",Rh="[object Symbol]",Ph="[object WeakMap]",Ih="[object ArrayBuffer]",zh="[object DataView]",Nh="[object Float32Array]",Lh="[object Float64Array]",Hh="[object Int8Array]",Fh="[object Int16Array]",Bh="[object Int32Array]",Uh="[object Uint8Array]",Vh="[object Uint8ClampedArray]",jh="[object Uint16Array]",Wh="[object Uint32Array]",Zh={};function $h(e,t,n,o,r,i){var a,s=t&gh,l=t&vh,c=t&yh;if(n&&(a=r?n(e,o,r,i):n(e)),void 0!==a)return a;if(!(0,j.Z)(e))return e;var u=(0,Al.Z)(e);if(u){if(a=fd(e),!s)return gu(e,a)}else{var d=dd(e),h=d==Sh||d==kh;if(Bl(e))return pu(e,s);if(d==Mh||d==bh||h&&!r){if(a=l||h?{}:oh(e),!s)return l?Nu(e,su(a,e)):Tu(e,Jc(a,e))}else{if(!Zh[d])return r?e:{};a=Xd(e,d,s)}}i||(i=new hl);var m=i.get(e);if(m)return m;i.set(e,a),fh(e)?e.forEach((function(o){a.add($h(o,t,n,o,e,i))})):ch(e)&&e.forEach((function(o,r){a.set(r,$h(o,t,n,r,e,i))}));var p=c?l?Vu:Bu:l?iu:Kc,f=u?void 0:p(e);return pl(f||e,(function(o,r){f&&(r=o,o=e[r]),(0,fl.Z)(a,r,$h(o,t,n,r,e,i))})),a}Zh[bh]=Zh[wh]=Zh[Ih]=Zh[zh]=Zh[_h]=Zh[xh]=Zh[Nh]=Zh[Lh]=Zh[Hh]=Zh[Fh]=Zh[Bh]=Zh[Eh]=Zh[Th]=Zh[Mh]=Zh[Oh]=Zh[Dh]=Zh[Ah]=Zh[Rh]=Zh[Uh]=Zh[Vh]=Zh[jh]=Zh[Wh]=!0,Zh[Ch]=Zh[Sh]=Zh[Ph]=!1;var qh=$h,Gh=1,Kh=4;function Yh(e){return qh(e,Gh|Kh)}var Jh=Yh,Xh="__lodash_hash_undefined__";function Qh(e){return this.__data__.set(e,Xh),this}var em=Qh;function tm(e){return this.__data__.has(e)}var nm=tm;function om(e){var t=-1,n=null==e?0:e.length;this.__data__=new sl.Z;while(++t<n)this.add(e[t])}om.prototype.add=om.prototype.push=em,om.prototype.has=nm;var rm=om;function im(e,t){var n=-1,o=null==e?0:e.length;while(++n<o)if(t(e[n],n,e))return!0;return!1}var am=im;function sm(e,t){return e.has(t)}var lm=sm,cm=1,um=2;function dm(e,t,n,o,r,i){var a=n&cm,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,m=n&um?new rm:void 0;i.set(e,t),i.set(t,e);while(++d<s){var p=e[d],f=t[d];if(o)var g=a?o(f,p,d,t,e,i):o(p,f,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!am(t,(function(e,t){if(!lm(m,t)&&(p===e||r(p,e,n,o,i)))return m.push(t)}))){h=!1;break}}else if(p!==f&&!r(p,f,n,o,i)){h=!1;break}}return i["delete"](e),i["delete"](t),h}var hm=dm,mm=n(202);function pm(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}var fm=pm;function gm(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var vm=gm,ym=1,bm=2,wm="[object Boolean]",_m="[object Date]",xm="[object Error]",Cm="[object Map]",Sm="[object Number]",km="[object RegExp]",Em="[object Set]",Tm="[object String]",Mm="[object Symbol]",Om="[object ArrayBuffer]",Dm="[object DataView]",Am=kd.Z?kd.Z.prototype:void 0,Rm=Am?Am.valueOf:void 0;function Pm(e,t,n,o,r,i,a){switch(n){case Dm:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Om:return!(e.byteLength!=t.byteLength||!i(new vd(e),new vd(t)));case wm:case _m:case Sm:return(0,mm.Z)(+e,+t);case xm:return e.name==t.name&&e.message==t.message;case km:case Tm:return e==t+"";case Cm:var s=fm;case Em:var l=o&ym;if(s||(s=vm),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;o|=bm,a.set(e,t);var u=hm(s(e),s(t),o,r,i,a);return a["delete"](e),u;case Mm:if(Rm)return Rm.call(e)==Rm.call(t)}return!1}var Im=Pm,zm=1,Nm=Object.prototype,Lm=Nm.hasOwnProperty;function Hm(e,t,n,o,r,i){var a=n&zm,s=Bu(e),l=s.length,c=Bu(t),u=c.length;if(l!=u&&!a)return!1;var d=l;while(d--){var h=s[d];if(!(a?h in t:Lm.call(t,h)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);var g=a;while(++d<l){h=s[d];var v=e[h],y=t[h];if(o)var b=a?o(y,v,h,t,e,i):o(v,y,h,e,t,i);if(!(void 0===b?v===y||r(v,y,n,o,i):b)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(f=!1)}return i["delete"](e),i["delete"](t),f}var Fm=Hm,Bm=1,Um="[object Arguments]",Vm="[object Array]",jm="[object Object]",Wm=Object.prototype,Zm=Wm.hasOwnProperty;function $m(e,t,n,o,r,i){var a=(0,Al.Z)(e),s=(0,Al.Z)(t),l=a?Vm:dd(e),c=s?Vm:dd(t);l=l==Um?jm:l,c=c==Um?jm:c;var u=l==jm,d=c==jm,h=l==c;if(h&&Bl(e)){if(!Bl(t))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new hl),a||Oc(e)?hm(e,t,n,o,r,i):Im(e,t,l,n,o,r,i);if(!(n&Bm)){var m=u&&Zm.call(e,"__wrapped__"),p=d&&Zm.call(t,"__wrapped__");if(m||p){var f=m?e.value():e,g=p?t.value():t;return i||(i=new hl),r(f,g,n,o,i)}}return!!h&&(i||(i=new hl),Fm(e,t,n,o,r,i))}var qm=$m;function Gm(e,t,n,o,r){return e===t||(null==e||null==t||!(0,xl.Z)(e)&&!(0,xl.Z)(t)?e!==e&&t!==t:qm(e,t,n,o,Gm,r))}var Km=Gm;function Ym(e,t){return Km(e,t)}var Jm=Ym,Xm=kd.Z?kd.Z.isConcatSpreadable:void 0;function Qm(e){return(0,Al.Z)(e)||Dl(e)||!!(Xm&&e&&e[Xm])}var ep=Qm;function tp(e,t,n,o,r){var i=-1,a=e.length;n||(n=ep),r||(r=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?tp(s,t-1,n,o,r):Ou(r,s):o||(r[r.length]=s)}return r}var np=tp,op=1/0;function rp(e){var t=null==e?0:e.length;return t?np(e,op):[]}var ip=rp;const ap={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Bi.Pp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},sp={[m.f_]:e=>(0,c.HD)(e)||(0,h.hj)(e)||(0,h.jn)(e),change:e=>(0,c.HD)(e)||(0,h.hj)(e)||(0,h.jn)(e)},lp=Symbol("checkboxGroupContextKey"),cp=({model:e,isChecked:t})=>{const n=(0,s.f3)(lp,void 0),o=(0,s.Fl)((()=>{var o,r;const i=null==(o=null==n?void 0:n.max)?void 0:o.value,a=null==(r=null==n?void 0:n.min)?void 0:r.value;return!(0,h.o8)(i)&&e.value.length>=i&&!t.value||!(0,h.o8)(a)&&e.value.length<=a&&t.value})),r=(0,Xr.DT)((0,s.Fl)((()=>(null==n?void 0:n.disabled.value)||o.value)));return{isDisabled:r,isLimitDisabled:o}},up=(e,{model:t,isLimitExceeded:n,hasOwnLabel:o,isDisabled:r,isLabeledByFormItem:i})=>{const a=(0,s.f3)(lp,void 0),{formItem:l}=(0,Hi.A)(),{emit:c}=(0,s.FN)();function u(t){var n,o;return t===e.trueLabel||!0===t?null==(n=e.trueLabel)||n:null!=(o=e.falseLabel)&&o}function d(e,t){c("change",u(e),t)}function h(e){if(n.value)return;const t=e.target;c("change",u(t.checked),e)}async function m(a){if(!n.value&&!o.value&&!r.value&&i.value){const n=a.composedPath(),o=n.some((e=>"LABEL"===e.tagName));o||(t.value=u([!1,e.falseLabel].includes(t.value)),await(0,s.Y3)(),d(t.value,a))}}const p=(0,s.Fl)((()=>(null==a?void 0:a.validateEvent)||e.validateEvent));return(0,s.YP)((()=>e.modelValue),(()=>{p.value&&(null==l||l.validate("change").catch((e=>(0,b.N)(e))))})),{handleChange:h,onClickRoot:m}},dp=e=>{const t=(0,l.iH)(!1),{emit:n}=(0,s.FN)(),o=(0,s.f3)(lp,void 0),r=(0,s.Fl)((()=>!1===(0,h.o8)(o))),i=(0,l.iH)(!1),a=(0,s.Fl)({get(){var n,i;return r.value?null==(n=null==o?void 0:o.modelValue)?void 0:n.value:null!=(i=e.modelValue)?i:t.value},set(e){var a,s;r.value&&(0,c.kJ)(e)?(i.value=void 0!==(null==(a=null==o?void 0:o.max)?void 0:a.value)&&e.length>(null==o?void 0:o.max.value),!1===i.value&&(null==(s=null==o?void 0:o.changeEvent)||s.call(o,e))):(n(m.f_,e),t.value=e)}});return{model:a,isGroup:r,isLimitExceeded:i}},hp=(e,t,{model:n})=>{const o=(0,s.f3)(lp,void 0),r=(0,l.iH)(!1),i=(0,s.Fl)((()=>{const t=n.value;return(0,h.jn)(t)?t:(0,c.kJ)(t)?(0,c.Kn)(e.label)?t.map(l.IU).some((t=>Jm(t,e.label))):t.map(l.IU).includes(e.label):null!==t&&void 0!==t?t===e.trueLabel:!!t})),a=(0,Xr.Cd)((0,s.Fl)((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value})),{prop:!0}),u=(0,Xr.Cd)((0,s.Fl)((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value}))),d=(0,s.Fl)((()=>!(!t.default&&!e.label)));return{checkboxButtonSize:a,isChecked:i,isFocused:r,checkboxSize:u,hasOwnLabel:d}},mp=(e,{model:t})=>{function n(){(0,c.kJ)(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},pp=(e,t)=>{const{formItem:n}=(0,Hi.A)(),{model:o,isGroup:r,isLimitExceeded:i}=dp(e),{isFocused:a,isChecked:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u}=hp(e,t,{model:o}),{isDisabled:d}=cp({model:o,isChecked:s}),{inputId:h,isLabeledByFormItem:m}=(0,Hi.p)(e,{formItemContext:n,disableIdGeneration:u,disableIdManagement:r}),{handleChange:p,onClickRoot:f}=up(e,{model:o,isLimitExceeded:i,hasOwnLabel:u,isDisabled:d,isLabeledByFormItem:m});return mp(e,{model:o}),{inputId:h,isLabeledByFormItem:m,isChecked:s,isDisabled:d,isFocused:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:o,handleChange:p,onClickRoot:f}},fp=["tabindex","role","aria-checked"],gp=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],vp=["id","aria-hidden","disabled","value","name","tabindex"],yp=(0,s.aZ)({name:"ElCheckbox"}),bp=(0,s.aZ)({...yp,props:ap,emits:sp,setup(e){const t=e,n=(0,s.Rr)(),{inputId:o,isLabeledByFormItem:r,isChecked:i,isDisabled:a,isFocused:u,checkboxSize:d,hasOwnLabel:h,model:m,handleChange:p,onClickRoot:f}=pp(t,n),g=(0,v.s3)("checkbox"),y=(0,s.Fl)((()=>[g.b(),g.m(d.value),g.is("disabled",a.value),g.is("bordered",t.border),g.is("checked",i.value)])),b=(0,s.Fl)((()=>[g.e("input"),g.is("disabled",a.value),g.is("checked",i.value),g.is("indeterminate",t.indeterminate),g.is("focus",u.value)]));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(!(0,l.SU)(h)&&(0,l.SU)(r)?"span":"label"),{class:(0,c.C_)((0,l.SU)(y)),"aria-controls":e.indeterminate?e.controls:null,onClick:(0,l.SU)(f)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(b)),tabindex:e.indeterminate?0:void 0,role:e.indeterminate?"checkbox":void 0,"aria-checked":e.indeterminate?"mixed":void 0},[e.trueLabel||e.falseLabel?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,id:(0,l.SU)(o),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(m)?m.value=e:null),class:(0,c.C_)((0,l.SU)(g).e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,tabindex:e.tabindex,disabled:(0,l.SU)(a),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>(0,l.SU)(p)&&(0,l.SU)(p)(...e)),onFocus:t[2]||(t[2]=e=>u.value=!0),onBlur:t[3]||(t[3]=e=>u.value=!1)},null,42,gp)),[[R.e8,(0,l.SU)(m)]]):(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,id:(0,l.SU)(o),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,l.dq)(m)?m.value=e:null),class:(0,c.C_)((0,l.SU)(g).e("original")),type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:(0,l.SU)(a),value:e.label,name:e.name,tabindex:e.tabindex,onChange:t[5]||(t[5]=(...e)=>(0,l.SU)(p)&&(0,l.SU)(p)(...e)),onFocus:t[6]||(t[6]=e=>u.value=!0),onBlur:t[7]||(t[7]=e=>u.value=!1)},null,42,vp)),[[R.e8,(0,l.SU)(m)]]),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(g).e("inner"))},null,2)],10,fp),(0,l.SU)(h)?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)((0,l.SU)(g).e("label"))},[(0,s.WI)(e.$slots,"default"),e.$slots.default?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,c.zw)(e.label),1)],64))],2)):(0,s.kq)("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}});var wp=(0,g.Z)(bp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _p=["name","tabindex","disabled","true-value","false-value"],xp=["name","tabindex","disabled","value"],Cp=(0,s.aZ)({name:"ElCheckboxButton"}),Sp=(0,s.aZ)({...Cp,props:ap,emits:sp,setup(e){const t=e,n=(0,s.Rr)(),{isFocused:o,isChecked:r,isDisabled:i,checkboxButtonSize:a,model:u,handleChange:d}=pp(t,n),h=(0,s.f3)(lp,void 0),m=(0,v.s3)("checkbox"),p=(0,s.Fl)((()=>{var e,t,n,o;const r=null!=(t=null==(e=null==h?void 0:h.fill)?void 0:e.value)?t:"";return{backgroundColor:r,borderColor:r,color:null!=(o=null==(n=null==h?void 0:h.textColor)?void 0:n.value)?o:"",boxShadow:r?`-1px 0 0 0 ${r}`:void 0}})),f=(0,s.Fl)((()=>[m.b("button"),m.bm("button",a.value),m.is("disabled",i.value),m.is("checked",r.value),m.is("focus",o.value)]));return(e,t)=>((0,s.wg)(),(0,s.iD)("label",{class:(0,c.C_)((0,l.SU)(f))},[e.trueLabel||e.falseLabel?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(u)?u.value=e:null),class:(0,c.C_)((0,l.SU)(m).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:(0,l.SU)(i),"true-value":e.trueLabel,"false-value":e.falseLabel,onChange:t[1]||(t[1]=(...e)=>(0,l.SU)(d)&&(0,l.SU)(d)(...e)),onFocus:t[2]||(t[2]=e=>o.value=!0),onBlur:t[3]||(t[3]=e=>o.value=!1)},null,42,_p)),[[R.e8,(0,l.SU)(u)]]):(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,l.dq)(u)?u.value=e:null),class:(0,c.C_)((0,l.SU)(m).be("button","original")),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:(0,l.SU)(i),value:e.label,onChange:t[5]||(t[5]=(...e)=>(0,l.SU)(d)&&(0,l.SU)(d)(...e)),onFocus:t[6]||(t[6]=e=>o.value=!0),onBlur:t[7]||(t[7]=e=>o.value=!1)},null,42,xp)),[[R.e8,(0,l.SU)(u)]]),e.$slots.default||e.label?((0,s.wg)(),(0,s.iD)("span",{key:2,class:(0,c.C_)((0,l.SU)(m).be("button","inner")),style:(0,c.j5)((0,l.SU)(r)?(0,l.SU)(p):void 0)},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,c.zw)(e.label),1)]))],6)):(0,s.kq)("v-if",!0)],2))}});var kp=(0,g.Z)(Sp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]),Ep=n(4507),Tp=n(889),Mp=n(650);function Op(e,t,n){var o=-1,r=t.length,i={};while(++o<r){var a=t[o],s=(0,Ep.Z)(e,a);n(s,a)&&(0,Tp.Z)(i,(0,Mp.Z)(a,e),s)}return i}var Dp=Op;function Ap(e,t){return null!=e&&t in Object(e)}var Rp=Ap,Pp=n(3430);function Ip(e,t,n){t=(0,Mp.Z)(t,e);var o=-1,r=t.length,i=!1;while(++o<r){var a=(0,Pp.Z)(t[o]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++o!=r?i:(r=null==e?0:e.length,!!r&&Wl(r)&&(0,Ul.Z)(a,r)&&((0,Al.Z)(e)||Dl(e)))}var zp=Ip;function Np(e,t){return null!=e&&zp(e,t,Rp)}var Lp=Np;function Hp(e,t){return Dp(e,t,(function(t,n){return Lp(e,n)}))}var Fp=Hp;function Bp(e){var t=null==e?0:e.length;return t?np(e,1):[]}var Up=Bp;function Vp(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var jp=Vp,Wp=Math.max;function Zp(e,t,n){return t=Wp(void 0===t?e.length-1:t,0),function(){var o=arguments,r=-1,i=Wp(o.length-t,0),a=Array(i);while(++r<i)a[r]=o[t+r];r=-1;var s=Array(t+1);while(++r<t)s[r]=o[r];return s[t]=n(a),jp(e,this,s)}}var $p=Zp;function qp(e){return function(){return e}}var Gp=qp,Kp=n(6673);function Yp(e){return e}var Jp=Yp,Xp=Kp.Z?function(e,t){return(0,Kp.Z)(e,"toString",{configurable:!0,enumerable:!1,value:Gp(t),writable:!0})}:Jp,Qp=Xp,ef=800,tf=16,nf=Date.now;function of(e){var t=0,n=0;return function(){var o=nf(),r=tf-(o-n);if(n=o,r>0){if(++t>=ef)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rf=of,af=rf(Qp),sf=af;function lf(e){return sf($p(e,void 0,Up),e+"")}var cf=lf,uf=cf((function(e,t){return null==e?{}:Fp(e,t)})),df=uf;const hf=(0,d.o8)({modelValue:{type:(0,d.Cq)(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Bi.Pp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),mf={[m.f_]:e=>(0,c.kJ)(e),change:e=>(0,c.kJ)(e)},pf=(0,s.aZ)({name:"ElCheckboxGroup"}),ff=(0,s.aZ)({...pf,props:hf,emits:mf,setup(e,{emit:t}){const n=e,o=(0,v.s3)("checkbox"),{formItem:r}=(0,Hi.A)(),{inputId:i,isLabeledByFormItem:a}=(0,Hi.p)(n,{formItemContext:r}),u=async e=>{t(m.f_,e),await(0,s.Y3)(),t("change",e)},d=(0,s.Fl)({get(){return n.modelValue},set(e){u(e)}});return(0,s.JJ)(lp,{...df((0,l.BK)(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:d,changeEvent:u}),(0,s.YP)((()=>n.modelValue),(()=>{n.validateEvent&&(null==r||r.validate("change").catch((e=>(0,b.N)(e))))})),(e,t)=>{var n;return(0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{id:(0,l.SU)(i),class:(0,c.C_)((0,l.SU)(o).b("group")),role:"group","aria-label":(0,l.SU)(a)?void 0:e.label||"checkbox-group","aria-labelledby":(0,l.SU)(a)?null==(n=(0,l.SU)(r))?void 0:n.labelId:void 0},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var gf=(0,g.Z)(ff,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const vf=(0,D.nz)(wp,{CheckboxButton:kp,CheckboxGroup:gf}),yf=(0,D.dp)(kp),bf=(0,D.dp)(gf),wf=(0,d.o8)({size:Bi.Pp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),_f=(0,d.o8)({...wf,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),xf={[m.f_]:e=>(0,c.HD)(e)||(0,h.hj)(e)||(0,h.jn)(e),[m.O7]:e=>(0,c.HD)(e)||(0,h.hj)(e)||(0,h.jn)(e)},Cf=Symbol("radioGroupKey"),Sf=(e,t)=>{const n=(0,l.iH)(),o=(0,s.f3)(Cf,void 0),r=(0,s.Fl)((()=>!!o)),i=(0,s.Fl)({get(){return r.value?o.modelValue:e.modelValue},set(i){r.value?o.changeEvent(i):t&&t(m.f_,i),n.value.checked=e.modelValue===e.label}}),a=(0,Xr.Cd)((0,s.Fl)((()=>null==o?void 0:o.size))),c=(0,Xr.DT)((0,s.Fl)((()=>null==o?void 0:o.disabled))),u=(0,l.iH)(!1),d=(0,s.Fl)((()=>c.value||r.value&&i.value!==e.label?-1:0));return{radioRef:n,isGroup:r,radioGroup:o,focus:u,size:a,disabled:c,tabIndex:d,modelValue:i}},kf=["value","name","disabled"],Ef=(0,s.aZ)({name:"ElRadio"}),Tf=(0,s.aZ)({...Ef,props:_f,emits:xf,setup(e,{emit:t}){const n=e,o=(0,v.s3)("radio"),{radioRef:r,radioGroup:i,focus:a,size:u,disabled:d,modelValue:h}=Sf(n,t);function m(){(0,s.Y3)((()=>t("change",h.value)))}return(e,t)=>{var n;return(0,s.wg)(),(0,s.iD)("label",{class:(0,c.C_)([(0,l.SU)(o).b(),(0,l.SU)(o).is("disabled",(0,l.SU)(d)),(0,l.SU)(o).is("focus",(0,l.SU)(a)),(0,l.SU)(o).is("bordered",e.border),(0,l.SU)(o).is("checked",(0,l.SU)(h)===e.label),(0,l.SU)(o).m((0,l.SU)(u))])},[(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(o).e("input"),(0,l.SU)(o).is("disabled",(0,l.SU)(d)),(0,l.SU)(o).is("checked",(0,l.SU)(h)===e.label)])},[(0,s.wy)((0,s._)("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(h)?h.value=e:null),class:(0,c.C_)((0,l.SU)(o).e("original")),value:e.label,name:e.name||(null==(n=(0,l.SU)(i))?void 0:n.name),disabled:(0,l.SU)(d),type:"radio",onFocus:t[1]||(t[1]=e=>a.value=!0),onBlur:t[2]||(t[2]=e=>a.value=!1),onChange:m},null,42,kf),[[R.G2,(0,l.SU)(h)]]),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(o).e("inner"))},null,2)],2),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(o).e("label")),onKeydown:t[3]||(t[3]=(0,R.iM)((()=>{}),["stop"]))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,c.zw)(e.label),1)]))],34)],2)}}});var Mf=(0,g.Z)(Tf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Of=(0,d.o8)({...wf,name:{type:String,default:""}}),Df=["value","name","disabled"],Af=(0,s.aZ)({name:"ElRadioButton"}),Rf=(0,s.aZ)({...Af,props:Of,setup(e){const t=e,n=(0,v.s3)("radio"),{radioRef:o,focus:r,size:i,disabled:a,modelValue:u,radioGroup:d}=Sf(t),h=(0,s.Fl)((()=>({backgroundColor:(null==d?void 0:d.fill)||"",borderColor:(null==d?void 0:d.fill)||"",boxShadow:(null==d?void 0:d.fill)?`-1px 0 0 0 ${d.fill}`:"",color:(null==d?void 0:d.textColor)||""})));return(e,t)=>{var m;return(0,s.wg)(),(0,s.iD)("label",{class:(0,c.C_)([(0,l.SU)(n).b("button"),(0,l.SU)(n).is("active",(0,l.SU)(u)===e.label),(0,l.SU)(n).is("disabled",(0,l.SU)(a)),(0,l.SU)(n).is("focus",(0,l.SU)(r)),(0,l.SU)(n).bm("button",(0,l.SU)(i))])},[(0,s.wy)((0,s._)("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(u)?u.value=e:null),class:(0,c.C_)((0,l.SU)(n).be("button","original-radio")),value:e.label,type:"radio",name:e.name||(null==(m=(0,l.SU)(d))?void 0:m.name),disabled:(0,l.SU)(a),onFocus:t[1]||(t[1]=e=>r.value=!0),onBlur:t[2]||(t[2]=e=>r.value=!1)},null,42,Df),[[R.G2,(0,l.SU)(u)]]),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(n).be("button","inner")),style:(0,c.j5)((0,l.SU)(u)===e.label?(0,l.SU)(h):{}),onKeydown:t[3]||(t[3]=(0,R.iM)((()=>{}),["stop"]))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,c.zw)(e.label),1)]))],38)],2)}}});var Pf=(0,g.Z)(Rf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const If=(0,d.o8)({id:{type:String,default:void 0},size:Bi.Pp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),zf=xf,Nf=["id","aria-label","aria-labelledby"],Lf=(0,s.aZ)({name:"ElRadioGroup"}),Hf=(0,s.aZ)({...Lf,props:If,emits:zf,setup(e,{emit:t}){const n=e,o=(0,v.s3)("radio"),r=(0,zo.Me)(),i=(0,l.iH)(),{formItem:a}=(0,Hi.A)(),{inputId:u,isLabeledByFormItem:d}=(0,Hi.p)(n,{formItemContext:a}),h=e=>{t(m.f_,e),(0,s.Y3)((()=>t("change",e)))};(0,s.bv)((()=>{const e=i.value.querySelectorAll("[type=radio]"),t=e[0];!Array.from(e).some((e=>e.checked))&&t&&(t.tabIndex=0)}));const p=(0,s.Fl)((()=>n.name||r.value));return(0,s.JJ)(Cf,(0,l.qj)({...(0,l.BK)(n),changeEvent:h,name:p})),(0,s.YP)((()=>n.modelValue),(()=>{n.validateEvent&&(null==a||a.validate("change").catch((e=>(0,b.N)(e))))})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{id:(0,l.SU)(u),ref_key:"radioGroupRef",ref:i,class:(0,c.C_)((0,l.SU)(o).b("group")),role:"radiogroup","aria-label":(0,l.SU)(d)?void 0:e.label||"radio-group","aria-labelledby":(0,l.SU)(d)?(0,l.SU)(a).labelId:void 0},[(0,s.WI)(e.$slots,"default")],10,Nf))}});var Ff=(0,g.Z)(Hf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Bf=(0,D.nz)(Mf,{RadioButton:Pf,RadioGroup:Ff}),Uf=(0,D.dp)(Ff),Vf=(0,D.dp)(Pf);var jf=(0,s.aZ)({name:"NodeContent",setup(){const e=(0,v.s3)("cascader-node");return{ns:e}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:o,label:r}=t,{renderLabelFn:i}=n;return(0,s.h)("span",{class:e.e("label")},i?i({node:t,data:o}):r)}});const Wf=Symbol(),Zf=(0,s.aZ)({name:"ElCascaderNode",components:{ElCheckbox:vf,ElRadio:Bf,NodeContent:jf,ElIcon:P.gn,Check:he.Check,Loading:he.Loading,ArrowRight:he.ArrowRight},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=(0,s.f3)(Wf),o=(0,v.s3)("cascader-node"),r=(0,s.Fl)((()=>n.isHoverMenu)),i=(0,s.Fl)((()=>n.config.multiple)),a=(0,s.Fl)((()=>n.config.checkStrictly)),l=(0,s.Fl)((()=>{var e;return null==(e=n.checkedNodes[0])?void 0:e.uid})),c=(0,s.Fl)((()=>e.node.isDisabled)),u=(0,s.Fl)((()=>e.node.isLeaf)),d=(0,s.Fl)((()=>a.value&&!u.value||!c.value)),h=(0,s.Fl)((()=>p(n.expandingNode))),m=(0,s.Fl)((()=>a.value&&n.checkedNodes.some(p))),p=t=>{var n;const{level:o,uid:r}=e.node;return(null==(n=null==t?void 0:t.pathNodes[o-1])?void 0:n.uid)===r},f=()=>{h.value||n.expandNode(e.node)},g=t=>{const{node:o}=e;t!==o.checked&&n.handleCheckChange(o,t)},y=()=>{n.lazyLoad(e.node,(()=>{u.value||f()}))},b=e=>{r.value&&(w(),!u.value&&t("expand",e))},w=()=>{const{node:t}=e;d.value&&!t.loading&&(t.loaded?f():y())},_=()=>{r.value&&!u.value||(!u.value||c.value||a.value||i.value?w():C(!0))},x=t=>{a.value?(g(t),e.node.loaded&&f()):C(t)},C=t=>{e.node.loaded?(g(t),!a.value&&f()):y()};return{panel:n,isHoverMenu:r,multiple:i,checkStrictly:a,checkedNodeId:l,isDisabled:c,isLeaf:u,expandable:d,inExpandingPath:h,inCheckedPath:m,ns:o,handleHoverExpand:b,handleExpand:w,handleClick:_,handleCheck:C,handleSelectCheck:x}}}),$f=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],qf=(0,s._)("span",null,null,-1);function Gf(e,t,n,o,r,i){const a=(0,s.up)("el-checkbox"),l=(0,s.up)("el-radio"),u=(0,s.up)("check"),d=(0,s.up)("el-icon"),h=(0,s.up)("node-content"),m=(0,s.up)("loading"),p=(0,s.up)("arrow-right");return(0,s.wg)(),(0,s.iD)("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:(0,c.C_)([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onFocus:t[3]||(t[3]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onClick:t[4]||(t[4]=(...t)=>e.handleClick&&e.handleClick(...t))},[(0,s.kq)(" prefix "),e.multiple?((0,s.wg)(),(0,s.j4)(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=(0,R.iM)((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?((0,s.wg)(),(0,s.j4)(l,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=(0,R.iM)((()=>{}),["stop"]))},{default:(0,s.w5)((()=>[(0,s.kq)("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),qf])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?((0,s.wg)(),(0,s.j4)(d,{key:2,class:(0,c.C_)(e.ns.e("prefix"))},{default:(0,s.w5)((()=>[(0,s.Wm)(u)])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s.kq)(" content "),(0,s.Wm)(h),(0,s.kq)(" postfix "),e.isLeaf?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[e.node.loading?((0,s.wg)(),(0,s.j4)(d,{key:0,class:(0,c.C_)([e.ns.is("loading"),e.ns.e("postfix")])},{default:(0,s.w5)((()=>[(0,s.Wm)(m)])),_:1},8,["class"])):((0,s.wg)(),(0,s.j4)(d,{key:1,class:(0,c.C_)(["arrow-right",e.ns.e("postfix")])},{default:(0,s.w5)((()=>[(0,s.Wm)(p)])),_:1},8,["class"]))],64))],42,$f)}var Kf=(0,g.Z)(Zf,[["render",Gf],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Yf=(0,s.aZ)({name:"ElCascaderMenu",components:{Loading:he.Loading,ElIcon:P.gn,ElScrollbar:Ae,ElCascaderNode:Kf},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=(0,s.FN)(),n=(0,v.s3)("cascader-menu"),{t:o}=(0,Ga.bU)(),r=Qr();let i=null,a=null;const c=(0,s.f3)(Wf),u=(0,l.iH)(null),d=(0,s.Fl)((()=>!e.nodes.length)),h=(0,s.Fl)((()=>!c.initialLoaded)),m=(0,s.Fl)((()=>`cascader-menu-${r}-${e.index}`)),p=e=>{i=e.target},f=e=>{if(c.isHoverMenu&&i&&u.value)if(i.contains(e.target)){g();const n=t.vnode.el,{left:o}=n.getBoundingClientRect(),{offsetWidth:r,offsetHeight:a}=n,s=e.clientX-o,l=i.offsetTop,c=l+i.offsetHeight;u.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${l} L${r} 0 V${l} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${c} L${r} ${a} V${c} Z" />\n        `}else a||(a=window.setTimeout(y,c.config.hoverThreshold))},g=()=>{a&&(clearTimeout(a),a=null)},y=()=>{u.value&&(u.value.innerHTML="",g())};return{ns:n,panel:c,hoverZone:u,isEmpty:d,isLoading:h,menuId:m,t:o,handleExpand:p,handleMouseMove:f,clearHoverZone:y}}});function Jf(e,t,n,o,r,i){const a=(0,s.up)("el-cascader-node"),l=(0,s.up)("loading"),u=(0,s.up)("el-icon"),d=(0,s.up)("el-scrollbar");return(0,s.wg)(),(0,s.j4)(d,{key:e.menuId,tag:"ul",role:"menu",class:(0,c.C_)(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:(0,s.w5)((()=>{var t;return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.nodes,(t=>((0,s.wg)(),(0,s.j4)(a,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)(e.ns.e("empty-text"))},[(0,s.Wm)(u,{size:"14",class:(0,c.C_)(e.ns.is("loading"))},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1},8,["class"]),(0,s.Uk)(" "+(0,c.zw)(e.t("el.cascader.loading")),1)],2)):e.isEmpty?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)(e.ns.e("empty-text"))},(0,c.zw)(e.t("el.cascader.noData")),3)):(null==(t=e.panel)?void 0:t.isHoverMenu)?((0,s.wg)(),(0,s.iD)("svg",{key:2,ref:"hoverZone",class:(0,c.C_)(e.ns.e("hover-zone"))},null,2)):(0,s.kq)("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Xf=(0,g.Z)(Yf,[["render",Jf],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);const Qf=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),eg=e=>(0,c.kC)(e);let tg=0;const ng=e=>{const t=[e];let{parent:n}=e;while(n)t.unshift(n),n=n.parent;return t};class og{constructor(e,t,n,o=!1){this.data=e,this.config=t,this.parent=n,this.root=o,this.uid=tg++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:r,label:i,children:a}=t,s=e[a],l=ng(this);this.level=o?0:n?n.level+1:1,this.value=e[r],this.label=e[i],this.pathNodes=l,this.pathValues=l.map((e=>e.value)),this.pathLabels=l.map((e=>e.label)),this.childrenData=s,this.children=(s||[]).map((e=>new og(e,t,this))),this.loaded=!t.lazy||this.isLeaf||!(0,h.xb)(s)}get isDisabled(){const{data:e,parent:t,config:n}=this,{disabled:o,checkStrictly:r}=n,i=(0,c.mf)(o)?o(e,this):!!e[o];return i||!r&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:n,loaded:o}=this,{lazy:r,leaf:i}=t,a=(0,c.mf)(i)?i(e,this):e[i];return(0,h.o8)(a)?!(r&&!o)&&!(Array.isArray(n)&&n.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:n}=this,o=new og(e,this.config,this);return Array.isArray(t)?t.push(e):this.childrenData=[e],n.push(o),o}calcText(e,t){const n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e,...t){const n=`onParent${eg(e)}`;this.children.forEach((o=>{o&&(o.broadcast(e,...t),o[n]&&o[n](...t))}))}emit(e,...t){const{parent:n}=this,o=`onChild${eg(e)}`;n&&(n[o]&&n[o](...t),n.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter((e=>!e.isDisabled)),n=!!t.length&&t.every((e=>e.checked));this.setCheckState(n)}setCheckState(e){const t=this.children.length,n=this.children.reduce(((e,t)=>{const n=t.checked?1:t.indeterminate?.5:0;return e+n}),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const rg=(e,t)=>e.reduce(((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(rg(n.children,t))),e)),[]);class ig{constructor(e,t){this.config=t;const n=(e||[]).map((e=>new og(e,this.config)));this.nodes=n,this.allNodes=rg(n,!1),this.leafNodes=rg(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const n=t?t.appendChild(e):new og(e,this.config);t||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(e,t){e.forEach((e=>this.appendNode(e,t)))}getNodeByValue(e,t=!1){if(!e&&0!==e)return null;const n=this.getFlattedNodes(t).find((t=>Jm(t.value,e)||Jm(t.pathValues,e)));return n||null}getSameNode(e){if(!e)return null;const t=this.getFlattedNodes(!1).find((({value:t,level:n})=>Jm(e.value,t)&&e.level===n));return t||null}}const ag=(0,d.o8)({modelValue:{type:(0,d.Cq)([Number,String,Array])},options:{type:(0,d.Cq)(Array),default:()=>[]},props:{type:(0,d.Cq)(Object),default:()=>({})}}),sg={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:c.dG,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},lg=e=>(0,s.Fl)((()=>({...sg,...e.props}))),cg='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',ug=e=>{const t=getComputedStyle(e);return"fixed"!==t.position&&null!==e.offsetParent},dg=e=>Array.from(e.querySelectorAll(cg)).filter((e=>hg(e)&&ug(e))),hg=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},mg=function(e,t,...n){let o;o=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const r=document.createEvent(o);return r.initEvent(t,...n),e.dispatchEvent(r),e},pg=e=>!e.getAttribute("aria-owns"),fg=(e,t,n)=>{const{parentNode:o}=e;if(!o)return null;const r=o.querySelectorAll(n),i=Array.prototype.indexOf.call(r,e);return r[i+t]||null},gg=e=>{e&&(e.focus(),!pg(e)&&e.click())},vg=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},yg=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():pg(e)&&e.click()},bg=(e,t)=>{const n=t.slice(0),o=n.map((e=>e.uid)),r=e.reduce(((e,t)=>{const r=o.indexOf(t.uid);return r>-1&&(e.push(t),n.splice(r,1),o.splice(r,1)),e}),[]);return r.push(...n),r},wg=e=>[...new Set(e)],_g=e=>e||0===e?Array.isArray(e)?e:[e]:[],xg=(0,s.aZ)({name:"ElCascaderPanel",components:{ElCascaderMenu:Xf},props:{...ag,border:{type:Boolean,default:!0},renderLabel:Function},emits:[m.f_,m.O7,"close","expand-change"],setup(e,{emit:t,slots:n}){let o=!1;const r=(0,v.s3)("cascader"),i=lg(e);let a=null;const c=(0,l.iH)(!0),u=(0,l.iH)([]),d=(0,l.iH)(null),p=(0,l.iH)([]),f=(0,l.iH)(null),g=(0,l.iH)([]),y=(0,s.Fl)((()=>"hover"===i.value.expandTrigger)),b=(0,s.Fl)((()=>e.renderLabel||n.default)),_=()=>{const{options:t}=e,n=i.value;o=!1,a=new ig(t,n),p.value=[a.getNodes()],n.lazy&&(0,h.xb)(e.options)?(c.value=!1,x(void 0,(e=>{e&&(a=new ig(e,n),p.value=[a.getNodes()]),c.value=!0,A(!1,!0)}))):A(!1,!0)},x=(e,t)=>{const n=i.value;e=e||new og({},n,void 0,!0),e.loading=!0;const o=n=>{const o=e,r=o.root?null:o;n&&(null==a||a.appendNodes(n,r)),o.loading=!1,o.loaded=!0,o.childrenData=o.childrenData||[],t&&t(n)};n.lazyLoad(e,o)},C=(e,n)=>{var o;const{level:r}=e,i=p.value.slice(0,r);let a;e.isLeaf?a=e.pathNodes[r-2]:(a=e,i.push(e.children)),(null==(o=f.value)?void 0:o.uid)!==(null==a?void 0:a.uid)&&(f.value=e,p.value=i,!n&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},S=(e,n,r=!0)=>{const{checkStrictly:a,multiple:s}=i.value,l=g.value[0];o=!0,!s&&(null==l||l.doCheck(!1)),e.doCheck(n),D(),r&&!s&&!a&&t("close"),!r&&!s&&!a&&E(e)},E=e=>{e&&(e=e.parent,E(e),e&&C(e))},T=e=>null==a?void 0:a.getFlattedNodes(e),M=e=>{var t;return null==(t=T(e))?void 0:t.filter((e=>!1!==e.checked))},O=()=>{g.value.forEach((e=>e.doCheck(!1))),D(),p.value=p.value.slice(0,1),f.value=null,t("expand-change",[])},D=()=>{var e;const{checkStrictly:t,multiple:n}=i.value,o=g.value,r=M(!t),a=bg(o,r),s=a.map((e=>e.valueByOption));g.value=a,d.value=n?s:null!=(e=s[0])?e:null},A=(t=!1,n=!1)=>{const{modelValue:r}=e,{lazy:s,multiple:l,checkStrictly:u}=i.value,h=!u;if(c.value&&!o&&(n||!Jm(r,d.value)))if(s&&!t){const e=wg(ip(_g(r))),t=e.map((e=>null==a?void 0:a.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));t.length?t.forEach((e=>{x(e,(()=>A(!1,n)))})):A(!0,n)}else{const e=l?_g(r):[r],t=wg(e.map((e=>null==a?void 0:a.getNodeByValue(e,h))));R(t,n),d.value=Jh(r)}},R=(e,t=!0)=>{const{checkStrictly:n}=i.value,o=g.value,r=e.filter((e=>!!e&&(n||e.isLeaf))),l=null==a?void 0:a.getSameNode(f.value),c=t&&l||r[0];c?c.pathNodes.forEach((e=>C(e,!0))):f.value=null,o.forEach((e=>e.doCheck(!1))),r.forEach((e=>e.doCheck(!0))),g.value=r,(0,s.Y3)(P)},P=()=>{w.C5&&u.value.forEach((e=>{const t=null==e?void 0:e.$el;if(t){const e=t.querySelector(`.${r.namespace.value}-scrollbar__wrap`),n=t.querySelector(`.${r.b("node")}.${r.is("active")}`)||t.querySelector(`.${r.b("node")}.in-active-path`);k(e,n)}}))},I=e=>{const t=e.target,{code:n}=e;switch(n){case no.EVENT_CODE.up:case no.EVENT_CODE.down:{e.preventDefault();const o=n===no.EVENT_CODE.up?-1:1;gg(fg(t,o,`.${r.b("node")}[tabindex="-1"]`));break}case no.EVENT_CODE.left:{e.preventDefault();const n=u.value[vg(t)-1],o=null==n?void 0:n.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);gg(o);break}case no.EVENT_CODE.right:{e.preventDefault();const n=u.value[vg(t)+1],o=null==n?void 0:n.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);gg(o);break}case no.EVENT_CODE.enter:yg(t);break}};return(0,s.JJ)(Wf,(0,l.qj)({config:i,expandingNode:f,checkedNodes:g,isHoverMenu:y,initialLoaded:c,renderLabelFn:b,lazyLoad:x,expandNode:C,handleCheckChange:S})),(0,s.YP)([i,()=>e.options],_,{deep:!0,immediate:!0}),(0,s.YP)((()=>e.modelValue),(()=>{o=!1,A()}),{deep:!0}),(0,s.YP)((()=>d.value),(n=>{Jm(n,e.modelValue)||(t(m.f_,n),t(m.O7,n))})),(0,s.Xn)((()=>u.value=[])),(0,s.bv)((()=>!(0,h.xb)(e.modelValue)&&A())),{ns:r,menuList:u,menus:p,checkedNodes:g,handleKeyDown:I,handleCheckChange:S,getFlattedNodes:T,getCheckedNodes:M,clearCheckedNodes:O,calculateCheckedValue:D,scrollToExpandingNode:P}}});function Cg(e,t,n,o,r,i){const a=(0,s.up)("el-cascader-menu");return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.menus,((t,n)=>((0,s.wg)(),(0,s.j4)(a,{key:n,ref_for:!0,ref:t=>e.menuList[n]=t,index:n,nodes:[...t]},null,8,["index","nodes"])))),128))],34)}var Sg=(0,g.Z)(xg,[["render",Cg],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Sg.install=e=>{e.component(Sg.name,Sg)};const kg=Sg,Eg=kg,Tg=(0,d.o8)({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:li.k,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Mg={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Og=(0,s.aZ)({name:"ElTag"}),Dg=(0,s.aZ)({...Og,props:Tg,emits:Mg,setup(e,{emit:t}){const n=e,o=(0,Xr.Cd)(),r=(0,v.s3)("tag"),i=(0,s.Fl)((()=>{const{type:e,hit:t,effect:i,closable:a,round:s}=n;return[r.b(),r.is("closable",a),r.m(e),r.m(o.value),r.m(i),r.is("hit",t),r.is("round",s)]})),a=e=>{t("close",e)},u=e=>{t("click",e)};return(e,t)=>e.disableTransitions?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)((0,l.SU)(i)),style:(0,c.j5)({backgroundColor:e.color}),onClick:u},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(r).e("content"))},[(0,s.WI)(e.$slots,"default")],2),e.closable?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(r).e("close")),onClick:(0,R.iM)(a,["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)],6)):((0,s.wg)(),(0,s.j4)(R.uT,{key:1,name:`${(0,l.SU)(r).namespace.value}-zoom-in-center`,appear:""},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i)),style:(0,c.j5)({backgroundColor:e.color}),onClick:u},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(r).e("content"))},[(0,s.WI)(e.$slots,"default")],2),e.closable?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(r).e("close")),onClick:(0,R.iM)(a,["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)],6)])),_:3},8,["name"]))}});var Ag=(0,g.Z)(Dg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Rg=(0,D.nz)(Ag),Pg=(0,d.o8)({...ag,size:Bi.Pp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:(0,d.Cq)(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:(0,d.Cq)(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:eo.teleported,tagType:{...Tg.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),Ig={[m.f_]:e=>!!e||null===e,[m.O7]:e=>!!e||null===e,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>(0,h.jn)(e),expandChange:e=>!!e,removeTag:e=>!!e};var zg=n(3356);const Ng=new Map;let Lg;function Hg(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:(0,h.kK)(t.arg)&&n.push(t.arg),function(o,r){const i=t.instance.popperRef,a=o.target,s=null==r?void 0:r.target,l=!t||!t.instance,c=!a||!s,u=e.contains(a)||e.contains(s),d=e===a,h=n.length&&n.some((e=>null==e?void 0:e.contains(a)))||n.length&&n.includes(s),m=i&&(i.contains(a)||i.contains(s));l||c||u||d||h||m||t.value(o,r)}}w.C5&&(document.addEventListener("mousedown",(e=>Lg=e)),document.addEventListener("mouseup",(e=>{for(const t of Ng.values())for(const{documentHandler:n}of t)n(e,Lg)})));const Fg={beforeMount(e,t){Ng.has(e)||Ng.set(e,[]),Ng.get(e).push({documentHandler:Hg(e,t),bindingFn:t.value})},updated(e,t){Ng.has(e)||Ng.set(e,[]);const n=Ng.get(e),o=n.findIndex((e=>e.bindingFn===t.oldValue)),r={documentHandler:Hg(e,t),bindingFn:t.value};o>=0?n.splice(o,1,r):n.push(r)},unmounted(e){Ng.delete(e)}},Bg={key:0},Ug=["placeholder","onKeydown"],Vg=["onClick"],jg="ElCascader",Wg=(0,s.aZ)({name:jg}),Zg=(0,s.aZ)({...Wg,props:Pg,emits:Ig,setup(e,{expose:t,emit:n}){const o=e,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:n}=e;["right","left","bottom","top"].includes(n)||(t.arrow.x=35)},requires:["arrow"]}]},i=(0,s.l1)();let a=0,d=0;const h=(0,v.s3)("cascader"),p=(0,v.s3)("input"),{t:f}=(0,Ga.bU)(),{form:g,formItem:y}=(0,Hi.A)(),_=(0,l.iH)(null),x=(0,l.iH)(null),C=(0,l.iH)(null),S=(0,l.iH)(null),k=(0,l.iH)(null),E=(0,l.iH)(!1),T=(0,l.iH)(!1),M=(0,l.iH)(!1),O=(0,l.iH)(!1),D=(0,l.iH)(""),A=(0,l.iH)(""),I=(0,l.iH)([]),z=(0,l.iH)([]),N=(0,l.iH)([]),L=(0,l.iH)(!1),H=(0,s.Fl)((()=>i.style)),F=(0,s.Fl)((()=>o.disabled||(null==g?void 0:g.disabled))),B=(0,s.Fl)((()=>o.placeholder||f("el.cascader.placeholder"))),U=(0,s.Fl)((()=>A.value||I.value.length>0||L.value?"":B.value)),V=(0,Xr.Cd)(),j=(0,s.Fl)((()=>["small"].includes(V.value)?"small":"default")),W=(0,s.Fl)((()=>!!o.props.multiple)),Z=(0,s.Fl)((()=>!o.filterable||W.value)),$=(0,s.Fl)((()=>W.value?A.value:D.value)),q=(0,s.Fl)((()=>{var e;return(null==(e=S.value)?void 0:e.checkedNodes)||[]})),G=(0,s.Fl)((()=>!(!o.clearable||F.value||M.value||!T.value)&&!!q.value.length)),K=(0,s.Fl)((()=>{const{showAllLevels:e,separator:t}=o,n=q.value;return n.length?W.value?"":n[0].calcText(e,t):""})),Y=(0,s.Fl)({get(){return Jh(o.modelValue)},set(e){n(m.f_,e),n(m.O7,e),o.validateEvent&&(null==y||y.validate("change").catch((e=>(0,b.N)(e))))}}),J=(0,s.Fl)((()=>[h.b(),h.m(V.value),h.is("disabled",F.value),i.class])),X=(0,s.Fl)((()=>[p.e("icon"),"icon-arrow-down",h.is("reverse",E.value)])),Q=(0,s.Fl)((()=>h.is("focus",E.value||O.value))),ee=(0,s.Fl)((()=>{var e,t;return null==(t=null==(e=_.value)?void 0:e.popperRef)?void 0:t.contentRef})),te=e=>{var t,r,i;F.value||(e=null!=e?e:!E.value,e!==E.value&&(E.value=e,null==(r=null==(t=x.value)?void 0:t.input)||r.setAttribute("aria-expanded",`${e}`),e?(ne(),(0,s.Y3)(null==(i=S.value)?void 0:i.scrollToExpandingNode)):o.filterable&&ye(),n("visibleChange",e)))},ne=()=>{(0,s.Y3)((()=>{var e;null==(e=_.value)||e.updatePopper()}))},oe=()=>{M.value=!1},re=e=>{const{showAllLevels:t,separator:n}=o;return{node:e,key:e.uid,text:e.calcText(t,n),hitState:!1,closable:!F.value&&!e.isDisabled,isCollapseTag:!1}},ie=e=>{var t;const o=e.node;o.doCheck(!1),null==(t=S.value)||t.calculateCheckedValue(),n("removeTag",o.valueByOption)},ae=()=>{if(!W.value)return;const e=q.value,t=[],n=[];if(e.forEach((e=>n.push(re(e)))),z.value=n,e.length){const[n,...r]=e,i=r.length;t.push(re(n)),i&&(o.collapseTags?t.push({key:-1,text:`+ ${i}`,closable:!1,isCollapseTag:!0}):r.forEach((e=>t.push(re(e)))))}I.value=t},se=()=>{var e,t;const{filterMethod:n,showAllLevels:r,separator:i}=o,a=null==(t=null==(e=S.value)?void 0:e.getFlattedNodes(!o.props.checkStrictly))?void 0:t.filter((e=>!e.isDisabled&&(e.calcText(r,i),n(e,$.value))));W.value&&(I.value.forEach((e=>{e.hitState=!1})),z.value.forEach((e=>{e.hitState=!1}))),M.value=!0,N.value=a,ne()},le=()=>{var e;let t;t=M.value&&k.value?k.value.$el.querySelector(`.${h.e("suggestion-item")}`):null==(e=S.value)?void 0:e.$el.querySelector(`.${h.b("node")}[tabindex="-1"]`),t&&(t.focus(),!M.value&&t.click())},ce=()=>{var e,t;const n=null==(e=x.value)?void 0:e.input,o=C.value,r=null==(t=k.value)?void 0:t.$el;if(w.C5&&n){if(r){const e=r.querySelector(`.${h.e("suggestion-list")}`);e.style.minWidth=`${n.offsetWidth}px`}if(o){const{offsetHeight:e}=o,t=I.value.length>0?`${Math.max(e+6,a)}px`:`${a}px`;n.style.height=t,ne()}}},ue=e=>{var t;return null==(t=S.value)?void 0:t.getCheckedNodes(e)},pe=e=>{ne(),n("expandChange",e)},fe=e=>{var t;const n=null==(t=e.target)?void 0:t.value;if("compositionend"===e.type)L.value=!1,(0,s.Y3)((()=>ke(n)));else{const e=n[n.length-1]||"";L.value=!(0,zg.w)(e)}},ge=e=>{if(!L.value)switch(e.code){case no.EVENT_CODE.enter:te();break;case no.EVENT_CODE.down:te(!0),(0,s.Y3)(le),e.preventDefault();break;case no.EVENT_CODE.esc:!0===E.value&&(e.preventDefault(),e.stopPropagation(),te(!1));break;case no.EVENT_CODE.tab:te(!1);break}},ve=()=>{var e;null==(e=S.value)||e.clearCheckedNodes(),!E.value&&o.filterable&&ye(),te(!1)},ye=()=>{const{value:e}=K;D.value=e,A.value=e},be=e=>{var t,n;const{checked:o}=e;W.value?null==(t=S.value)||t.handleCheckChange(e,!o,!1):(!o&&(null==(n=S.value)||n.handleCheckChange(e,!0,!1)),te(!1))},we=e=>{const t=e.target,{code:n}=e;switch(n){case no.EVENT_CODE.up:case no.EVENT_CODE.down:{const e=n===no.EVENT_CODE.up?-1:1;gg(fg(t,e,`.${h.e("suggestion-item")}[tabindex="-1"]`));break}case no.EVENT_CODE.enter:t.click();break}},_e=()=>{const e=I.value,t=e[e.length-1];d=A.value?0:d+1,!t||!d||o.collapseTags&&e.length>1||(t.hitState?ie(t):t.hitState=!0)},xe=e=>{const t=e.target,o=h.e("search-input");t.className===o&&(O.value=!0),n("focus",e)},Ce=e=>{O.value=!1,n("blur",e)},Se=de((()=>{const{value:e}=$;if(!e)return;const t=o.beforeFilter(e);(0,c.tI)(t)?t.then(se).catch((()=>{})):!1!==t?se():oe()}),o.debounce),ke=(e,t)=>{!E.value&&te(!0),(null==t?void 0:t.isComposing)||(e?Se():oe())};return(0,s.YP)(M,ne),(0,s.YP)([q,F],ae),(0,s.YP)(I,(()=>{(0,s.Y3)((()=>ce()))})),(0,s.YP)(K,ye,{immediate:!0}),(0,s.bv)((()=>{const e=x.value.input,t=Number.parseFloat((0,u.Zaf)(p.cssVarName("input-height"),e).value)-2;a=e.offsetHeight||t,(0,u.yU7)(e,ce)})),t({getCheckedNodes:ue,cascaderPanelRef:S,togglePopperVisible:te,contentRef:ee}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),{ref_key:"tooltipRef",ref:_,visible:E.value,teleported:e.teleported,"popper-class":[(0,l.SU)(h).e("dropdown"),e.popperClass],"popper-options":r,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${(0,l.SU)(h).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:oe},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(J)),style:(0,c.j5)((0,l.SU)(H)),onClick:t[5]||(t[5]=()=>te(!(0,l.SU)(Z)||void 0)),onKeydown:ge,onMouseenter:t[6]||(t[6]=e=>T.value=!0),onMouseleave:t[7]||(t[7]=e=>T.value=!1)},[(0,s.Wm)((0,l.SU)(me.EZ),{ref_key:"input",ref:x,modelValue:D.value,"onUpdate:modelValue":t[1]||(t[1]=e=>D.value=e),placeholder:(0,l.SU)(U),readonly:(0,l.SU)(Z),disabled:(0,l.SU)(F),"validate-event":!1,size:(0,l.SU)(V),class:(0,c.C_)((0,l.SU)(Q)),tabindex:(0,l.SU)(W)&&e.filterable&&!(0,l.SU)(F)?-1:void 0,onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:xe,onBlur:Ce,onInput:ke},{suffix:(0,s.w5)((()=>[(0,l.SU)(G)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:"clear",class:(0,c.C_)([(0,l.SU)(p).e("icon"),"icon-circle-close"]),onClick:(0,R.iM)(ve,["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.CircleClose))])),_:1},8,["class","onClick"])):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:"arrow-down",class:(0,c.C_)((0,l.SU)(X)),onClick:t[0]||(t[0]=(0,R.iM)((e=>te()),["stop"]))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowDown))])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),(0,l.SU)(W)?((0,s.wg)(),(0,s.iD)("div",{key:0,ref_key:"tagWrapper",ref:C,class:(0,c.C_)((0,l.SU)(h).e("tags"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.value,(t=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Rg),{key:t.key,type:e.tagType,size:(0,l.SU)(j),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>ie(t)},{default:(0,s.w5)((()=>[!1===t.isCollapseTag?((0,s.wg)(),(0,s.iD)("span",Bg,(0,c.zw)(t.text),1)):((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),{key:1,disabled:E.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,c.zw)(t.text),1)])),content:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(h).e("collapse-tags"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(z.value.slice(1),((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:n,class:(0,c.C_)((0,l.SU)(h).e("collapse-tag"))},[((0,s.wg)(),(0,s.j4)((0,l.SU)(Rg),{key:t.key,class:"in-tooltip",type:e.tagType,size:(0,l.SU)(j),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>ie(t)},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,c.zw)(t.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!(0,l.SU)(F)?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>A.value=e),type:"text",class:(0,c.C_)((0,l.SU)(h).e("search-input")),placeholder:(0,l.SU)(K)?"":(0,l.SU)(B),onInput:t[3]||(t[3]=e=>ke(A.value,e)),onClick:t[4]||(t[4]=(0,R.iM)((e=>te(!0)),["stop"])),onKeydown:(0,R.D2)(_e,["delete"]),onCompositionstart:fe,onCompositionupdate:fe,onCompositionend:fe,onFocus:xe,onBlur:Ce},null,42,Ug)),[[R.nr,A.value]]):(0,s.kq)("v-if",!0)],2)):(0,s.kq)("v-if",!0)],38)),[[(0,l.SU)(Fg),()=>te(!1),(0,l.SU)(ee)]])])),content:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)((0,l.SU)(kg),{ref_key:"cascaderPanelRef",ref:S,modelValue:(0,l.SU)(Y),"onUpdate:modelValue":t[8]||(t[8]=e=>(0,l.dq)(Y)?Y.value=e:null),options:e.options,props:o.props,border:!1,"render-label":e.$slots.default,onExpandChange:pe,onClose:t[9]||(t[9]=t=>e.$nextTick((()=>te(!1))))},null,8,["modelValue","options","props","render-label"]),[[R.F8,!M.value]]),e.filterable?(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,l.SU)(Ae),{key:0,ref_key:"suggestionPanel",ref:k,tag:"ul",class:(0,c.C_)((0,l.SU)(h).e("suggestion-panel")),"view-class":(0,l.SU)(h).e("suggestion-list"),onKeydown:we},{default:(0,s.w5)((()=>[N.value.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(N.value,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.uid,class:(0,c.C_)([(0,l.SU)(h).e("suggestion-item"),(0,l.SU)(h).is("checked",e.checked)]),tabindex:-1,onClick:t=>be(e)},[(0,s._)("span",null,(0,c.zw)(e.text),1),e.checked?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Check))])),_:1})):(0,s.kq)("v-if",!0)],10,Vg)))),128)):(0,s.WI)(e.$slots,"empty",{key:1},(()=>[(0,s._)("li",{class:(0,c.C_)((0,l.SU)(h).e("empty-text"))},(0,c.zw)((0,l.SU)(f)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[R.F8,M.value]]):(0,s.kq)("v-if",!0)])),_:3},8,["visible","teleported","popper-class","transition"]))}});var $g=(0,g.Z)(Zg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);$g.install=e=>{e.component($g.name,$g)};const qg=$g,Gg=qg,Kg=(0,d.o8)({checked:{type:Boolean,default:!1}}),Yg={"update:checked":e=>(0,h.jn)(e),[m.O7]:e=>(0,h.jn)(e)},Jg=(0,s.aZ)({name:"ElCheckTag"}),Xg=(0,s.aZ)({...Jg,props:Kg,emits:Yg,setup(e,{emit:t}){const n=e,o=(0,v.s3)("check-tag"),r=(0,s.Fl)((()=>[o.b(),o.is("checked",n.checked)])),i=()=>{const e=!n.checked;t(m.O7,e),t("update:checked",e)};return(e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(r)),onClick:i},[(0,s.WI)(e.$slots,"default")],2))}});var Qg=(0,g.Z)(Xg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const ev=(0,D.nz)(Qg);var tv=n(3071);const nv=(0,d.o8)({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:(0,d.Cq)([Number,Object]),default:()=>(0,tv.N)({})},sm:{type:(0,d.Cq)([Number,Object]),default:()=>(0,tv.N)({})},md:{type:(0,d.Cq)([Number,Object]),default:()=>(0,tv.N)({})},lg:{type:(0,d.Cq)([Number,Object]),default:()=>(0,tv.N)({})},xl:{type:(0,d.Cq)([Number,Object]),default:()=>(0,tv.N)({})}}),ov=Symbol("rowContextKey"),rv=(0,s.aZ)({name:"ElCol"}),iv=(0,s.aZ)({...rv,props:nv,setup(e){const t=e,{gutter:n}=(0,s.f3)(ov,{gutter:(0,s.Fl)((()=>0))}),o=(0,v.s3)("col"),r=(0,s.Fl)((()=>{const e={};return n.value&&(e.paddingLeft=e.paddingRight=n.value/2+"px"),e})),i=(0,s.Fl)((()=>{const e=[],r=["span","offset","pull","push"];r.forEach((n=>{const r=t[n];(0,h.hj)(r)&&("span"===n?e.push(o.b(`${t[n]}`)):r>0&&e.push(o.b(`${n}-${t[n]}`)))}));const i=["xs","sm","md","lg","xl"];return i.forEach((n=>{(0,h.hj)(t[n])?e.push(o.b(`${n}-${t[n]}`)):(0,c.Kn)(t[n])&&Object.entries(t[n]).forEach((([t,r])=>{e.push("span"!==t?o.b(`${n}-${t}-${r}`):o.b(`${n}-${r}`))}))})),n.value&&e.push(o.is("guttered")),[o.b(),e]}));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{class:(0,c.C_)((0,l.SU)(i)),style:(0,c.j5)((0,l.SU)(r))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["class","style"]))}});var av=(0,g.Z)(iv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const sv=(0,D.nz)(av),lv=e=>typeof(0,h.hj)(e),cv=(0,d.o8)({accordion:Boolean,modelValue:{type:(0,d.Cq)([Array,String,Number]),default:()=>(0,tv.N)([])}}),uv={[m.f_]:lv,[m.O7]:lv},dv=Symbol("collapseContextKey");function hv(){if(!arguments.length)return[];var e=arguments[0];return(0,Al.Z)(e)?e:[e]}var mv=hv;const pv=(e,t)=>{const n=(0,l.iH)(mv(e.modelValue)),o=o=>{n.value=o;const r=e.accordion?n.value[0]:n.value;t(m.f_,r),t(m.O7,r)},r=t=>{if(e.accordion)o([n.value[0]===t?"":t]);else{const e=[...n.value],r=e.indexOf(t);r>-1?e.splice(r,1):e.push(t),o(e)}};return(0,s.YP)((()=>e.modelValue),(()=>n.value=mv(e.modelValue)),{deep:!0}),(0,s.JJ)(dv,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:o}},fv=()=>{const e=(0,v.s3)("collapse"),t=(0,s.Fl)((()=>e.b()));return{rootKls:t}},gv=(0,s.aZ)({name:"ElCollapse"}),vv=(0,s.aZ)({...gv,props:cv,emits:uv,setup(e,{expose:t,emit:n}){const o=e,{activeNames:r,setActiveNames:i}=pv(o,n),{rootKls:a}=fv();return t({activeNames:r,setActiveNames:i}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(a)),role:"tablist","aria-multiselectable":"true"},[(0,s.WI)(e.$slots,"default")],2))}});var yv=(0,g.Z)(vv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const bv=(0,s.aZ)({name:"ElCollapseTransition"}),wv=(0,s.aZ)({...bv,setup(e){const t=(0,v.s3)("collapse-transition"),n={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};return(e,o)=>((0,s.wg)(),(0,s.j4)(R.uT,(0,s.dG)({name:(0,l.SU)(t).b()},(0,s.mx)(n)),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16,["name"]))}});var _v=(0,g.Z)(wv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);_v.install=e=>{e.component(_v.name,_v)};const xv=_v,Cv=xv,Sv=(0,d.o8)({title:{type:String,default:""},name:{type:(0,d.Cq)([String,Number]),default:()=>Qr()},disabled:Boolean}),kv=e=>{const t=(0,s.f3)(dv),n=(0,l.iH)(!1),o=(0,l.iH)(!1),r=(0,l.iH)(Qr()),i=(0,s.Fl)((()=>null==t?void 0:t.activeNames.value.includes(e.name))),a=()=>{setTimeout((()=>{o.value?o.value=!1:n.value=!0}),50)},c=()=>{e.disabled||(null==t||t.handleItemClick(e.name),n.value=!1,o.value=!0)},u=()=>{null==t||t.handleItemClick(e.name)};return{focusing:n,id:r,isActive:i,handleFocus:a,handleHeaderClick:c,handleEnterClick:u}},Ev=(e,{focusing:t,isActive:n,id:o})=>{const r=(0,v.s3)("collapse"),i=(0,s.Fl)((()=>[r.b("item"),r.is("active",(0,l.SU)(n)),r.is("disabled",e.disabled)])),a=(0,s.Fl)((()=>[r.be("item","header"),r.is("active",(0,l.SU)(n)),{focusing:(0,l.SU)(t)&&!e.disabled}])),c=(0,s.Fl)((()=>[r.be("item","arrow"),r.is("active",(0,l.SU)(n))])),u=(0,s.Fl)((()=>r.be("item","wrap"))),d=(0,s.Fl)((()=>r.be("item","content"))),h=(0,s.Fl)((()=>r.b(`content-${(0,l.SU)(o)}`))),m=(0,s.Fl)((()=>r.b(`head-${(0,l.SU)(o)}`)));return{arrowKls:c,headKls:a,rootKls:i,itemWrapperKls:u,itemContentKls:d,scopedContentId:h,scopedHeadId:m}},Tv=["aria-expanded","aria-controls","aria-describedby"],Mv=["id","tabindex"],Ov=["id","aria-hidden","aria-labelledby"],Dv=(0,s.aZ)({name:"ElCollapseItem"}),Av=(0,s.aZ)({...Dv,props:Sv,setup(e,{expose:t}){const n=e,{focusing:o,id:r,isActive:i,handleFocus:a,handleHeaderClick:u,handleEnterClick:d}=kv(n),{arrowKls:h,headKls:m,rootKls:p,itemWrapperKls:f,itemContentKls:g,scopedContentId:v,scopedHeadId:y}=Ev(n,{focusing:o,isActive:i,id:r});return t({isActive:i}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(p))},[(0,s._)("div",{role:"tab","aria-expanded":(0,l.SU)(i),"aria-controls":(0,l.SU)(v),"aria-describedby":(0,l.SU)(v)},[(0,s._)("div",{id:(0,l.SU)(y),class:(0,c.C_)((0,l.SU)(m)),role:"button",tabindex:e.disabled?-1:0,onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(u)&&(0,l.SU)(u)(...e)),onKeypress:t[1]||(t[1]=(0,R.D2)((0,R.iM)(((...e)=>(0,l.SU)(d)&&(0,l.SU)(d)(...e)),["stop","prevent"]),["space","enter"])),onFocus:t[2]||(t[2]=(...e)=>(0,l.SU)(a)&&(0,l.SU)(a)(...e)),onBlur:t[3]||(t[3]=e=>o.value=!1)},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title),1)])),(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(h))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1},8,["class"])],42,Mv)],8,Tv),(0,s.Wm)((0,l.SU)(xv),null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{id:(0,l.SU)(v),class:(0,c.C_)((0,l.SU)(f)),role:"tabpanel","aria-hidden":!(0,l.SU)(i),"aria-labelledby":(0,l.SU)(y)},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(g))},[(0,s.WI)(e.$slots,"default")],2)],10,Ov),[[R.F8,(0,l.SU)(i)]])])),_:3})],2))}});var Rv=(0,g.Z)(Av,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const Pv=(0,D.nz)(yv,{CollapseItem:Rv}),Iv=(0,D.dp)(Rv),zv=(0,d.o8)({color:{type:(0,d.Cq)(Object),required:!0},vertical:{type:Boolean,default:!1}});let Nv=!1;function Lv(e,t){if(!w.C5)return;const n=function(e){var n;null==(n=t.drag)||n.call(t,e)},o=function(e){var r;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",o),document.onselectstart=null,document.ondragstart=null,Nv=!1,null==(r=t.end)||r.call(t,e)},r=function(e){var r;Nv||(e.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",o),document.addEventListener("touchmove",n),document.addEventListener("touchend",o),Nv=!0,null==(r=t.start)||r.call(t,e))};e.addEventListener("mousedown",r),e.addEventListener("touchstart",r)}const Hv=(e,t)=>{if(!w.C5||!e||!t)return!1;const n=e.getBoundingClientRect();let o;return o=t instanceof Element?t.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<o.bottom&&n.bottom>o.top&&n.right>o.left&&n.left<o.right},Fv=e=>{let t=0,n=e;while(n)t+=n.offsetTop,n=n.offsetParent;return t},Bv=(e,t)=>Math.abs(Fv(e)-Fv(t)),Uv=e=>{let t,n;return"touchend"===e.type?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},Vv=e=>{const t=(0,s.FN)(),n=(0,l.XI)(),o=(0,l.XI)();function r(e){const t=e.target;t!==n.value&&i(e)}function i(r){if(!o.value||!n.value)return;const i=t.vnode.el,a=i.getBoundingClientRect(),{clientX:s,clientY:l}=Uv(r);if(e.vertical){let t=l-a.top;t=Math.max(n.value.offsetHeight/2,t),t=Math.min(t,a.height-n.value.offsetHeight/2),e.color.set("alpha",Math.round((t-n.value.offsetHeight/2)/(a.height-n.value.offsetHeight)*100))}else{let t=s-a.left;t=Math.max(n.value.offsetWidth/2,t),t=Math.min(t,a.width-n.value.offsetWidth/2),e.color.set("alpha",Math.round((t-n.value.offsetWidth/2)/(a.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:o,handleDrag:i,handleClick:r}},jv=(e,{bar:t,thumb:n,handleDrag:o})=>{const r=(0,s.FN)(),i=(0,v.s3)("color-alpha-slider"),a=(0,l.iH)(0),c=(0,l.iH)(0),u=(0,l.iH)();function d(){if(!n.value)return 0;if(e.vertical)return 0;const t=r.vnode.el,o=e.color.get("alpha");return t?Math.round(o*(t.offsetWidth-n.value.offsetWidth/2)/100):0}function h(){if(!n.value)return 0;const t=r.vnode.el;if(!e.vertical)return 0;const o=e.color.get("alpha");return t?Math.round(o*(t.offsetHeight-n.value.offsetHeight/2)/100):0}function m(){if(e.color&&e.color.value){const{r:t,g:n,b:o}=e.color.toRgb();return`linear-gradient(to right, rgba(${t}, ${n}, ${o}, 0) 0%, rgba(${t}, ${n}, ${o}, 1) 100%)`}return""}function p(){a.value=d(),c.value=h(),u.value=m()}(0,s.bv)((()=>{if(!t.value||!n.value)return;const e={drag:e=>{o(e)},end:e=>{o(e)}};Lv(t.value,e),Lv(n.value,e),p()})),(0,s.YP)((()=>e.color.get("alpha")),(()=>p())),(0,s.YP)((()=>e.color.value),(()=>p()));const f=(0,s.Fl)((()=>[i.b(),i.is("vertical",e.vertical)])),g=(0,s.Fl)((()=>i.e("bar"))),b=(0,s.Fl)((()=>i.e("thumb"))),w=(0,s.Fl)((()=>({background:u.value}))),_=(0,s.Fl)((()=>({left:(0,y.Nn)(a.value),top:(0,y.Nn)(c.value)})));return{rootKls:f,barKls:g,barStyle:w,thumbKls:b,thumbStyle:_,update:p}},Wv="ElColorAlphaSlider",Zv=(0,s.aZ)({name:Wv}),$v=(0,s.aZ)({...Zv,props:zv,setup(e,{expose:t}){const n=e,{bar:o,thumb:r,handleDrag:i,handleClick:a}=Vv(n),{rootKls:u,barKls:d,barStyle:h,thumbKls:m,thumbStyle:p,update:f}=jv(n,{bar:o,thumb:r,handleDrag:i});return t({update:f,bar:o,thumb:r}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(u))},[(0,s._)("div",{ref_key:"bar",ref:o,class:(0,c.C_)((0,l.SU)(d)),style:(0,c.j5)((0,l.SU)(h)),onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(a)&&(0,l.SU)(a)(...e))},null,6),(0,s._)("div",{ref_key:"thumb",ref:r,class:(0,c.C_)((0,l.SU)(m)),style:(0,c.j5)((0,l.SU)(p))},null,6)],2))}});var qv=(0,g.Z)($v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Gv=(0,s.aZ)({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=(0,v.s3)("color-hue-slider"),n=(0,s.FN)(),o=(0,l.iH)(),r=(0,l.iH)(),i=(0,l.iH)(0),a=(0,l.iH)(0),c=(0,s.Fl)((()=>e.color.get("hue")));function u(e){const t=e.target;t!==o.value&&d(e)}function d(t){if(!r.value||!o.value)return;const i=n.vnode.el,a=i.getBoundingClientRect(),{clientX:s,clientY:l}=Uv(t);let c;if(e.vertical){let e=l-a.top;e=Math.min(e,a.height-o.value.offsetHeight/2),e=Math.max(o.value.offsetHeight/2,e),c=Math.round((e-o.value.offsetHeight/2)/(a.height-o.value.offsetHeight)*360)}else{let e=s-a.left;e=Math.min(e,a.width-o.value.offsetWidth/2),e=Math.max(o.value.offsetWidth/2,e),c=Math.round((e-o.value.offsetWidth/2)/(a.width-o.value.offsetWidth)*360)}e.color.set("hue",c)}function h(){if(!o.value)return 0;const t=n.vnode.el;if(e.vertical)return 0;const r=e.color.get("hue");return t?Math.round(r*(t.offsetWidth-o.value.offsetWidth/2)/360):0}function m(){if(!o.value)return 0;const t=n.vnode.el;if(!e.vertical)return 0;const r=e.color.get("hue");return t?Math.round(r*(t.offsetHeight-o.value.offsetHeight/2)/360):0}function p(){i.value=h(),a.value=m()}return(0,s.YP)((()=>c.value),(()=>{p()})),(0,s.bv)((()=>{if(!r.value||!o.value)return;const e={drag:e=>{d(e)},end:e=>{d(e)}};Lv(r.value,e),Lv(o.value,e),p()})),{bar:r,thumb:o,thumbLeft:i,thumbTop:a,hueValue:c,handleClick:u,update:p,ns:t}}});function Kv(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([e.ns.b(),e.ns.is("vertical",e.vertical)])},[(0,s._)("div",{ref:"bar",class:(0,c.C_)(e.ns.e("bar")),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},null,2),(0,s._)("div",{ref:"thumb",class:(0,c.C_)(e.ns.e("thumb")),style:(0,c.j5)({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Yv=(0,g.Z)(Gv,[["render",Kv],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const Jv=(0,d.o8)({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Bi.Pp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:(0,d.Cq)(Array)},validateEvent:{type:Boolean,default:!0}}),Xv={[m.f_]:e=>(0,c.HD)(e)||(0,_o.Z)(e),[m.O7]:e=>(0,c.HD)(e)||(0,_o.Z)(e),activeChange:e=>(0,c.HD)(e)||(0,_o.Z)(e)},Qv=Symbol("colorPickerContextKey"),ey=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},ty=function(e){return"string"===typeof e&&e.includes(".")&&1===Number.parseFloat(e)},ny=function(e){return"string"===typeof e&&e.includes("%")},oy=function(e,t){ty(e)&&(e="100%");const n=ny(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(""+e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},ry={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},iy=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${ry[t]||t}${ry[n]||n}`},ay=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${iy(e)}${iy(t)}${iy(n)}`},sy={A:10,B:11,C:12,D:13,E:14,F:15},ly=function(e){return 2===e.length?16*(sy[e[0].toUpperCase()]||+e[0])+(sy[e[1].toUpperCase()]||+e[1]):sy[e[1].toUpperCase()]||+e[1]},cy=function(e,t,n){t/=100,n/=100;let o=t;const r=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,o*=r<=1?r:2-r;const i=(n+t)/2,a=0===n?2*o/(r+o):2*t/(n+t);return{h:e,s:100*a,v:100*i}},uy=(e,t,n)=>{e=oy(e,255),t=oy(t,255),n=oy(n,255);const o=Math.max(e,t,n),r=Math.min(e,t,n);let i;const a=o,s=o-r,l=0===o?0:s/o;if(o===r)i=0;else{switch(o){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break}i/=6}return{h:360*i,s:100*l,v:100*a}},dy=function(e,t,n){e=6*oy(e,360),t=oy(t,100),n=oy(n,100);const o=Math.floor(e),r=e-o,i=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=o%6,c=[n,a,i,i,s,n][l],u=[s,n,n,a,i,i][l],d=[i,i,s,n,n,a][l];return{r:Math.round(255*c),g:Math.round(255*u),b:Math.round(255*d)}};class hy{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)(0,c.RI)(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(1!==arguments.length||"object"!==typeof e)this[`_${e}`]=t,this.doOnChange();else for(const n in e)(0,c.RI)(e,n)&&this.set(n,e[n])}get(e){return"alpha"===e?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return dy(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const t=(e,t,n)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,t)),this._value=Math.max(0,Math.min(100,n)),this.doOnChange()};if(e.includes("hsl")){const n=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:o,v:r}=cy(n[0],n[1],n[2]);t(e,o,r)}}else if(e.includes("hsv")){const n=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3&&t(n[0],n[1],n[2])}else if(e.includes("rgb")){const n=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===n.length?this._alpha=100*Number.parseFloat(n[3]):3===n.length&&(this._alpha=100),n.length>=3){const{h:e,s:o,v:r}=uy(n[0],n[1],n[2]);t(e,o,r)}}else if(e.includes("#")){const n=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let o,r,i;3===n.length?(o=ly(n[0]+n[0]),r=ly(n[1]+n[1]),i=ly(n[2]+n[2])):6!==n.length&&8!==n.length||(o=ly(n.slice(0,2)),r=ly(n.slice(2,4)),i=ly(n.slice(4,6))),8===n.length?this._alpha=ly(n.slice(6))/255*100:3!==n.length&&6!==n.length||(this._alpha=100);const{h:a,s:s,v:l}=uy(o,r,i);t(a,s,l)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:n,_alpha:o,format:r}=this;if(this.enableAlpha)switch(r){case"hsl":{const o=ey(e,t/100,n/100);this.value=`hsla(${e}, ${Math.round(100*o[1])}%, ${Math.round(100*o[2])}%, ${this.get("alpha")/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break;case"hex":this.value=`${ay(dy(e,t,n))}${iy(255*o/100)}`;break;default:{const{r:o,g:r,b:i}=dy(e,t,n);this.value=`rgba(${o}, ${r}, ${i}, ${this.get("alpha")/100})`}}else switch(r){case"hsl":{const o=ey(e,t/100,n/100);this.value=`hsl(${e}, ${Math.round(100*o[1])}%, ${Math.round(100*o[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(n)}%)`;break;case"rgb":{const{r:o,g:r,b:i}=dy(e,t,n);this.value=`rgb(${o}, ${r}, ${i})`;break}default:this.value=ay(dy(e,t,n))}}}const my=(0,s.aZ)({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=(0,v.s3)("color-predefine"),{currentColor:n}=(0,s.f3)(Qv),o=(0,l.iH)(i(e.colors,e.color));function r(t){e.color.fromString(e.colors[t])}function i(e,t){return e.map((e=>{const n=new hy;return n.enableAlpha=!0,n.format="rgba",n.fromString(e),n.selected=n.value===t.value,n}))}return(0,s.YP)((()=>n.value),(e=>{const t=new hy;t.fromString(e),o.value.forEach((e=>{e.selected=t.compare(e)}))})),(0,s.m0)((()=>{o.value=i(e.colors,e.color)})),{rgbaColors:o,handleSelect:r,ns:t}}}),py=["onClick"];function fy(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(e.ns.b())},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("colors"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.rgbaColors,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:e.colors[n],class:(0,c.C_)([e.ns.e("color-selector"),e.ns.is("alpha",t._alpha<100),{selected:t.selected}]),onClick:t=>e.handleSelect(n)},[(0,s._)("div",{style:(0,c.j5)({backgroundColor:t.value})},null,4)],10,py)))),128))],2)],2)}var gy=(0,g.Z)(my,[["render",fy],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const vy=(0,s.aZ)({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=(0,v.s3)("color-svpanel"),n=(0,s.FN)(),o=(0,l.iH)(0),r=(0,l.iH)(0),i=(0,l.iH)("hsl(0, 100%, 50%)"),a=(0,s.Fl)((()=>{const t=e.color.get("hue"),n=e.color.get("value");return{hue:t,value:n}}));function c(){const t=e.color.get("saturation"),a=e.color.get("value"),s=n.vnode.el,{clientWidth:l,clientHeight:c}=s;r.value=t*l/100,o.value=(100-a)*c/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function u(t){const i=n.vnode.el,a=i.getBoundingClientRect(),{clientX:s,clientY:l}=Uv(t);let c=s-a.left,u=l-a.top;c=Math.max(0,c),c=Math.min(c,a.width),u=Math.max(0,u),u=Math.min(u,a.height),r.value=c,o.value=u,e.color.set({saturation:c/a.width*100,value:100-u/a.height*100})}return(0,s.YP)((()=>a.value),(()=>{c()})),(0,s.bv)((()=>{Lv(n.vnode.el,{drag:e=>{u(e)},end:e=>{u(e)}}),c()})),{cursorTop:o,cursorLeft:r,background:i,colorValue:a,handleDrag:u,update:c,ns:t}}}),yy=(0,s._)("div",null,null,-1),by=[yy];function wy(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(e.ns.b()),style:(0,c.j5)({backgroundColor:e.background})},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("white"))},null,2),(0,s._)("div",{class:(0,c.C_)(e.ns.e("black"))},null,2),(0,s._)("div",{class:(0,c.C_)(e.ns.e("cursor")),style:(0,c.j5)({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},by,6)],6)}var _y=(0,g.Z)(vy,[["render",wy],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const xy=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],Cy=(0,s.aZ)({name:"ElColorPicker"}),Sy=(0,s.aZ)({...Cy,props:Jv,emits:Xv,setup(e,{expose:t,emit:n}){const o=e,{t:r}=(0,Ga.bU)(),i=(0,v.s3)("color"),{formItem:a}=(0,Hi.A)(),u=(0,Xr.Cd)(),d=(0,Xr.DT)(),{inputId:h,isLabeledByFormItem:p}=(0,Hi.p)(o,{formItemContext:a}),f=(0,l.iH)(),g=(0,l.iH)(),y=(0,l.iH)(),w=(0,l.iH)();let _=!0;const x=(0,l.qj)(new hy({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue})),C=(0,l.iH)(!1),S=(0,l.iH)(!1),k=(0,l.iH)(""),E=(0,s.Fl)((()=>o.modelValue||S.value?A(x,o.showAlpha):"transparent")),T=(0,s.Fl)((()=>o.modelValue||S.value?x.value:"")),M=(0,s.Fl)((()=>p.value?void 0:o.label||r("el.colorpicker.defaultLabel"))),O=(0,s.Fl)((()=>p.value?null==a?void 0:a.labelId:void 0)),D=(0,s.Fl)((()=>[i.b("picker"),i.is("disabled",d.value),i.bm("picker",u.value)]));function A(e,t){if(!(e instanceof hy))throw new TypeError("color should be instance of _color Class");const{r:n,g:o,b:r}=e.toRgb();return t?`rgba(${n}, ${o}, ${r}, ${e.get("alpha")/100})`:`rgb(${n}, ${o}, ${r})`}function I(e){C.value=e}const z=de(I,100);function N(){d.value||I(!0)}function L(){z(!1),H()}function H(){(0,s.Y3)((()=>{o.modelValue?x.fromString(o.modelValue):(x.value="",(0,s.Y3)((()=>{S.value=!1})))}))}function F(){d.value||z(!C.value)}function B(){x.fromString(k.value)}function U(){const e=x.value;n(m.f_,e),n("change",e),o.validateEvent&&(null==a||a.validate("change").catch((e=>(0,b.N)(e)))),z(!1),(0,s.Y3)((()=>{const e=new hy({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue});x.compare(e)||H()}))}function V(){z(!1),n(m.f_,null),n("change",null),null!==o.modelValue&&o.validateEvent&&(null==a||a.validate("change").catch((e=>(0,b.N)(e)))),H()}return(0,s.bv)((()=>{o.modelValue&&(k.value=T.value)})),(0,s.YP)((()=>o.modelValue),(e=>{e?e&&e!==x.value&&(_=!1,x.fromString(e)):S.value=!1})),(0,s.YP)((()=>T.value),(e=>{k.value=e,_&&n("activeChange",e),_=!0})),(0,s.YP)((()=>x.value),(()=>{o.modelValue||S.value||(S.value=!0)})),(0,s.YP)((()=>C.value),(()=>{(0,s.Y3)((()=>{var e,t,n;null==(e=f.value)||e.update(),null==(t=g.value)||t.update(),null==(n=y.value)||n.update()}))})),(0,s.JJ)(Qv,{currentColor:T}),t({color:x,show:N,hide:L}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),{ref_key:"popper",ref:w,visible:C.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[(0,l.SU)(i).be("picker","panel"),(0,l.SU)(i).b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${(0,l.SU)(i).namespace.value}-zoom-in-top`,persistent:""},{content:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).be("dropdown","main-wrapper"))},[(0,s.Wm)(Yv,{ref_key:"hue",ref:f,class:"hue-slider",color:(0,l.SU)(x),vertical:""},null,8,["color"]),(0,s.Wm)(_y,{ref:"svPanel",color:(0,l.SU)(x)},null,8,["color"])],2),e.showAlpha?((0,s.wg)(),(0,s.j4)(qv,{key:0,ref_key:"alpha",ref:y,color:(0,l.SU)(x)},null,8,["color"])):(0,s.kq)("v-if",!0),e.predefine?((0,s.wg)(),(0,s.j4)(gy,{key:1,ref:"predefine",color:(0,l.SU)(x),colors:e.predefine},null,8,["color","colors"])):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).be("dropdown","btns"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i).be("dropdown","value"))},[(0,s.Wm)((0,l.SU)(me.EZ),{modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),"validate-event":!1,size:"small",onKeyup:(0,R.D2)(B,["enter"]),onBlur:B},null,8,["modelValue","onKeyup"])],2),(0,s.Wm)((0,l.SU)(Da),{class:(0,c.C_)((0,l.SU)(i).be("dropdown","link-btn")),text:"",size:"small",onClick:V},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(r)("el.colorpicker.clear")),1)])),_:1},8,["class"]),(0,s.Wm)((0,l.SU)(Da),{plain:"",size:"small",class:(0,c.C_)((0,l.SU)(i).be("dropdown","btn")),onClick:U},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(r)("el.colorpicker.confirm")),1)])),_:1},8,["class"])],2)])),[[(0,l.SU)(Fg),L]])])),default:(0,s.w5)((()=>[(0,s._)("div",{id:(0,l.SU)(h),class:(0,c.C_)((0,l.SU)(D)),role:"button","aria-label":(0,l.SU)(M),"aria-labelledby":(0,l.SU)(O),"aria-description":(0,l.SU)(r)("el.colorpicker.description",{color:e.modelValue||""}),tabindex:e.tabindex,onKeydown:(0,R.D2)(F,["enter"])},[(0,l.SU)(d)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(i).be("picker","mask"))},null,2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).be("picker","trigger")),onClick:F},[(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(i).be("picker","color"),(0,l.SU)(i).is("alpha",e.showAlpha)])},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i).be("picker","color-inner")),style:(0,c.j5)({backgroundColor:(0,l.SU)(E)})},[(0,s.wy)((0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)([(0,l.SU)(i).be("picker","icon"),(0,l.SU)(i).is("icon-arrow-down")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowDown))])),_:1},8,["class"]),[[R.F8,e.modelValue||S.value]]),e.modelValue||S.value?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)([(0,l.SU)(i).be("picker","empty"),(0,l.SU)(i).is("icon-close")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:1},8,["class"]))],6)],2)],2)],42,xy)])),_:1},8,["visible","popper-class","transition"]))}});var ky=(0,g.Z)(Sy,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const Ey=(0,D.nz)(ky);var Ty=n(5869);const My=(0,D.nz)(Ty.Z),Oy=(0,s.aZ)({name:"ElContainer"}),Dy=(0,s.aZ)({...Oy,props:{direction:{type:String}},setup(e){const t=e,n=(0,s.Rr)(),o=(0,v.s3)("container"),r=(0,s.Fl)((()=>{if("vertical"===t.direction)return!0;if("horizontal"===t.direction)return!1;if(n&&n.default){const e=n.default();return e.some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t}))}return!1}));return(e,t)=>((0,s.wg)(),(0,s.iD)("section",{class:(0,c.C_)([(0,l.SU)(o).b(),(0,l.SU)(o).is("vertical",(0,l.SU)(r))])},[(0,s.WI)(e.$slots,"default")],2))}});var Ay=(0,g.Z)(Dy,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Ry=(0,s.aZ)({name:"ElAside"}),Py=(0,s.aZ)({...Ry,props:{width:{type:String,default:null}},setup(e){const t=e,n=(0,v.s3)("aside"),o=(0,s.Fl)((()=>t.width?n.cssVarBlock({width:t.width}):{}));return(e,t)=>((0,s.wg)(),(0,s.iD)("aside",{class:(0,c.C_)((0,l.SU)(n).b()),style:(0,c.j5)((0,l.SU)(o))},[(0,s.WI)(e.$slots,"default")],6))}});var Iy=(0,g.Z)(Py,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const zy=(0,s.aZ)({name:"ElFooter"}),Ny=(0,s.aZ)({...zy,props:{height:{type:String,default:null}},setup(e){const t=e,n=(0,v.s3)("footer"),o=(0,s.Fl)((()=>t.height?n.cssVarBlock({height:t.height}):{}));return(e,t)=>((0,s.wg)(),(0,s.iD)("footer",{class:(0,c.C_)((0,l.SU)(n).b()),style:(0,c.j5)((0,l.SU)(o))},[(0,s.WI)(e.$slots,"default")],6))}});var Ly=(0,g.Z)(Ny,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Hy=(0,s.aZ)({name:"ElHeader"}),Fy=(0,s.aZ)({...Hy,props:{height:{type:String,default:null}},setup(e){const t=e,n=(0,v.s3)("header"),o=(0,s.Fl)((()=>t.height?n.cssVarBlock({height:t.height}):{}));return(e,t)=>((0,s.wg)(),(0,s.iD)("header",{class:(0,c.C_)((0,l.SU)(n).b()),style:(0,c.j5)((0,l.SU)(o))},[(0,s.WI)(e.$slots,"default")],6))}});var By=(0,g.Z)(Fy,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const Uy=(0,s.aZ)({name:"ElMain"}),Vy=(0,s.aZ)({...Uy,setup(e){const t=(0,v.s3)("main");return(e,n)=>((0,s.wg)(),(0,s.iD)("main",{class:(0,c.C_)((0,l.SU)(t).b())},[(0,s.WI)(e.$slots,"default")],2))}});var jy=(0,g.Z)(Vy,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Wy=(0,D.nz)(Ay,{Aside:Iy,Footer:Ly,Header:By,Main:jy}),Zy=(0,D.dp)(Iy),$y=(0,D.dp)(Ly),qy=(0,D.dp)(By),Gy=(0,D.dp)(jy);var Ky=n(841),Yy=n(9169),Jy=n(6245),Xy=n(5227),Qy=n(5093),eb=n(1294),tb=n(2643);const nb=Symbol(),ob=(0,d.o8)({disabledHours:{type:(0,d.Cq)(Function)},disabledMinutes:{type:(0,d.Cq)(Function)},disabledSeconds:{type:(0,d.Cq)(Function)}}),rb=(0,d.o8)({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),ib=(0,d.o8)({id:{type:(0,d.Cq)([Array,String])},name:{type:(0,d.Cq)([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:(0,d.Cq)([String,Object]),default:he.CircleClose},editable:{type:Boolean,default:!0},prefixIcon:{type:(0,d.Cq)([String,Object]),default:""},size:Bi.Pp,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:(0,d.Cq)(Object),default:()=>({})},modelValue:{type:(0,d.Cq)([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:(0,d.Cq)([Date,Array])},defaultTime:{type:(0,d.Cq)([Date,Array])},isRange:{type:Boolean,default:!1},...ob,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:(0,d.Cq)([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),ab=(0,d.o8)({...ib,type:{type:(0,d.Cq)(String),default:"date"}}),sb=["date","dates","year","month","week","range"],lb=(0,d.o8)({disabledDate:{type:(0,d.Cq)(Function)},date:{type:(0,d.Cq)(Object),required:!0},minDate:{type:(0,d.Cq)(Object)},maxDate:{type:(0,d.Cq)(Object)},parsedValue:{type:(0,d.Cq)([Object,Array])},rangeState:{type:(0,d.Cq)(Object),default:()=>({endDate:null,selecting:!1})}}),cb=(0,d.o8)({type:{type:(0,d.Cq)(String),required:!0,values:Ka}}),ub=(0,d.o8)({unlinkPanels:Boolean,parsedValue:{type:(0,d.Cq)(Array)}}),db=e=>({type:String,values:sb,default:e}),hb=(0,d.o8)({...cb,parsedValue:{type:(0,d.Cq)([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),mb=(0,d.o8)({...lb,cellClassName:{type:(0,d.Cq)(Function)},showWeekNumber:Boolean,selectionMode:db("date")}),pb=e=>{if(!(0,c.kJ)(e))return!1;const[t,n]=e;return Ra.isDayjs(t)&&Ra.isDayjs(n)&&t.isSameOrBefore(n)},fb=(e,{lang:t,unit:n,unlinkPanels:o})=>{let r;if((0,c.kJ)(e)){let[r,i]=e.map((e=>Ra(e).locale(t)));return o||(i=r.add(1,n)),[r,i]}return r=e?Ra(e):Ra(),r=r.locale(t),[r,r.add(1,n)]},gb=(e,t,{columnIndexOffset:n,startDate:o,nextEndDate:r,now:i,unit:a,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<e.row;u++){const d=t[u];for(let t=0;t<e.column;t++){let c=d[t+n];c||(c={row:u,column:t,type:"normal",inRange:!1,start:!1,end:!1});const h=u*e.column+t,m=s(h);c.dayjs=m,c.date=m.toDate(),c.timestamp=m.valueOf(),c.type="normal",c.inRange=!!(o&&m.isSameOrAfter(o,a)&&r&&m.isSameOrBefore(r,a))||!!(o&&m.isSameOrBefore(o,a)&&r&&m.isSameOrAfter(r,a)),(null==o?void 0:o.isSameOrAfter(r))?(c.start=!!r&&m.isSame(r,a),c.end=o&&m.isSame(o,a)):(c.start=!!o&&m.isSame(o,a),c.end=!!r&&m.isSame(r,a));const p=m.isSame(i,a);p&&(c.type="today"),null==l||l(c,{rowIndex:u,columnIndex:t}),d[t+n]=c}null==c||c(d)}},vb=(0,d.o8)({cell:{type:(0,d.Cq)(Object)}});var yb=(0,s.aZ)({name:"ElDatePickerCell",props:vb,setup(e){const t=(0,v.s3)("date-table-cell"),{slots:n}=(0,s.f3)(nb);return()=>{const{cell:o}=e;if(n.default){const e=n.default(o).filter((e=>-2!==e.patchFlag&&"Symbol(Comment)"!==e.type.toString()));if(e.length)return e}return(0,s.Wm)("div",{class:t.b()},[(0,s.Wm)("span",{class:t.e("text")},[null==o?void 0:o.text])])}}});const bb=["aria-label","onMousedown"],wb={key:0,scope:"col"},_b=["aria-label"],xb=["aria-current","aria-selected","tabindex"],Cb=(0,s.aZ)({__name:"basic-date-table",props:mb,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("date-table"),{t:i,lang:a}=(0,Ga.bU)(),u=(0,l.iH)(),d=(0,l.iH)(),h=(0,l.iH)(),m=(0,l.iH)(),p=(0,l.iH)([[],[],[],[],[],[]]);let f=!1;const g=o.date.$locale().weekStart||7,y=o.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),b=(0,s.Fl)((()=>g>3?7-g:-g)),w=(0,s.Fl)((()=>{const e=o.date.startOf("month");return e.subtract(e.day()||7,"day")})),_=(0,s.Fl)((()=>y.concat(y).slice(g,g+7))),x=(0,s.Fl)((()=>Up(M.value).some((e=>e.isCurrent)))),C=(0,s.Fl)((()=>{const e=o.date.startOf("month"),t=e.day()||7,n=e.daysInMonth(),r=e.subtract(1,"month").daysInMonth();return{startOfMonthDay:t,dateCountOfMonth:n,dateCountOfLastMonth:r}})),S=(0,s.Fl)((()=>"dates"===o.selectionMode?_g(o.parsedValue):[])),k=(e,{count:t,rowIndex:n,columnIndex:o})=>{const{startOfMonthDay:r,dateCountOfMonth:i,dateCountOfLastMonth:a}=(0,l.SU)(C),s=(0,l.SU)(b);if(!(n>=0&&n<=1))return t<=i?e.text=t:(e.text=t-i,e.type="next-month"),!0;{const i=r+s<0?7+r+s:r+s;if(o+7*n>=i)return e.text=t,!0;e.text=a-(i-o%7)+1+7*n,e.type="prev-month"}return!1},E=(e,{columnIndex:t,rowIndex:n},r)=>{const{disabledDate:i,cellClassName:a}=o,s=(0,l.SU)(S),c=k(e,{count:r,rowIndex:n,columnIndex:t}),u=e.dayjs.toDate();return e.selected=s.find((t=>t.valueOf()===e.dayjs.valueOf())),e.isSelected=!!e.selected,e.isCurrent=A(e),e.disabled=null==i?void 0:i(u),e.customClass=null==a?void 0:a(u),c},T=e=>{if("week"===o.selectionMode){const[t,n]=o.showWeekNumber?[1,7]:[0,6],r=V(e[t+1]);e[t].inRange=r,e[t].start=r,e[n].inRange=r,e[n].end=r}},M=(0,s.Fl)((()=>{const{minDate:e,maxDate:t,rangeState:n,showWeekNumber:r}=o,i=b.value,s=p.value,c="day";let u=1;if(r)for(let o=0;o<6;o++)s[o][0]||(s[o][0]={type:"week",text:w.value.add(7*o+1,c).week()});return gb({row:6,column:7},s,{startDate:e,columnIndexOffset:r?1:0,nextEndDate:n.endDate||t||n.selecting&&e||null,now:Ra().locale((0,l.SU)(a)).startOf(c),unit:c,relativeDateGetter:e=>w.value.add(e-i,c),setCellMetadata:(...e)=>{E(...e,u)&&(u+=1)},setRowMetadata:T}),s}));(0,s.YP)((()=>o.date),(async()=>{var e,t;(null==(e=u.value)?void 0:e.contains(document.activeElement))&&(await(0,s.Y3)(),null==(t=d.value)||t.focus())}));const O=async()=>{var e;null==(e=d.value)||e.focus()},D=(e="")=>["normal","today"].includes(e),A=e=>"date"===o.selectionMode&&D(e.type)&&P(e,o.parsedValue),P=(e,t)=>!!t&&Ra(t).locale(a.value).isSame(o.date.date(Number(e.text)),"day"),I=e=>{const t=[];return D(e.type)&&!e.disabled?(t.push("available"),"today"===e.type&&t.push("today")):t.push(e.type),A(e)&&t.push("current"),e.inRange&&(D(e.type)||"week"===o.selectionMode)&&(t.push("in-range"),e.start&&t.push("start-date"),e.end&&t.push("end-date")),e.disabled&&t.push("disabled"),e.selected&&t.push("selected"),e.customClass&&t.push(e.customClass),t.join(" ")},z=(e,t)=>{const n=7*e+(t-(o.showWeekNumber?1:0))-b.value;return w.value.add(n,"day")},N=e=>{var t;if(!o.rangeState.selecting)return;let r=e.target;if("SPAN"===r.tagName&&(r=null==(t=r.parentNode)?void 0:t.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const i=r.parentNode.rowIndex-1,a=r.cellIndex;M.value[i][a].disabled||i===h.value&&a===m.value||(h.value=i,m.value=a,n("changerange",{selecting:!0,endDate:z(i,a)}))},L=e=>!x.value&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,H=e=>{f||x.value||"date"!==o.selectionMode||U(e,!0)},F=e=>{const t=e.target.closest("td");t&&(f=!0)},B=e=>{const t=e.target.closest("td");t&&(f=!1)},U=(e,t=!1)=>{const r=e.target.closest("td");if(!r)return;const i=r.parentNode.rowIndex-1,a=r.cellIndex,s=M.value[i][a];if(s.disabled||"week"===s.type)return;const l=z(i,a);if("range"===o.selectionMode)o.rangeState.selecting&&o.minDate?(l>=o.minDate?n("pick",{minDate:o.minDate,maxDate:l}):n("pick",{minDate:l,maxDate:o.minDate}),n("select",!1)):(n("pick",{minDate:l,maxDate:null}),n("select",!0));else if("date"===o.selectionMode)n("pick",l,t);else if("week"===o.selectionMode){const e=l.week(),t=`${l.year()}w${e}`;n("pick",{year:l.year(),week:e,value:t,date:l.startOf("week")})}else if("dates"===o.selectionMode){const e=s.selected?_g(o.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==l.valueOf())):_g(o.parsedValue).concat([l]);n("pick",e)}},V=e=>{if("week"!==o.selectionMode)return!1;let t=o.date.startOf("day");if("prev-month"===e.type&&(t=t.subtract(1,"month")),"next-month"===e.type&&(t=t.add(1,"month")),t=t.date(Number.parseInt(e.text,10)),o.parsedValue&&!Array.isArray(o.parsedValue)){const e=(o.parsedValue.day()-g+7)%7-1,n=o.parsedValue.subtract(e,"day");return n.isSame(t,"day")}return!1};return t({focus:O}),(e,t)=>((0,s.wg)(),(0,s.iD)("table",{role:"grid","aria-label":(0,l.SU)(i)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:(0,c.C_)([(0,l.SU)(r).b(),{"is-week-mode":"week"===e.selectionMode}]),onClick:U,onMousemove:N,onMousedown:(0,R.iM)(F,["prevent"]),onMouseup:B},[(0,s._)("tbody",{ref_key:"tbodyRef",ref:u},[(0,s._)("tr",null,[e.showWeekNumber?((0,s.wg)(),(0,s.iD)("th",wb,(0,c.zw)((0,l.SU)(i)("el.datepicker.week")),1)):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(_),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col","aria-label":(0,l.SU)(i)("el.datepicker.weeksFull."+e)},(0,c.zw)((0,l.SU)(i)("el.datepicker.weeks."+e)),9,_b)))),128))]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(M),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:(0,c.C_)([(0,l.SU)(r).e("row"),{current:V(e[1])}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,n)=>((0,s.wg)(),(0,s.iD)("td",{key:`${t}.${n}`,ref_for:!0,ref:t=>L(e)&&(d.value=t),class:(0,c.C_)(I(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:L(e)?0:-1,onFocus:H},[(0,s.Wm)((0,l.SU)(yb),{cell:e},null,8,["cell"])],42,xb)))),128))],2)))),128))],512)],42,bb))}});var Sb=(0,g.Z)(Cb,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const kb=(0,d.o8)({...lb,selectionMode:db("month")}),Eb=["aria-label"],Tb=["aria-selected","aria-label","tabindex","onKeydown"],Mb={class:"cell"},Ob=(0,s.aZ)({__name:"basic-month-table",props:kb,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const o=e,r=(e,t,n)=>{const o=Ra().locale(n).startOf("month").month(t).year(e),r=o.daysInMonth();return Ia(r).map((e=>o.add(e,"day").toDate()))},i=(0,v.s3)("month-table"),{t:a,lang:u}=(0,Ga.bU)(),d=(0,l.iH)(),h=(0,l.iH)(),m=(0,l.iH)(o.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),p=(0,l.iH)([[],[],[]]),f=(0,l.iH)(),g=(0,l.iH)(),b=(0,s.Fl)((()=>{var e,t;const n=p.value,r=Ra().locale(u.value).startOf("month");for(let i=0;i<3;i++){const a=n[i];for(let n=0;n<4;n++){const s=a[n]||(a[n]={row:i,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});s.type="normal";const l=4*i+n,c=o.date.startOf("year").month(l),u=o.rangeState.endDate||o.maxDate||o.rangeState.selecting&&o.minDate||null;s.inRange=!!(o.minDate&&c.isSameOrAfter(o.minDate,"month")&&u&&c.isSameOrBefore(u,"month"))||!!(o.minDate&&c.isSameOrBefore(o.minDate,"month")&&u&&c.isSameOrAfter(u,"month")),(null==(e=o.minDate)?void 0:e.isSameOrAfter(u))?(s.start=!(!u||!c.isSame(u,"month")),s.end=o.minDate&&c.isSame(o.minDate,"month")):(s.start=!(!o.minDate||!c.isSame(o.minDate,"month")),s.end=!(!u||!c.isSame(u,"month")));const d=r.isSame(c);d&&(s.type="today"),s.text=l,s.disabled=(null==(t=o.disabledDate)?void 0:t.call(o,c.toDate()))||!1}}return n})),w=()=>{var e;null==(e=h.value)||e.focus()},_=e=>{const t={},n=o.date.year(),i=new Date,a=e.text;return t.disabled=!!o.disabledDate&&r(n,a,u.value).every(o.disabledDate),t.current=_g(o.parsedValue).findIndex((e=>Ra.isDayjs(e)&&e.year()===n&&e.month()===a))>=0,t.today=i.getFullYear()===n&&i.getMonth()===a,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},x=e=>{const t=o.date.year(),n=e.text;return _g(o.date).findIndex((e=>e.year()===t&&e.month()===n))>=0},C=e=>{var t;if(!o.rangeState.selecting)return;let r=e.target;if("A"===r.tagName&&(r=null==(t=r.parentNode)?void 0:t.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const i=r.parentNode.rowIndex,a=r.cellIndex;b.value[i][a].disabled||i===f.value&&a===g.value||(f.value=i,g.value=a,n("changerange",{selecting:!0,endDate:o.date.startOf("year").month(4*i+a)}))},S=e=>{var t;const r=null==(t=e.target)?void 0:t.closest("td");if("TD"!==(null==r?void 0:r.tagName))return;if((0,y.pv)(r,"disabled"))return;const i=r.cellIndex,a=r.parentNode.rowIndex,s=4*a+i,l=o.date.startOf("year").month(s);"range"===o.selectionMode?o.rangeState.selecting?(o.minDate&&l>=o.minDate?n("pick",{minDate:o.minDate,maxDate:l}):n("pick",{minDate:l,maxDate:o.minDate}),n("select",!1)):(n("pick",{minDate:l,maxDate:null}),n("select",!0)):n("pick",s)};return(0,s.YP)((()=>o.date),(async()=>{var e,t;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await(0,s.Y3)(),null==(t=h.value)||t.focus())})),t({focus:w}),(e,t)=>((0,s.wg)(),(0,s.iD)("table",{role:"grid","aria-label":(0,l.SU)(a)("el.datepicker.monthTablePrompt"),class:(0,c.C_)((0,l.SU)(i).b()),onClick:S,onMousemove:C},[(0,s._)("tbody",{ref_key:"tbodyRef",ref:d},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(b),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e,((e,t)=>((0,s.wg)(),(0,s.iD)("td",{key:t,ref_for:!0,ref:t=>x(e)&&(h.value=t),class:(0,c.C_)(_(e)),"aria-selected":`${x(e)}`,"aria-label":(0,l.SU)(a)("el.datepicker.month"+(+e.text+1)),tabindex:x(e)?0:-1,onKeydown:[(0,R.D2)((0,R.iM)(S,["prevent","stop"]),["space"]),(0,R.D2)((0,R.iM)(S,["prevent","stop"]),["enter"])]},[(0,s._)("div",null,[(0,s._)("span",Mb,(0,c.zw)((0,l.SU)(a)("el.datepicker.months."+m.value[e.text])),1)])],42,Tb)))),128))])))),128))],512)],42,Eb))}});var Db=(0,g.Z)(Ob,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Ab,disabledDate:Rb,parsedValue:Pb}=lb,Ib=(0,d.o8)({date:Ab,disabledDate:Rb,parsedValue:Pb}),zb=["aria-label"],Nb=["aria-selected","tabindex","onKeydown"],Lb={class:"cell"},Hb={key:1},Fb=(0,s.aZ)({__name:"basic-year-table",props:Ib,emits:["pick"],setup(e,{expose:t,emit:n}){const o=e,r=(e,t)=>{const n=Ra(String(e)).locale(t).startOf("year"),o=n.endOf("year"),r=o.dayOfYear();return Ia(r).map((e=>n.add(e,"day").toDate()))},i=(0,v.s3)("year-table"),{t:a,lang:u}=(0,Ga.bU)(),d=(0,l.iH)(),h=(0,l.iH)(),m=(0,s.Fl)((()=>10*Math.floor(o.date.year()/10))),p=()=>{var e;null==(e=h.value)||e.focus()},f=e=>{const t={},n=Ra().locale(u.value);return t.disabled=!!o.disabledDate&&r(e,u.value).every(o.disabledDate),t.current=_g(o.parsedValue).findIndex((t=>t.year()===e))>=0,t.today=n.year()===e,t},g=e=>e===m.value&&o.date.year()<m.value&&o.date.year()>m.value+9||_g(o.date).findIndex((t=>t.year()===e))>=0,b=e=>{const t=e.target,o=t.closest("td");if(o&&o.textContent){if((0,y.pv)(o,"disabled"))return;const e=o.textContent||o.innerText;n("pick",Number(e))}};return(0,s.YP)((()=>o.date),(async()=>{var e,t;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await(0,s.Y3)(),null==(t=h.value)||t.focus())})),t({focus:p}),(e,t)=>((0,s.wg)(),(0,s.iD)("table",{role:"grid","aria-label":(0,l.SU)(a)("el.datepicker.yearTablePrompt"),class:(0,c.C_)((0,l.SU)(i).b()),onClick:b},[(0,s._)("tbody",{ref_key:"tbodyRef",ref:d},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,((e,t)=>(0,s._)("tr",{key:t},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,((e,n)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t+"_"+n},[4*t+n<10?((0,s.wg)(),(0,s.iD)("td",{key:0,ref_for:!0,ref:e=>g((0,l.SU)(m)+4*t+n)&&(h.value=e),class:(0,c.C_)(["available",f((0,l.SU)(m)+4*t+n)]),"aria-selected":`${g((0,l.SU)(m)+4*t+n)}`,tabindex:g((0,l.SU)(m)+4*t+n)?0:-1,onKeydown:[(0,R.D2)((0,R.iM)(b,["prevent","stop"]),["space"]),(0,R.D2)((0,R.iM)(b,["prevent","stop"]),["enter"])]},[(0,s._)("span",Lb,(0,c.zw)((0,l.SU)(m)+4*t+n),1)],42,Nb)):((0,s.wg)(),(0,s.iD)("td",Hb))],64)))),64))]))),64))],512)],10,zb))}});var Bb=(0,g.Z)(Fb,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ub=(0,d.o8)({...rb,datetimeRole:String,parsedValue:{type:(0,d.Cq)(Object)}}),Vb=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const o=(o,r,i,a)=>{const s={hour:e,minute:t,second:n};let l=o;return["hour","minute","second"].forEach((e=>{if(s[e]){let t;const n=s[e];switch(e){case"minute":t=n(l.hour(),r,a);break;case"second":t=n(l.hour(),l.minute(),r,a);break;default:t=n(r,a);break}if((null==t?void 0:t.length)&&!t.includes(l[e]())){const n=i?0:t.length-1;l=l[e](t[n])}}})),l},r={},i=([e,t])=>{r[e]=t};return{timePickerOptions:r,getAvailableTime:o,onSetOption:i}},jb=e=>{const t=(e,t)=>e||t,n=e=>!0!==e;return e.map(t).filter(n)},Wb=(e,t,n)=>{const o=(t,n)=>Ua(24,e&&(()=>null==e?void 0:e(t,n))),r=(e,n,o)=>Ua(60,t&&(()=>null==t?void 0:t(e,n,o))),i=(e,t,o,r)=>Ua(60,n&&(()=>null==n?void 0:n(e,t,o,r)));return{getHoursList:o,getMinutesList:r,getSecondsList:i}},Zb=(e,t,n)=>{const{getHoursList:o,getMinutesList:r,getSecondsList:i}=Wb(e,t,n),a=(e,t)=>jb(o(e,t)),s=(e,t,n)=>jb(r(e,t,n)),l=(e,t,n,o)=>jb(i(e,t,n,o));return{getAvailableHours:a,getAvailableMinutes:s,getAvailableSeconds:l}},$b=e=>{const t=(0,l.iH)(e.parsedValue);return(0,s.YP)((()=>e.visible),(n=>{n||(t.value=e.parsedValue)})),t},qb=["hours","minutes","seconds"],Gb="HH:mm:ss",Kb="YYYY-MM-DD",Yb={date:Kb,dates:Kb,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Kb} ${Gb}`,monthrange:"YYYY-MM",daterange:Kb,datetimerange:`${Kb} ${Gb}`},Jb=(0,d.o8)({role:{type:String,required:!0},spinnerDate:{type:(0,d.Cq)(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:(0,d.Cq)(String),default:""},...ob}),Xb=100,Qb=600,ew={beforeMount(e,t){const n=t.value,{interval:o=Xb,delay:r=Qb}=(0,c.mf)(n)?{}:n;let i,a;const s=()=>(0,c.mf)(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",(e=>{0===e.button&&(l(),s(),document.addEventListener("mouseup",(()=>l()),{once:!0}),a=setTimeout((()=>{i=setInterval((()=>{s()}),o)}),r))}))}},tw=["onClick"],nw=["onMouseenter"],ow=(0,s.aZ)({__name:"basic-time-spinner",props:Jb,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,o=(0,v.s3)("time"),{getHoursList:r,getMinutesList:i,getSecondsList:a}=Wb(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const d=(0,l.iH)(),h=(0,l.iH)(),m=(0,l.iH)(),p=(0,l.iH)(),f={hours:h,minutes:m,seconds:p},g=(0,s.Fl)((()=>n.showSeconds?qb:qb.slice(0,2))),y=(0,s.Fl)((()=>{const{spinnerDate:e}=n,t=e.hour(),o=e.minute(),r=e.second();return{hours:t,minutes:o,seconds:r}})),b=(0,s.Fl)((()=>{const{hours:e,minutes:t}=(0,l.SU)(y);return{hours:r(n.role),minutes:i(e,n.role),seconds:a(e,t,n.role)}})),w=(0,s.Fl)((()=>{const{hours:e,minutes:t,seconds:n}=(0,l.SU)(y);return{hours:Pa(e,23),minutes:Pa(t,59),seconds:Pa(n,59)}})),_=de((e=>{u=!1,S(e)}),200),x=e=>{const t=!!n.amPmMode;if(!t)return"";const o="A"===n.amPmMode;let r=e<12?" am":" pm";return o&&(r=r.toUpperCase()),r},C=e=>{let n;switch(e){case"hours":n=[0,2];break;case"minutes":n=[3,5];break;case"seconds":n=[6,8];break}const[o,r]=n;t("select-range",o,r),d.value=e},S=e=>{T(e,(0,l.SU)(y)[e])},k=()=>{S("hours"),S("minutes"),S("seconds")},E=e=>e.querySelector(`.${o.namespace.value}-scrollbar__wrap`),T=(e,t)=>{if(n.arrowControl)return;const o=(0,l.SU)(f[e]);o&&o.$el&&(E(o.$el).scrollTop=Math.max(0,t*M(e)))},M=e=>{const t=(0,l.SU)(f[e]);return(null==t?void 0:t.$el.querySelector("li").offsetHeight)||0},O=()=>{A(1)},D=()=>{A(-1)},A=e=>{d.value||C("hours");const t=d.value,n=(0,l.SU)(y)[t],o="hours"===d.value?24:60,r=R(t,n,e,o);I(t,r),T(t,r),(0,s.Y3)((()=>C(t)))},R=(e,t,n,o)=>{let r=(t+n+o)%o;const i=(0,l.SU)(b)[e];while(i[r]&&r!==t)r=(r+n+o)%o;return r},I=(e,o)=>{const r=(0,l.SU)(b)[e],i=r[o];if(i)return;const{hours:a,minutes:s,seconds:c}=(0,l.SU)(y);let u;switch(e){case"hours":u=n.spinnerDate.hour(o).minute(s).second(c);break;case"minutes":u=n.spinnerDate.hour(a).minute(o).second(c);break;case"seconds":u=n.spinnerDate.hour(a).minute(s).second(o);break}t("change",u)},z=(e,{value:t,disabled:n})=>{n||(I(e,t),C(e),T(e,t))},N=e=>{u=!0,_(e);const t=Math.min(Math.round((E((0,l.SU)(f[e]).$el).scrollTop-(.5*L(e)-10)/M(e)+3)/M(e)),"hours"===e?23:59);I(e,t)},L=e=>(0,l.SU)(f[e]).$el.offsetHeight,H=()=>{const e=e=>{const t=(0,l.SU)(f[e]);t&&t.$el&&(E(t.$el).onscroll=()=>{N(e)})};e("hours"),e("minutes"),e("seconds")};(0,s.bv)((()=>{(0,s.Y3)((()=>{!n.arrowControl&&H(),k(),"start"===n.role&&C("hours")}))}));const F=(e,t)=>{f[t].value=e};return t("set-option",[`${n.role}_scrollDown`,A]),t("set-option",[`${n.role}_emitSelectRange`,C]),(0,s.YP)((()=>n.spinnerDate),(()=>{u||k()})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(o).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?(0,s.kq)("v-if",!0):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)((0,l.SU)(g),(t=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Ae),{key:t,ref_for:!0,ref:e=>F(e,t),class:(0,c.C_)((0,l.SU)(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":(0,l.SU)(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>C(t),onMousemove:e=>S(t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(b)[t],((n,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r,class:(0,c.C_)([(0,l.SU)(o).be("spinner","item"),(0,l.SU)(o).is("active",r===(0,l.SU)(y)[t]),(0,l.SU)(o).is("disabled",n)]),onClick:e=>z(t,{value:r,disabled:n})},["hours"===t?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,c.zw)(("0"+(e.amPmMode?r%12||12:r)).slice(-2))+(0,c.zw)(x(r)),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(("0"+r).slice(-2)),1)],64))],10,tw)))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)((0,l.SU)(g),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,c.C_)([(0,l.SU)(o).be("spinner","wrapper"),(0,l.SU)(o).is("arrow")]),onMouseenter:e=>C(t)},[(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{class:(0,c.C_)(["arrow-up",(0,l.SU)(o).be("spinner","arrow")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowUp))])),_:1},8,["class"])),[[(0,l.SU)(ew),D]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{class:(0,c.C_)(["arrow-down",(0,l.SU)(o).be("spinner","arrow")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowDown))])),_:1},8,["class"])),[[(0,l.SU)(ew),O]]),(0,s._)("ul",{class:(0,c.C_)((0,l.SU)(o).be("spinner","list"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(w)[t],((n,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r,class:(0,c.C_)([(0,l.SU)(o).be("spinner","item"),(0,l.SU)(o).is("active",n===(0,l.SU)(y)[t]),(0,l.SU)(o).is("disabled",(0,l.SU)(b)[t][n])])},["number"===typeof n?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["hours"===t?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,c.zw)(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+(0,c.zw)(x(n)),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,c.zw)(("0"+n).slice(-2)),1)],64))],64)):(0,s.kq)("v-if",!0)],2)))),128))],2)],42,nw)))),128)):(0,s.kq)("v-if",!0)],2))}});var rw=(0,g.Z)(ow,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const iw=(0,s.aZ)({__name:"panel-time-pick",props:Ub,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,o=(0,s.f3)("EP_PICKER_BASE"),{arrowControl:r,disabledHours:i,disabledMinutes:a,disabledSeconds:u,defaultValue:d}=o.props,{getAvailableHours:m,getAvailableMinutes:p,getAvailableSeconds:f}=Zb(i,a,u),g=(0,v.s3)("time"),{t:y,lang:b}=(0,Ga.bU)(),w=(0,l.iH)([0,2]),_=$b(n),x=(0,s.Fl)((()=>(0,h.o8)(n.actualVisible)?`${g.namespace.value}-zoom-in-top`:"")),C=(0,s.Fl)((()=>n.format.includes("ss"))),S=(0,s.Fl)((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),k=e=>{const t=Ra(e).locale(b.value),n=N(t);return t.isSame(n)},E=()=>{t("pick",_.value,!1)},T=(e=!1,o=!1)=>{o||t("pick",n.parsedValue,e)},M=e=>{if(!n.visible)return;const o=N(e).millisecond(0);t("pick",o,!0)},O=(e,n)=>{t("select-range",e,n),w.value=[e,n]},D=e=>{const t=[0,3].concat(C.value?[6]:[]),n=["hours","minutes"].concat(C.value?["seconds"]:[]),o=t.indexOf(w.value[0]),r=(o+e+t.length)%t.length;P["start_emitSelectRange"](n[r])},A=e=>{const t=e.code,{left:n,right:o,up:r,down:i}=no.EVENT_CODE;if([n,o].includes(t)){const o=t===n?-1:1;return D(o),void e.preventDefault()}if([r,i].includes(t)){const n=t===r?-1:1;return P["start_scrollDown"](n),void e.preventDefault()}},{timePickerOptions:P,onSetOption:I,getAvailableTime:z}=Vb({getAvailableHours:m,getAvailableMinutes:p,getAvailableSeconds:f}),N=e=>z(e,n.datetimeRole||"",!0),L=e=>e?Ra(e,n.format).locale(b.value):null,H=e=>e?e.format(n.format):null,F=()=>Ra(d).locale(b.value);return t("set-picker-option",["isValidValue",k]),t("set-picker-option",["formatToString",H]),t("set-picker-option",["parseUserInput",L]),t("set-picker-option",["handleKeydownInput",A]),t("set-picker-option",["getRangeAvailableTime",N]),t("set-picker-option",["getDefaultValue",F]),(e,t)=>((0,s.wg)(),(0,s.j4)(R.uT,{name:(0,l.SU)(x)},{default:(0,s.w5)((()=>[e.actualVisible||e.visible?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(g).b("panel"))},[(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(g).be("panel","content"),{"has-seconds":(0,l.SU)(C)}])},[(0,s.Wm)(rw,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":(0,l.SU)(r),"show-seconds":(0,l.SU)(C),"am-pm-mode":(0,l.SU)(S),"spinner-date":e.parsedValue,"disabled-hours":(0,l.SU)(i),"disabled-minutes":(0,l.SU)(a),"disabled-seconds":(0,l.SU)(u),onChange:M,onSetOption:(0,l.SU)(I),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(g).be("panel","footer"))},[(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(g).be("panel","btn"),"cancel"]),onClick:E},(0,c.zw)((0,l.SU)(y)("el.datepicker.cancel")),3),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(g).be("panel","btn"),"confirm"]),onClick:t[0]||(t[0]=e=>T())},(0,c.zw)((0,l.SU)(y)("el.datepicker.confirm")),3)],2)],2)):(0,s.kq)("v-if",!0)])),_:1},8,["name"]))}});var aw=(0,g.Z)(iw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const sw=["onClick"],lw=["aria-label"],cw=["aria-label"],uw=["aria-label"],dw=["aria-label"],hw=(0,s.aZ)({__name:"panel-date-pick",props:hb,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,o=(e,t,n)=>!0,r=(0,v.s3)("picker-panel"),i=(0,v.s3)("date-picker"),a=(0,s.l1)(),u=(0,s.Rr)(),{t:d,lang:h}=(0,Ga.bU)(),m=(0,s.f3)("EP_PICKER_BASE"),p=(0,s.f3)(Be),{shortcuts:f,disabledDate:g,cellClassName:y,defaultTime:b,arrowControl:w}=m.props,_=(0,l.Vh)(m.props,"defaultValue"),x=(0,l.iH)(),C=(0,l.iH)(Ra().locale(h.value)),S=(0,l.iH)(!1),k=(0,s.Fl)((()=>Ra(b).locale(h.value))),E=(0,s.Fl)((()=>C.value.month())),T=(0,s.Fl)((()=>C.value.year())),M=(0,l.iH)([]),O=(0,l.iH)(null),D=(0,l.iH)(null),A=e=>!(M.value.length>0)||o(e,M.value,n.format||"HH:mm:ss"),I=e=>!b||ee.value||S.value?G.value?e.millisecond(0):e.startOf("day"):k.value.year(e.year()).month(e.month()).date(e.date()),z=(e,...n)=>{if(e)if((0,c.kJ)(e)){const o=e.map(I);t("pick",o,...n)}else t("pick",I(e),...n);else t("pick",e,...n);O.value=null,D.value=null,S.value=!1},N=(e,t)=>{if("date"===V.value){let o=n.parsedValue?n.parsedValue.year(e.year()).month(e.month()).date(e.date()):e;A(o)||(o=M.value[0][0].year(e.year()).month(e.month()).date(e.date())),C.value=o,z(o,G.value||t)}else"week"===V.value?z(e.date):"dates"===V.value&&z(e,!0)},L=e=>{const t=e?"add":"subtract";C.value=C.value[t](1,"month"),ye("month")},H=e=>{const t=C.value,n=e?"add":"subtract";C.value="year"===F.value?t[n](10,"year"):t[n](1,"year"),ye("year")},F=(0,l.iH)("date"),B=(0,s.Fl)((()=>{const e=d("el.datepicker.year");if("year"===F.value){const t=10*Math.floor(T.value/10);return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${T.value} ${e}`})),U=e=>{const n=(0,c.mf)(e.value)?e.value():e.value;n?z(Ra(n).locale(h.value)):e.onClick&&e.onClick({attrs:a,slots:u,emit:t})},V=(0,s.Fl)((()=>{const{type:e}=n;return["week","month","year","dates"].includes(e)?e:"date"})),j=(0,s.Fl)((()=>"date"===V.value?F.value:V.value)),W=(0,s.Fl)((()=>!!f.length)),Z=async e=>{C.value=C.value.startOf("month").month(e),"month"===V.value?z(C.value,!1):(F.value="date",["month","year","date","week"].includes(V.value)&&(z(C.value,!0),await(0,s.Y3)(),fe())),ye("month")},$=async e=>{"year"===V.value?(C.value=C.value.startOf("year").year(e),z(C.value,!1)):(C.value=C.value.year(e),F.value="month",["month","year","date","week"].includes(V.value)&&(z(C.value,!0),await(0,s.Y3)(),fe())),ye("year")},q=async e=>{F.value=e,await(0,s.Y3)(),fe()},G=(0,s.Fl)((()=>"datetime"===n.type||"datetimerange"===n.type)),K=(0,s.Fl)((()=>G.value||"dates"===V.value)),Y=()=>{if("dates"===V.value)z(n.parsedValue);else{let e=n.parsedValue;if(!e){const t=Ra(b).locale(h.value),n=pe();e=t.year(n.year()).month(n.month()).date(n.date())}C.value=e,z(e)}},J=()=>{const e=Ra().locale(h.value),t=e.toDate();S.value=!0,g&&g(t)||!A(t)||(C.value=Ra().locale(h.value),z(C.value))},X=(0,s.Fl)((()=>Na(n.format))),Q=(0,s.Fl)((()=>za(n.format))),ee=(0,s.Fl)((()=>D.value?D.value:n.parsedValue||_.value?(n.parsedValue||C.value).format(X.value):void 0)),te=(0,s.Fl)((()=>O.value?O.value:n.parsedValue||_.value?(n.parsedValue||C.value).format(Q.value):void 0)),ne=(0,l.iH)(!1),oe=()=>{ne.value=!0},re=()=>{ne.value=!1},ie=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),ae=(e,t,o)=>{const{hour:r,minute:i,second:a}=ie(e),s=n.parsedValue?n.parsedValue.hour(r).minute(i).second(a):e;C.value=s,z(C.value,!0),o||(ne.value=t)},se=e=>{const t=Ra(e,X.value).locale(h.value);if(t.isValid()&&A(t)){const{year:e,month:n,date:o}=ie(C.value);C.value=t.year(e).month(n).date(o),D.value=null,ne.value=!1,z(C.value,!0)}},le=e=>{const t=Ra(e,Q.value).locale(h.value);if(t.isValid()){if(g&&g(t.toDate()))return;const{hour:e,minute:n,second:o}=ie(C.value);C.value=t.hour(e).minute(n).second(o),O.value=null,z(C.value,!0)}},ce=e=>Ra.isDayjs(e)&&e.isValid()&&(!g||!g(e.toDate())),ue=e=>"dates"===V.value?e.map((e=>e.format(n.format))):e.format(n.format),de=e=>Ra(e,n.format).locale(h.value),pe=()=>{const e=Ra(_.value).locale(h.value);if(!_.value){const e=k.value;return Ra().hour(e.hour()).minute(e.minute()).second(e.second()).locale(h.value)}return e},fe=async()=>{var e;["week","month","year","date"].includes(V.value)&&(null==(e=x.value)||e.focus(),"week"===V.value&&ve(no.EVENT_CODE.down))},ge=e=>{const{code:t}=e,n=[no.EVENT_CODE.up,no.EVENT_CODE.down,no.EVENT_CODE.left,no.EVENT_CODE.right,no.EVENT_CODE.home,no.EVENT_CODE.end,no.EVENT_CODE.pageUp,no.EVENT_CODE.pageDown];n.includes(t)&&(ve(t),e.stopPropagation(),e.preventDefault()),[no.EVENT_CODE.enter,no.EVENT_CODE.space,no.EVENT_CODE.numpadEnter].includes(t)&&null===O.value&&null===D.value&&(e.preventDefault(),z(C.value,!1))},ve=e=>{var n;const{up:o,down:r,left:i,right:a,home:s,end:l,pageUp:u,pageDown:d}=no.EVENT_CODE,m={year:{[o]:-4,[r]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{[o]:-4,[r]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{[o]:-1,[r]:1,[i]:-1,[a]:1,offset:(e,t)=>e.setDate(e.getDate()+7*t)},date:{[o]:-7,[r]:7,[i]:-1,[a]:1,[s]:e=>-e.getDay(),[l]:e=>6-e.getDay(),[u]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[d]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,t)=>e.setDate(e.getDate()+t)}},p=C.value.toDate();while(Math.abs(C.value.diff(p,"year",!0))<1){const o=m[j.value];if(!o)return;if(o.offset(p,(0,c.mf)(o[e])?o[e](p):null!=(n=o[e])?n:0),g&&g(p))break;const r=Ra(p).locale(h.value);C.value=r,t("pick",r,!0);break}},ye=e=>{t("panel-change",C.value.toDate(),e,F.value)};return(0,s.YP)((()=>V.value),(e=>{["month","year"].includes(e)?F.value=e:F.value="date"}),{immediate:!0}),(0,s.YP)((()=>F.value),(()=>{null==p||p.updatePopper()})),(0,s.YP)((()=>_.value),(e=>{e&&(C.value=pe())}),{immediate:!0}),(0,s.YP)((()=>n.parsedValue),(e=>{if(e){if("dates"===V.value)return;if(Array.isArray(e))return;C.value=e}else C.value=pe()}),{immediate:!0}),t("set-picker-option",["isValidValue",ce]),t("set-picker-option",["formatToString",ue]),t("set-picker-option",["parseUserInput",de]),t("set-picker-option",["handleFocusPicker",fe]),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(r).b(),(0,l.SU)(i).b(),{"has-sidebar":e.$slots.sidebar||(0,l.SU)(W),"has-time":(0,l.SU)(G)}])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("body-wrapper"))},[(0,s.WI)(e.$slots,"sidebar",{class:(0,c.C_)((0,l.SU)(r).e("sidebar"))}),(0,l.SU)(W)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(r).e("sidebar"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(f),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,type:"button",class:(0,c.C_)((0,l.SU)(r).e("shortcut")),onClick:t=>U(e)},(0,c.zw)(e.text),11,sw)))),128))],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("body"))},[(0,l.SU)(G)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(i).e("time-header"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i).e("editor-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{placeholder:(0,l.SU)(d)("el.datepicker.selectDate"),"model-value":(0,l.SU)(te),size:"small","validate-event":!1,onInput:t[0]||(t[0]=e=>O.value=e),onChange:le},null,8,["placeholder","model-value"])],2),(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(i).e("editor-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{placeholder:(0,l.SU)(d)("el.datepicker.selectTime"),"model-value":(0,l.SU)(ee),size:"small","validate-event":!1,onFocus:oe,onInput:t[1]||(t[1]=e=>D.value=e),onChange:se},null,8,["placeholder","model-value"]),(0,s.Wm)((0,l.SU)(aw),{visible:ne.value,format:(0,l.SU)(X),"time-arrow-control":(0,l.SU)(w),"parsed-value":C.value,onPick:ae},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[(0,l.SU)(Fg),re]])],2)):(0,s.kq)("v-if",!0),(0,s.wy)((0,s._)("div",{class:(0,c.C_)([(0,l.SU)(i).e("header"),("year"===F.value||"month"===F.value)&&(0,l.SU)(i).e("header--bordered")])},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i).e("prev-btn"))},[(0,s._)("button",{type:"button","aria-label":(0,l.SU)(d)("el.datepicker.prevYear"),class:(0,c.C_)(["d-arrow-left",(0,l.SU)(r).e("icon-btn")]),onClick:t[2]||(t[2]=e=>H(!1))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowLeft))])),_:1})],10,lw),(0,s.wy)((0,s._)("button",{type:"button","aria-label":(0,l.SU)(d)("el.datepicker.prevMonth"),class:(0,c.C_)([(0,l.SU)(r).e("icon-btn"),"arrow-left"]),onClick:t[3]||(t[3]=e=>L(!1))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1})],10,cw),[[R.F8,"date"===F.value]])],2),(0,s._)("span",{role:"button",class:(0,c.C_)((0,l.SU)(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:t[4]||(t[4]=(0,R.D2)((e=>q("year")),["enter"])),onClick:t[5]||(t[5]=e=>q("year"))},(0,c.zw)((0,l.SU)(B)),35),(0,s.wy)((0,s._)("span",{role:"button","aria-live":"polite",tabindex:"0",class:(0,c.C_)([(0,l.SU)(i).e("header-label"),{active:"month"===F.value}]),onKeydown:t[6]||(t[6]=(0,R.D2)((e=>q("month")),["enter"])),onClick:t[7]||(t[7]=e=>q("month"))},(0,c.zw)((0,l.SU)(d)(`el.datepicker.month${(0,l.SU)(E)+1}`)),35),[[R.F8,"date"===F.value]]),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(i).e("next-btn"))},[(0,s.wy)((0,s._)("button",{type:"button","aria-label":(0,l.SU)(d)("el.datepicker.nextMonth"),class:(0,c.C_)([(0,l.SU)(r).e("icon-btn"),"arrow-right"]),onClick:t[8]||(t[8]=e=>L(!0))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})],10,uw),[[R.F8,"date"===F.value]]),(0,s._)("button",{type:"button","aria-label":(0,l.SU)(d)("el.datepicker.nextYear"),class:(0,c.C_)([(0,l.SU)(r).e("icon-btn"),"d-arrow-right"]),onClick:t[9]||(t[9]=e=>H(!0))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowRight))])),_:1})],10,dw)],2)],2),[[R.F8,"time"!==F.value]]),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("content")),onKeydown:ge},["date"===F.value?((0,s.wg)(),(0,s.j4)(Sb,{key:0,ref_key:"currentViewRef",ref:x,"selection-mode":(0,l.SU)(V),date:C.value,"parsed-value":e.parsedValue,"disabled-date":(0,l.SU)(g),"cell-class-name":(0,l.SU)(y),onPick:N},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):(0,s.kq)("v-if",!0),"year"===F.value?((0,s.wg)(),(0,s.j4)(Bb,{key:1,ref_key:"currentViewRef",ref:x,date:C.value,"disabled-date":(0,l.SU)(g),"parsed-value":e.parsedValue,onPick:$},null,8,["date","disabled-date","parsed-value"])):(0,s.kq)("v-if",!0),"month"===F.value?((0,s.wg)(),(0,s.j4)(Db,{key:2,ref_key:"currentViewRef",ref:x,date:C.value,"parsed-value":e.parsedValue,"disabled-date":(0,l.SU)(g),onPick:Z},null,8,["date","parsed-value","disabled-date"])):(0,s.kq)("v-if",!0)],34)],2)],2),(0,s.wy)((0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("footer"))},[(0,s.wy)((0,s.Wm)((0,l.SU)(Da),{text:"",size:"small",class:(0,c.C_)((0,l.SU)(r).e("link-btn")),onClick:J},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(d)("el.datepicker.now")),1)])),_:1},8,["class"]),[[R.F8,"dates"!==(0,l.SU)(V)]]),(0,s.Wm)((0,l.SU)(Da),{plain:"",size:"small",class:(0,c.C_)((0,l.SU)(r).e("link-btn")),onClick:Y},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(d)("el.datepicker.confirm")),1)])),_:1},8,["class"])],2),[[R.F8,(0,l.SU)(K)&&"date"===F.value]])],2))}});var mw=(0,g.Z)(hw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const pw=(0,d.o8)({...cb,...ub}),fw=e=>{const{emit:t}=(0,s.FN)(),n=(0,s.l1)(),o=(0,s.Rr)(),r=r=>{const i=(0,c.mf)(r.value)?r.value():r.value;i?t("pick",[Ra(i[0]).locale(e.value),Ra(i[1]).locale(e.value)]):r.onClick&&r.onClick({attrs:n,slots:o,emit:t})};return r},gw=(e,{defaultValue:t,leftDate:n,rightDate:o,unit:r,onParsedValueChanged:i})=>{const{emit:a}=(0,s.FN)(),{pickerNs:u}=(0,s.f3)(nb),d=(0,v.s3)("date-range-picker"),{t:h,lang:m}=(0,Ga.bU)(),p=fw(m),f=(0,l.iH)(),g=(0,l.iH)(),y=(0,l.iH)({endDate:null,selecting:!1}),b=e=>{y.value=e},w=(e=!1)=>{const t=(0,l.SU)(f),n=(0,l.SU)(g);pb([t,n])&&a("pick",[t,n],e)},_=e=>{y.value.selecting=e,e||(y.value.endDate=null)},x=()=>{const[i,a]=fb((0,l.SU)(t),{lang:(0,l.SU)(m),unit:r,unlinkPanels:e.unlinkPanels});f.value=void 0,g.value=void 0,n.value=i,o.value=a};return(0,s.YP)(t,(e=>{e&&x()}),{immediate:!0}),(0,s.YP)((()=>e.parsedValue),(e=>{if((0,c.kJ)(e)&&2===e.length){const[t,o]=e;f.value=t,n.value=t,g.value=o,i((0,l.SU)(f),(0,l.SU)(g))}else x()}),{immediate:!0}),{minDate:f,maxDate:g,rangeState:y,lang:m,ppNs:u,drpNs:d,handleChangeRange:b,handleRangeConfirm:w,handleShortcutClick:p,onSelect:_,t:h}},vw=["onClick"],yw=["disabled"],bw=["disabled"],ww=["disabled"],_w=["disabled"],xw="month",Cw=(0,s.aZ)({__name:"panel-date-range",props:pw,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,o=(0,s.f3)("EP_PICKER_BASE"),{disabledDate:r,cellClassName:i,format:a,defaultTime:u,arrowControl:d,clearable:h}=o.props,m=(0,l.Vh)(o.props,"shortcuts"),p=(0,l.Vh)(o.props,"defaultValue"),{lang:f}=(0,Ga.bU)(),g=(0,l.iH)(Ra().locale(f.value)),v=(0,l.iH)(Ra().locale(f.value).add(1,xw)),{minDate:y,maxDate:b,rangeState:w,ppNs:_,drpNs:x,handleChangeRange:C,handleRangeConfirm:S,handleShortcutClick:k,onSelect:E,t:T}=gw(n,{defaultValue:p,leftDate:g,rightDate:v,unit:xw,onParsedValueChanged:we}),M=(0,l.iH)({min:null,max:null}),O=(0,l.iH)({min:null,max:null}),D=(0,s.Fl)((()=>`${g.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${g.value.month()+1}`)}`)),A=(0,s.Fl)((()=>`${v.value.year()} ${T("el.datepicker.year")} ${T(`el.datepicker.month${v.value.month()+1}`)}`)),R=(0,s.Fl)((()=>g.value.year())),I=(0,s.Fl)((()=>g.value.month())),z=(0,s.Fl)((()=>v.value.year())),N=(0,s.Fl)((()=>v.value.month())),L=(0,s.Fl)((()=>!!m.value.length)),H=(0,s.Fl)((()=>null!==M.value.min?M.value.min:y.value?y.value.format(j.value):"")),F=(0,s.Fl)((()=>null!==M.value.max?M.value.max:b.value||y.value?(b.value||y.value).format(j.value):"")),B=(0,s.Fl)((()=>null!==O.value.min?O.value.min:y.value?y.value.format(V.value):"")),U=(0,s.Fl)((()=>null!==O.value.max?O.value.max:b.value||y.value?(b.value||y.value).format(V.value):"")),V=(0,s.Fl)((()=>Na(a))),j=(0,s.Fl)((()=>za(a))),W=()=>{g.value=g.value.subtract(1,"year"),n.unlinkPanels||(v.value=g.value.add(1,"month")),X("year")},Z=()=>{g.value=g.value.subtract(1,"month"),n.unlinkPanels||(v.value=g.value.add(1,"month")),X("month")},$=()=>{n.unlinkPanels?v.value=v.value.add(1,"year"):(g.value=g.value.add(1,"year"),v.value=g.value.add(1,"month")),X("year")},q=()=>{n.unlinkPanels?v.value=v.value.add(1,"month"):(g.value=g.value.add(1,"month"),v.value=g.value.add(1,"month")),X("month")},G=()=>{g.value=g.value.add(1,"year"),X("year")},K=()=>{g.value=g.value.add(1,"month"),X("month")},Y=()=>{v.value=v.value.subtract(1,"year"),X("year")},J=()=>{v.value=v.value.subtract(1,"month"),X("month")},X=e=>{t("panel-change",[g.value.toDate(),v.value.toDate()],e)},Q=(0,s.Fl)((()=>{const e=(I.value+1)%12,t=I.value+1>=12?1:0;return n.unlinkPanels&&new Date(R.value+t,e)<new Date(z.value,N.value)})),ee=(0,s.Fl)((()=>n.unlinkPanels&&12*z.value+N.value-(12*R.value+I.value+1)>=12)),te=(0,s.Fl)((()=>!(y.value&&b.value&&!w.value.selecting&&pb([y.value,b.value])))),ne=(0,s.Fl)((()=>"datetime"===n.type||"datetimerange"===n.type)),oe=(e,t)=>{if(e){if(u){const n=Ra(u[t]||u).locale(f.value);return n.year(e.year()).month(e.month()).date(e.date())}return e}},re=(e,n=!0)=>{const o=e.minDate,r=e.maxDate,i=oe(o,0),a=oe(r,1);b.value===a&&y.value===i||(t("calendar-change",[o.toDate(),r&&r.toDate()]),b.value=a,y.value=i,n&&!ne.value&&S())},ie=(0,l.iH)(!1),ae=(0,l.iH)(!1),se=()=>{ie.value=!1},le=()=>{ae.value=!1},ce=(e,t)=>{M.value[t]=e;const o=Ra(e,j.value).locale(f.value);if(o.isValid()){if(r&&r(o.toDate()))return;"min"===t?(g.value=o,y.value=(y.value||g.value).year(o.year()).month(o.month()).date(o.date()),n.unlinkPanels||(v.value=o.add(1,"month"),b.value=y.value.add(1,"month"))):(v.value=o,b.value=(b.value||v.value).year(o.year()).month(o.month()).date(o.date()),n.unlinkPanels||(g.value=o.subtract(1,"month"),y.value=b.value.subtract(1,"month")))}},ue=(e,t)=>{M.value[t]=null},de=(e,t)=>{O.value[t]=e;const n=Ra(e,V.value).locale(f.value);n.isValid()&&("min"===t?(ie.value=!0,y.value=(y.value||g.value).hour(n.hour()).minute(n.minute()).second(n.second()),b.value&&!b.value.isBefore(y.value)||(b.value=y.value)):(ae.value=!0,b.value=(b.value||v.value).hour(n.hour()).minute(n.minute()).second(n.second()),v.value=b.value,b.value&&b.value.isBefore(y.value)&&(y.value=b.value)))},pe=(e,t)=>{O.value[t]=null,"min"===t?(g.value=y.value,ie.value=!1):(v.value=b.value,ae.value=!1)},fe=(e,t,n)=>{O.value.min||(e&&(g.value=e,y.value=(y.value||g.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(ie.value=t),b.value&&!b.value.isBefore(y.value)||(b.value=y.value,v.value=e))},ge=(e,t,n)=>{O.value.max||(e&&(v.value=e,b.value=(b.value||v.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(ae.value=t),b.value&&b.value.isBefore(y.value)&&(y.value=b.value))},ve=()=>{g.value=fb((0,l.SU)(p),{lang:(0,l.SU)(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],v.value=g.value.add(1,"month"),t("pick",null)},ye=e=>(0,c.kJ)(e)?e.map((e=>e.format(a))):e.format(a),be=e=>(0,c.kJ)(e)?e.map((e=>Ra(e,a).locale(f.value))):Ra(e,a).locale(f.value);function we(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,o=(null==e?void 0:e.month())||0,r=t.year(),i=t.month();v.value=n===r&&o===i?t.add(1,xw):t}else v.value=g.value.add(1,xw),t&&(v.value=v.value.hour(t.hour()).minute(t.minute()).second(t.second()))}return t("set-picker-option",["isValidValue",pb]),t("set-picker-option",["parseUserInput",be]),t("set-picker-option",["formatToString",ye]),t("set-picker-option",["handleClear",ve]),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(_).b(),(0,l.SU)(x).b(),{"has-sidebar":e.$slots.sidebar||(0,l.SU)(L),"has-time":(0,l.SU)(ne)}])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(_).e("body-wrapper"))},[(0,s.WI)(e.$slots,"sidebar",{class:(0,c.C_)((0,l.SU)(_).e("sidebar"))}),(0,l.SU)(L)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(_).e("sidebar"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(m),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,type:"button",class:(0,c.C_)((0,l.SU)(_).e("shortcut")),onClick:t=>(0,l.SU)(k)(e)},(0,c.zw)(e.text),11,vw)))),128))],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(_).e("body"))},[(0,l.SU)(ne)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(x).e("time-header"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(x).e("editors-wrap"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(x).e("time-picker-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{size:"small",disabled:(0,l.SU)(w).selecting,placeholder:(0,l.SU)(T)("el.datepicker.startDate"),class:(0,c.C_)((0,l.SU)(x).e("editor")),"model-value":(0,l.SU)(H),"validate-event":!1,onInput:t[0]||(t[0]=e=>ce(e,"min")),onChange:t[1]||(t[1]=e=>ue(e,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(x).e("time-picker-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{size:"small",class:(0,c.C_)((0,l.SU)(x).e("editor")),disabled:(0,l.SU)(w).selecting,placeholder:(0,l.SU)(T)("el.datepicker.startTime"),"model-value":(0,l.SU)(B),"validate-event":!1,onFocus:t[2]||(t[2]=e=>ie.value=!0),onInput:t[3]||(t[3]=e=>de(e,"min")),onChange:t[4]||(t[4]=e=>pe(e,"min"))},null,8,["class","disabled","placeholder","model-value"]),(0,s.Wm)((0,l.SU)(aw),{visible:ie.value,format:(0,l.SU)(V),"datetime-role":"start","time-arrow-control":(0,l.SU)(d),"parsed-value":g.value,onPick:fe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[(0,l.SU)(Fg),se]])],2),(0,s._)("span",null,[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})]),(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(x).e("editors-wrap"),"is-right"])},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(x).e("time-picker-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{size:"small",class:(0,c.C_)((0,l.SU)(x).e("editor")),disabled:(0,l.SU)(w).selecting,placeholder:(0,l.SU)(T)("el.datepicker.endDate"),"model-value":(0,l.SU)(F),readonly:!(0,l.SU)(y),"validate-event":!1,onInput:t[5]||(t[5]=e=>ce(e,"max")),onChange:t[6]||(t[6]=e=>ue(e,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(x).e("time-picker-wrap"))},[(0,s.Wm)((0,l.SU)(me.EZ),{size:"small",class:(0,c.C_)((0,l.SU)(x).e("editor")),disabled:(0,l.SU)(w).selecting,placeholder:(0,l.SU)(T)("el.datepicker.endTime"),"model-value":(0,l.SU)(U),readonly:!(0,l.SU)(y),"validate-event":!1,onFocus:t[7]||(t[7]=e=>(0,l.SU)(y)&&(ae.value=!0)),onInput:t[8]||(t[8]=e=>de(e,"max")),onChange:t[9]||(t[9]=e=>pe(e,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),(0,s.Wm)((0,l.SU)(aw),{"datetime-role":"end",visible:ae.value,format:(0,l.SU)(V),"time-arrow-control":(0,l.SU)(d),"parsed-value":v.value,onPick:ge},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[(0,l.SU)(Fg),le]])],2)],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)([[(0,l.SU)(_).e("content"),(0,l.SU)(x).e("content")],"is-left"])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(x).e("header"))},[(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(_).e("icon-btn"),"d-arrow-left"]),onClick:W},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowLeft))])),_:1})],2),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(_).e("icon-btn"),"arrow-left"]),onClick:Z},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1})],2),e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",disabled:!(0,l.SU)(ee),class:(0,c.C_)([[(0,l.SU)(_).e("icon-btn"),{"is-disabled":!(0,l.SU)(ee)}],"d-arrow-right"]),onClick:G},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowRight))])),_:1})],10,yw)):(0,s.kq)("v-if",!0),e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",disabled:!(0,l.SU)(Q),class:(0,c.C_)([[(0,l.SU)(_).e("icon-btn"),{"is-disabled":!(0,l.SU)(Q)}],"arrow-right"]),onClick:K},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})],10,bw)):(0,s.kq)("v-if",!0),(0,s._)("div",null,(0,c.zw)((0,l.SU)(D)),1)],2),(0,s.Wm)(Sb,{"selection-mode":"range",date:g.value,"min-date":(0,l.SU)(y),"max-date":(0,l.SU)(b),"range-state":(0,l.SU)(w),"disabled-date":(0,l.SU)(r),"cell-class-name":(0,l.SU)(i),onChangerange:(0,l.SU)(C),onPick:re,onSelect:(0,l.SU)(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),(0,s._)("div",{class:(0,c.C_)([[(0,l.SU)(_).e("content"),(0,l.SU)(x).e("content")],"is-right"])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(x).e("header"))},[e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",disabled:!(0,l.SU)(ee),class:(0,c.C_)([[(0,l.SU)(_).e("icon-btn"),{"is-disabled":!(0,l.SU)(ee)}],"d-arrow-left"]),onClick:Y},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowLeft))])),_:1})],10,ww)):(0,s.kq)("v-if",!0),e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:1,type:"button",disabled:!(0,l.SU)(Q),class:(0,c.C_)([[(0,l.SU)(_).e("icon-btn"),{"is-disabled":!(0,l.SU)(Q)}],"arrow-left"]),onClick:J},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1})],10,_w)):(0,s.kq)("v-if",!0),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(_).e("icon-btn"),"d-arrow-right"]),onClick:$},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowRight))])),_:1})],2),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(_).e("icon-btn"),"arrow-right"]),onClick:q},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})],2),(0,s._)("div",null,(0,c.zw)((0,l.SU)(A)),1)],2),(0,s.Wm)(Sb,{"selection-mode":"range",date:v.value,"min-date":(0,l.SU)(y),"max-date":(0,l.SU)(b),"range-state":(0,l.SU)(w),"disabled-date":(0,l.SU)(r),"cell-class-name":(0,l.SU)(i),onChangerange:(0,l.SU)(C),onPick:re,onSelect:(0,l.SU)(E)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),(0,l.SU)(ne)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(_).e("footer"))},[(0,l.SU)(h)?((0,s.wg)(),(0,s.j4)((0,l.SU)(Da),{key:0,text:"",size:"small",class:(0,c.C_)((0,l.SU)(_).e("link-btn")),onClick:ve},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(T)("el.datepicker.clear")),1)])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s.Wm)((0,l.SU)(Da),{plain:"",size:"small",class:(0,c.C_)((0,l.SU)(_).e("link-btn")),disabled:(0,l.SU)(te),onClick:t[10]||(t[10]=e=>(0,l.SU)(S)(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(T)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2)):(0,s.kq)("v-if",!0)],2))}});var Sw=(0,g.Z)(Cw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const kw=(0,d.o8)({...ub}),Ew=["pick","set-picker-option"],Tw=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:o}=(0,Ga.bU)(),r=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},i=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{t.value=t.value.add(1,"year")},l=()=>{n.value=n.value.subtract(1,"year")},c=(0,s.Fl)((()=>`${t.value.year()} ${o("el.datepicker.year")}`)),u=(0,s.Fl)((()=>`${n.value.year()} ${o("el.datepicker.year")}`)),d=(0,s.Fl)((()=>t.value.year())),h=(0,s.Fl)((()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year()));return{leftPrevYear:r,rightNextYear:i,leftNextYear:a,rightPrevYear:l,leftLabel:c,rightLabel:u,leftYear:d,rightYear:h}},Mw=["onClick"],Ow=["disabled"],Dw=["disabled"],Aw="year",Rw=(0,s.aZ)({name:"DatePickerMonthRange"}),Pw=(0,s.aZ)({...Rw,props:kw,emits:Ew,setup(e,{emit:t}){const n=e,{lang:o}=(0,Ga.bU)(),r=(0,s.f3)("EP_PICKER_BASE"),{shortcuts:i,disabledDate:a,format:u}=r.props,d=(0,l.Vh)(r.props,"defaultValue"),h=(0,l.iH)(Ra().locale(o.value)),m=(0,l.iH)(Ra().locale(o.value).add(1,Aw)),{minDate:p,maxDate:f,rangeState:g,ppNs:v,drpNs:y,handleChangeRange:b,handleRangeConfirm:w,handleShortcutClick:_,onSelect:x}=gw(n,{defaultValue:d,leftDate:h,rightDate:m,unit:Aw,onParsedValueChanged:N}),C=(0,s.Fl)((()=>!!i.length)),{leftPrevYear:S,rightNextYear:k,leftNextYear:E,rightPrevYear:T,leftLabel:M,rightLabel:O,leftYear:D,rightYear:A}=Tw({unlinkPanels:(0,l.Vh)(n,"unlinkPanels"),leftDate:h,rightDate:m}),R=(0,s.Fl)((()=>n.unlinkPanels&&A.value>D.value+1)),I=(e,t=!0)=>{const n=e.minDate,o=e.maxDate;f.value===o&&p.value===n||(f.value=o,p.value=n,t&&w())},z=e=>e.map((e=>e.format(u)));function N(e,t){if(n.unlinkPanels&&t){const n=(null==e?void 0:e.year())||0,o=t.year();m.value=n===o?t.add(1,Aw):t}else m.value=h.value.add(1,Aw)}return t("set-picker-option",["formatToString",z]),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(v).b(),(0,l.SU)(y).b(),{"has-sidebar":Boolean(e.$slots.sidebar)||(0,l.SU)(C)}])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(v).e("body-wrapper"))},[(0,s.WI)(e.$slots,"sidebar",{class:(0,c.C_)((0,l.SU)(v).e("sidebar"))}),(0,l.SU)(C)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(v).e("sidebar"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(i),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,type:"button",class:(0,c.C_)((0,l.SU)(v).e("shortcut")),onClick:t=>(0,l.SU)(_)(e)},(0,c.zw)(e.text),11,Mw)))),128))],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(v).e("body"))},[(0,s._)("div",{class:(0,c.C_)([[(0,l.SU)(v).e("content"),(0,l.SU)(y).e("content")],"is-left"])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(y).e("header"))},[(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(v).e("icon-btn"),"d-arrow-left"]),onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(S)&&(0,l.SU)(S)(...e))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowLeft))])),_:1})],2),e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",disabled:!(0,l.SU)(R),class:(0,c.C_)([[(0,l.SU)(v).e("icon-btn"),{[(0,l.SU)(v).is("disabled")]:!(0,l.SU)(R)}],"d-arrow-right"]),onClick:t[1]||(t[1]=(...e)=>(0,l.SU)(E)&&(0,l.SU)(E)(...e))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowRight))])),_:1})],10,Ow)):(0,s.kq)("v-if",!0),(0,s._)("div",null,(0,c.zw)((0,l.SU)(M)),1)],2),(0,s.Wm)(Db,{"selection-mode":"range",date:h.value,"min-date":(0,l.SU)(p),"max-date":(0,l.SU)(f),"range-state":(0,l.SU)(g),"disabled-date":(0,l.SU)(a),onChangerange:(0,l.SU)(b),onPick:I,onSelect:(0,l.SU)(x)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),(0,s._)("div",{class:(0,c.C_)([[(0,l.SU)(v).e("content"),(0,l.SU)(y).e("content")],"is-right"])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(y).e("header"))},[e.unlinkPanels?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",disabled:!(0,l.SU)(R),class:(0,c.C_)([[(0,l.SU)(v).e("icon-btn"),{"is-disabled":!(0,l.SU)(R)}],"d-arrow-left"]),onClick:t[2]||(t[2]=(...e)=>(0,l.SU)(T)&&(0,l.SU)(T)(...e))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowLeft))])),_:1})],10,Dw)):(0,s.kq)("v-if",!0),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(v).e("icon-btn"),"d-arrow-right"]),onClick:t[3]||(t[3]=(...e)=>(0,l.SU)(k)&&(0,l.SU)(k)(...e))},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.DArrowRight))])),_:1})],2),(0,s._)("div",null,(0,c.zw)((0,l.SU)(O)),1)],2),(0,s.Wm)(Db,{"selection-mode":"range",date:m.value,"min-date":(0,l.SU)(p),"max-date":(0,l.SU)(f),"range-state":(0,l.SU)(g),"disabled-date":(0,l.SU)(a),onChangerange:(0,l.SU)(b),onPick:I,onSelect:(0,l.SU)(x)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Iw=(0,g.Z)(Pw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const zw=function(e){switch(e){case"daterange":case"datetimerange":return Sw;case"monthrange":return Iw;default:return mw}},Nw=["id","name","placeholder","value","disabled","readonly"],Lw=["id","name","placeholder","value","disabled","readonly"],Hw=(0,s.aZ)({name:"Picker"}),Fw=(0,s.aZ)({...Hw,props:ib,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const o=e,{lang:r}=(0,Ga.bU)(),i=(0,v.s3)("date"),a=(0,v.s3)("input"),d=(0,v.s3)("range"),{form:h,formItem:m}=(0,Hi.A)(),p=(0,s.f3)("ElPopperOptions",{}),f=(0,l.iH)(),g=(0,l.iH)(),y=(0,l.iH)(!1),w=(0,l.iH)(!1),_=(0,l.iH)(null);let x=!1,C=!1;(0,s.YP)(y,(e=>{e?(0,s.Y3)((()=>{e&&(_.value=o.modelValue)})):(se.value=null,(0,s.Y3)((()=>{S(o.modelValue)})))}));const S=(e,t)=>{!t&&Ha(e,_.value)||(n("change",e),o.validateEvent&&(null==m||m.validate("change").catch((e=>(0,b.N)(e)))))},k=e=>{if(!Ha(o.modelValue,e)){let t;(0,c.kJ)(e)?t=e.map((e=>Ba(e,o.valueFormat,r.value))):e&&(t=Ba(e,o.valueFormat,r.value)),n("update:modelValue",e?t:e,r.value)}},E=e=>{n("keydown",e)},T=(0,s.Fl)((()=>{if(g.value){const e=oe.value?g.value:g.value.$el;return Array.from(e.querySelectorAll("input"))}return[]})),M=(e,t,n)=>{const o=T.value;o.length&&(n&&"min"!==n?"max"===n&&(o[1].setSelectionRange(e,t),o[1].focus()):(o[0].setSelectionRange(e,t),o[0].focus()))},O=()=>{F(!0,!0),(0,s.Y3)((()=>{C=!1}))},D=(e="",t=!1)=>{let n;t||(C=!0),y.value=t,n=(0,c.kJ)(e)?e.map((e=>e.toDate())):e?e.toDate():e,se.value=null,k(n)},A=()=>{w.value=!0},I=()=>{n("visible-change",!0)},z=e=>{(null==e?void 0:e.key)===no.EVENT_CODE.esc&&F(!0,!0)},N=()=>{w.value=!1,y.value=!1,C=!1,n("visible-change",!1)},L=()=>{y.value=!0},H=()=>{y.value=!1},F=(e=!0,t=!1)=>{C=t;const[n,o]=(0,l.SU)(T);let r=n;!e&&oe.value&&(r=o),r&&r.focus()},B=e=>{o.readonly||j.value||y.value||C||(y.value=!0,n("focus",e))};let U;const V=e=>{const t=async()=>{setTimeout((()=>{var r;U===t&&((null==(r=f.value)?void 0:r.isFocusInsideContent())&&!x||0!==T.value.filter((e=>e.contains(document.activeElement))).length||(le(),y.value=!1,n("blur",e),o.validateEvent&&(null==m||m.validate("blur").catch((e=>(0,b.N)(e))))),x=!1)}),0)};U=t,t()},j=(0,s.Fl)((()=>o.disabled||(null==h?void 0:h.disabled))),W=(0,s.Fl)((()=>{let e;if(X.value?we.value.getDefaultValue&&(e=we.value.getDefaultValue()):e=(0,c.kJ)(o.modelValue)?o.modelValue.map((e=>Fa(e,o.valueFormat,r.value))):Fa(o.modelValue,o.valueFormat,r.value),we.value.getRangeAvailableTime){const t=we.value.getRangeAvailableTime(e);Jm(t,e)||(e=t,k((0,c.kJ)(e)?e.map((e=>e.toDate())):e.toDate()))}return(0,c.kJ)(e)&&e.some((e=>!e))&&(e=[]),e})),Z=(0,s.Fl)((()=>{if(!we.value.panelReady)return"";const e=ue(W.value);return(0,c.kJ)(se.value)?[se.value[0]||e&&e[0]||"",se.value[1]||e&&e[1]||""]:null!==se.value?se.value:!q.value&&X.value||!y.value&&X.value?"":e?G.value?e.join(", "):e:""})),$=(0,s.Fl)((()=>o.type.includes("time"))),q=(0,s.Fl)((()=>o.type.startsWith("time"))),G=(0,s.Fl)((()=>"dates"===o.type)),K=(0,s.Fl)((()=>o.prefixIcon||($.value?he.Clock:he.Calendar))),Y=(0,l.iH)(!1),J=e=>{o.readonly||j.value||Y.value&&(e.stopPropagation(),O(),k(null),S(null,!0),Y.value=!1,y.value=!1,we.value.handleClear&&we.value.handleClear())},X=(0,s.Fl)((()=>{const{modelValue:e}=o;return!e||(0,c.kJ)(e)&&!e.filter(Boolean).length})),Q=async e=>{var t;o.readonly||j.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||T.value.includes(document.activeElement))&&(y.value=!0)},ee=()=>{o.readonly||j.value||!X.value&&o.clearable&&(Y.value=!0)},te=()=>{Y.value=!1},ne=e=>{var t;o.readonly||j.value||("INPUT"!==(null==(t=e.touches[0].target)?void 0:t.tagName)||T.value.includes(document.activeElement))&&(y.value=!0)},oe=(0,s.Fl)((()=>o.type.includes("range"))),re=(0,Xr.Cd)(),ie=(0,s.Fl)((()=>{var e,t;return null==(t=null==(e=(0,l.SU)(f))?void 0:e.popperRef)?void 0:t.contentRef})),ae=(0,s.Fl)((()=>{var e;return(0,l.SU)(oe)?(0,l.SU)(g):null==(e=(0,l.SU)(g))?void 0:e.$el}));(0,u.i9H)(ae,(e=>{const t=(0,l.SU)(ie),n=(0,l.SU)(ae);t&&(e.target===t||e.composedPath().includes(t))||e.target===n||e.composedPath().includes(n)||(y.value=!1)}));const se=(0,l.iH)(null),le=()=>{if(se.value){const e=ce(Z.value);e&&de(e)&&(k((0,c.kJ)(e)?e.map((e=>e.toDate())):e.toDate()),se.value=null)}""===se.value&&(k(null),S(null),se.value=null)},ce=e=>e?we.value.parseUserInput(e):null,ue=e=>e?we.value.formatToString(e):null,de=e=>we.value.isValidValue(e),pe=async e=>{if(o.readonly||j.value)return;const{code:t}=e;if(E(e),t!==no.EVENT_CODE.esc)if(t===no.EVENT_CODE.down&&(we.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===y.value&&(y.value=!0,await(0,s.Y3)()),we.value.handleFocusPicker))we.value.handleFocusPicker();else{if(t!==no.EVENT_CODE.tab)return t===no.EVENT_CODE.enter||t===no.EVENT_CODE.numpadEnter?((null===se.value||""===se.value||de(ce(Z.value)))&&(le(),y.value=!1),void e.stopPropagation()):void(se.value?e.stopPropagation():we.value.handleKeydownInput&&we.value.handleKeydownInput(e));x=!0}else!0===y.value&&(y.value=!1,e.preventDefault(),e.stopPropagation())},fe=e=>{se.value=e,y.value||(y.value=!0)},ge=e=>{const t=e.target;se.value?se.value=[t.value,se.value[1]]:se.value=[t.value,null]},ve=e=>{const t=e.target;se.value?se.value=[se.value[0],t.value]:se.value=[null,t.value]},ye=()=>{var e;const t=se.value,n=ce(t&&t[0]),o=(0,l.SU)(W);if(n&&n.isValid()){se.value=[ue(n),(null==(e=Z.value)?void 0:e[1])||null];const t=[n,o&&(o[1]||null)];de(t)&&(k(t),se.value=null)}},be=()=>{var e;const t=(0,l.SU)(se),n=ce(t&&t[1]),o=(0,l.SU)(W);if(n&&n.isValid()){se.value=[(null==(e=(0,l.SU)(Z))?void 0:e[0])||null,ue(n)];const t=[o&&o[0],n];de(t)&&(k(t),se.value=null)}},we=(0,l.iH)({}),_e=e=>{we.value[e[0]]=e[1],we.value.panelReady=!0},xe=e=>{n("calendar-change",e)},Ce=(e,t,o)=>{n("panel-change",e,t,o)};return(0,s.JJ)("EP_PICKER_BASE",{props:o}),t({focus:F,handleFocusInput:B,handleBlurInput:V,handleOpen:L,handleClose:H,onPick:D}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),(0,s.dG)({ref_key:"refPopper",ref:f,visible:y.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${(0,l.SU)(i).namespace.value}-zoom-in-top`,"popper-class":[`${(0,l.SU)(i).namespace.value}-picker__popper`,e.popperClass],"popper-options":(0,l.SU)(p),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:A,onShow:I,onHide:N}),{default:(0,s.w5)((()=>[(0,l.SU)(oe)?((0,s.wg)(),(0,s.iD)("div",{key:1,ref_key:"inputRef",ref:g,class:(0,c.C_)([(0,l.SU)(i).b("editor"),(0,l.SU)(i).bm("editor",e.type),(0,l.SU)(a).e("wrapper"),(0,l.SU)(i).is("disabled",(0,l.SU)(j)),(0,l.SU)(i).is("active",y.value),(0,l.SU)(d).b("editor"),(0,l.SU)(re)?(0,l.SU)(d).bm("editor",(0,l.SU)(re)):"",e.$attrs.class]),style:(0,c.j5)(e.$attrs.style),onClick:B,onMouseenter:ee,onMouseleave:te,onTouchstart:ne,onKeydown:pe},[(0,l.SU)(K)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)([(0,l.SU)(a).e("icon"),(0,l.SU)(d).e("icon")]),onMousedown:(0,R.iM)(Q,["prevent"]),onTouchstart:ne},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(K))))])),_:1},8,["class","onMousedown"])):(0,s.kq)("v-if",!0),(0,s._)("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:(0,l.SU)(Z)&&(0,l.SU)(Z)[0],disabled:(0,l.SU)(j),readonly:!e.editable||e.readonly,class:(0,c.C_)((0,l.SU)(d).b("input")),onMousedown:Q,onInput:ge,onChange:ye,onFocus:B,onBlur:V},null,42,Nw),(0,s.WI)(e.$slots,"range-separator",{},(()=>[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(d).b("separator"))},(0,c.zw)(e.rangeSeparator),3)])),(0,s._)("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:(0,l.SU)(Z)&&(0,l.SU)(Z)[1],disabled:(0,l.SU)(j),readonly:!e.editable||e.readonly,class:(0,c.C_)((0,l.SU)(d).b("input")),onMousedown:Q,onFocus:B,onBlur:V,onInput:ve,onChange:be},null,42,Lw),e.clearIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,class:(0,c.C_)([(0,l.SU)(a).e("icon"),(0,l.SU)(d).e("close-icon"),{[(0,l.SU)(d).e("close-icon--hidden")]:!Y.value}]),onClick:J},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.clearIcon)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)],38)):((0,s.wg)(),(0,s.j4)((0,l.SU)(me.EZ),{key:0,id:e.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":(0,l.SU)(Z),name:e.name,size:(0,l.SU)(re),disabled:(0,l.SU)(j),placeholder:e.placeholder,class:(0,c.C_)([(0,l.SU)(i).b("editor"),(0,l.SU)(i).bm("editor",e.type),e.$attrs.class]),style:(0,c.j5)(e.$attrs.style),readonly:!e.editable||e.readonly||(0,l.SU)(G)||"week"===e.type,label:e.label,tabindex:e.tabindex,"validate-event":!1,onInput:fe,onFocus:B,onBlur:V,onKeydown:pe,onChange:le,onMousedown:Q,onMouseenter:ee,onMouseleave:te,onTouchstart:ne,onClick:t[0]||(t[0]=(0,R.iM)((()=>{}),["stop"]))},{prefix:(0,s.w5)((()=>[(0,l.SU)(K)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(a).e("icon")),onMousedown:(0,R.iM)(Q,["prevent"]),onTouchstart:ne},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(K))))])),_:1},8,["class","onMousedown"])):(0,s.kq)("v-if",!0)])),suffix:(0,s.w5)((()=>[Y.value&&e.clearIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)(`${(0,l.SU)(a).e("icon")} clear-icon`),onClick:(0,R.iM)(J,["stop"])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))])),content:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{visible:y.value,actualVisible:w.value,parsedValue:(0,l.SU)(W),format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:D,onSelectRange:M,onSetPickerOption:_e,onCalendarChange:xe,onPanelChange:Ce,onKeydown:z,onMousedown:t[1]||(t[1]=(0,R.iM)((()=>{}),["stop"]))})])),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Bw=(0,g.Z)(Fw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);Ra.extend(qa),Ra.extend(Yy),Ra.extend(Ky),Ra.extend(Jy),Ra.extend(Xy),Ra.extend(Qy),Ra.extend(eb),Ra.extend(tb);var Uw=(0,s.aZ)({name:"ElDatePicker",install:null,props:ab,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:o}){const r=(0,v.s3)("picker-panel");(0,s.JJ)("ElPopperOptions",(0,l.qj)((0,l.Vh)(e,"popperOptions"))),(0,s.JJ)(nb,{slots:o,pickerNs:r});const i=(0,l.iH)(),a={focus:(e=!0)=>{var t;null==(t=i.value)||t.focus(e)},handleOpen:()=>{var e;null==(e=i.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=i.value)||e.handleClose()}};t(a);const c=e=>{n("update:modelValue",e)};return()=>{var t;const n=null!=(t=e.format)?t:Yb[e.type]||Kb,r=zw(e.type);return(0,s.Wm)(Bw,(0,s.dG)(e,{format:n,type:e.type,ref:i,"onUpdate:modelValue":c}),{default:e=>(0,s.Wm)(r,e,null),"range-separator":o["range-separator"]})}}});const Vw=Uw;Vw.install=e=>{e.component(Vw.name,Vw)};const jw=Vw,Ww=Symbol("elDescriptions");var Zw=(0,s.aZ)({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){const e=(0,s.f3)(Ww,{});return{descriptions:e}},render(){var e,t,n,o,r,i;const a=Ds(this.cell),{border:l,direction:c}=this.descriptions,u="vertical"===c,d=(null==(n=null==(t=null==(e=this.cell)?void 0:e.children)?void 0:t.label)?void 0:n.call(t))||a.label,h=null==(i=null==(r=null==(o=this.cell)?void 0:o.children)?void 0:r.default)?void 0:i.call(r),m=a.span,p=a.align?`is-${a.align}`:"",f=a.labelAlign?`is-${a.labelAlign}`:p,g=a.className,b=a.labelClassName,w={width:(0,y.Nn)(a.width),minWidth:(0,y.Nn)(a.minWidth)},_=(0,v.s3)("descriptions");switch(this.type){case"label":return(0,s.h)(this.tag,{style:w,class:[_.e("cell"),_.e("label"),_.is("bordered-label",l),_.is("vertical-label",u),f,b],colSpan:u?m:1},d);case"content":return(0,s.h)(this.tag,{style:w,class:[_.e("cell"),_.e("content"),_.is("bordered-content",l),_.is("vertical-content",u),p,g],colSpan:u?m:2*m-1},h);default:return(0,s.h)("td",{style:w,class:[_.e("cell"),p],colSpan:m},[(0,_o.Z)(d)?void 0:(0,s.h)("span",{class:[_.e("label"),b]},d),(0,s.h)("span",{class:[_.e("content"),g]},h)])}}});const $w=(0,d.o8)({row:{type:Array,default:()=>[]}}),qw={key:1},Gw=(0,s.aZ)({name:"ElDescriptionsRow"}),Kw=(0,s.aZ)({...Gw,props:$w,setup(e){const t=(0,s.f3)(Ww,{});return(e,n)=>"vertical"===(0,l.SU)(t).direction?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row,((e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Zw),{key:`tr1-${t}`,cell:e,tag:"th",type:"label"},null,8,["cell"])))),128))]),(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row,((e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Zw),{key:`tr2-${t}`,cell:e,tag:"td",type:"content"},null,8,["cell"])))),128))])],64)):((0,s.wg)(),(0,s.iD)("tr",qw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row,((e,n)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:`tr3-${n}`},[(0,l.SU)(t).border?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Wm)((0,l.SU)(Zw),{cell:e,tag:"td",type:"label"},null,8,["cell"]),(0,s.Wm)((0,l.SU)(Zw),{cell:e,tag:"td",type:"content"},null,8,["cell"])],64)):((0,s.wg)(),(0,s.j4)((0,l.SU)(Zw),{key:1,cell:e,tag:"td",type:"both"},null,8,["cell"]))],64)))),128))]))}});var Yw=(0,g.Z)(Kw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Jw=(0,d.o8)({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Bi.Pp,title:{type:String,default:""},extra:{type:String,default:""}}),Xw=(0,s.aZ)({name:"ElDescriptions"}),Qw=(0,s.aZ)({...Xw,props:Jw,setup(e){const t=e,n=(0,v.s3)("descriptions"),o=(0,Xr.Cd)(),r=(0,s.Rr)();(0,s.JJ)(Ww,t);const i=(0,s.Fl)((()=>[n.b(),n.m(o.value)])),a=(e,t,n,o=!1)=>(e.props||(e.props={}),t>n&&(e.props.span=n),o&&(e.props.span=t),e),u=()=>{var e;const n=Rs(null==(e=r.default)?void 0:e.call(r)).filter((e=>{var t;return"ElDescriptionsItem"===(null==(t=null==e?void 0:e.type)?void 0:t.name)})),o=[];let i=[],s=t.column,l=0;return n.forEach(((e,r)=>{var c;const u=(null==(c=e.props)?void 0:c.span)||1;if(r<n.length-1&&(l+=u>s?s:u),r===n.length-1){const n=t.column-l%t.column;return i.push(a(e,n,s,!0)),void o.push(i)}u<s?(s-=u,i.push(e)):(i.push(a(e,u,s)),o.push(i),s=t.column,i=[])})),o};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(i))},[e.title||e.extra||e.$slots.title||e.$slots.extra?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(n).e("header"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("title"))},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title),1)]))],2),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("extra"))},[(0,s.WI)(e.$slots,"extra",{},(()=>[(0,s.Uk)((0,c.zw)(e.extra),1)]))],2)],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("body"))},[(0,s._)("table",{class:(0,c.C_)([(0,l.SU)(n).e("table"),(0,l.SU)(n).is("bordered",e.border)])},[(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u(),((e,t)=>((0,s.wg)(),(0,s.j4)(Yw,{key:t,row:e},null,8,["row"])))),128))])],2)],2)],2))}});var e_=(0,g.Z)(Qw,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),t_=(0,s.aZ)({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const n_=(0,D.nz)(e_,{DescriptionsItem:t_}),o_=(0,D.dp)(t_),r_=e=>{if(!e)return{onClick:c.dG,onMousedown:c.dG,onMouseup:c.dG};let t=!1,n=!1;const o=o=>{t&&n&&e(o),t=n=!1},r=e=>{t=e.target===e.currentTarget},i=e=>{n=e.target===e.currentTarget};return{onClick:o,onMousedown:r,onMouseup:i}},i_=(0,d.o8)({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:(0,d.Cq)([String,Array,Object])},zIndex:{type:(0,d.Cq)([String,Number])}}),a_={click:e=>e instanceof MouseEvent},s_="overlay";var l_=(0,s.aZ)({name:"ElOverlay",props:i_,emits:a_,setup(e,{slots:t,emit:n}){const o=(0,v.s3)(s_),r=e=>{n("click",e)},{onClick:i,onMousedown:a,onMouseup:l}=r_(e.customMaskEvent?void 0:r);return()=>e.mask?(0,s.Wm)("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:l},[(0,s.WI)(t,"default")],Es.STYLE|Es.CLASS|Es.PROPS,["onClick","onMouseup","onMousedown"]):(0,s.h)("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[(0,s.WI)(t,"default")])}});const c_=l_,u_=Symbol("dialogInjectionKey"),d_=(0,d.o8)({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:z.AA},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),h_={close:()=>!0},m_=(...e)=>t=>{e.forEach((e=>{(0,c.mf)(e)?e(t):e.value=t}))},p_=(e,t,n)=>{let o={offsetX:0,offsetY:0};const r=t=>{const n=t.clientX,r=t.clientY,{offsetX:i,offsetY:a}=o,s=e.value.getBoundingClientRect(),l=s.left,c=s.top,u=s.width,d=s.height,h=document.documentElement.clientWidth,m=document.documentElement.clientHeight,p=-l+i,f=-c+a,g=h-l-u+i,v=m-c-d+a,b=t=>{const s=Math.min(Math.max(i+t.clientX-n,p),g),l=Math.min(Math.max(a+t.clientY-r,f),v);o={offsetX:s,offsetY:l},e.value.style.transform=`translate(${(0,y.Nn)(s)}, ${(0,y.Nn)(l)})`},w=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",r)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",r)};(0,s.bv)((()=>{(0,s.m0)((()=>{n.value?i():a()}))})),(0,s.Jd)((()=>{a()}))},f_=["aria-label"],g_=["id"],v_=(0,s.aZ)({name:"ElDialogContent"}),y_=(0,s.aZ)({...v_,props:d_,emits:h_,setup(e){const t=e,{t:n}=(0,Ga.bU)(),{Close:o}=z.CloseComponents,{dialogRef:r,headerRef:i,bodyId:a,ns:u,style:d}=(0,s.f3)(u_),{focusTrapRef:h}=(0,s.f3)(lr),m=m_(h,r),p=(0,s.Fl)((()=>t.draggable));return p_(r,i,p),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref:(0,l.SU)(m),class:(0,c.C_)([(0,l.SU)(u).b(),(0,l.SU)(u).is("fullscreen",e.fullscreen),(0,l.SU)(u).is("draggable",(0,l.SU)(p)),(0,l.SU)(u).is("align-center",e.alignCenter),{[(0,l.SU)(u).m("center")]:e.center},e.customClass]),style:(0,c.j5)((0,l.SU)(d)),tabindex:"-1"},[(0,s._)("header",{ref_key:"headerRef",ref:i,class:(0,c.C_)((0,l.SU)(u).e("header"))},[(0,s.WI)(e.$slots,"header",{},(()=>[(0,s._)("span",{role:"heading",class:(0,c.C_)((0,l.SU)(u).e("title"))},(0,c.zw)(e.title),3)])),e.showClose?((0,s.wg)(),(0,s.iD)("button",{key:0,"aria-label":(0,l.SU)(n)("el.dialog.close"),class:(0,c.C_)((0,l.SU)(u).e("headerbtn")),type:"button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(u).e("close"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.closeIcon||(0,l.SU)(o))))])),_:1},8,["class"])],10,f_)):(0,s.kq)("v-if",!0)],2),(0,s._)("div",{id:(0,l.SU)(a),class:(0,c.C_)((0,l.SU)(u).e("body"))},[(0,s.WI)(e.$slots,"default")],10,g_),e.$slots.footer?((0,s.wg)(),(0,s.iD)("footer",{key:0,class:(0,c.C_)((0,l.SU)(u).e("footer"))},[(0,s.WI)(e.$slots,"footer")],2)):(0,s.kq)("v-if",!0)],6))}});var b_=(0,g.Z)(y_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const w_=(0,d.o8)({...d_,appendToBody:{type:Boolean,default:!1},beforeClose:{type:(0,d.Cq)(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),__={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[m.f_]:e=>(0,h.jn)(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},x_=(e,t={})=>{(0,l.dq)(e)||(0,b._)("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||(0,v.s3)("popup"),o=(0,l.Fl)((()=>n.bm("parent","hidden")));if(!w.C5||(0,y.pv)(document.body,o.value))return;let r=0,i=!1,a="0";const c=()=>{setTimeout((()=>{(0,y.IV)(null==document?void 0:document.body,o.value),i&&document&&(document.body.style.width=a)}),200)};(0,s.YP)(e,(e=>{if(!e)return void c();i=!(0,y.pv)(document.body,o.value),i&&(a=document.body.style.width),r=S(n.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,s=(0,y.C2)(document.body,"overflowY");r>0&&(t||"scroll"===s)&&i&&(document.body.style.width=`calc(100% - ${r}px)`),(0,y.cn)(document.body,o.value)})),(0,l.EB)((()=>c()))},C_=(e,t)=>{const n=(0,s.FN)(),o=n.emit,{nextZIndex:r}=(0,Xo.Cn)();let a="";const c=(0,zo.Me)(),u=(0,zo.Me)(),d=(0,l.iH)(!1),h=(0,l.iH)(!1),p=(0,l.iH)(!1),f=(0,l.iH)(e.zIndex||r());let g,b;const _=(0,i.WS)("namespace",v.tL),x=(0,s.Fl)((()=>{const t={},n=`--${_.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=(0,y.Nn)(e.width))),t})),C=(0,s.Fl)((()=>e.alignCenter?{display:"flex"}:{}));function S(){o("opened")}function k(){o("closed"),o(m.f_,!1),e.destroyOnClose&&(p.value=!1)}function E(){o("close")}function T(){null==b||b(),null==g||g(),e.openDelay&&e.openDelay>0?({stop:g}=(0,w.eM)((()=>A()),e.openDelay)):A()}function M(){null==g||g(),null==b||b(),e.closeDelay&&e.closeDelay>0?({stop:b}=(0,w.eM)((()=>R()),e.closeDelay)):R()}function O(){function t(e){e||(h.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(t):M()}function D(){e.closeOnClickModal&&O()}function A(){w.C5&&(d.value=!0)}function R(){d.value=!1}function P(){o("openAutoFocus")}function I(){o("closeAutoFocus")}function z(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()}function N(){e.closeOnPressEscape&&O()}return e.lockScroll&&x_(d),(0,s.YP)((()=>e.modelValue),(n=>{n?(h.value=!1,T(),p.value=!0,f.value=e.zIndex?f.value++:r(),(0,s.Y3)((()=>{o("open"),t.value&&(t.value.scrollTop=0)}))):d.value&&M()})),(0,s.YP)((()=>e.fullscreen),(e=>{t.value&&(e?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)})),(0,s.bv)((()=>{e.modelValue&&(d.value=!0,p.value=!0,T())})),{afterEnter:S,afterLeave:k,beforeLeave:E,handleClose:O,onModalClick:D,close:M,doClose:R,onOpenAutoFocus:P,onCloseAutoFocus:I,onCloseRequested:N,onFocusoutPrevented:z,titleId:c,bodyId:u,closed:h,style:x,overlayDialogStyle:C,rendered:p,visible:d,zIndex:f}},S_=["aria-label","aria-labelledby","aria-describedby"],k_=(0,s.aZ)({name:"ElDialog",inheritAttrs:!1}),E_=(0,s.aZ)({...k_,props:w_,emits:__,setup(e,{expose:t}){const n=e,o=(0,s.Rr)();Li({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},(0,s.Fl)((()=>!!o.title))),Li({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},(0,s.Fl)((()=>!!n.customClass)));const r=(0,v.s3)("dialog"),i=(0,l.iH)(),a=(0,l.iH)(),u=(0,l.iH)(),{visible:d,titleId:h,bodyId:m,style:p,overlayDialogStyle:f,rendered:g,zIndex:y,afterEnter:b,afterLeave:w,beforeLeave:_,handleClose:x,onModalClick:C,onOpenAutoFocus:S,onCloseAutoFocus:k,onCloseRequested:E,onFocusoutPrevented:T}=C_(n,i);(0,s.JJ)(u_,{dialogRef:i,headerRef:a,bodyId:m,ns:r,rendered:g,style:p});const M=r_(C),O=(0,s.Fl)((()=>n.draggable&&!n.fullscreen));return t({visible:d,dialogContentRef:u}),(e,t)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body",disabled:!e.appendToBody},[(0,s.Wm)(R.uT,{name:"dialog-fade",onAfterEnter:(0,l.SU)(b),onAfterLeave:(0,l.SU)(w),onBeforeLeave:(0,l.SU)(_),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)((0,l.SU)(c_),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":(0,l.SU)(y)},{default:(0,s.w5)((()=>[(0,s._)("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:(0,l.SU)(h),"aria-describedby":(0,l.SU)(m),class:(0,c.C_)(`${(0,l.SU)(r).namespace.value}-overlay-dialog`),style:(0,c.j5)((0,l.SU)(f)),onClick:t[0]||(t[0]=(...e)=>(0,l.SU)(M).onClick&&(0,l.SU)(M).onClick(...e)),onMousedown:t[1]||(t[1]=(...e)=>(0,l.SU)(M).onMousedown&&(0,l.SU)(M).onMousedown(...e)),onMouseup:t[2]||(t[2]=(...e)=>(0,l.SU)(M).onMouseup&&(0,l.SU)(M).onMouseup(...e))},[(0,s.Wm)((0,l.SU)(Pr),{loop:"",trapped:(0,l.SU)(d),"focus-start-el":"container",onFocusAfterTrapped:(0,l.SU)(S),onFocusAfterReleased:(0,l.SU)(k),onFocusoutPrevented:(0,l.SU)(T),onReleaseRequested:(0,l.SU)(E)},{default:(0,s.w5)((()=>[(0,l.SU)(g)?((0,s.wg)(),(0,s.j4)(b_,(0,s.dG)({key:0,ref_key:"dialogContentRef",ref:u},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:(0,l.SU)(O),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:(0,l.SU)(x)}),(0,s.Nv)({header:(0,s.w5)((()=>[e.$slots.title?(0,s.WI)(e.$slots,"title",{key:1}):(0,s.WI)(e.$slots,"header",{key:0,close:(0,l.SU)(x),titleId:(0,l.SU)(h),titleClass:(0,l.SU)(r).e("title")})])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):(0,s.kq)("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,S_)])),_:3},8,["mask","overlay-class","z-index"]),[[R.F8,(0,l.SU)(d)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var T_=(0,g.Z)(E_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const M_=(0,D.nz)(T_),O_=(0,d.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,d.Cq)(String),default:"solid"}}),D_=(0,s.aZ)({name:"ElDivider"}),A_=(0,s.aZ)({...D_,props:O_,setup(e){const t=e,n=(0,v.s3)("divider"),o=(0,s.Fl)((()=>n.cssVar({"border-style":t.borderStyle})));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(n).b(),(0,l.SU)(n).m(e.direction)]),style:(0,c.j5)((0,l.SU)(o)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)([(0,l.SU)(n).e("text"),(0,l.SU)(n).is(e.contentPosition)])},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0)],6))}});var R_=(0,g.Z)(A_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const P_=(0,D.nz)(R_),I_=(0,d.o8)({...w_,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),z_=__,N_=(0,s.aZ)({name:"ElDrawer",components:{ElOverlay:c_,ElFocusTrap:Pr,ElIcon:P.gn,Close:he.Close},inheritAttrs:!1,props:I_,emits:z_,setup(e,{slots:t}){Li({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},(0,s.Fl)((()=>!!t.title))),Li({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},(0,s.Fl)((()=>!!e.customClass)));const n=(0,l.iH)(),o=(0,l.iH)(),r=(0,v.s3)("drawer"),{t:i}=(0,Ga.bU)(),a=(0,s.Fl)((()=>"rtl"===e.direction||"ltr"===e.direction)),c=(0,s.Fl)((()=>(0,y.Nn)(e.size)));return{...C_(e,n),drawerRef:n,focusStartRef:o,isHorizontal:a,drawerSize:c,ns:r,t:i}}}),L_=["aria-label","aria-labelledby","aria-describedby"],H_=["id"],F_=["aria-label"],B_=["id"];function U_(e,t,n,o,r,i){const a=(0,s.up)("close"),l=(0,s.up)("el-icon"),u=(0,s.up)("el-focus-trap"),d=(0,s.up)("el-overlay");return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body",disabled:!e.appendToBody},[(0,s.Wm)(R.uT,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(d,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:(0,s.w5)((()=>[(0,s._)("div",(0,s.dG)({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=(0,R.iM)((()=>{}),["stop"]))}),[(0,s._)("span",{ref:"focusStartRef",class:(0,c.C_)(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?((0,s.wg)(),(0,s.iD)("header",{key:0,class:(0,c.C_)(e.ns.e("header"))},[e.$slots.title?(0,s.WI)(e.$slots,"title",{key:1},(()=>[(0,s.kq)(" DEPRECATED SLOT ")])):(0,s.WI)(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},(()=>[e.$slots.title?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,id:e.titleId,role:"heading",class:(0,c.C_)(e.ns.e("title"))},(0,c.zw)(e.title),11,H_))])),e.showClose?((0,s.wg)(),(0,s.iD)("button",{key:2,"aria-label":e.t("el.drawer.close"),class:(0,c.C_)(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[(0,s.Wm)(l,{class:(0,c.C_)(e.ns.e("close"))},{default:(0,s.w5)((()=>[(0,s.Wm)(a)])),_:1},8,["class"])],10,F_)):(0,s.kq)("v-if",!0)],2)):(0,s.kq)("v-if",!0),e.rendered?((0,s.wg)(),(0,s.iD)("div",{key:1,id:e.bodyId,class:(0,c.C_)(e.ns.e("body"))},[(0,s.WI)(e.$slots,"default")],10,B_)):(0,s.kq)("v-if",!0),e.$slots.footer?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,c.C_)(e.ns.e("footer"))},[(0,s.WI)(e.$slots,"footer")],2)):(0,s.kq)("v-if",!0)],16,L_)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[R.F8,e.visible]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var V_=(0,g.Z)(N_,[["render",U_],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const j_=(0,D.nz)(V_),W_=(0,s.aZ)({inheritAttrs:!1});function Z_(e,t,n,o,r,i){return(0,s.WI)(e.$slots,"default")}var $_=(0,g.Z)(W_,[["render",Z_],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const q_=(0,s.aZ)({name:"ElCollectionItem",inheritAttrs:!1});function G_(e,t,n,o,r,i){return(0,s.WI)(e.$slots,"default")}var K_=(0,g.Z)(q_,[["render",G_],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Y_="data-el-collection-item",J_=e=>{const t=`El${e}Collection`,n=`${t}Item`,o=Symbol(t),r=Symbol(n),i={...$_,name:t,setup(){const e=(0,l.iH)(null),t=new Map,n=()=>{const n=(0,l.SU)(e);if(!n)return[];const o=Array.from(n.querySelectorAll(`[${Y_}]`)),r=[...t.values()];return r.sort(((e,t)=>o.indexOf(e.ref)-o.indexOf(t.ref)))};(0,s.JJ)(o,{itemMap:t,getItems:n,collectionRef:e})}},a={...K_,name:n,setup(e,{attrs:t}){const n=(0,l.iH)(null),i=(0,s.f3)(o,void 0);(0,s.JJ)(r,{collectionItemRef:n}),(0,s.bv)((()=>{const e=(0,l.SU)(n);e&&i.itemMap.set(e,{ref:e,...t})})),(0,s.Jd)((()=>{const e=(0,l.SU)(n);i.itemMap.delete(e)}))}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:i,ElCollectionItem:a}},X_=(0,d.o8)({trigger:oo.trigger,effect:{...eo.effect,default:"light"},type:{type:(0,d.Cq)(String)},placement:{type:(0,d.Cq)(String),default:"bottom"},popperOptions:{type:(0,d.Cq)(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:(0,d.Cq)([Number,String]),default:0},maxHeight:{type:(0,d.Cq)([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:(0,d.Cq)(Object)},teleported:eo.teleported}),Q_=(0,d.o8)({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:z.AA}}),ex=(0,d.o8)({onKeydown:{type:(0,d.Cq)(Function)}}),tx=[no.EVENT_CODE.down,no.EVENT_CODE.pageDown,no.EVENT_CODE.home],nx=[no.EVENT_CODE.up,no.EVENT_CODE.pageUp,no.EVENT_CODE.end],ox=[...tx,...nx],{ElCollection:rx,ElCollectionItem:ix,COLLECTION_INJECTION_KEY:ax,COLLECTION_ITEM_INJECTION_KEY:sx}=J_("Dropdown"),lx=Symbol("elDropdown"),cx=(0,d.o8)({style:{type:(0,d.Cq)([String,Array,Object])},currentTabId:{type:(0,d.Cq)(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:(0,d.Cq)(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ux,ElCollectionItem:dx,COLLECTION_INJECTION_KEY:hx,COLLECTION_ITEM_INJECTION_KEY:mx}=J_("RovingFocusGroup"),px=Symbol("elRovingFocusGroup"),fx=Symbol("elRovingFocusGroupItem"),gx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},vx=(e,t)=>{if("rtl"!==t)return e;switch(e){case no.EVENT_CODE.right:return no.EVENT_CODE.left;case no.EVENT_CODE.left:return no.EVENT_CODE.right;default:return e}},yx=(e,t,n)=>{const o=vx(e.key,n);if(("vertical"!==t||![no.EVENT_CODE.left,no.EVENT_CODE.right].includes(o))&&("horizontal"!==t||![no.EVENT_CODE.up,no.EVENT_CODE.down].includes(o)))return gx[o]},bx=(e,t)=>e.map(((n,o)=>e[(o+t)%e.length])),wx=e=>{const{activeElement:t}=document;for(const n of e){if(n===t)return;if(n.focus(),t!==document.activeElement)return}},_x="currentTabIdChange",xx="rovingFocusGroup.entryFocus",Cx={bubbles:!1,cancelable:!0},Sx=(0,s.aZ)({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:cx,emits:[_x,"entryFocus"],setup(e,{emit:t}){var n;const o=(0,l.iH)(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),r=(0,l.iH)(!1),i=(0,l.iH)(!1),a=(0,l.iH)(null),{getItems:c}=(0,s.f3)(hx,void 0),d=(0,s.Fl)((()=>[{outline:"none"},e.style])),h=e=>{t(_x,e)},m=()=>{r.value=!0},p=bo((t=>{var n;null==(n=e.onMousedown)||n.call(e,t)}),(()=>{i.value=!0})),f=bo((t=>{var n;null==(n=e.onFocus)||n.call(e,t)}),(e=>{const t=!(0,l.SU)(i),{target:n,currentTarget:a}=e;if(n===a&&t&&!(0,l.SU)(r)){const e=new Event(xx,Cx);if(null==a||a.dispatchEvent(e),!e.defaultPrevented){const e=c().filter((e=>e.focusable)),t=e.find((e=>e.active)),n=e.find((e=>e.id===(0,l.SU)(o))),r=[t,n,...e].filter(Boolean),i=r.map((e=>e.ref));wx(i)}}i.value=!1})),g=bo((t=>{var n;null==(n=e.onBlur)||n.call(e,t)}),(()=>{r.value=!1})),v=(...e)=>{t("entryFocus",...e)};(0,s.JJ)(px,{currentTabbedId:(0,l.OT)(o),loop:(0,l.Vh)(e,"loop"),tabIndex:(0,s.Fl)((()=>(0,l.SU)(r)?-1:0)),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:d,orientation:(0,l.Vh)(e,"orientation"),dir:(0,l.Vh)(e,"dir"),onItemFocus:h,onItemShiftTab:m,onBlur:g,onFocus:f,onMousedown:p}),(0,s.YP)((()=>e.currentTabId),(e=>{o.value=null!=e?e:null})),(0,u.ORN)(a,xx,v)}});function kx(e,t,n,o,r,i){return(0,s.WI)(e.$slots,"default")}var Ex=(0,g.Z)(Sx,[["render",kx],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Tx=(0,s.aZ)({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ux,ElRovingFocusGroupImpl:Ex}});function Mx(e,t,n,o,r,i){const a=(0,s.up)("el-roving-focus-group-impl"),l=(0,s.up)("el-focus-group-collection");return(0,s.wg)(),(0,s.j4)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(a,(0,c.vs)((0,s.F4)(e.$attrs)),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)])),_:3})}var Ox=(0,g.Z)(Tx,[["render",Mx],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const{ButtonGroup:Dx}=Da,Ax=(0,s.aZ)({name:"ElDropdown",components:{ElButton:Da,ElButtonGroup:Dx,ElScrollbar:Ae,ElDropdownCollection:rx,ElTooltip:Gr,ElRovingFocusGroup:Ox,ElOnlyChild:Eo,ElIcon:P.gn,ArrowDown:he.ArrowDown},props:X_,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=(0,s.FN)(),o=(0,v.s3)("dropdown"),{t:r}=(0,Ga.bU)(),i=(0,l.iH)(),a=(0,l.iH)(),u=(0,l.iH)(null),d=(0,l.iH)(null),h=(0,l.iH)(null),m=(0,l.iH)(null),p=(0,l.iH)(!1),f=[no.EVENT_CODE.enter,no.EVENT_CODE.space,no.EVENT_CODE.down],g=(0,s.Fl)((()=>({maxHeight:(0,y.Nn)(e.maxHeight)}))),b=(0,s.Fl)((()=>[o.m(k.value)])),w=(0,zo.Me)().value,_=(0,s.Fl)((()=>e.id||w));function x(){C()}function C(){var e;null==(e=u.value)||e.onClose()}function S(){var e;null==(e=u.value)||e.onOpen()}(0,s.YP)([i,(0,l.Vh)(e,"trigger")],(([e,t],[n])=>{var o,r,i;const a=(0,c.kJ)(t)?t:[t];(null==(o=null==n?void 0:n.$el)?void 0:o.removeEventListener)&&n.$el.removeEventListener("pointerenter",T),(null==(r=null==e?void 0:e.$el)?void 0:r.removeEventListener)&&e.$el.removeEventListener("pointerenter",T),(null==(i=null==e?void 0:e.$el)?void 0:i.addEventListener)&&a.includes("hover")&&e.$el.addEventListener("pointerenter",T)}),{immediate:!0}),(0,s.Jd)((()=>{var e,t;(null==(t=null==(e=i.value)?void 0:e.$el)?void 0:t.removeEventListener)&&i.value.$el.removeEventListener("pointerenter",T)}));const k=(0,Xr.Cd)();function E(...e){t("command",...e)}function T(){var e,t;null==(t=null==(e=i.value)?void 0:e.$el)||t.focus()}function M(){}function O(){const e=(0,l.SU)(d);null==e||e.focus(),m.value=null}function D(e){m.value=e}function A(e){p.value||(e.preventDefault(),e.stopImmediatePropagation())}function R(){t("visible-change",!0)}function P(e){"keydown"===(null==e?void 0:e.type)&&d.value.focus()}function I(){t("visible-change",!1)}(0,s.JJ)(lx,{contentRef:d,role:(0,s.Fl)((()=>e.role)),triggerId:_,isUsingKeyboard:p,onItemEnter:M,onItemLeave:O}),(0,s.JJ)("elDropdown",{instance:n,dropdownSize:k,handleClick:x,commandHandler:E,trigger:(0,l.Vh)(e,"trigger"),hideOnClick:(0,l.Vh)(e,"hideOnClick")});const z=e=>{var t,n;e.preventDefault(),null==(n=null==(t=d.value)?void 0:t.focus)||n.call(t,{preventScroll:!0})},N=e=>{t("click",e)};return{t:r,ns:o,scrollbar:h,wrapStyle:g,dropdownTriggerKls:b,dropdownSize:k,triggerId:_,triggerKeys:f,currentTabId:m,handleCurrentTabIdChange:D,handlerMainButtonClick:N,handleEntryFocus:A,handleClose:C,handleOpen:S,handleBeforeShowTooltip:R,handleShowTooltip:P,handleBeforeHideTooltip:I,onFocusAfterTrapped:z,popperRef:u,contentRef:d,triggeringElementRef:i,referenceElementRef:a}}});function Rx(e,t,n,o,r,i){var a;const l=(0,s.up)("el-dropdown-collection"),u=(0,s.up)("el-roving-focus-group"),d=(0,s.up)("el-scrollbar"),h=(0,s.up)("el-only-child"),m=(0,s.up)("el-tooltip"),p=(0,s.up)("el-button"),f=(0,s.up)("arrow-down"),g=(0,s.up)("el-icon"),v=(0,s.up)("el-button-group");return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([e.ns.b(),e.ns.is("disabled",e.disabled)])},[(0,s.Wm)(m,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(a=e.referenceElementRef)?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},(0,s.Nv)({content:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:(0,s.w5)((()=>[(0,s.Wm)(h,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?((0,s.wg)(),(0,s.j4)(v,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(p,(0,s.dG)({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),(0,s.Wm)(p,(0,s.dG)({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:(0,c.C_)(e.ns.e("icon"))},{default:(0,s.w5)((()=>[(0,s.Wm)(f)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):(0,s.kq)("v-if",!0)],2)}var Px=(0,g.Z)(Ax,[["render",Rx],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Ix=(0,s.aZ)({name:"DropdownItemImpl",components:{ElIcon:P.gn},props:Q_,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=(0,v.s3)("dropdown"),{role:o}=(0,s.f3)(lx,void 0),{collectionItemRef:r}=(0,s.f3)(sx,void 0),{collectionItemRef:i}=(0,s.f3)(mx,void 0),{rovingFocusGroupItemRef:a,tabIndex:l,handleFocus:c,handleKeydown:u,handleMousedown:d}=(0,s.f3)(fx,void 0),h=m_(r,i,a),m=(0,s.Fl)((()=>"menu"===o.value?"menuitem":"navigation"===o.value?"link":"button")),p=bo((e=>{const{code:n}=e;if(n===no.EVENT_CODE.enter||n===no.EVENT_CODE.space)return e.preventDefault(),e.stopImmediatePropagation(),t("clickimpl",e),!0}),u);return{ns:n,itemRef:h,dataset:{[Y_]:""},role:m,tabIndex:l,handleFocus:c,handleKeydown:p,handleMousedown:d}}}),zx=["aria-disabled","tabindex","role"];function Nx(e,t,n,o,r,i){const a=(0,s.up)("el-icon");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.divided?((0,s.wg)(),(0,s.iD)("li",(0,s.dG)({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):(0,s.kq)("v-if",!0),(0,s._)("li",(0,s.dG)({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=t=>e.$emit("clickimpl",t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onKeydown:t[2]||(t[2]=(0,R.iM)(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),onPointermove:t[4]||(t[4]=t=>e.$emit("pointermove",t)),onPointerleave:t[5]||(t[5]=t=>e.$emit("pointerleave",t))}),[e.icon?((0,s.wg)(),(0,s.j4)(a,{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1})):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"default")],16,zx)],64)}var Lx=(0,g.Z)(Ix,[["render",Nx],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Hx=()=>{const e=(0,s.f3)("elDropdown",{}),t=(0,s.Fl)((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:t}},Fx=(0,s.aZ)({components:{ElRovingFocusCollectionItem:dx},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:o,onItemFocus:r,onItemShiftTab:i}=(0,s.f3)(px,void 0),{getItems:a}=(0,s.f3)(hx,void 0),c=(0,zo.Me)(),u=(0,l.iH)(null),d=bo((e=>{t("mousedown",e)}),(t=>{e.focusable?r((0,l.SU)(c)):t.preventDefault()})),h=bo((e=>{t("focus",e)}),(()=>{r((0,l.SU)(c))})),m=bo((e=>{t("keydown",e)}),(e=>{const{key:t,shiftKey:n,target:r,currentTarget:l}=e;if(t===no.EVENT_CODE.tab&&n)return void i();if(r!==l)return;const c=yx(e);if(c){e.preventDefault();const t=a().filter((e=>e.focusable));let n=t.map((e=>e.ref));switch(c){case"last":n.reverse();break;case"prev":case"next":{"prev"===c&&n.reverse();const e=n.indexOf(l);n=o.value?bx(n,e+1):n.slice(e+1);break}default:break}(0,s.Y3)((()=>{wx(n)}))}})),p=(0,s.Fl)((()=>n.value===(0,l.SU)(c)));return(0,s.JJ)(fx,{rovingFocusGroupItemRef:u,tabIndex:(0,s.Fl)((()=>(0,l.SU)(p)?0:-1)),handleMousedown:d,handleFocus:h,handleKeydown:m}),{id:c,handleKeydown:m,handleFocus:h,handleMousedown:d}}});function Bx(e,t,n,o,r,i){const a=(0,s.up)("el-roving-focus-collection-item");return(0,s.wg)(),(0,s.j4)(a,{id:e.id,focusable:e.focusable,active:e.active},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["id","focusable","active"])}var Ux=(0,g.Z)(Fx,[["render",Bx],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Vx=(0,s.aZ)({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ix,ElRovingFocusItem:Ux,ElDropdownItemImpl:Lx},inheritAttrs:!1,props:Q_,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:o}=Hx(),r=(0,s.FN)(),i=(0,l.iH)(null),a=(0,s.Fl)((()=>{var e,t;return null!=(t=null==(e=(0,l.SU)(i))?void 0:e.textContent)?t:""})),{onItemEnter:c,onItemLeave:u}=(0,s.f3)(lx,void 0),d=bo((e=>(t("pointermove",e),e.defaultPrevented)),wo((t=>{if(e.disabled)return void u(t);const n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(c(t),t.defaultPrevented||null==n||n.focus())}))),h=bo((e=>(t("pointerleave",e),e.defaultPrevented)),wo((e=>{u(e)}))),m=bo((n=>{if(!e.disabled)return t("click",n),"keydown"!==n.type&&n.defaultPrevented}),(t=>{var n,i,a;e.disabled?t.stopImmediatePropagation():((null==(n=null==o?void 0:o.hideOnClick)?void 0:n.value)&&(null==(i=o.handleClick)||i.call(o)),null==(a=o.commandHandler)||a.call(o,e.command,r,t))})),p=(0,s.Fl)((()=>({...e,...n})));return{handleClick:m,handlePointerMove:d,handlePointerLeave:h,textContent:a,propsAndAttrs:p}}});function jx(e,t,n,o,r,i){var a;const l=(0,s.up)("el-dropdown-item-impl"),c=(0,s.up)("el-roving-focus-item"),u=(0,s.up)("el-dropdown-collection-item");return(0,s.wg)(),(0,s.j4)(u,{disabled:e.disabled,"text-value":null!=(a=e.textValue)?a:e.textContent},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{focusable:!e.disabled},{default:(0,s.w5)((()=>[(0,s.Wm)(l,(0,s.dG)(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}var Wx=(0,g.Z)(Vx,[["render",jx],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Zx=(0,s.aZ)({name:"ElDropdownMenu",props:ex,setup(e){const t=(0,v.s3)("dropdown"),{_elDropdownSize:n}=Hx(),o=n.value,{focusTrapRef:r,onKeydown:i}=(0,s.f3)(lr,void 0),{contentRef:a,role:c,triggerId:u}=(0,s.f3)(lx,void 0),{collectionRef:d,getItems:h}=(0,s.f3)(ax,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:p,tabIndex:f,onBlur:g,onFocus:y,onMousedown:b}=(0,s.f3)(px,void 0),{collectionRef:w}=(0,s.f3)(hx,void 0),_=(0,s.Fl)((()=>[t.b("menu"),t.bm("menu",null==o?void 0:o.value)])),x=m_(a,d,r,m,w),C=bo((t=>{var n;null==(n=e.onKeydown)||n.call(e,t)}),(e=>{const{currentTarget:t,code:n,target:o}=e;t.contains(o);if(no.EVENT_CODE.tab===n&&e.stopImmediatePropagation(),e.preventDefault(),o!==(0,l.SU)(a))return;if(!ox.includes(n))return;const r=h().filter((e=>!e.disabled)),i=r.map((e=>e.ref));nx.includes(n)&&i.reverse(),wx(i)})),S=e=>{C(e),i(e)};return{size:o,rovingFocusGroupRootStyle:p,tabIndex:f,dropdownKls:_,role:c,triggerId:u,dropdownListWrapperRef:x,handleKeydown:S,onBlur:g,onFocus:y,onMousedown:b}}}),$x=["role","aria-labelledby"];function qx(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("ul",{ref:e.dropdownListWrapperRef,class:(0,c.C_)(e.dropdownKls),style:(0,c.j5)(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:t[1]||(t[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onKeydown:t[2]||(t[2]=(0,R.iM)(((...t)=>e.handleKeydown&&e.handleKeydown(...t)),["self"])),onMousedown:t[3]||(t[3]=(0,R.iM)(((...t)=>e.onMousedown&&e.onMousedown(...t)),["self"]))},[(0,s.WI)(e.$slots,"default")],46,$x)}var Gx=(0,g.Z)(Zx,[["render",qx],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Kx=(0,D.nz)(Px,{DropdownItem:Wx,DropdownMenu:Gx}),Yx=(0,D.dp)(Wx),Jx=(0,D.dp)(Gx),Xx={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Qx=["id"],eC=["stop-color"],tC=["stop-color"],nC=["id"],oC=["stop-color"],rC=["stop-color"],iC=["id"],aC={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},sC={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},lC={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},cC=["fill"],uC=["fill"],dC={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},hC=["fill"],mC=["fill"],pC=["fill"],fC=["fill"],gC=["fill"],vC={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},yC=["fill","xlink:href"],bC=["fill","mask"],wC=["fill"],_C=(0,s.aZ)({name:"ImgEmpty"}),xC=(0,s.aZ)({..._C,setup(e){const t=(0,v.s3)("empty"),n=(0,zo.Me)();return(e,o)=>((0,s.wg)(),(0,s.iD)("svg",Xx,[(0,s._)("defs",null,[(0,s._)("linearGradient",{id:`linearGradient-1-${(0,l.SU)(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[(0,s._)("stop",{"stop-color":`var(${(0,l.SU)(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,eC),(0,s._)("stop",{"stop-color":`var(${(0,l.SU)(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,tC)],8,Qx),(0,s._)("linearGradient",{id:`linearGradient-2-${(0,l.SU)(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[(0,s._)("stop",{"stop-color":`var(${(0,l.SU)(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,oC),(0,s._)("stop",{"stop-color":`var(${(0,l.SU)(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,rC)],8,nC),(0,s._)("rect",{id:`path-3-${(0,l.SU)(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,iC)]),(0,s._)("g",aC,[(0,s._)("g",sC,[(0,s._)("g",lC,[(0,s._)("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-3")})`},null,8,cC),(0,s._)("polygon",{id:"Rectangle-Copy-14",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,uC),(0,s._)("g",dC,[(0,s._)("polygon",{id:"Rectangle-Copy-10",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,hC),(0,s._)("polygon",{id:"Rectangle-Copy-11",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,mC),(0,s._)("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${(0,l.SU)(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,pC),(0,s._)("polygon",{id:"Rectangle-Copy-13",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,fC)]),(0,s._)("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${(0,l.SU)(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,gC),(0,s._)("g",vC,[(0,s._)("use",{id:"Mask",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${(0,l.SU)(n)}`},null,8,yC),(0,s._)("polygon",{id:"Rectangle-Copy",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${(0,l.SU)(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,bC)]),(0,s._)("polygon",{id:"Rectangle-Copy-18",fill:`var(${(0,l.SU)(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,wC)])])])]))}});var CC=(0,g.Z)(xC,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const SC=(0,d.o8)({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),kC=["src"],EC={key:1},TC=(0,s.aZ)({name:"ElEmpty"}),MC=(0,s.aZ)({...TC,props:SC,setup(e){const t=e,{t:n}=(0,Ga.bU)(),o=(0,v.s3)("empty"),r=(0,s.Fl)((()=>t.description||n("el.table.emptyText"))),i=(0,s.Fl)((()=>({width:(0,y.Nn)(t.imageSize)})));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(o).b())},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).e("image")),style:(0,c.j5)((0,l.SU)(i))},[e.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.image,ondragstart:"return false"},null,8,kC)):(0,s.WI)(e.$slots,"image",{key:1},(()=>[(0,s.Wm)(CC)]))],6),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).e("description"))},[e.$slots.description?(0,s.WI)(e.$slots,"description",{key:0}):((0,s.wg)(),(0,s.iD)("p",EC,(0,c.zw)((0,l.SU)(r)),1))],2),e.$slots.default?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o).e("bottom"))},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0)],2))}});var OC=(0,g.Z)(MC,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const DC=(0,D.nz)(OC),AC=(0,d.o8)({size:{type:String,values:li.k},disabled:Boolean}),RC=(0,d.o8)({...AC,model:Object,rules:{type:(0,d.Cq)(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),PC={validate:(e,t,n)=>((0,c.kJ)(e)||(0,c.HD)(e))&&(0,h.jn)(t)&&(0,c.HD)(n)},IC="ElForm";function zC(){const e=(0,l.iH)([]),t=(0,s.Fl)((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""}));function n(n){const o=e.value.indexOf(n);return-1===o&&"0"===t.value&&(0,b.N)(IC,`unexpected width ${n}`),o}function o(t,o){if(t&&o){const r=n(o);e.value.splice(r,1,t)}else t&&e.value.push(t)}function r(t){const o=n(t);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:o,deregisterLabelWidth:r}}const NC=(e,t)=>{const n=mv(t);return n.length>0?e.filter((e=>e.prop&&n.includes(e.prop))):e},LC="ElForm",HC=(0,s.aZ)({name:LC}),FC=(0,s.aZ)({...HC,props:RC,emits:PC,setup(e,{expose:t,emit:n}){const o=e,r=[],i=(0,Xr.Cd)(),a=(0,v.s3)("form"),u=(0,s.Fl)((()=>{const{labelPosition:e,inline:t}=o;return[a.b(),a.m(i.value||"default"),{[a.m(`label-${e}`)]:e,[a.m("inline")]:t}]})),d=e=>{r.push(e)},h=e=>{e.prop&&r.splice(r.indexOf(e),1)},m=(e=[])=>{o.model?NC(r,e).forEach((e=>e.resetField())):(0,b.N)(LC,"model is required for resetFields to work.")},p=(e=[])=>{NC(r,e).forEach((e=>e.clearValidate()))},f=(0,s.Fl)((()=>{const e=!!o.model;return e||(0,b.N)(LC,"model is required for validate to work."),e})),g=e=>{if(0===r.length)return[];const t=NC(r,e);return t.length?t:((0,b.N)(LC,"please pass correct props!"),[])},y=async e=>_(void 0,e),w=async(e=[])=>{if(!f.value)return!1;const t=g(e);if(0===t.length)return!0;let n={};for(const r of t)try{await r.validate("")}catch(o){n={...n,...o}}return 0===Object.keys(n).length||Promise.reject(n)},_=async(e=[],t)=>{const n=!(0,c.mf)(t);try{const n=await w(e);return!0===n&&(null==t||t(n)),n}catch(HH){if(HH instanceof Error)throw HH;const r=HH;return o.scrollToError&&x(Object.keys(r)[0]),null==t||t(!1,r),n&&Promise.reject(r)}},x=e=>{var t;const n=NC(r,e)[0];n&&(null==(t=n.$el)||t.scrollIntoView(o.scrollIntoViewOptions))};return(0,s.YP)((()=>o.rules),(()=>{o.validateOnRuleChange&&y().catch((e=>(0,b.N)(e)))}),{deep:!0}),(0,s.JJ)(er.H,(0,l.qj)({...(0,l.BK)(o),emit:n,resetFields:m,clearValidate:p,validateField:_,addField:d,removeField:h,...zC()})),t({validate:y,validateField:_,resetFields:m,clearValidate:p,scrollToField:x}),(e,t)=>((0,s.wg)(),(0,s.iD)("form",{class:(0,c.C_)((0,l.SU)(u))},[(0,s.WI)(e.$slots,"default")],2))}});var BC=(0,g.Z)(FC,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},UC.apply(this,arguments)}function VC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,WC(e,t)}function jC(e){return jC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jC(e)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WC(e,t)}function ZC(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(HH){return!1}}function $C(e,t,n){return $C=ZC()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=Function.bind.apply(e,o),i=new r;return n&&WC(i,n.prototype),i},$C.apply(null,arguments)}function qC(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function GC(e){var t="function"===typeof Map?new Map:void 0;return GC=function(e){if(null===e||!qC(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $C(e,arguments,jC(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),WC(n,e)},GC(e)}var KC=/%[sdj%]/g,YC=function(){};function JC(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function XC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,i=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(KC,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(HI){return"[Circular]"}break;default:return e}}));return a}return e}function QC(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function eS(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!QC(t)||"string"!==typeof e||e))}function tS(e,t,n){var o=[],r=0,i=e.length;function a(e){o.push.apply(o,e||[]),r++,r===i&&n(o)}e.forEach((function(e){t(e,a)}))}function nS(e,t,n){var o=0,r=e.length;function i(a){if(a&&a.length)n(a);else{var s=o;o+=1,s<r?t(e[s],i):n([])}}i([])}function oS(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}var rS=function(e){function t(t,n){var o;return o=e.call(this,"Async Validation Error")||this,o.errors=t,o.fields=n,o}return VC(t,e),t}(GC(Error));function iS(e,t,n,o,r){if(t.first){var i=new Promise((function(t,i){var a=function(e){return o(e),e.length?i(new rS(e,JC(e))):t(r)},s=oS(e);nS(s,n,a)}));return i["catch"]((function(e){return e})),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,i){var d=function(e){if(u.push.apply(u,e),c++,c===l)return o(u),u.length?i(new rS(u,JC(u))):t(r)};s.length||(o(u),t(r)),s.forEach((function(t){var o=e[t];-1!==a.indexOf(t)?nS(o,n,d):tS(o,n,d)}))}));return d["catch"]((function(e){return e})),d}function aS(e){return!(!e||void 0===e.message)}function sS(e,t){for(var n=e,o=0;o<t.length;o++){if(void 0==n)return n;n=n[t[o]]}return n}function lS(e,t){return function(n){var o;return o=e.fullFields?sS(t,e.fullFields):t[n.field||e.fullField],aS(n)?(n.field=n.field||e.fullField,n.fieldValue=o,n):{message:"function"===typeof n?n():n,fieldValue:o,field:n.field||e.fullField}}}function cS(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];"object"===typeof o&&"object"===typeof e[n]?e[n]=UC({},e[n],o):e[n]=o}return e}var uS,dS=function(e,t,n,o,r,i){!e.required||n.hasOwnProperty(e.field)&&!eS(t,i||e.type)||o.push(XC(r.messages.required,e.fullField))},hS=function(e,t,n,o,r){(/^\s+$/.test(t)||""===t)&&o.push(XC(r.messages.whitespace,e.fullField))},mS=function(){if(uS)return uS;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+o+":){7}(?:"+o+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+o+":){6}(?:"+n+"|:"+o+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+o+":){5}(?::"+n+"|(?::"+o+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+o+":){4}(?:(?::"+o+"){0,1}:"+n+"|(?::"+o+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+o+":){3}(?:(?::"+o+"){0,2}:"+n+"|(?::"+o+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+o+":){2}(?:(?::"+o+"){0,3}:"+n+"|(?::"+o+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+o+":){1}(?:(?::"+o+"){0,4}:"+n+"|(?::"+o+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+o+"){0,5}:"+n+"|(?::"+o+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),l=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+r+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+r+t(e),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",f="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+h+"|"+m+p+f+")"+g+v;return uS=new RegExp("(?:^"+y+"$)","i"),uS},pS={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},fS={integer:function(e){return fS.number(e)&&parseInt(e,10)===e},float:function(e){return fS.number(e)&&!fS.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(HH){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!fS.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(pS.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(mS())},hex:function(e){return"string"===typeof e&&!!e.match(pS.hex)}},gS=function(e,t,n,o,r){if(e.required&&void 0===t)dS(e,t,n,o,r);else{var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;i.indexOf(a)>-1?fS[a](t)||o.push(XC(r.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&o.push(XC(r.messages.types[a],e.fullField,e.type))}},vS=function(e,t,n,o,r){var i="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,u=null,d="number"===typeof t,h="string"===typeof t,m=Array.isArray(t);if(d?u="number":h?u="string":m&&(u="array"),!u)return!1;m&&(c=t.length),h&&(c=t.replace(l,"_").length),i?c!==e.len&&o.push(XC(r.messages[u].len,e.fullField,e.len)):a&&!s&&c<e.min?o.push(XC(r.messages[u].min,e.fullField,e.min)):s&&!a&&c>e.max?o.push(XC(r.messages[u].max,e.fullField,e.max)):a&&s&&(c<e.min||c>e.max)&&o.push(XC(r.messages[u].range,e.fullField,e.min,e.max))},yS="enum",bS=function(e,t,n,o,r){e[yS]=Array.isArray(e[yS])?e[yS]:[],-1===e[yS].indexOf(t)&&o.push(XC(r.messages[yS],e.fullField,e[yS].join(", ")))},wS=function(e,t,n,o,r){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||o.push(XC(r.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var i=new RegExp(e.pattern);i.test(t)||o.push(XC(r.messages.pattern.mismatch,e.fullField,t,e.pattern))}},_S={required:dS,whitespace:hS,type:gS,range:vS,enum:bS,pattern:wS},xS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t,"string")&&!e.required)return n();_S.required(e,t,o,i,r,"string"),eS(t,"string")||(_S.type(e,t,o,i,r),_S.range(e,t,o,i,r),_S.pattern(e,t,o,i,r),!0===e.whitespace&&_S.whitespace(e,t,o,i,r))}n(i)},CS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&_S.type(e,t,o,i,r)}n(i)},SS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(""===t&&(t=void 0),eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&(_S.type(e,t,o,i,r),_S.range(e,t,o,i,r))}n(i)},kS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&_S.type(e,t,o,i,r)}n(i)},ES=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),eS(t)||_S.type(e,t,o,i,r)}n(i)},TS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&(_S.type(e,t,o,i,r),_S.range(e,t,o,i,r))}n(i)},MS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&(_S.type(e,t,o,i,r),_S.range(e,t,o,i,r))}n(i)},OS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if((void 0===t||null===t)&&!e.required)return n();_S.required(e,t,o,i,r,"array"),void 0!==t&&null!==t&&(_S.type(e,t,o,i,r),_S.range(e,t,o,i,r))}n(i)},DS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&_S.type(e,t,o,i,r)}n(i)},AS="enum",RS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r),void 0!==t&&_S[AS](e,t,o,i,r)}n(i)},PS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t,"string")&&!e.required)return n();_S.required(e,t,o,i,r),eS(t,"string")||_S.pattern(e,t,o,i,r)}n(i)},IS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t,"date")&&!e.required)return n();var s;if(_S.required(e,t,o,i,r),!eS(t,"date"))s=t instanceof Date?t:new Date(t),_S.type(e,s,o,i,r),s&&_S.range(e,s.getTime(),o,i,r)}n(i)},zS=function(e,t,n,o,r){var i=[],a=Array.isArray(t)?"array":typeof t;_S.required(e,t,o,i,r,a),n(i)},NS=function(e,t,n,o,r){var i=e.type,a=[],s=e.required||!e.required&&o.hasOwnProperty(e.field);if(s){if(eS(t,i)&&!e.required)return n();_S.required(e,t,o,a,r,i),eS(t,i)||_S.type(e,t,o,a,r)}n(a)},LS=function(e,t,n,o,r){var i=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(eS(t)&&!e.required)return n();_S.required(e,t,o,i,r)}n(i)},HS={string:xS,method:CS,number:SS,boolean:kS,regexp:ES,integer:TS,float:MS,array:OS,object:DS,enum:RS,pattern:PS,date:IS,url:NS,hex:NS,email:NS,required:zS,any:LS};function FS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var BS=FS(),US=function(){function e(e){this.rules=null,this._messages=BS,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var o=e[n];t.rules[n]=Array.isArray(o)?o:[o]}))},t.messages=function(e){return e&&(this._messages=cS(FS(),e)),this._messages},t.validate=function(t,n,o){var r=this;void 0===n&&(n={}),void 0===o&&(o=function(){});var i=t,a=n,s=o;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);function l(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var r=0;r<e.length;r++)o(e[r]);t.length?(n=JC(t),s(t,n)):s(null,i)}if(a.messages){var c=this.messages();c===BS&&(c=FS()),cS(c,a.messages),a.messages=c}else a.messages=this.messages();var u={},d=a.keys||Object.keys(this.rules);d.forEach((function(e){var n=r.rules[e],o=i[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(i===t&&(i=UC({},i)),o=i[e]=a.transform(o)),a="function"===typeof a?{validator:a}:UC({},a),a.validator=r.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=r.getType(a),u[e]=u[e]||[],u[e].push({rule:a,value:o,source:i,field:e}))}))}));var h={};return iS(u,a,(function(t,n){var o,r=t.rule,s=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function l(e,t){return UC({},t,{fullField:r.fullField+"."+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(o){void 0===o&&(o=[]);var c=Array.isArray(o)?o:[o];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==r.message&&(c=[].concat(r.message));var u=c.map(lS(r,i));if(a.first&&u.length)return h[r.field]=1,n(u);if(s){if(r.required&&!t.value)return void 0!==r.message?u=[].concat(r.message).map(lS(r,i)):a.error&&(u=[a.error(r,XC(a.messages.required,r.field))]),n(u);var d={};r.defaultField&&Object.keys(t.value).map((function(e){d[e]=r.defaultField})),d=UC({},d,t.rule.fields);var m={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];m[e]=n.map(l.bind(null,e))}));var p=new e(m);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(u)}if(s=s&&(r.required||!r.required&&t.value),r.field=t.field,r.asyncValidator)o=r.asyncValidator(r,t.value,c,t.source,a);else if(r.validator){try{o=r.validator(r,t.value,c,t.source,a)}catch(b){null==console.error||console.error(b),a.suppressValidatorError||setTimeout((function(){throw b}),0),c(b.message)}!0===o?c():!1===o?c("function"===typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):o instanceof Array?c(o):o instanceof Error&&c(o.message)}o&&o.then&&o.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){l(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!HS.hasOwnProperty(e.type))throw new Error(XC("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?HS.required:HS[this.getType(e)]||void 0},e}();US.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");HS[e]=t},US.warning=YC,US.messages=BS,US.validators=HS;var VS=4;function jS(e){return qh(e,VS)}var WS=jS;const ZS=["","error","validating","success"],$S=(0,d.o8)({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:(0,d.Cq)([String,Array])},required:{type:Boolean,default:void 0},rules:{type:(0,d.Cq)([Object,Array])},error:String,validateStatus:{type:String,values:ZS},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:li.k}}),qS="ElLabelWrap";var GS=(0,s.aZ)({name:qS,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=(0,s.f3)(er.H,void 0),o=(0,s.f3)(er.K);o||(0,b._)(qS,"usage: <el-form-item><label-wrap /></el-form-item>");const r=(0,v.s3)("form"),i=(0,l.iH)(),a=(0,l.iH)(0),c=()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0},d=(o="update")=>{(0,s.Y3)((()=>{t.default&&e.isAutoWidth&&("update"===o?a.value=c():"remove"===o&&(null==n||n.deregisterLabelWidth(a.value)))}))},h=()=>d("update");return(0,s.bv)((()=>{h()})),(0,s.Jd)((()=>{d("remove")})),(0,s.ic)((()=>h())),(0,s.YP)(a,((t,o)=>{e.updateAll&&(null==n||n.registerLabelWidth(t,o))})),(0,u.yU7)((0,s.Fl)((()=>{var e,t;return null!=(t=null==(e=i.value)?void 0:e.firstElementChild)?t:null})),h),()=>{var l,c;if(!t)return null;const{isAutoWidth:u}=e;if(u){const e=null==n?void 0:n.autoLabelWidth,c=null==o?void 0:o.hasLabel,u={};if(c&&e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-a.value),o="left"===n.labelPosition?"marginRight":"marginLeft";t&&(u[o]=`${t}px`)}return(0,s.Wm)("div",{ref:i,class:[r.be("item","label-wrap")],style:u},[null==(l=t.default)?void 0:l.call(t)])}return(0,s.Wm)(s.HY,{ref:i},[null==(c=t.default)?void 0:c.call(t)])}}});const KS=["role","aria-labelledby"],YS=(0,s.aZ)({name:"ElFormItem"}),JS=(0,s.aZ)({...YS,props:$S,setup(e,{expose:t}){const n=e,o=(0,s.Rr)(),r=(0,s.f3)(er.H,void 0),i=(0,s.f3)(er.K,void 0),a=(0,Xr.Cd)(void 0,{formItem:!1}),u=(0,v.s3)("form-item"),d=(0,zo.Me)().value,m=(0,l.iH)([]),p=(0,l.iH)(""),f=(0,w.Dp)(p,100),g=(0,l.iH)(""),b=(0,l.iH)();let _,x=!1;const C=(0,s.Fl)((()=>{if("top"===(null==r?void 0:r.labelPosition))return{};const e=(0,y.Nn)(n.labelWidth||(null==r?void 0:r.labelWidth)||"");return e?{width:e}:{}})),S=(0,s.Fl)((()=>{if("top"===(null==r?void 0:r.labelPosition)||(null==r?void 0:r.inline))return{};if(!n.label&&!n.labelWidth&&P)return{};const e=(0,y.Nn)(n.labelWidth||(null==r?void 0:r.labelWidth)||"");return n.label||o.label?{}:{marginLeft:e}})),k=(0,s.Fl)((()=>[u.b(),u.m(a.value),u.is("error","error"===p.value),u.is("validating","validating"===p.value),u.is("success","success"===p.value),u.is("required",F.value||n.required),u.is("no-asterisk",null==r?void 0:r.hideRequiredAsterisk),"right"===(null==r?void 0:r.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[u.m("feedback")]:null==r?void 0:r.statusIcon}])),E=(0,s.Fl)((()=>(0,h.jn)(n.inlineMessage)?n.inlineMessage:(null==r?void 0:r.inlineMessage)||!1)),T=(0,s.Fl)((()=>[u.e("error"),{[u.em("error","inline")]:E.value}])),M=(0,s.Fl)((()=>n.prop?(0,c.HD)(n.prop)?n.prop:n.prop.join("."):"")),O=(0,s.Fl)((()=>!(!n.label&&!o.label))),D=(0,s.Fl)((()=>n.for||1===m.value.length?m.value[0]:void 0)),A=(0,s.Fl)((()=>!D.value&&O.value)),P=!!i,z=(0,s.Fl)((()=>{const e=null==r?void 0:r.model;if(e&&n.prop)return(0,I.WJ)(e,n.prop).value})),N=(0,s.Fl)((()=>{const{required:e}=n,t=[];n.rules&&t.push(...mv(n.rules));const o=null==r?void 0:r.rules;if(o&&n.prop){const e=(0,I.WJ)(o,n.prop).value;e&&t.push(...mv(e))}if(void 0!==e){const n=t.map(((e,t)=>[e,t])).filter((([e])=>Object.keys(e).includes("required")));if(n.length>0)for(const[o,r]of n)o.required!==e&&(t[r]={...o,required:e});else t.push({required:e})}return t})),L=(0,s.Fl)((()=>N.value.length>0)),H=e=>{const t=N.value;return t.filter((t=>!t.trigger||!e||(Array.isArray(t.trigger)?t.trigger.includes(e):t.trigger===e))).map((({trigger:e,...t})=>t))},F=(0,s.Fl)((()=>N.value.some((e=>e.required)))),B=(0,s.Fl)((()=>{var e;return"error"===f.value&&n.showMessage&&(null==(e=null==r?void 0:r.showMessage)||e)})),U=(0,s.Fl)((()=>`${n.label||""}${(null==r?void 0:r.labelSuffix)||""}`)),V=e=>{p.value=e},j=e=>{var t,o;const{errors:i,fields:a}=e;i&&a||console.error(e),V("error"),g.value=i?null!=(o=null==(t=null==i?void 0:i[0])?void 0:t.message)?o:`${n.prop} is required`:"",null==r||r.emit("validate",n.prop,!1,g.value)},W=()=>{V("success"),null==r||r.emit("validate",n.prop,!0,"")},Z=async e=>{const t=M.value,n=new US({[t]:e});return n.validate({[t]:z.value},{firstFields:!0}).then((()=>(W(),!0))).catch((e=>(j(e),Promise.reject(e))))},$=async(e,t)=>{if(x||!n.prop)return!1;const o=(0,c.mf)(t);if(!L.value)return null==t||t(!1),!1;const r=H(e);return 0===r.length?(null==t||t(!0),!0):(V("validating"),Z(r).then((()=>(null==t||t(!0),!0))).catch((e=>{const{fields:n}=e;return null==t||t(!1,n),!o&&Promise.reject(n)})))},q=()=>{V(""),g.value="",x=!1},G=async()=>{const e=null==r?void 0:r.model;if(!e||!n.prop)return;const t=(0,I.WJ)(e,n.prop);x=!0,t.value=WS(_),await(0,s.Y3)(),q(),x=!1},K=e=>{m.value.includes(e)||m.value.push(e)},Y=e=>{m.value=m.value.filter((t=>t!==e))};(0,s.YP)((()=>n.error),(e=>{g.value=e||"",V(e?"error":"")}),{immediate:!0}),(0,s.YP)((()=>n.validateStatus),(e=>V(e||"")));const J=(0,l.qj)({...(0,l.BK)(n),$el:b,size:a,validateState:p,labelId:d,inputIds:m,isGroup:A,hasLabel:O,addInputId:K,removeInputId:Y,resetField:G,clearValidate:q,validate:$});return(0,s.JJ)(er.K,J),(0,s.bv)((()=>{n.prop&&(null==r||r.addField(J),_=WS(z.value))})),(0,s.Jd)((()=>{null==r||r.removeField(J)})),t({size:a,validateMessage:g,validateState:p,validate:$,clearValidate:q,resetField:G}),(e,t)=>{var n;return(0,s.wg)(),(0,s.iD)("div",{ref_key:"formItemRef",ref:b,class:(0,c.C_)((0,l.SU)(k)),role:(0,l.SU)(A)?"group":void 0,"aria-labelledby":(0,l.SU)(A)?(0,l.SU)(d):void 0},[(0,s.Wm)((0,l.SU)(GS),{"is-auto-width":"auto"===(0,l.SU)(C).width,"update-all":"auto"===(null==(n=(0,l.SU)(r))?void 0:n.labelWidth)},{default:(0,s.w5)((()=>[(0,l.SU)(O)?((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(D)?"label":"div"),{key:0,id:(0,l.SU)(d),for:(0,l.SU)(D),class:(0,c.C_)((0,l.SU)(u).e("label")),style:(0,c.j5)((0,l.SU)(C))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"label",{label:(0,l.SU)(U)},(()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(U)),1)]))])),_:3},8,["id","for","class","style"])):(0,s.kq)("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(u).e("content")),style:(0,c.j5)((0,l.SU)(S))},[(0,s.WI)(e.$slots,"default"),(0,s.Wm)(R.W3,{name:`${(0,l.SU)(u).namespace.value}-zoom-in-top`},{default:(0,s.w5)((()=>[(0,l.SU)(B)?(0,s.WI)(e.$slots,"error",{key:0,error:g.value},(()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(T))},(0,c.zw)(g.value),3)])):(0,s.kq)("v-if",!0)])),_:3},8,["name"])],6)],10,KS)}}});var XS=(0,g.Z)(JS,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const QS=(0,D.nz)(BC,{FormItem:XS}),ek=(0,D.dp)(XS),tk=(0,d.o8)({urlList:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),nk={close:()=>!0,switch:e=>(0,h.hj)(e)},ok=["src"],rk=(0,s.aZ)({name:"ElImageViewer"}),ik=(0,s.aZ)({...rk,props:tk,emits:nk,setup(e,{expose:t,emit:n}){const o=e,r={CONTAIN:{name:"contain",icon:(0,l.Xl)(he.FullScreen)},ORIGINAL:{name:"original",icon:(0,l.Xl)(he.ScaleToOriginal)}},{t:i}=(0,Ga.bU)(),a=(0,v.s3)("image-viewer"),{nextZIndex:d}=(0,Xo.Cn)(),m=(0,l.iH)(),p=(0,l.iH)([]),f=(0,l.B)(),g=(0,l.iH)(!0),y=(0,l.iH)(o.initialIndex),b=(0,l.XI)(r.CONTAIN),w=(0,l.iH)({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),_=(0,s.Fl)((()=>{const{urlList:e}=o;return e.length<=1})),x=(0,s.Fl)((()=>0===y.value)),C=(0,s.Fl)((()=>y.value===o.urlList.length-1)),S=(0,s.Fl)((()=>o.urlList[y.value])),k=(0,s.Fl)((()=>{const{scale:e,deg:t,offsetX:n,offsetY:o,enableTransition:i}=w.value;let a=n/e,s=o/e;switch(t%360){case 90:case-270:[a,s]=[s,-a];break;case 180:case-180:[a,s]=[-a,-s];break;case 270:case-90:[a,s]=[-s,a];break}const l={transform:`scale(${e}) rotate(${t}deg) translate(${a}px, ${s}px)`,transition:i?"transform .3s":""};return b.value.name===r.CONTAIN.name&&(l.maxWidth=l.maxHeight="100%"),l})),E=(0,s.Fl)((()=>(0,h.hj)(o.zIndex)?o.zIndex:d()));function T(){O(),n("close")}function M(){const e=Cs((e=>{switch(e.code){case no.EVENT_CODE.esc:o.closeOnPressEscape&&T();break;case no.EVENT_CODE.space:L();break;case no.EVENT_CODE.left:F();break;case no.EVENT_CODE.up:U("zoomIn");break;case no.EVENT_CODE.right:B();break;case no.EVENT_CODE.down:U("zoomOut");break}})),t=Cs((e=>{const t=e.deltaY||e.deltaX;U(t<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})}));f.run((()=>{(0,u.ORN)(document,"keydown",e),(0,u.ORN)(document,"wheel",t)}))}function O(){f.stop()}function D(){g.value=!1}function A(e){g.value=!1,e.target.alt=i("el.image.error")}function z(e){if(g.value||0!==e.button||!m.value)return;w.value.enableTransition=!1;const{offsetX:t,offsetY:n}=w.value,o=e.pageX,r=e.pageY,i=Cs((e=>{w.value={...w.value,offsetX:t+e.pageX-o,offsetY:n+e.pageY-r}})),a=(0,u.ORN)(document,"mousemove",i);(0,u.ORN)(document,"mouseup",(()=>{a()})),e.preventDefault()}function N(){w.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function L(){if(g.value)return;const e=(0,I.uc)(r),t=Object.values(r),n=b.value.name,o=t.findIndex((e=>e.name===n)),i=(o+1)%e.length;b.value=r[e[i]],N()}function H(e){const t=o.urlList.length;y.value=(e+t)%t}function F(){x.value&&!o.infinite||H(y.value-1)}function B(){C.value&&!o.infinite||H(y.value+1)}function U(e,t={}){if(g.value)return;const{zoomRate:n,rotateDeg:r,enableTransition:i}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case"zoomOut":w.value.scale>.2&&(w.value.scale=Number.parseFloat((w.value.scale/n).toFixed(3)));break;case"zoomIn":w.value.scale<7&&(w.value.scale=Number.parseFloat((w.value.scale*n).toFixed(3)));break;case"clockwise":w.value.deg+=r;break;case"anticlockwise":w.value.deg-=r;break}w.value.enableTransition=i}return(0,s.YP)(S,(()=>{(0,s.Y3)((()=>{const e=p.value[0];(null==e?void 0:e.complete)||(g.value=!0)}))})),(0,s.YP)(y,(e=>{N(),n("switch",e)})),(0,s.bv)((()=>{var e,t;M(),null==(t=null==(e=m.value)?void 0:e.focus)||t.call(e)})),t({setActiveItem:H}),(e,t)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body",disabled:!e.teleported},[(0,s.Wm)(R.uT,{name:"viewer-fade",appear:""},{default:(0,s.w5)((()=>[(0,s._)("div",{ref_key:"wrapper",ref:m,tabindex:-1,class:(0,c.C_)((0,l.SU)(a).e("wrapper")),style:(0,c.j5)({zIndex:(0,l.SU)(E)})},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).e("mask")),onClick:t[0]||(t[0]=(0,R.iM)((t=>e.hideOnClickModal&&T()),["self"]))},null,2),(0,s.kq)(" CLOSE "),(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(a).e("btn"),(0,l.SU)(a).e("close")]),onClick:T},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:1})],2),(0,s.kq)(" ARROW "),(0,l.SU)(_)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(a).e("btn"),(0,l.SU)(a).e("prev"),(0,l.SU)(a).is("disabled",!e.infinite&&(0,l.SU)(x))]),onClick:F},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1})],2),(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(a).e("btn"),(0,l.SU)(a).e("next"),(0,l.SU)(a).is("disabled",!e.infinite&&(0,l.SU)(C))]),onClick:B},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})],2)],64)),(0,s.kq)(" ACTIONS "),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(a).e("btn"),(0,l.SU)(a).e("actions")])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).e("actions__inner"))},[(0,s.Wm)((0,l.SU)(P.gn),{onClick:t[1]||(t[1]=e=>U("zoomOut"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ZoomOut))])),_:1}),(0,s.Wm)((0,l.SU)(P.gn),{onClick:t[2]||(t[2]=e=>U("zoomIn"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ZoomIn))])),_:1}),(0,s._)("i",{class:(0,c.C_)((0,l.SU)(a).e("actions__divider"))},null,2),(0,s.Wm)((0,l.SU)(P.gn),{onClick:L},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(b).icon)))])),_:1}),(0,s._)("i",{class:(0,c.C_)((0,l.SU)(a).e("actions__divider"))},null,2),(0,s.Wm)((0,l.SU)(P.gn),{onClick:t[3]||(t[3]=e=>U("anticlockwise"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.RefreshLeft))])),_:1}),(0,s.Wm)((0,l.SU)(P.gn),{onClick:t[4]||(t[4]=e=>U("clockwise"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.RefreshRight))])),_:1})],2)],2),(0,s.kq)(" CANVAS "),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).e("canvas"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.urlList,((e,t)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("img",{ref_for:!0,ref:e=>p.value[t]=e,key:e,src:e,style:(0,c.j5)((0,l.SU)(k)),class:(0,c.C_)((0,l.SU)(a).e("img")),onLoad:D,onError:A,onMousedown:z},null,46,ok)),[[R.F8,t===y.value]]))),128))],2),(0,s.WI)(e.$slots,"default")],6)])),_:3})],8,["disabled"]))}});var ak=(0,g.Z)(ik,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const sk=(0,D.nz)(ak),lk=(0,d.o8)({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:(0,d.Cq)([String,Object])},previewSrcList:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),ck={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>(0,h.hj)(e),close:()=>!0,show:()=>!0},uk=["src","loading"],dk={key:0},hk=(0,s.aZ)({name:"ElImage",inheritAttrs:!1}),mk=(0,s.aZ)({...hk,props:lk,emits:ck,setup(e,{emit:t}){const n=e;let o="";const{t:r}=(0,Ga.bU)(),i=(0,v.s3)("image"),a=(0,s.l1)(),d=(0,Jr.l)(),m=(0,l.iH)(),p=(0,l.iH)(!1),f=(0,l.iH)(!0),g=(0,l.iH)(!1),y=(0,l.iH)(),b=(0,l.iH)(),_=w.C5&&"loading"in HTMLImageElement.prototype;let C,S;const k=(0,s.Fl)((()=>a.style)),E=(0,s.Fl)((()=>{const{fit:e}=n;return w.C5&&e?{objectFit:e}:{}})),T=(0,s.Fl)((()=>{const{previewSrcList:e}=n;return Array.isArray(e)&&e.length>0})),M=(0,s.Fl)((()=>{const{previewSrcList:e,initialIndex:t}=n;let o=t;return t>e.length-1&&(o=0),o})),O=(0,s.Fl)((()=>"eager"!==n.loading&&(!_&&"lazy"===n.loading||n.lazy))),D=()=>{w.C5&&(f.value=!0,p.value=!1,m.value=n.src)};function A(e){f.value=!1,p.value=!1,t("load",e)}function R(e){f.value=!1,p.value=!0,t("error",e)}function P(){Hv(y.value,b.value)&&(D(),N())}const I=(0,w.vA)(P,200,!0);async function z(){var e;if(!w.C5)return;await(0,s.Y3)();const{scrollContainer:t}=n;(0,h.kK)(t)?b.value=t:(0,c.HD)(t)&&""!==t?b.value=null!=(e=document.querySelector(t))?e:void 0:y.value&&(b.value=x(y.value)),b.value&&(C=(0,u.ORN)(b,"scroll",I),setTimeout((()=>P()),100))}function N(){w.C5&&b.value&&I&&(null==C||C(),b.value=void 0)}function L(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}function H(){T.value&&(S=(0,u.ORN)("wheel",L,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",g.value=!0,t("show"))}function F(){null==S||S(),document.body.style.overflow=o,g.value=!1,t("close")}function B(e){t("switch",e)}return(0,s.YP)((()=>n.src),(()=>{O.value?(f.value=!0,p.value=!1,N(),z()):D()})),(0,s.bv)((()=>{O.value?z():D()})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"container",ref:y,class:(0,c.C_)([(0,l.SU)(i).b(),e.$attrs.class]),style:(0,c.j5)((0,l.SU)(k))},[p.value?(0,s.WI)(e.$slots,"error",{key:0},(()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).e("error"))},(0,c.zw)((0,l.SU)(r)("el.image.error")),3)])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[void 0!==m.value?((0,s.wg)(),(0,s.iD)("img",(0,s.dG)({key:0},(0,l.SU)(d),{src:m.value,loading:e.loading,style:(0,l.SU)(E),class:[(0,l.SU)(i).e("inner"),(0,l.SU)(T)&&(0,l.SU)(i).e("preview"),f.value&&(0,l.SU)(i).is("loading")],onClick:H,onLoad:A,onError:R}),null,16,uk)):(0,s.kq)("v-if",!0),f.value?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(i).e("wrapper"))},[(0,s.WI)(e.$slots,"placeholder",{},(()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(i).e("placeholder"))},null,2)]))],2)):(0,s.kq)("v-if",!0)],64)),(0,l.SU)(T)?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[g.value?((0,s.wg)(),(0,s.j4)((0,l.SU)(sk),{key:0,"z-index":e.zIndex,"initial-index":(0,l.SU)(M),infinite:e.infinite,"zoom-rate":e.zoomRate,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:F,onSwitch:B},{default:(0,s.w5)((()=>[e.$slots.viewer?((0,s.wg)(),(0,s.iD)("div",dk,[(0,s.WI)(e.$slots,"viewer")])):(0,s.kq)("v-if",!0)])),_:3},8,["z-index","initial-index","infinite","zoom-rate","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):(0,s.kq)("v-if",!0)],64)):(0,s.kq)("v-if",!0)],6))}});var pk=(0,g.Z)(mk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const fk=(0,D.nz)(pk),gk=(0,d.o8)({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Bi.Pp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||(0,h.hj)(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),vk={[m.O7]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[m.e_]:e=>(0,h.hj)(e)||(0,_o.Z)(e),[m.f_]:e=>(0,h.hj)(e)||(0,_o.Z)(e)},yk=["aria-label","onKeydown"],bk=["aria-label","onKeydown"],wk=(0,s.aZ)({name:"ElInputNumber"}),_k=(0,s.aZ)({...wk,props:gk,emits:vk,setup(e,{expose:t,emit:n}){const o=e,{t:r}=(0,Ga.bU)(),i=(0,v.s3)("input-number"),a=(0,l.iH)(),u=(0,l.qj)({currentValue:o.modelValue,userInput:null}),{formItem:d}=(0,Hi.A)(),p=(0,s.Fl)((()=>(0,h.hj)(o.modelValue)&&o.modelValue<=o.min)),f=(0,s.Fl)((()=>(0,h.hj)(o.modelValue)&&o.modelValue>=o.max)),g=(0,s.Fl)((()=>{const e=S(o.step);return(0,h.o8)(o.precision)?Math.max(S(o.modelValue),e):(e>o.precision&&(0,b.N)("InputNumber","precision should not be less than the decimal places of step"),o.precision)})),y=(0,s.Fl)((()=>o.controls&&"right"===o.controlsPosition)),w=(0,Xr.Cd)(),_=(0,Xr.DT)(),x=(0,s.Fl)((()=>{if(null!==u.userInput)return u.userInput;let e=u.currentValue;if((0,_o.Z)(e))return"";if((0,h.hj)(e)){if(Number.isNaN(e))return"";(0,h.o8)(o.precision)||(e=e.toFixed(o.precision))}return e})),C=(e,t)=>{if((0,h.o8)(t)&&(t=g.value),0===t)return Math.round(e);let n=String(e);const o=n.indexOf(".");if(-1===o)return e;const r=n.replace(".","").split(""),i=r[o+t];if(!i)return e;const a=n.length;return"5"===n.charAt(a-1)&&(n=`${n.slice(0,Math.max(0,a-1))}6`),Number.parseFloat(Number(n).toFixed(t))},S=e=>{if((0,_o.Z)(e))return 0;const t=e.toString(),n=t.indexOf(".");let o=0;return-1!==n&&(o=t.length-n-1),o},k=(e,t=1)=>(0,h.hj)(e)?C(e+o.step*t):u.currentValue,E=()=>{if(o.readonly||_.value||f.value)return;const e=Number(x.value)||0,t=k(e);O(t),n(m.e_,u.currentValue)},T=()=>{if(o.readonly||_.value||p.value)return;const e=Number(x.value)||0,t=k(e,-1);O(t),n(m.e_,u.currentValue)},M=(e,t)=>{const{max:r,min:i,step:a,precision:s,stepStrictly:l,valueOnClear:u}=o;r<i&&(0,b._)("InputNumber","min should not be greater than max.");let d=Number(e);if((0,_o.Z)(e)||Number.isNaN(d))return null;if(""===e){if(null===u)return null;d=(0,c.HD)(u)?{min:i,max:r}[u]:u}return l&&(d=C(Math.round(d/a)*a,s)),(0,h.o8)(s)||(d=C(d,s)),(d>r||d<i)&&(d=d>r?r:i,t&&n(m.f_,d)),d},O=(e,t=!0)=>{var r;const i=u.currentValue,a=M(e);t?i!==a&&(u.userInput=null,n(m.f_,a),n(m.O7,a,i),o.validateEvent&&(null==(r=null==d?void 0:d.validate)||r.call(d,"change").catch((e=>(0,b.N)(e)))),u.currentValue=a):n(m.f_,a)},D=e=>{u.userInput=e;const t=""===e?null:Number(e);n(m.e_,t),O(t,!1)},A=e=>{const t=""!==e?Number(e):"";((0,h.hj)(t)&&!Number.isNaN(t)||""===e)&&O(t),u.userInput=null},I=()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.focus)||t.call(e)},z=()=>{var e,t;null==(t=null==(e=a.value)?void 0:e.blur)||t.call(e)},N=e=>{n("focus",e)},L=e=>{var t;n("blur",e),o.validateEvent&&(null==(t=null==d?void 0:d.validate)||t.call(d,"blur").catch((e=>(0,b.N)(e))))};return(0,s.YP)((()=>o.modelValue),(e=>{const t=M(u.userInput),n=M(e,!0);(0,h.hj)(t)||t&&t===n||(u.currentValue=n,u.userInput=null)}),{immediate:!0}),(0,s.bv)((()=>{var e;const{min:t,max:r,modelValue:i}=o,s=null==(e=a.value)?void 0:e.input;if(s.setAttribute("role","spinbutton"),Number.isFinite(r)?s.setAttribute("aria-valuemax",String(r)):s.removeAttribute("aria-valuemax"),Number.isFinite(t)?s.setAttribute("aria-valuemin",String(t)):s.removeAttribute("aria-valuemin"),s.setAttribute("aria-valuenow",String(u.currentValue)),s.setAttribute("aria-disabled",String(_.value)),!(0,h.hj)(i)&&null!=i){let e=Number(i);Number.isNaN(e)&&(e=null),n(m.f_,e)}})),(0,s.ic)((()=>{var e;const t=null==(e=a.value)?void 0:e.input;null==t||t.setAttribute("aria-valuenow",`${u.currentValue}`)})),t({focus:I,blur:z}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(i).b(),(0,l.SU)(i).m((0,l.SU)(w)),(0,l.SU)(i).is("disabled",(0,l.SU)(_)),(0,l.SU)(i).is("without-controls",!e.controls),(0,l.SU)(i).is("controls-right",(0,l.SU)(y))]),onDragstart:t[1]||(t[1]=(0,R.iM)((()=>{}),["prevent"]))},[e.controls?(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{key:0,role:"button","aria-label":(0,l.SU)(r)("el.inputNumber.decrease"),class:(0,c.C_)([(0,l.SU)(i).e("decrease"),(0,l.SU)(i).is("disabled",(0,l.SU)(p))]),onKeydown:(0,R.D2)(T,["enter"])},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,l.SU)(y)?((0,s.wg)(),(0,s.j4)((0,l.SU)(he.ArrowDown),{key:0})):((0,s.wg)(),(0,s.j4)((0,l.SU)(he.Minus),{key:1}))])),_:1})],42,yk)),[[(0,l.SU)(ew),T]]):(0,s.kq)("v-if",!0),e.controls?(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{key:1,role:"button","aria-label":(0,l.SU)(r)("el.inputNumber.increase"),class:(0,c.C_)([(0,l.SU)(i).e("increase"),(0,l.SU)(i).is("disabled",(0,l.SU)(f))]),onKeydown:(0,R.D2)(E,["enter"])},[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,l.SU)(y)?((0,s.wg)(),(0,s.j4)((0,l.SU)(he.ArrowUp),{key:0})):((0,s.wg)(),(0,s.j4)((0,l.SU)(he.Plus),{key:1}))])),_:1})],42,bk)),[[(0,l.SU)(ew),E]]):(0,s.kq)("v-if",!0),(0,s.Wm)((0,l.SU)(me.EZ),{id:e.id,ref_key:"input",ref:a,type:"number",step:e.step,"model-value":(0,l.SU)(x),placeholder:e.placeholder,readonly:e.readonly,disabled:(0,l.SU)(_),size:(0,l.SU)(w),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:t[0]||(t[0]=(0,R.iM)((()=>{}),["prevent"])),onKeydown:[(0,R.D2)((0,R.iM)(E,["prevent"]),["up"]),(0,R.D2)((0,R.iM)(T,["prevent"]),["down"])],onBlur:L,onFocus:N,onInput:D,onChange:A},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var xk=(0,g.Z)(_k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Ck=(0,D.nz)(xk),Sk=(0,d.o8)({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:z.AA}}),kk={click:e=>e instanceof MouseEvent},Ek=["href"],Tk=(0,s.aZ)({name:"ElLink"}),Mk=(0,s.aZ)({...Tk,props:Sk,emits:kk,setup(e,{emit:t}){const n=e,o=(0,v.s3)("link"),r=(0,s.Fl)((()=>[o.b(),o.m(n.type),o.is("disabled",n.disabled),o.is("underline",n.underline&&!n.disabled)]));function i(e){n.disabled||t("click",e)}return(e,t)=>((0,s.wg)(),(0,s.iD)("a",{class:(0,c.C_)((0,l.SU)(r)),href:e.disabled||!e.href?void 0:e.href,onClick:i},[e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1})):(0,s.kq)("v-if",!0),e.$slots.default?((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)((0,l.SU)(o).e("inner"))},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0),e.$slots.icon?(0,s.WI)(e.$slots,"icon",{key:2}):(0,s.kq)("v-if",!0)],10,Ek))}});var Ok=(0,g.Z)(Mk,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Dk=(0,D.nz)(Ok);class Ak{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let n=!1;switch(t.code){case no.EVENT_CODE.down:this.gotoSubIndex(this.subIndex+1),n=!0;break;case no.EVENT_CODE.up:this.gotoSubIndex(this.subIndex-1),n=!0;break;case no.EVENT_CODE.tab:mg(e,"mouseleave");break;case no.EVENT_CODE.enter:case no.EVENT_CODE.space:n=!0,t.currentTarget.click();break}return n&&(t.preventDefault(),t.stopPropagation()),!1}))}))}}class Rk{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Ak(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case no.EVENT_CODE.down:mg(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case no.EVENT_CODE.up:mg(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case no.EVENT_CODE.tab:mg(e.currentTarget,"mouseleave");break;case no.EVENT_CODE.enter:case no.EVENT_CODE.space:t=!0,e.currentTarget.click();break}t&&e.preventDefault()}))}}class Pk{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new Rk(t,e)}))}}const Ik=(0,s.aZ)({name:"ElMenuCollapseTransition",setup(){const e=(0,v.s3)("menu"),t={onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,n){(0,y.cn)(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){(0,y.IV)(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),(0,y.pv)(t,e.m("collapse"))?((0,y.IV)(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),(0,y.cn)(t,e.m("collapse"))):((0,y.cn)(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),(0,y.IV)(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){(0,y.cn)(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}};return{listeners:t}}});function zk(e,t,n,o,r,i){return(0,s.wg)(),(0,s.j4)(R.uT,(0,s.dG)({mode:"out-in"},e.listeners),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)}var Nk=(0,g.Z)(Ik,[["render",zk],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Lk(e,t){const n=(0,s.Fl)((()=>{let n=e.parent;const o=[t.value];while("ElMenu"!==n.type.name)n.props.index&&o.unshift(n.props.index),n=n.parent;return o})),o=(0,s.Fl)((()=>{let t=e.parent;while(t&&!["ElMenu","ElSubMenu"].includes(t.type.name))t=t.parent;return t}));return{parentMenu:o,indexPath:n}}function Hk(e){const t=(0,s.Fl)((()=>{const t=e.backgroundColor;return t?new wa(t).shade(20).toString():""}));return t}const Fk=(e,t)=>{const n=(0,v.s3)("menu");return(0,s.Fl)((()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Hk(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))},Bk=(0,d.o8)({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:z.AA},expandOpenIcon:{type:z.AA},collapseCloseIcon:{type:z.AA},collapseOpenIcon:{type:z.AA}}),Uk="ElSubMenu";var Vk=(0,s.aZ)({name:Uk,props:Bk,setup(e,{slots:t,expose:n}){Li({from:"popper-append-to-body",replacement:"teleported",scope:Uk,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},(0,s.Fl)((()=>void 0!==e.popperAppendToBody)));const o=(0,s.FN)(),{indexPath:r,parentMenu:i}=Lk(o,(0,s.Fl)((()=>e.index))),a=(0,v.s3)("menu"),u=(0,v.s3)("sub-menu"),d=(0,s.f3)("rootMenu");d||(0,b._)(Uk,"can not inject root menu");const h=(0,s.f3)(`subMenu:${i.value.uid}`);h||(0,b._)(Uk,"can not inject sub menu");const m=(0,l.iH)({}),p=(0,l.iH)({});let f;const g=(0,l.iH)(!1),y=(0,l.iH)(),_=(0,l.iH)(null),x=(0,s.Fl)((()=>"horizontal"===z.value&&S.value?"bottom-start":"right-start")),C=(0,s.Fl)((()=>"horizontal"===z.value&&S.value||"vertical"===z.value&&!d.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?M.value?e.expandOpenIcon:e.expandCloseIcon:he.ArrowDown:e.collapseCloseIcon&&e.collapseOpenIcon?M.value?e.collapseOpenIcon:e.collapseCloseIcon:he.ArrowRight)),S=(0,s.Fl)((()=>0===h.level)),k=(0,s.Fl)((()=>{var t;const n=null!=(t=e.teleported)?t:e.popperAppendToBody;return void 0===n?S.value:n})),E=(0,s.Fl)((()=>d.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`)),T=(0,s.Fl)((()=>"horizontal"===z.value&&S.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"])),M=(0,s.Fl)((()=>d.openedMenus.includes(e.index))),O=(0,s.Fl)((()=>{let e=!1;return Object.values(m.value).forEach((t=>{t.active&&(e=!0)})),Object.values(p.value).forEach((t=>{t.active&&(e=!0)})),e})),D=(0,s.Fl)((()=>d.props.backgroundColor||"")),A=(0,s.Fl)((()=>d.props.activeTextColor||"")),I=(0,s.Fl)((()=>d.props.textColor||"")),z=(0,s.Fl)((()=>d.props.mode)),N=(0,l.qj)({index:e.index,indexPath:r,active:O}),L=Fk(d.props,h.level+1),H=(0,s.Fl)((()=>"horizontal"!==z.value?{color:I.value}:{borderBottomColor:O.value?d.props.activeTextColor?A.value:"":"transparent",color:O.value?A.value:I.value})),F=()=>{var e,t,n;return null==(n=null==(t=null==(e=_.value)?void 0:e.popperRef)?void 0:t.popperInstanceRef)?void 0:n.destroy()},B=e=>{e||F()},U=()=>{"hover"===d.props.menuTrigger&&"horizontal"===d.props.mode||d.props.collapse&&"vertical"===d.props.mode||e.disabled||d.handleSubMenuClick({index:e.index,indexPath:r.value,active:O.value})},V=(t,n=e.showTimeout)=>{var o;"focus"!==t.type&&("click"===d.props.menuTrigger&&"horizontal"===d.props.mode||!d.props.collapse&&"vertical"===d.props.mode||e.disabled||(h.mouseInChild.value=!0,null==f||f(),({stop:f}=(0,w.eM)((()=>{d.openMenu(e.index,r.value)}),n)),k.value&&(null==(o=i.value.vnode.el)||o.dispatchEvent(new MouseEvent("mouseenter")))))},j=(t=!1)=>{var n,i;"click"===d.props.menuTrigger&&"horizontal"===d.props.mode||!d.props.collapse&&"vertical"===d.props.mode||(null==f||f(),h.mouseInChild.value=!1,({stop:f}=(0,w.eM)((()=>!g.value&&d.closeMenu(e.index,r.value)),e.hideTimeout)),k.value&&t&&"ElSubMenu"===(null==(n=o.parent)?void 0:n.type.name)&&(null==(i=h.handleMouseleave)||i.call(h,!0)))};(0,s.YP)((()=>d.props.collapse),(e=>B(Boolean(e))));{const e=e=>{p.value[e.index]=e},t=e=>{delete p.value[e.index]};(0,s.JJ)(`subMenu:${o.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:j,mouseInChild:g,level:h.level+1})}return n({opened:M}),(0,s.bv)((()=>{d.addSubMenu(N),h.addSubMenu(N)})),(0,s.Jd)((()=>{h.removeSubMenu(N),d.removeSubMenu(N)})),()=>{var n;const r=[null==(n=t.title)?void 0:n.call(t),(0,s.h)(P.gn,{class:u.e("icon-arrow"),style:{transform:M.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&d.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>(0,c.HD)(C.value)?(0,s.h)(o.appContext.components[C.value]):(0,s.h)(C.value)})],i=d.isMenuPopup?(0,s.h)(Gr,{ref:_,visible:M.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:x.value,teleported:k.value,fallbackPlacements:T.value,transition:E.value,gpuAcceleration:!1},{content:()=>{var n;return(0,s.h)("div",{class:[a.m(z.value),a.m("popup-container"),e.popperClass],onMouseenter:e=>V(e,100),onMouseleave:()=>j(!0),onFocus:e=>V(e,100)},[(0,s.h)("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${x.value}`)],style:L.value},[null==(n=t.default)?void 0:n.call(t)])])},default:()=>(0,s.h)("div",{class:u.e("title"),style:[H.value,{backgroundColor:D.value}],onClick:U},r)}):(0,s.h)(s.HY,{},[(0,s.h)("div",{class:u.e("title"),style:[H.value,{backgroundColor:D.value}],ref:y,onClick:U},r),(0,s.h)(xv,{},{default:()=>{var e;return(0,s.wy)((0,s.h)("ul",{role:"menu",class:[a.b(),a.m("inline")],style:L.value},[null==(e=t.default)?void 0:e.call(t)]),[[R.F8,M.value]])}})]);return(0,s.h)("li",{class:[u.b(),u.is("active",O.value),u.is("opened",M.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:M.value,onMouseenter:V,onMouseleave:()=>j(!0),onFocus:V},[i])}}});const jk=(0,d.o8)({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Wk=e=>Array.isArray(e)&&e.every((e=>(0,c.HD)(e))),Zk={close:(e,t)=>(0,c.HD)(e)&&Wk(t),open:(e,t)=>(0,c.HD)(e)&&Wk(t),select:(e,t,n,o)=>(0,c.HD)(e)&&Wk(t)&&(0,c.Kn)(n)&&(void 0===o||o instanceof Promise)};var $k=(0,s.aZ)({name:"ElMenu",props:jk,emits:Zk,setup(e,{emit:t,slots:n,expose:o}){const r=(0,s.FN)(),i=r.appContext.config.globalProperties.$router,a=(0,l.iH)(),c=(0,v.s3)("menu"),d=(0,v.s3)("sub-menu"),h=(0,l.iH)(-1),m=(0,l.iH)(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),p=(0,l.iH)(e.defaultActive),f=(0,l.iH)({}),g=(0,l.iH)({}),y=(0,s.Fl)((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),b=()=>{const t=p.value&&f.value[p.value];if(!t||"horizontal"===e.mode||e.collapse)return;const n=t.indexPath;n.forEach((e=>{const t=g.value[e];t&&w(e,t.indexPath)}))},w=(n,o)=>{m.value.includes(n)||(e.uniqueOpened&&(m.value=m.value.filter((e=>o.includes(e)))),m.value.push(n),t("open",n,o))},_=e=>{const t=m.value.indexOf(e);-1!==t&&m.value.splice(t,1)},x=(e,n)=>{_(e),t("close",e,n)},C=({index:e,indexPath:t})=>{const n=m.value.includes(e);n?x(e,t):w(e,t)},S=n=>{("horizontal"===e.mode||e.collapse)&&(m.value=[]);const{index:o,indexPath:r}=n;if(!(0,_o.Z)(o)&&!(0,_o.Z)(r))if(e.router&&i){const e=n.route||o,a=i.push(e).then((e=>(e||(p.value=o),e)));t("select",o,r,{index:o,indexPath:r,route:e},a)}else p.value=o,t("select",o,r,{index:o,indexPath:r})},k=t=>{const n=f.value,o=n[t]||p.value&&n[p.value]||n[e.defaultActive];p.value=o?o.index:t},E=()=>{var e,t;if(!a.value)return-1;const n=Array.from(null!=(t=null==(e=a.value)?void 0:e.childNodes)?t:[]).filter((e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue))),o=64,r=Number.parseInt(getComputedStyle(a.value).paddingLeft,10),i=Number.parseInt(getComputedStyle(a.value).paddingRight,10),s=a.value.clientWidth-r-i;let l=0,c=0;return n.forEach(((e,t)=>{l+=e.offsetWidth||0,l<=s-o&&(c=t+1)})),c===n.length?-1:c},T=(e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{e()}),t)}};let M=!0;const O=()=>{const e=()=>{h.value=-1,(0,s.Y3)((()=>{h.value=E()}))};M?e():T(e)(),M=!1};let D;(0,s.YP)((()=>e.defaultActive),(e=>{f.value[e]||(p.value=""),k(e)})),(0,s.YP)((()=>e.collapse),(e=>{e&&(m.value=[])})),(0,s.YP)(f.value,b),(0,s.m0)((()=>{"horizontal"===e.mode&&e.ellipsis?D=(0,u.yU7)(a,O).stop:null==D||D()}));{const t=e=>{g.value[e.index]=e},n=e=>{delete g.value[e.index]},o=e=>{f.value[e.index]=e},i=e=>{delete f.value[e.index]};(0,s.JJ)("rootMenu",(0,l.qj)({props:e,openedMenus:m,items:f,subMenus:g,activeIndex:p,isMenuPopup:y,addMenuItem:o,removeMenuItem:i,addSubMenu:t,removeSubMenu:n,openMenu:w,closeMenu:x,handleMenuItemClick:S,handleSubMenuClick:C})),(0,s.JJ)(`subMenu:${r.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:(0,l.iH)(!1),level:0})}(0,s.bv)((()=>{"horizontal"===e.mode&&new Pk(r.vnode.el,c.namespace.value)}));{const e=e=>{const{indexPath:t}=g.value[e];t.forEach((e=>w(e,t)))};o({open:e,close:_,handleResize:O})}return()=>{var t,o;let r=null!=(o=null==(t=n.default)?void 0:t.call(n))?o:[];const i=[];if("horizontal"===e.mode&&a.value){const t=Rs(r),n=-1===h.value?t:t.slice(0,h.value),o=-1===h.value?[]:t.slice(h.value);(null==o?void 0:o.length)&&e.ellipsis&&(r=n,i.push((0,s.h)(Vk,{index:"sub-menu-more",class:d.e("hide-arrow")},{title:()=>(0,s.h)(P.gn,{class:d.e("icon-more")},{default:()=>(0,s.h)(he.More)}),default:()=>o})))}const l=Fk(e,0),u=(0,s.h)("ul",{key:String(e.collapse),role:"menubar",ref:a,style:l.value,class:{[c.b()]:!0,[c.m(e.mode)]:!0,[c.m("collapse")]:e.collapse}},[...r,...i]);return e.collapseTransition&&"vertical"===e.mode?(0,s.h)(Nk,(()=>u)):u}}});const qk=(0,d.o8)({index:{type:(0,d.Cq)([String,null]),default:null},route:{type:(0,d.Cq)([String,Object])},disabled:Boolean}),Gk={click:e=>(0,c.HD)(e.index)&&Array.isArray(e.indexPath)},Kk="ElMenuItem",Yk=(0,s.aZ)({name:Kk,components:{ElTooltip:Gr},props:qk,emits:Gk,setup(e,{emit:t}){const n=(0,s.FN)(),o=(0,s.f3)("rootMenu"),r=(0,v.s3)("menu"),i=(0,v.s3)("menu-item");o||(0,b._)(Kk,"can not inject root menu");const{parentMenu:a,indexPath:c}=Lk(n,(0,l.Vh)(e,"index")),u=(0,s.f3)(`subMenu:${a.value.uid}`);u||(0,b._)(Kk,"can not inject sub menu");const d=(0,s.Fl)((()=>e.index===o.activeIndex)),h=(0,l.qj)({index:e.index,indexPath:c,active:d}),m=()=>{e.disabled||(o.handleMenuItemClick({index:e.index,indexPath:c.value,route:e.route}),t("click",h))};return(0,s.bv)((()=>{u.addSubMenu(h),o.addMenuItem(h)})),(0,s.Jd)((()=>{u.removeSubMenu(h),o.removeMenuItem(h)})),{parentMenu:a,rootMenu:o,active:d,nsMenu:r,nsMenuItem:i,handleClick:m}}});function Jk(e,t,n,o,r,i){const a=(0,s.up)("el-tooltip");return(0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?((0,s.wg)(),(0,s.j4)(a,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"title")])),default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)(e.nsMenu.be("tooltip","trigger"))},[(0,s.WI)(e.$slots,"default")],2)])),_:3},8,["effect"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.WI)(e.$slots,"default"),(0,s.WI)(e.$slots,"title")],64))],2)}var Xk=(0,g.Z)(Yk,[["render",Jk],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Qk={title:String},eE="ElMenuItemGroup",tE=(0,s.aZ)({name:eE,props:Qk,setup(){const e=(0,v.s3)("menu-item-group");return{ns:e}}});function nE(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)(e.ns.b())},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("title"))},[e.$slots.title?(0,s.WI)(e.$slots,"title",{key:1}):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,c.zw)(e.title),1)],64))],2),(0,s._)("ul",null,[(0,s.WI)(e.$slots,"default")])],2)}var oE=(0,g.Z)(tE,[["render",nE],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const rE=(0,D.nz)($k,{MenuItem:Xk,MenuItemGroup:oE,SubMenu:Vk}),iE=(0,D.dp)(Xk),aE=(0,D.dp)(oE),sE=(0,D.dp)(Vk),lE=(0,d.o8)({icon:{type:z.AA,default:()=>he.Back},title:String,content:{type:String,default:""}}),cE={back:()=>!0},uE=["aria-label"],dE=(0,s.aZ)({name:"ElPageHeader"}),hE=(0,s.aZ)({...dE,props:lE,emits:cE,setup(e,{emit:t}){const n=(0,s.Rr)(),{t:o}=(0,Ga.bU)(),r=(0,v.s3)("page-header"),i=(0,s.Fl)((()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]));function a(){t("back")}return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(i))},[e.$slots.breadcrumb?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(r).e("breadcrumb"))},[(0,s.WI)(e.$slots,"breadcrumb")],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("header"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("left"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("back")),role:"button",tabindex:"0",onClick:a},[e.icon||e.$slots.icon?((0,s.wg)(),(0,s.iD)("div",{key:0,"aria-label":e.title||(0,l.SU)(o)("el.pageHeader.title"),class:(0,c.C_)((0,l.SU)(r).e("icon"))},[(0,s.WI)(e.$slots,"icon",{},(()=>[e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1})):(0,s.kq)("v-if",!0)]))],10,uE)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("title"))},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title||(0,l.SU)(o)("el.pageHeader.title")),1)]))],2)],2),(0,s.Wm)((0,l.SU)(P_),{direction:"vertical"}),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("content"))},[(0,s.WI)(e.$slots,"content",{},(()=>[(0,s.Uk)((0,c.zw)(e.content),1)]))],2)],2),e.$slots.extra?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(r).e("extra"))},[(0,s.WI)(e.$slots,"extra")],2)):(0,s.kq)("v-if",!0)],2),e.$slots.default?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(r).e("main"))},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0)],2))}});var mE=(0,g.Z)(hE,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const pE=(0,D.nz)(mE),fE=Symbol("elPaginationKey"),gE=(0,d.o8)({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:z.AA}}),vE={click:e=>e instanceof MouseEvent},yE=["disabled","aria-label","aria-disabled"],bE={key:0},wE=(0,s.aZ)({name:"ElPaginationPrev"}),_E=(0,s.aZ)({...wE,props:gE,emits:vE,setup(e){const t=e,{t:n}=(0,Ga.bU)(),o=(0,s.Fl)((()=>t.disabled||t.currentPage<=1));return(e,t)=>((0,s.wg)(),(0,s.iD)("button",{type:"button",class:"btn-prev",disabled:(0,l.SU)(o),"aria-label":e.prevText||(0,l.SU)(n)("el.pagination.prev"),"aria-disabled":(0,l.SU)(o),onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.prevText?((0,s.wg)(),(0,s.iD)("span",bE,(0,c.zw)(e.prevText),1)):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.prevIcon)))])),_:1}))],8,yE))}});var xE=(0,g.Z)(_E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const CE=(0,d.o8)({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:z.AA}}),SE=["disabled","aria-label","aria-disabled"],kE={key:0},EE=(0,s.aZ)({name:"ElPaginationNext"}),TE=(0,s.aZ)({...EE,props:CE,emits:["click"],setup(e){const t=e,{t:n}=(0,Ga.bU)(),o=(0,s.Fl)((()=>t.disabled||t.currentPage===t.pageCount||0===t.pageCount));return(e,t)=>((0,s.wg)(),(0,s.iD)("button",{type:"button",class:"btn-next",disabled:(0,l.SU)(o),"aria-label":e.nextText||(0,l.SU)(n)("el.pagination.next"),"aria-disabled":(0,l.SU)(o),onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[e.nextText?((0,s.wg)(),(0,s.iD)("span",kE,(0,c.zw)(e.nextText),1)):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.nextIcon)))])),_:1}))],8,SE))}});var ME=(0,g.Z)(TE,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]),OE=n(2262);const DE=Symbol("ElSelectGroup"),AE=Symbol("ElSelect");function RE(e,t){const n=(0,s.f3)(AE),o=(0,s.f3)(DE,{disabled:!1}),r=(0,s.Fl)((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),i=(0,s.Fl)((()=>n.props.multiple?m(n.props.modelValue,e.value):p(e.value,n.props.modelValue))),a=(0,s.Fl)((()=>{if(n.props.multiple){const e=n.props.modelValue||[];return!i.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1})),c=(0,s.Fl)((()=>e.label||(r.value?"":e.value))),u=(0,s.Fl)((()=>e.value||e.label||"")),d=(0,s.Fl)((()=>e.disabled||t.groupDisabled||a.value)),h=(0,s.FN)(),m=(e=[],t)=>{if(r.value){const o=n.props.valueKey;return e&&e.some((e=>(0,l.IU)((0,OE.Z)(e,o))===(0,OE.Z)(t,o)))}return e&&e.includes(t)},p=(e,t)=>{if(r.value){const{valueKey:o}=n.props;return(0,OE.Z)(e,o)===(0,OE.Z)(t,o)}return e===t},f=()=>{e.disabled||o.disabled||(n.hoverIndex=n.optionsArray.indexOf(h.proxy))};(0,s.YP)((()=>c.value),(()=>{e.created||n.props.remote||n.setSelected()})),(0,s.YP)((()=>e.value),((t,o)=>{const{remote:r,valueKey:i}=n.props;if(Object.is(t,o)||(n.onOptionDestroy(o,h.proxy),n.onOptionCreate(h.proxy)),!e.created&&!r){if(i&&"object"===typeof t&&"object"===typeof o&&t[i]===o[i])return;n.setSelected()}})),(0,s.YP)((()=>o.disabled),(()=>{t.groupDisabled=o.disabled}),{immediate:!0});const{queryChange:g}=(0,l.IU)(n);return(0,s.YP)(g,(o=>{const{query:r}=(0,l.SU)(o),i=new RegExp(Qf(r),"i");t.visible=i.test(c.value)||e.created,t.visible||n.filteredOptionsCount--}),{immediate:!0}),{select:n,currentLabel:c,currentValue:u,itemSelected:i,isDisabled:d,hoverItem:f}}const PE=(0,s.aZ)({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=(0,v.s3)("select"),n=(0,l.qj)({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:o,itemSelected:r,isDisabled:i,select:a,hoverItem:c}=RE(e,n),{visible:u,hover:d}=(0,l.BK)(n),h=(0,s.FN)().proxy;function m(){!0!==e.disabled&&!0!==n.groupDisabled&&a.handleOptionSelect(h,!0)}return a.onOptionCreate(h),(0,s.Jd)((()=>{const e=h.value,{selected:t}=a,n=a.props.multiple?t:[t],o=n.some((e=>e.value===h.value));(0,s.Y3)((()=>{a.cachedOptions.get(e)!==h||o||a.cachedOptions.delete(e)})),a.onOptionDestroy(e,h)})),{ns:t,currentLabel:o,itemSelected:r,isDisabled:i,select:a,hoverItem:c,visible:u,hover:d,selectOptionClick:m,states:n}}});function IE(e,t,n,o,r,i){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=(0,R.iM)(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s._)("span",null,(0,c.zw)(e.currentLabel),1)]))],34)),[[R.F8,e.visible]])}var zE=(0,g.Z)(PE,[["render",IE],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const NE=(0,s.aZ)({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=(0,s.f3)(AE),t=(0,v.s3)("select"),n=(0,s.Fl)((()=>e.props.popperClass)),o=(0,s.Fl)((()=>e.props.multiple)),r=(0,s.Fl)((()=>e.props.fitInputWidth)),i=(0,l.iH)("");function a(){var t;i.value=`${null==(t=e.selectWrapper)?void 0:t.offsetWidth}px`}return(0,s.bv)((()=>{a(),(0,u.yU7)(e.selectWrapper,a)})),{ns:t,minWidth:i,popperClass:n,isMultiple:o,isFitInputWidth:r}}});function LE(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:(0,c.j5)({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[(0,s.WI)(e.$slots,"default")],6)}var HE=(0,g.Z)(NE,[["render",LE],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const FE=e=>li.V[e||"default"];function BE(e){const{t:t}=(0,Ga.bU)();return(0,l.qj)({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const UE=(e,t,n)=>{const{t:o}=(0,Ga.bU)(),r=(0,v.s3)("select");Li({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},(0,s.Fl)((()=>!1===e.suffixTransition)));const i=(0,l.iH)(null),a=(0,l.iH)(null),u=(0,l.iH)(null),d=(0,l.iH)(null),p=(0,l.iH)(null),f=(0,l.iH)(null),g=(0,l.iH)(null),y=(0,l.iH)(-1),_=(0,l.XI)({query:""}),x=(0,l.XI)(""),C=(0,l.iH)([]);let S=0;const{form:E,formItem:T}=(0,Hi.A)(),M=(0,s.Fl)((()=>!e.filterable||e.multiple||!t.visible)),O=(0,s.Fl)((()=>e.disabled||(null==E?void 0:E.disabled))),D=(0,s.Fl)((()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue,o=e.clearable&&!O.value&&t.inputHovering&&n;return o})),A=(0,s.Fl)((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),R=(0,s.Fl)((()=>r.is("reverse",A.value&&t.visible&&e.suffixTransition))),P=(0,s.Fl)((()=>e.remote?300:0)),I=(0,s.Fl)((()=>e.loading?e.loadingText||o("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||o("el.select.noMatch"):0===t.options.size?e.noDataText||o("el.select.noData"):null))),z=(0,s.Fl)((()=>{const e=Array.from(t.options.values()),n=[];return C.value.forEach((t=>{const o=e.findIndex((e=>e.currentLabel===t));o>-1&&n.push(e[o])})),n.length?n:e})),N=(0,s.Fl)((()=>Array.from(t.cachedOptions.values()))),L=(0,s.Fl)((()=>{const n=z.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!n})),H=(0,Xr.Cd)(),F=(0,s.Fl)((()=>["small"].includes(H.value)?"small":"default")),B=(0,s.Fl)({get(){return t.visible&&!1!==I.value},set(e){t.visible=e}});(0,s.YP)([()=>O.value,()=>H.value,()=>null==E?void 0:E.size],(()=>{(0,s.Y3)((()=>{U()}))})),(0,s.YP)((()=>e.placeholder),(n=>{t.cachedPlaceHolder=t.currentPlaceholder=n;const o=e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0;o&&(t.currentPlaceholder="")})),(0,s.YP)((()=>e.modelValue),((n,o)=>{e.multiple&&(U(),n&&n.length>0||a.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",V(t.query))),Z(),e.filterable&&!e.multiple&&(t.inputLength=20),!Jm(n,o)&&e.validateEvent&&(null==T||T.validate("change").catch((e=>(0,b.N)(e))))}),{flush:"post",deep:!0}),(0,s.YP)((()=>t.visible),(o=>{var r,i,h,m,p;o?(null==(i=null==(r=d.value)?void 0:r.updatePopper)||i.call(r),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(m=null==(h=u.value)?void 0:h.focus)||m.call(h),e.multiple?null==(p=a.value)||p.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),V(t.query),e.multiple||e.remote||(_.value.query="",(0,l.oR)(_),(0,l.oR)(x)))):(e.filterable&&((0,c.mf)(e.filterMethod)&&e.filterMethod(""),(0,c.mf)(e.remoteMethod)&&e.remoteMethod("")),a.value&&a.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,q(),(0,s.Y3)((()=>{a.value&&""===a.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",o)})),(0,s.YP)((()=>t.options.entries()),(()=>{var n,o,r;if(!w.C5)return;null==(o=null==(n=d.value)?void 0:n.updatePopper)||o.call(n),e.multiple&&U();const i=(null==(r=f.value)?void 0:r.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||Z(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&W()}),{flush:"post"}),(0,s.YP)((()=>t.hoverIndex),(e=>{(0,h.hj)(e)&&e>-1?y.value=z.value[e]||{}:y.value={},z.value.forEach((e=>{e.hover=y.value===e}))}));const U=()=>{(0,s.Y3)((()=>{var e,n;if(!i.value)return;const o=i.value.$el.querySelector("input");S=S||(o.clientHeight>0?o.clientHeight+2:0);const r=p.value,a=FE(H.value||(null==E?void 0:E.size)),s=H.value||a===S||S<=0?a:S,l=null===o.offsetParent;!l&&(o.style.height=(0===t.selected.length?s:Math.max(r?r.clientHeight+(r.clientHeight>s?6:0):0,s))-2+"px"),t.tagInMultiLine=Number.parseFloat(o.style.height)>=s,t.visible&&!1!==I.value&&(null==(n=null==(e=d.value)?void 0:e.updatePopper)||n.call(e))}))},V=async n=>{t.previousQuery===n||t.isOnComposition||(null!==t.previousQuery||!(0,c.mf)(e.filterMethod)&&!(0,c.mf)(e.remoteMethod)?(t.previousQuery=n,(0,s.Y3)((()=>{var e,n;t.visible&&(null==(n=null==(e=d.value)?void 0:e.updatePopper)||n.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&(0,s.Y3)((()=>{const n=15*a.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,n):n,j(),U()})),e.remote&&(0,c.mf)(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(n)):(0,c.mf)(e.filterMethod)?(e.filterMethod(n),(0,l.oR)(x)):(t.filteredOptionsCount=t.optionsCount,_.value.query=n,(0,l.oR)(_),(0,l.oR)(x)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await(0,s.Y3)(),W())):t.previousQuery=n)},j=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=a.value.value?"":t.cachedPlaceHolder)},W=()=>{const e=z.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),n=e.find((e=>e.created)),o=e[0];t.hoverIndex=re(z.value,n||o)},Z=()=>{var n;if(!e.multiple){const o=$(e.modelValue);return(null==(n=o.props)?void 0:n.created)?(t.createdLabel=o.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=o.currentLabel,t.selected=o,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{o.push($(e))})),t.selected=o,(0,s.Y3)((()=>{U()}))},$=n=>{let o;const r="object"===(0,c.W7)(n).toLowerCase(),i="null"===(0,c.W7)(n).toLowerCase(),a="undefined"===(0,c.W7)(n).toLowerCase();for(let c=t.cachedOptions.size-1;c>=0;c--){const t=N.value[c],i=r?(0,OE.Z)(t.value,e.valueKey)===(0,OE.Z)(n,e.valueKey):t.value===n;if(i){o={value:n,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(o)return o;const s=r?n.label:i||a?"":n,l={value:n,currentLabel:s};return e.multiple&&(l.hitState=!1),l},q=()=>{setTimeout((()=>{const n=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>z.value.findIndex((t=>(0,OE.Z)(t,n)===(0,OE.Z)(e,n)))))):t.hoverIndex=-1:t.hoverIndex=z.value.findIndex((e=>xe(e)===xe(t.selected)))}),300)},G=()=>{var t,n;K(),null==(n=null==(t=d.value)?void 0:t.updatePopper)||n.call(t),e.multiple&&U()},K=()=>{var e;t.inputWidth=null==(e=i.value)?void 0:e.$el.offsetWidth},Y=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,V(t.query))},J=de((()=>{Y()}),P.value),X=de((e=>{V(e.target.value)}),P.value),Q=t=>{Jm(e.modelValue,t)||n.emit(m.O7,t)},ee=o=>{if(o.code!==no.EVENT_CODE.delete){if(o.target.value.length<=0&&!ue()){const t=e.modelValue.slice();t.pop(),n.emit(m.f_,t),Q(t)}1===o.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}},te=(o,r)=>{const i=t.selected.indexOf(r);if(i>-1&&!O.value){const t=e.modelValue.slice();t.splice(i,1),n.emit(m.f_,t),Q(t),n.emit("remove-tag",r.value)}o.stopPropagation()},ne=o=>{o.stopPropagation();const r=e.multiple?[]:"";if(!(0,c.HD)(r))for(const e of t.selected)e.isDisabled&&r.push(e.value);n.emit(m.f_,r),Q(r),t.hoverIndex=-1,t.visible=!1,n.emit("clear")},oe=(o,r)=>{var i;if(e.multiple){const r=(e.modelValue||[]).slice(),s=re(r,o.value);s>-1?r.splice(s,1):(e.multipleLimit<=0||r.length<e.multipleLimit)&&r.push(o.value),n.emit(m.f_,r),Q(r),o.created&&(t.query="",V(""),t.inputLength=20),e.filterable&&(null==(i=a.value)||i.focus())}else n.emit(m.f_,o.value),Q(o.value),t.visible=!1;t.isSilentBlur=r,ie(),t.visible||(0,s.Y3)((()=>{ae(o)}))},re=(t=[],n)=>{if(!(0,c.Kn)(n))return t.indexOf(n);const o=e.valueKey;let r=-1;return t.some(((e,t)=>(0,l.IU)((0,OE.Z)(e,o))===(0,OE.Z)(n,o)&&(r=t,!0))),r},ie=()=>{t.softFocus=!0;const e=a.value||i.value;e&&(null==e||e.focus())},ae=e=>{var t,n,o,i,a;const s=Array.isArray(e)?e[0]:e;let l=null;if(null==s?void 0:s.value){const e=z.value.filter((e=>e.value===s.value));e.length>0&&(l=e[0].$el)}if(d.value&&l){const e=null==(i=null==(o=null==(n=null==(t=d.value)?void 0:t.popperRef)?void 0:n.contentRef)?void 0:o.querySelector)?void 0:i.call(o,`.${r.be("dropdown","wrap")}`);e&&k(e,l)}null==(a=g.value)||a.handleScroll()},se=e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},le=(e,n)=>{t.options.get(e)===n&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},ce=e=>{e.code!==no.EVENT_CODE.backspace&&ue(!1),t.inputLength=15*a.value.value.length+20,U()},ue=e=>{if(!Array.isArray(t.selected))return;const n=t.selected[t.selected.length-1];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},he=e=>{const n=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,(0,s.Y3)((()=>V(n)));else{const e=n[n.length-1]||"";t.isOnComposition=!(0,zg.w)(e)}},me=()=>{(0,s.Y3)((()=>ae(t.selected)))},pe=o=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),n.emit("focus",o))},fe=()=>{var e,n,o;t.visible=!1,null==(e=i.value)||e.blur(),null==(o=null==(n=u.value)?void 0:n.blur)||o.call(n)},ge=e=>{(0,s.Y3)((()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",e)})),t.softFocus=!1},ve=e=>{ne(e)},ye=()=>{t.visible=!1},be=e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},we=e=>{var n;e&&!t.mouseEnter||O.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:d.value&&d.value.isFocusInsideContent()||(t.visible=!t.visible),t.visible&&(null==(n=a.value||i.value)||n.focus()))},_e=()=>{t.visible?z.value[t.hoverIndex]&&oe(z.value[t.hoverIndex],void 0):we()},xe=t=>(0,c.Kn)(t.value)?(0,OE.Z)(t.value,e.valueKey):t.value,Ce=(0,s.Fl)((()=>z.value.filter((e=>e.visible)).every((e=>e.disabled)))),Se=(0,s.Fl)((()=>t.selected.slice(0,e.maxCollapseTags))),ke=(0,s.Fl)((()=>t.selected.slice(e.maxCollapseTags))),Ee=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!Ce.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const n=z.value[t.hoverIndex];!0!==n.disabled&&!0!==n.states.groupDisabled&&n.visible||Ee(e),(0,s.Y3)((()=>ae(y.value)))}}else t.visible=!0},Te=()=>{t.mouseEnter=!0},Me=()=>{t.mouseEnter=!1};return{optionList:C,optionsArray:z,selectSize:H,handleResize:G,debouncedOnInputChange:J,debouncedQueryChange:X,deletePrevTag:ee,deleteTag:te,deleteSelected:ne,handleOptionSelect:oe,scrollToOption:ae,readonly:M,resetInputHeight:U,showClose:D,iconComponent:A,iconReverse:R,showNewOption:L,collapseTagSize:F,setSelected:Z,managePlaceholder:j,selectDisabled:O,emptyText:I,toggleLastOptionHitState:ue,resetInputState:ce,handleComposition:he,onOptionCreate:se,onOptionDestroy:le,handleMenuEnter:me,handleFocus:pe,blur:fe,handleBlur:ge,handleClearClick:ve,handleClose:ye,handleKeydownEscape:be,toggleMenu:we,selectOption:_e,getValueKey:xe,navigateOptions:Ee,dropMenuVisible:B,queryChange:_,groupQueryChange:x,showTagList:Se,collapseTagList:ke,reference:i,input:a,iOSInput:u,tooltipRef:d,tags:p,selectWrapper:f,scrollbar:g,handleMouseEnter:Te,handleMouseLeave:Me}};var VE=(0,s.aZ)({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:n}){let o=[];function r(e,t){if(e.length!==t.length)return!1;for(const[n]of e.entries())if(e[n]!=t[n])return!1;return!0}return()=>{var e,i;const a=null==(e=t.default)?void 0:e.call(t),s=[];function l(e){Array.isArray(e)&&e.forEach((e=>{var t,n,o,r;const i=null==(t=(null==e?void 0:e.type)||{})?void 0:t.name;"ElOptionGroup"===i?l((0,c.HD)(e.children)||Array.isArray(e.children)||!(0,c.mf)(null==(n=e.children)?void 0:n.default)?e.children:null==(o=e.children)?void 0:o.default()):"ElOption"===i?s.push(null==(r=e.props)?void 0:r.label):Array.isArray(e.children)&&l(e.children)}))}return a.length&&l(null==(i=a[0])?void 0:i.children),r(s,o)||(o=s,n("update-options",s)),a}}});const jE=e=>["",...li.k].includes(e),WE=e=>({focus:()=>{var t,n;null==(n=null==(t=e.value)?void 0:t.focus)||n.call(t)}}),ZE="ElSelect",$E=(0,s.aZ)({name:ZE,componentName:ZE,components:{ElInput:me.EZ,ElSelectMenu:HE,ElOption:zE,ElOptions:VE,ElTag:Rg,ElScrollbar:Ae,ElTooltip:Gr,ElIcon:P.gn},directives:{ClickOutside:Fg},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:jE},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:eo.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:z.AA,default:he.CircleClose},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:z.AA,default:he.ArrowDown},tagType:{...Tg.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:ot,default:"bottom-start"}},emits:[m.f_,m.O7,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=(0,v.s3)("select"),o=(0,v.s3)("input"),{t:r}=(0,Ga.bU)(),i=BE(e),{optionList:a,optionsArray:c,selectSize:d,readonly:h,handleResize:p,collapseTagSize:f,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:b,deleteTag:_,deleteSelected:x,handleOptionSelect:C,scrollToOption:S,setSelected:k,resetInputHeight:E,managePlaceholder:T,showClose:M,selectDisabled:O,iconComponent:D,iconReverse:A,showNewOption:R,emptyText:P,toggleLastOptionHitState:I,resetInputState:z,handleComposition:N,onOptionCreate:L,onOptionDestroy:H,handleMenuEnter:F,handleFocus:B,blur:U,handleBlur:V,handleClearClick:j,handleClose:W,handleKeydownEscape:Z,toggleMenu:$,selectOption:q,getValueKey:G,navigateOptions:K,dropMenuVisible:Y,reference:J,input:X,iOSInput:Q,tooltipRef:ee,tags:te,selectWrapper:ne,scrollbar:oe,queryChange:re,groupQueryChange:ie,handleMouseEnter:ae,handleMouseLeave:se,showTagList:le,collapseTagList:ce}=UE(e,i,t),{focus:ue}=WE(J),{inputWidth:de,selected:he,inputLength:me,filteredOptionsCount:pe,visible:fe,softFocus:ge,selectedLabel:ve,hoverIndex:ye,query:be,inputHovering:we,currentPlaceholder:_e,menuVisibleOnFocus:xe,isOnComposition:Ce,isSilentBlur:Se,options:ke,cachedOptions:Ee,optionsCount:Te,prefixWidth:Me,tagInMultiLine:Oe}=(0,l.BK)(i),De=(0,s.Fl)((()=>{const t=[n.b()],o=(0,l.SU)(d);return o&&t.push(n.m(o)),e.disabled&&t.push(n.m("disabled")),t})),Ae=(0,s.Fl)((()=>({maxWidth:(0,l.SU)(de)-32+"px",width:"100%"}))),Re=(0,s.Fl)((()=>{const e=(0,l.SU)(de)>123?(0,l.SU)(de)-123:(0,l.SU)(de)-75;return{maxWidth:`${e}px`}}));(0,s.JJ)(AE,(0,l.qj)({props:e,options:ke,optionsArray:c,cachedOptions:Ee,optionsCount:Te,filteredOptionsCount:pe,hoverIndex:ye,handleOptionSelect:C,onOptionCreate:L,onOptionDestroy:H,selectWrapper:ne,selected:he,setSelected:k,queryChange:re,groupQueryChange:ie})),(0,s.bv)((()=>{i.cachedPlaceHolder=_e.value=e.placeholder||(()=>r("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(_e.value=""),(0,u.yU7)(ne,p),e.remote&&e.multiple&&E(),(0,s.Y3)((()=>{const e=J.value&&J.value.$el;if(e&&(de.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${o.e("prefix")}`);Me.value=Math.max(t.getBoundingClientRect().width+5,30)}})),k()})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(m.f_,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(m.f_,"");const Pe=(0,s.Fl)((()=>{var e,t;return null==(t=null==(e=ee.value)?void 0:e.popperRef)?void 0:t.contentRef})),Ie=e=>{a.value=e};return{isIOS:w.gn,onOptionsRendered:Ie,tagInMultiLine:Oe,prefixWidth:Me,selectSize:d,readonly:h,handleResize:p,collapseTagSize:f,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:b,deleteTag:_,deleteSelected:x,handleOptionSelect:C,scrollToOption:S,inputWidth:de,selected:he,inputLength:me,filteredOptionsCount:pe,visible:fe,softFocus:ge,selectedLabel:ve,hoverIndex:ye,query:be,inputHovering:we,currentPlaceholder:_e,menuVisibleOnFocus:xe,isOnComposition:Ce,isSilentBlur:Se,options:ke,resetInputHeight:E,managePlaceholder:T,showClose:M,selectDisabled:O,iconComponent:D,iconReverse:A,showNewOption:R,emptyText:P,toggleLastOptionHitState:I,resetInputState:z,handleComposition:N,handleMenuEnter:F,handleFocus:B,blur:U,handleBlur:V,handleClearClick:j,handleClose:W,handleKeydownEscape:Z,toggleMenu:$,selectOption:q,getValueKey:G,navigateOptions:K,dropMenuVisible:Y,focus:ue,reference:J,input:X,iOSInput:Q,tooltipRef:ee,popperPaneRef:Pe,tags:te,selectWrapper:ne,scrollbar:oe,wrapperKls:De,selectTagsStyle:Ae,nsSelect:n,tagTextStyle:Re,handleMouseEnter:ae,handleMouseLeave:se,showTagList:le,collapseTagList:ce}}}),qE=["disabled","autocomplete"],GE=["disabled"],KE={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function YE(e,t,n,o,r,i){const a=(0,s.up)("el-tag"),l=(0,s.up)("el-tooltip"),u=(0,s.up)("el-icon"),d=(0,s.up)("el-input"),h=(0,s.up)("el-option"),m=(0,s.up)("el-options"),p=(0,s.up)("el-scrollbar"),f=(0,s.up)("el-select-menu"),g=(0,s.Q2)("click-outside");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref:"selectWrapper",class:(0,c.C_)(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[22]||(t[22]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:t[23]||(t[23]=(0,R.iM)(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[(0,s.Wm)(l,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=t=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=t=>e.inputHovering=!1)},[e.multiple?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"tags",class:(0,c.C_)([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:(0,c.j5)(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?((0,s.wg)(),(0,s.j4)(R.uT,{key:0,onAfterLeave:e.resetInputHeight},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.showTagList,(t=>((0,s.wg)(),(0,s.j4)(a,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelect.e("tags-text")),style:(0,c.j5)(e.tagTextStyle)},(0,c.zw)(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?((0,s.wg)(),(0,s.j4)(a,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:(0,s.w5)((()=>[e.collapseTagsTooltip?((0,s.wg)(),(0,s.j4)(l,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelect.e("tags-text"))},"+ "+(0,c.zw)(e.selected.length-e.maxCollapseTags),3)])),content:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)(e.nsSelect.e("collapse-tags"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.collapseTagList,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.getValueKey(t),class:(0,c.C_)(e.nsSelect.e("collapse-tag"))},[(0,s.Wm)(a,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelect.e("tags-text")),style:(0,c.j5)({maxWidth:e.inputWidth-75+"px"})},(0,c.zw)(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)(e.nsSelect.e("tags-text"))},"+ "+(0,c.zw)(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):(0,s.kq)("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):(0,s.kq)("v-if",!0),e.collapseTags?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)(R.uT,{key:1,onAfterLeave:e.resetInputHeight},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.selected,(t=>((0,s.wg)(),(0,s.j4)(a,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelect.e("tags-text")),style:(0,c.j5)({maxWidth:e.inputWidth-75+"px"})},(0,c.zw)(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],2)])),_:1},8,["onAfterLeave"])),e.filterable?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",class:(0,c.C_)([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:(0,c.j5)({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:e.inputLength/(e.inputWidth-32)+"%",maxWidth:e.inputWidth-42+"px"}),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[3]||(t[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[4]||(t[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[5]||(t[5]=(0,R.D2)((0,R.iM)((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[6]||(t[6]=(0,R.D2)((0,R.iM)((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[7]||(t[7]=(0,R.D2)(((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t)),["esc"])),t[8]||(t[8]=(0,R.D2)((0,R.iM)(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[9]||(t[9]=(0,R.D2)(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[10]||(t[10]=(0,R.D2)((t=>e.visible=!1),["tab"]))],onCompositionstart:t[11]||(t[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[14]||(t[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,qE)),[[R.nr,e.query]]):(0,s.kq)("v-if",!0)],6)):(0,s.kq)("v-if",!0),(0,s.kq)(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?((0,s.wg)(),(0,s.iD)("input",{key:1,ref:"iOSInput",class:(0,c.C_)([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,GE)):(0,s.kq)("v-if",!0),(0,s.Wm)(d,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=t=>e.selectedLabel=t),type:"text",placeholder:"function"===typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:(0,c.C_)([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=(0,R.D2)((0,R.iM)((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[17]||(t[17]=(0,R.D2)((0,R.iM)((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),(0,R.D2)((0,R.iM)(e.selectOption,["stop","prevent"]),["enter"]),(0,R.D2)(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=(0,R.D2)((t=>e.visible=!1),["tab"]))]},(0,s.Nv)({suffix:(0,s.w5)((()=>[e.iconComponent&&!e.showClose?((0,s.wg)(),(0,s.j4)(u,{key:0,class:(0,c.C_)([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.iconComponent)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),e.showClose&&e.clearIcon?((0,s.wg)(),(0,s.j4)(u,{key:1,class:(0,c.C_)([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:(0,s.w5)((()=>[(0,s._)("div",KE,[(0,s.WI)(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)])),content:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(p,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:(0,c.C_)([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&0===e.filteredOptionsCount)])},{default:(0,s.w5)((()=>[e.showNewOption?((0,s.wg)(),(0,s.j4)(h,{key:0,value:e.query,created:!0},null,8,["value"])):(0,s.kq)("v-if",!0),(0,s.Wm)(m,{onUpdateOptions:e.onOptionsRendered},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["wrap-class","view-class","class"]),[[R.F8,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[e.$slots.empty?(0,s.WI)(e.$slots,"empty",{key:0}):((0,s.wg)(),(0,s.iD)("p",{key:1,class:(0,c.C_)(e.nsSelect.be("dropdown","empty"))},(0,c.zw)(e.emptyText),3))],64)):(0,s.kq)("v-if",!0)])),_:3})])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[g,e.handleClose,e.popperPaneRef]])}var JE=(0,g.Z)($E,[["render",YE],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const XE=(0,s.aZ)({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=(0,v.s3)("select"),n=(0,l.iH)(!0),o=(0,s.FN)(),r=(0,l.iH)([]);(0,s.JJ)(DE,(0,l.qj)({...(0,l.BK)(e)}));const i=(0,s.f3)(AE);(0,s.bv)((()=>{r.value=a(o.subTree)}));const a=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var n;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(n=e.children)?void 0:n.length)&&t.push(...a(e))})),t},{groupQueryChange:c}=(0,l.IU)(i);return(0,s.YP)(c,(()=>{n.value=r.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:n,ns:t}}});function QE(e,t,n,o,r,i){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("ul",{class:(0,c.C_)(e.ns.be("group","wrap"))},[(0,s._)("li",{class:(0,c.C_)(e.ns.be("group","title"))},(0,c.zw)(e.label),3),(0,s._)("li",null,[(0,s._)("ul",{class:(0,c.C_)(e.ns.b("group"))},[(0,s.WI)(e.$slots,"default")],2)])],2)),[[R.F8,e.visible]])}var eT=(0,g.Z)(XE,[["render",QE],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const tT=(0,D.nz)(JE,{Option:zE,OptionGroup:eT}),nT=(0,D.dp)(zE),oT=(0,D.dp)(eT),rT=()=>(0,s.f3)(fE,{}),iT=(0,d.o8)({pageSize:{type:Number,required:!0},pageSizes:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:li.k}}),aT=(0,s.aZ)({name:"ElPaginationSizes"}),sT=(0,s.aZ)({...aT,props:iT,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:o}=(0,Ga.bU)(),r=(0,v.s3)("pagination"),i=rT(),a=(0,l.iH)(n.pageSize);(0,s.YP)((()=>n.pageSizes),((e,o)=>{if(!Jm(e,o)&&Array.isArray(e)){const o=e.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",o)}})),(0,s.YP)((()=>n.pageSize),(e=>{a.value=e}));const u=(0,s.Fl)((()=>n.pageSizes));function d(e){var t;e!==a.value&&(a.value=e,null==(t=i.handleSizeChange)||t.call(i,Number(e)))}return(e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(r).e("sizes"))},[(0,s.Wm)((0,l.SU)(tT),{"model-value":a.value,disabled:e.disabled,"popper-class":e.popperClass,size:e.size,"validate-event":!1,onChange:d},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(u),(e=>((0,s.wg)(),(0,s.j4)((0,l.SU)(nT),{key:e,value:e,label:e+(0,l.SU)(o)("el.pagination.pagesize")},null,8,["value","label"])))),128))])),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var lT=(0,g.Z)(sT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const cT=(0,d.o8)({size:{type:String,values:li.k}}),uT=["disabled"],dT=(0,s.aZ)({name:"ElPaginationJumper"}),hT=(0,s.aZ)({...dT,props:cT,setup(e){const{t:t}=(0,Ga.bU)(),n=(0,v.s3)("pagination"),{pageCount:o,disabled:r,currentPage:i,changeEvent:a}=rT(),u=(0,l.iH)(),d=(0,s.Fl)((()=>{var e;return null!=(e=u.value)?e:null==i?void 0:i.value}));function h(e){u.value=e?+e:""}function m(e){e=Math.trunc(+e),null==a||a(e),u.value=void 0}return(e,i)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(n).e("jump")),disabled:(0,l.SU)(r)},[(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(n).e("goto")])},(0,c.zw)((0,l.SU)(t)("el.pagination.goto")),3),(0,s.Wm)((0,l.SU)(me.EZ),{size:e.size,class:(0,c.C_)([(0,l.SU)(n).e("editor"),(0,l.SU)(n).is("in-pagination")]),min:1,max:(0,l.SU)(o),disabled:(0,l.SU)(r),"model-value":(0,l.SU)(d),"validate-event":!1,label:(0,l.SU)(t)("el.pagination.page"),type:"number","onUpdate:modelValue":h,onChange:m},null,8,["size","class","max","disabled","model-value","label"]),(0,s._)("span",{class:(0,c.C_)([(0,l.SU)(n).e("classifier")])},(0,c.zw)((0,l.SU)(t)("el.pagination.pageClassifier")),3)],10,uT))}});var mT=(0,g.Z)(hT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const pT=(0,d.o8)({total:{type:Number,default:1e3}}),fT=["disabled"],gT=(0,s.aZ)({name:"ElPaginationTotal"}),vT=(0,s.aZ)({...gT,props:pT,setup(e){const{t:t}=(0,Ga.bU)(),n=(0,v.s3)("pagination"),{disabled:o}=rT();return(e,r)=>((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)((0,l.SU)(n).e("total")),disabled:(0,l.SU)(o)},(0,c.zw)((0,l.SU)(t)("el.pagination.total",{total:e.total})),11,fT))}});var yT=(0,g.Z)(vT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const bT=(0,d.o8)({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),wT=["onKeyup"],_T=["aria-current","aria-label","tabindex"],xT=["tabindex","aria-label"],CT=["aria-current","aria-label","tabindex"],ST=["tabindex","aria-label"],kT=["aria-current","aria-label","tabindex"],ET=(0,s.aZ)({name:"ElPaginationPager"}),TT=(0,s.aZ)({...ET,props:bT,emits:["change"],setup(e,{emit:t}){const n=e,o=(0,v.s3)("pager"),r=(0,v.s3)("icon"),{t:i}=(0,Ga.bU)(),a=(0,l.iH)(!1),u=(0,l.iH)(!1),d=(0,l.iH)(!1),h=(0,l.iH)(!1),m=(0,l.iH)(!1),p=(0,l.iH)(!1),f=(0,s.Fl)((()=>{const e=n.pagerCount,t=(e-1)/2,o=Number(n.currentPage),r=Number(n.pageCount);let i=!1,a=!1;r>e&&(o>e-t&&(i=!0),o<r-t&&(a=!0));const s=[];if(i&&!a){const t=r-(e-2);for(let e=t;e<r;e++)s.push(e)}else if(!i&&a)for(let n=2;n<e;n++)s.push(n);else if(i&&a){const t=Math.floor(e/2)-1;for(let e=o-t;e<=o+t;e++)s.push(e)}else for(let n=2;n<r;n++)s.push(n);return s})),g=(0,s.Fl)((()=>n.disabled?-1:0));function y(e=!1){n.disabled||(e?d.value=!0:h.value=!0)}function b(e=!1){e?m.value=!0:p.value=!0}function w(e){const o=e.target;if("li"===o.tagName.toLowerCase()&&Array.from(o.classList).includes("number")){const e=Number(o.textContent);e!==n.currentPage&&t("change",e)}else"li"===o.tagName.toLowerCase()&&Array.from(o.classList).includes("more")&&_(e)}function _(e){const o=e.target;if("ul"===o.tagName.toLowerCase()||n.disabled)return;let r=Number(o.textContent);const i=n.pageCount,a=n.currentPage,s=n.pagerCount-2;o.className.includes("more")&&(o.className.includes("quickprev")?r=a-s:o.className.includes("quicknext")&&(r=a+s)),Number.isNaN(+r)||(r<1&&(r=1),r>i&&(r=i)),r!==a&&t("change",r)}return(0,s.m0)((()=>{const e=(n.pagerCount-1)/2;a.value=!1,u.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-e&&(a.value=!0),n.currentPage<n.pageCount-e&&(u.value=!0))})),(e,t)=>((0,s.wg)(),(0,s.iD)("ul",{class:(0,c.C_)((0,l.SU)(o).b()),onClick:_,onKeyup:(0,R.D2)(w,["enter"])},[e.pageCount>0?((0,s.wg)(),(0,s.iD)("li",{key:0,class:(0,c.C_)([[(0,l.SU)(o).is("active",1===e.currentPage),(0,l.SU)(o).is("disabled",e.disabled)],"number"]),"aria-current":1===e.currentPage,"aria-label":(0,l.SU)(i)("el.pagination.currentPage",{pager:1}),tabindex:(0,l.SU)(g)}," 1 ",10,_T)):(0,s.kq)("v-if",!0),a.value?((0,s.wg)(),(0,s.iD)("li",{key:1,class:(0,c.C_)(["more","btn-quickprev",(0,l.SU)(r).b(),(0,l.SU)(o).is("disabled",e.disabled)]),tabindex:(0,l.SU)(g),"aria-label":(0,l.SU)(i)("el.pagination.prevPages",{pager:e.pagerCount-2}),onMouseenter:t[0]||(t[0]=e=>y(!0)),onMouseleave:t[1]||(t[1]=e=>d.value=!1),onFocus:t[2]||(t[2]=e=>b(!0)),onBlur:t[3]||(t[3]=e=>m.value=!1)},[!d.value&&!m.value||e.disabled?((0,s.wg)(),(0,s.j4)((0,l.SU)(he.MoreFilled),{key:1})):((0,s.wg)(),(0,s.j4)((0,l.SU)(he.DArrowLeft),{key:0}))],42,xT)):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(f),(t=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:(0,c.C_)([[(0,l.SU)(o).is("active",e.currentPage===t),(0,l.SU)(o).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===t,"aria-label":(0,l.SU)(i)("el.pagination.currentPage",{pager:t}),tabindex:(0,l.SU)(g)},(0,c.zw)(t),11,CT)))),128)),u.value?((0,s.wg)(),(0,s.iD)("li",{key:2,class:(0,c.C_)(["more","btn-quicknext",(0,l.SU)(r).b(),(0,l.SU)(o).is("disabled",e.disabled)]),tabindex:(0,l.SU)(g),"aria-label":(0,l.SU)(i)("el.pagination.nextPages",{pager:e.pagerCount-2}),onMouseenter:t[4]||(t[4]=e=>y()),onMouseleave:t[5]||(t[5]=e=>h.value=!1),onFocus:t[6]||(t[6]=e=>b()),onBlur:t[7]||(t[7]=e=>p.value=!1)},[!h.value&&!p.value||e.disabled?((0,s.wg)(),(0,s.j4)((0,l.SU)(he.MoreFilled),{key:1})):((0,s.wg)(),(0,s.j4)((0,l.SU)(he.DArrowRight),{key:0}))],42,ST)):(0,s.kq)("v-if",!0),e.pageCount>1?((0,s.wg)(),(0,s.iD)("li",{key:3,class:(0,c.C_)([[(0,l.SU)(o).is("active",e.currentPage===e.pageCount),(0,l.SU)(o).is("disabled",e.disabled)],"number"]),"aria-current":e.currentPage===e.pageCount,"aria-label":(0,l.SU)(i)("el.pagination.currentPage",{pager:e.pageCount}),tabindex:(0,l.SU)(g)},(0,c.zw)(e.pageCount),11,kT)):(0,s.kq)("v-if",!0)],42,wT))}});var MT=(0,g.Z)(TT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const OT=e=>"number"!==typeof e,DT=(0,d.o8)({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>(0,h.hj)(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:z.AA,default:()=>he.ArrowLeft},nextText:{type:String,default:""},nextIcon:{type:z.AA,default:()=>he.ArrowRight},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),AT={"update:current-page":e=>(0,h.hj)(e),"update:page-size":e=>(0,h.hj)(e),"size-change":e=>(0,h.hj)(e),"current-change":e=>(0,h.hj)(e),"prev-click":e=>(0,h.hj)(e),"next-click":e=>(0,h.hj)(e)},RT="ElPagination";var PT=(0,s.aZ)({name:RT,props:DT,emits:AT,setup(e,{emit:t,slots:n}){const{t:o}=(0,Ga.bU)(),r=(0,v.s3)("pagination"),i=(0,s.FN)().vnode.props||{},a="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,c="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,u=(0,s.Fl)((()=>{if(OT(e.total)&&OT(e.pageCount))return!1;if(!OT(e.currentPage)&&!a)return!1;if(e.layout.includes("sizes"))if(OT(e.pageCount)){if(!OT(e.total)&&!OT(e.pageSize)&&!c)return!1}else if(!c)return!1;return!0})),d=(0,l.iH)(OT(e.defaultPageSize)?10:e.defaultPageSize),h=(0,l.iH)(OT(e.defaultCurrentPage)?1:e.defaultCurrentPage),m=(0,s.Fl)({get(){return OT(e.pageSize)?d.value:e.pageSize},set(n){OT(e.pageSize)&&(d.value=n),c&&(t("update:page-size",n),t("size-change",n))}}),p=(0,s.Fl)((()=>{let t=0;return OT(e.pageCount)?OT(e.total)||(t=Math.max(1,Math.ceil(e.total/m.value))):t=e.pageCount,t})),f=(0,s.Fl)({get(){return OT(e.currentPage)?h.value:e.currentPage},set(n){let o=n;n<1?o=1:n>p.value&&(o=p.value),OT(e.currentPage)&&(h.value=o),a&&(t("update:current-page",o),t("current-change",o))}});function g(e){f.value=e}function y(e){m.value=e;const t=p.value;f.value>t&&(f.value=t)}function w(){e.disabled||(f.value-=1,t("prev-click",f.value))}function _(){e.disabled||(f.value+=1,t("next-click",f.value))}function x(e,t){e&&(e.props||(e.props={}),e.props.class=[e.props.class,t].join(" "))}return(0,s.YP)(p,(e=>{f.value>e&&(f.value=e)})),(0,s.JJ)(fE,{pageCount:p,disabled:(0,s.Fl)((()=>e.disabled)),currentPage:f,changeEvent:g,handleSizeChange:y}),()=>{var t,i;if(!u.value)return(0,b.N)(RT,o("el.pagination.deprecationWarning")),null;if(!e.layout)return null;if(e.hideOnSinglePage&&p.value<=1)return null;const a=[],l=[],c=(0,s.h)("div",{class:r.e("rightwrapper")},l),d={prev:(0,s.h)(xE,{disabled:e.disabled,currentPage:f.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:w}),jumper:(0,s.h)(mT,{size:e.small?"small":"default"}),pager:(0,s.h)(MT,{currentPage:f.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:(0,s.h)(ME,{disabled:e.disabled,currentPage:f.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:(0,s.h)(lT,{pageSize:m.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:null!=(i=null==(t=null==n?void 0:n.default)?void 0:t.call(n))?i:null,total:(0,s.h)(yT,{total:OT(e.total)?0:e.total})},h=e.layout.split(",").map((e=>e.trim()));let v=!1;return h.forEach((e=>{"->"!==e?v?l.push(d[e]):a.push(d[e]):v=!0})),x(a[0],r.is("first")),x(a[a.length-1],r.is("last")),v&&l.length>0&&(x(l[0],r.is("first")),x(l[l.length-1],r.is("last")),a.push(c)),(0,s.h)("div",{class:[r.b(),r.is("background",e.background),{[r.m("small")]:e.small}]},a)}}});const IT=(0,D.nz)(PT),zT=(0,d.o8)({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Ui,default:"primary"},cancelButtonType:{type:String,values:Ui,default:"text"},icon:{type:z.AA,default:()=>he.QuestionFilled},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:eo.teleported,persistent:eo.persistent,width:{type:[String,Number],default:150}}),NT={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},LT=(0,s.aZ)({name:"ElPopconfirm"}),HT=(0,s.aZ)({...LT,props:zT,emits:NT,setup(e,{emit:t}){const n=e,{t:o}=(0,Ga.bU)(),r=(0,v.s3)("popconfirm"),i=(0,l.iH)(),a=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.onClose)||t.call(e)},u=(0,s.Fl)((()=>({width:(0,y.Nn)(n.width)}))),d=e=>{t("confirm",e),a()},h=e=>{t("cancel",e),a()},m=(0,s.Fl)((()=>n.confirmButtonText||o("el.popconfirm.confirmButtonText"))),p=(0,s.Fl)((()=>n.cancelButtonText||o("el.popconfirm.cancelButtonText")));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),(0,s.dG)({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},e.$attrs,{"popper-class":`${(0,l.SU)(r).namespace.value}-popover`,"popper-style":(0,l.SU)(u),teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).b())},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("main"))},[!e.hideIcon&&e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(r).e("icon")),style:(0,c.j5)({color:e.iconColor})},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1},8,["class","style"])):(0,s.kq)("v-if",!0),(0,s.Uk)(" "+(0,c.zw)(e.title),1)],2),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("action"))},[(0,s.Wm)((0,l.SU)(Da),{size:"small",type:"text"===e.cancelButtonType?"":e.cancelButtonType,text:"text"===e.cancelButtonType,onClick:h},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(p)),1)])),_:1},8,["type","text"]),(0,s.Wm)((0,l.SU)(Da),{size:"small",type:"text"===e.confirmButtonType?"":e.confirmButtonType,text:"text"===e.confirmButtonType,onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,l.SU)(m)),1)])),_:1},8,["type","text"])],2)],2)])),default:(0,s.w5)((()=>[e.$slots.reference?(0,s.WI)(e.$slots,"reference",{key:0}):(0,s.kq)("v-if",!0)])),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var FT=(0,g.Z)(HT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const BT=(0,D.nz)(FT),UT=(0,d.o8)({trigger:oo.trigger,placement:X_.placement,disabled:oo.disabled,visible:eo.visible,transition:eo.transition,popperOptions:X_.popperOptions,tabindex:X_.tabindex,content:eo.content,popperStyle:eo.popperStyle,popperClass:eo.popperClass,enterable:{...eo.enterable,default:!0},effect:{...eo.effect,default:"light"},teleported:eo.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),VT={"update:visible":e=>(0,h.jn)(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},jT="onUpdate:visible",WT=(0,s.aZ)({name:"ElPopover"}),ZT=(0,s.aZ)({...WT,props:UT,emits:VT,setup(e,{expose:t,emit:n}){const o=e,r=(0,s.Fl)((()=>o[jT])),i=(0,v.s3)("popover"),a=(0,l.iH)(),u=(0,s.Fl)((()=>{var e;return null==(e=(0,l.SU)(a))?void 0:e.popperRef})),d=(0,s.Fl)((()=>[{width:(0,y.Nn)(o.width)},o.popperStyle])),h=(0,s.Fl)((()=>[i.b(),o.popperClass,{[i.m("plain")]:!!o.content}])),m=(0,s.Fl)((()=>o.transition===`${i.namespace.value}-fade-in-linear`)),p=()=>{var e;null==(e=a.value)||e.hide()},f=()=>{n("before-enter")},g=()=>{n("before-leave")},b=()=>{n("after-enter")},w=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:u,hide:p}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(Gr),(0,s.dG)({ref_key:"tooltipRef",ref:a},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":(0,l.SU)(h),"popper-style":(0,l.SU)(d),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":(0,l.SU)(m),"onUpdate:visible":(0,l.SU)(r),onBeforeShow:f,onBeforeHide:g,onShow:b,onHide:w}),{content:(0,s.w5)((()=>[e.title?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(i).e("title")),role:"title"},(0,c.zw)(e.title),3)):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)((0,c.zw)(e.content),1)]))])),default:(0,s.w5)((()=>[e.$slots.reference?(0,s.WI)(e.$slots,"reference",{key:0}):(0,s.kq)("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var $T=(0,g.Z)(ZT,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const qT=(e,t)=>{const n=t.arg||t.value,o=null==n?void 0:n.popperRef;o&&(o.triggerRef=e)};var GT={mounted(e,t){qT(e,t)},updated(e,t){qT(e,t)}};const KT="popover",YT=(0,D.dH)(GT,KT),JT=(0,D.nz)($T,{directive:YT}),XT=(0,d.o8)({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:(0,d.Cq)(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:(0,d.Cq)([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:(0,d.Cq)(Function),default:e=>`${e}%`}}),QT=["aria-valuenow"],eM={viewBox:"0 0 100 100"},tM=["d","stroke","stroke-width"],nM=["d","stroke","opacity","stroke-linecap","stroke-width"],oM={key:0},rM=(0,s.aZ)({name:"ElProgress"}),iM=(0,s.aZ)({...rM,props:XT,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=(0,v.s3)("progress"),r=(0,s.Fl)((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:x(t.percentage)}))),i=(0,s.Fl)((()=>(t.strokeWidth/t.width*100).toFixed(1))),a=(0,s.Fl)((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(i.value)/2),10):0)),u=(0,s.Fl)((()=>{const e=a.value,n="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${n?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${n?"":"-"}${2*e}\n          `})),d=(0,s.Fl)((()=>2*Math.PI*a.value)),h=(0,s.Fl)((()=>"dashboard"===t.type?.75:1)),m=(0,s.Fl)((()=>{const e=-1*d.value*(1-h.value)/2;return`${e}px`})),p=(0,s.Fl)((()=>({strokeDasharray:`${d.value*h.value}px, ${d.value}px`,strokeDashoffset:m.value}))),f=(0,s.Fl)((()=>({strokeDasharray:`${d.value*h.value*(t.percentage/100)}px, ${d.value}px`,strokeDashoffset:m.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),g=(0,s.Fl)((()=>{let e;return e=t.color?x(t.percentage):n[t.status]||n.default,e})),y=(0,s.Fl)((()=>"warning"===t.status?he.WarningFilled:"line"===t.type?"success"===t.status?he.CircleCheck:he.CircleClose:"success"===t.status?he.Check:he.Close)),b=(0,s.Fl)((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),w=(0,s.Fl)((()=>t.format(t.percentage)));function _(e){const t=100/e.length,n=e.map(((e,n)=>(0,c.HD)(e)?{color:e,percentage:(n+1)*t}:e));return n.sort(((e,t)=>e.percentage-t.percentage))}const x=e=>{var n;const{color:o}=t;if((0,c.mf)(o))return o(e);if((0,c.HD)(o))return o;{const t=_(o);for(const n of t)if(n.percentage>e)return n.color;return null==(n=t[t.length-1])?void 0:n.color}};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(o).b(),(0,l.SU)(o).m(e.type),(0,l.SU)(o).is(e.status),{[(0,l.SU)(o).m("without-text")]:!e.showText,[(0,l.SU)(o).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o).b("bar"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).be("bar","outer")),style:(0,c.j5)({height:`${e.strokeWidth}px`})},[(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(o).be("bar","inner"),{[(0,l.SU)(o).bem("bar","inner","indeterminate")]:e.indeterminate},{[(0,l.SU)(o).bem("bar","inner","striped")]:e.striped},{[(0,l.SU)(o).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:(0,c.j5)((0,l.SU)(r))},[(e.showText||e.$slots.default)&&e.textInside?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o).be("bar","innerText"))},[(0,s.WI)(e.$slots,"default",{percentage:e.percentage},(()=>[(0,s._)("span",null,(0,c.zw)((0,l.SU)(w)),1)]))],2)):(0,s.kq)("v-if",!0)],6)],6)],2)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(o).b("circle")),style:(0,c.j5)({height:`${e.width}px`,width:`${e.width}px`})},[((0,s.wg)(),(0,s.iD)("svg",eM,[(0,s._)("path",{class:(0,c.C_)((0,l.SU)(o).be("circle","track")),d:(0,l.SU)(u),stroke:`var(${(0,l.SU)(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":(0,l.SU)(i),fill:"none",style:(0,c.j5)((0,l.SU)(p))},null,14,tM),(0,s._)("path",{class:(0,c.C_)((0,l.SU)(o).be("circle","path")),d:(0,l.SU)(u),stroke:(0,l.SU)(g),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":(0,l.SU)(i),style:(0,c.j5)((0,l.SU)(f))},null,14,nM)]))],6)),!e.showText&&!e.$slots.default||e.textInside?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,c.C_)((0,l.SU)(o).e("text")),style:(0,c.j5)({fontSize:`${(0,l.SU)(b)}px`})},[(0,s.WI)(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(y))))])),_:1})):((0,s.wg)(),(0,s.iD)("span",oM,(0,c.zw)((0,l.SU)(w)),1))]))],6))],10,QT))}});var aM=(0,g.Z)(iM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const sM=(0,D.nz)(aM),lM=(0,d.o8)({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:(0,d.Cq)([Array,Object]),default:()=>(0,tv.N)(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:(0,d.Cq)([Array,Object]),default:()=>[he.StarFilled,he.StarFilled,he.StarFilled]},voidIcon:{type:z.AA,default:()=>he.Star},disabledVoidIcon:{type:z.AA,default:()=>he.StarFilled},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Bi.Pp,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),cM={[m.O7]:e=>(0,h.hj)(e),[m.f_]:e=>(0,h.hj)(e)},uM=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],dM=["onMousemove","onClick"],hM=(0,s.aZ)({name:"ElRate"}),mM=(0,s.aZ)({...hM,props:lM,emits:cM,setup(e,{expose:t,emit:n}){const o=e;function r(e,t){const n=e=>(0,c.Kn)(e),o=Object.keys(t).map((e=>+e)).filter((o=>{const r=t[o],i=!!n(r)&&r.excluded;return i?e<o:e<=o})).sort(((e,t)=>e-t)),r=t[o[0]];return n(r)&&r.value||r}const i=(0,s.f3)(er.H,void 0),a=(0,s.f3)(er.K,void 0),u=(0,Xr.Cd)(),d=(0,v.s3)("rate"),{inputId:h,isLabeledByFormItem:p}=(0,Hi.p)(o,{formItemContext:a}),f=(0,l.iH)(o.modelValue),g=(0,l.iH)(-1),b=(0,l.iH)(!0),w=(0,s.Fl)((()=>[d.b(),d.m(u.value)])),_=(0,s.Fl)((()=>o.disabled||(null==i?void 0:i.disabled))),x=(0,s.Fl)((()=>d.cssVarBlock({"void-color":o.voidColor,"disabled-void-color":o.disabledVoidColor,"fill-color":E.value}))),C=(0,s.Fl)((()=>{let e="";return o.showScore?e=o.scoreTemplate.replace(/\{\s*value\s*\}/,_.value?`${o.modelValue}`:`${f.value}`):o.showText&&(e=o.texts[Math.ceil(f.value)-1]),e})),S=(0,s.Fl)((()=>100*o.modelValue-100*Math.floor(o.modelValue))),k=(0,s.Fl)((()=>(0,c.kJ)(o.colors)?{[o.lowThreshold]:o.colors[0],[o.highThreshold]:{value:o.colors[1],excluded:!0},[o.max]:o.colors[2]}:o.colors)),E=(0,s.Fl)((()=>{const e=r(f.value,k.value);return(0,c.Kn)(e)?"":e})),T=(0,s.Fl)((()=>{let e="";return _.value?e=`${S.value}%`:o.allowHalf&&(e="50%"),{color:E.value,width:e}})),M=(0,s.Fl)((()=>{let e=(0,c.kJ)(o.icons)?[...o.icons]:{...o.icons};return e=(0,l.Xl)(e),(0,c.kJ)(e)?{[o.lowThreshold]:e[0],[o.highThreshold]:{value:e[1],excluded:!0},[o.max]:e[2]}:e})),O=(0,s.Fl)((()=>r(o.modelValue,M.value))),D=(0,s.Fl)((()=>_.value?(0,c.HD)(o.disabledVoidIcon)?o.disabledVoidIcon:(0,l.Xl)(o.disabledVoidIcon):(0,c.HD)(o.voidIcon)?o.voidIcon:(0,l.Xl)(o.voidIcon))),A=(0,s.Fl)((()=>r(f.value,M.value)));function I(e){const t=_.value&&S.value>0&&e-1<o.modelValue&&e>o.modelValue,n=o.allowHalf&&b.value&&e-.5<=f.value&&e>f.value;return t||n}function z(e){o.clearable&&e===o.modelValue&&(e=0),n(m.f_,e),o.modelValue!==e&&n("change",e)}function N(e){_.value||(o.allowHalf&&b.value?z(f.value):z(e))}function L(e){if(_.value)return;let t=f.value;const r=e.code;return r===no.EVENT_CODE.up||r===no.EVENT_CODE.right?(o.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):r!==no.EVENT_CODE.left&&r!==no.EVENT_CODE.down||(o.allowHalf?t-=.5:t-=1,e.stopPropagation(),e.preventDefault()),t=t<0?0:t,t=t>o.max?o.max:t,n(m.f_,t),n("change",t),t}function H(e,t){if(!_.value){if(o.allowHalf&&t){let n=t.target;(0,y.pv)(n,d.e("item"))&&(n=n.querySelector(`.${d.e("icon")}`)),(0===n.clientWidth||(0,y.pv)(n,d.e("decimal")))&&(n=n.parentNode),b.value=2*t.offsetX<=n.clientWidth,f.value=b.value?e-.5:e}else f.value=e;g.value=e}}function F(){_.value||(o.allowHalf&&(b.value=o.modelValue!==Math.floor(o.modelValue)),f.value=o.modelValue,g.value=-1)}return(0,s.YP)((()=>o.modelValue),(e=>{f.value=e,b.value=o.modelValue!==Math.floor(o.modelValue)})),o.modelValue||n(m.f_,0),t({setCurrentValue:H,resetCurrentValue:F}),(e,t)=>{var n;return(0,s.wg)(),(0,s.iD)("div",{id:(0,l.SU)(h),class:(0,c.C_)([(0,l.SU)(w),(0,l.SU)(d).is("disabled",(0,l.SU)(_))]),role:"slider","aria-label":(0,l.SU)(p)?void 0:e.label||"rating","aria-labelledby":(0,l.SU)(p)?null==(n=(0,l.SU)(a))?void 0:n.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":(0,l.SU)(C)||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:(0,c.j5)((0,l.SU)(x)),onKeydown:L},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.max,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t,class:(0,c.C_)((0,l.SU)(d).e("item")),onMousemove:t=>H(e,t),onMouseleave:F,onClick:t=>N(e)},[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)([(0,l.SU)(d).e("icon"),{hover:g.value===e},(0,l.SU)(d).is("active",e<=f.value)])},{default:(0,s.w5)((()=>[I(e)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(A)),null,null,512)),[[R.F8,e<=f.value]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(D)),null,null,512)),[[R.F8,!(e<=f.value)]])],64)),I(e)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,style:(0,c.j5)((0,l.SU)(T)),class:(0,c.C_)([(0,l.SU)(d).e("icon"),(0,l.SU)(d).e("decimal")])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(O))))])),_:1},8,["style","class"])):(0,s.kq)("v-if",!0)])),_:2},1032,["class"])],42,dM)))),128)),e.showText||e.showScore?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)((0,l.SU)(d).e("text"))},(0,c.zw)((0,l.SU)(C)),3)):(0,s.kq)("v-if",!0)],46,uM)}}});var pM=(0,g.Z)(mM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const fM=(0,D.nz)(pM),gM={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},vM={[gM.success]:he.CircleCheckFilled,[gM.warning]:he.WarningFilled,[gM.error]:he.CircleCloseFilled,[gM.info]:he.InfoFilled},yM=(0,d.o8)({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),bM=(0,s.aZ)({name:"ElResult"}),wM=(0,s.aZ)({...bM,props:yM,setup(e){const t=e,n=(0,v.s3)("result"),o=(0,s.Fl)((()=>{const e=t.icon,n=e&&gM[e]?gM[e]:"icon-info",o=vM[n]||vM["icon-info"];return{class:n,component:o}}));return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(n).b())},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("icon"))},[(0,s.WI)(e.$slots,"icon",{},(()=>[(0,l.SU)(o).component?((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(o).component),{key:0,class:(0,c.C_)((0,l.SU)(o).class)},null,8,["class"])):(0,s.kq)("v-if",!0)]))],2),e.title||e.$slots.title?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(n).e("title"))},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s._)("p",null,(0,c.zw)(e.title),1)]))],2)):(0,s.kq)("v-if",!0),e.subTitle||e.$slots["sub-title"]?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(n).e("subtitle"))},[(0,s.WI)(e.$slots,"sub-title",{},(()=>[(0,s._)("p",null,(0,c.zw)(e.subTitle),1)]))],2)):(0,s.kq)("v-if",!0),e.$slots.extra?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,c.C_)((0,l.SU)(n).e("extra"))},[(0,s.WI)(e.$slots,"extra")],2)):(0,s.kq)("v-if",!0)],2))}});var _M=(0,g.Z)(wM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const xM=(0,D.nz)(_M),CM=["start","center","end","space-around","space-between","space-evenly"],SM=["top","middle","bottom"],kM=(0,d.o8)({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:CM,default:"start"},align:{type:String,values:SM,default:"top"}}),EM=(0,s.aZ)({name:"ElRow"}),TM=(0,s.aZ)({...EM,props:kM,setup(e){const t=e,n=(0,v.s3)("row"),o=(0,s.Fl)((()=>t.gutter));(0,s.JJ)(ov,{gutter:o});const r=(0,s.Fl)((()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e})),i=(0,s.Fl)((()=>[n.b(),n.is(`justify-${t.justify}`,"start"!==t.justify),n.is(`align-${t.align}`,"top"!==t.align)]));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{class:(0,c.C_)((0,l.SU)(i)),style:(0,c.j5)((0,l.SU)(r))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["class","style"]))}});var MM=(0,g.Z)(TM,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const OM=(0,D.nz)(MM),DM=(0,s.aZ)({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){const e=(0,v.s3)("select");return{ns:e}}});function AM(e,t,n,o,r,i){return e.item.isTitle?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)(e.ns.be("group","title")),style:(0,c.j5)([e.style,{lineHeight:`${e.height}px`}])},(0,c.zw)(e.item.label),7)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)(e.ns.be("group","split")),style:(0,c.j5)(e.style)},[(0,s._)("span",{class:(0,c.C_)(e.ns.be("group","split-dash")),style:(0,c.j5)({top:e.height/2+"px"})},null,6)],6))}var RM=(0,g.Z)(DM,[["render",AM],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function PM(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const IM={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:he.CircleClose},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:eo.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:jE},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:(0,d.Cq)(String),values:ot,default:"bottom-start"}},zM={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},NM=(0,s.aZ)({props:zM,emits:["select","hover"],setup(e,{emit:t}){const n=(0,v.s3)("select"),{hoverItem:o,selectOptionClick:r}=PM(e,{emit:t});return{ns:n,hoverItem:o,selectOptionClick:r}}}),LM=["aria-selected"];function HM(e,t,n,o,r,i){return(0,s.wg)(),(0,s.iD)("li",{"aria-selected":e.selected,style:(0,c.j5)(e.style),class:(0,c.C_)([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=(0,R.iM)(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[(0,s.WI)(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[(0,s._)("span",null,(0,c.zw)(e.item.label),1)]))],46,LM)}var FM=(0,g.Z)(NM,[["render",HM],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const BM=Symbol("ElSelectV2Injection");var UM=n(4861),VM=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function jM(e,t){return e===t||!(!VM(e)||!VM(t))}function WM(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!jM(e[n],t[n]))return!1;return!0}function ZM(e,t){void 0===t&&(t=WM);var n=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var i=e.apply(this,o);return n={lastResult:i,lastArgs:o,lastThis:this},i}return o.clear=function(){n=null},o}const $M=()=>{const e=(0,s.FN)(),t=e.proxy.$props;return(0,s.Fl)((()=>{const e=(e,t,n)=>({});return t.perfMode?(0,UM.Z)(e):ZM(e)}))},qM=50,GM="itemRendered",KM="scroll",YM="forward",JM="backward",XM="auto",QM="smart",eO="start",tO="center",nO="end",oO="horizontal",rO="vertical",iO="ltr",aO="rtl",sO="negative",lO="positive-ascending",cO="positive-descending",uO={[oO]:"left",[rO]:"top"},dO=20,hO=e=>w.C5?window.requestAnimationFrame(e):setTimeout(e,16),mO=e=>w.C5?window.cancelAnimationFrame(e):clearTimeout(e);var pO=n(4494);const fO={[oO]:"deltaX",[rO]:"deltaY"},gO=({atEndEdge:e,atStartEdge:t,layout:n},o)=>{let r,i=0;const a=n=>{const o=n<0&&t.value||n>0&&e.value;return o},s=e=>{mO(r);const t=e[fO[n.value]];a(i)&&a(i+t)||(i+=t,(0,pO.vU)()||e.preventDefault(),r=hO((()=>{o(i),i=0})))};return{hasReachedEdge:a,onWheel:s}},vO=(0,d.l0)({type:(0,d.Cq)([Number,Function]),required:!0}),yO=(0,d.l0)({type:Number}),bO=(0,d.l0)({type:Number,default:2}),wO=(0,d.l0)({type:String,values:["ltr","rtl"],default:"ltr"}),_O=(0,d.l0)({type:Number,default:0}),xO=(0,d.l0)({type:Number,required:!0}),CO=(0,d.l0)({type:String,values:["horizontal","vertical"],default:rO}),SO=(0,d.o8)({className:{type:String,default:""},containerElement:{type:(0,d.Cq)([String,Object]),default:"div"},data:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},direction:wO,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:(0,d.Cq)([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),kO=(0,d.o8)({cache:bO,estimatedItemSize:yO,layout:CO,initScrollOffset:_O,total:xO,itemSize:vO,...SO}),EO={type:Number,default:6},TO={type:Number,default:0},MO={type:Number,default:2},OO=(0,d.o8)({columnCache:bO,columnWidth:vO,estimatedColumnWidth:yO,estimatedRowHeight:yO,initScrollLeft:_O,initScrollTop:_O,itemKey:{type:(0,d.Cq)(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:bO,rowHeight:vO,totalColumn:xO,totalRow:xO,hScrollbarSize:EO,vScrollbarSize:EO,scrollbarStartGap:TO,scrollbarEndGap:MO,role:String,...SO}),DO=(0,d.o8)({alwaysOn:Boolean,class:String,layout:CO,total:xO,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:EO,startGap:TO,endGap:MO,visible:Boolean}),AO=(e,t)=>e<t?YM:JM,RO=e=>e===iO||e===aO||e===oO,PO=e=>e===aO;let IO=null;function zO(e=!1){if(null===IO||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?IO=cO:(e.scrollLeft=1,IO=0===e.scrollLeft?sO:lO),document.body.removeChild(e),IO}return IO}function NO({move:e,size:t,bar:n},o){const r={},i=`translate${n.axis}(${e}px)`;return r[n.size]=t,r.transform=i,r.msTransform=i,r.webkitTransform=i,"horizontal"===o?r.height="100%":r.width="100%",r}const LO=(0,s.aZ)({name:"ElVirtualScrollBar",props:DO,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=(0,s.Fl)((()=>e.startGap+e.endGap)),o=(0,v.s3)("virtual-scrollbar"),r=(0,v.s3)("scrollbar"),i=(0,l.iH)(),a=(0,l.iH)();let c=null,u=null;const d=(0,l.qj)({isDragging:!1,traveled:0}),h=(0,s.Fl)((()=>fe[e.layout])),m=(0,s.Fl)((()=>e.clientSize-(0,l.SU)(n))),p=(0,s.Fl)((()=>({position:"absolute",width:`${oO===e.layout?m.value:e.scrollbarSize}px`,height:`${oO===e.layout?e.scrollbarSize:m.value}px`,[uO[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),f=(0,s.Fl)((()=>{const t=e.ratio,n=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*n/100;const o=n/3;return Math.floor(Math.min(Math.max(t*n,dO),o))})),g=(0,s.Fl)((()=>{if(!Number.isFinite(f.value))return{display:"none"};const t=`${f.value}px`,n=NO({bar:h.value,size:t,move:d.traveled},e.layout);return n})),y=(0,s.Fl)((()=>Math.floor(e.clientSize-f.value-(0,l.SU)(n)))),b=()=>{window.addEventListener("mousemove",C),window.addEventListener("mouseup",x);const e=(0,l.SU)(a);e&&(u=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",C),e.addEventListener("touchend",x))},w=()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",x),document.onselectstart=u,u=null;const e=(0,l.SU)(a);e&&(e.removeEventListener("touchmove",C),e.removeEventListener("touchend",x))},_=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(d.isDragging=!0,d[h.value.axis]=e.currentTarget[h.value.offset]-(e[h.value.client]-e.currentTarget.getBoundingClientRect()[h.value.direction]),t("start-move"),b())},x=()=>{d.isDragging=!1,d[h.value.axis]=0,t("stop-move"),w()},C=n=>{const{isDragging:o}=d;if(!o)return;if(!a.value||!i.value)return;const r=d[h.value.axis];if(!r)return;mO(c);const s=-1*(i.value.getBoundingClientRect()[h.value.direction]-n[h.value.client]),l=a.value[h.value.offset]-r,u=s-l;c=hO((()=>{d.traveled=Math.max(e.startGap,Math.min(u,y.value)),t("scroll",u,y.value)}))},S=e=>{const n=Math.abs(e.target.getBoundingClientRect()[h.value.direction]-e[h.value.client]),o=a.value[h.value.offset]/2,r=n-o;d.traveled=Math.max(0,Math.min(r,y.value)),t("scroll",r,y.value)};return(0,s.YP)((()=>e.scrollFrom),(e=>{d.isDragging||(d.traveled=Math.ceil(e*y.value))})),(0,s.Jd)((()=>{w()})),()=>(0,s.h)("div",{role:"presentation",ref:i,class:[o.b(),e.class,(e.alwaysOn||d.isDragging)&&"always-on"],style:p.value,onMousedown:(0,R.iM)(S,["stop","prevent"]),onTouchstartPrevent:_},(0,s.h)("div",{ref:a,class:r.e("thumb"),style:g.value,onMousedown:_},[]))}}),HO=({name:e,getOffset:t,getItemSize:n,getItemOffset:o,getEstimatedTotalSize:r,getStartIndexForOffset:i,getStopIndexForStartIndex:a,initCache:u,clearCache:d,validateProps:m})=>(0,s.aZ)({name:null!=e?e:"ElVirtualList",props:kO,emits:[GM,KM],setup(e,{emit:p,expose:f}){m(e);const g=(0,s.FN)(),y=(0,v.s3)("vl"),b=(0,l.iH)(u(e,g)),_=$M(),x=(0,l.iH)(),C=(0,l.iH)(),S=(0,l.iH)(),k=(0,l.iH)({isScrolling:!1,scrollDir:"forward",scrollOffset:(0,h.hj)(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),E=(0,s.Fl)((()=>{const{total:t,cache:n}=e,{isScrolling:o,scrollDir:r,scrollOffset:s}=(0,l.SU)(k);if(0===t)return[0,0,0,0];const c=i(e,s,(0,l.SU)(b)),u=a(e,c,s,(0,l.SU)(b)),d=o&&r!==JM?1:Math.max(1,n),h=o&&r!==YM?1:Math.max(1,n);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+h)),c,u]})),T=(0,s.Fl)((()=>r(e,(0,l.SU)(b)))),M=(0,s.Fl)((()=>RO(e.layout))),O=(0,s.Fl)((()=>[{position:"relative",["overflow-"+(M.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:(0,h.hj)(e.height)?`${e.height}px`:e.height,width:(0,h.hj)(e.width)?`${e.width}px`:e.width},e.style])),D=(0,s.Fl)((()=>{const e=(0,l.SU)(T),t=(0,l.SU)(M);return{height:t?"100%":`${e}px`,pointerEvents:(0,l.SU)(k).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),A=(0,s.Fl)((()=>M.value?e.width:e.height)),{onWheel:R}=gO({atStartEdge:(0,s.Fl)((()=>k.value.scrollOffset<=0)),atEndEdge:(0,s.Fl)((()=>k.value.scrollOffset>=T.value)),layout:(0,s.Fl)((()=>e.layout))},(e=>{var t,n;null==(n=(t=S.value).onMouseUp)||n.call(t),H(Math.min(k.value.scrollOffset+e,T.value-A.value))})),P=()=>{const{total:t}=e;if(t>0){const[e,t,n,o]=(0,l.SU)(E);p(GM,e,t,n,o)}const{scrollDir:n,scrollOffset:o,updateRequested:r}=(0,l.SU)(k);p(KM,n,o,r)},I=e=>{const{clientHeight:t,scrollHeight:n,scrollTop:o}=e.currentTarget,r=(0,l.SU)(k);if(r.scrollOffset===o)return;const i=Math.max(0,Math.min(o,n-t));k.value={...r,isScrolling:!0,scrollDir:AO(r.scrollOffset,i),scrollOffset:i,updateRequested:!1},(0,s.Y3)(U)},z=t=>{const{clientWidth:n,scrollLeft:o,scrollWidth:r}=t.currentTarget,i=(0,l.SU)(k);if(i.scrollOffset===o)return;const{direction:a}=e;let c=o;if(a===aO)switch(zO()){case sO:c=-o;break;case cO:c=r-n-o;break}c=Math.max(0,Math.min(c,r-n)),k.value={...i,isScrolling:!0,scrollDir:AO(i.scrollOffset,c),scrollOffset:c,updateRequested:!1},(0,s.Y3)(U)},N=e=>{(0,l.SU)(M)?z(e):I(e),P()},L=(e,t)=>{const n=(T.value-A.value)/t*e;H(Math.min(T.value-A.value,n))},H=e=>{e=Math.max(e,0),e!==(0,l.SU)(k).scrollOffset&&(k.value={...(0,l.SU)(k),scrollOffset:e,scrollDir:AO((0,l.SU)(k).scrollOffset,e),updateRequested:!0},(0,s.Y3)(U))},F=(n,o=XM)=>{const{scrollOffset:r}=(0,l.SU)(k);n=Math.max(0,Math.min(n,e.total-1)),H(t(e,n,o,r,(0,l.SU)(b)))},B=t=>{const{direction:r,itemSize:i,layout:a}=e,s=_.value(d&&i,d&&a,d&&r);let u;if((0,c.RI)(s,String(t)))u=s[t];else{const i=o(e,t,(0,l.SU)(b)),a=n(e,t,(0,l.SU)(b)),c=(0,l.SU)(M),d=r===aO,h=c?i:0;s[t]=u={position:"absolute",left:d?void 0:`${h}px`,right:d?`${h}px`:void 0,top:c?0:`${i}px`,height:c?"100%":`${a}px`,width:c?`${a}px`:"100%"}}return u},U=()=>{k.value.isScrolling=!1,(0,s.Y3)((()=>{_.value(-1,null,null)}))},V=()=>{const e=x.value;e&&(e.scrollTop=0)};(0,s.bv)((()=>{if(!w.C5)return;const{initScrollOffset:t}=e,n=(0,l.SU)(x);(0,h.hj)(t)&&n&&((0,l.SU)(M)?n.scrollLeft=t:n.scrollTop=t),P()})),(0,s.ic)((()=>{const{direction:t,layout:n}=e,{scrollOffset:o,updateRequested:r}=(0,l.SU)(k),i=(0,l.SU)(x);if(r&&i)if(n===oO)if(t===aO)switch(zO()){case sO:i.scrollLeft=-o;break;case lO:i.scrollLeft=o;break;default:{const{clientWidth:e,scrollWidth:t}=i;i.scrollLeft=t-e-o;break}}else i.scrollLeft=o;else i.scrollTop=o}));const j={ns:y,clientSize:A,estimatedTotalSize:T,windowStyle:O,windowRef:x,innerRef:C,innerStyle:D,itemsToRender:E,scrollbarRef:S,states:k,getItemStyle:B,onScroll:N,onScrollbarScroll:L,onWheel:R,scrollTo:H,scrollToItem:F,resetScrollTop:V};return f({windowRef:x,innerRef:C,getItemStyleCache:_,scrollTo:H,scrollToItem:F,resetScrollTop:V,states:k}),j},render(e){var t;const{$slots:n,className:o,clientSize:r,containerElement:i,data:a,getItemStyle:l,innerElement:u,itemsToRender:d,innerStyle:h,layout:m,total:p,onScroll:f,onScrollbarScroll:g,onWheel:v,states:y,useIsScrolling:b,windowStyle:w,ns:_}=e,[x,C]=d,S=(0,s.LL)(i),k=(0,s.LL)(u),E=[];if(p>0)for(let s=x;s<=C;s++)E.push(null==(t=n.default)?void 0:t.call(n,{data:a,key:s,index:s,isScrolling:b?y.isScrolling:void 0,style:l(s)}));const T=[(0,s.h)(k,{style:h,ref:"innerRef"},(0,c.HD)(k)?E:{default:()=>E})],M=(0,s.h)(LO,{ref:"scrollbarRef",clientSize:r,layout:m,onScroll:g,ratio:100*r/this.estimatedTotalSize,scrollFrom:y.scrollOffset/(this.estimatedTotalSize-r),total:p}),O=(0,s.h)(S,{class:[_.e("window"),o],style:w,onScroll:f,onWheel:v,ref:"windowRef",key:0},(0,c.HD)(S)?[T]:{default:()=>[T]});return(0,s.h)("div",{key:0,class:[_.e("wrapper"),y.scrollbarAlwaysOn?"always-on":""]},[O,M])}}),FO=HO({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:o,width:r},i,a,s)=>{const l=RO(o)?r:e;const c=Math.max(0,t*n-l),u=Math.min(c,i*n),d=Math.max(0,(i+1)*n-l);switch(a===QM&&(a=s>=d-l&&s<=u+l?XM:tO),a){case eO:return u;case nO:return d;case tO:{const e=Math.round(d+(u-d)/2);return e<Math.ceil(l/2)?0:e>c+Math.floor(l/2)?c:e}case XM:default:return s>=d&&s<=u?s:s<d?d:u}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:o,width:r},i,a)=>{const s=i*n,l=RO(o)?r:e,c=Math.ceil((l+a-s)/n);return Math.max(0,Math.min(t-1,i+c-1))},initCache(){},clearCache:!0,validateProps(){}}),BO=(e,t,n)=>{const{itemSize:o}=e,{items:r,lastVisitedIndex:i}=n;if(t>i){let e=0;if(i>=0){const t=r[i];e=t.offset+t.size}for(let n=i+1;n<=t;n++){const t=o(n);r[n]={offset:e,size:t},e+=t}n.lastVisitedIndex=t}return r[t]},UO=(e,t,n)=>{const{items:o,lastVisitedIndex:r}=t,i=r>0?o[r].offset:0;return i>=n?VO(e,t,0,r,n):jO(e,t,Math.max(0,r),n)},VO=(e,t,n,o,r)=>{while(n<=o){const i=n+Math.floor((o-n)/2),a=BO(e,i,t).offset;if(a===r)return i;a<r?n=i+1:a>r&&(o=i-1)}return Math.max(0,n-1)},jO=(e,t,n,o)=>{const{total:r}=e;let i=1;while(n<r&&BO(e,n,t).offset<o)n+=i,i*=2;return VO(e,t,Math.floor(n/2),Math.min(n,r-1),o)},WO=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:o})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}const i=e-o-1,a=i*n;return r+a},ZO=HO({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>BO(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:WO,getOffset:(e,t,n,o,r)=>{const{height:i,layout:a,width:s}=e,l=RO(a)?s:i,c=BO(e,t,r),u=WO(e,r),d=Math.max(0,Math.min(u-l,c.offset)),h=Math.max(0,c.offset-l+c.size);switch(n===QM&&(n=o>=h-l&&o<=d+l?XM:tO),n){case eO:return d;case nO:return h;case tO:return Math.round(h+(d-h)/2);case XM:default:return o>=h&&o<=d?o:o<h?h:d}},getStartIndexForOffset:(e,t,n)=>UO(e,n,t),getStopIndexForStartIndex:(e,t,n,o)=>{const{height:r,total:i,layout:a,width:s}=e,l=RO(a)?s:r,c=BO(e,t,o),u=n+l;let d=c.offset+c.size,h=t;while(h<i-1&&d<u)h++,d+=BO(e,h,o).size;return h},initCache({estimatedItemSize:e=qM},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,o=!0)=>{var r,i;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,e-1),null==(r=t.exposed)||r.getItemStyleCache(-1),o&&(null==(i=t.proxy)||i.$forceUpdate())}};return n},clearCache:!1,validateProps:({itemSize:e})=>{0}});var $O=(0,s.aZ)({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:n}){const o=(0,s.f3)(BM),r=(0,v.s3)("select"),i=(0,l.iH)([]),a=(0,l.iH)(),u=(0,s.Fl)((()=>e.data.length));(0,s.YP)((()=>u.value),(()=>{var e,t;null==(t=(e=o.popper.value).updatePopper)||t.call(e)}));const d=(0,s.Fl)((()=>(0,h.o8)(o.props.estimatedOptionHeight))),m=(0,s.Fl)((()=>d.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:e=>i.value[e]})),p=(e=[],t)=>{const{props:{valueKey:n}}=o;return(0,c.Kn)(t)?e&&e.some((e=>(0,OE.Z)(e,n)===(0,OE.Z)(t,n))):e.includes(t)},f=(e,t)=>{if((0,c.Kn)(t)){const{valueKey:n}=o.props;return(0,OE.Z)(e,n)===(0,OE.Z)(t,n)}return e===t},g=(e,t)=>{const{valueKey:n}=o.props;return o.props.multiple?p(e,(0,OE.Z)(t,n)):f(e,(0,OE.Z)(t,n))},y=(e,t)=>{const{disabled:n,multiple:r,multipleLimit:i}=o.props;return n||!t&&!!r&&i>0&&e.length>=i},b=t=>e.hoveringIndex===t,w=e=>{const t=a.value;t&&t.scrollToItem(e)},_=()=>{const e=a.value;e&&e.resetScrollTop()};n({listRef:a,isSized:d,isItemDisabled:y,isItemHovering:b,isItemSelected:g,scrollToItem:w,resetScrollTop:_});const x=e=>{const{index:n,data:r,style:i}=e,a=(0,l.SU)(d),{itemSize:c,estimatedSize:u}=(0,l.SU)(m),{modelValue:h}=o.props,{onSelect:p,onHover:f}=o,v=r[n];if("Group"===v.type)return(0,s.Wm)(RM,{item:v,style:i,height:a?c:u},null);const w=g(h,v),_=y(h,w),x=b(n);return(0,s.Wm)(FM,(0,s.dG)(e,{selected:w,disabled:v.disabled||_,created:!!v.created,hovering:x,item:v,onSelect:p,onHover:f}),{default:e=>{var n;return(null==(n=t.default)?void 0:n.call(t,e))||(0,s.Wm)("span",null,[v.label])}})},{onKeyboardNavigate:C,onKeyboardSelect:S}=o,k=()=>{C("forward")},E=()=>{C("backward")},T=()=>{o.expanded=!1},M=e=>{const{code:t}=e,{tab:n,esc:o,down:r,up:i,enter:a}=no.EVENT_CODE;switch(t!==n&&(e.preventDefault(),e.stopPropagation()),t){case n:case o:T();break;case r:k();break;case i:E();break;case a:S();break}};return()=>{var n;const{data:i,width:c}=e,{height:u,multiple:h,scrollbarAlwaysOn:p}=o.props;if(0===i.length)return(0,s.Wm)("div",{class:r.b("dropdown"),style:{width:`${c}px`}},[null==(n=t.empty)?void 0:n.call(t)]);const f=(0,l.SU)(d)?FO:ZO;return(0,s.Wm)("div",{class:[r.b("dropdown"),r.is("multiple",h)]},[(0,s.Wm)(f,(0,s.dG)({ref:a},(0,l.SU)(m),{className:r.be("dropdown","list"),scrollbarAlwaysOn:p,data:i,height:u,width:c,total:i.length,onKeydown:M}),{default:e=>(0,s.Wm)(x,e,null)})])}}});function qO(e,t){const n=(0,l.iH)(0),o=(0,l.iH)(null),r=(0,s.Fl)((()=>e.allowCreate&&e.filterable));function i(n){const o=e=>e.value===n;return e.options&&e.options.some(o)||t.createdOptions.some(o)}function a(t){r.value&&(e.multiple&&t.created?n.value++:o.value=t)}function c(a){if(r.value)if(a&&a.length>0&&!i(a)){const e={value:a,label:a,created:!0,disabled:!1};t.createdOptions.length>=n.value?t.createdOptions[n.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=n.value;else{const e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}}function u(o){if(!r.value||!o||!o.created||o.created&&e.reserveKeyword&&t.inputValue===o.label)return;const i=t.createdOptions.findIndex((e=>e.value===o.value));~i&&(t.createdOptions.splice(i,1),n.value--)}function d(){r.value&&(t.createdOptions.length=0,n.value=0)}return{createNewOption:c,removeNewOption:u,selectNewOption:a,clearAllNewOption:d}}const GO=e=>{const t=[];return e.forEach((e=>{(0,c.kJ)(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t};function KO(e){const t=(0,l.iH)(!1),n=()=>{t.value=!0},o=e=>{const n=e.target.value,o=n[n.length-1]||"";t.value=!(0,zg.w)(o)},r=n=>{t.value&&(t.value=!1,(0,c.mf)(e)&&e(n))};return{handleCompositionStart:n,handleCompositionUpdate:o,handleCompositionEnd:r}}const YO="",JO=11,XO={larget:51,default:42,small:33},QO=(e,t)=>{const{t:n}=(0,Ga.bU)(),o=(0,v.s3)("select-v2"),r=(0,v.s3)("input"),{form:i,formItem:a}=(0,Hi.A)(),d=(0,l.qj)({inputValue:YO,displayInputValue:YO,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),h=(0,l.iH)(-1),p=(0,l.iH)(-1),f=(0,l.iH)(null),g=(0,l.iH)(null),y=(0,l.iH)(null),w=(0,l.iH)(null),_=(0,l.iH)(null),x=(0,l.iH)(null),C=(0,l.iH)(null),S=(0,l.iH)(!1),k=(0,s.Fl)((()=>e.disabled||(null==i?void 0:i.disabled))),E=(0,s.Fl)((()=>{const t=34*N.value.length;return t>e.height?e.height:t})),T=(0,s.Fl)((()=>!(0,_o.Z)(e.modelValue))),M=(0,s.Fl)((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:T.value,n=e.clearable&&!k.value&&d.comboBoxHovering&&t;return n})),O=(0,s.Fl)((()=>e.remote&&e.filterable?"":he.ArrowUp)),D=(0,s.Fl)((()=>O.value&&o.is("reverse",S.value))),A=(0,s.Fl)((()=>(null==a?void 0:a.validateState)||"")),R=(0,s.Fl)((()=>z.rU[A.value])),P=(0,s.Fl)((()=>e.remote?300:0)),I=(0,s.Fl)((()=>{const t=N.value;return e.loading?e.loadingText||n("el.select.loading"):(!e.remote||""!==d.inputValue||0!==t.length)&&(e.filterable&&d.inputValue&&t.length>0?e.noMatchText||n("el.select.noMatch"):0===t.length?e.noDataText||n("el.select.noData"):null)})),N=(0,s.Fl)((()=>{const t=e=>{const t=d.inputValue,n=new RegExp(Qf(t),"i"),o=!t||n.test(e.label||"");return o};return e.loading?[]:GO(e.options.concat(d.createdOptions).map((n=>{if((0,c.kJ)(n.options)){const e=n.options.filter(t);if(e.length>0)return{...n,options:e}}else if(e.remote||t(n))return n;return null})).filter((e=>null!==e)))})),L=(0,s.Fl)((()=>N.value.every((e=>e.disabled)))),H=(0,Xr.Cd)(),F=(0,s.Fl)((()=>"small"===H.value?"small":"default")),B=(0,s.Fl)((()=>{const e=x.value,t=F.value||"default",n=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,o=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return d.selectWidth-o-n-XO[t]})),U=()=>{var e;p.value=(null==(e=_.value)?void 0:e.offsetWidth)||200},V=(0,s.Fl)((()=>({width:`${0===d.calculatedWidth?JO:Math.ceil(d.calculatedWidth)+JO}px`}))),j=(0,s.Fl)((()=>(0,c.kJ)(e.modelValue)?0===e.modelValue.length&&!d.displayInputValue:!e.filterable||0===d.displayInputValue.length)),W=(0,s.Fl)((()=>{const t=e.placeholder||n("el.select.placeholder");return e.multiple||(0,_o.Z)(e.modelValue)?t:d.selectedLabel})),Z=(0,s.Fl)((()=>{var e,t;return null==(t=null==(e=w.value)?void 0:e.popperRef)?void 0:t.contentRef})),$=(0,s.Fl)((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0)return N.value.findIndex((n=>n.value===e.modelValue[t-1]))}else if(e.modelValue)return N.value.findIndex((t=>t.value===e.modelValue));return-1})),q=(0,s.Fl)({get(){return S.value&&!1!==I.value},set(e){S.value=e}}),G=(0,s.Fl)((()=>d.cachedOptions.slice(0,e.maxCollapseTags))),K=(0,s.Fl)((()=>d.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:Y,removeNewOption:J,selectNewOption:X,clearAllNewOption:Q}=qO(e,d),{handleCompositionStart:ee,handleCompositionUpdate:te,handleCompositionEnd:ne}=KO((e=>Ae(e))),oe=()=>{var e,t,n;null==(t=null==(e=g.value)?void 0:e.focus)||t.call(e),null==(n=w.value)||n.updatePopper()},re=()=>{if(!e.automaticDropdown)return k.value?void 0:(d.isComposing&&(d.softFocus=!0),(0,s.Y3)((()=>{var e,t;S.value=!S.value,null==(t=null==(e=g.value)?void 0:e.focus)||t.call(e)})))},ie=()=>(e.filterable&&d.inputValue!==d.selectedLabel&&(d.query=d.selectedLabel),se(d.inputValue),(0,s.Y3)((()=>{Y(d.inputValue)}))),ae=de(ie,P.value),se=t=>{d.previousQuery!==t&&(d.previousQuery=t,e.filterable&&(0,c.mf)(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&(0,c.mf)(e.remoteMethod)&&e.remoteMethod(t))},le=n=>{Jm(e.modelValue,n)||t(m.O7,n)},ce=e=>{t(m.f_,e),le(e),d.previousValue=null==e?void 0:e.toString()},ue=(t=[],n)=>{if(!(0,c.Kn)(n))return t.indexOf(n);const o=e.valueKey;let r=-1;return t.some(((e,t)=>(0,OE.Z)(e,o)===(0,OE.Z)(n,o)&&(r=t,!0))),r},me=t=>(0,c.Kn)(t)?(0,OE.Z)(t,e.valueKey):t,pe=e=>(0,c.Kn)(e)?e.label:e,fe=()=>(0,s.Y3)((()=>{var e,t;if(!g.value)return;const n=x.value;_.value.height=n.offsetHeight,S.value&&!1!==I.value&&(null==(t=null==(e=w.value)?void 0:e.updatePopper)||t.call(e))})),ge=()=>{var t,n;if(ve(),U(),null==(n=null==(t=w.value)?void 0:t.updatePopper)||n.call(t),e.multiple)return fe()},ve=()=>{const e=x.value;e&&(d.selectWidth=e.getBoundingClientRect().width)},ye=(t,n,o=!0)=>{var r,i;if(e.multiple){let o=e.modelValue.slice();const a=ue(o,me(t));a>-1?(o=[...o.slice(0,a),...o.slice(a+1)],d.cachedOptions.splice(a,1),J(t)):(e.multipleLimit<=0||o.length<e.multipleLimit)&&(o=[...o,me(t)],d.cachedOptions.push(t),X(t),Me(n)),ce(o),t.created&&(d.query="",se(""),d.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(i=(r=g.value).focus)||i.call(r),ke("")),e.filterable&&(d.calculatedWidth=C.value.getBoundingClientRect().width),fe(),De()}else h.value=n,d.selectedLabel=t.label,ce(me(t)),S.value=!1,d.isComposing=!1,d.isSilentBlur=o,X(t),t.created||Q(),Me(n)},be=(n,o)=>{const{valueKey:r}=e,i=e.modelValue.indexOf((0,OE.Z)(o,r));if(i>-1&&!k.value){const n=[...e.modelValue.slice(0,i),...e.modelValue.slice(i+1)];return d.cachedOptions.splice(i,1),ce(n),t("remove-tag",(0,OE.Z)(o,r)),d.softFocus=!0,J(o),(0,s.Y3)(oe)}n.stopPropagation()},we=e=>{const n=d.isComposing;d.isComposing=!0,d.softFocus?d.softFocus=!1:n||t("focus",e)},_e=e=>(d.softFocus=!1,(0,s.Y3)((()=>{var n,o;null==(o=null==(n=g.value)?void 0:n.blur)||o.call(n),C.value&&(d.calculatedWidth=C.value.getBoundingClientRect().width),d.isSilentBlur?d.isSilentBlur=!1:d.isComposing&&t("blur",e),d.isComposing=!1}))),xe=()=>{d.displayInputValue.length>0?ke(""):S.value=!1},Ce=t=>{if(0===d.displayInputValue.length){t.preventDefault();const n=e.modelValue.slice();n.pop(),J(d.cachedOptions.pop()),ce(n)}},Se=()=>{let n;return n=(0,c.kJ)(e.modelValue)?[]:void 0,d.softFocus=!0,e.multiple?d.cachedOptions=[]:d.selectedLabel="",S.value=!1,ce(n),t("clear"),Q(),(0,s.Y3)(oe)},ke=e=>{d.displayInputValue=e,d.inputValue=e},Ee=(e,t=void 0)=>{const n=N.value;if(!["forward","backward"].includes(e)||k.value||n.length<=0||L.value)return;if(!S.value)return re();void 0===t&&(t=d.hoveringIndex);let o=-1;"forward"===e?(o=t+1,o>=n.length&&(o=0)):"backward"===e&&(o=t-1,(o<0||o>=n.length)&&(o=n.length-1));const r=n[o];if(r.disabled||"Group"===r.type)return Ee(e,o);Me(o),Ie(o)},Te=()=>{if(!S.value)return re();~d.hoveringIndex&&N.value[d.hoveringIndex]&&ye(N.value[d.hoveringIndex],d.hoveringIndex,!1)},Me=e=>{d.hoveringIndex=e},Oe=()=>{d.hoveringIndex=-1},De=()=>{var e;const t=g.value;t&&(null==(e=t.focus)||e.call(t))},Ae=t=>{const n=t.target.value;if(ke(n),d.displayInputValue.length>0&&!S.value&&(S.value=!0),d.calculatedWidth=C.value.getBoundingClientRect().width,e.multiple&&fe(),!e.remote)return ie();ae()},Re=()=>(S.value=!1,_e()),Pe=()=>(d.inputValue=d.displayInputValue,(0,s.Y3)((()=>{~$.value&&(Me($.value),Ie(d.hoveringIndex))}))),Ie=e=>{y.value.scrollToItem(e)},ze=()=>{if(Oe(),e.multiple)if(e.modelValue.length>0){let t=!1;d.cachedOptions.length=0,d.previousValue=e.modelValue.toString(),e.modelValue.forEach((e=>{const n=N.value.findIndex((t=>me(t)===e));~n&&(d.cachedOptions.push(N.value[n]),t||Me(n),t=!0)}))}else d.cachedOptions=[],d.previousValue=void 0;else if(T.value){d.previousValue=e.modelValue;const t=N.value,n=t.findIndex((t=>me(t)===me(e.modelValue)));~n?(d.selectedLabel=t[n].label,Me(n)):d.selectedLabel=`${e.modelValue}`}else d.selectedLabel="",d.previousValue=void 0;Q(),U()};return(0,s.YP)(S,(e=>{var n,o;t("visible-change",e),e?null==(o=(n=w.value).update)||o.call(n):(d.displayInputValue="",d.previousQuery=null,Y(""))})),(0,s.YP)((()=>e.modelValue),((t,n)=>{var o;t&&t.toString()===d.previousValue||ze(),!Jm(t,n)&&e.validateEvent&&(null==(o=null==a?void 0:a.validate)||o.call(a,"change").catch((e=>(0,b.N)(e))))}),{deep:!0}),(0,s.YP)((()=>e.options),(()=>{const e=g.value;(!e||e&&document.activeElement!==e)&&ze()}),{deep:!0}),(0,s.YP)(N,(()=>(0,s.Y3)(y.value.resetScrollTop))),(0,s.YP)((()=>q.value),(e=>{e||Oe()})),(0,s.bv)((()=>{ze()})),(0,u.yU7)(_,ge),{collapseTagSize:F,currentPlaceholder:W,expanded:S,emptyText:I,popupHeight:E,debounce:P,filteredOptions:N,iconComponent:O,iconReverse:D,inputWrapperStyle:V,popperSize:p,dropdownMenuVisible:q,hasModelValue:T,shouldShowPlaceholder:j,selectDisabled:k,selectSize:H,showClearBtn:M,states:d,tagMaxWidth:B,nsSelectV2:o,nsInput:r,calculatorRef:C,controlRef:f,inputRef:g,menuRef:y,popper:w,selectRef:_,selectionRef:x,popperRef:Z,validateState:A,validateIcon:R,showTagList:G,collapseTagList:K,debouncedOnInputChange:ae,deleteTag:be,getLabel:pe,getValueKey:me,handleBlur:_e,handleClear:Se,handleClickOutside:Re,handleDel:Ce,handleEsc:xe,handleFocus:we,handleMenuEnter:Pe,handleResize:ge,toggleMenu:re,scrollTo:Ie,onInput:Ae,onKeyboardNavigate:Ee,onKeyboardSelect:Te,onSelect:ye,onHover:Me,onUpdateInputValue:ke,handleCompositionStart:ee,handleCompositionEnd:ne,handleCompositionUpdate:te}},eD=(0,s.aZ)({name:"ElSelectV2",components:{ElSelectMenu:$O,ElTag:Rg,ElTooltip:Gr,ElIcon:P.gn},directives:{ClickOutside:Fg,ModelText:R.nr},props:IM,emits:[m.f_,m.O7,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=(0,s.Fl)((()=>{const{modelValue:t,multiple:n}=e,o=n?[]:void 0;return(0,c.kJ)(t)?n?t:o:n?o:t})),o=QO((0,l.qj)({...(0,l.BK)(e),modelValue:n}),t);return(0,s.JJ)(BM,{props:(0,l.qj)({...(0,l.BK)(e),height:o.popupHeight,modelValue:n}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:n}}}),tD={key:0},nD=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],oD=["textContent"],rD=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],iD=["textContent"];function aD(e,t,n,o,r,i){const a=(0,s.up)("el-tag"),l=(0,s.up)("el-tooltip"),u=(0,s.up)("el-icon"),d=(0,s.up)("el-select-menu"),h=(0,s.Q2)("model-text"),m=(0,s.Q2)("click-outside");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref:"selectRef",class:(0,c.C_)([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=(0,R.iM)(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[(0,s.Wm)(l,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:(0,s.w5)((()=>[(0,s._)("div",{ref:"selectionRef",class:(0,c.C_)([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?((0,s.wg)(),(0,s.iD)("div",tD,[(0,s.WI)(e.$slots,"prefix")])):(0,s.kq)("v-if",!0),e.multiple?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.showTagList,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.getValueKey(t),class:(0,c.C_)(e.nsSelectV2.e("selected-item"))},[(0,s.Wm)(a,{closable:!e.selectDisabled&&!(null==t?void 0:t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelectV2.e("tags-text")),style:(0,c.j5)({maxWidth:`${e.tagMaxWidth}px`})},(0,c.zw)(null==t?void 0:t.label),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),(0,s._)("div",{class:(0,c.C_)(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?((0,s.wg)(),(0,s.j4)(a,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:(0,s.w5)((()=>[e.collapseTagsTooltip?((0,s.wg)(),(0,s.j4)(l,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelectV2.e("tags-text")),style:(0,c.j5)({maxWidth:`${e.tagMaxWidth}px`})},"+ "+(0,c.zw)(e.modelValue.length-e.maxCollapseTags),7)])),content:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)(e.nsSelectV2.e("selection"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.collapseTagList,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.getValueKey(t),class:(0,c.C_)(e.nsSelectV2.e("selected-item"))},[(0,s.Wm)(a,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelectV2.e("tags-text")),style:(0,c.j5)({maxWidth:`${e.tagMaxWidth}px`})},(0,c.zw)(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)(e.nsSelectV2.e("tags-text")),style:(0,c.j5)({maxWidth:`${e.tagMaxWidth}px`})},"+ "+(0,c.zw)(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):(0,s.kq)("v-if",!0)],2)],64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(e.states.cachedOptions,(t=>((0,s.wg)(),(0,s.iD)("div",{key:e.getValueKey(t),class:(0,c.C_)(e.nsSelectV2.e("selected-item"))},[(0,s.Wm)(a,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:(0,s.w5)((()=>[(0,s._)("span",{class:(0,c.C_)(e.nsSelectV2.e("tags-text")),style:(0,c.j5)({maxWidth:`${e.tagMaxWidth}px`})},(0,c.zw)(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),(0,s._)("div",{class:(0,c.C_)([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:(0,c.j5)(e.inputWrapperStyle)},[(0,s.wy)((0,s._)("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:(0,c.C_)([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=(0,R.D2)((0,R.iM)((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=(0,R.D2)((0,R.iM)((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=(0,R.D2)((0,R.iM)(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=(0,R.D2)((0,R.iM)(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=(0,R.D2)((0,R.iM)(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,nD),[[h,e.states.displayInputValue]]),e.filterable?((0,s.wg)(),(0,s.iD)("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:(0,c.C_)(e.nsSelectV2.e("input-calculator")),textContent:(0,c.zw)(e.states.displayInputValue)},null,10,oD)):(0,s.kq)("v-if",!0)],6)],2)):((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",{class:(0,c.C_)([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[(0,s.wy)((0,s._)("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:(0,c.C_)(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=(0,R.D2)((0,R.iM)((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=(0,R.D2)((0,R.iM)((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=(0,R.D2)((0,R.iM)(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=(0,R.D2)((0,R.iM)(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,rD),[[h,e.states.displayInputValue]])],2),e.filterable?((0,s.wg)(),(0,s.iD)("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:(0,c.C_)([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:(0,c.zw)(e.states.displayInputValue)},null,10,iD)):(0,s.kq)("v-if",!0)],64)),e.shouldShowPlaceholder?((0,s.wg)(),(0,s.iD)("span",{key:3,class:(0,c.C_)([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},(0,c.zw)(e.currentPlaceholder),3)):(0,s.kq)("v-if",!0),(0,s._)("span",{class:(0,c.C_)(e.nsSelectV2.e("suffix"))},[e.iconComponent?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:0,class:(0,c.C_)([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.iconComponent)))])),_:1},8,["class"])),[[R.F8,!e.showClearBtn]]):(0,s.kq)("v-if",!0),e.showClearBtn&&e.clearIcon?((0,s.wg)(),(0,s.j4)(u,{key:1,class:(0,c.C_)([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:(0,R.iM)(e.handleClear,["prevent","stop"])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0),e.validateState&&e.validateIcon?((0,s.wg)(),(0,s.j4)(u,{key:2,class:(0,c.C_)([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.validateIcon)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)],2)],2)])),content:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:(0,s.w5)((t=>[(0,s.WI)(e.$slots,"default",(0,c.vs)((0,s.F4)(t)))])),empty:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"empty",{},(()=>[(0,s._)("p",{class:(0,c.C_)(e.nsSelectV2.e("empty"))},(0,c.zw)(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[m,e.handleClickOutside,e.popperRef]])}var sD=(0,g.Z)(eD,[["render",aD],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);sD.install=e=>{e.component(sD.name,sD)};const lD=sD,cD=lD,uD=(0,d.o8)({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),dD=(0,d.o8)({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),hD=(0,s.aZ)({name:"ElSkeletonItem"}),mD=(0,s.aZ)({...hD,props:dD,setup(e){const t=(0,v.s3)("skeleton");return(e,n)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(t).e("item"),(0,l.SU)(t).e(e.variant)])},["image"===e.variant?((0,s.wg)(),(0,s.j4)((0,l.SU)(he.PictureFilled),{key:0})):(0,s.kq)("v-if",!0)],2))}});var pD=(0,g.Z)(mD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const fD=(e,t=0)=>{if(0===t)return e;const n=(0,l.iH)(!1);let o=0;const r=()=>{o&&clearTimeout(o),o=window.setTimeout((()=>{n.value=e.value}),t)};return(0,s.bv)(r),(0,s.YP)((()=>e.value),(e=>{e?r():n.value=e})),n},gD=(0,s.aZ)({name:"ElSkeleton"}),vD=(0,s.aZ)({...gD,props:uD,setup(e,{expose:t}){const n=e,o=(0,v.s3)("skeleton"),r=fD((0,l.Vh)(n,"loading"),n.throttle);return t({uiLoading:r}),(e,t)=>(0,l.SU)(r)?((0,s.wg)(),(0,s.iD)("div",(0,s.dG)({key:0,class:[(0,l.SU)(o).b(),(0,l.SU)(o).is("animated",e.animated)]},e.$attrs),[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.count,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t},[e.loading?(0,s.WI)(e.$slots,"template",{key:t},(()=>[(0,s.Wm)(pD,{class:(0,c.C_)((0,l.SU)(o).is("first")),variant:"p"},null,8,["class"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.rows,(t=>((0,s.wg)(),(0,s.j4)(pD,{key:t,class:(0,c.C_)([(0,l.SU)(o).e("paragraph"),(0,l.SU)(o).is("last",t===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"])))),128))])):(0,s.kq)("v-if",!0)],64)))),128))],16)):(0,s.WI)(e.$slots,"default",(0,c.vs)((0,s.dG)({key:1},e.$attrs)))}});var yD=(0,g.Z)(vD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const bD=(0,D.nz)(yD,{SkeletonItem:pD}),wD=(0,D.dp)(pD),_D=Symbol("sliderContextKey"),xD=(0,d.o8)({modelValue:{type:(0,d.Cq)([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Bi.Pp,inputSize:Bi.Pp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:(0,d.Cq)(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:(0,d.Cq)(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ot,default:"top"},marks:{type:(0,d.Cq)(Object)},validateEvent:{type:Boolean,default:!0}}),CD=e=>(0,h.hj)(e)||(0,c.kJ)(e)&&e.every(h.hj),SD={[m.f_]:CD,[m.e_]:CD,[m.O7]:CD},kD=(0,d.o8)({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ot,default:"top"}}),ED={[m.f_]:e=>(0,h.hj)(e)},{left:TD,down:MD,right:OD,up:DD,home:AD,end:RD,pageUp:PD,pageDown:ID}=no.EVENT_CODE,zD=(e,t,n)=>{const o=(0,l.iH)(),r=(0,l.iH)(!1),i=(0,s.Fl)((()=>t.value instanceof Function)),a=(0,s.Fl)((()=>i.value&&t.value(e.modelValue)||e.modelValue)),c=de((()=>{n.value&&(r.value=!0)}),50),u=de((()=>{n.value&&(r.value=!1)}),50);return{tooltip:o,tooltipVisible:r,formatValue:a,displayTooltip:c,hideTooltip:u}},ND=(e,t,n)=>{const{disabled:o,min:r,max:i,step:a,showTooltip:c,precision:u,sliderSize:d,formatTooltip:h,emitChange:p,resetSize:f,updateDragging:g}=(0,s.f3)(_D),{tooltip:v,tooltipVisible:y,formatValue:b,displayTooltip:w,hideTooltip:_}=zD(e,h,c),x=(0,l.iH)(),C=(0,s.Fl)((()=>(e.modelValue-r.value)/(i.value-r.value)*100+"%")),S=(0,s.Fl)((()=>e.vertical?{bottom:C.value}:{left:C.value})),k=()=>{t.hovering=!0,w()},E=()=>{t.hovering=!1,t.dragging||_()},T=e=>{o.value||(e.preventDefault(),L(e),window.addEventListener("mousemove",H),window.addEventListener("touchmove",H),window.addEventListener("mouseup",F),window.addEventListener("touchend",F),window.addEventListener("contextmenu",F),x.value.focus())},M=e=>{o.value||(t.newPosition=Number.parseFloat(C.value)+e/(i.value-r.value)*100,B(t.newPosition),p())},O=()=>{M(-a.value)},D=()=>{M(a.value)},A=()=>{M(4*-a.value)},R=()=>{M(4*a.value)},P=()=>{o.value||(B(0),p())},I=()=>{o.value||(B(100),p())},z=e=>{let t=!0;[TD,MD].includes(e.key)?O():[OD,DD].includes(e.key)?D():e.key===AD?P():e.key===RD?I():e.key===ID?A():e.key===PD?R():t=!1,t&&e.preventDefault()},N=e=>{let t,n;return e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},L=n=>{t.dragging=!0,t.isClick=!0;const{clientX:o,clientY:r}=N(n);e.vertical?t.startY=r:t.startX=o,t.startPosition=Number.parseFloat(C.value),t.newPosition=t.startPosition},H=n=>{if(t.dragging){let o;t.isClick=!1,w(),f();const{clientX:r,clientY:i}=N(n);e.vertical?(t.currentY=i,o=(t.startY-t.currentY)/d.value*100):(t.currentX=r,o=(t.currentX-t.startX)/d.value*100),t.newPosition=t.startPosition+o,B(t.newPosition)}},F=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||_(),t.isClick||B(t.newPosition),p()}),0),window.removeEventListener("mousemove",H),window.removeEventListener("touchmove",H),window.removeEventListener("mouseup",F),window.removeEventListener("touchend",F),window.removeEventListener("contextmenu",F))},B=async o=>{if(null===o||Number.isNaN(+o))return;o<0?o=0:o>100&&(o=100);const l=100/((i.value-r.value)/a.value),c=Math.round(o/l);let d=c*l*(i.value-r.value)*.01+r.value;d=Number.parseFloat(d.toFixed(u.value)),d!==e.modelValue&&n(m.f_,d),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await(0,s.Y3)(),t.dragging&&w(),v.value.updatePopper()};return(0,s.YP)((()=>t.dragging),(e=>{g(e)})),{disabled:o,button:x,tooltip:v,tooltipVisible:y,showTooltip:c,wrapperStyle:S,formatValue:b,handleMouseEnter:k,handleMouseLeave:E,onButtonDown:T,onKeyDown:z,setPosition:B}},LD=["tabindex"],HD=(0,s.aZ)({name:"ElSliderButton"}),FD=(0,s.aZ)({...HD,props:kD,emits:ED,setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("slider"),i=(0,l.qj)({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:o.modelValue}),{disabled:a,button:u,tooltip:d,showTooltip:h,tooltipVisible:m,wrapperStyle:p,formatValue:f,handleMouseEnter:g,handleMouseLeave:y,onButtonDown:b,onKeyDown:w,setPosition:_}=ND(o,i,n),{hovering:x,dragging:C}=(0,l.BK)(i);return t({onButtonDown:b,onKeyDown:w,setPosition:_,hovering:x,dragging:C}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"button",ref:u,class:(0,c.C_)([(0,l.SU)(r).e("button-wrapper"),{hover:(0,l.SU)(x),dragging:(0,l.SU)(C)}]),style:(0,c.j5)((0,l.SU)(p)),tabindex:(0,l.SU)(a)?-1:0,onMouseenter:t[0]||(t[0]=(...e)=>(0,l.SU)(g)&&(0,l.SU)(g)(...e)),onMouseleave:t[1]||(t[1]=(...e)=>(0,l.SU)(y)&&(0,l.SU)(y)(...e)),onMousedown:t[2]||(t[2]=(...e)=>(0,l.SU)(b)&&(0,l.SU)(b)(...e)),onTouchstart:t[3]||(t[3]=(...e)=>(0,l.SU)(b)&&(0,l.SU)(b)(...e)),onFocus:t[4]||(t[4]=(...e)=>(0,l.SU)(g)&&(0,l.SU)(g)(...e)),onBlur:t[5]||(t[5]=(...e)=>(0,l.SU)(y)&&(0,l.SU)(y)(...e)),onKeydown:t[6]||(t[6]=(...e)=>(0,l.SU)(w)&&(0,l.SU)(w)(...e))},[(0,s.Wm)((0,l.SU)(Gr),{ref_key:"tooltip",ref:d,visible:(0,l.SU)(m),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!(0,l.SU)(h),persistent:""},{content:(0,s.w5)((()=>[(0,s._)("span",null,(0,c.zw)((0,l.SU)(f)),1)])),default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(r).e("button"),{hover:(0,l.SU)(x),dragging:(0,l.SU)(C)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled"])],46,LD))}});var BD=(0,g.Z)(FD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const UD=(0,d.o8)({mark:{type:(0,d.Cq)([String,Object]),default:void 0}});var VD=(0,s.aZ)({name:"ElSliderMarker",props:UD,setup(e){const t=(0,v.s3)("slider"),n=(0,s.Fl)((()=>(0,c.HD)(e.mark)?e.mark:e.mark.label)),o=(0,s.Fl)((()=>(0,c.HD)(e.mark)?void 0:e.mark.style));return()=>(0,s.h)("div",{class:t.e("marks-text"),style:o.value},n.value)}});const jD=(e,t,n)=>{const{form:o,formItem:r}=(0,Hi.A)(),i=(0,l.XI)(),a=(0,l.iH)(),c=(0,l.iH)(),u={firstButton:a,secondButton:c},d=(0,s.Fl)((()=>e.disabled||(null==o?void 0:o.disabled)||!1)),h=(0,s.Fl)((()=>Math.min(t.firstValue,t.secondValue))),p=(0,s.Fl)((()=>Math.max(t.firstValue,t.secondValue))),f=(0,s.Fl)((()=>e.range?100*(p.value-h.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),g=(0,s.Fl)((()=>e.range?100*(h.value-e.min)/(e.max-e.min)+"%":"0%")),v=(0,s.Fl)((()=>e.vertical?{height:e.height}:{})),y=(0,s.Fl)((()=>e.vertical?{height:f.value,bottom:g.value}:{width:f.value,left:g.value})),b=()=>{i.value&&(t.sliderSize=i.value["client"+(e.vertical?"Height":"Width")])},w=n=>{const o=e.min+n*(e.max-e.min)/100;if(!e.range)return a;let r;return r=Math.abs(h.value-o)<Math.abs(p.value-o)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",u[r]},_=e=>{const t=w(e);return t.value.setPosition(e),t},x=n=>{t.firstValue=n,S(e.range?[h.value,p.value]:n)},C=n=>{t.secondValue=n,e.range&&S([h.value,p.value])},S=e=>{n(m.f_,e),n(m.e_,e)},k=async()=>{await(0,s.Y3)(),n(m.O7,e.range?[h.value,p.value]:e.modelValue)},E=n=>{var o,r,a,s,l,c;if(d.value||t.dragging)return;b();let u=0;if(e.vertical){const e=null!=(a=null==(r=null==(o=n.touches)?void 0:o.item(0))?void 0:r.clientY)?a:n.clientY,s=i.value.getBoundingClientRect().bottom;u=(s-e)/t.sliderSize*100}else{const e=null!=(c=null==(l=null==(s=n.touches)?void 0:s.item(0))?void 0:l.clientX)?c:n.clientX,o=i.value.getBoundingClientRect().left;u=(e-o)/t.sliderSize*100}return u<0||u>100?void 0:_(u)},T=e=>{var t,n;((null==(t=u["firstButton"].value)?void 0:t.dragging)||(null==(n=u["secondButton"].value)?void 0:n.dragging))&&e.preventDefault()},M=async e=>{const t=E(e);t&&(await(0,s.Y3)(),t.value.onButtonDown(e))},O=e=>{const t=E(e);t&&k()};return{elFormItem:r,slider:i,firstButton:a,secondButton:c,sliderDisabled:d,minValue:h,maxValue:p,runwayStyle:v,barStyle:y,resetSize:b,setPosition:_,emitChange:k,onSliderWrapperPrevent:T,onSliderClick:O,onSliderDown:M,setFirstValue:x,setSecondValue:C}},WD=(e,t,n,o)=>{const r=(0,s.Fl)((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return(0,b.N)("ElSlider","step should not be 0."),[];const r=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),a=Array.from({length:r-1}).map(((e,t)=>(t+1)*i));return e.range?a.filter((t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(o.value-e.min)/(e.max-e.min))):a.filter((n=>n>100*(t.firstValue-e.min)/(e.max-e.min)))})),i=t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`};return{stops:r,getStopStyle:i}},ZD=e=>(0,s.Fl)((()=>{if(!e.marks)return[];const t=Object.keys(e.marks);return t.map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]})))})),$D=(e,t,n,o,r,i)=>{const a=e=>{r(m.f_,e),r(m.e_,e)},l=()=>e.range?![n.value,o.value].every(((e,n)=>e===t.oldValue[n])):e.modelValue!==t.oldValue,c=()=>{var n,o;e.min>e.max&&(0,b._)("Slider","min should not be greater than max.");const r=e.modelValue;e.range&&Array.isArray(r)?r[1]<e.min?a([e.min,e.min]):r[0]>e.max?a([e.max,e.max]):r[0]<e.min?a([e.min,r[1]]):r[1]>e.max?a([r[0],e.max]):(t.firstValue=r[0],t.secondValue=r[1],l()&&(e.validateEvent&&(null==(n=null==i?void 0:i.validate)||n.call(i,"change").catch((e=>(0,b.N)(e)))),t.oldValue=r.slice())):e.range||"number"!==typeof r||Number.isNaN(r)||(r<e.min?a(e.min):r>e.max?a(e.max):(t.firstValue=r,l()&&(e.validateEvent&&(null==(o=null==i?void 0:i.validate)||o.call(i,"change").catch((e=>(0,b.N)(e)))),t.oldValue=r)))};c(),(0,s.YP)((()=>t.dragging),(e=>{e||c()})),(0,s.YP)((()=>e.modelValue),((e,n)=>{t.dragging||Array.isArray(e)&&Array.isArray(n)&&e.every(((e,t)=>e===n[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||c()}),{deep:!0}),(0,s.YP)((()=>[e.min,e.max]),(()=>{c()}))},qD=(e,t,n)=>{const o=(0,l.iH)();return(0,s.bv)((async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):("number"!==typeof e.modelValue||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),(0,u.ORN)(window,"resize",n),await(0,s.Y3)(),n()})),{sliderWrapper:o}},GD=["id","role","aria-label","aria-labelledby"],KD={key:1},YD=(0,s.aZ)({name:"ElSlider"}),JD=(0,s.aZ)({...YD,props:xD,emits:SD,setup(e,{expose:t,emit:n}){const o=e,r=(0,v.s3)("slider"),{t:i}=(0,Ga.bU)(),a=(0,l.qj)({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:u,slider:d,firstButton:h,secondButton:m,sliderDisabled:p,minValue:f,maxValue:g,runwayStyle:y,barStyle:b,resetSize:w,emitChange:_,onSliderWrapperPrevent:x,onSliderClick:C,onSliderDown:S,setFirstValue:k,setSecondValue:E}=jD(o,a,n),{stops:T,getStopStyle:M}=WD(o,a,f,g),{inputId:O,isLabeledByFormItem:D}=(0,Hi.p)(o,{formItemContext:u}),A=(0,Xr.Cd)(),R=(0,s.Fl)((()=>o.inputSize||A.value)),P=(0,s.Fl)((()=>o.label||i("el.slider.defaultLabel",{min:o.min,max:o.max}))),I=(0,s.Fl)((()=>o.range?o.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):P.value)),z=(0,s.Fl)((()=>o.formatValueText?o.formatValueText(V.value):`${V.value}`)),N=(0,s.Fl)((()=>o.rangeEndLabel||i("el.slider.defaultRangeEndLabel"))),L=(0,s.Fl)((()=>o.formatValueText?o.formatValueText(j.value):`${j.value}`)),H=(0,s.Fl)((()=>[r.b(),r.m(A.value),r.is("vertical",o.vertical),{[r.m("with-input")]:o.showInput}])),F=ZD(o);$D(o,a,f,g,n,u);const B=(0,s.Fl)((()=>{const e=[o.min,o.max,o.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:U}=qD(o,a,w),{firstValue:V,secondValue:j,sliderSize:W}=(0,l.BK)(a),Z=e=>{a.dragging=e};return(0,s.JJ)(_D,{...(0,l.BK)(o),sliderSize:W,disabled:p,precision:B,emitChange:_,resetSize:w,updateDragging:Z}),t({onSliderClick:C}),(e,t)=>{var n,o;return(0,s.wg)(),(0,s.iD)("div",{id:e.range?(0,l.SU)(O):void 0,ref_key:"sliderWrapper",ref:U,class:(0,c.C_)((0,l.SU)(H)),role:e.range?"group":void 0,"aria-label":e.range&&!(0,l.SU)(D)?(0,l.SU)(P):void 0,"aria-labelledby":e.range&&(0,l.SU)(D)?null==(n=(0,l.SU)(u))?void 0:n.labelId:void 0,onTouchstart:t[2]||(t[2]=(...e)=>(0,l.SU)(x)&&(0,l.SU)(x)(...e)),onTouchmove:t[3]||(t[3]=(...e)=>(0,l.SU)(x)&&(0,l.SU)(x)(...e))},[(0,s._)("div",{ref_key:"slider",ref:d,class:(0,c.C_)([(0,l.SU)(r).e("runway"),{"show-input":e.showInput&&!e.range},(0,l.SU)(r).is("disabled",(0,l.SU)(p))]),style:(0,c.j5)((0,l.SU)(y)),onMousedown:t[0]||(t[0]=(...e)=>(0,l.SU)(S)&&(0,l.SU)(S)(...e)),onTouchstart:t[1]||(t[1]=(...e)=>(0,l.SU)(S)&&(0,l.SU)(S)(...e))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("bar")),style:(0,c.j5)((0,l.SU)(b))},null,6),(0,s.Wm)(BD,{id:e.range?void 0:(0,l.SU)(O),ref_key:"firstButton",ref:h,"model-value":(0,l.SU)(V),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!(0,l.SU)(D)?(0,l.SU)(I):void 0,"aria-labelledby":!e.range&&(0,l.SU)(D)?null==(o=(0,l.SU)(u))?void 0:o.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?(0,l.SU)(j):e.max,"aria-valuenow":(0,l.SU)(V),"aria-valuetext":(0,l.SU)(z),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,l.SU)(p),"onUpdate:modelValue":(0,l.SU)(k)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?((0,s.wg)(),(0,s.j4)(BD,{key:0,ref_key:"secondButton",ref:m,"model-value":(0,l.SU)(j),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":(0,l.SU)(N),"aria-valuemin":(0,l.SU)(V),"aria-valuemax":e.max,"aria-valuenow":(0,l.SU)(j),"aria-valuetext":(0,l.SU)(L),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":(0,l.SU)(p),"onUpdate:modelValue":(0,l.SU)(E)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):(0,s.kq)("v-if",!0),e.showStops?((0,s.wg)(),(0,s.iD)("div",KD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(T),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,c.C_)((0,l.SU)(r).e("stop")),style:(0,c.j5)((0,l.SU)(M)(e))},null,6)))),128))])):(0,s.kq)("v-if",!0),(0,l.SU)(F).length>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(F),((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,style:(0,c.j5)((0,l.SU)(M)(e.position)),class:(0,c.C_)([(0,l.SU)(r).e("stop"),(0,l.SU)(r).e("marks-stop")])},null,6)))),128))]),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).e("marks"))},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(F),((e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(VD),{key:t,mark:e.mark,style:(0,c.j5)((0,l.SU)(M)(e.position))},null,8,["mark","style"])))),128))],2)],64)):(0,s.kq)("v-if",!0)],38),e.showInput&&!e.range?((0,s.wg)(),(0,s.j4)((0,l.SU)(Ck),{key:0,ref:"input","model-value":(0,l.SU)(V),class:(0,c.C_)((0,l.SU)(r).e("input")),step:e.step,disabled:(0,l.SU)(p),controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:(0,l.SU)(R),"onUpdate:modelValue":(0,l.SU)(k),onChange:(0,l.SU)(_)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):(0,s.kq)("v-if",!0)],42,GD)}}});var XD=(0,g.Z)(JD,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const QD=(0,D.nz)(XD),eA=(0,d.o8)({prefixCls:{type:String}}),tA=(0,s.aZ)({name:"ElSpaceItem",props:eA,setup(e,{slots:t}){const n=(0,v.s3)("space"),o=(0,s.Fl)((()=>`${e.prefixCls||n.b()}__item`));return()=>(0,s.h)("div",{class:o.value},(0,s.WI)(t,"default"))}}),nA={small:8,default:12,large:16};function oA(e){const t=(0,v.s3)("space"),n=(0,s.Fl)((()=>[t.b(),t.m(e.direction),e.class])),o=(0,l.iH)(0),r=(0,l.iH)(0),i=(0,s.Fl)((()=>{const t=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${r.value}px`}:{},n={alignItems:e.alignment};return[t,n,e.style]})),a=(0,s.Fl)((()=>{const t={paddingBottom:`${r.value}px`,marginRight:`${o.value}px`},n=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[t,n]}));return(0,s.m0)((()=>{const{size:t="small",wrap:n,direction:i,fill:a}=e;if((0,c.kJ)(t)){const[e=0,n=0]=t;o.value=e,r.value=n}else{let e;e=(0,h.hj)(t)?t:nA[t||"small"]||nA.small,(n||a)&&"horizontal"===i?o.value=r.value=e:"horizontal"===i?(o.value=e,r.value=0):(r.value=e,o.value=0)}})),{classes:n,containerStyle:i,itemStyle:a}}const rA=(0,d.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:(0,d.Cq)([String,Object,Array]),default:""},style:{type:(0,d.Cq)([String,Array,Object]),default:""},alignment:{type:(0,d.Cq)(String),default:"center"},prefixCls:{type:String},spacer:{type:(0,d.Cq)([Object,String,Number,Array]),default:null,validator:e=>(0,s.lA)(e)||(0,h.hj)(e)||(0,c.HD)(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:li.k,validator:e=>(0,h.hj)(e)||(0,c.kJ)(e)&&2===e.length&&e.every(h.hj)}}),iA=(0,s.aZ)({name:"ElSpace",props:rA,setup(e,{slots:t}){const{classes:n,containerStyle:o,itemStyle:r}=oA(e);function i(t,n="",o=[]){const{prefixCls:a}=e;return t.forEach(((e,t)=>{Ts(e)?(0,c.kJ)(e.children)&&e.children.forEach(((e,t)=>{Ts(e)&&(0,c.kJ)(e.children)?i(e.children,`${n+t}-`,o):o.push((0,s.Wm)(tA,{style:r.value,prefixCls:a,key:`nested-${n+t}`},{default:()=>[e]},Es.PROPS|Es.STYLE,["style","prefixCls"]))})):Os(e)&&o.push((0,s.Wm)(tA,{style:r.value,prefixCls:a,key:`LoopKey${n+t}`},{default:()=>[e]},Es.PROPS|Es.STYLE,["style","prefixCls"]))})),o}return()=>{var a;const{spacer:l,direction:u}=e,d=(0,s.WI)(t,"default",{key:0},(()=>[]));if(0===(null!=(a=d.children)?a:[]).length)return null;if((0,c.kJ)(d.children)){let e=i(d.children);if(l){const t=e.length-1;e=e.reduce(((e,n,o)=>{const i=[...e,n];return o!==t&&i.push((0,s.Wm)("span",{style:[r.value,"vertical"===u?"width: 100%":null],key:o},[(0,s.lA)(l)?l:(0,s.Uk)(l,Es.TEXT)],Es.STYLE)),i}),[])}return(0,s.Wm)("div",{class:n.value,style:o.value},e,Es.STYLE|Es.CLASS)}return d.children}}}),aA=(0,D.nz)(iA),sA=(0,d.o8)({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:(0,d.Cq)([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:(0,d.Cq)([String,Object,Array])}}),lA=(0,s.aZ)({name:"ElStatistic"}),cA=(0,s.aZ)({...lA,props:sA,setup(e,{expose:t}){const n=e,o=(0,v.s3)("statistic"),r=(0,s.Fl)((()=>{const{value:e,formatter:t,precision:o,decimalSeparator:r,groupSeparator:i}=n;if((0,c.mf)(t))return t(e);if(!(0,h.hj)(e))return e;let[a,s=""]=String(e).split(".");return s=s.padEnd(o,"0").slice(0,o>0?o:0),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,i),[a,s].join(s?r:"")}));return t({displayValue:r}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(o).b())},[e.$slots.title||e.title?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o).e("head"))},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title),1)]))],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).e("content"))},[e.$slots.prefix||e.prefix?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o).e("prefix"))},[(0,s.WI)(e.$slots,"prefix",{},(()=>[(0,s._)("span",null,(0,c.zw)(e.prefix),1)]))],2)):(0,s.kq)("v-if",!0),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(o).e("number")),style:(0,c.j5)(e.valueStyle)},(0,c.zw)((0,l.SU)(r)),7),e.$slots.suffix||e.suffix?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(o).e("suffix"))},[(0,s.WI)(e.$slots,"suffix",{},(()=>[(0,s._)("span",null,(0,c.zw)(e.suffix),1)]))],2)):(0,s.kq)("v-if",!0)],2)],2))}});var uA=(0,g.Z)(cA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const dA=(0,D.nz)(uA),hA=(0,d.o8)({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:(0,d.Cq)([Number,Object]),default:0},valueStyle:{type:(0,d.Cq)([String,Object,Array])}}),mA={finish:()=>!0,[m.O7]:e=>(0,h.hj)(e)},pA=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]],fA=e=>(0,h.hj)(e)?new Date(e).getTime():e.valueOf(),gA=(e,t)=>{let n=e;const o=/\[([^\]]*)]/g,r=pA.reduce(((e,[t,o])=>{const r=new RegExp(`${t}+(?![^\\[\\]]*\\])`,"g");if(r.test(e)){const t=Math.floor(n/o);return n-=t*o,e.replace(r,(e=>String(t).padStart(e.length,"0")))}return e}),t);return r.replace(o,"$1")},vA=(0,s.aZ)({name:"ElCountdown"}),yA=(0,s.aZ)({...vA,props:hA,emits:mA,setup(e,{expose:t,emit:n}){const o=e;let r;const i=(0,l.iH)(fA(o.value)-Date.now()),a=(0,s.Fl)((()=>gA(i.value,o.format))),c=e=>gA(e,o.format),u=()=>{r&&(mO(r),r=void 0)},d=()=>{const e=fA(o.value),t=()=>{let o=e-Date.now();n("change",o),o<=0?(o=0,u(),n("finish")):r=hO(t),i.value=o};r=hO(t)};return(0,s.YP)((()=>[o.value,o.format]),(()=>{u(),d()}),{immediate:!0}),(0,s.Jd)((()=>{u()})),t({displayValue:a}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(dA),{value:i.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:c},(0,s.Nv)({_:2},[(0,s.Ko)(e.$slots,((t,n)=>({name:n,fn:(0,s.w5)((()=>[(0,s.WI)(e.$slots,n)]))})))]),1032,["value","title","prefix","suffix","value-style"]))}});var bA=(0,g.Z)(yA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const wA=(0,D.nz)(bA),_A=(0,d.o8)({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),xA={[m.O7]:(e,t)=>[e,t].every(h.hj)},CA=(0,s.aZ)({name:"ElSteps"}),SA=(0,s.aZ)({...CA,props:_A,emits:xA,setup(e,{emit:t}){const n=e,o=(0,v.s3)("steps"),r=(0,l.iH)([]);return(0,s.YP)(r,(()=>{r.value.forEach(((e,t)=>{e.setIndex(t)}))})),(0,s.JJ)("ElSteps",{props:n,steps:r}),(0,s.YP)((()=>n.active),((e,n)=>{t(m.O7,e,n)})),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(o).b(),(0,l.SU)(o).m(e.simple?"simple":e.direction)])},[(0,s.WI)(e.$slots,"default")],2))}});var kA=(0,g.Z)(SA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const EA=(0,d.o8)({title:{type:String,default:""},icon:{type:z.AA},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),TA=(0,s.aZ)({name:"ElStep"}),MA=(0,s.aZ)({...TA,props:EA,setup(e){const t=e,n=(0,v.s3)("step"),o=(0,l.iH)(-1),r=(0,l.iH)({}),i=(0,l.iH)(""),a=(0,s.f3)("ElSteps"),u=(0,s.FN)();(0,s.bv)((()=>{(0,s.YP)([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],(([e])=>{k(e)}),{immediate:!0})})),(0,s.Jd)((()=>{a.steps.value=a.steps.value.filter((e=>e.uid!==(null==u?void 0:u.uid)))}));const d=(0,s.Fl)((()=>t.status||i.value)),m=(0,s.Fl)((()=>{const e=a.steps.value[o.value-1];return e?e.currentStatus:"wait"})),p=(0,s.Fl)((()=>a.props.alignCenter)),f=(0,s.Fl)((()=>"vertical"===a.props.direction)),g=(0,s.Fl)((()=>a.props.simple)),y=(0,s.Fl)((()=>a.steps.value.length)),b=(0,s.Fl)((()=>{var e;return(null==(e=a.steps.value[y.value-1])?void 0:e.uid)===(null==u?void 0:u.uid)})),w=(0,s.Fl)((()=>g.value?"":a.props.space)),_=(0,s.Fl)((()=>[n.b(),n.is(g.value?"simple":a.props.direction),n.is("flex",b.value&&!w.value&&!p.value),n.is("center",p.value&&!f.value&&!g.value)])),x=(0,s.Fl)((()=>{const e={flexBasis:(0,h.hj)(w.value)?`${w.value}px`:w.value?w.value:100/(y.value-(p.value?0:1))+"%"};return f.value||b.value&&(e.maxWidth=100/y.value+"%"),e})),C=e=>{o.value=e},S=e=>{const t="wait"===e,n={transitionDelay:`${t?"-":""}${150*o.value}ms`},i=e===a.props.processStatus||t?0:100;n.borderWidth=i&&!g.value?"1px":0,n["vertical"===a.props.direction?"height":"width"]=`${i}%`,r.value=n},k=e=>{e>o.value?i.value=a.props.finishStatus:e===o.value&&"error"!==m.value?i.value=a.props.processStatus:i.value="wait";const t=a.steps.value[o.value-1];t&&t.calcProgress(i.value)},E=(0,l.qj)({uid:(0,s.Fl)((()=>null==u?void 0:u.uid)),currentStatus:d,setIndex:C,calcProgress:S});return a.steps.value=[...a.steps.value,E],(e,t)=>((0,s.wg)(),(0,s.iD)("div",{style:(0,c.j5)((0,l.SU)(x)),class:(0,c.C_)((0,l.SU)(_))},[(0,s.kq)(" icon & line "),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(n).e("head"),(0,l.SU)(n).is((0,l.SU)(d))])},[(0,l.SU)(g)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(n).e("line"))},[(0,s._)("i",{class:(0,c.C_)((0,l.SU)(n).e("line-inner")),style:(0,c.j5)(r.value)},null,6)],2)),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(n).e("icon"),(0,l.SU)(n).is(e.icon||e.$slots.icon?"icon":"text")])},[(0,s.WI)(e.$slots,"icon",{},(()=>[e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(n).e("icon-inner"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1},8,["class"])):"success"===(0,l.SU)(d)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,class:(0,c.C_)([(0,l.SU)(n).e("icon-inner"),(0,l.SU)(n).is("status")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Check))])),_:1},8,["class"])):"error"===(0,l.SU)(d)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:2,class:(0,c.C_)([(0,l.SU)(n).e("icon-inner"),(0,l.SU)(n).is("status")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:1},8,["class"])):(0,l.SU)(g)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:3,class:(0,c.C_)((0,l.SU)(n).e("icon-inner"))},(0,c.zw)(o.value+1),3))]))],2)],2),(0,s.kq)(" title & description "),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("main"))},[(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(n).e("title"),(0,l.SU)(n).is((0,l.SU)(d))])},[(0,s.WI)(e.$slots,"title",{},(()=>[(0,s.Uk)((0,c.zw)(e.title),1)]))],2),(0,l.SU)(g)?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(n).e("arrow"))},null,2)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)([(0,l.SU)(n).e("description"),(0,l.SU)(n).is((0,l.SU)(d))])},[(0,s.WI)(e.$slots,"description",{},(()=>[(0,s.Uk)((0,c.zw)(e.description),1)]))],2))],2)],6))}});var OA=(0,g.Z)(MA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const DA=(0,D.nz)(kA,{Step:OA}),AA=(0,D.dp)(OA),RA=(0,d.o8)({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:z.AA},inactiveIcon:{type:z.AA},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:(0,d.Cq)(Function)},size:{type:String,validator:jE},tabindex:{type:[String,Number]}}),PA={[m.f_]:e=>(0,h.jn)(e)||(0,c.HD)(e)||(0,h.hj)(e),[m.O7]:e=>(0,h.jn)(e)||(0,c.HD)(e)||(0,h.hj)(e),[m.e_]:e=>(0,h.jn)(e)||(0,c.HD)(e)||(0,h.hj)(e)},IA=["onClick"],zA=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],NA=["aria-hidden"],LA=["aria-hidden"],HA=["aria-hidden"],FA="ElSwitch",BA=(0,s.aZ)({name:FA}),UA=(0,s.aZ)({...BA,props:RA,emits:PA,setup(e,{expose:t,emit:n}){const o=e,r=(0,s.FN)(),{formItem:i}=(0,Hi.A)(),a=(0,Xr.Cd)(),u=(0,v.s3)("switch");Li({from:'"value"',replacement:'"model-value" or "v-model"',scope:FA,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},(0,s.Fl)((()=>{var e;return!!(null==(e=r.vnode.props)?void 0:e.value)})));const{inputId:d}=(0,Hi.p)(o,{formItemContext:i}),p=(0,Xr.DT)((0,s.Fl)((()=>o.loading))),f=(0,l.iH)(!1!==o.modelValue),g=(0,l.iH)(),w=(0,l.iH)(),_=(0,s.Fl)((()=>[u.b(),u.m(a.value),u.is("disabled",p.value),u.is("checked",S.value)])),x=(0,s.Fl)((()=>({width:(0,y.Nn)(o.width)})));(0,s.YP)((()=>o.modelValue),(()=>{f.value=!0})),(0,s.YP)((()=>o.value),(()=>{f.value=!1}));const C=(0,s.Fl)((()=>f.value?o.modelValue:o.value)),S=(0,s.Fl)((()=>C.value===o.activeValue));[o.activeValue,o.inactiveValue].includes(C.value)||(n(m.f_,o.inactiveValue),n(m.O7,o.inactiveValue),n(m.e_,o.inactiveValue)),(0,s.YP)(S,(e=>{var t;g.value.checked=e,o.validateEvent&&(null==(t=null==i?void 0:i.validate)||t.call(i,"change").catch((e=>(0,b.N)(e))))}));const k=()=>{const e=S.value?o.inactiveValue:o.activeValue;n(m.f_,e),n(m.O7,e),n(m.e_,e),(0,s.Y3)((()=>{g.value.checked=S.value}))},E=()=>{if(p.value)return;const{beforeChange:e}=o;if(!e)return void k();const t=e(),n=[(0,c.tI)(t),(0,h.jn)(t)].includes(!0);n||(0,b._)(FA,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,c.tI)(t)?t.then((e=>{e&&k()})).catch((e=>{(0,b.N)(FA,`some error occurred: ${e}`)})):t&&k()},T=(0,s.Fl)((()=>u.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null}))),M=()=>{var e,t;null==(t=null==(e=g.value)?void 0:e.focus)||t.call(e)};return(0,s.bv)((()=>{g.value.checked=S.value})),t({focus:M,checked:S}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(_)),style:(0,c.j5)((0,l.SU)(T)),onClick:(0,R.iM)(E,["prevent"])},[(0,s._)("input",{id:(0,l.SU)(d),ref_key:"input",ref:g,class:(0,c.C_)((0,l.SU)(u).e("input")),type:"checkbox",role:"switch","aria-checked":(0,l.SU)(S),"aria-disabled":(0,l.SU)(p),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,l.SU)(p),tabindex:e.tabindex,onChange:k,onKeydown:(0,R.D2)(E,["enter"])},null,42,zA),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)([(0,l.SU)(u).e("label"),(0,l.SU)(u).em("label","left"),(0,l.SU)(u).is("active",!(0,l.SU)(S))])},[e.inactiveIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.inactiveIcon)))])),_:1})):(0,s.kq)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,s.wg)(),(0,s.iD)("span",{key:1,"aria-hidden":(0,l.SU)(S)},(0,c.zw)(e.inactiveText),9,NA)):(0,s.kq)("v-if",!0)],2)),(0,s._)("span",{ref_key:"core",ref:w,class:(0,c.C_)((0,l.SU)(u).e("core")),style:(0,c.j5)((0,l.SU)(x))},[e.inlinePrompt?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(u).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(u).is("icon"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(S)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)((0,l.SU)(u).is("text")),"aria-hidden":!(0,l.SU)(S)},(0,c.zw)((0,l.SU)(S)?e.activeText:e.inactiveText),11,LA)):(0,s.kq)("v-if",!0)],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(u).e("action"))},[e.loading?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(u).is("loading"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Loading))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,c.C_)([(0,l.SU)(u).e("label"),(0,l.SU)(u).em("label","right"),(0,l.SU)(u).is("active",(0,l.SU)(S))])},[e.activeIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.activeIcon)))])),_:1})):(0,s.kq)("v-if",!0),!e.activeIcon&&e.activeText?((0,s.wg)(),(0,s.iD)("span",{key:1,"aria-hidden":!(0,l.SU)(S)},(0,c.zw)(e.activeText),9,HA)):(0,s.kq)("v-if",!0)],2))],14,IA))}});var VA=(0,g.Z)(UA,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const jA=(0,D.nz)(VA);function WA(e,t,n){(void 0!==n&&!(0,mm.Z)(e[t],n)||void 0===n&&!(t in e))&&(0,gl.Z)(e,t,n)}var ZA=WA;function $A(e){return function(t,n,o){var r=-1,i=Object(t),a=o(t),s=a.length;while(s--){var l=a[e?s:++r];if(!1===n(i[l],l,i))break}return t}}var qA=$A,GA=qA(),KA=GA;function YA(e){return(0,xl.Z)(e)&&qc(e)}var JA=YA,XA="[object Object]",QA=Function.prototype,eR=Object.prototype,tR=QA.toString,nR=eR.hasOwnProperty,oR=tR.call(Object);function rR(e){if(!(0,xl.Z)(e)||(0,_l.Z)(e)!=XA)return!1;var t=Au(e);if(null===t)return!0;var n=nR.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&tR.call(n)==oR}var iR=rR;function aR(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var sR=aR;function lR(e){return yl(e,iu(e))}var cR=lR;function uR(e,t,n,o,r,i,a){var s=sR(e,n),l=sR(t,n),c=a.get(l);if(c)ZA(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var h=(0,Al.Z)(l),m=!h&&Bl(l),p=!h&&!m&&Oc(l);u=l,h||m||p?(0,Al.Z)(s)?u=s:JA(s)?u=gu(s):m?(d=!1,u=pu(l,!0)):p?(d=!1,u=Ad(l,!0)):u=[]:iR(l)||Dl(l)?(u=s,Dl(s)?u=cR(s):(0,j.Z)(s)&&!(0,Zc.Z)(s)||(u=oh(l))):d=!1}d&&(a.set(l,u),r(u,l,o,i,a),a["delete"](l)),ZA(e,n,u)}}var dR=uR;function hR(e,t,n,o,r){e!==t&&KA(t,(function(i,a){if(r||(r=new hl),(0,j.Z)(i))dR(e,t,a,n,hR,o,r);else{var s=o?o(sR(e,a),i,a+"",e,t,r):void 0;void 0===s&&(s=i),ZA(e,a,s)}}),iu)}var mR=hR;function pR(e,t){return sf($p(e,t,Jp),e+"")}var fR=pR;function gR(e,t,n){if(!(0,j.Z)(n))return!1;var o=typeof t;return!!("number"==o?qc(n)&&(0,Ul.Z)(t,n.length):"string"==o&&t in n)&&(0,mm.Z)(n[t],e)}var vR=gR;function yR(e){return fR((function(t,n){var o=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;i=e.length>3&&"function"==typeof i?(r--,i):void 0,a&&vR(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);while(++o<r){var s=n[o];s&&e(t,s,o,i)}return t}))}var bR=yR,wR=bR((function(e,t,n){mR(e,t,n)})),_R=wR,xR=n(9345),CR=1,SR=2;function kR(e,t,n,o){var r=n.length,i=r,a=!o;if(null==e)return!i;e=Object(e);while(r--){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++r<i){s=n[r];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new hl;if(o)var h=o(c,u,l,e,t,d);if(!(void 0===h?Km(u,c,CR|SR,o,d):h))return!1}}return!0}var ER=kR;function TR(e){return e===e&&!(0,j.Z)(e)}var MR=TR;function OR(e){var t=Kc(e),n=t.length;while(n--){var o=t[n],r=e[o];t[n]=[o,r,MR(r)]}return t}var DR=OR;function AR(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var RR=AR;function PR(e){var t=DR(e);return 1==t.length&&t[0][2]?RR(t[0][0],t[0][1]):function(n){return n===e||ER(n,e,t)}}var IR=PR,zR=n(8633),NR=1,LR=2;function HR(e,t){return(0,zR.Z)(e)&&MR(t)?RR((0,Pp.Z)(e),t):function(n){var o=(0,OE.Z)(n,e);return void 0===o&&o===t?Lp(n,e):Km(t,o,NR|LR)}}var FR=HR;function BR(e){return function(t){return null==t?void 0:t[e]}}var UR=BR;function VR(e){return function(t){return(0,Ep.Z)(t,e)}}var jR=VR;function WR(e){return(0,zR.Z)(e)?UR((0,Pp.Z)(e)):jR(e)}var ZR=WR;function $R(e){return"function"==typeof e?e:null==e?Jp:"object"==typeof e?(0,Al.Z)(e)?FR(e[0],e[1]):IR(e):ZR(e)}var qR=$R;function GR(e,t){return e&&KA(e,t,Kc)}var KR=GR;function YR(e,t){return function(n,o){if(null==n)return n;if(!qc(n))return e(n,o);var r=n.length,i=t?r:-1,a=Object(n);while(t?i--:++i<r)if(!1===o(a[i],i,a))break;return n}}var JR=YR,XR=JR(KR),QR=XR;function eP(e,t){var n=-1,o=qc(e)?Array(e.length):[];return QR(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}var tP=eP;function nP(e,t){var n=(0,Al.Z)(e)?xR.Z:tP;return n(e,qR(t,3))}var oP=nP;function rP(e,t){return np(oP(e,t),1)}var iP=rP,aP=n(3403);const sP=function(e){var t;return null==(t=e.target)?void 0:t.closest("td")},lP=function(e,t,n,o,r){if(!t&&!o&&(!r||Array.isArray(r)&&!r.length))return e;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;const i=o?null:function(n,o){return r?(Array.isArray(r)||(r=[r]),r.map((t=>"string"===typeof t?(0,OE.Z)(n,t):t(n,o,e)))):("$key"!==t&&(0,c.Kn)(n)&&"$value"in n&&(n=n.$value),[(0,c.Kn)(n)?(0,OE.Z)(n,t):n])},a=function(e,t){if(o)return o(e.value,t.value);for(let n=0,o=e.key.length;n<o;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0};return e.map(((e,t)=>({value:e,index:t,key:i?i(e,t):null}))).sort(((e,t)=>{let o=a(e,t);return o||(o=e.index-t.index),o*+n})).map((e=>e.value))},cP=function(e,t){let n=null;return e.columns.forEach((e=>{e.id===t&&(n=e)})),n},uP=function(e,t){let n=null;for(let o=0;o<e.columns.length;o++){const r=e.columns[o];if(r.columnKey===t){n=r;break}}return n||(0,b._)("ElTable",`No column matching with column-key: ${t}`),n},dP=function(e,t,n){const o=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return o?cP(e,o[0]):null},hP=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if("string"===typeof t){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let o=e;for(const e of n)o=o[e];return`${o}`}if("function"===typeof t)return t.call(null,e)},mP=function(e,t){const n={};return(e||[]).forEach(((e,o)=>{n[hP(e,t)]={row:e,index:o}})),n};function pP(e,t){const n={};let o;for(o in e)n[o]=e[o];for(o in t)if((0,c.RI)(t,o)){const e=t[o];"undefined"!==typeof e&&(n[o]=e)}return n}function fP(e){return""===e||void 0!==e&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function gP(e){return""===e||void 0!==e&&(e=fP(e),Number.isNaN(e)&&(e=80)),e}function vP(e){return"number"===typeof e?e:"string"===typeof e?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function yP(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function bP(e,t,n){let o=!1;const r=e.indexOf(t),i=-1!==r,a=a=>{"add"===a?e.push(t):e.splice(r,1),o=!0,(0,c.kJ)(t.children)&&t.children.forEach((t=>{bP(e,t,null!=n?n:!i)}))};return(0,h.jn)(n)?n&&!i?a("add"):!n&&i&&a("remove"):a(i?"remove":"add"),o}function wP(e,t,n="children",o="hasChildren"){const r=e=>!(Array.isArray(e)&&e.length);function i(e,a,s){t(e,a,s),a.forEach((e=>{if(e[o])return void t(e,null,s+1);const a=e[n];r(a)||i(e,a,s+1)}))}e.forEach((e=>{if(e[o])return void t(e,null,0);const a=e[n];r(a)||i(e,a,0)}))}let _P;function xP(e,t,n,o,r){r=_R({enterable:!0,showArrow:!0},r);const i=null==e?void 0:e.dataset.prefix,a=null==e?void 0:e.querySelector(`.${i}-scrollbar__wrap`);function s(){const t="light"===r.effect,a=document.createElement("div");return a.className=[`${i}-popper`,t?"is-light":"is-dark",r.popperClass||""].join(" "),n=aP(n),a.innerHTML=n,a.style.zIndex=String(o()),null==e||e.appendChild(a),a}function l(){const e=document.createElement("div");return e.className=`${i}-popper__arrow`,e}function c(){u&&u.update()}null==_P||_P(),_P=()=>{try{u&&u.destroy(),m&&(null==e||e.removeChild(m)),t.removeEventListener("mouseenter",d),t.removeEventListener("mouseleave",h),null==a||a.removeEventListener("scroll",_P),_P=void 0}catch(HH){}};let u=null,d=c,h=_P;r.enterable&&({onOpen:d,onClose:h}=je({showAfter:r.showAfter,hideAfter:r.hideAfter,open:c,close:_P}));const m=s();m.onmouseenter=d,m.onmouseleave=h;const p=[];if(r.offset&&p.push({name:"offset",options:{offset:[0,r.offset]}}),r.showArrow){const e=m.appendChild(l());p.push({name:"arrow",options:{element:e,padding:10}})}const f=r.popperOptions||{};return u=Kn(t,m,{placement:r.placement||"top",strategy:"fixed",...f,modifiers:f.modifiers?p.concat(f.modifiers):p}),t.addEventListener("mouseenter",d),t.addEventListener("mouseleave",h),null==a||a.addEventListener("scroll",_P),u}function CP(e){return e.children?iP(e.children,CP):[e]}function SP(e,t){return e+t.colSpan}const kP=(e,t,n,o)=>{let r=0,i=e;const a=n.states.columns.value;if(o){const t=CP(o[e]),n=a.slice(0,a.indexOf(t[0]));r=n.reduce(SP,0),i=r+t.reduce(SP,0)-1}else r=e;let s;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<n.states.fixedLeafColumnsLength.value?s="left":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:r,after:i}:{}},EP=(e,t,n,o,r,i=0)=>{const a=[],{direction:s,start:l,after:c}=kP(t,n,o,r);if(s){const t="left"===s;a.push(`${e}-fixed-column--${s}`),t&&c+i===o.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):t||l-i!==o.states.columns.value.length-o.states.rightFixedLeafColumnsLength.value||a.push("is-first-column")}return a};function TP(e,t){return e+(null===t.realWidth||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const MP=(e,t,n,o)=>{const{direction:r,start:i=0,after:a=0}=kP(e,t,n,o);if(!r)return;const s={},l="left"===r,c=n.states.columns.value;return l?s.left=c.slice(0,i).reduce(TP,0):s.right=c.slice(a+1).reverse().reduce(TP,0),s},OP=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function DP(e){const t=(0,s.FN)(),n=(0,l.iH)(!1),o=(0,l.iH)([]),r=()=>{const t=e.data.value||[],r=e.rowKey.value;if(n.value)o.value=t.slice();else if(r){const e=mP(o.value,r);o.value=t.reduce(((t,n)=>{const o=hP(n,r),i=e[o];return i&&t.push(n),t}),[])}else o.value=[]},i=(e,n)=>{const r=bP(o.value,e,n);r&&t.emit("expand-change",e,o.value.slice())},a=n=>{t.store.assertRowKey();const r=e.data.value||[],i=e.rowKey.value,a=mP(r,i);o.value=n.reduce(((e,t)=>{const n=a[t];return n&&e.push(n.row),e}),[])},c=t=>{const n=e.rowKey.value;if(n){const e=mP(o.value,n);return!!e[hP(t,n)]}return o.value.includes(t)};return{updateExpandRows:r,toggleRowExpansion:i,setExpandRowKeys:a,isRowExpanded:c,states:{expandRows:o,defaultExpandAll:n}}}function AP(e){const t=(0,s.FN)(),n=(0,l.iH)(null),o=(0,l.iH)(null),r=e=>{t.store.assertRowKey(),n.value=e,a(e)},i=()=>{n.value=null},a=n=>{const{data:r,rowKey:i}=e;let a=null;i.value&&(a=((0,l.SU)(r)||[]).find((e=>hP(e,i.value)===n))),o.value=a,t.emit("current-change",o.value,null)},c=e=>{const n=o.value;if(e&&e!==n)return o.value=e,void t.emit("current-change",o.value,n);!e&&n&&(o.value=null,t.emit("current-change",null,n))},u=()=>{const r=e.rowKey.value,s=e.data.value||[],l=o.value;if(!s.includes(l)&&l){if(r){const e=hP(l,r);a(e)}else o.value=null;null===o.value&&t.emit("current-change",null,l)}else n.value&&(a(n.value),i())};return{setCurrentRowKey:r,restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:c,updateCurrentRowData:u,states:{_currentRowKey:n,currentRow:o}}}function RP(e){const t=(0,l.iH)([]),n=(0,l.iH)({}),o=(0,l.iH)(16),r=(0,l.iH)(!1),i=(0,l.iH)({}),a=(0,l.iH)("hasChildren"),c=(0,l.iH)("children"),u=(0,s.FN)(),d=(0,s.Fl)((()=>{if(!e.rowKey.value)return{};const t=e.data.value||[];return m(t)})),h=(0,s.Fl)((()=>{const t=e.rowKey.value,n=Object.keys(i.value),o={};return n.length?(n.forEach((e=>{if(i.value[e].length){const n={children:[]};i.value[e].forEach((e=>{const r=hP(e,t);n.children.push(r),e[a.value]&&!o[r]&&(o[r]={children:[]})})),o[e]=n}})),o):o})),m=t=>{const n=e.rowKey.value,o={};return wP(t,((e,t,i)=>{const a=hP(e,n);Array.isArray(t)?o[a]={children:t.map((e=>hP(e,n))),level:i}:r.value&&(o[a]={children:[],lazy:!0,level:i})}),c.value,a.value),o},p=(e=!1,o=(e=>null==(e=u.store)?void 0:e.states.defaultExpandAll.value)())=>{var i;const a=d.value,s=h.value,c=Object.keys(a),m={};if(c.length){const i=(0,l.SU)(n),u=[],d=(n,r)=>{if(e)return t.value?o||t.value.includes(r):!(!o&&!(null==n?void 0:n.expanded));{const e=o||t.value&&t.value.includes(r);return!(!(null==n?void 0:n.expanded)&&!e)}};c.forEach((e=>{const t=i[e],n={...a[e]};if(n.expanded=d(t,e),n.lazy){const{loaded:o=!1,loading:r=!1}=t||{};n.loaded=!!o,n.loading=!!r,u.push(e)}m[e]=n}));const h=Object.keys(s);r.value&&h.length&&u.length&&h.forEach((e=>{const t=i[e],n=s[e].children;if(u.includes(e)){if(0!==m[e].children.length)throw new Error("[ElTable]children must be an empty array.");m[e].children=n}else{const{loaded:o=!1,loading:r=!1}=t||{};m[e]={lazy:!0,loaded:!!o,loading:!!r,expanded:d(t,e),children:n,level:""}}}))}n.value=m,null==(i=u.store)||i.updateTableScrollY()};(0,s.YP)((()=>t.value),(()=>{p(!0)})),(0,s.YP)((()=>d.value),(()=>{p()})),(0,s.YP)((()=>h.value),(()=>{p()}));const f=e=>{t.value=e,p()},g=(t,o)=>{u.store.assertRowKey();const r=e.rowKey.value,i=hP(t,r),a=i&&n.value[i];if(i&&a&&"expanded"in a){const e=a.expanded;o="undefined"===typeof o?!a.expanded:o,n.value[i].expanded=o,e!==o&&u.emit("expand-change",t,o),u.store.updateTableScrollY()}},v=t=>{u.store.assertRowKey();const o=e.rowKey.value,i=hP(t,o),a=n.value[i];r.value&&a&&"loaded"in a&&!a.loaded?y(t,i,a):g(t,void 0)},y=(e,t,o)=>{const{load:r}=u.props;r&&!n.value[t].loaded&&(n.value[t].loading=!0,r(e,o,(o=>{if(!Array.isArray(o))throw new TypeError("[ElTable] data must be an array");n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,o.length&&(i.value[t]=o),u.emit("expand-change",e,!0)})))};return{loadData:y,loadOrToggle:v,toggleTreeExpansion:g,updateTreeExpandKeys:f,updateTreeData:p,normalize:m,states:{expandRowKeys:t,treeData:n,indent:o,lazy:r,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:c}}}const PP=(e,t)=>{const n=t.sortingColumn;return n&&"string"!==typeof n.sortable?lP(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy):e},IP=e=>{const t=[];return e.forEach((e=>{e.children?t.push.apply(t,IP(e.children)):t.push(e)})),t};function zP(){var e;const t=(0,s.FN)(),{size:n}=(0,l.BK)(null==(e=t.proxy)?void 0:e.$props),o=(0,l.iH)(null),r=(0,l.iH)([]),i=(0,l.iH)([]),a=(0,l.iH)(!1),u=(0,l.iH)([]),d=(0,l.iH)([]),h=(0,l.iH)([]),m=(0,l.iH)([]),p=(0,l.iH)([]),f=(0,l.iH)([]),g=(0,l.iH)([]),v=(0,l.iH)([]),y=[],b=(0,l.iH)(0),w=(0,l.iH)(0),_=(0,l.iH)(0),x=(0,l.iH)(!1),C=(0,l.iH)([]),S=(0,l.iH)(!1),k=(0,l.iH)(!1),E=(0,l.iH)(null),T=(0,l.iH)({}),M=(0,l.iH)(null),O=(0,l.iH)(null),D=(0,l.iH)(null),A=(0,l.iH)(null),R=(0,l.iH)(null);(0,s.YP)(r,(()=>t.state&&N(!1)),{deep:!0});const P=()=>{if(!o.value)throw new Error("[ElTable] prop row-key is required")},I=e=>{var t;null==(t=e.children)||t.forEach((t=>{t.fixed=e.fixed,I(t)}))},z=()=>{u.value.forEach((e=>{I(e)})),m.value=u.value.filter((e=>!0===e.fixed||"left"===e.fixed)),p.value=u.value.filter((e=>"right"===e.fixed)),m.value.length>0&&u.value[0]&&"selection"===u.value[0].type&&!u.value[0].fixed&&(u.value[0].fixed=!0,m.value.unshift(u.value[0]));const e=u.value.filter((e=>!e.fixed));d.value=[].concat(m.value).concat(e).concat(p.value);const t=IP(e),n=IP(m.value),o=IP(p.value);b.value=t.length,w.value=n.length,_.value=o.length,h.value=[].concat(n).concat(t).concat(o),a.value=m.value.length>0||p.value.length>0},N=(e,n=!1)=>{e&&z(),n?t.state.doLayout():t.state.debouncedUpdateLayout()},L=e=>C.value.includes(e),H=()=>{x.value=!1;const e=C.value;e.length&&(C.value=[],t.emit("selection-change",[]))},F=()=>{let e;if(o.value){e=[];const t=mP(C.value,o.value),n=mP(r.value,o.value);for(const o in t)(0,c.RI)(t,o)&&!n[o]&&e.push(t[o].row)}else e=C.value.filter((e=>!r.value.includes(e)));if(e.length){const n=C.value.filter((t=>!e.includes(t)));C.value=n,t.emit("selection-change",n.slice())}},B=()=>(C.value||[]).slice(),U=(e,n=void 0,o=!0)=>{const r=bP(C.value,e,n);if(r){const n=(C.value||[]).slice();o&&t.emit("select",n,e),t.emit("selection-change",n)}},V=()=>{var e,n;const o=k.value?!x.value:!(x.value||C.value.length);x.value=o;let i=!1,a=0;const s=null==(n=null==(e=null==t?void 0:t.store)?void 0:e.states)?void 0:n.rowKey.value;r.value.forEach(((e,t)=>{const n=t+a;E.value?E.value.call(null,e,n)&&bP(C.value,e,o)&&(i=!0):bP(C.value,e,o)&&(i=!0),a+=Z(hP(e,s))})),i&&t.emit("selection-change",C.value?C.value.slice():[]),t.emit("select-all",C.value)},j=()=>{const e=mP(C.value,o.value);r.value.forEach((t=>{const n=hP(t,o.value),r=e[n];r&&(C.value[r.index]=t)}))},W=()=>{var e,n,i;if(0===(null==(e=r.value)?void 0:e.length))return void(x.value=!1);let a;o.value&&(a=mP(C.value,o.value));const s=function(e){return a?!!a[hP(e,o.value)]:C.value.includes(e)};let l=!0,c=0,u=0;for(let o=0,d=(r.value||[]).length;o<d;o++){const e=null==(i=null==(n=null==t?void 0:t.store)?void 0:n.states)?void 0:i.rowKey.value,a=o+u,d=r.value[o],h=E.value&&E.value.call(null,d,a);if(s(d))c++;else if(!E.value||h){l=!1;break}u+=Z(hP(d,e))}0===c&&(l=!1),x.value=l},Z=e=>{var n;if(!t||!t.store)return 0;const{treeData:o}=t.store.states;let r=0;const i=null==(n=o.value[e])?void 0:n.children;return i&&(r+=i.length,i.forEach((e=>{r+=Z(e)}))),r},$=(e,t)=>{Array.isArray(e)||(e=[e]);const n={};return e.forEach((e=>{T.value[e.id]=t,n[e.columnKey||e.id]=t})),n},q=(e,t,n)=>{O.value&&O.value!==e&&(O.value.order=null),O.value=e,D.value=t,A.value=n},G=()=>{let e=(0,l.SU)(i);Object.keys(T.value).forEach((t=>{const n=T.value[t];if(!n||0===n.length)return;const o=cP({columns:h.value},t);o&&o.filterMethod&&(e=e.filter((e=>n.some((t=>o.filterMethod.call(null,t,e,o))))))})),M.value=e},K=()=>{r.value=PP(M.value,{sortingColumn:O.value,sortProp:D.value,sortOrder:A.value})},Y=(e=void 0)=>{e&&e.filter||G(),K()},J=e=>{const{tableHeaderRef:n}=t.refs;if(!n)return;const o=Object.assign({},n.filterPanels),r=Object.keys(o);if(r.length)if("string"===typeof e&&(e=[e]),Array.isArray(e)){const n=e.map((e=>uP({columns:h.value},e)));r.forEach((e=>{const t=n.find((t=>t.id===e));t&&(t.filteredValue=[])})),t.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else r.forEach((e=>{const t=h.value.find((t=>t.id===e));t&&(t.filteredValue=[])})),T.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},X=()=>{O.value&&(q(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Q,toggleRowExpansion:ee,updateExpandRows:te,states:ne,isRowExpanded:oe}=DP({data:r,rowKey:o}),{updateTreeExpandKeys:re,toggleTreeExpansion:ie,updateTreeData:ae,loadOrToggle:se,states:le}=RP({data:r,rowKey:o}),{updateCurrentRowData:ce,updateCurrentRow:ue,setCurrentRowKey:de,states:he}=AP({data:r,rowKey:o}),me=e=>{Q(e),re(e)},pe=(e,t)=>{const n=h.value.some((({type:e})=>"expand"===e));n?ee(e,t):ie(e,t)};return{assertRowKey:P,updateColumns:z,scheduleLayout:N,isSelected:L,clearSelection:H,cleanSelection:F,getSelectionRows:B,toggleRowSelection:U,_toggleAllSelection:V,toggleAllSelection:null,updateSelectionByRowKey:j,updateAllSelected:W,updateFilters:$,updateCurrentRow:ue,updateSort:q,execFilter:G,execSort:K,execQuery:Y,clearFilter:J,clearSort:X,toggleRowExpansion:ee,setExpandRowKeysAdapter:me,setCurrentRowKey:de,toggleRowExpansionAdapter:pe,isRowExpanded:oe,updateExpandRows:te,updateCurrentRowData:ce,loadOrToggle:se,updateTreeData:ae,states:{tableSize:n,rowKey:o,data:r,_data:i,isComplex:a,_columns:u,originColumns:d,columns:h,fixedColumns:m,rightFixedColumns:p,leafColumns:f,fixedLeafColumns:g,rightFixedLeafColumns:v,updateOrderFns:y,leafColumnsLength:b,fixedLeafColumnsLength:w,rightFixedLeafColumnsLength:_,isAllSelected:x,selection:C,reserveSelection:S,selectOnIndeterminate:k,selectable:E,filters:T,filteredData:M,sortingColumn:O,sortProp:D,sortOrder:A,hoverRow:R,...ne,...le,...he}}}function NP(e,t){return e.map((e=>{var n;return e.id===t.id?t:((null==(n=e.children)?void 0:n.length)&&(e.children=NP(e.children,t)),e)}))}function LP(e){e.forEach((e=>{var t,n;e.no=null==(t=e.getColumnIndex)?void 0:t.call(e),(null==(n=e.children)?void 0:n.length)&&LP(e.children)})),e.sort(((e,t)=>e.no-t.no))}function HP(){const e=(0,s.FN)(),t=zP(),n=(0,v.s3)("table"),o={setData(t,n){const o=(0,l.SU)(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),(0,l.SU)(t.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):o?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,o,r){const i=(0,l.SU)(t._columns);let a=[];o?(o&&!o.children&&(o.children=[]),o.children.push(n),a=NP(i,o)):(i.push(n),a=i),LP(a),t._columns.value=a,t.updateOrderFns.push(r),"selection"===n.type&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){var o;const r=null==(o=n.getColumnIndex)?void 0:o.call(n);r!==n.no&&(LP(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,o,r){const i=(0,l.SU)(t._columns)||[];if(o)o.children.splice(o.children.findIndex((e=>e.id===n.id)),1),(0,s.Y3)((()=>{var e;0===(null==(e=o.children)?void 0:e.length)&&delete o.children})),t._columns.value=NP(i,o);else{const e=i.indexOf(n);e>-1&&(i.splice(e,1),t._columns.value=i)}const a=t.updateOrderFns.indexOf(r);a>-1&&t.updateOrderFns.splice(a,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){const{prop:o,order:r,init:i}=n;if(o){const n=(0,l.SU)(t.columns).find((e=>e.property===o));n&&(n.order=r,e.store.updateSort(n,o,r),e.store.commit("changeSortCondition",{init:i}))}},changeSortCondition(t,n){const{sortingColumn:o,sortProp:r,sortOrder:i}=t,a=(0,l.SU)(o),s=(0,l.SU)(r),c=(0,l.SU)(i);null===c&&(t.sortingColumn.value=null,t.sortProp.value=null);const u={filter:!0};e.store.execQuery(u),n&&(n.silent||n.init)||e.emit("sort-change",{column:a,prop:s,order:c}),e.store.updateTableScrollY()},filterChange(t,n){const{column:o,values:r,silent:i}=n,a=e.store.updateFilters(o,r);e.store.execQuery(),i||e.emit("filter-change",a),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},r=function(t,...n){const o=e.store.mutations;if(!o[t])throw new Error(`Action not found: ${t}`);o[t].apply(e,[e.store.states].concat(n))},i=function(){(0,s.Y3)((()=>e.layout.updateScrollY.apply(e.layout)))};return{ns:n,...t,mutations:o,commit:r,updateTableScrollY:i}}const FP={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function BP(e,t){if(!e)throw new Error("Table is required.");const n=HP();return n.toggleAllSelection=de(n._toggleAllSelection,10),Object.keys(FP).forEach((e=>{VP(jP(t,e),e,n)})),UP(n,t),n}function UP(e,t){Object.keys(FP).forEach((n=>{(0,s.YP)((()=>jP(t,n)),(t=>{VP(t,n,e)}))}))}function VP(e,t,n){let o=e,r=FP[t];"object"===typeof FP[t]&&(r=r.key,o=o||FP[t].default),n.states[r].value=o}function jP(e,t){if(t.includes(".")){const n=t.split(".");let o=e;return n.forEach((e=>{o=o[e]})),o}return e[t]}class WP{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=(0,l.iH)(null),this.scrollX=(0,l.iH)(!1),this.scrollY=(0,l.iH)(!1),this.bodyWidth=(0,l.iH)(null),this.fixedWidth=(0,l.iH)(null),this.rightFixedWidth=(0,l.iH)(null),this.gutterWidth=0;for(const t in e)(0,c.RI)(e,t)&&((0,l.dq)(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(null===e)return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(null==t?void 0:t.wrapRef)){let e=!0;const n=this.scrollY.value;return e=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=e,n!==e}return!1}setHeight(e,t="height"){if(!w.C5)return;const n=this.table.vnode.el;if(e=vP(e),this.height.value=Number(e),!n&&(e||0===e))return(0,s.Y3)((()=>this.setHeight(e,t)));"number"===typeof e?(n.style[t]=`${e}px`,this.updateElsHeight()):"string"===typeof e&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[],t=this.table.store.states.columns.value;return t.forEach((t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;while("DIV"!==t.tagName){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!w.C5)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let n=0;const o=this.getFlattenColumns(),r=o.filter((e=>"number"!==typeof e.width));if(o.forEach((e=>{"number"===typeof e.width&&e.realWidth&&(e.realWidth=null)})),r.length>0&&e){if(o.forEach((e=>{n+=Number(e.width||e.minWidth||80)})),n<=t){this.scrollX.value=!1;const e=t-n;if(1===r.length)r[0].realWidth=Number(r[0].minWidth||80)+e;else{const t=r.reduce(((e,t)=>e+Number(t.minWidth||80)),0),n=e/t;let o=0;r.forEach(((e,t)=>{if(0===t)return;const r=Math.floor(Number(e.minWidth||80)*n);o+=r,e.realWidth=Number(e.minWidth||80)+r})),r[0].realWidth=Number(r[0].minWidth||80)+e-o}}else this.scrollX.value=!0,r.forEach((e=>{e.realWidth=Number(e.minWidth)}));this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach((e=>{e.width||e.minWidth?e.realWidth=Number(e.width||e.minWidth):e.realWidth=80,n+=e.realWidth})),this.scrollX.value=n>t,this.bodyWidth.value=n;const i=this.store.states.fixedColumns.value;if(i.length>0){let e=0;i.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.fixedWidth.value=e}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let e=0;a.forEach((t=>{e+=Number(t.realWidth||t.width)})),this.rightFixedWidth.value=e}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}notifyObservers(e){const t=this.observers;t.forEach((t=>{var n,o;switch(e){case"columns":null==(n=t.state)||n.onColumnsChange(this);break;case"scrollable":null==(o=t.state)||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}}))}}const{CheckboxGroup:ZP}=vf,$P=(0,s.aZ)({name:"ElTableFilterPanel",components:{ElCheckbox:vf,ElCheckboxGroup:ZP,ElScrollbar:Ae,ElTooltip:Gr,ElIcon:P.gn,ArrowDown:he.ArrowDown,ArrowUp:he.ArrowUp},directives:{ClickOutside:Fg},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=(0,s.FN)(),{t:n}=(0,Ga.bU)(),o=(0,v.s3)("table-filter"),r=null==t?void 0:t.parent;r.filterPanels.value[e.column.id]||(r.filterPanels.value[e.column.id]=t);const i=(0,l.iH)(!1),a=(0,l.iH)(null),c=(0,s.Fl)((()=>e.column&&e.column.filters)),u=(0,s.Fl)({get:()=>{var t;return((null==(t=e.column)?void 0:t.filteredValue)||[])[0]},set:e=>{d.value&&("undefined"!==typeof e&&null!==e?d.value.splice(0,1,e):d.value.splice(0,1))}}),d=(0,s.Fl)({get(){return e.column&&e.column.filteredValue||[]},set(t){e.column&&e.upDataColumn("filteredValue",t)}}),h=(0,s.Fl)((()=>!e.column||e.column.filterMultiple)),m=e=>e.value===u.value,p=()=>{i.value=!1},f=e=>{e.stopPropagation(),i.value=!i.value},g=()=>{i.value=!1},y=()=>{_(d.value),p()},b=()=>{d.value=[],_(d.value),p()},w=e=>{u.value=e,_("undefined"!==typeof e&&null!==e?d.value:[]),p()},_=t=>{e.store.commit("filterChange",{column:e.column,values:t}),e.store.updateAllSelected()};(0,s.YP)(i,(t=>{e.column&&e.upDataColumn("filterOpened",t)}),{immediate:!0});const x=(0,s.Fl)((()=>{var e,t;return null==(t=null==(e=a.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{tooltipVisible:i,multiple:h,filteredValue:d,filterValue:u,filters:c,handleConfirm:y,handleReset:b,handleSelect:w,isActive:m,t:n,ns:o,showFilterPanel:f,hideFilterPanel:g,popperPaneRef:x,tooltip:a}}}),qP={key:0},GP=["disabled"],KP=["label","onClick"];function YP(e,t,n,o,r,i){const a=(0,s.up)("el-checkbox"),l=(0,s.up)("el-checkbox-group"),u=(0,s.up)("el-scrollbar"),d=(0,s.up)("arrow-up"),h=(0,s.up)("arrow-down"),m=(0,s.up)("el-icon"),p=(0,s.up)("el-tooltip"),f=(0,s.Q2)("click-outside");return(0,s.wg)(),(0,s.j4)(p,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:(0,s.w5)((()=>[e.multiple?((0,s.wg)(),(0,s.iD)("div",qP,[(0,s._)("div",{class:(0,c.C_)(e.ns.e("content"))},[(0,s.Wm)(u,{"wrap-class":e.ns.e("wrap")},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filteredValue=t),class:(0,c.C_)(e.ns.e("checkbox-group"))},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.filters,(e=>((0,s.wg)(),(0,s.j4)(a,{key:e.value,label:e.value},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.text),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue","class"])])),_:1},8,["wrap-class"])],2),(0,s._)("div",{class:(0,c.C_)(e.ns.e("bottom"))},[(0,s._)("button",{class:(0,c.C_)({[e.ns.is("disabled")]:0===e.filteredValue.length}),disabled:0===e.filteredValue.length,type:"button",onClick:t[1]||(t[1]=(...t)=>e.handleConfirm&&e.handleConfirm(...t))},(0,c.zw)(e.t("el.table.confirmFilter")),11,GP),(0,s._)("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.handleReset&&e.handleReset(...t))},(0,c.zw)(e.t("el.table.resetFilter")),1)],2)])):((0,s.wg)(),(0,s.iD)("ul",{key:1,class:(0,c.C_)(e.ns.e("list"))},[(0,s._)("li",{class:(0,c.C_)([e.ns.e("list-item"),{[e.ns.is("active")]:void 0===e.filterValue||null===e.filterValue}]),onClick:t[3]||(t[3]=t=>e.handleSelect(null))},(0,c.zw)(e.t("el.table.clearFilter")),3),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.filters,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.value,class:(0,c.C_)([e.ns.e("list-item"),e.ns.is("active",e.isActive(t))]),label:t.value,onClick:n=>e.handleSelect(t.value)},(0,c.zw)(t.text),11,KP)))),128))],2))])),default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("span",{class:(0,c.C_)([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...t)=>e.showFilterPanel&&e.showFilterPanel(...t))},[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[e.column.filterOpened?((0,s.wg)(),(0,s.j4)(d,{key:0})):((0,s.wg)(),(0,s.j4)(h,{key:1}))])),_:1})],2)),[[f,e.hideFilterPanel,e.popperPaneRef]])])),_:1},8,["visible","placement","popper-class"])}var JP=(0,g.Z)($P,[["render",YP],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function XP(e){const t=(0,s.FN)();(0,s.wF)((()=>{n.value.addObserver(t)})),(0,s.bv)((()=>{o(n.value),r(n.value)})),(0,s.ic)((()=>{o(n.value),r(n.value)})),(0,s.Ah)((()=>{n.value.removeObserver(t)}));const n=(0,s.Fl)((()=>{const t=e.layout;if(!t)throw new Error("Can not find table layout.");return t})),o=t=>{var n;const o=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const r=t.getFlattenColumns(),i={};r.forEach((e=>{i[e.id]=e}));for(let e=0,a=o.length;e<a;e++){const t=o[e],n=t.getAttribute("name"),r=i[n];r&&t.setAttribute("width",r.realWidth||r.width)}},r=t=>{var n,o;const r=(null==(n=e.vnode.el)?void 0:n.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let e=0,a=r.length;e<a;e++){const n=r[e];n.setAttribute("width",t.scrollY.value?t.gutterWidth:"0")}const i=(null==(o=e.vnode.el)?void 0:o.querySelectorAll("th.gutter"))||[];for(let e=0,a=i.length;e<a;e++){const n=i[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:"0",n.style.display=t.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:o,onScrollableChange:r}}const QP=Symbol("ElTable");function eI(e,t){const n=(0,s.FN)(),o=(0,s.f3)(QP),r=e=>{e.stopPropagation()},i=(e,t)=>{!t.filters&&t.sortable?v(e,t,!1):t.filterable&&!t.sortable&&r(e),null==o||o.emit("header-click",t,e)},a=(e,t)=>{null==o||o.emit("header-contextmenu",t,e)},c=(0,l.iH)(null),u=(0,l.iH)(!1),d=(0,l.iH)({}),m=(r,i)=>{if(w.C5&&!(i.children&&i.children.length>0)&&c.value&&e.border){u.value=!0;const a=o;t("set-drag-visible",!0);const s=null==a?void 0:a.vnode.el,l=s.getBoundingClientRect().left,h=n.vnode.el.querySelector(`th.${i.id}`),m=h.getBoundingClientRect(),p=m.left-l+30;(0,y.cn)(h,"noclick"),d.value={startMouseLeft:r.clientX,startLeft:m.right-l,startColumnLeft:m.left-l,tableLeft:l};const f=null==a?void 0:a.refs.resizeProxy;f.style.left=`${d.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const g=e=>{const t=e.clientX-d.value.startMouseLeft,n=d.value.startLeft+t;f.style.left=`${Math.max(p,n)}px`},v=()=>{if(u.value){const{startColumnLeft:n,startLeft:o}=d.value,s=Number.parseInt(f.style.left,10),l=s-n;i.width=i.realWidth=l,null==a||a.emit("header-dragend",i.width,o-n,i,r),requestAnimationFrame((()=>{e.store.scheduleLayout(!1,!0)})),document.body.style.cursor="",u.value=!1,c.value=null,d.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),document.onselectstart=null,document.ondragstart=null,setTimeout((()=>{(0,y.IV)(h,"noclick")}),0)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",v)}},p=(t,n)=>{if(n.children&&n.children.length>0)return;const o=t.target;if(!(0,h.kK)(o))return;const r=null==o?void 0:o.closest("th");if(n&&n.resizable&&!u.value&&e.border){const e=r.getBoundingClientRect(),o=document.body.style;e.width>12&&e.right-t.pageX<8?(o.cursor="col-resize",(0,y.pv)(r,"is-sortable")&&(r.style.cursor="col-resize"),c.value=n):u.value||(o.cursor="",(0,y.pv)(r,"is-sortable")&&(r.style.cursor="pointer"),c.value=null)}},f=()=>{w.C5&&(document.body.style.cursor="")},g=({order:e,sortOrders:t})=>{if(""===e)return t[0];const n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]},v=(t,n,r)=>{var i;t.stopPropagation();const a=n.order===r?null:r||g(n),s=null==(i=t.target)?void 0:i.closest("th");if(s&&(0,y.pv)(s,"noclick"))return void(0,y.IV)(s,"noclick");if(!n.sortable)return;const l=e.store.states;let c,u=l.sortProp.value;const d=l.sortingColumn.value;(d!==n||d===n&&null===d.order)&&(d&&(d.order=null),l.sortingColumn.value=n,u=n.property),c=n.order=a||null,l.sortProp.value=u,l.sortOrder.value=c,null==o||o.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:a,handleMouseDown:m,handleMouseMove:p,handleMouseOut:f,handleSortClick:v,handleFilterClick:r}}function tI(e){const t=(0,s.f3)(QP),n=(0,v.s3)("table"),o=e=>{const n=null==t?void 0:t.props.headerRowStyle;return"function"===typeof n?n.call(null,{rowIndex:e}):n},r=e=>{const n=[],o=null==t?void 0:t.props.headerRowClassName;return"string"===typeof o?n.push(o):"function"===typeof o&&n.push(o.call(null,{rowIndex:e})),n.join(" ")},i=(n,o,r,i)=>{var a;let s=null!=(a=null==t?void 0:t.props.headerCellStyle)?a:{};"function"===typeof s&&(s=s.call(null,{rowIndex:n,columnIndex:o,row:r,column:i}));const l=MP(o,i.fixed,e.store,r);return OP(l,"left"),OP(l,"right"),Object.assign({},s,l)},a=(o,r,i,a)=>{const s=EP(n.b(),r,a.fixed,e.store,i),l=[a.id,a.order,a.headerAlign,a.className,a.labelClassName,...s];a.children||l.push("is-leaf"),a.sortable&&l.push("is-sortable");const c=null==t?void 0:t.props.headerCellClassName;return"string"===typeof c?l.push(c):"function"===typeof c&&l.push(c.call(null,{rowIndex:o,columnIndex:r,row:i,column:a})),l.push(n.e("cell")),l.filter((e=>Boolean(e))).join(" ")};return{getHeaderRowStyle:o,getHeaderRowClass:r,getHeaderCellStyle:i,getHeaderCellClass:a}}const nI=e=>{const t=[];return e.forEach((e=>{e.children?(t.push(e),t.push.apply(t,nI(e.children))):t.push(e)})),t},oI=e=>{let t=1;const n=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach((o=>{n(o,e),t+=o.colSpan})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e,void 0)}));const o=[];for(let i=0;i<t;i++)o.push([]);const r=nI(e);return r.forEach((e=>{e.children?(e.rowSpan=1,e.children.forEach((e=>e.isSubColumn=!0))):e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o};function rI(e){const t=(0,s.f3)(QP),n=(0,s.Fl)((()=>oI(e.store.states.originColumns.value))),o=(0,s.Fl)((()=>{const e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e})),r=e=>{e.stopPropagation(),null==t||t.store.commit("toggleAllSelection")};return{isGroup:o,toggleAllSelection:r,columnRows:n}}var iI=(0,s.aZ)({name:"ElTableHeader",components:{ElCheckbox:vf},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const n=(0,s.FN)(),o=(0,s.f3)(QP),r=(0,v.s3)("table"),i=(0,l.iH)({}),{onColumnsChange:a,onScrollableChange:c}=XP(o);(0,s.bv)((async()=>{await(0,s.Y3)(),await(0,s.Y3)();const{prop:t,order:n}=e.defaultSort;null==o||o.store.commit("sort",{prop:t,order:n,init:!0})}));const{handleHeaderClick:u,handleHeaderContextMenu:d,handleMouseDown:h,handleMouseMove:m,handleMouseOut:p,handleSortClick:f,handleFilterClick:g}=eI(e,t),{getHeaderRowStyle:y,getHeaderRowClass:b,getHeaderCellStyle:w,getHeaderCellClass:_}=tI(e),{isGroup:x,toggleAllSelection:C,columnRows:S}=rI(e);return n.state={onColumnsChange:a,onScrollableChange:c},n.filterPanels=i,{ns:r,filterPanels:i,onColumnsChange:a,onScrollableChange:c,columnRows:S,getHeaderRowClass:b,getHeaderRowStyle:y,getHeaderCellClass:_,getHeaderCellStyle:w,handleHeaderClick:u,handleHeaderContextMenu:d,handleMouseDown:h,handleMouseMove:m,handleMouseOut:p,handleSortClick:f,handleFilterClick:g,isGroup:x,toggleAllSelection:C}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:o,getHeaderCellClass:r,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:l,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleSortClick:h,handleMouseOut:m,store:p,$parent:f}=this;let g=1;return(0,s.h)("thead",{class:{[e.is("group")]:t}},n.map(((e,t)=>(0,s.h)("tr",{class:i(t),key:t,style:a(t)},e.map(((n,i)=>(n.rowSpan>g&&(g=n.rowSpan),(0,s.h)("th",{class:r(t,i,e,n),colspan:n.colSpan,key:`${n.id}-thead`,rowspan:n.rowSpan,style:o(t,i,e,n),onClick:e=>l(e,n),onContextmenu:e=>c(e,n),onMousedown:e=>u(e,n),onMousemove:e=>d(e,n),onMouseout:m},[(0,s.h)("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":""]},[n.renderHeader?n.renderHeader({column:n,$index:i,store:p,_self:f}):n.label,n.sortable&&(0,s.h)("span",{onClick:e=>h(e,n),class:"caret-wrapper"},[(0,s.h)("i",{onClick:e=>h(e,n,"ascending"),class:"sort-caret ascending"}),(0,s.h)("i",{onClick:e=>h(e,n,"descending"),class:"sort-caret descending"})]),n.filterable&&(0,s.h)(JP,{store:p,placement:n.filterPlacement||"bottom-start",column:n,upDataColumn:(e,t)=>{n[e]=t}})])]))))))))}});function aI(e){const t=(0,s.f3)(QP),n=(0,l.iH)(""),o=(0,l.iH)((0,s.h)("div")),{nextZIndex:r}=(0,Xo.Cn)(),i=(n,o,r)=>{var i;const a=t,s=sP(n);let l;const c=null==(i=null==a?void 0:a.vnode.el)?void 0:i.dataset.prefix;s&&(l=dP({columns:e.store.states.columns.value},s,c),l&&(null==a||a.emit(`cell-${r}`,o,l,s,n))),null==a||a.emit(`row-${r}`,o,l,n)},a=(e,t)=>{i(e,t,"dblclick")},c=(t,n)=>{e.store.commit("setCurrentRow",n),i(t,n,"click")},u=(e,t)=>{i(e,t,"contextmenu")},d=de((t=>{e.store.commit("setHoverRow",t)}),30),h=de((()=>{e.store.commit("setHoverRow",null)}),30),m=(n,o,i)=>{var a;const s=t,l=sP(n),c=null==(a=null==s?void 0:s.vnode.el)?void 0:a.dataset.prefix;if(l){const t=dP({columns:e.store.states.columns.value},l,c),r=s.hoverState={cell:l,column:t,row:o};null==s||s.emit("cell-mouse-enter",r.row,r.column,r.cell,n)}if(!i)return;const u=n.target.querySelector(".cell");if(!(0,y.pv)(u,`${c}-tooltip`)||!u.childNodes.length)return;const d=document.createRange();d.setStart(u,0),d.setEnd(u,u.childNodes.length);const h=Math.round(d.getBoundingClientRect().width),m=(Number.parseInt((0,y.C2)(u,"paddingLeft"),10)||0)+(Number.parseInt((0,y.C2)(u,"paddingRight"),10)||0);(h+m>u.offsetWidth||u.scrollWidth>u.offsetWidth)&&xP(null==t?void 0:t.refs.tableWrapper,l,l.innerText||l.textContent,r,i)},p=e=>{const n=sP(e);if(!n)return;const o=null==t?void 0:t.hoverState;null==t||t.emit("cell-mouse-leave",null==o?void 0:o.row,null==o?void 0:o.column,null==o?void 0:o.cell,e)};return{handleDoubleClick:a,handleClick:c,handleContextMenu:u,handleMouseEnter:d,handleMouseLeave:h,handleCellMouseEnter:m,handleCellMouseLeave:p,tooltipContent:n,tooltipTrigger:o}}function sI(e){const t=(0,s.f3)(QP),n=(0,v.s3)("table"),o=(e,n)=>{const o=null==t?void 0:t.props.rowStyle;return"function"===typeof o?o.call(null,{row:e,rowIndex:n}):o||null},r=(o,r)=>{const i=[n.e("row")];(null==t?void 0:t.props.highlightCurrentRow)&&o===e.store.states.currentRow.value&&i.push("current-row"),e.stripe&&r%2===1&&i.push(n.em("row","striped"));const a=null==t?void 0:t.props.rowClassName;return"string"===typeof a?i.push(a):"function"===typeof a&&i.push(a.call(null,{row:o,rowIndex:r})),i},i=(n,o,r,i)=>{const a=null==t?void 0:t.props.cellStyle;let s=null!=a?a:{};"function"===typeof a&&(s=a.call(null,{rowIndex:n,columnIndex:o,row:r,column:i}));const l=MP(o,null==e?void 0:e.fixed,e.store);return OP(l,"left"),OP(l,"right"),Object.assign({},s,l)},a=(o,r,i,a,s)=>{const l=EP(n.b(),r,null==e?void 0:e.fixed,e.store,void 0,s),c=[a.id,a.align,a.className,...l],u=null==t?void 0:t.props.cellClassName;return"string"===typeof u?c.push(u):"function"===typeof u&&c.push(u.call(null,{rowIndex:o,columnIndex:r,row:i,column:a})),c.push(n.e("cell")),c.filter((e=>Boolean(e))).join(" ")},l=(e,n,o,r)=>{let i=1,a=1;const s=null==t?void 0:t.props.spanMethod;if("function"===typeof s){const t=s({row:e,column:n,rowIndex:o,columnIndex:r});Array.isArray(t)?(i=t[0],a=t[1]):"object"===typeof t&&(i=t.rowspan,a=t.colspan)}return{rowspan:i,colspan:a}},c=(e,t,n)=>{if(t<1)return e[n].realWidth;const o=e.map((({realWidth:e,width:t})=>e||t)).slice(n,n+t);return Number(o.reduce(((e,t)=>Number(e)+Number(t)),-1))};return{getRowStyle:o,getRowClass:r,getCellStyle:i,getCellClass:a,getSpan:l,getColspanRealWidth:c}}function lI(e){const t=(0,s.f3)(QP),n=(0,v.s3)("table"),{handleDoubleClick:o,handleClick:r,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:l,handleCellMouseEnter:c,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:h}=aI(e),{getRowStyle:m,getRowClass:p,getCellStyle:f,getCellClass:g,getSpan:y,getColspanRealWidth:b}=sI(e),w=(0,s.Fl)((()=>e.store.states.columns.value.findIndex((({type:e})=>"default"===e)))),_=(e,n)=>{const o=t.props.rowKey;return o?hP(e,o):n},x=(d,h,v,x=!1)=>{const{tooltipEffect:S,tooltipOptions:k,store:E}=e,{indent:T,columns:M}=E.states,O=p(d,h);let D=!0;v&&(O.push(n.em("row",`level-${v.level}`)),D=v.display);const A=D?null:{display:"none"};return(0,s.h)("tr",{style:[A,m(d,h)],class:O,key:_(d,h),onDblclick:e=>o(e,d),onClick:e=>r(e,d),onContextmenu:e=>i(e,d),onMouseenter:()=>a(h),onMouseleave:l},M.value.map(((n,o)=>{const{rowspan:r,colspan:i}=y(d,n,h,o);if(!r||!i)return null;const a={...n};a.realWidth=b(M.value,i,o);const l={store:e.store,_self:e.context||t,column:a,row:d,$index:h,cellIndex:o,expanded:x};o===w.value&&v&&(l.treeNode={indent:v.level*T.value,level:v.level},"boolean"===typeof v.expanded&&(l.treeNode.expanded=v.expanded,"loading"in v&&(l.treeNode.loading=v.loading),"noLazyChildren"in v&&(l.treeNode.noLazyChildren=v.noLazyChildren)));const m=`${h},${o}`,p=a.columnKey||a.rawColumnKey||"",_=C(o,n,l),E=n.showOverflowTooltip&&_R({effect:S},k,n.showOverflowTooltip);return(0,s.h)("td",{style:f(h,o,d,n),class:g(h,o,d,n,i-1),key:`${p}${m}`,rowspan:r,colspan:i,onMouseenter:e=>c(e,d,E),onMouseleave:u},[_])})))},C=(e,t,n)=>t.renderCell(n),S=(o,r)=>{const i=e.store,{isRowExpanded:a,assertRowKey:l}=i,{treeData:c,lazyTreeNodeMap:u,childrenColumnName:d,rowKey:h}=i.states,m=i.states.columns.value,p=m.some((({type:e})=>"expand"===e));if(p){const e=a(o),l=x(o,r,void 0,e),c=t.renderExpanded;return e?c?[[l,(0,s.h)("tr",{key:`expanded-row__${l.key}`},[(0,s.h)("td",{colspan:m.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[c({row:o,$index:r,store:i,expanded:e})])])]]:(console.error("[Element Error]renderExpanded is required."),l):[[l]]}if(Object.keys(c.value).length){l();const e=hP(o,h.value);let t=c.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0},"boolean"===typeof t.lazy&&("boolean"===typeof t.loaded&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));const i=[x(o,r,n)];if(t){let n=0;const a=(e,o)=>{e&&e.length&&o&&e.forEach((e=>{const s={display:o.display&&o.expanded,level:o.level+1,expanded:!1,noLazyChildren:!1,loading:!1},l=hP(e,h.value);if(void 0===l||null===l)throw new Error("For nested data item, row-key is required.");if(t={...c.value[l]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!(!t.expanded||!s.display),"boolean"===typeof t.lazy&&("boolean"===typeof t.loaded&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,i.push(x(e,r+n,s)),t){const n=u.value[l]||e[d.value];a(n,t)}}))};t.display=!0;const s=u.value[e]||o[d.value];a(s,t)}return i}return x(o,r,void 0)};return{wrappedRowRender:S,tooltipContent:d,tooltipTrigger:h}}const cI={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var uI=(0,s.aZ)({name:"ElTableBody",props:cI,setup(e){const t=(0,s.FN)(),n=(0,s.f3)(QP),o=(0,v.s3)("table"),{wrappedRowRender:r,tooltipContent:i,tooltipTrigger:a}=lI(e),{onColumnsChange:l,onScrollableChange:c}=XP(n);return(0,s.YP)(e.store.states.hoverRow,((n,r)=>{if(!e.store.states.isComplex.value||!w.C5)return;let i=window.requestAnimationFrame;i||(i=e=>window.setTimeout(e,16)),i((()=>{const e=null==t?void 0:t.vnode.el,i=Array.from((null==e?void 0:e.children)||[]).filter((e=>null==e?void 0:e.classList.contains(`${o.e("row")}`))),a=i[r],s=i[n];a&&(0,y.IV)(a,"hover-row"),s&&(0,y.cn)(s,"hover-row")}))})),(0,s.Ah)((()=>{var e;null==(e=_P)||e()})),{ns:o,onColumnsChange:l,onScrollableChange:c,wrappedRowRender:r,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return(0,s.h)("tbody",{},[n.reduce(((t,n)=>t.concat(e(n,t.length))),[])])}});function dI(e){const t="auto"===e.tableLayout;let n=e.columns||[];t&&n.every((e=>void 0===e.width))&&(n=[]);const o=n=>{const o={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?o.style={width:`${n.width}px`}:o.name=n.id,o};return(0,s.h)("colgroup",{},n.map((e=>(0,s.h)("col",o(e)))))}function hI(){const e=(0,s.f3)(QP),t=null==e?void 0:e.store,n=(0,s.Fl)((()=>t.states.fixedLeafColumnsLength.value)),o=(0,s.Fl)((()=>t.states.rightFixedColumns.value.length)),r=(0,s.Fl)((()=>t.states.columns.value.length)),i=(0,s.Fl)((()=>t.states.fixedColumns.value.length)),a=(0,s.Fl)((()=>t.states.rightFixedColumns.value.length));return{leftFixedLeafCount:n,rightFixedLeafCount:o,columnsCount:r,leftFixedCount:i,rightFixedCount:a,columns:t.states.columns}}function mI(e){const{columns:t}=hI(),n=(0,v.s3)("table"),o=(t,o)=>{const r=t[o],i=[n.e("cell"),r.id,r.align,r.labelClassName,...EP(n.b(),o,r.fixed,e.store)];return r.className&&i.push(r.className),r.children||i.push(n.is("leaf")),i},r=(t,n)=>{const o=MP(n,t.fixed,e.store);return OP(o,"left"),OP(o,"right"),o};return{getCellClasses:o,getCellStyles:r,columns:t}}dI.props=["columns","tableLayout"];var pI=(0,s.aZ)({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:o}=mI(e),r=(0,v.s3)("table");return{ns:r,getCellClasses:t,getCellStyles:n,columns:o}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:o,sumText:r,ns:i}=this,a=this.store.states.data.value;let l=[];return o?l=o({columns:e,data:a}):e.forEach(((e,t)=>{if(0===t)return void(l[t]=r);const n=a.map((t=>Number(t[e.property]))),o=[];let i=!0;n.forEach((e=>{if(!Number.isNaN(+e)){i=!1;const t=`${e}`.split(".")[1];o.push(t?t.length:0)}}));const s=Math.max.apply(null,o);l[t]=i?"":n.reduce(((e,t)=>{const n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(s,20)))}),0)})),(0,s.h)("table",{class:i.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[dI({columns:e}),(0,s.h)("tbody",[(0,s.h)("tr",{},[...e.map(((o,r)=>(0,s.h)("td",{key:r,colspan:o.colSpan,rowspan:o.rowSpan,class:n(e,r),style:t(o,r)},[(0,s.h)("div",{class:["cell",o.labelClassName]},[l[r]])])))])])])}});function fI(e){const t=t=>{e.commit("setCurrentRow",t)},n=()=>e.getSelectionRows(),o=(t,n)=>{e.toggleRowSelection(t,n,!1),e.updateAllSelected()},r=()=>{e.clearSelection()},i=t=>{e.clearFilter(t)},a=()=>{e.commit("toggleAllSelection")},s=(t,n)=>{e.toggleRowExpansionAdapter(t,n)},l=()=>{e.clearSort()},c=(t,n)=>{e.commit("sort",{prop:t,order:n})};return{setCurrentRow:t,getSelectionRows:n,toggleRowSelection:o,clearSelection:r,clearFilter:i,toggleAllSelection:a,toggleRowExpansion:s,clearSort:l,sort:c}}function gI(e,t,n,o){const r=(0,l.iH)(!1),i=(0,l.iH)(null),a=(0,l.iH)(!1),c=e=>{a.value=e},d=(0,l.iH)({width:null,height:null,headerHeight:null}),h=(0,l.iH)(!1),m={display:"inline-block",verticalAlign:"middle"},p=(0,l.iH)(),f=(0,l.iH)(0),g=(0,l.iH)(0),v=(0,l.iH)(0),y=(0,l.iH)(0);(0,s.m0)((()=>{t.setHeight(e.height)})),(0,s.m0)((()=>{t.setMaxHeight(e.maxHeight)})),(0,s.YP)((()=>[e.currentRowKey,n.states.rowKey]),(([e,t])=>{(0,l.SU)(t)&&(0,l.SU)(e)&&n.setCurrentRowKey(`${e}`)}),{immediate:!0}),(0,s.YP)((()=>e.data),(e=>{o.store.commit("setData",e)}),{immediate:!0,deep:!0}),(0,s.m0)((()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)}));const b=()=>{o.store.commit("setHoverRow",null),o.hoverState&&(o.hoverState=null)},w=(e,t)=>{const{pixelX:n,pixelY:r}=t;Math.abs(n)>=Math.abs(r)&&(o.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},_=(0,s.Fl)((()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),x=(0,s.Fl)((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),C=()=>{_.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(T)};(0,s.bv)((async()=>{await(0,s.Y3)(),n.updateColumns(),M(),requestAnimationFrame(C);const t=o.vnode.el,r=o.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth="0"),d.value={width:p.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&r?r.offsetHeight:null},n.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&o.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),o.$ready=!0}));const S=(e,n)=>{if(!e)return;const o=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));o.push(t.scrollX.value?n:"is-scrolling-none"),e.className=o.join(" ")},k=e=>{const{tableWrapper:t}=o.refs;S(t,e)},E=e=>{const{tableWrapper:t}=o.refs;return!(!t||!t.classList.contains(e))},T=function(){if(!o.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void(E(e)||k(e))}const e=o.refs.scrollBarRef.wrapRef;if(!e)return;const{scrollLeft:n,offsetWidth:r,scrollWidth:i}=e,{headerWrapper:a,footerWrapper:s}=o.refs;a&&(a.scrollLeft=n),s&&(s.scrollLeft=n);const l=i-r-1;k(n>=l?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},M=()=>{o.refs.scrollBarRef&&(o.refs.scrollBarRef.wrapRef&&(0,u.ORN)(o.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?(0,u.yU7)(o.vnode.el,O):(0,u.ORN)(window,"resize",O),(0,u.yU7)(o.refs.bodyWrapper,(()=>{var e,t;O(),null==(t=null==(e=o.refs)?void 0:e.scrollBarRef)||t.update()})))},O=()=>{var t,n,r;const i=o.vnode.el;if(!o.$ready||!i)return;let a=!1;const{width:s,height:l,headerHeight:c}=d.value,u=p.value=i.offsetWidth;s!==u&&(a=!0);const h=i.offsetHeight;(e.height||_.value)&&l!==h&&(a=!0);const m="fixed"===e.tableLayout?o.refs.headerWrapper:null==(t=o.refs.tableHeaderRef)?void 0:t.$el;e.showHeader&&(null==m?void 0:m.offsetHeight)!==c&&(a=!0),f.value=(null==(n=o.refs.tableWrapper)?void 0:n.scrollHeight)||0,v.value=(null==m?void 0:m.scrollHeight)||0,y.value=(null==(r=o.refs.footerWrapper)?void 0:r.offsetHeight)||0,g.value=f.value-v.value-y.value,a&&(d.value={width:u,height:h,headerHeight:e.showHeader&&(null==m?void 0:m.offsetHeight)||0},C())},D=(0,Xr.Cd)(),A=(0,s.Fl)((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:o}=t;return e.value?e.value-(n.value?o:0)+"px":""})),R=(0,s.Fl)((()=>e.maxHeight?"fixed":e.tableLayout)),P=(0,s.Fl)((()=>{if(e.data&&e.data.length)return null;let t="100%";e.height&&g.value&&(t=`${g.value}px`);const n=p.value;return{width:n?`${n}px`:"",height:t}})),I=(0,s.Fl)((()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{})),z=(0,s.Fl)((()=>{if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${v.value+y.value}px)`};{const t=e.maxHeight,n=f.value>=Number(t);if(n)return{maxHeight:f.value-v.value-y.value+"px"}}}return{}})),N=(e,t)=>{const n=o.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const o=n.scrollTop;t.pixelY<0&&0!==o&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>o&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)};return{isHidden:r,renderExpanded:i,setDragVisible:c,isGroup:h,handleMouseLeave:b,handleHeaderFooterMousewheel:w,tableSize:D,emptyBlockStyle:P,handleFixedMousewheel:N,resizeProxyVisible:a,bodyWidth:A,resizeState:d,doLayout:C,tableBodyStyles:x,tableLayout:R,scrollbarViewStyle:m,tableInnerStyle:I,scrollbarStyle:z}}function vI(e){const t=(0,l.iH)(),n=()=>{const n=e.vnode.el,o=n.querySelector(".hidden-columns"),r={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t.value=new MutationObserver((()=>{i.forEach((e=>e()))})),t.value.observe(o,r)};(0,s.bv)((()=>{n()})),(0,s.Ah)((()=>{var e;null==(e=t.value)||e.disconnect()}))}var yI={data:{type:Array,default:()=>[]},size:Bi.Pp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const bI=()=>{const e=(0,l.iH)(),t=(t,n)=>{const o=e.value;o&&o.scrollTo(t,n)},n=(t,n)=>{const o=e.value;o&&(0,h.hj)(n)&&["Top","Left"].includes(t)&&o[`setScroll${t}`](n)},o=e=>n("Top",e),r=e=>n("Left",e);return{scrollBarRef:e,scrollTo:t,setScrollTop:o,setScrollLeft:r}};var wI,_I,xI,CI,SI,kI,EI,TI,MI,OI,DI,AI,RI,PI,II,zI=!1;function NI(){if(!zI){zI=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(AI=/\b(iPhone|iP[ao]d)/.exec(e),RI=/\b(iP[ao]d)/.exec(e),OI=/Android/i.exec(e),PI=/FBAN\/\w+;/i.exec(e),II=/Mobile/i.exec(e),DI=!!/Win64/.exec(e),t){wI=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,wI&&document&&document.documentMode&&(wI=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(e);kI=o?parseFloat(o[1])+4:wI,_I=t[2]?parseFloat(t[2]):NaN,xI=t[3]?parseFloat(t[3]):NaN,CI=t[4]?parseFloat(t[4]):NaN,CI?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),SI=t&&t[1]?parseFloat(t[1]):NaN):SI=NaN}else wI=_I=xI=SI=CI=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);EI=!r||parseFloat(r[1].replace("_","."))}else EI=!1;TI=!!n[2],MI=!!n[3]}else EI=TI=MI=!1}}var LI,HI={ie:function(){return NI()||wI},ieCompatibilityMode:function(){return NI()||kI>wI},ie64:function(){return HI.ie()&&DI},firefox:function(){return NI()||_I},opera:function(){return NI()||xI},webkit:function(){return NI()||CI},safari:function(){return HI.webkit()},chrome:function(){return NI()||SI},windows:function(){return NI()||TI},osx:function(){return NI()||EI},linux:function(){return NI()||MI},iphone:function(){return NI()||AI},mobile:function(){return NI()||AI||RI||OI||II},nativeApp:function(){return NI()||PI},android:function(){return NI()||OI},ipad:function(){return NI()||RI}},FI=HI,BI=!!(typeof window<"u"&&window.document&&window.document.createElement),UI={canUseDOM:BI,canUseWorkers:typeof Worker<"u",canUseEventListeners:BI&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:BI&&!!window.screen,isInWorker:!BI},VI=UI;function jI(e,t){if(!VI.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var r=document.createElement("div");r.setAttribute(n,"return;"),o="function"==typeof r[n]}return!o&&LI&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}VI.canUseDOM&&(LI=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var WI=jI,ZI=10,$I=40,qI=800;function GI(e){var t=0,n=0,o=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),o=t*ZI,r=n*ZI,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||r)&&e.deltaMode&&(1==e.deltaMode?(o*=$I,r*=$I):(o*=qI,r*=qI)),o&&!t&&(t=o<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:t,spinY:n,pixelX:o,pixelY:r}}GI.getEventType=function(){return FI.firefox()?"DOMMouseScroll":WI("wheel")?"wheel":"mousewheel"};var KI=GI;
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const YI=function(e,t){if(e&&e.addEventListener){const n=function(e){const n=KI(e);t&&Reflect.apply(t,this,[e,n])};e.addEventListener("wheel",n,{passive:!0})}},JI={beforeMount(e,t){YI(e,t.value)}};let XI=1;const QI=(0,s.aZ)({name:"ElTable",directives:{Mousewheel:JI},components:{TableHeader:iI,TableBody:uI,TableFooter:pI,ElScrollbar:Ae,hColgroup:dI},props:yI,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:t}=(0,Ga.bU)(),n=(0,v.s3)("table"),o=(0,s.FN)();(0,s.JJ)(QP,o);const r=BP(o,e);o.store=r;const i=new WP({store:o.store,table:o,fit:e.fit,showHeader:e.showHeader});o.layout=i;const a=(0,s.Fl)((()=>0===(r.states.data.value||[]).length)),{setCurrentRow:l,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:h,toggleAllSelection:m,toggleRowExpansion:p,clearSort:f,sort:g}=fI(r),{isHidden:y,renderExpanded:b,setDragVisible:w,isGroup:_,handleMouseLeave:x,handleHeaderFooterMousewheel:C,tableSize:S,emptyBlockStyle:k,handleFixedMousewheel:E,resizeProxyVisible:T,bodyWidth:M,resizeState:O,doLayout:D,tableBodyStyles:A,tableLayout:R,scrollbarViewStyle:P,tableInnerStyle:I,scrollbarStyle:z}=gI(e,i,r,o),{scrollBarRef:N,scrollTo:L,setScrollLeft:H,setScrollTop:F}=bI(),B=de(D,50),U=`${n.namespace.value}-table_${XI++}`;o.tableId=U,o.state={isGroup:_,resizeState:O,doLayout:D,debouncedUpdateLayout:B};const V=(0,s.Fl)((()=>e.sumText||t("el.table.sumText"))),j=(0,s.Fl)((()=>e.emptyText||t("el.table.emptyText")));return vI(o),{ns:n,layout:i,store:r,handleHeaderFooterMousewheel:C,handleMouseLeave:x,tableId:U,tableSize:S,isHidden:y,isEmpty:a,renderExpanded:b,resizeProxyVisible:T,resizeState:O,isGroup:_,bodyWidth:M,tableBodyStyles:A,emptyBlockStyle:k,debouncedUpdateLayout:B,handleFixedMousewheel:E,setCurrentRow:l,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:h,toggleAllSelection:m,toggleRowExpansion:p,clearSort:f,doLayout:D,sort:g,t:t,setDragVisible:w,context:o,computedSumText:V,computedEmptyText:j,tableLayout:R,scrollbarViewStyle:P,tableInnerStyle:I,scrollbarStyle:z,scrollBarRef:N,scrollTo:L,setScrollLeft:H,setScrollTop:F}}}),ez=["data-prefix"],tz={ref:"hiddenColumns",class:"hidden-columns"};function nz(e,t,n,o,r,i){const a=(0,s.up)("hColgroup"),l=(0,s.up)("table-header"),u=(0,s.up)("table-body"),d=(0,s.up)("el-scrollbar"),h=(0,s.up)("table-footer"),m=(0,s.Q2)("mousewheel");return(0,s.wg)(),(0,s.iD)("div",{ref:"tableWrapper",class:(0,c.C_)([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:0!==(e.store.states.data.value||[]).length&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:(0,c.j5)(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t))},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("inner-wrapper")),style:(0,c.j5)(e.tableInnerStyle)},[(0,s._)("div",tz,[(0,s.WI)(e.$slots,"default")],512),e.showHeader&&"fixed"===e.tableLayout?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"headerWrapper",class:(0,c.C_)(e.ns.e("header-wrapper"))},[(0,s._)("table",{ref:"tableHeader",class:(0,c.C_)(e.ns.e("header")),style:(0,c.j5)(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[(0,s.Wm)(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),(0,s.Wm)(l,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[m,e.handleHeaderFooterMousewheel]]):(0,s.kq)("v-if",!0),(0,s._)("div",{ref:"bodyWrapper",class:(0,c.C_)(e.ns.e("body-wrapper"))},[(0,s.Wm)(d,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:(0,s.w5)((()=>[(0,s._)("table",{ref:"tableBody",class:(0,c.C_)(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:(0,c.j5)({width:e.bodyWidth,tableLayout:e.tableLayout})},[(0,s.Wm)(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&"auto"===e.tableLayout?((0,s.wg)(),(0,s.j4)(l,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):(0,s.kq)("v-if",!0),(0,s.Wm)(u,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"])],6),e.isEmpty?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"emptyBlock",style:(0,c.j5)(e.emptyBlockStyle),class:(0,c.C_)(e.ns.e("empty-block"))},[(0,s._)("span",{class:(0,c.C_)(e.ns.e("empty-text"))},[(0,s.WI)(e.$slots,"empty",{},(()=>[(0,s.Uk)((0,c.zw)(e.computedEmptyText),1)]))],2)],6)):(0,s.kq)("v-if",!0),e.$slots.append?((0,s.wg)(),(0,s.iD)("div",{key:1,ref:"appendWrapper",class:(0,c.C_)(e.ns.e("append-wrapper"))},[(0,s.WI)(e.$slots,"append")],2)):(0,s.kq)("v-if",!0)])),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:1,ref:"footerWrapper",class:(0,c.C_)(e.ns.e("footer-wrapper"))},[(0,s.Wm)(h,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:(0,c.j5)(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[R.F8,!e.isEmpty],[m,e.handleHeaderFooterMousewheel]]):(0,s.kq)("v-if",!0),e.border||e.isGroup?((0,s.wg)(),(0,s.iD)("div",{key:2,class:(0,c.C_)(e.ns.e("border-left-patch"))},null,2)):(0,s.kq)("v-if",!0)],6),(0,s.wy)((0,s._)("div",{ref:"resizeProxy",class:(0,c.C_)(e.ns.e("column-resize-proxy"))},null,2),[[R.F8,e.resizeProxyVisible]])],46,ez)}var oz=(0,g.Z)(QI,[["render",nz],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const rz={selection:"table-column--selection",expand:"table__expand-column"},iz={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},az=e=>rz[e]||"",sz={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&0===e.states.data.value.length}return(0,s.h)(vf,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:t,store:n,$index:o}){return(0,s.h)(vf,{disabled:!!t.selectable&&!t.selectable.call(null,e,o),size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const o=e.index;return"number"===typeof o?n=t+o:"function"===typeof o&&(n=o(t)),(0,s.h)("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:o}=t,r=[o.e("expand-icon")];n&&r.push(o.em("expand-icon","expanded"));const i=function(n){n.stopPropagation(),t.toggleRowExpansion(e)};return(0,s.h)("div",{class:r,onClick:i},{default:()=>[(0,s.h)(P.gn,null,{default:()=>[(0,s.h)(he.ArrowRight)]})]})},sortable:!1,resizable:!1}};function lz({row:e,column:t,$index:n}){var o;const r=t.property,i=r&&(0,I.WJ)(e,r).value;return t&&t.formatter?t.formatter(e,t,i,n):(null==(o=null==i?void 0:i.toString)?void 0:o.call(i))||""}function cz({row:e,treeNode:t,store:n},o=!1){const{ns:r}=n;if(!t)return o?[(0,s.h)("span",{class:r.e("placeholder")})]:null;const i=[],a=function(o){o.stopPropagation(),t.loading||n.loadOrToggle(e)};if(t.indent&&i.push((0,s.h)("span",{class:r.e("indent"),style:{"padding-left":`${t.indent}px`}})),"boolean"!==typeof t.expanded||t.noLazyChildren)i.push((0,s.h)("span",{class:r.e("placeholder")}));else{const e=[r.e("expand-icon"),t.expanded?r.em("expand-icon","expanded"):""];let n=he.ArrowRight;t.loading&&(n=he.Loading),i.push((0,s.h)("div",{class:e,onClick:a},{default:()=>[(0,s.h)(P.gn,{class:{[r.is("loading")]:t.loading}},{default:()=>[(0,s.h)(n)]})]}))}return i}function uz(e,t){return e.reduce(((e,t)=>(e[t]=t,e)),t)}function dz(e,t){const n=(0,s.FN)(),o=()=>{const o=["fixed"],r={realWidth:"width",realMinWidth:"minWidth"},i=uz(o,r);Object.keys(i).forEach((o=>{const i=r[o];(0,c.RI)(t,i)&&(0,s.YP)((()=>t[i]),(t=>{let r=t;"width"===i&&"realWidth"===o&&(r=fP(t)),"minWidth"===i&&"realMinWidth"===o&&(r=gP(t)),n.columnConfig.value[i]=r,n.columnConfig.value[o]=r;const a="fixed"===i;e.value.store.scheduleLayout(a)}))}))},r=()=>{const e=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},r=uz(e,o);Object.keys(r).forEach((e=>{const r=o[e];(0,c.RI)(t,r)&&(0,s.YP)((()=>t[r]),(t=>{n.columnConfig.value[e]=t}))}))};return{registerComplexWatchers:o,registerNormalWatchers:r}}function hz(e,t,n){const o=(0,s.FN)(),r=(0,l.iH)(""),i=(0,l.iH)(!1),a=(0,l.iH)(),c=(0,l.iH)(),u=(0,v.s3)("table");(0,s.m0)((()=>{a.value=e.align?`is-${e.align}`:null,a.value})),(0,s.m0)((()=>{c.value=e.headerAlign?`is-${e.headerAlign}`:a.value,c.value}));const d=(0,s.Fl)((()=>{let e=o.vnode.vParent||o.parent;while(e&&!e.tableId&&!e.columnId)e=e.vnode.vParent||e.parent;return e})),h=(0,s.Fl)((()=>{const{store:e}=o.parent;if(!e)return!1;const{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0})),m=(0,l.iH)(fP(e.width)),p=(0,l.iH)(gP(e.minWidth)),f=e=>(m.value&&(e.width=m.value),p.value&&(e.minWidth=p.value),!m.value&&p.value&&(e.width=void 0),e.minWidth||(e.minWidth=80),e.realWidth=Number(void 0===e.width?e.minWidth:e.width),e),g=e=>{const t=e.type,n=sz[t]||{};Object.keys(n).forEach((t=>{const o=n[t];"className"!==t&&void 0!==o&&(e[t]=o)}));const o=az(t);if(o){const t=`${(0,l.SU)(u.namespace)}-${o}`;e.className=e.className?`${e.className} ${t}`:t}return e},y=e=>{function t(e){var t;"ElTableColumn"===(null==(t=null==e?void 0:e.type)?void 0:t.name)&&(e.vParent=o)}Array.isArray(e)?e.forEach((e=>t(e))):t(e)},w=r=>{e.renderHeader?(0,b.N)("TableColumn","Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==r.type&&(r.renderHeader=e=>{o.columnConfig.value["label"];const n=t.header;return n?n(e):r.label});let i=r.renderCell;return"expand"===r.type?(r.renderCell=e=>(0,s.h)("div",{class:"cell"},[i(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(i=i||lz,r.renderCell=e=>{let o=null;if(t.default){const n=t.default(e);o=n.some((e=>e.type!==s.sv))?n:i(e)}else o=i(e);const{columns:a}=n.value.store.states,c=a.value.findIndex((e=>"default"===e.type)),d=h.value&&e.cellIndex===c,m=cz(e,d),p={class:"cell",style:{}};return r.showOverflowTooltip&&(p.class=`${p.class} ${(0,l.SU)(u.namespace)}-tooltip`,p.style={width:(e.column.realWidth||Number(e.column.width))-1+"px"}),y(o),(0,s.h)("div",p,[m,o])}),r},_=(...t)=>t.reduce(((t,n)=>(Array.isArray(n)&&n.forEach((n=>{t[n]=e[n]})),t)),{}),x=(e,t)=>Array.prototype.indexOf.call(e,t),C=()=>{n.value.store.commit("updateColumnOrder",o.columnConfig.value)};return{columnId:r,realAlign:a,isSubColumn:i,realHeaderAlign:c,columnOrTableParent:d,setColumnWidth:f,setColumnForcedProps:g,setColumnRenders:w,getPropsData:_,getColumnElIndex:x,updateColumnOrder:C}}var mz={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:[Boolean,Object],fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every((e=>["ascending","descending",null].includes(e)))}};let pz=1;var fz=(0,s.aZ)({name:"ElTableColumn",components:{ElCheckbox:vf},props:mz,setup(e,{slots:t}){const n=(0,s.FN)(),o=(0,l.iH)({}),r=(0,s.Fl)((()=>{let e=n.parent;while(e&&!e.tableId)e=e.parent;return e})),{registerNormalWatchers:i,registerComplexWatchers:a}=dz(r,e),{columnId:c,isSubColumn:u,realHeaderAlign:d,columnOrTableParent:h,setColumnWidth:m,setColumnForcedProps:p,setColumnRenders:f,getPropsData:g,getColumnElIndex:v,realAlign:y,updateColumnOrder:b}=hz(e,t,r),w=h.value;c.value=`${w.tableId||w.columnId}_column_${pz++}`,(0,s.wF)((()=>{u.value=r.value!==w;const t=e.type||"default",s=""===e.sortable||e.sortable,l={...iz[t],id:c.value,type:t,property:e.prop||e.property,align:y,headerAlign:d,showOverflowTooltip:e.showOverflowTooltip,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:s,index:e.index,rawColumnKey:n.vnode.key},h=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],v=["sortMethod","sortBy","sortOrders"],b=["selectable","reserveSelection"],_=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"];let x=g(h,v,b,_);x=pP(l,x);const C=yP(f,m,p);x=C(x),o.value=x,i(),a()})),(0,s.bv)((()=>{var e;const t=h.value,i=u.value?t.vnode.el.children:null==(e=t.refs.hiddenColumns)?void 0:e.children,a=()=>v(i||[],n.vnode.el);o.value.getColumnIndex=a;const s=a();s>-1&&r.value.store.commit("insertColumn",o.value,u.value?t.columnConfig.value:null,b)})),(0,s.Jd)((()=>{r.value.store.commit("removeColumn",o.value,u.value?w.columnConfig.value:null,b)})),n.columnId=c.value,n.columnConfig=o},render(){var e,t,n;try{const o=null==(t=(e=this.$slots).default)?void 0:t.call(e,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(o))for(const e of o)"ElTableColumn"===(null==(n=e.type)?void 0:n.name)||2&e.shapeFlag?r.push(e):e.type===s.HY&&Array.isArray(e.children)&&e.children.forEach((e=>{1024===(null==e?void 0:e.patchFlag)||(0,c.HD)(null==e?void 0:e.children)||r.push(e)}));const i=(0,s.h)("div",r);return i}catch(HH){return(0,s.h)("div",[])}}});const gz=(0,D.nz)(oz,{TableColumn:fz}),vz=(0,D.dp)(fz);var yz=(e=>(e["ASC"]="asc",e["DESC"]="desc",e))(yz||{}),bz=(e=>(e["CENTER"]="center",e["RIGHT"]="right",e))(bz||{}),wz=(e=>(e["LEFT"]="left",e["RIGHT"]="right",e))(wz||{});const _z={["asc"]:"desc",["desc"]:"asc"},xz=Symbol("placeholder"),Cz=(e,t,n)=>{var o;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(r.flexShrink=1);const i={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function Sz(e,t,n){const o=(0,s.Fl)((()=>(0,l.SU)(t).filter((e=>!e.hidden)))),r=(0,s.Fl)((()=>(0,l.SU)(o).filter((e=>"left"===e.fixed||!0===e.fixed)))),i=(0,s.Fl)((()=>(0,l.SU)(o).filter((e=>"right"===e.fixed)))),a=(0,s.Fl)((()=>(0,l.SU)(o).filter((e=>!e.fixed)))),u=(0,s.Fl)((()=>{const e=[];return(0,l.SU)(r).forEach((t=>{e.push({...t,placeholderSign:xz})})),(0,l.SU)(a).forEach((t=>{e.push(t)})),(0,l.SU)(i).forEach((t=>{e.push({...t,placeholderSign:xz})})),e})),d=(0,s.Fl)((()=>(0,l.SU)(r).length||(0,l.SU)(i).length)),h=(0,s.Fl)((()=>{const o=(0,l.SU)(t);return o.reduce(((t,o)=>(t[o.key]=Cz(o,(0,l.SU)(n),e.fixed),t)),{})})),m=(0,s.Fl)((()=>(0,l.SU)(o).reduce(((e,t)=>e+t.width),0))),p=e=>(0,l.SU)(t).find((t=>t.key===e)),f=e=>(0,l.SU)(h)[e],g=(e,t)=>{e.width=t};function v(t){var n;const{key:o}=t.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:i}=e;let a=yz.ASC;a=(0,c.Kn)(r)?_z[r[o]]:_z[i.order],null==(n=e.onColumnSort)||n.call(e,{column:p(o),key:o,order:a})}return{columns:t,columnsStyles:h,columnsTotalWidth:m,fixedColumnsOnLeft:r,fixedColumnsOnRight:i,hasFixedColumns:d,mainColumns:u,normalColumns:a,visibleColumns:o,getColumn:p,getColumnStyle:f,updateColumnWidth:g,onColumnSorted:v}}const kz=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:o,onMaybeEndReached:r})=>{const i=(0,l.iH)({scrollLeft:0,scrollTop:0});function a(e){var r,i,a;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(i=n.value)||i.scrollToTop(s),null==(a=o.value)||a.scrollToTop(s)}function c(e){i.value=e,a(e)}function u(e){i.value.scrollTop=e,a((0,l.SU)(i))}function d(e){var n,o;i.value.scrollLeft=e,null==(o=null==(n=t.value)?void 0:n.scrollTo)||o.call(n,(0,l.SU)(i))}function h(t){var n;c(t),null==(n=e.onScroll)||n.call(e,t)}function m({scrollTop:e}){const{scrollTop:t}=(0,l.SU)(i);e!==t&&u(e)}function p(e,n="auto"){var o;null==(o=t.value)||o.scrollToRow(e,n)}return(0,s.YP)((()=>(0,l.SU)(i).scrollTop),((e,t)=>{e>t&&r()})),{scrollPos:i,scrollTo:c,scrollToLeft:d,scrollToTop:u,scrollToRow:p,onScroll:h,onVerticalScroll:m}},Ez=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:o})=>{const r=(0,s.FN)(),{emit:i}=r,a=(0,l.XI)(!1),c=(0,l.XI)(null),u=(0,l.iH)(e.defaultExpandedRowKeys||[]),d=(0,l.iH)(-1),m=(0,l.XI)(null),p=(0,l.iH)({}),f=(0,l.iH)({}),g=(0,l.XI)({}),v=(0,l.XI)({}),y=(0,l.XI)({}),b=(0,s.Fl)((()=>(0,h.hj)(e.estimatedRowHeight)));function w(t){var n;null==(n=e.onRowsRendered)||n.call(e,t),t.rowCacheEnd>(0,l.SU)(d)&&(d.value=t.rowCacheEnd)}function _({hovered:e,rowKey:t}){c.value=e?t:null}function x({expanded:t,rowData:n,rowIndex:o,rowKey:r}){var a,s;const c=[...(0,l.SU)(u)],d=c.indexOf(r);t?-1===d&&c.push(r):d>-1&&c.splice(d,1),u.value=c,i("update:expandedRowKeys",c),null==(a=e.onRowExpand)||a.call(e,{expanded:t,rowData:n,rowIndex:o,rowKey:r}),null==(s=e.onExpandedRowsChange)||s.call(e,c)}const C=de((()=>{var e,i,s,c;a.value=!0,p.value={...(0,l.SU)(p),...(0,l.SU)(f)},S((0,l.SU)(m),!1),f.value={},m.value=null,null==(e=t.value)||e.forceUpdate(),null==(i=n.value)||i.forceUpdate(),null==(s=o.value)||s.forceUpdate(),null==(c=r.proxy)||c.$forceUpdate(),a.value=!1}),0);function S(e,r=!1){(0,l.SU)(b)&&[t,n,o].forEach((t=>{const n=(0,l.SU)(t);n&&n.resetAfterRowIndex(e,r)}))}function k(e,t,n){const o=(0,l.SU)(m);(null===o||o>n)&&(m.value=n),f.value[e]=t}function E({rowKey:e,height:t,rowIndex:n},o){o?o===wz.RIGHT?y.value[e]=t:g.value[e]=t:v.value[e]=t;const r=Math.max(...[g,y,v].map((t=>t.value[e]||0)));(0,l.SU)(p)[e]!==r&&(k(e,r,n),C())}return{hoveringRowKey:c,expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:b,isResetting:a,rowHeights:p,resetAfterIndex:S,onRowExpanded:x,onRowHovered:_,onRowsRendered:w,onRowHeightChange:E}},Tz=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:o})=>{const r=(0,l.iH)({}),i=(0,s.Fl)((()=>{const n={},{data:o,rowKey:i}=e,a=(0,l.SU)(t);if(!a||!a.length)return o;const s=[],c=new Set;a.forEach((e=>c.add(e)));let u=o.slice();u.forEach((e=>n[e[i]]=0));while(u.length>0){const e=u.shift();s.push(e),c.has(e[i])&&Array.isArray(e.children)&&e.children.length>0&&(u=[...e.children,...u],e.children.forEach((t=>n[t[i]]=n[e[i]]+1)))}return r.value=n,s})),a=(0,s.Fl)((()=>{const{data:t,expandColumnKey:n}=e;return n?(0,l.SU)(i):t}));return(0,s.YP)(a,((e,t)=>{e!==t&&(n.value=-1,o(0,!0))})),{data:a,depthMap:r}},Mz=(e,t)=>e+t,Oz=e=>(0,c.kJ)(e)?e.reduce(Mz,0):e,Dz=(e,t,n={})=>(0,c.mf)(e)?e(t):null!=e?e:n,Az=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=(0,y.Nn)(e[t])})),e),Rz=e=>(0,s.lA)(e)?t=>(0,s.h)(e,t):e,Pz=(e,{columnsTotalWidth:t,data:n,fixedColumnsOnLeft:o,fixedColumnsOnRight:r})=>{const i=(0,s.Fl)((()=>{const{fixed:n,width:o,vScrollbarSize:r}=e,i=o-r;return n?Math.max(Math.round((0,l.SU)(t)),i):i})),a=(0,s.Fl)((()=>(0,l.SU)(i)+(e.fixed?e.vScrollbarSize:0))),c=(0,s.Fl)((()=>{const{height:t=0,maxHeight:n=0,footerHeight:o,hScrollbarSize:r}=e;if(n>0){const e=(0,l.SU)(v),t=(0,l.SU)(u),i=(0,l.SU)(g),a=i+e+t+r;return Math.min(a,n-o)}return t-o})),u=(0,s.Fl)((()=>{const{rowHeight:t,estimatedRowHeight:o}=e,r=(0,l.SU)(n);return(0,h.hj)(o)?r.length*o:r.length*t})),d=(0,s.Fl)((()=>{const{maxHeight:t}=e,n=(0,l.SU)(c);if((0,h.hj)(t)&&t>0)return n;const o=(0,l.SU)(u)+(0,l.SU)(g)+(0,l.SU)(v);return Math.min(n,o)})),m=e=>e.width,p=(0,s.Fl)((()=>Oz((0,l.SU)(o).map(m)))),f=(0,s.Fl)((()=>Oz((0,l.SU)(r).map(m)))),g=(0,s.Fl)((()=>Oz(e.headerHeight))),v=(0,s.Fl)((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),b=(0,s.Fl)((()=>(0,l.SU)(c)-(0,l.SU)(g)-(0,l.SU)(v))),w=(0,s.Fl)((()=>{const{style:t={},height:n,width:o}=e;return Az({...t,height:n,width:o})})),_=(0,s.Fl)((()=>Az({height:e.footerHeight}))),x=(0,s.Fl)((()=>({top:(0,y.Nn)((0,l.SU)(g)),bottom:(0,y.Nn)(e.footerHeight),width:(0,y.Nn)(e.width)})));return{bodyWidth:i,fixedTableHeight:d,mainTableHeight:c,leftTableWidth:p,rightTableWidth:f,headerWidth:a,rowsHeight:u,windowHeight:b,footerHeight:_,emptyStyle:x,rootStyle:w,headerHeight:g}};function Iz(e){const t=(0,l.iH)(),n=(0,l.iH)(),o=(0,l.iH)(),{columns:r,columnsStyles:i,columnsTotalWidth:a,fixedColumnsOnLeft:u,fixedColumnsOnRight:d,hasFixedColumns:h,mainColumns:m,onColumnSorted:p}=Sz(e,(0,l.Vh)(e,"columns"),(0,l.Vh)(e,"fixed")),{scrollTo:f,scrollToLeft:g,scrollToTop:v,scrollToRow:y,onScroll:b,onVerticalScroll:w,scrollPos:_}=kz(e,{mainTableRef:t,leftTableRef:n,rightTableRef:o,onMaybeEndReached:J}),{expandedRowKeys:x,hoveringRowKey:C,lastRenderedRowIndex:S,isDynamic:k,isResetting:E,rowHeights:T,resetAfterIndex:M,onRowExpanded:O,onRowHeightChange:D,onRowHovered:A,onRowsRendered:R}=Ez(e,{mainTableRef:t,leftTableRef:n,rightTableRef:o}),{data:P,depthMap:I}=Tz(e,{expandedRowKeys:x,lastRenderedRowIndex:S,resetAfterIndex:M}),{bodyWidth:z,fixedTableHeight:N,mainTableHeight:L,leftTableWidth:H,rightTableWidth:F,headerWidth:B,rowsHeight:U,windowHeight:V,footerHeight:j,emptyStyle:W,rootStyle:Z,headerHeight:$}=Pz(e,{columnsTotalWidth:a,data:P,fixedColumnsOnLeft:u,fixedColumnsOnRight:d}),q=(0,l.XI)(!1),G=(0,l.iH)(),K=(0,s.Fl)((()=>{const t=0===(0,l.SU)(P).length;return(0,c.kJ)(e.fixedData)?0===e.fixedData.length&&t:t}));function Y(t){const{estimatedRowHeight:n,rowHeight:o,rowKey:r}=e;return n?(0,l.SU)(T)[(0,l.SU)(P)[t][r]]||n:o}function J(){const{onEndReached:t}=e;if(!t)return;const{scrollTop:n}=(0,l.SU)(_),o=(0,l.SU)(U),r=(0,l.SU)(V),i=o-(n+r)+e.hScrollbarSize;(0,l.SU)(S)>=0&&o===n+(0,l.SU)(L)-(0,l.SU)($)&&t(i)}return(0,s.YP)((()=>e.expandedRowKeys),(e=>x.value=e),{deep:!0}),{columns:r,containerRef:G,mainTableRef:t,leftTableRef:n,rightTableRef:o,isDynamic:k,isResetting:E,isScrolling:q,hoveringRowKey:C,hasFixedColumns:h,columnsStyles:i,columnsTotalWidth:a,data:P,expandedRowKeys:x,depthMap:I,fixedColumnsOnLeft:u,fixedColumnsOnRight:d,mainColumns:m,bodyWidth:z,emptyStyle:W,rootStyle:Z,headerWidth:B,footerHeight:j,mainTableHeight:L,fixedTableHeight:N,leftTableWidth:H,rightTableWidth:F,showEmpty:K,getRowHeight:Y,onColumnSorted:p,onRowHovered:A,onRowExpanded:O,onRowsRendered:R,onRowHeightChange:D,scrollTo:f,scrollToLeft:g,scrollToTop:v,scrollToRow:y,onScroll:b,onVerticalScroll:w}}const zz=Symbol("tableV2"),Nz=String,Lz={type:(0,d.Cq)(Array),required:!0},Hz=((0,d.Cq)(Object),{type:(0,d.Cq)(Array)}),Fz={...Hz,required:!0},Bz=String,Uz={type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},Vz={type:Number,required:!0},jz={type:(0,d.Cq)([String,Number,Symbol]),default:"id"},Wz={type:(0,d.Cq)(Object)},Zz=(0,d.o8)({class:String,columns:Lz,columnsStyles:{type:(0,d.Cq)(Object),required:!0},depth:Number,expandColumnKey:Bz,estimatedRowHeight:{...OO.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:(0,d.Cq)(Function)},onRowHover:{type:(0,d.Cq)(Function)},onRowHeightChange:{type:(0,d.Cq)(Function)},rowData:{type:(0,d.Cq)(Object),required:!0},rowEventHandlers:{type:(0,d.Cq)(Object)},rowIndex:{type:Number,required:!0},rowKey:jz,style:{type:(0,d.Cq)(Object)}}),$z={type:Number,required:!0},qz=(0,d.o8)({class:String,columns:Lz,fixedHeaderData:{type:(0,d.Cq)(Array)},headerData:{type:(0,d.Cq)(Array),required:!0},headerHeight:{type:(0,d.Cq)([Number,Array]),default:50},rowWidth:$z,rowHeight:{type:Number,default:50},height:$z,width:$z}),Gz=(0,d.o8)({columns:Lz,data:Fz,fixedData:Hz,estimatedRowHeight:Zz.estimatedRowHeight,width:Vz,height:Vz,headerWidth:Vz,headerHeight:qz.headerHeight,bodyWidth:Vz,rowHeight:Vz,cache:kO.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:OO.scrollbarAlwaysOn,scrollbarStartGap:OO.scrollbarStartGap,scrollbarEndGap:OO.scrollbarEndGap,class:Nz,style:Wz,containerStyle:Wz,getRowHeight:{type:(0,d.Cq)(Function),required:!0},rowKey:Zz.rowKey,onRowsRendered:{type:(0,d.Cq)(Function)},onScroll:{type:(0,d.Cq)(Function)}}),Kz=(0,d.o8)({cache:Gz.cache,estimatedRowHeight:Zz.estimatedRowHeight,rowKey:jz,headerClass:{type:(0,d.Cq)([String,Function])},headerProps:{type:(0,d.Cq)([Object,Function])},headerCellProps:{type:(0,d.Cq)([Object,Function])},headerHeight:qz.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:(0,d.Cq)([String,Function])},rowProps:{type:(0,d.Cq)([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:(0,d.Cq)([Object,Function])},columns:Lz,data:Fz,dataGetter:{type:(0,d.Cq)(Function)},fixedData:Hz,expandColumnKey:Zz.expandColumnKey,expandedRowKeys:Uz,defaultExpandedRowKeys:Uz,class:Nz,fixed:Boolean,style:{type:(0,d.Cq)(Object)},width:Vz,height:Vz,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:OO.hScrollbarSize,vScrollbarSize:OO.vScrollbarSize,scrollbarAlwaysOn:DO.alwaysOn,sortBy:{type:(0,d.Cq)(Object),default:()=>({})},sortState:{type:(0,d.Cq)(Object),default:void 0},onColumnSort:{type:(0,d.Cq)(Function)},onExpandedRowsChange:{type:(0,d.Cq)(Function)},onEndReached:{type:(0,d.Cq)(Function)},onRowExpand:Zz.onRowExpand,onScroll:Gz.onScroll,onRowsRendered:Gz.onRowsRendered,rowEventHandlers:Zz.rowEventHandlers}),Yz=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:o},r)=>{let i=null,a=0,s=0;const l=(r,i)=>{const a=r<=0&&t.value||r>=0&&e.value,s=i<=0&&o.value||i>=0&&n.value;return a&&s},c=e=>{mO(i);let t=e.deltaX,n=e.deltaY;Math.abs(t)>Math.abs(n)?n=0:t=0,e.shiftKey&&0!==n&&(t=n,n=0),l(a,s)&&l(a+t,s+n)||(a+=t,s+=n,e.preventDefault(),i=hO((()=>{r(a,s),a=0,s=0})))};return{hasReachedEdge:l,onWheel:c}},Jz=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:o,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:i,getEstimatedTotalWidth:a,getColumnOffset:u,getRowOffset:d,getRowPosition:m,getRowStartIndexForOffset:p,getRowStopIndexForStartIndex:f,initCache:g,injectToInstance:y,validateProps:b})=>(0,s.aZ)({name:null!=e?e:"ElVirtualList",props:OO,emits:[GM,KM],setup(e,{emit:_,expose:x,slots:C}){const k=(0,v.s3)("vl");b(e);const E=(0,s.FN)(),T=(0,l.iH)(g(e,E));null==y||y(E,T);const M=(0,l.iH)(),O=(0,l.iH)(),D=(0,l.iH)(),A=(0,l.iH)(null),R=(0,l.iH)({isScrolling:!1,scrollLeft:(0,h.hj)(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:(0,h.hj)(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:YM,yAxisScrollDir:YM}),P=$M(),I=(0,s.Fl)((()=>Number.parseInt(`${e.height}`,10))),z=(0,s.Fl)((()=>Number.parseInt(`${e.width}`,10))),N=(0,s.Fl)((()=>{const{totalColumn:t,totalRow:n,columnCache:i}=e,{isScrolling:a,xAxisScrollDir:s,scrollLeft:c}=(0,l.SU)(R);if(0===t||0===n)return[0,0,0,0];const u=o(e,c,(0,l.SU)(T)),d=r(e,u,c,(0,l.SU)(T)),h=a&&s!==JM?1:Math.max(1,i),m=a&&s!==YM?1:Math.max(1,i);return[Math.max(0,u-h),Math.max(0,Math.min(t-1,d+m)),u,d]})),L=(0,s.Fl)((()=>{const{totalColumn:t,totalRow:n,rowCache:o}=e,{isScrolling:r,yAxisScrollDir:i,scrollTop:a}=(0,l.SU)(R);if(0===t||0===n)return[0,0,0,0];const s=p(e,a,(0,l.SU)(T)),c=f(e,s,a,(0,l.SU)(T)),u=r&&i!==JM?1:Math.max(1,o),d=r&&i!==YM?1:Math.max(1,o);return[Math.max(0,s-u),Math.max(0,Math.min(n-1,c+d)),s,c]})),H=(0,s.Fl)((()=>i(e,(0,l.SU)(T)))),F=(0,s.Fl)((()=>a(e,(0,l.SU)(T)))),B=(0,s.Fl)((()=>{var t;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:e.direction,height:(0,h.hj)(e.height)?`${e.height}px`:e.height,width:(0,h.hj)(e.width)?`${e.width}px`:e.width},null!=(t=e.style)?t:{}]})),U=(0,s.Fl)((()=>{const e=`${(0,l.SU)(F)}px`,t=`${(0,l.SU)(H)}px`;return{height:t,pointerEvents:(0,l.SU)(R).isScrolling?"none":void 0,width:e}})),V=()=>{const{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){const[e,t,n,o]=(0,l.SU)(N),[r,i,a,s]=(0,l.SU)(L);_(GM,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:r,rowCacheEnd:i,columnVisibleStart:n,columnVisibleEnd:o,rowVisibleStart:a,rowVisibleEnd:s})}const{scrollLeft:o,scrollTop:r,updateRequested:i,xAxisScrollDir:a,yAxisScrollDir:s}=(0,l.SU)(R);_(KM,{xAxisScrollDir:a,scrollLeft:o,yAxisScrollDir:s,scrollTop:r,updateRequested:i})},j=t=>{const{clientHeight:n,clientWidth:o,scrollHeight:r,scrollLeft:i,scrollTop:a,scrollWidth:c}=t.currentTarget,u=(0,l.SU)(R);if(u.scrollTop===a&&u.scrollLeft===i)return;let d=i;if(PO(e.direction))switch(zO()){case sO:d=-i;break;case cO:d=c-o-i;break}R.value={...u,isScrolling:!0,scrollLeft:d,scrollTop:Math.max(0,Math.min(a,r-n)),updateRequested:!0,xAxisScrollDir:AO(u.scrollLeft,d),yAxisScrollDir:AO(u.scrollTop,a)},(0,s.Y3)((()=>Y())),J(),V()},W=(e,t)=>{const n=(0,l.SU)(I),o=(H.value-n)/t*e;q({scrollTop:Math.min(H.value-n,o)})},Z=(e,t)=>{const n=(0,l.SU)(z),o=(F.value-n)/t*e;q({scrollLeft:Math.min(F.value-n,o)})},{onWheel:$}=Yz({atXStartEdge:(0,s.Fl)((()=>R.value.scrollLeft<=0)),atXEndEdge:(0,s.Fl)((()=>R.value.scrollLeft>=F.value-(0,l.SU)(z))),atYStartEdge:(0,s.Fl)((()=>R.value.scrollTop<=0)),atYEndEdge:(0,s.Fl)((()=>R.value.scrollTop>=H.value-(0,l.SU)(I)))},((e,t)=>{var n,o,r,i;null==(o=null==(n=O.value)?void 0:n.onMouseUp)||o.call(n),null==(i=null==(r=O.value)?void 0:r.onMouseUp)||i.call(r);const a=(0,l.SU)(z),s=(0,l.SU)(I);q({scrollLeft:Math.min(R.value.scrollLeft+e,F.value-a),scrollTop:Math.min(R.value.scrollTop+t,H.value-s)})})),q=({scrollLeft:e=R.value.scrollLeft,scrollTop:t=R.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const n=(0,l.SU)(R);t===n.scrollTop&&e===n.scrollLeft||(R.value={...n,xAxisScrollDir:AO(n.scrollLeft,e),yAxisScrollDir:AO(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},(0,s.Y3)((()=>Y())),J(),V())},G=(t=0,n=0,o=XM)=>{const r=(0,l.SU)(R);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));const s=S(k.namespace.value),c=(0,l.SU)(T),h=i(e,c),m=a(e,c);q({scrollLeft:u(e,n,o,r.scrollLeft,c,m>e.width?s:0),scrollTop:d(e,t,o,r.scrollTop,c,h>e.height?s:0)})},K=(o,r)=>{const{columnWidth:i,direction:a,rowHeight:s}=e,u=P.value(t&&i,t&&s,t&&a),d=`${o},${r}`;if((0,c.RI)(u,d))return u[d];{const[,t]=n(e,r,(0,l.SU)(T)),i=(0,l.SU)(T),s=PO(a),[c,h]=m(e,o,i),[p]=n(e,r,i);return u[d]={position:"absolute",left:s?void 0:`${t}px`,right:s?`${t}px`:void 0,top:`${h}px`,height:`${c}px`,width:`${p}px`},u[d]}},Y=()=>{R.value.isScrolling=!1,(0,s.Y3)((()=>{P.value(-1,null,null)}))};(0,s.bv)((()=>{if(!w.C5)return;const{initScrollLeft:t,initScrollTop:n}=e,o=(0,l.SU)(M);o&&((0,h.hj)(t)&&(o.scrollLeft=t),(0,h.hj)(n)&&(o.scrollTop=n)),V()}));const J=()=>{const{direction:t}=e,{scrollLeft:n,scrollTop:o,updateRequested:r}=(0,l.SU)(R),i=(0,l.SU)(M);if(r&&i){if(t===aO)switch(zO()){case sO:i.scrollLeft=-n;break;case lO:i.scrollLeft=n;break;default:{const{clientWidth:e,scrollWidth:t}=i;i.scrollLeft=t-e-n;break}}else i.scrollLeft=Math.max(0,n);i.scrollTop=Math.max(0,o)}},{resetAfterColumnIndex:X,resetAfterRowIndex:Q,resetAfter:ee}=E.proxy;x({windowRef:M,innerRef:A,getItemStyleCache:P,scrollTo:q,scrollToItem:G,states:R,resetAfterColumnIndex:X,resetAfterRowIndex:Q,resetAfter:ee});const te=()=>{const{scrollbarAlwaysOn:t,scrollbarStartGap:n,scrollbarEndGap:o,totalColumn:r,totalRow:i}=e,a=(0,l.SU)(z),c=(0,l.SU)(I),u=(0,l.SU)(F),d=(0,l.SU)(H),{scrollLeft:h,scrollTop:m}=(0,l.SU)(R),p=(0,s.h)(LO,{ref:O,alwaysOn:t,startGap:n,endGap:o,class:k.e("horizontal"),clientSize:a,layout:"horizontal",onScroll:Z,ratio:100*a/u,scrollFrom:h/(u-a),total:i,visible:!0}),f=(0,s.h)(LO,{ref:D,alwaysOn:t,startGap:n,endGap:o,class:k.e("vertical"),clientSize:c,layout:"vertical",onScroll:W,ratio:100*c/d,scrollFrom:m/(d-c),total:r,visible:!0});return{horizontalScrollbar:p,verticalScrollbar:f}},ne=()=>{var t;const[n,o]=(0,l.SU)(N),[r,i]=(0,l.SU)(L),{data:a,totalColumn:s,totalRow:c,useIsScrolling:u,itemKey:d}=e,h=[];if(c>0&&s>0)for(let e=r;e<=i;e++)for(let r=n;r<=o;r++)h.push(null==(t=C.default)?void 0:t.call(C,{columnIndex:r,data:a,key:d({columnIndex:r,data:a,rowIndex:e}),isScrolling:u?(0,l.SU)(R).isScrolling:void 0,style:K(e,r),rowIndex:e}));return h},oe=()=>{const t=(0,s.LL)(e.innerElement),n=ne();return[(0,s.h)(t,{style:(0,l.SU)(U),ref:A},(0,c.HD)(t)?n:{default:()=>n})]},re=()=>{const t=(0,s.LL)(e.containerElement),{horizontalScrollbar:n,verticalScrollbar:o}=te(),r=oe();return(0,s.h)("div",{key:0,class:k.e("wrapper"),role:e.role},[(0,s.h)(t,{class:e.className,style:(0,l.SU)(B),onScroll:j,onWheel:$,ref:M},(0,c.HD)(t)?r:{default:()=>r}),n,o])};return re}}),{max:Xz,min:Qz,floor:eN}=Math,tN={column:"columnWidth",row:"rowHeight"},nN={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},oN=(e,t,n,o)=>{const[r,i,a]=[n[o],e[tN[o]],n[nN[o]]];if(t>a){let e=0;if(a>=0){const t=r[a];e=t.offset+t.size}for(let n=a+1;n<=t;n++){const t=i(n);r[n]={offset:e,size:t},e+=t}n[nN[o]]=t}return r[t]},rN=(e,t,n,o,r,i)=>{while(n<=o){const a=n+eN((o-n)/2),s=oN(e,a,t,i).offset;if(s===r)return a;s<r?n=a+1:o=a-1}return Xz(0,n-1)},iN=(e,t,n,o,r)=>{const i="column"===r?e.totalColumn:e.totalRow;let a=1;while(n<i&&oN(e,n,t,r).offset<o)n+=a,a*=2;return rN(e,t,eN(n/2),Qz(n,i-1),o,r)},aN=(e,t,n,o)=>{const[r,i]=[t[o],t[nN[o]]],a=i>0?r[i].offset:0;return a>=n?rN(e,t,0,i,n,o):iN(e,t,Xz(0,i),n,o)},sN=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:o})=>{let r=0;if(n>=e&&(n=e-1),n>=0){const e=o[n];r=e.offset+e.size}const i=e-n-1,a=i*t;return r+a},lN=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}const i=e-o-1,a=i*n;return r+a},cN={column:lN,row:sN},uN=(e,t,n,o,r,i,a)=>{const[s,l]=["row"===i?e.height:e.width,cN[i]],c=oN(e,t,r,i),u=l(e,r),d=Xz(0,Qz(u-s,c.offset)),h=Xz(0,c.offset-s+a+c.size);switch(n===QM&&(n=o>=h-s&&o<=d+s?XM:tO),n){case eO:return d;case nO:return h;case tO:return Math.round(h+(d-h)/2);case XM:default:return o>=h&&o<=d?o:h>d||o<h?h:d}},dN=Jz({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const o=oN(e,t,n,"column");return[o.size,o.offset]},getRowPosition:(e,t,n)=>{const o=oN(e,t,n,"row");return[o.size,o.offset]},getColumnOffset:(e,t,n,o,r,i)=>uN(e,t,n,o,r,"column",i),getRowOffset:(e,t,n,o,r,i)=>uN(e,t,n,o,r,"row",i),getColumnStartIndexForOffset:(e,t,n)=>aN(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,o)=>{const r=oN(e,t,o,"column"),i=n+e.width;let a=r.offset+r.size,s=t;while(s<e.totalColumn-1&&a<i)s++,a+=oN(e,t,o,"column").size;return s},getEstimatedTotalHeight:sN,getEstimatedTotalWidth:lN,getRowStartIndexForOffset:(e,t,n)=>aN(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,o)=>{const{totalRow:r,height:i}=e,a=oN(e,t,o,"row"),s=n+i;let l=a.size+a.offset,c=t;while(c<r-1&&l<s)c++,l+=oN(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const n=({columnIndex:n,rowIndex:o},r)=>{var i,a;r=!!(0,h.o8)(r)||r,(0,h.hj)(n)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,n-1)),(0,h.hj)(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(i=e.exposed)||i.getItemStyleCache.value(-1,null,null),r&&(null==(a=e.proxy)||a.$forceUpdate())},o=(e,t)=>{n({columnIndex:e},t)},r=(e,t)=>{n({rowIndex:e},t)};Object.assign(e.proxy,{resetAfterColumnIndex:o,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:e=qM,estimatedRowHeight:t=qM})=>{const n={column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}};return n},clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{0}}),hN=Jz({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},o,r,i,a,s)=>{n=Number(n);const l=Math.max(0,e*t-n),c=Math.min(l,o*t),u=Math.max(0,o*t-n+s+t);switch("smart"===r&&(r=i>=u-n&&i<=c+n?XM:tO),r){case eO:return c;case nO:return u;case tO:{const e=Math.round(u+(c-u)/2);return e<Math.ceil(n/2)?0:e>l+Math.floor(n/2)?l:e}case XM:default:return i>=u&&i<=c?i:u>c||i<u?u:c}},getRowOffset:({rowHeight:e,height:t,totalRow:n},o,r,i,a,s)=>{t=Number(t);const l=Math.max(0,n*e-t),c=Math.min(l,o*e),u=Math.max(0,o*e-t+s+e);switch(r===QM&&(r=i>=u-t&&i<=c+t?XM:tO),r){case eO:return c;case nO:return u;case tO:{const e=Math.round(u+(c-u)/2);return e<Math.ceil(t/2)?0:e>l+Math.floor(t/2)?l:e}case XM:default:return i>=u&&i<=c?i:u>c||i<u?u:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},o,r)=>{const i=o*e,a=Math.ceil((n+r-i)/e);return Math.max(0,Math.min(t-1,o+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},o,r)=>{const i=o*e,a=Math.ceil((n+r-i)/e);return Math.max(0,Math.min(t-1,o+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{0}}),mN="ElTableV2Header",pN=(0,s.aZ)({name:mN,props:qz,setup(e,{slots:t,expose:n}){const o=(0,v.s3)("table-v2"),r=(0,l.iH)(),i=(0,s.Fl)((()=>Az({width:e.width,height:e.height}))),a=(0,s.Fl)((()=>Az({width:e.rowWidth,height:e.height}))),c=(0,s.Fl)((()=>mv((0,l.SU)(e.headerHeight)))),u=e=>{const t=(0,l.SU)(r);(0,s.Y3)((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))},d=()=>{const n=o.e("fixed-header-row"),{columns:r,fixedHeaderData:i,rowHeight:a}=e;return null==i?void 0:i.map(((e,o)=>{var i;const s=Az({height:a,width:"100%"});return null==(i=t.fixed)?void 0:i.call(t,{class:n,columns:r,rowData:e,rowIndex:-(o+1),style:s})}))},h=()=>{const n=o.e("dynamic-header-row"),{columns:r}=e;return(0,l.SU)(c).map(((e,o)=>{var i;const a=Az({width:"100%",height:e});return null==(i=t.dynamic)?void 0:i.call(t,{class:n,columns:r,headerIndex:o,style:a})}))};return n({scrollToLeft:u}),()=>{if(!(e.height<=0))return(0,s.Wm)("div",{ref:r,class:e.class,style:(0,l.SU)(i),role:"rowgroup"},[(0,s.Wm)("div",{style:(0,l.SU)(a),class:o.e("header")},[h(),d()])])}}}),fN="ElTableV2Grid",gN=e=>{const t=(0,l.iH)(),n=(0,l.iH)(),o=(0,s.Fl)((()=>{const{data:t,rowHeight:n,estimatedRowHeight:o}=e;if(!o)return t.length*n})),r=(0,s.Fl)((()=>{const{fixedData:t,rowHeight:n}=e;return((null==t?void 0:t.length)||0)*n})),i=(0,s.Fl)((()=>Oz(e.headerHeight))),a=(0,s.Fl)((()=>{const{height:t}=e;return Math.max(0,t-(0,l.SU)(i)-(0,l.SU)(r))})),u=(0,s.Fl)((()=>(0,l.SU)(i)+(0,l.SU)(r)>0)),d=({data:t,rowIndex:n})=>t[n][e.rowKey];function h({rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:o,rowVisibleEnd:r}){var i;null==(i=e.onRowsRendered)||i.call(e,{rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:o,rowVisibleEnd:r})}function m(e,t){var o;null==(o=n.value)||o.resetAfterRowIndex(e,t)}function p(e,o){const r=(0,l.SU)(t),i=(0,l.SU)(n);r&&i&&((0,c.Kn)(e)?(r.scrollToLeft(e.scrollLeft),i.scrollTo(e)):(r.scrollToLeft(e),i.scrollTo({scrollLeft:e,scrollTop:o})))}function f(e){var t;null==(t=(0,l.SU)(n))||t.scrollTo({scrollTop:e})}function g(e,t){var o;null==(o=(0,l.SU)(n))||o.scrollToItem(e,1,t)}function v(){var e,o;null==(e=(0,l.SU)(n))||e.$forceUpdate(),null==(o=(0,l.SU)(t))||o.$forceUpdate()}return{bodyRef:n,forceUpdate:v,fixedRowHeight:r,gridHeight:a,hasHeader:u,headerHeight:i,headerRef:t,totalHeight:o,itemKey:d,onItemRendered:h,resetAfterRowIndex:m,scrollTo:p,scrollToTop:f,scrollToRow:g}},vN=(0,s.aZ)({name:fN,props:Gz,setup(e,{slots:t,expose:n}){const{ns:o}=(0,s.f3)(zz),{bodyRef:r,fixedRowHeight:i,gridHeight:a,hasHeader:c,headerRef:u,headerHeight:d,totalHeight:m,forceUpdate:p,itemKey:f,onItemRendered:g,resetAfterRowIndex:v,scrollTo:y,scrollToTop:b,scrollToRow:w}=gN(e);n({forceUpdate:p,totalHeight:m,scrollTo:y,scrollToTop:b,scrollToRow:w,resetAfterRowIndex:v});const _=()=>e.bodyWidth;return()=>{const{cache:n,columns:m,data:p,fixedData:v,useIsScrolling:y,scrollbarAlwaysOn:b,scrollbarEndGap:w,scrollbarStartGap:x,style:C,rowHeight:S,bodyWidth:k,estimatedRowHeight:E,headerWidth:T,height:M,width:O,getRowHeight:D,onScroll:A}=e,R=(0,h.hj)(E),P=R?dN:hN,I=(0,l.SU)(d);return(0,s.Wm)("div",{role:"table",class:[o.e("table"),e.class],style:C},[(0,s.Wm)(P,{ref:r,data:p,useIsScrolling:y,itemKey:f,columnCache:0,columnWidth:R?_:k,totalColumn:1,totalRow:p.length,rowCache:n,rowHeight:R?D:S,width:O,height:(0,l.SU)(a),class:o.e("body"),role:"rowgroup",scrollbarStartGap:x,scrollbarEndGap:w,scrollbarAlwaysOn:b,onScroll:A,onItemRendered:g,perfMode:!1},{default:e=>{var n;const o=p[e.rowIndex];return null==(n=t.row)?void 0:n.call(t,{...e,columns:m,rowData:o})}}),(0,l.SU)(c)&&(0,s.Wm)(pN,{ref:u,class:o.e("header-wrapper"),columns:m,headerData:p,headerHeight:e.headerHeight,fixedHeaderData:v,rowWidth:T,rowHeight:S,width:O,height:Math.min(I+(0,l.SU)(i),M)},{dynamic:t.header,fixed:t.row})])}}});function yN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const bN=(e,{slots:t})=>{const{mainTableRef:n,...o}=e;return(0,s.Wm)(vN,(0,s.dG)({ref:n},o),yN(t)?t:{default:()=>[t]})};function wN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const _N=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...o}=e;return(0,s.Wm)(vN,(0,s.dG)({ref:n},o),wN(t)?t:{default:()=>[t]})};function xN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const CN=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...o}=e;return(0,s.Wm)(vN,(0,s.dG)({ref:n},o),xN(t)?t:{default:()=>[t]})},SN=e=>{const{isScrolling:t}=(0,s.f3)(zz),n=(0,l.iH)(!1),o=(0,l.iH)(),r=(0,s.Fl)((()=>(0,h.hj)(e.estimatedRowHeight)&&e.rowIndex>=0)),i=(t=!1)=>{const r=(0,l.SU)(o);if(!r)return;const{columns:i,onRowHeightChange:a,rowKey:c,rowIndex:u,style:d}=e,{height:h}=r.getBoundingClientRect();n.value=!0,(0,s.Y3)((()=>{if(t||h!==Number.parseInt(d.height)){const e=i[0],t=(null==e?void 0:e.placeholderSign)===xz;null==a||a({rowKey:c,height:h,rowIndex:u},e&&!t&&e.fixed)}}))},a=(0,s.Fl)((()=>{const{rowData:t,rowIndex:n,rowKey:o,onRowHover:r}=e,i=e.rowEventHandlers||{},a={};return Object.entries(i).forEach((([e,r])=>{(0,c.mf)(r)&&(a[e]=e=>{r({event:e,rowData:t,rowIndex:n,rowKey:o})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:i})=>{const s=a[e];a[e]=e=>{r({event:e,hovered:i,rowData:t,rowIndex:n,rowKey:o}),null==s||s(e)}})),a})),u=t=>{const{onRowExpand:n,rowData:o,rowIndex:r,rowKey:i}=e;null==n||n({expanded:t,rowData:o,rowIndex:r,rowKey:i})};return(0,s.bv)((()=>{(0,l.SU)(r)&&i(!0)})),{isScrolling:t,measurable:r,measured:n,rowRef:o,eventHandlers:a,onExpand:u}},kN="ElTableV2TableRow",EN=(0,s.aZ)({name:kN,props:Zz,setup(e,{expose:t,slots:n,attrs:o}){const{eventHandlers:r,isScrolling:i,measurable:a,measured:u,rowRef:d,onExpand:h}=SN(e);return t({onExpand:h}),()=>{const{columns:t,columnsStyles:m,expandColumnKey:p,depth:f,rowData:g,rowIndex:v,style:y}=e;let b=t.map(((e,o)=>{const r=(0,c.kJ)(g.children)&&g.children.length>0&&e.key===p;return n.cell({column:e,columns:t,columnIndex:o,depth:f,style:m[e.key],rowData:g,rowIndex:v,isScrolling:(0,l.SU)(i),expandIconProps:r?{rowData:g,rowIndex:v,onExpand:h}:void 0})}));if(n.row&&(b=n.row({cells:b.map((e=>(0,c.kJ)(e)&&1===e.length?e[0]:e)),style:y,columns:t,depth:f,rowData:g,rowIndex:v,isScrolling:(0,l.SU)(i)})),(0,l.SU)(a)){const{height:t,...n}=y||{},i=(0,l.SU)(u);return(0,s.Wm)("div",(0,s.dG)({ref:d,class:e.class,style:i?y:n,role:"row"},o,(0,l.SU)(r)),[b])}return(0,s.Wm)("div",(0,s.dG)(o,{ref:d,class:e.class,style:y,role:"row"},(0,l.SU)(r)),[b])}}});function TN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const MN=(e,{slots:t})=>{const{columns:n,columnsStyles:o,depthMap:r,expandColumnKey:i,expandedRowKeys:a,estimatedRowHeight:l,hasFixedColumns:c,hoveringRowKey:u,rowData:d,rowIndex:h,style:m,isScrolling:p,rowProps:f,rowClass:g,rowKey:v,rowEventHandlers:y,ns:b,onRowHovered:w,onRowExpanded:_}=e,x=Dz(g,{columns:n,rowData:d,rowIndex:h},""),C=Dz(f,{columns:n,rowData:d,rowIndex:h}),S=d[v],k=r[S]||0,E=Boolean(i),T=h<0,M=[b.e("row"),x,{[b.e(`row-depth-${k}`)]:E&&h>=0,[b.is("expanded")]:E&&a.includes(S),[b.is("hovered")]:!p&&S===u,[b.is("fixed")]:!k&&T,[b.is("customized")]:Boolean(t.row)}],O=c?w:void 0,D={...C,columns:n,columnsStyles:o,class:M,depth:k,expandColumnKey:i,estimatedRowHeight:T?void 0:l,isScrolling:p,rowIndex:h,rowData:d,rowKey:S,rowEventHandlers:y,style:m};return(0,s.Wm)(EN,(0,s.dG)(D,{onRowHover:O,onRowExpand:_}),TN(t)?t:{default:()=>[t]})},ON=(e,{slots:t})=>{var n;const{cellData:o,style:r}=e,i=(null==(n=null==o?void 0:o.toString)?void 0:n.call(o))||"";return(0,s.Wm)("div",{class:e.class,title:i,style:r},[t.default?t.default(e):i])};ON.displayName="ElTableV2Cell",ON.inheritAttrs=!1;const DN=e=>{const{expanded:t,expandable:n,onExpand:o,style:r,size:i}=e,a={onClick:n?()=>o(!t):void 0,class:e.class};return(0,s.Wm)(P.gn,(0,s.dG)(a,{size:i,style:r}),{default:()=>[(0,s.Wm)(he.ArrowRight,null,null)]})},AN=({columns:e,column:t,columnIndex:n,depth:o,expandIconProps:r,isScrolling:i,rowData:a,rowIndex:l,style:u,expandedRowKeys:d,ns:h,cellProps:m,expandColumnKey:p,indentSize:f,iconSize:g,rowKey:v},{slots:y})=>{const b=Az(u);if(t.placeholderSign===xz)return(0,s.Wm)("div",{class:h.em("row-cell","placeholder"),style:b},null);const{cellRenderer:w,dataKey:_,dataGetter:x}=t,C=Rz(w),S=C||y.default||(e=>(0,s.Wm)(ON,e,null)),k=(0,c.mf)(x)?x({columns:e,column:t,columnIndex:n,rowData:a,rowIndex:l}):(0,OE.Z)(a,null!=_?_:""),E=Dz(m,{cellData:k,columns:e,column:t,columnIndex:n,rowIndex:l,rowData:a}),T={class:h.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:k,isScrolling:i,rowData:a,rowIndex:l},M=S(T),O=[h.e("row-cell"),t.class,t.align===bz.CENTER&&h.is("align-center"),t.align===bz.RIGHT&&h.is("align-right")],D=l>=0&&p&&t.key===p,A=l>=0&&d.includes(a[v]);let R;const P=`margin-inline-start: ${o*f}px;`;return D&&(R=(0,c.Kn)(r)?(0,s.Wm)(DN,(0,s.dG)(r,{class:[h.e("expand-icon"),h.is("expanded",A)],size:g,expanded:A,style:P,expandable:!0}),null):(0,s.Wm)("div",{style:[P,`width: ${g}px; height: ${g}px;`].join(" ")},null)),(0,s.Wm)("div",(0,s.dG)({class:O,style:b},E,{role:"cell"}),[R,M])};AN.inheritAttrs=!1;const RN=(0,d.o8)({class:String,columns:Lz,columnsStyles:{type:(0,d.Cq)(Object),required:!0},headerIndex:Number,style:{type:(0,d.Cq)(Object)}}),PN=(0,s.aZ)({name:"ElTableV2HeaderRow",props:RN,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:o,headerIndex:r,style:i}=e;let a=n.map(((e,i)=>t.cell({columns:n,column:e,columnIndex:i,headerIndex:r,style:o[e.key]})));return t.header&&(a=t.header({cells:a.map((e=>(0,c.kJ)(e)&&1===e.length?e[0]:e)),columns:n,headerIndex:r})),(0,s.Wm)("div",{class:e.class,style:i,role:"row"},[a])}}});function IN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}const zN=({columns:e,columnsStyles:t,headerIndex:n,style:o,headerClass:r,headerProps:i,ns:a},{slots:l})=>{const c={columns:e,headerIndex:n},u=[a.e("header-row"),Dz(r,c,""),{[a.is("customized")]:Boolean(l.header)}],d={...Dz(i,c),columnsStyles:t,class:u,columns:e,headerIndex:n,style:o};return(0,s.Wm)(PN,d,IN(l)?l:{default:()=>[l]})},NN=(e,{slots:t})=>{var n,o;return t.default?t.default(e):(0,s.Wm)("div",{class:e.class,title:null==(n=e.column)?void 0:n.title},[null==(o=e.column)?void 0:o.title])};NN.displayName="ElTableV2HeaderCell",NN.inheritAttrs=!1;const LN=e=>{const{sortOrder:t}=e;return(0,s.Wm)(P.gn,{size:14,class:e.class},{default:()=>[t===yz.ASC?(0,s.Wm)(he.SortUp,null,null):(0,s.Wm)(he.SortDown,null,null)]})},HN=(e,{slots:t})=>{const{column:n,ns:o,style:r,onColumnSorted:i}=e,a=Az(r);if(n.placeholderSign===xz)return(0,s.Wm)("div",{class:o.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:l,headerClass:c,sortable:u}=n,d={...e,class:o.e("header-cell-text")},h=Rz(l)||t.default||(e=>(0,s.Wm)(NN,e,null)),m=h(d),{sortBy:p,sortState:f,headerCellProps:g}=e;let v,y;if(f){const e=f[n.key];v=Boolean(_z[e]),y=v?e:yz.ASC}else v=n.key===p.key,y=v?p.order:yz.ASC;const b=[o.e("header-cell"),Dz(c,e,""),n.align===bz.CENTER&&o.is("align-center"),n.align===bz.RIGHT&&o.is("align-right"),u&&o.is("sortable")],w={...Dz(g,e),onClick:n.sortable?i:void 0,class:b,style:a,["data-key"]:n.key};return(0,s.Wm)("div",(0,s.dG)(w,{role:"columnheader"}),[m,u&&(0,s.Wm)(LN,{class:[o.e("sort-icon"),v&&o.is("sorting")],sortOrder:y},null)])},FN=(e,{slots:t})=>{var n;return(0,s.Wm)("div",{class:e.class,style:e.style},[null==(n=t.default)?void 0:n.call(t)])};FN.displayName="ElTableV2Footer";const BN=(e,{slots:t})=>(0,s.Wm)("div",{class:e.class,style:e.style},[t.default?t.default():(0,s.Wm)(DC,null,null)]);BN.displayName="ElTableV2Empty";const UN=(e,{slots:t})=>{var n;return(0,s.Wm)("div",{class:e.class,style:e.style},[null==(n=t.default)?void 0:n.call(t)])};function VN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}UN.displayName="ElTableV2Overlay";const jN="ElTableV2",WN=(0,s.aZ)({name:jN,props:Kz,setup(e,{slots:t,expose:n}){const o=(0,v.s3)("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:c,mainTableHeight:u,fixedTableHeight:d,leftTableWidth:h,rightTableWidth:m,data:p,depthMap:f,expandedRowKeys:g,hasFixedColumns:y,hoveringRowKey:b,mainTableRef:w,leftTableRef:_,rightTableRef:x,isDynamic:C,isResetting:S,isScrolling:k,bodyWidth:E,emptyStyle:T,rootStyle:M,headerWidth:O,footerHeight:D,showEmpty:A,scrollTo:R,scrollToLeft:P,scrollToTop:I,scrollToRow:z,getRowHeight:N,onColumnSorted:L,onRowHeightChange:H,onRowHovered:F,onRowExpanded:B,onRowsRendered:U,onScroll:V,onVerticalScroll:j}=Iz(e);return n({scrollTo:R,scrollToLeft:P,scrollToTop:I,scrollToRow:z}),(0,s.JJ)(zz,{ns:o,isResetting:S,hoveringRowKey:b,isScrolling:k}),()=>{const{cache:n,cellProps:v,estimatedRowHeight:S,expandColumnKey:k,fixedData:R,headerHeight:P,headerClass:I,headerProps:z,headerCellProps:W,sortBy:Z,sortState:$,rowHeight:q,rowClass:G,rowEventHandlers:K,rowKey:Y,rowProps:J,scrollbarAlwaysOn:X,indentSize:Q,iconSize:ee,useIsScrolling:te,vScrollbarSize:ne,width:oe}=e,re=(0,l.SU)(p),ie={cache:n,class:o.e("main"),columns:(0,l.SU)(c),data:re,fixedData:R,estimatedRowHeight:S,bodyWidth:(0,l.SU)(E),headerHeight:P,headerWidth:(0,l.SU)(O),height:(0,l.SU)(u),mainTableRef:w,rowKey:Y,rowHeight:q,scrollbarAlwaysOn:X,scrollbarStartGap:2,scrollbarEndGap:ne,useIsScrolling:te,width:oe,getRowHeight:N,onRowsRendered:U,onScroll:V},ae=(0,l.SU)(h),se=(0,l.SU)(d),le={cache:n,class:o.e("left"),columns:(0,l.SU)(i),data:re,estimatedRowHeight:S,leftTableRef:_,rowHeight:q,bodyWidth:ae,headerWidth:ae,headerHeight:P,height:se,rowKey:Y,scrollbarAlwaysOn:X,scrollbarStartGap:2,scrollbarEndGap:ne,useIsScrolling:te,width:ae,getRowHeight:N,onScroll:j},ce=(0,l.SU)(m),ue=ce+ne,de={cache:n,class:o.e("right"),columns:(0,l.SU)(a),data:re,estimatedRowHeight:S,rightTableRef:x,rowHeight:q,bodyWidth:ue,headerWidth:ue,headerHeight:P,height:se,rowKey:Y,scrollbarAlwaysOn:X,scrollbarStartGap:2,scrollbarEndGap:ne,width:ue,style:`--${(0,l.SU)(o.namespace)}-table-scrollbar-size: ${ne}px`,useIsScrolling:te,getRowHeight:N,onScroll:j},he=(0,l.SU)(r),me={ns:o,depthMap:(0,l.SU)(f),columnsStyles:he,expandColumnKey:k,expandedRowKeys:(0,l.SU)(g),estimatedRowHeight:S,hasFixedColumns:(0,l.SU)(y),hoveringRowKey:(0,l.SU)(b),rowProps:J,rowClass:G,rowKey:Y,rowEventHandlers:K,onRowHovered:F,onRowExpanded:B,onRowHeightChange:H},pe={cellProps:v,expandColumnKey:k,indentSize:Q,iconSize:ee,rowKey:Y,expandedRowKeys:(0,l.SU)(g),ns:o},fe={ns:o,headerClass:I,headerProps:z,columnsStyles:he},ge={ns:o,sortBy:Z,sortState:$,headerCellProps:W,onColumnSorted:L},ve={row:e=>(0,s.Wm)(MN,(0,s.dG)(e,me),{row:t.row,cell:e=>{let n;return t.cell?(0,s.Wm)(AN,(0,s.dG)(e,pe,{style:he[e.column.key]}),VN(n=t.cell(e))?n:{default:()=>[n]}):(0,s.Wm)(AN,(0,s.dG)(e,pe,{style:he[e.column.key]}),null)}}),header:e=>(0,s.Wm)(zN,(0,s.dG)(e,fe),{header:t.header,cell:e=>{let n;return t["header-cell"]?(0,s.Wm)(HN,(0,s.dG)(e,ge,{style:he[e.column.key]}),VN(n=t["header-cell"](e))?n:{default:()=>[n]}):(0,s.Wm)(HN,(0,s.dG)(e,ge,{style:he[e.column.key]}),null)}})},ye=[e.class,o.b(),o.e("root"),{[o.is("dynamic")]:(0,l.SU)(C)}],be={class:o.e("footer"),style:(0,l.SU)(D)};return(0,s.Wm)("div",{class:ye,style:(0,l.SU)(M)},[(0,s.Wm)(bN,ie,VN(ve)?ve:{default:()=>[ve]}),(0,s.Wm)(_N,le,VN(ve)?ve:{default:()=>[ve]}),(0,s.Wm)(CN,de,VN(ve)?ve:{default:()=>[ve]}),t.footer&&(0,s.Wm)(FN,be,{default:t.footer}),(0,l.SU)(A)&&(0,s.Wm)(BN,{class:o.e("empty"),style:(0,l.SU)(T)},{default:t.empty}),t.overlay&&(0,s.Wm)(UN,{class:o.e("overlay")},{default:t.overlay})])}}}),ZN=(0,d.o8)({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:(0,d.Cq)(Function)}}),$N=e=>{const t=(0,l.iH)(),n=(0,l.iH)(0),o=(0,l.iH)(0);let r;return(0,s.bv)((()=>{r=(0,u.yU7)(t,(([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:i,paddingRight:a,paddingTop:s,paddingBottom:l}=getComputedStyle(e.target),c=Number.parseInt(i)||0,u=Number.parseInt(a)||0,d=Number.parseInt(s)||0,h=Number.parseInt(l)||0;n.value=t-c-u,o.value=r-d-h})).stop})),(0,s.Jd)((()=>{null==r||r()})),(0,s.YP)([n,o],(([t,n])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:n})})),{sizer:t,width:n,height:o}},qN=(0,s.aZ)({name:"ElAutoResizer",props:ZN,setup(e,{slots:t}){const n=(0,v.s3)("auto-resizer"),{height:o,width:r,sizer:i}=$N(e),a={width:"100%",height:"100%"};return()=>{var e;return(0,s.Wm)("div",{ref:i,class:n.b(),style:a},[null==(e=t.default)?void 0:e.call(t,{height:o.value,width:r.value})])}}}),GN=(0,D.nz)(WN),KN=(0,D.nz)(qN),YN=Symbol("tabsRootContextKey"),JN=(0,d.o8)({tabs:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])}}),XN="ElTabBar",QN=(0,s.aZ)({name:XN}),eL=(0,s.aZ)({...QN,props:JN,setup(e,{expose:t}){const n=e,o=(0,s.FN)(),r=(0,s.f3)(YN);r||(0,b._)(XN,"<el-tabs><el-tab-bar /></el-tabs>");const i=(0,v.s3)("tabs"),a=(0,l.iH)(),d=(0,l.iH)(),h=()=>{let e=0,t=0;const i=["top","bottom"].includes(r.props.tabPosition)?"width":"height",a="width"===i?"x":"y",s="x"===a?"left":"top";return n.tabs.every((r=>{var a,l;const c=null==(l=null==(a=o.parent)?void 0:a.refs)?void 0:l[`tab-${r.uid}`];if(!c)return!1;if(!r.active)return!0;e=c[`offset${eg(s)}`],t=c[`client${eg(i)}`];const u=window.getComputedStyle(c);return"width"===i&&(n.tabs.length>1&&(t-=Number.parseFloat(u.paddingLeft)+Number.parseFloat(u.paddingRight)),e+=Number.parseFloat(u.paddingLeft)),!1})),{[i]:`${t}px`,transform:`translate${eg(a)}(${e}px)`}},m=()=>d.value=h();return(0,s.YP)((()=>n.tabs),(async()=>{await(0,s.Y3)(),m()}),{immediate:!0}),(0,u.yU7)(a,(()=>m())),t({ref:a,update:m}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"barRef",ref:a,class:(0,c.C_)([(0,l.SU)(i).e("active-bar"),(0,l.SU)(i).is((0,l.SU)(r).props.tabPosition)]),style:(0,c.j5)(d.value)},null,6))}});var tL=(0,g.Z)(eL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const nL=(0,d.o8)({panes:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),oL={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},rL="ElTabNav",iL=(0,s.aZ)({name:rL,props:nL,emits:oL,setup(e,{expose:t,emit:n}){const o=(0,s.FN)(),r=(0,s.f3)(YN);r||(0,b._)(rL,"<el-tabs><tab-nav /></el-tabs>");const i=(0,v.s3)("tabs"),a=(0,u.xKQ)(),c=(0,u.vou)(),d=(0,l.iH)(),h=(0,l.iH)(),m=(0,l.iH)(),p=(0,l.iH)(),f=(0,l.iH)(!1),g=(0,l.iH)(0),y=(0,l.iH)(!1),w=(0,l.iH)(!0),_=(0,s.Fl)((()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height")),x=(0,s.Fl)((()=>{const e="width"===_.value?"X":"Y";return{transform:`translate${e}(-${g.value}px)`}})),C=()=>{if(!d.value)return;const e=d.value[`offset${eg(_.value)}`],t=g.value;if(!t)return;const n=t>e?t-e:0;g.value=n},S=()=>{if(!d.value||!h.value)return;const e=h.value[`offset${eg(_.value)}`],t=d.value[`offset${eg(_.value)}`],n=g.value;if(e-n<=t)return;const o=e-n>2*t?n+t:e-t;g.value=o},k=async()=>{const e=h.value;if(!f.value||!m.value||!d.value||!e)return;await(0,s.Y3)();const t=m.value.querySelector(".is-active");if(!t)return;const n=d.value,o=["top","bottom"].includes(r.props.tabPosition),i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),l=o?e.offsetWidth-a.width:e.offsetHeight-a.height,c=g.value;let u=c;o?(i.left<a.left&&(u=c-(a.left-i.left)),i.right>a.right&&(u=c+i.right-a.right)):(i.top<a.top&&(u=c-(a.top-i.top)),i.bottom>a.bottom&&(u=c+(i.bottom-a.bottom))),u=Math.max(u,0),g.value=Math.min(u,l)},E=()=>{var t;if(!h.value||!d.value)return;e.stretch&&(null==(t=p.value)||t.update());const n=h.value[`offset${eg(_.value)}`],o=d.value[`offset${eg(_.value)}`],r=g.value;o<n?(f.value=f.value||{},f.value.prev=r,f.value.next=r+o<n,n-r<o&&(g.value=n-o)):(f.value=!1,r>0&&(g.value=0))},T=e=>{const t=e.code,{up:n,down:o,left:r,right:i}=no.EVENT_CODE;if(![n,o,r,i].includes(t))return;const a=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),s=a.indexOf(e.target);let l;l=t===r||t===n?0===s?a.length-1:s-1:s<a.length-1?s+1:0,a[l].focus({preventScroll:!0}),a[l].click(),M()},M=()=>{w.value&&(y.value=!0)},O=()=>y.value=!1;return(0,s.YP)(a,(e=>{"hidden"===e?w.value=!1:"visible"===e&&setTimeout((()=>w.value=!0),50)})),(0,s.YP)(c,(e=>{e?setTimeout((()=>w.value=!0),50):w.value=!1})),(0,u.yU7)(m,E),(0,s.bv)((()=>setTimeout((()=>k()),0))),(0,s.ic)((()=>E())),t({scrollToActiveTab:k,removeFocus:O}),(0,s.YP)((()=>e.panes),(()=>o.update()),{flush:"post",deep:!0}),()=>{const t=f.value?[(0,s.Wm)("span",{class:[i.e("nav-prev"),i.is("disabled",!f.value.prev)],onClick:C},[(0,s.Wm)(P.gn,null,{default:()=>[(0,s.Wm)(he.ArrowLeft,null,null)]})]),(0,s.Wm)("span",{class:[i.e("nav-next"),i.is("disabled",!f.value.next)],onClick:S},[(0,s.Wm)(P.gn,null,{default:()=>[(0,s.Wm)(he.ArrowRight,null,null)]})])]:null,o=e.panes.map(((t,o)=>{var a,l,c,u;const d=t.uid,h=t.props.disabled,m=null!=(l=null!=(a=t.props.name)?a:t.index)?l:`${o}`,p=!h&&(t.isClosable||e.editable);t.index=`${o}`;const f=p?(0,s.Wm)(P.gn,{class:"is-icon-close",onClick:e=>n("tabRemove",t,e)},{default:()=>[(0,s.Wm)(he.Close,null,null)]}):null,g=(null==(u=(c=t.slots).label)?void 0:u.call(c))||t.props.label,v=!h&&t.active?0:-1;return(0,s.Wm)("div",{ref:`tab-${d}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",t.active),i.is("disabled",h),i.is("closable",p),i.is("focus",y.value)],id:`tab-${m}`,key:`tab-${d}`,"aria-controls":`pane-${m}`,role:"tab","aria-selected":t.active,tabindex:v,onFocus:()=>M(),onBlur:()=>O(),onClick:e=>{O(),n("tabClick",t,m,e)},onKeydown:e=>{!p||e.code!==no.EVENT_CODE.delete&&e.code!==no.EVENT_CODE.backspace||n("tabRemove",t,e)}},[g,f])}));return(0,s.Wm)("div",{ref:m,class:[i.e("nav-wrap"),i.is("scrollable",!!f.value),i.is(r.props.tabPosition)]},[t,(0,s.Wm)("div",{class:i.e("nav-scroll"),ref:d},[(0,s.Wm)("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:h,style:x.value,role:"tablist",onKeydown:T},[e.type?null:(0,s.Wm)(tL,{ref:p,tabs:[...e.panes]},null),o])])])}}}),aL=(0,d.o8)({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:(0,d.Cq)(Function),default:()=>!0},stretch:Boolean}),sL=e=>(0,c.HD)(e)||(0,h.hj)(e),lL={[m.f_]:e=>sL(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>sL(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>sL(e),tabAdd:()=>!0};var cL=(0,s.aZ)({name:"ElTabs",props:aL,emits:lL,setup(e,{emit:t,slots:n,expose:o}){var r,i;const a=(0,v.s3)("tabs"),{children:c,addChild:u,removeChild:d}=Is((0,s.FN)(),"ElTabPane"),p=(0,l.iH)(),f=(0,l.iH)(null!=(i=null!=(r=e.modelValue)?r:e.activeName)?i:"0"),g=e=>{f.value=e,t(m.f_,e),t("tabChange",e)},y=async t=>{var n,o,r;if(f.value!==t&&!(0,h.o8)(t))try{const i=await(null==(n=e.beforeLeave)?void 0:n.call(e,t,f.value));!1!==i&&(g(t),null==(r=null==(o=p.value)?void 0:o.removeFocus)||r.call(o))}catch(HH){}},b=(e,n,o)=>{e.props.disabled||(y(n),t("tabClick",e,o))},w=(e,n)=>{e.props.disabled||(0,h.o8)(e.props.name)||(n.stopPropagation(),t("edit",e.props.name,"remove"),t("tabRemove",e.props.name))},_=()=>{t("edit",void 0,"add"),t("tabAdd")};return Li({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},(0,s.Fl)((()=>!!e.activeName))),(0,s.YP)((()=>e.activeName),(e=>y(e))),(0,s.YP)((()=>e.modelValue),(e=>y(e))),(0,s.YP)(f,(async()=>{var e;await(0,s.Y3)(),null==(e=p.value)||e.scrollToActiveTab()})),(0,s.JJ)(YN,{props:e,currentName:f,registerPane:u,unregisterPane:d}),o({currentName:f}),()=>{const t=e.editable||e.addable?(0,s.Wm)("span",{class:a.e("new-tab"),tabindex:"0",onClick:_,onKeydown:e=>{e.code===no.EVENT_CODE.enter&&_()}},[(0,s.Wm)(P.gn,{class:a.is("icon-plus")},{default:()=>[(0,s.Wm)(he.Plus,null,null)]})]):null,o=(0,s.Wm)("div",{class:[a.e("header"),a.is(e.tabPosition)]},[t,(0,s.Wm)(iL,{ref:p,currentName:f.value,editable:e.editable,type:e.type,panes:c.value,stretch:e.stretch,onTabClick:b,onTabRemove:w},null)]),r=(0,s.Wm)("div",{class:a.e("content")},[(0,s.WI)(n,"default")]);return(0,s.Wm)("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:"card"===e.type,[a.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[o,r]:[r,o]])}}});const uL=(0,d.o8)({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),dL=["id","aria-hidden","aria-labelledby"],hL="ElTabPane",mL=(0,s.aZ)({name:hL}),pL=(0,s.aZ)({...mL,props:uL,setup(e){const t=e,n=(0,s.FN)(),o=(0,s.Rr)(),r=(0,s.f3)(YN);r||(0,b._)(hL,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=(0,v.s3)("tab-pane"),a=(0,l.iH)(),u=(0,s.Fl)((()=>t.closable||r.props.closable)),d=(0,w.Rc)((()=>{var e;return r.currentName.value===(null!=(e=t.name)?e:a.value)})),h=(0,l.iH)(d.value),m=(0,s.Fl)((()=>{var e;return null!=(e=t.name)?e:a.value})),p=(0,w.Rc)((()=>!t.lazy||h.value||d.value));(0,s.YP)(d,(e=>{e&&(h.value=!0)}));const f=(0,l.qj)({uid:n.uid,slots:o,props:t,paneName:m,active:d,index:a,isClosable:u});return(0,s.bv)((()=>{r.registerPane(f)})),(0,s.Ah)((()=>{r.unregisterPane(f.uid)})),(e,t)=>(0,l.SU)(p)?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,id:`pane-${(0,l.SU)(m)}`,class:(0,c.C_)((0,l.SU)(i).b()),role:"tabpanel","aria-hidden":!(0,l.SU)(d),"aria-labelledby":`tab-${(0,l.SU)(m)}`},[(0,s.WI)(e.$slots,"default")],10,dL)),[[R.F8,(0,l.SU)(d)]]):(0,s.kq)("v-if",!0)}});var fL=(0,g.Z)(pL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const gL=(0,D.nz)(cL,{TabPane:fL}),vL=(0,D.dp)(fL),yL=(0,d.o8)({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:li.k,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),bL=(0,s.aZ)({name:"ElText"}),wL=(0,s.aZ)({...bL,props:yL,setup(e){const t=e,n=(0,Xr.Cd)(),o=(0,v.s3)("text"),r=(0,s.Fl)((()=>[o.b(),o.m(t.type),o.m(n.value),o.is("truncated",t.truncated)]));return(e,t)=>((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tag),{class:(0,c.C_)((0,l.SU)(r))},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["class"]))}});var _L=(0,g.Z)(wL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const xL=(0,D.nz)(_L);function CL(e,t,n,o){var r=e.length,i=n+(o?1:-1);while(o?i--:++i<r)if(t(e[i],i,e))return i;return-1}var SL=CL;function kL(e){return e!==e}var EL=kL;function TL(e,t,n){var o=n-1,r=e.length;while(++o<r)if(e[o]===t)return o;return-1}var ML=TL;function OL(e,t,n){return t===t?ML(e,t,n):SL(e,EL,n)}var DL=OL;function AL(e,t){var n=null==e?0:e.length;return!!n&&DL(e,t,0)>-1}var RL=AL;function PL(e,t,n){var o=-1,r=null==e?0:e.length;while(++o<r)if(n(t,e[o]))return!0;return!1}var IL=PL;function zL(){}var NL=zL,LL=1/0,HL=Ku&&1/vm(new Ku([,-0]))[1]==LL?function(e){return new Ku(e)}:NL,FL=HL,BL=200;function UL(e,t,n){var o=-1,r=RL,i=e.length,a=!0,s=[],l=s;if(n)a=!1,r=IL;else if(i>=BL){var c=t?null:FL(e);if(c)return vm(c);a=!1,r=lm,l=new rm}else l=t?[]:s;e:while(++o<i){var u=e[o],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d===d){var h=l.length;while(h--)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else r(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var VL=UL,jL=fR((function(e){return VL(np(e,1,JA,!0))})),WL=jL;const ZL=(0,d.o8)({...rb,parsedValue:{type:(0,d.Cq)(Array)}}),$L=["disabled"],qL=(0,s.aZ)({__name:"panel-time-range",props:ZL,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,o=(e,t)=>{const n=[];for(let o=e;o<=t;o++)n.push(o);return n},{t:r,lang:i}=(0,Ga.bU)(),a=(0,v.s3)("time"),u=(0,v.s3)("picker"),d=(0,s.f3)("EP_PICKER_BASE"),{arrowControl:h,disabledHours:m,disabledMinutes:p,disabledSeconds:f,defaultValue:g}=d.props,y=(0,s.Fl)((()=>n.parsedValue[0])),b=(0,s.Fl)((()=>n.parsedValue[1])),w=$b(n),_=()=>{t("pick",w.value,!1)},x=(0,s.Fl)((()=>n.format.includes("ss"))),C=(0,s.Fl)((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),S=(e=!1)=>{t("pick",[y.value,b.value],e)},k=e=>{M(e.millisecond(0),b.value)},E=e=>{M(y.value,e.millisecond(0))},T=e=>{const t=e.map((e=>Ra(e).locale(i.value))),n=F(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])},M=(e,n)=>{t("pick",[e,n],!0)},O=(0,s.Fl)((()=>y.value>b.value)),D=(0,l.iH)([0,2]),A=(e,n)=>{t("select-range",e,n,"min"),D.value=[e,n]},R=(0,s.Fl)((()=>x.value?11:8)),P=(e,n)=>{t("select-range",e,n,"max");const o=(0,l.SU)(R);D.value=[e+o,n+o]},I=e=>{const t=x.value?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(x.value?["seconds"]:[]),o=t.indexOf(D.value[0]),r=(o+e+t.length)%t.length,i=t.length/2;r<i?j["start_emitSelectRange"](n[r]):j["end_emitSelectRange"](n[r-i])},z=e=>{const t=e.code,{left:n,right:o,up:r,down:i}=no.EVENT_CODE;if([n,o].includes(t)){const o=t===n?-1:1;return I(o),void e.preventDefault()}if([r,i].includes(t)){const n=t===r?-1:1,o=D.value[0]<R.value?"start":"end";return j[`${o}_scrollDown`](n),void e.preventDefault()}},N=(e,t)=>{const n=m?m(e):[],r="start"===e,i=t||(r?b.value:y.value),a=i.hour(),s=r?o(a+1,23):o(0,a-1);return WL(n,s)},L=(e,t,n)=>{const r=p?p(e,t):[],i="start"===t,a=n||(i?b.value:y.value),s=a.hour();if(e!==s)return r;const l=a.minute(),c=i?o(l+1,59):o(0,l-1);return WL(r,c)},H=(e,t,n,r)=>{const i=f?f(e,t,n):[],a="start"===n,s=r||(a?b.value:y.value),l=s.hour(),c=s.minute();if(e!==l||t!==c)return i;const u=s.second(),d=a?o(u+1,59):o(0,u-1);return WL(i,d)},F=([e,t])=>[W(e,"start",!0,t),W(t,"end",!1,e)],{getAvailableHours:B,getAvailableMinutes:U,getAvailableSeconds:V}=Zb(N,L,H),{timePickerOptions:j,getAvailableTime:W,onSetOption:Z}=Vb({getAvailableHours:B,getAvailableMinutes:U,getAvailableSeconds:V}),$=e=>e?(0,c.kJ)(e)?e.map((e=>Ra(e,n.format).locale(i.value))):Ra(e,n.format).locale(i.value):null,q=e=>e?(0,c.kJ)(e)?e.map((e=>e.format(n.format))):e.format(n.format):null,G=()=>{if((0,c.kJ)(g))return g.map((e=>Ra(e).locale(i.value)));const e=Ra(g).locale(i.value);return[e,e.add(60,"m")]};return t("set-picker-option",["formatToString",q]),t("set-picker-option",["parseUserInput",$]),t("set-picker-option",["isValidValue",T]),t("set-picker-option",["handleKeydownInput",z]),t("set-picker-option",["getDefaultValue",G]),t("set-picker-option",["getRangeAvailableTime",F]),(e,t)=>e.actualVisible?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)([(0,l.SU)(a).b("range-picker"),(0,l.SU)(u).b("panel")])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("range-picker","content"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("range-picker","cell"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("range-picker","header"))},(0,c.zw)((0,l.SU)(r)("el.datepicker.startTime")),3),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(a).be("range-picker","body"),(0,l.SU)(a).be("panel","content"),(0,l.SU)(a).is("arrow",(0,l.SU)(h)),{"has-seconds":(0,l.SU)(x)}])},[(0,s.Wm)(rw,{ref:"minSpinner",role:"start","show-seconds":(0,l.SU)(x),"am-pm-mode":(0,l.SU)(C),"arrow-control":(0,l.SU)(h),"spinner-date":(0,l.SU)(y),"disabled-hours":N,"disabled-minutes":L,"disabled-seconds":H,onChange:k,onSetOption:(0,l.SU)(Z),onSelectRange:A},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("range-picker","cell"))},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("range-picker","header"))},(0,c.zw)((0,l.SU)(r)("el.datepicker.endTime")),3),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(a).be("range-picker","body"),(0,l.SU)(a).be("panel","content"),(0,l.SU)(a).is("arrow",(0,l.SU)(h)),{"has-seconds":(0,l.SU)(x)}])},[(0,s.Wm)(rw,{ref:"maxSpinner",role:"end","show-seconds":(0,l.SU)(x),"am-pm-mode":(0,l.SU)(C),"arrow-control":(0,l.SU)(h),"spinner-date":(0,l.SU)(b),"disabled-hours":N,"disabled-minutes":L,"disabled-seconds":H,onChange:E,onSetOption:(0,l.SU)(Z),onSelectRange:P},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).be("panel","footer"))},[(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(a).be("panel","btn"),"cancel"]),onClick:t[0]||(t[0]=e=>_())},(0,c.zw)((0,l.SU)(r)("el.datepicker.cancel")),3),(0,s._)("button",{type:"button",class:(0,c.C_)([(0,l.SU)(a).be("panel","btn"),"confirm"]),disabled:(0,l.SU)(O),onClick:t[1]||(t[1]=e=>S())},(0,c.zw)((0,l.SU)(r)("el.datepicker.confirm")),11,$L)],2)],2)):(0,s.kq)("v-if",!0)}});var GL=(0,g.Z)(qL,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Ra.extend(Ky);var KL=(0,s.aZ)({name:"ElTimePicker",install:null,props:{...ib,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=(0,l.iH)(),[o,r]=e.isRange?["timerange",GL]:["time",aw],i=e=>t.emit("update:modelValue",e);return(0,s.JJ)("ElPopperOptions",e.popperOptions),t.expose({focus:e=>{var t;null==(t=n.value)||t.handleFocusInput(e)},blur:e=>{var t;null==(t=n.value)||t.handleBlurInput(e)},handleOpen:()=>{var e;null==(e=n.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=n.value)||e.handleClose()}}),()=>{var t;const a=null!=(t=e.format)?t:Gb;return(0,s.Wm)(Bw,(0,s.dG)(e,{ref:n,type:o,format:a,"onUpdate:modelValue":i}),{default:e=>(0,s.Wm)(r,e,null)})}}});const YL=KL;YL.install=e=>{e.component(YL.name,YL)};const JL=YL,XL=(0,d.o8)({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Bi.Pp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:(0,d.Cq)([String,Object]),default:()=>he.Clock},clearIcon:{type:(0,d.Cq)([String,Object]),default:()=>he.CircleClose}}),QL=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const o=Number.parseInt(t[1],10),r=e.toUpperCase();return r.includes("AM")&&12===n?n=0:r.includes("PM")&&12!==n&&(n+=12),{hours:n,minutes:o}}return null},eH=(e,t)=>{const n=QL(e);if(!n)return-1;const o=QL(t);if(!o)return-1;const r=n.minutes+60*n.hours,i=o.minutes+60*o.hours;return r===i?0:r>i?1:-1},tH=e=>`${e}`.padStart(2,"0"),nH=e=>`${tH(e.hours)}:${tH(e.minutes)}`,oH=(e,t)=>{const n=QL(e);if(!n)return"";const o=QL(t);if(!o)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=o.minutes,r.hours+=o.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,nH(r)},rH=(0,s.aZ)({name:"ElTimeSelect"}),iH=(0,s.aZ)({...rH,props:XL,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const n=e;Ra.extend(Ky);const{Option:o}=tT,r=(0,v.s3)("input"),i=(0,l.iH)(),a=(0,Xr.DT)(),u=(0,s.Fl)((()=>n.modelValue)),d=(0,s.Fl)((()=>{const e=QL(n.start);return e?nH(e):null})),h=(0,s.Fl)((()=>{const e=QL(n.end);return e?nH(e):null})),m=(0,s.Fl)((()=>{const e=QL(n.step);return e?nH(e):null})),p=(0,s.Fl)((()=>{const e=QL(n.minTime||"");return e?nH(e):null})),f=(0,s.Fl)((()=>{const e=QL(n.maxTime||"");return e?nH(e):null})),g=(0,s.Fl)((()=>{const e=[];if(n.start&&n.end&&n.step){let t,o=d.value;while(o&&h.value&&eH(o,h.value)<=0)t=Ra(o,"HH:mm").format(n.format),e.push({value:t,disabled:eH(o,p.value||"-1:-1")<=0||eH(o,f.value||"100:100")>=0}),o=oH(o,m.value)}return e})),y=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.blur)||t.call(e)},b=()=>{var e,t;null==(t=null==(e=i.value)?void 0:e.focus)||t.call(e)};return t({blur:y,focus:b}),(e,t)=>((0,s.wg)(),(0,s.j4)((0,l.SU)(tT),{ref_key:"select",ref:i,"model-value":(0,l.SU)(u),disabled:(0,l.SU)(a),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onChange:t[1]||(t[1]=t=>e.$emit("change",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t))},{prefix:(0,s.w5)((()=>[e.prefixIcon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(r).e("prefix-icon"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.prefixIcon)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)])),default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(g),(e=>((0,s.wg)(),(0,s.j4)((0,l.SU)(o),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var aH=(0,g.Z)(iH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);aH.install=e=>{e.component(aH.name,aH)};const sH=aH,lH=sH,cH=(0,s.aZ)({name:"ElTimeline",setup(e,{slots:t}){const n=(0,v.s3)("timeline");return(0,s.JJ)("timeline",t),()=>(0,s.h)("ul",{class:[n.b()]},[(0,s.WI)(t,"default")])}}),uH=(0,d.o8)({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:z.AA},hollow:{type:Boolean,default:!1}}),dH=(0,s.aZ)({name:"ElTimelineItem"}),hH=(0,s.aZ)({...dH,props:uH,setup(e){const t=e,n=(0,v.s3)("timeline-item"),o=(0,s.Fl)((()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]));return(e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,c.C_)([(0,l.SU)(n).b(),{[(0,l.SU)(n).e("center")]:e.center}])},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("tail"))},null,2),e.$slots.dot?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)((0,l.SU)(o)),style:(0,c.j5)({backgroundColor:e.color})},[e.icon?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(n).e("icon"))},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)],6)),e.$slots.dot?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(n).e("dot"))},[(0,s.WI)(e.$slots,"dot")],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("wrapper"))},[e.hideTimestamp||"top"!==e.placement?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)([(0,l.SU)(n).e("timestamp"),(0,l.SU)(n).is("top")])},(0,c.zw)(e.timestamp),3)),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(n).e("content"))},[(0,s.WI)(e.$slots,"default")],2),e.hideTimestamp||"bottom"!==e.placement?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)([(0,l.SU)(n).e("timestamp"),(0,l.SU)(n).is("bottom")])},(0,c.zw)(e.timestamp),3))],2)],2))}});var mH=(0,g.Z)(hH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const pH=(0,D.nz)(cH,{TimelineItem:mH}),fH=(0,D.dp)(mH),gH=(0,d.o8)({nowrap:Boolean});var vH=(e=>(e["top"]="top",e["bottom"]="bottom",e["left"]="left",e["right"]="right",e))(vH||{});const yH=Object.values(vH),bH=(0,d.o8)({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:(0,d.Cq)(Object),default:null}}),wH=(0,d.o8)({side:{type:(0,d.Cq)(String),values:yH,required:!0}}),_H=["absolute","fixed"],xH=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],CH=(0,d.o8)({ariaLabel:String,arrowPadding:{type:(0,d.Cq)(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:(0,d.Cq)(String),values:xH,default:"bottom"},reference:{type:(0,d.Cq)(Object),default:null},offset:{type:Number,default:8},strategy:{type:(0,d.Cq)(String),values:_H,default:"absolute"},showArrow:{type:Boolean,default:!1}}),SH=(0,d.o8)({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:(0,d.Cq)(Function)},"onUpdate:open":{type:(0,d.Cq)(Function)}}),kH={type:(0,d.Cq)(Function)},EH=(0,d.o8)({onBlur:kH,onClick:kH,onFocus:kH,onMouseDown:kH,onMouseEnter:kH,onMouseLeave:kH}),TH=(0,d.o8)({...SH,...bH,...EH,...CH,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:(0,d.Cq)(Object),default:null},teleported:Boolean,to:{type:(0,d.Cq)(String),default:"body"}}),MH=Symbol("tooltipV2"),OH=Symbol("tooltipV2Content"),DH="tooltip_v2.open",AH=(0,s.aZ)({name:"ElTooltipV2Root"}),RH=(0,s.aZ)({...AH,props:SH,setup(e,{expose:t}){const n=e,o=(0,l.iH)(n.defaultOpen),r=(0,l.iH)(null),i=(0,s.Fl)({get:()=>(0,h.Cl)(n.open)?o.value:n.open,set:e=>{var t;o.value=e,null==(t=n["onUpdate:open"])||t.call(n,e)}}),a=(0,s.Fl)((()=>(0,h.hj)(n.delayDuration)&&n.delayDuration>0)),{start:c,stop:u}=(0,w.eM)((()=>{i.value=!0}),(0,s.Fl)((()=>n.delayDuration)),{immediate:!1}),d=(0,v.s3)("tooltip-v2"),m=(0,zo.Me)(),p=()=>{u(),i.value=!0},f=()=>{(0,l.SU)(a)?c():p()},g=p,y=()=>{u(),i.value=!1},b=e=>{var t;e&&(document.dispatchEvent(new CustomEvent(DH)),g()),null==(t=n.onOpenChange)||t.call(n,e)};return(0,s.YP)(i,b),(0,s.bv)((()=>{document.addEventListener(DH,y)})),(0,s.Jd)((()=>{u(),document.removeEventListener(DH,y)})),(0,s.JJ)(MH,{contentId:m,triggerRef:r,ns:d,onClose:y,onDelayOpen:f,onOpen:g}),t({onOpen:g,onClose:y}),(e,t)=>(0,s.WI)(e.$slots,"default",{open:(0,l.SU)(i)})}});var PH=(0,g.Z)(RH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const IH=(0,s.aZ)({name:"ElTooltipV2Arrow"}),zH=(0,s.aZ)({...IH,props:{...bH,...wH},setup(e){const t=e,{ns:n}=(0,s.f3)(MH),{arrowRef:o}=(0,s.f3)(OH),r=(0,s.Fl)((()=>{const{style:e,width:o,height:r}=t,i=n.namespace.value;return{[`--${i}-tooltip-v2-arrow-width`]:`${o}px`,[`--${i}-tooltip-v2-arrow-height`]:`${r}px`,[`--${i}-tooltip-v2-arrow-border-width`]:o/2+"px",[`--${i}-tooltip-v2-arrow-cover-width`]:o/2-1,...e||{}}}));return(e,t)=>((0,s.wg)(),(0,s.iD)("span",{ref_key:"arrowRef",ref:o,style:(0,c.j5)((0,l.SU)(r)),class:(0,c.C_)((0,l.SU)(n).e("arrow"))},null,6))}});var NH=(0,g.Z)(zH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);function LH(e){return e.split("-")[1]}function HH(e){return"y"===e?"height":"width"}function FH(e){return e.split("-")[0]}function BH(e){return["top","bottom"].includes(FH(e))?"x":"y"}function UH(e,t,n){let{reference:o,floating:r}=e;const i=o.x+o.width/2-r.width/2,a=o.y+o.height/2-r.height/2,s=BH(t),l=HH(s),c=o[l]/2-r[l]/2,u="x"===s;let d;switch(FH(t)){case"top":d={x:i,y:o.y-r.height};break;case"bottom":d={x:i,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:a};break;case"left":d={x:o.x-r.width,y:a};break;default:d={x:o.x,y:o.y}}switch(LH(t)){case"start":d[s]-=c*(n&&u?-1:1);break;case"end":d[s]+=c*(n&&u?-1:1)}return d}const VH=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=UH(c,o,l),h=o,m={},p=0;for(let f=0;f<s.length;f++){const{name:n,fn:i}=s[f],{x:g,y:v,data:y,reset:b}=await i({x:u,y:d,initialPlacement:o,placement:h,strategy:r,middlewareData:m,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,m={...m,[n]:{...m[n],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:u,y:d}=UH(c,h,l))),f=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:m}};function jH(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function WH(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const ZH=Math.min,$H=Math.max;function qH(e,t,n){return $H(e,ZH(t,n))}const GH=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:o=0}=e||{},{x:r,y:i,placement:a,rects:s,platform:l,elements:c}=t;if(null==n)return{};const u=jH(o),d={x:r,y:i},h=BH(a),m=HH(h),p=await l.getDimensions(n),f="y"===h,g=f?"top":"left",v=f?"bottom":"right",y=f?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[h]-d[h]-s.floating[m],w=d[h]-s.reference[h],_=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let x=_?_[y]:0;x&&await(null==l.isElement?void 0:l.isElement(_))||(x=c.floating[y]||s.floating[m]);const C=b/2-w/2,S=u[g],k=x-p[m]-u[v],E=x/2-p[m]/2+C,T=qH(S,E,k),M=null!=LH(a)&&E!=T&&s.reference[m]/2-(E<S?u[g]:u[v])-p[m]/2<0;return{[h]:d[h]-(M?E<S?S-E:k-E:0),data:{[h]:T,centerOffset:E-T}}}}),KH=["top","right","bottom","left"];KH.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]);const YH=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:o}=t,r=await async function(e,t){const{placement:n,platform:o,elements:r}=e,i=await(null==o.isRTL?void 0:o.isRTL(r.floating)),a=FH(n),s=LH(n),l="x"===BH(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,d="function"==typeof t?t(e):t;let{mainAxis:h,crossAxis:m,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof p&&(m="end"===s?-1*p:p),l?{x:m*u,y:h*c}:{x:h*c,y:m*u}}(t,e);return{x:n+r.x,y:o+r.y,data:r}}}};function JH(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function XH(e){return JH(e).getComputedStyle(e)}function QH(e){return e instanceof JH(e).Node}function eF(e){return QH(e)?(e.nodeName||"").toLowerCase():""}function tF(e){return e instanceof JH(e).HTMLElement}function nF(e){return e instanceof JH(e).Element}function oF(e){return"undefined"!=typeof ShadowRoot&&(e instanceof JH(e).ShadowRoot||e instanceof ShadowRoot)}function rF(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=XH(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function iF(e){return["table","td","th"].includes(eF(e))}function aF(e){const t=sF(),n=XH(e);return"none"!==n.transform||"none"!==n.perspective||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function sF(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function lF(e){return["html","body","#document"].includes(eF(e))}const cF=Math.min,uF=Math.max,dF=Math.round;function hF(e){const t=XH(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=tF(e),i=r?e.offsetWidth:n,a=r?e.offsetHeight:o,s=dF(n)!==i||dF(o)!==a;return s&&(n=i,o=a),{width:n,height:o,fallback:s}}function mF(e){return nF(e)?e:e.contextElement}const pF={x:1,y:1};function fF(e){const t=mF(e);if(!tF(t))return pF;const n=t.getBoundingClientRect(),{width:o,height:r,fallback:i}=hF(t);let a=(i?dF(n.width):n.width)/o,s=(i?dF(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const gF={x:0,y:0};function vF(e,t,n){var o,r;if(void 0===t&&(t=!0),!sF())return gF;const i=e?JH(e):window;return!n||t&&n!==i?gF:{x:(null==(o=i.visualViewport)?void 0:o.offsetLeft)||0,y:(null==(r=i.visualViewport)?void 0:r.offsetTop)||0}}function yF(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),i=mF(e);let a=pF;t&&(o?nF(o)&&(a=fF(o)):a=fF(e));const s=vF(i,n,o);let l=(r.left+s.x)/a.x,c=(r.top+s.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(i){const e=JH(i),t=o&&nF(o)?JH(o):o;let n=e.frameElement;for(;n&&o&&t!==e;){const e=fF(n),t=n.getBoundingClientRect(),o=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(o.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(o.paddingTop))*e.y,l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=t.x,c+=t.y,n=JH(n).frameElement}}return WH({width:u,height:d,x:l,y:c})}function bF(e){return((QH(e)?e.ownerDocument:e.document)||window.document).documentElement}function wF(e){return nF(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _F(e){return yF(bF(e)).left+wF(e).scrollLeft}function xF(e){if("html"===eF(e))return e;const t=e.assignedSlot||e.parentNode||oF(e)&&e.host||bF(e);return oF(t)?t.host:t}function CF(e){const t=xF(e);return lF(t)?t.ownerDocument.body:tF(t)&&rF(t)?t:CF(t)}function SF(e,t){var n;void 0===t&&(t=[]);const o=CF(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=JH(o);return r?t.concat(i,i.visualViewport||[],rF(o)?o:[]):t.concat(o,SF(o))}function kF(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=JH(e),o=bF(e),r=n.visualViewport;let i=o.clientWidth,a=o.clientHeight,s=0,l=0;if(r){i=r.width,a=r.height;const e=sF();(!e||e&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)o=function(e){const t=bF(e),n=wF(e),o=e.ownerDocument.body,r=uF(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=uF(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+_F(e);const s=-n.scrollTop;return"rtl"===XH(o).direction&&(a+=uF(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:a,y:s}}(bF(e));else if(nF(t))o=function(e,t){const n=yF(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=tF(e)?fF(e):{x:1,y:1};return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:o*i.y}}(t,n);else{const n=vF(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return WH(o)}function EF(e,t){const n=xF(e);return!(n===t||!nF(n)||lF(n))&&("fixed"===XH(n).position||EF(n,t))}function TF(e,t){return tF(e)&&"fixed"!==XH(e).position?t?t(e):e.offsetParent:null}function MF(e,t){const n=JH(e);if(!tF(e))return n;let o=TF(e,t);for(;o&&iF(o)&&"static"===XH(o).position;)o=TF(o,t);return o&&("html"===eF(o)||"body"===eF(o)&&"static"===XH(o).position&&!aF(o))?n:o||function(e){let t=xF(e);for(;tF(t)&&!lF(t);){if(aF(t))return t;t=xF(t)}return null}(e)||n}function OF(e,t,n){const o=tF(t),r=bF(t),i="fixed"===n,a=yF(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(o||!o&&!i)if(("body"!==eF(t)||rF(r))&&(s=wF(t)),tF(t)){const e=yF(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else r&&(l.x=_F(r));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}const DF={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let o=SF(e).filter((e=>nF(e)&&"body"!==eF(e))),r=null;const i="fixed"===XH(e).position;let a=i?xF(e):e;for(;nF(a)&&!lF(a);){const t=XH(a),n=aF(a);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||rF(a)&&!n&&EF(e,a))?o=o.filter((e=>e!==a)):r=t,a=xF(a)}return t.set(e,o),o}(t,this._c):[].concat(n),a=[...i,o],s=a[0],l=a.reduce(((e,n)=>{const o=kF(t,n,r);return e.top=uF(o.top,e.top),e.right=cF(o.right,e.right),e.bottom=cF(o.bottom,e.bottom),e.left=uF(o.left,e.left),e}),kF(t,s,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:o}=e;const r=tF(n),i=bF(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((r||!r&&"fixed"!==o)&&(("body"!==eF(n)||rF(i))&&(a=wF(n)),tF(n))){const e=yF(n);s=fF(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}},isElement:nF,getDimensions:function(e){return hF(e)},getOffsetParent:MF,getDocumentElement:bF,getScale:fF,async getElementRects(e){let{reference:t,floating:n,strategy:o}=e;const r=this.getOffsetParent||MF,i=this.getDimensions;return{reference:OF(t,await r(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===XH(e).direction};const AF=(e,t,n)=>{const o=new Map,r={platform:DF,...n},i={...r.platform,_c:o};return VH(e,t,{...r,platform:i})},RF=((0,d.o8)({}),e=>{if(!w.C5)return;if(!e)return e;const t=(0,u.NXq)(e);return t||((0,l.dq)(e)?t:e)}),PF=({middleware:e,placement:t,strategy:n})=>{const o=(0,l.iH)(),r=(0,l.iH)(),i=(0,l.iH)(),a=(0,l.iH)(),c=(0,l.iH)({}),d={x:i,y:a,placement:t,strategy:n,middlewareData:c},h=async()=>{if(!w.C5)return;const i=RF(o),a=(0,u.NXq)(r);if(!i||!a)return;const s=await AF(i,a,{placement:(0,l.SU)(t),strategy:(0,l.SU)(n),middleware:(0,l.SU)(e)});(0,I.uc)(d).forEach((e=>{d[e].value=s[e]}))};return(0,s.bv)((()=>{(0,s.m0)((()=>{h()}))})),{...d,update:h,referenceRef:o,contentRef:r}},IF=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const o=(0,l.SU)(e);return o?GH({element:o,padding:t}).fn(n):{}}}),zF=(0,d.o8)({style:{type:(0,d.Cq)([String,Object,Array]),default:()=>({})}}),NF=(0,s.aZ)({name:"ElVisuallyHidden"}),LF=(0,s.aZ)({...NF,props:zF,setup(e){const t=e,n=(0,s.Fl)((()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]));return(e,t)=>((0,s.wg)(),(0,s.iD)("span",(0,s.dG)(e.$attrs,{style:(0,l.SU)(n)}),[(0,s.WI)(e.$slots,"default")],16))}});var HF=(0,g.Z)(LF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const FF=["data-side"],BF=(0,s.aZ)({name:"ElTooltipV2Content"}),UF=(0,s.aZ)({...BF,props:{...CH,...gH},setup(e){const t=e,{triggerRef:n,contentId:o}=(0,s.f3)(MH),r=(0,l.iH)(t.placement),i=(0,l.iH)(t.strategy),a=(0,l.iH)(null),{referenceRef:u,contentRef:d,middlewareData:h,x:m,y:p,update:f}=PF({placement:r,strategy:i,middleware:(0,s.Fl)((()=>{const e=[YH(t.offset)];return t.showArrow&&e.push(IF({arrowRef:a})),e}))}),g=(0,Xo.Cn)().nextZIndex(),y=(0,v.s3)("tooltip-v2"),b=(0,s.Fl)((()=>r.value.split("-")[0])),w=(0,s.Fl)((()=>({position:(0,l.SU)(i),top:`${(0,l.SU)(p)||0}px`,left:`${(0,l.SU)(m)||0}px`,zIndex:g}))),_=(0,s.Fl)((()=>{if(!t.showArrow)return{};const{arrow:e}=(0,l.SU)(h);return{[`--${y.namespace.value}-tooltip-v2-arrow-x`]:`${null==e?void 0:e.x}px`||"",[`--${y.namespace.value}-tooltip-v2-arrow-y`]:`${null==e?void 0:e.y}px`||""}})),x=(0,s.Fl)((()=>[y.e("content"),y.is("dark","dark"===t.effect),y.is((0,l.SU)(i)),t.contentClass]));return(0,s.YP)(a,(()=>f())),(0,s.YP)((()=>t.placement),(e=>r.value=e)),(0,s.bv)((()=>{(0,s.YP)((()=>t.reference||n.value),(e=>{u.value=e||void 0}),{immediate:!0})})),(0,s.JJ)(OH,{arrowRef:a}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{ref_key:"contentRef",ref:d,style:(0,c.j5)((0,l.SU)(w)),"data-tooltip-v2-root":""},[e.nowrap?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("div",{key:0,"data-side":(0,l.SU)(b),class:(0,c.C_)((0,l.SU)(x))},[(0,s.WI)(e.$slots,"default",{contentStyle:(0,l.SU)(w),contentClass:(0,l.SU)(x)}),(0,s.Wm)((0,l.SU)(HF),{id:(0,l.SU)(o),role:"tooltip"},{default:(0,s.w5)((()=>[e.ariaLabel?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,c.zw)(e.ariaLabel),1)],64)):(0,s.WI)(e.$slots,"default",{key:1})])),_:3},8,["id"]),(0,s.WI)(e.$slots,"arrow",{style:(0,c.j5)((0,l.SU)(_)),side:(0,l.SU)(b)})],10,FF))],4))}});var VF=(0,g.Z)(UF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const jF=(0,d.o8)({setRef:{type:(0,d.Cq)(Function),required:!0},onlyChild:Boolean});var WF=(0,s.aZ)({props:jF,setup(e,{slots:t}){const n=(0,l.iH)(),o=m_(n,(t=>{t?e.setRef(t.nextElementSibling):e.setRef(null)}));return()=>{var n;const[r]=(null==(n=t.default)?void 0:n.call(t))||[],i=e.onlyChild?As(r.children):r.children;return(0,s.Wm)(s.HY,{ref:o},[i])}}});const ZF=(0,s.aZ)({name:"ElTooltipV2Trigger"}),$F=(0,s.aZ)({...ZF,props:{...gH,...EH},setup(e){const t=e,{onClose:n,onOpen:o,onDelayOpen:r,triggerRef:i,contentId:a}=(0,s.f3)(MH);let c=!1;const u=e=>{i.value=e},d=()=>{c=!1},h=bo(t.onMouseEnter,r),m=bo(t.onMouseLeave,n),p=bo(t.onMouseDown,(()=>{n(),c=!0,document.addEventListener("mouseup",d,{once:!0})})),f=bo(t.onFocus,(()=>{c||o()})),g=bo(t.onBlur,n),v=bo(t.onClick,(e=>{0===e.detail&&n()})),y={blur:g,click:v,focus:f,mousedown:p,mouseenter:h,mouseleave:m},b=(e,t,n)=>{e&&Object.entries(t).forEach((([t,o])=>{e[n](t,o)}))};return(0,s.YP)(i,((e,t)=>{b(e,y,"addEventListener"),b(t,y,"removeEventListener"),e&&e.setAttribute("aria-describedby",a.value)})),(0,s.Jd)((()=>{b(i.value,y,"removeEventListener"),document.removeEventListener("mouseup",d)})),(e,t)=>e.nowrap?((0,s.wg)(),(0,s.j4)((0,l.SU)(WF),{key:0,"set-ref":u,"only-child":""},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3})):((0,s.wg)(),(0,s.iD)("button",(0,s.dG)({key:1,ref_key:"triggerRef",ref:i},e.$attrs),[(0,s.WI)(e.$slots,"default")],16))}});var qF=(0,g.Z)($F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const GF=(0,s.aZ)({name:"ElTooltipV2"}),KF=(0,s.aZ)({...GF,props:TH,setup(e){const t=e,n=(0,l.BK)(t),o=(0,l.qj)(df(n,Object.keys(bH))),r=(0,l.qj)(df(n,Object.keys(CH))),i=(0,l.qj)(df(n,Object.keys(SH))),a=(0,l.qj)(df(n,Object.keys(EH)));return(e,t)=>((0,s.wg)(),(0,s.j4)(PH,(0,c.vs)((0,s.F4)(i)),{default:(0,s.w5)((({open:t})=>[(0,s.Wm)(qF,(0,s.dG)(a,{nowrap:""}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"trigger")])),_:3},16),((0,s.wg)(),(0,s.j4)(s.lR,{to:e.to,disabled:!e.teleported},[e.fullTransition?((0,s.wg)(),(0,s.j4)(R.uT,(0,c.vs)((0,s.dG)({key:0},e.transitionProps)),{default:(0,s.w5)((()=>[e.alwaysOn||t?((0,s.wg)(),(0,s.j4)(VF,(0,c.vs)((0,s.dG)({key:0},r)),{arrow:(0,s.w5)((({style:t,side:n})=>[e.showArrow?((0,s.wg)(),(0,s.j4)(NH,(0,s.dG)({key:0},o,{style:t,side:n}),null,16,["style","side"])):(0,s.kq)("v-if",!0)])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)):(0,s.kq)("v-if",!0)])),_:2},1040)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[e.alwaysOn||t?((0,s.wg)(),(0,s.j4)(VF,(0,c.vs)((0,s.dG)({key:0},r)),{arrow:(0,s.w5)((({style:t,side:n})=>[e.showArrow?((0,s.wg)(),(0,s.j4)(NH,(0,s.dG)({key:0},o,{style:t,side:n}),null,16,["style","side"])):(0,s.kq)("v-if",!0)])),default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},16)):(0,s.kq)("v-if",!0)],64))],8,["to","disabled"]))])),_:3},16))}});var YF=(0,g.Z)(KF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const JF=(0,D.nz)(YF),XF="left-check-change",QF="right-check-change",eB=(0,d.o8)({data:{type:(0,d.Cq)(Array),default:()=>[]},titles:{type:(0,d.Cq)(Array),default:()=>[]},buttonTexts:{type:(0,d.Cq)(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:(0,d.Cq)(Function)},leftDefaultChecked:{type:(0,d.Cq)(Array),default:()=>[]},rightDefaultChecked:{type:(0,d.Cq)(Array),default:()=>[]},renderContent:{type:(0,d.Cq)(Function)},modelValue:{type:(0,d.Cq)(Array),default:()=>[]},format:{type:(0,d.Cq)(Object),default:()=>({})},filterable:Boolean,props:{type:(0,d.Cq)(Object),default:()=>(0,tv.N)({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),tB=(e,t)=>[e,t].every(c.kJ)||(0,c.kJ)(e)&&(0,_o.Z)(t),nB={[m.O7]:(e,t,n)=>[e,n].every(c.kJ)&&["left","right"].includes(t),[m.f_]:e=>(0,c.kJ)(e),[XF]:tB,[QF]:tB},oB="checked-change",rB=(0,d.o8)({data:eB.data,optionRender:{type:(0,d.Cq)(Function)},placeholder:String,title:String,filterable:Boolean,format:eB.format,filterMethod:eB.filterMethod,defaultChecked:eB.leftDefaultChecked,props:eB.props}),iB={[oB]:tB},aB=e=>{const t={label:"label",key:"key",disabled:"disabled"};return(0,s.Fl)((()=>({...t,...e.props})))},sB=(e,t,n)=>{const o=aB(e),r=(0,s.Fl)((()=>e.data.filter((n=>{if((0,c.mf)(e.filterMethod))return e.filterMethod(t.query,n);{const e=String(n[o.value.label]||n[o.value.key]);return e.toLowerCase().includes(t.query.toLowerCase())}})))),i=(0,s.Fl)((()=>r.value.filter((e=>!e[o.value.disabled])))),a=(0,s.Fl)((()=>{const n=t.checked.length,o=e.data.length,{noChecked:r,hasChecked:i}=e.format;return r&&i?n>0?i.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,o.toString()):r.replace(/\${total}/g,o.toString()):`${n}/${o}`})),l=(0,s.Fl)((()=>{const e=t.checked.length;return e>0&&e<i.value.length})),u=()=>{const e=i.value.map((e=>e[o.value.key]));t.allChecked=e.length>0&&e.every((e=>t.checked.includes(e)))},d=e=>{t.checked=e?i.value.map((e=>e[o.value.key])):[]};return(0,s.YP)((()=>t.checked),((e,o)=>{if(u(),t.checkChangeByUser){const t=e.concat(o).filter((t=>!e.includes(t)||!o.includes(t)));n(oB,e,t)}else n(oB,e),t.checkChangeByUser=!0})),(0,s.YP)(i,(()=>{u()})),(0,s.YP)((()=>e.data),(()=>{const e=[],n=r.value.map((e=>e[o.value.key]));t.checked.forEach((t=>{n.includes(t)&&e.push(t)})),t.checkChangeByUser=!1,t.checked=e})),(0,s.YP)((()=>e.defaultChecked),((e,n)=>{if(n&&e.length===n.length&&e.every((e=>n.includes(e))))return;const r=[],a=i.value.map((e=>e[o.value.key]));e.forEach((e=>{a.includes(e)&&r.push(e)})),t.checkChangeByUser=!1,t.checked=r}),{immediate:!0}),{filteredData:r,checkableData:i,checkedSummary:a,isIndeterminate:l,updateAllChecked:u,handleAllCheckedChange:d}},lB=(0,s.aZ)({name:"ElTransferPanel"}),cB=(0,s.aZ)({...lB,props:rB,emits:iB,setup(e,{expose:t,emit:n}){const o=e,r=(0,s.Rr)(),i=({option:e})=>e,{t:a}=(0,Ga.bU)(),u=(0,v.s3)("transfer"),d=(0,l.qj)({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),m=aB(o),{filteredData:p,checkedSummary:f,isIndeterminate:g,handleAllCheckedChange:y}=sB(o,d,n),b=(0,s.Fl)((()=>!(0,h.xb)(d.query)&&(0,h.xb)(p.value))),w=(0,s.Fl)((()=>!(0,h.xb)(r.default()[0].children))),{checked:_,allChecked:x,query:C}=(0,l.BK)(d);return t({query:C}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(u).b("panel"))},[(0,s._)("p",{class:(0,c.C_)((0,l.SU)(u).be("panel","header"))},[(0,s.Wm)((0,l.SU)(vf),{modelValue:(0,l.SU)(x),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.dq)(x)?x.value=e:null),indeterminate:(0,l.SU)(g),"validate-event":!1,onChange:(0,l.SU)(y)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.title)+" ",1),(0,s._)("span",null,(0,c.zw)((0,l.SU)(f)),1)])),_:1},8,["modelValue","indeterminate","onChange"])],2),(0,s._)("div",{class:(0,c.C_)([(0,l.SU)(u).be("panel","body"),(0,l.SU)(u).is("with-footer",(0,l.SU)(w))])},[e.filterable?((0,s.wg)(),(0,s.j4)((0,l.SU)(me.EZ),{key:0,modelValue:(0,l.SU)(C),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,l.dq)(C)?C.value=e:null),class:(0,c.C_)((0,l.SU)(u).be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":(0,l.SU)(he.Search),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):(0,s.kq)("v-if",!0),(0,s.wy)((0,s.Wm)((0,l.SU)(bf),{modelValue:(0,l.SU)(_),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,l.dq)(_)?_.value=e:null),"validate-event":!1,class:(0,c.C_)([(0,l.SU)(u).is("filterable",e.filterable),(0,l.SU)(u).be("panel","list")])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(p),(t=>((0,s.wg)(),(0,s.j4)((0,l.SU)(vf),{key:t[(0,l.SU)(m).key],class:(0,c.C_)((0,l.SU)(u).be("panel","item")),label:t[(0,l.SU)(m).key],disabled:t[(0,l.SU)(m).disabled],"validate-event":!1},{default:(0,s.w5)((()=>{var n;return[(0,s.Wm)(i,{option:null==(n=e.optionRender)?void 0:n.call(e,t)},null,8,["option"])]})),_:2},1032,["class","label","disabled"])))),128))])),_:1},8,["modelValue","class"]),[[R.F8,!(0,l.SU)(b)&&!(0,l.SU)(h.xb)(e.data)]]),(0,s.wy)((0,s._)("p",{class:(0,c.C_)((0,l.SU)(u).be("panel","empty"))},(0,c.zw)((0,l.SU)(b)?(0,l.SU)(a)("el.transfer.noMatch"):(0,l.SU)(a)("el.transfer.noData")),3),[[R.F8,(0,l.SU)(b)||(0,l.SU)(h.xb)(e.data)]])],2),(0,l.SU)(w)?((0,s.wg)(),(0,s.iD)("p",{key:0,class:(0,c.C_)((0,l.SU)(u).be("panel","footer"))},[(0,s.WI)(e.$slots,"default")],2)):(0,s.kq)("v-if",!0)],2))}});var uB=(0,g.Z)(cB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const dB=e=>{const t=aB(e),n=(0,s.Fl)((()=>e.data.reduce(((e,n)=>(e[n[t.value.key]]=n)&&e),{}))),o=(0,s.Fl)((()=>e.data.filter((n=>!e.modelValue.includes(n[t.value.key]))))),r=(0,s.Fl)((()=>"original"===e.targetOrder?e.data.filter((n=>e.modelValue.includes(n[t.value.key]))):e.modelValue.reduce(((e,t)=>{const o=n.value[t];return o&&e.push(o),e}),[])));return{sourceData:o,targetData:r}},hB=(e,t)=>{const n=(n,o)=>{e.leftChecked=n,o&&t(XF,n,o)},o=(n,o)=>{e.rightChecked=n,o&&t(QF,n,o)};return{onSourceCheckedChange:n,onTargetCheckedChange:o}},mB=(e,t,n)=>{const o=aB(e),r=(e,t,o)=>{n(m.f_,e),n(m.O7,e,t,o)},i=()=>{const n=e.modelValue.slice();t.rightChecked.forEach((e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})),r(n,"left",t.rightChecked)},a=()=>{let n=e.modelValue.slice();const i=e.data.filter((n=>{const r=n[o.value.key];return t.leftChecked.includes(r)&&!e.modelValue.includes(r)})).map((e=>e[o.value.key]));n="unshift"===e.targetOrder?i.concat(n):n.concat(i),"original"===e.targetOrder&&(n=e.data.filter((e=>n.includes(e[o.value.key]))).map((e=>e[o.value.key]))),r(n,"right",t.leftChecked)};return{addToLeft:i,addToRight:a}},pB={key:0},fB={key:0},gB=(0,s.aZ)({name:"ElTransfer"}),vB=(0,s.aZ)({...gB,props:eB,emits:nB,setup(e,{expose:t,emit:n}){const o=e,r=(0,s.Rr)(),{t:i}=(0,Ga.bU)(),a=(0,v.s3)("transfer"),{formItem:u}=(0,Hi.A)(),d=(0,l.qj)({leftChecked:[],rightChecked:[]}),m=aB(o),{sourceData:p,targetData:f}=dB(o),{onSourceCheckedChange:g,onTargetCheckedChange:y}=hB(d,n),{addToLeft:w,addToRight:_}=mB(o,d,n),x=(0,l.iH)(),C=(0,l.iH)(),S=e=>{switch(e){case"left":x.value.query="";break;case"right":C.value.query="";break}},k=(0,s.Fl)((()=>2===o.buttonTexts.length)),E=(0,s.Fl)((()=>o.titles[0]||i("el.transfer.titles.0"))),T=(0,s.Fl)((()=>o.titles[1]||i("el.transfer.titles.1"))),M=(0,s.Fl)((()=>o.filterPlaceholder||i("el.transfer.filterPlaceholder")));(0,s.YP)((()=>o.modelValue),(()=>{var e;o.validateEvent&&(null==(e=null==u?void 0:u.validate)||e.call(u,"change").catch((e=>(0,b.N)(e))))}));const O=(0,s.Fl)((()=>e=>o.renderContent?o.renderContent(s.h,e):r.default?r.default({option:e}):(0,s.h)("span",e[m.value.label]||e[m.value.key])));return t({clearQuery:S,leftPanel:x,rightPanel:C}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)((0,l.SU)(a).b())},[(0,s.Wm)(uB,{ref_key:"leftPanel",ref:x,data:(0,l.SU)(p),"option-render":(0,l.SU)(O),placeholder:(0,l.SU)(M),title:(0,l.SU)(E),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:o.props,onCheckedChange:(0,l.SU)(g)},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"left-footer")])),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(a).e("buttons"))},[(0,s.Wm)((0,l.SU)(Da),{type:"primary",class:(0,c.C_)([(0,l.SU)(a).e("button"),(0,l.SU)(a).is("with-texts",(0,l.SU)(k))]),disabled:(0,l.SU)(h.xb)(d.rightChecked),onClick:(0,l.SU)(w)},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowLeft))])),_:1}),(0,l.SU)(h.o8)(e.buttonTexts[0])?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",pB,(0,c.zw)(e.buttonTexts[0]),1))])),_:1},8,["class","disabled","onClick"]),(0,s.Wm)((0,l.SU)(Da),{type:"primary",class:(0,c.C_)([(0,l.SU)(a).e("button"),(0,l.SU)(a).is("with-texts",(0,l.SU)(k))]),disabled:(0,l.SU)(h.xb)(d.leftChecked),onClick:(0,l.SU)(_)},{default:(0,s.w5)((()=>[(0,l.SU)(h.o8)(e.buttonTexts[1])?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",fB,(0,c.zw)(e.buttonTexts[1]),1)),(0,s.Wm)((0,l.SU)(P.gn),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ArrowRight))])),_:1})])),_:1},8,["class","disabled","onClick"])],2),(0,s.Wm)(uB,{ref_key:"rightPanel",ref:C,data:(0,l.SU)(f),"option-render":(0,l.SU)(O),placeholder:(0,l.SU)(M),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:(0,l.SU)(T),"default-checked":e.rightDefaultChecked,props:o.props,onCheckedChange:(0,l.SU)(y)},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"right-footer")])),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var yB=(0,g.Z)(vB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const bB=(0,D.nz)(yB),wB="$treeNodeId",_B=function(e,t){t&&!t[wB]&&Object.defineProperty(t,wB,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},xB=function(e,t){return e?t[e]:t[wB]},CB=(e,t,n)=>{const o=e.value.currentNode;n();const r=e.value.currentNode;o!==r&&t("current-change",r?r.data:null,r)},SB=e=>{let t=!0,n=!0,o=!0;for(let r=0,i=e.length;r<i;r++){const i=e[r];(!0!==i.checked||i.indeterminate)&&(t=!1,i.disabled||(o=!1)),(!1!==i.checked||i.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:o,half:!t&&!n}},kB=function(e){if(0===e.childNodes.length||e.loading)return;const{all:t,none:n,half:o}=SB(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const r=e.parent;r&&0!==r.level&&(e.store.checkStrictly||kB(r))},EB=function(e,t){const n=e.store.props,o=e.data||{},r=n[t];if("function"===typeof r)return r(o,e);if("string"===typeof r)return o[r];if("undefined"===typeof r){const e=o[t];return void 0===e?"":e}};let TB=0;class MB{constructor(e){this.id=TB++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)(0,c.RI)(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&"undefined"!==typeof t.isLeaf){const e=EB(this,"isLeaf");"boolean"===typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||_B(this,this.data),!this.data)return;const n=e.defaultExpandedKeys,o=e.key;o&&n&&n.includes(this.key)&&this.expand(null,e.autoExpandParent),o&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||_B(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:EB(this,"children")||[];for(let n=0,o=t.length;n<o;n++)this.insertChild({data:t[n]})}get label(){return EB(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return EB(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((n=>n===e||t&&n.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,n){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof MB)){if(!n){const n=this.getChildren(!0);n.includes(e.data)||("undefined"===typeof t||t<0?n.push(e.data):n.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=(0,l.qj)(new MB(e)),e instanceof MB&&e.initialize()}e.level=this.level+1,"undefined"===typeof t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}removeChild(e){const t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);const o=this.childNodes.indexOf(e);o>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}expand(e,t){const n=()=>{if(t){let e=this.parent;while(e.level>0)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||kB(this),n())})):n()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&"undefined"!==typeof this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,n,o){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:n,allWithoutDisable:r}=SB(this.childNodes);this.isLeaf||n||!r||(this.checked=!1,e=!1);const i=()=>{if(t){const n=this.childNodes;for(let a=0,s=n.length;a<s;a++){const r=n[a];o=o||!1!==e;const i=r.disabled?r.checked:o;r.setChecked(i,t,!0,o)}const{half:r,all:i}=SB(n);i||(this.checked=i,this.indeterminate=r)}};if(this.shouldLoadData())return void this.loadData((()=>{i(),kB(this)}),{checked:!1!==e});i()}const r=this.parent;r&&0!==r.level&&(n||kB(r))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const n=this.store.props;let o="children";return n&&(o=n.children||"children"),void 0===t[o]&&(t[o]=null),e&&!t[o]&&(t[o]=[]),t[o]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),n={},o=[];e.forEach(((e,r)=>{const i=e[wB],a=!!i&&t.findIndex((e=>e[wB]===i))>=0;a?n[i]={index:r,data:e}:o.push({index:r,data:e})})),this.store.lazy||t.forEach((e=>{n[e[wB]]||this.removeChildByData(e)})),o.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const n=n=>{this.childNodes=[],this.doCreateChildren(n,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,n)};this.store.load(this,n)}}}class OB{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)(0,c.RI)(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new MB({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,n=this.lazy,o=function(r){const i=r.root?r.root.childNodes:r.childNodes;if(i.forEach((n=>{n.visible=t.call(n,e,n.data,n),o(n)})),!r.visible&&i.length){let e=!0;e=!i.some((e=>e.visible)),r.root?r.root.visible=!1===e:r.visible=!1===e}e&&(!r.visible||r.isLeaf||n||r.expand())};o(this)}setData(e){const t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof MB)return e;const t=(0,c.Kn)(e)?xB(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const n=this.getNode(t);n.parent.insertBefore({data:e},n)}insertAfter(e,t){const n=this.getNode(t);n.parent.insertAfter({data:e},n)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const n=t[e];n&&n.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){const t=this.defaultCheckedKeys||[];t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){const t=e.key;void 0!==t&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){const t=this.key;t&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const n=[],o=function(r){const i=r.root?r.root.childNodes:r.childNodes;i.forEach((r=>{(r.checked||t&&r.indeterminate)&&(!e||e&&r.isLeaf)&&n.push(r.data),o(r)}))};return o(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(n){const o=n.root?n.root.childNodes:n.childNodes;o.forEach((n=>{n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const n in t)(0,c.RI)(t,n)&&e.push(t[n]);return e}updateChildren(e,t){const n=this.nodesMap[e];if(!n)return;const o=n.childNodes;for(let r=o.length-1;r>=0;r--){const e=o[r];this.remove(e.data)}for(let r=0,i=t.length;r<i;r++){const e=t[r];this.append(e,n.data)}}_setCheckedKeys(e,t=!1,n){const o=this._getAllNodes().sort(((e,t)=>t.level-e.level)),r=Object.create(null),i=Object.keys(n);o.forEach((e=>e.setChecked(!1,!1)));for(let a=0,s=o.length;a<s;a++){const n=o[a],s=n.data[e].toString(),l=i.includes(s);if(!l){n.checked&&!r[s]&&n.setChecked(!1,!1);continue}let c=n.parent;while(c&&c.level>0)r[c.data[e]]=!0,c=c.parent;if(n.isLeaf||this.checkStrictly)n.setChecked(!0,!1);else if(n.setChecked(!0,!0),t){n.setChecked(!1,!1);const e=function(t){const n=t.childNodes;n.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(n)}}}setCheckedNodes(e,t=!1){const n=this.key,o={};e.forEach((e=>{o[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,o)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const n=this.key,o={};e.forEach((e=>{o[e]=!0})),this._setCheckedKeys(n,t,o)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,n){const o=this.getNode(e);o&&o.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const n=e[this.key],o=this.nodesMap[n];this.setCurrentNode(o),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const n=this.getNode(e);n&&(this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const DB=(0,s.aZ)({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=(0,v.s3)("tree"),n=(0,s.f3)("NodeInstance"),o=(0,s.f3)("RootTree");return()=>{const r=e.node,{data:i,store:a}=r;return e.renderContent?e.renderContent(s.h,{_self:n,node:r,data:i,store:a}):o.ctx.slots.default?o.ctx.slots.default({node:r,data:i}):(0,s.h)("span",{class:t.be("node","label")},[r.label])}}});var AB=(0,g.Z)(DB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function RB(e){const t=(0,s.f3)("TreeNodeMap",null),n={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(n),(0,s.JJ)("TreeNodeMap",n),{broadcastExpanded:t=>{if(e.accordion)for(const e of n.children)e.treeNodeExpand(t)}}}const PB=Symbol("dragEvents");function IB({props:e,ctx:t,el$:n,dropIndicator$:o,store:r}){const i=(0,v.s3)("tree"),a=(0,l.iH)({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null}),c=({event:n,treeNode:o})=>{if("function"===typeof e.allowDrag&&!e.allowDrag(o.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(HH){}a.value.draggingNode=o,t.emit("node-drag-start",o.node,n)},u=({event:r,treeNode:s})=>{const l=s,c=a.value.dropNode;c&&c.node.id!==l.node.id&&(0,y.IV)(c.$el,i.is("drop-inner"));const u=a.value.draggingNode;if(!u||!l)return;let d=!0,h=!0,m=!0,p=!0;"function"===typeof e.allowDrop&&(d=e.allowDrop(u.node,l.node,"prev"),p=h=e.allowDrop(u.node,l.node,"inner"),m=e.allowDrop(u.node,l.node,"next")),r.dataTransfer.dropEffect=h||d||m?"move":"none",(d||h||m)&&(null==c?void 0:c.node.id)!==l.node.id&&(c&&t.emit("node-drag-leave",u.node,c.node,r),t.emit("node-drag-enter",u.node,l.node,r)),(d||h||m)&&(a.value.dropNode=l),l.node.nextSibling===u.node&&(m=!1),l.node.previousSibling===u.node&&(d=!1),l.node.contains(u.node,!1)&&(h=!1),(u.node===l.node||u.node.contains(l.node))&&(d=!1,h=!1,m=!1);const f=l.$el.getBoundingClientRect(),g=n.value.getBoundingClientRect();let v;const b=d?h?.25:m?.45:1:-1,w=m?h?.75:d?.55:0:1;let _=-9999;const x=r.clientY-f.top;v=x<f.height*b?"before":x>f.height*w?"after":h?"inner":"none";const C=l.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),S=o.value;"before"===v?_=C.top-g.top:"after"===v&&(_=C.bottom-g.top),S.style.top=`${_}px`,S.style.left=C.right-g.left+"px","inner"===v?(0,y.cn)(l.$el,i.is("drop-inner")):(0,y.IV)(l.$el,i.is("drop-inner")),a.value.showDropIndicator="before"===v||"after"===v,a.value.allowDrop=a.value.showDropIndicator||p,a.value.dropType=v,t.emit("node-drag-over",u.node,l.node,r)},d=e=>{const{draggingNode:n,dropType:o,dropNode:s}=a.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",n&&s){const a={data:n.node.data};"none"!==o&&n.node.remove(),"before"===o?s.node.parent.insertBefore(a,s.node):"after"===o?s.node.parent.insertAfter(a,s.node):"inner"===o&&s.node.insertChild(a),"none"!==o&&r.value.registerNode(a),(0,y.IV)(s.$el,i.is("drop-inner")),t.emit("node-drag-end",n.node,s.node,o,e),"none"!==o&&t.emit("node-drop",n.node,s.node,o,e)}n&&!s&&t.emit("node-drag-end",n.node,null,o,e),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0};return(0,s.JJ)(PB,{treeNodeDragStart:c,treeNodeDragOver:u,treeNodeDragEnd:d}),{dragState:a}}const zB=(0,s.aZ)({name:"ElTreeNode",components:{ElCollapseTransition:xv,ElCheckbox:vf,NodeContent:AB,ElIcon:P.gn,Loading:he.Loading},props:{node:{type:MB,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=(0,v.s3)("tree"),{broadcastExpanded:o}=RB(e),r=(0,s.f3)("RootTree"),i=(0,l.iH)(!1),a=(0,l.iH)(!1),u=(0,l.iH)(null),d=(0,l.iH)(null),h=(0,l.iH)(null),m=(0,s.f3)(PB),p=(0,s.FN)();(0,s.JJ)("NodeInstance",p),r||(0,b.N)("Tree","Can not find node's tree."),e.node.expanded&&(i.value=!0,a.value=!0);const f=r.props["children"]||"children";(0,s.YP)((()=>{const t=e.node.data[f];return t&&[...t]}),(()=>{e.node.updateChildren()})),(0,s.YP)((()=>e.node.indeterminate),(t=>{w(e.node.checked,t)})),(0,s.YP)((()=>e.node.checked),(t=>{w(t,e.node.indeterminate)})),(0,s.YP)((()=>e.node.expanded),(e=>{(0,s.Y3)((()=>i.value=e)),e&&(a.value=!0)}));const g=e=>xB(r.props.nodeKey,e.data),y=t=>{const n=e.props.class;if(!n)return{};let o;if((0,c.mf)(n)){const{data:e}=t;o=n(e,t)}else o=n;return(0,c.HD)(o)?{[o]:!0}:o},w=(t,n)=>{u.value===t&&d.value===n||r.ctx.emit("check-change",e.node.data,t,n),u.value=t,d.value=n},_=t=>{CB(r.store,r.ctx.emit,(()=>r.store.value.setCurrentNode(e.node))),r.currentNode.value=e.node,r.props.expandOnClickNode&&C(),r.props.checkOnClickNode&&!e.node.disabled&&S(null,{target:{checked:!e.node.checked}}),r.ctx.emit("node-click",e.node.data,e.node,p,t)},x=t=>{r.instance.vnode.props["onNodeContextmenu"]&&(t.stopPropagation(),t.preventDefault()),r.ctx.emit("node-contextmenu",t,e.node.data,e.node,p)},C=()=>{e.node.isLeaf||(i.value?(r.ctx.emit("node-collapse",e.node.data,e.node,p),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,p)))},S=(t,n)=>{e.node.setChecked(n.target.checked,!r.props.checkStrictly),(0,s.Y3)((()=>{const t=r.store.value;r.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))},k=(e,t,n)=>{o(t),r.ctx.emit("node-expand",e,t,n)},E=t=>{r.props.draggable&&m.treeNodeDragStart({event:t,treeNode:e})},T=t=>{t.preventDefault(),r.props.draggable&&m.treeNodeDragOver({event:t,treeNode:{$el:h.value,node:e.node}})},M=e=>{e.preventDefault()},O=e=>{r.props.draggable&&m.treeNodeDragEnd(e)};return{ns:n,node$:h,tree:r,expanded:i,childNodeRendered:a,oldChecked:u,oldIndeterminate:d,getNodeKey:g,getNodeClass:y,handleSelectChange:w,handleClick:_,handleContextMenu:x,handleExpandIconClick:C,handleCheckChange:S,handleChildNodeExpand:k,handleDragStart:E,handleDragOver:T,handleDrop:M,handleDragEnd:O,CaretRight:he.CaretRight}}}),NB=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],LB=["aria-expanded"];function HB(e,t,n,o,r,i){const a=(0,s.up)("el-icon"),l=(0,s.up)("el-checkbox"),u=(0,s.up)("loading"),d=(0,s.up)("node-content"),h=(0,s.up)("el-tree-node"),m=(0,s.up)("el-collapse-transition");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{ref:"node$",class:(0,c.C_)([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=(0,R.iM)(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=(0,R.iM)(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=(0,R.iM)(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=(0,R.iM)(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=(0,R.iM)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[(0,s._)("div",{class:(0,c.C_)(e.ns.be("node","content")),style:(0,c.j5)({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?((0,s.wg)(),(0,s.j4)(a,{key:0,class:(0,c.C_)([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:(0,R.iM)(e.handleExpandIconClick,["stop"])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0),e.showCheckbox?((0,s.wg)(),(0,s.j4)(l,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=(0,R.iM)((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):(0,s.kq)("v-if",!0),e.node.loading?((0,s.wg)(),(0,s.j4)(a,{key:2,class:(0,c.C_)([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:(0,s.w5)((()=>[(0,s.Wm)(u)])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s.Wm)(d,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[!e.renderAfterExpand||e.childNodeRendered?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.node.childNodes,(t=>((0,s.wg)(),(0,s.j4)(h,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,LB)),[[R.F8,e.expanded]]):(0,s.kq)("v-if",!0)])),_:1})],42,NB)),[[R.F8,e.node.visible]])}var FB=(0,g.Z)(zB,[["render",HB],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function BB({el$:e},t){const n=(0,v.s3)("tree"),o=(0,l.XI)([]),r=(0,l.XI)([]);(0,s.bv)((()=>{a()})),(0,s.ic)((()=>{o.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),(0,s.YP)(r,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const i=r=>{const i=r.target;if(!i.className.includes(n.b("node")))return;const a=r.code;o.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const s=o.value.indexOf(i);let l;if([no.EVENT_CODE.up,no.EVENT_CODE.down].includes(a)){if(r.preventDefault(),a===no.EVENT_CODE.up){l=-1===s?0:0!==s?s-1:o.value.length-1;const e=l;while(1){if(t.value.getNode(o.value[l].dataset.key).canFocus)break;if(l--,l===e){l=-1;break}l<0&&(l=o.value.length-1)}}else{l=-1===s?0:s<o.value.length-1?s+1:0;const e=l;while(1){if(t.value.getNode(o.value[l].dataset.key).canFocus)break;if(l++,l===e){l=-1;break}l>=o.value.length&&(l=0)}}-1!==l&&o.value[l].focus()}[no.EVENT_CODE.left,no.EVENT_CODE.right].includes(a)&&(r.preventDefault(),i.click());const c=i.querySelector('[type="checkbox"]');[no.EVENT_CODE.enter,no.EVENT_CODE.space].includes(a)&&c&&(r.preventDefault(),c.click())};(0,u.ORN)(e,"keydown",i);const a=()=>{var t;o.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const i=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);i.length?i[0].setAttribute("tabindex","0"):null==(t=o.value[0])||t.setAttribute("tabindex","0")}}const UB=(0,s.aZ)({name:"ElTree",components:{ElTreeNode:FB},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:z.AA}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=(0,Ga.bU)(),o=(0,v.s3)("tree"),r=(0,l.iH)(new OB({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));r.value.initialize();const i=(0,l.iH)(r.value.root),a=(0,l.iH)(null),c=(0,l.iH)(null),u=(0,l.iH)(null),{broadcastExpanded:d}=RB(e),{dragState:h}=IB({props:e,ctx:t,el$:c,dropIndicator$:u,store:r});BB({el$:c},r);const m=(0,s.Fl)((()=>{const{childNodes:e}=i.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));(0,s.YP)((()=>e.currentNodeKey),(e=>{r.value.setCurrentNodeKey(e)})),(0,s.YP)((()=>e.defaultCheckedKeys),(e=>{r.value.setDefaultCheckedKey(e)})),(0,s.YP)((()=>e.defaultExpandedKeys),(e=>{r.value.setDefaultExpandedKeys(e)})),(0,s.YP)((()=>e.data),(e=>{r.value.setData(e)}),{deep:!0}),(0,s.YP)((()=>e.checkStrictly),(e=>{r.value.checkStrictly=e}));const p=t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(t)},f=t=>xB(e.nodeKey,t.data),g=t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const n=r.value.getNode(t);if(!n)return[];const o=[n.data];let a=n.parent;while(a&&a!==i.value)o.push(a.data),a=a.parent;return o.reverse()},y=(e,t)=>r.value.getCheckedNodes(e,t),b=e=>r.value.getCheckedKeys(e),w=()=>{const e=r.value.getCurrentNode();return e?e.data:null},_=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=w();return t?t[e.nodeKey]:null},x=(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(t,n)},C=(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(t,n)},S=(e,t,n)=>{r.value.setChecked(e,t,n)},k=()=>r.value.getHalfCheckedNodes(),E=()=>r.value.getHalfCheckedKeys(),T=(n,o=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");CB(r,t.emit,(()=>r.value.setUserCurrentNode(n,o)))},M=(n,o=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");CB(r,t.emit,(()=>r.value.setCurrentNodeKey(n,o)))},O=e=>r.value.getNode(e),D=e=>{r.value.remove(e)},A=(e,t)=>{r.value.append(e,t)},R=(e,t)=>{r.value.insertBefore(e,t)},P=(e,t)=>{r.value.insertAfter(e,t)},I=(e,n,o)=>{d(n),t.emit("node-expand",e,n,o)},z=(t,n)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(t,n)};return(0,s.JJ)("RootTree",{ctx:t,props:e,store:r,root:i,currentNode:a,instance:(0,s.FN)()}),(0,s.JJ)(er.K,void 0),{ns:o,store:r,root:i,currentNode:a,dragState:h,el$:c,dropIndicator$:u,isEmpty:m,filter:p,getNodeKey:f,getNodePath:g,getCheckedNodes:y,getCheckedKeys:b,getCurrentNode:w,getCurrentKey:_,setCheckedNodes:x,setCheckedKeys:C,setChecked:S,getHalfCheckedNodes:k,getHalfCheckedKeys:E,setCurrentNode:T,setCurrentKey:M,t:n,getNode:O,remove:D,append:A,insertBefore:R,insertAfter:P,handleNodeExpand:I,updateKeyChildren:z}}});function VB(e,t,n,o,r,i){const a=(0,s.up)("el-tree-node");return(0,s.wg)(),(0,s.iD)("div",{ref:"el$",class:(0,c.C_)([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.root.childNodes,(t=>((0,s.wg)(),(0,s.j4)(a,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,c.C_)(e.ns.e("empty-block"))},[(0,s.WI)(e.$slots,"empty",{},(()=>{var t;return[(0,s._)("span",{class:(0,c.C_)(e.ns.e("empty-text"))},(0,c.zw)(null!=(t=e.emptyText)?t:e.t("el.tree.emptyText")),3)]}))],2)):(0,s.kq)("v-if",!0),(0,s.wy)((0,s._)("div",{ref:"dropIndicator$",class:(0,c.C_)(e.ns.e("drop-indicator"))},null,2),[[R.F8,e.dragState.showDropIndicator]])],2)}var jB=(0,g.Z)(UB,[["render",VB],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);jB.install=e=>{e.component(jB.name,jB)};const WB=jB,ZB=WB,$B=(e,{attrs:t},{tree:n,key:o})=>{const r=(0,v.s3)("tree-select"),i={...df((0,l.BK)(e),Object.keys(tT.props)),...t,valueKey:o,popperClass:(0,s.Fl)((()=>{const t=[r.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{e.filterMethod&&e.filterMethod(t),(0,s.Y3)((()=>{var e;null==(e=n.value)||e.filter(t)}))},onVisibleChange:n=>{var o;null==(o=t.onVisibleChange)||o.call(t,n),e.filterable&&n&&i.filterMethod()}};return i},qB=(0,s.aZ)({extends:nT,setup(e,t){const n=nT.setup(e,t);delete n.selectOptionClick;const o=(0,s.FN)().proxy;return(0,s.Y3)((()=>{n.select.cachedOptions.get(o.value)||n.select.onOptionCreate(o)})),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function GB(e){return e||0===e}function KB(e){return Array.isArray(e)&&e.length}function YB(e){return Array.isArray(e)?e:GB(e)?[e]:[]}function JB(e,t,n,o,r){for(let i=0;i<e.length;i++){const a=e[i];if(t(a,i,e,r))return o?o(a,i,e,r):a;{const e=n(a);if(KB(e)){const r=JB(e,t,n,o,a);if(r)return r}}}}function XB(e,t,n,o){for(let r=0;r<e.length;r++){const i=e[r];t(i,r,e,o);const a=n(i);KB(a)&&XB(a,t,n,i)}}const QB=(e,{attrs:t,slots:n,emit:o},{select:r,tree:i,key:a})=>{(0,s.YP)((()=>e.modelValue),(()=>{e.showCheckbox&&(0,s.Y3)((()=>{const t=i.value;t&&!Jm(t.getCheckedKeys(),YB(e.modelValue))&&t.setCheckedKeys(YB(e.modelValue))}))}),{immediate:!0,deep:!0});const u=(0,s.Fl)((()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props}))),d=(e,t)=>{var n;const o=u.value[e];return(0,c.mf)(o)?o(t,null==(n=i.value)?void 0:n.getNode(d("value",t))):t[o]},h=YB(e.modelValue).map((t=>JB(e.data||[],(e=>d("value",e)===t),(e=>d("children",e)),((e,t,n,o)=>o&&d("value",o))))).filter((e=>GB(e))),p=(0,s.Fl)((()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const t=[];return XB(e.data.concat(e.cacheData),(e=>{const n=d("value",e);t.push({value:n,currentLabel:d("label",e),isDisabled:d("disabled",e)})}),(e=>d("children",e))),t})),f=(0,s.Fl)((()=>p.value.reduce(((e,t)=>({...e,[t.value]:t})),{})));return{...df((0,l.BK)(e),Object.keys(WB.props)),...t,nodeKey:a,expandOnClickNode:(0,s.Fl)((()=>!e.checkStrictly&&e.expandOnClickNode)),defaultExpandedKeys:(0,s.Fl)((()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(h):h)),renderContent:(t,{node:o,data:r,store:i})=>t(qB,{value:d("value",r),label:d("label",r),disabled:d("disabled",r)},e.renderContent?()=>e.renderContent(t,{node:o,data:r,store:i}):n.default?()=>n.default({node:o,data:r,store:i}):void 0),filterNodeMethod:(t,n,o)=>{var r;return e.filterNodeMethod?e.filterNodeMethod(t,n,o):!t||(null==(r=d("label",n))?void 0:r.includes(t))},onNodeClick:(n,o,i)=>{var a,s,l;if(null==(a=t.onNodeClick)||a.call(t,n,o,i),!e.showCheckbox||!e.checkOnClickNode)if(e.showCheckbox||!e.checkStrictly&&!o.isLeaf)e.expandOnClickNode&&i.proxy.handleExpandIconClick();else if(!d("disabled",n)){const e=null==(s=r.value)?void 0:s.options.get(d("value",n));null==(l=r.value)||l.handleOptionSelect(e,!0)}},onCheck:(n,r)=>{if(!e.showCheckbox)return;const a=d("value",n),l=r.checkedKeys,c=e.multiple?YB(e.modelValue).filter((e=>e in f.value&&!i.value.getNode(e)&&!l.includes(e))):[],u=l.concat(c);if(e.checkStrictly)o(m.f_,e.multiple?u:u.includes(a)?a:void 0);else if(e.multiple)o(m.f_,i.value.getCheckedKeys(!0));else{const t=JB([n],(e=>!KB(d("children",e))&&!d("disabled",e)),(e=>d("children",e))),r=t?d("value",t):void 0,i=GB(e.modelValue)&&!!JB([n],(t=>d("value",t)===e.modelValue),(e=>d("children",e)));o(m.f_,r===e.modelValue||i?void 0:r)}(0,s.Y3)((()=>{var o;const r=YB(e.modelValue);i.value.setCheckedKeys(r),null==(o=t.onCheck)||o.call(t,n,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}))},cacheOptions:p}};var eU=(0,s.aZ)({props:{data:{type:Array,default:()=>[]}},setup(e){const t=(0,s.f3)(AE);return(0,s.YP)((()=>e.data),(()=>{var n;e.data.forEach((e=>{t.cachedOptions.has(e.value)||t.cachedOptions.set(e.value,e)}));const o=(null==(n=t.selectWrapper)?void 0:n.querySelectorAll("input"))||[];Array.from(o).includes(document.activeElement)||t.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});const tU=(0,s.aZ)({name:"ElTreeSelect",inheritAttrs:!1,props:{...tT.props,...WB.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:o}=t,r=(0,l.iH)(),i=(0,l.iH)(),a=(0,s.Fl)((()=>e.nodeKey||e.valueKey||"value")),c=$B(e,t,{select:r,tree:i,key:a}),{cacheOptions:u,...d}=QB(e,t,{select:r,tree:i,key:a}),h=(0,l.qj)({});return o(h),(0,s.bv)((()=>{Object.assign(h,{...df(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...df(r.value,["focus","blur"])})})),()=>(0,s.h)(tT,(0,l.qj)({...c,ref:e=>r.value=e}),{...n,default:()=>[(0,s.h)(eU,{data:u.value}),(0,s.h)(WB,(0,l.qj)({...d,ref:e=>i.value=e}))]})}});var nU=(0,g.Z)(tU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);nU.install=e=>{e.component(nU.name,nU)};const oU=nU,rU=oU,iU=Symbol(),aU={key:-1,level:-1,data:{}};var sU=(e=>(e["KEY"]="id",e["LABEL"]="label",e["CHILDREN"]="children",e["DISABLED"]="disabled",e))(sU||{}),lU=(e=>(e["ADD"]="add",e["DELETE"]="delete",e))(lU||{});const cU={type:Number,default:26},uU=(0,d.o8)({data:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:(0,d.Cq)(Object),default:()=>(0,tv.N)({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},indent:{type:Number,default:16},itemSize:cU,icon:{type:z.AA},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:(0,d.Cq)([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:(0,d.Cq)(Function)},perfMode:{type:Boolean,default:!0}}),dU=(0,d.o8)({node:{type:(0,d.Cq)(Object),default:()=>(0,tv.N)(aU)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:cU}),hU=(0,d.o8)({node:{type:(0,d.Cq)(Object),required:!0}}),mU="node-click",pU="node-expand",fU="node-collapse",gU="current-change",vU="check",yU="check-change",bU="node-contextmenu",wU={[mU]:(e,t,n)=>e&&t&&n,[pU]:(e,t)=>e&&t,[fU]:(e,t)=>e&&t,[gU]:(e,t)=>e&&t,[vU]:(e,t)=>e&&t,[yU]:(e,t)=>e&&"boolean"===typeof t,[bU]:(e,t,n)=>e&&t&&n},_U={click:(e,t)=>!(!e||!t),toggle:e=>!!e,check:(e,t)=>e&&"boolean"===typeof t};function xU(e,t){const n=(0,l.iH)(new Set),o=(0,l.iH)(new Set),{emit:r}=(0,s.FN)();(0,s.YP)([()=>t.value,()=>e.defaultCheckedKeys],(()=>(0,s.Y3)((()=>{w(e.defaultCheckedKeys)}))),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:r,maxLevel:i}=t.value,a=n.value,s=new Set;for(let e=i-1;e>=1;--e){const t=r.get(e);t&&t.forEach((e=>{const t=e.children;if(t){let n=!0,o=!1;for(const e of t){const t=e.key;if(a.has(t))o=!0;else{if(s.has(t)){n=!1,o=!0;break}n=!1}}n?a.add(e.key):o?(s.add(e.key),a.delete(e.key)):(a.delete(e.key),s.delete(e.key))}}))}o.value=s},a=e=>n.value.has(e.key),c=e=>o.value.has(e.key),u=(t,o,r=!0)=>{const a=n.value,s=(t,n)=>{a[n?lU.ADD:lU.DELETE](t.key);const o=t.children;!e.checkStrictly&&o&&o.forEach((e=>{e.disabled||s(e,n)}))};s(t,o),i(),r&&d(t,o)},d=(e,t)=>{const{checkedNodes:n,checkedKeys:o}=g(),{halfCheckedNodes:i,halfCheckedKeys:a}=v();r(vU,e.data,{checkedKeys:o,checkedNodes:n,halfCheckedKeys:a,halfCheckedNodes:i}),r(yU,e.data,t)};function h(e=!1){return g(e).checkedKeys}function m(e=!1){return g(e).checkedNodes}function p(){return v().halfCheckedKeys}function f(){return v().halfCheckedNodes}function g(o=!1){const r=[],i=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;n.value.forEach((t=>{const n=e.get(t);n&&(!o||o&&n.isLeaf)&&(i.push(t),r.push(n.data))}))}return{checkedKeys:i,checkedNodes:r}}function v(){const n=[],r=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;o.value.forEach((t=>{const o=e.get(t);o&&(r.push(t),n.push(o.data))}))}return{halfCheckedNodes:n,halfCheckedKeys:r}}function y(e){n.value.clear(),o.value.clear(),w(e)}function b(n,o){if((null==t?void 0:t.value)&&e.showCheckbox){const e=t.value.treeNodeMap.get(n);e&&u(e,o,!1)}}function w(n){if(null==t?void 0:t.value){const{treeNodeMap:o}=t.value;if(e.showCheckbox&&o&&n)for(const e of n){const t=o.get(e);t&&!a(t)&&u(t,!0,!1)}}}return{updateCheckedKeys:i,toggleCheckbox:u,isChecked:a,isIndeterminate:c,getCheckedKeys:h,getCheckedNodes:m,getHalfCheckedKeys:p,getHalfCheckedNodes:f,setChecked:b,setCheckedKeys:y}}function CU(e,t){const n=(0,l.iH)(new Set([])),o=(0,l.iH)(new Set([])),r=(0,s.Fl)((()=>(0,c.mf)(e.filterMethod)));function i(i){var a;if(!r.value)return;const s=new Set,l=o.value,c=n.value,u=[],d=(null==(a=t.value)?void 0:a.treeNodes)||[],h=e.filterMethod;function m(e){e.forEach((e=>{u.push(e),(null==h?void 0:h(i,e.data))?u.forEach((e=>{s.add(e.key)})):e.isLeaf&&c.add(e.key);const t=e.children;if(t&&m(t),!e.isLeaf)if(s.has(e.key)){if(t){let n=!0;for(const e of t)if(!c.has(e.key)){n=!1;break}n?l.add(e.key):l.delete(e.key)}}else c.add(e.key);u.pop()}))}return c.clear(),m(d),s}function a(e){return o.value.has(e.key)}return{hiddenExpandIconKeySet:o,hiddenNodeKeySet:n,doFilter:i,isForceHiddenExpandIcon:a}}function SU(e,t){const n=(0,l.iH)(new Set(e.defaultExpandedKeys)),o=(0,l.iH)(),r=(0,l.XI)();(0,s.YP)((()=>e.currentNodeKey),(e=>{o.value=e}),{immediate:!0}),(0,s.YP)((()=>e.data),(e=>{Z(e)}),{immediate:!0});const{isIndeterminate:i,isChecked:a,toggleCheckbox:u,getCheckedKeys:d,getCheckedNodes:h,getHalfCheckedKeys:m,getHalfCheckedNodes:p,setChecked:f,setCheckedKeys:g}=xU(e,r),{doFilter:v,hiddenNodeKeySet:y,isForceHiddenExpandIcon:b}=CU(e,r),w=(0,s.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.value)||sU.KEY})),_=(0,s.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.children)||sU.CHILDREN})),x=(0,s.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.disabled)||sU.DISABLED})),C=(0,s.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.label)||sU.LABEL})),S=(0,s.Fl)((()=>{const e=n.value,t=y.value,o=[],i=r.value&&r.value.treeNodes||[];function a(){const n=[];for(let e=i.length-1;e>=0;--e)n.push(i[e]);while(n.length){const r=n.pop();if(r&&(t.has(r.key)||o.push(r),e.has(r.key))){const e=r.children;if(e){const t=e.length;for(let o=t-1;o>=0;--o)n.push(e[o])}}}}return a(),o})),k=(0,s.Fl)((()=>S.value.length>0));function E(e){const t=new Map,n=new Map;let o=1;function r(e,i=1,a=void 0){var s;const l=[];for(const o of e){const e=O(o),c={level:i,key:e,data:o};c.label=A(o),c.parent=a;const u=M(o);c.disabled=D(o),c.isLeaf=!u||0===u.length,u&&u.length&&(c.children=r(u,i+1,c)),l.push(c),t.set(e,c),n.has(i)||n.set(i,[]),null==(s=n.get(i))||s.push(c)}return i>o&&(o=i),l}const i=r(e);return{treeNodeMap:t,levelTreeNodeMap:n,maxLevel:o,treeNodes:i}}function T(e){const t=v(e);t&&(n.value=t)}function M(e){return e[_.value]}function O(e){return e?e[w.value]:""}function D(e){return e[x.value]}function A(e){return e[C.value]}function R(e){const t=n.value;t.has(e.key)?H(e):L(e)}function P(e){n.value=new Set(e)}function I(n,o){t(mU,n.data,n,o),z(n),e.expandOnClickNode&&R(n),e.showCheckbox&&e.checkOnClickNode&&!n.disabled&&u(n,!a(n),!0)}function z(e){U(e)||(o.value=e.key,t(gU,e.data,e))}function N(e,t){u(e,t)}function L(o){const i=n.value;if(r.value&&e.accordion){const{treeNodeMap:e}=r.value;i.forEach((t=>{const n=e.get(t);o&&o.level===(null==n?void 0:n.level)&&i.delete(t)}))}i.add(o.key),t(pU,o.data,o)}function H(e){n.value.delete(e.key),t(fU,e.data,e)}function F(e){return n.value.has(e.key)}function B(e){return!!e.disabled}function U(e){const t=o.value;return!!t&&t===e.key}function V(){var e,t;if(o.value)return null==(t=null==(e=r.value)?void 0:e.treeNodeMap.get(o.value))?void 0:t.data}function j(){return o.value}function W(e){o.value=e}function Z(e){(0,s.Y3)((()=>r.value=E(e)))}function $(e){var t;const n=(0,c.Kn)(e)?O(e):e;return null==(t=r.value)?void 0:t.treeNodeMap.get(n)}return{tree:r,flattenTree:S,isNotEmpty:k,getKey:O,getChildren:M,toggleExpand:R,toggleCheckbox:u,isExpanded:F,isChecked:a,isIndeterminate:i,isDisabled:B,isCurrent:U,isForceHiddenExpandIcon:b,handleNodeClick:I,handleNodeCheck:N,getCurrentNode:V,getCurrentKey:j,setCurrentKey:W,getCheckedKeys:d,getCheckedNodes:h,getHalfCheckedKeys:m,getHalfCheckedNodes:p,setChecked:f,setCheckedKeys:g,filter:T,setData:Z,getNode:$,expandNode:L,collapseNode:H,setExpandedKeys:P}}var kU=(0,s.aZ)({name:"ElTreeNodeContent",props:hU,setup(e){const t=(0,s.f3)(iU),n=(0,v.s3)("tree");return()=>{const o=e.node,{data:r}=o;return(null==t?void 0:t.ctx.slots.default)?t.ctx.slots.default({node:o,data:r}):(0,s.h)("span",{class:n.be("node","label")},[null==o?void 0:o.label])}}});const EU=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],TU=(0,s.aZ)({name:"ElTreeNode"}),MU=(0,s.aZ)({...TU,props:dU,emits:_U,setup(e,{emit:t}){const n=e,o=(0,s.f3)(iU),r=(0,v.s3)("tree"),i=(0,s.Fl)((()=>{var e;return null!=(e=null==o?void 0:o.props.indent)?e:16})),a=(0,s.Fl)((()=>{var e;return null!=(e=null==o?void 0:o.props.icon)?e:he.CaretRight})),u=e=>{t("click",n.node,e)},d=()=>{t("toggle",n.node)},h=e=>{t("check",n.node,e)},m=e=>{var t,r,i,a;(null==(i=null==(r=null==(t=null==o?void 0:o.instance)?void 0:t.vnode)?void 0:r.props)?void 0:i["onNodeContextmenu"])&&(e.stopPropagation(),e.preventDefault()),null==o||o.ctx.emit(bU,e,null==(a=n.node)?void 0:a.data,n.node)};return(e,t)=>{var n,o,p;return(0,s.wg)(),(0,s.iD)("div",{ref:"node$",class:(0,c.C_)([(0,l.SU)(r).b("node"),(0,l.SU)(r).is("expanded",e.expanded),(0,l.SU)(r).is("current",e.current),(0,l.SU)(r).is("focusable",!e.disabled),(0,l.SU)(r).is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":null==(n=e.node)?void 0:n.key,onClick:(0,R.iM)(u,["stop"]),onContextmenu:m},[(0,s._)("div",{class:(0,c.C_)((0,l.SU)(r).be("node","content")),style:(0,c.j5)({paddingLeft:(e.node.level-1)*(0,l.SU)(i)+"px",height:e.itemSize+"px"})},[(0,l.SU)(a)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)([(0,l.SU)(r).is("leaf",!!(null==(o=e.node)?void 0:o.isLeaf)),(0,l.SU)(r).is("hidden",e.hiddenExpandIcon),{expanded:!(null==(p=e.node)?void 0:p.isLeaf)&&e.expanded},(0,l.SU)(r).be("node","expand-icon")]),onClick:(0,R.iM)(d,["stop"])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(a))))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0),e.showCheckbox?((0,s.wg)(),(0,s.j4)((0,l.SU)(vf),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:h,onClick:t[0]||(t[0]=(0,R.iM)((()=>{}),["stop"]))},null,8,["model-value","indeterminate","disabled"])):(0,s.kq)("v-if",!0),(0,s.Wm)((0,l.SU)(kU),{node:e.node},null,8,["node"])],6)],42,EU)}}});var OU=(0,g.Z)(MU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const DU=(0,s.aZ)({name:"ElTreeV2"}),AU=(0,s.aZ)({...DU,props:uU,emits:wU,setup(e,{expose:t,emit:n}){const o=e,r=(0,s.Rr)(),i=(0,s.Fl)((()=>o.itemSize));(0,s.JJ)(iU,{ctx:{emit:n,slots:r},props:o,instance:(0,s.FN)()}),(0,s.JJ)(er.K,void 0);const{t:a}=(0,Ga.bU)(),u=(0,v.s3)("tree"),{flattenTree:d,isNotEmpty:h,toggleExpand:m,isExpanded:p,isIndeterminate:f,isChecked:g,isDisabled:y,isCurrent:b,isForceHiddenExpandIcon:w,handleNodeClick:_,handleNodeCheck:x,toggleCheckbox:C,getCurrentNode:S,getCurrentKey:k,setCurrentKey:E,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:O,getHalfCheckedNodes:D,setChecked:A,setCheckedKeys:R,filter:P,setData:I,getNode:z,expandNode:N,collapseNode:L,setExpandedKeys:H}=SU(o,n);return t({toggleCheckbox:C,getCurrentNode:S,getCurrentKey:k,setCurrentKey:E,getCheckedKeys:T,getCheckedNodes:M,getHalfCheckedKeys:O,getHalfCheckedNodes:D,setChecked:A,setCheckedKeys:R,filter:P,setData:I,getNode:z,expandNode:N,collapseNode:L,setExpandedKeys:H}),(e,t)=>{var n;return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(u).b(),{[(0,l.SU)(u).m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(0,l.SU)(h)?((0,s.wg)(),(0,s.j4)((0,l.SU)(FO),{key:0,"class-name":(0,l.SU)(u).b("virtual-list"),data:(0,l.SU)(d),total:(0,l.SU)(d).length,height:e.height,"item-size":(0,l.SU)(i),"perf-mode":e.perfMode},{default:(0,s.w5)((({data:t,index:n,style:o})=>[((0,s.wg)(),(0,s.j4)(OU,{key:t[n].key,style:(0,c.j5)(o),node:t[n],expanded:(0,l.SU)(p)(t[n]),"show-checkbox":e.showCheckbox,checked:(0,l.SU)(g)(t[n]),indeterminate:(0,l.SU)(f)(t[n]),"item-size":(0,l.SU)(i),disabled:(0,l.SU)(y)(t[n]),current:(0,l.SU)(b)(t[n]),"hidden-expand-icon":(0,l.SU)(w)(t[n]),onClick:(0,l.SU)(_),onToggle:(0,l.SU)(m),onCheck:(0,l.SU)(x)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))])),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(u).e("empty-block"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(u).e("empty-text"))},(0,c.zw)(null!=(n=e.emptyText)?n:(0,l.SU)(a)("el.tree.emptyText")),3)],2))],2)}}});var RU=(0,g.Z)(AU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const PU=(0,D.nz)(RU);n(2062);const IU=Symbol("uploadContextKey"),zU="ElUpload";class NU extends Error{constructor(e,t,n,o){super(e),this.name="UploadAjaxError",this.status=t,this.method=n,this.url=o}}function LU(e,t,n){let o;return o=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${t.method} ${e} ${n.status}`,new NU(o,n.status,t.method,e)}function HU(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(HH){return t}}const FU=e=>{"undefined"===typeof XMLHttpRequest&&(0,b._)(zU,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",(t=>{const n=t;n.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(n)}));const o=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))Array.isArray(a)?o.append(i,...a):o.append(i,a);o.append(e.filename,e.file,e.file.name),t.addEventListener("error",(()=>{e.onError(LU(n,e,t))})),t.addEventListener("load",(()=>{if(t.status<200||t.status>=300)return e.onError(LU(n,e,t));e.onSuccess(HU(t))})),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const r=e.headers||{};if(r instanceof Headers)r.forEach(((e,n)=>t.setRequestHeader(n,e)));else for(const[i,a]of Object.entries(r))(0,_o.Z)(a)||t.setRequestHeader(i,String(a));return t.send(o),t},BU=["text","picture","picture-card"];let UU=1;const VU=()=>Date.now()+UU++,jU=(0,d.o8)({action:{type:String,default:"#"},headers:{type:(0,d.Cq)(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>(0,tv.N)({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:BU,default:"text"},httpRequest:{type:(0,d.Cq)(Function),default:FU},disabled:Boolean,limit:Number}),WU=(0,d.o8)({...jU,beforeUpload:{type:(0,d.Cq)(Function),default:c.dG},beforeRemove:{type:(0,d.Cq)(Function)},onRemove:{type:(0,d.Cq)(Function),default:c.dG},onChange:{type:(0,d.Cq)(Function),default:c.dG},onPreview:{type:(0,d.Cq)(Function),default:c.dG},onSuccess:{type:(0,d.Cq)(Function),default:c.dG},onProgress:{type:(0,d.Cq)(Function),default:c.dG},onError:{type:(0,d.Cq)(Function),default:c.dG},onExceed:{type:(0,d.Cq)(Function),default:c.dG}}),ZU=(0,d.o8)({files:{type:(0,d.Cq)(Array),default:()=>(0,tv.N)([])},disabled:{type:Boolean,default:!1},handlePreview:{type:(0,d.Cq)(Function),default:c.dG},listType:{type:String,values:BU,default:"text"}}),$U={remove:e=>!!e},qU=["onKeydown"],GU=["src"],KU=["onClick"],YU=["onClick"],JU=["onClick"],XU=(0,s.aZ)({name:"ElUploadList"}),QU=(0,s.aZ)({...XU,props:ZU,emits:$U,setup(e,{emit:t}){const{t:n}=(0,Ga.bU)(),o=(0,v.s3)("upload"),r=(0,v.s3)("icon"),i=(0,v.s3)("list"),a=(0,Xr.DT)(),u=(0,l.iH)(!1),d=e=>{t("remove",e)};return(e,t)=>((0,s.wg)(),(0,s.j4)(R.W3,{tag:"ul",class:(0,c.C_)([(0,l.SU)(o).b("list"),(0,l.SU)(o).bm("list",e.listType),(0,l.SU)(o).is("disabled",(0,l.SU)(a))]),name:(0,l.SU)(i).b()},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.files,(i=>((0,s.wg)(),(0,s.iD)("li",{key:i.uid||i.name,class:(0,c.C_)([(0,l.SU)(o).be("list","item"),(0,l.SU)(o).is(i.status),{focusing:u.value}]),tabindex:"0",onKeydown:(0,R.D2)((e=>!(0,l.SU)(a)&&d(i)),["delete"]),onFocus:t[0]||(t[0]=e=>u.value=!0),onBlur:t[1]||(t[1]=e=>u.value=!1),onClick:t[2]||(t[2]=e=>u.value=!1)},[(0,s.WI)(e.$slots,"default",{file:i},(()=>["picture"===e.listType||"uploading"!==i.status&&"picture-card"===e.listType?((0,s.wg)(),(0,s.iD)("img",{key:0,class:(0,c.C_)((0,l.SU)(o).be("list","item-thumbnail")),src:i.url,alt:""},null,10,GU)):(0,s.kq)("v-if",!0),"uploading"===i.status||"picture-card"!==e.listType?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)((0,l.SU)(o).be("list","item-info"))},[(0,s._)("a",{class:(0,c.C_)((0,l.SU)(o).be("list","item-name")),onClick:(0,R.iM)((t=>e.handlePreview(i)),["prevent"])},[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(r).m("document"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Document))])),_:1},8,["class"]),(0,s._)("span",{class:(0,c.C_)((0,l.SU)(o).be("list","item-file-name"))},(0,c.zw)(i.name),3)],10,KU),"uploading"===i.status?((0,s.wg)(),(0,s.j4)((0,l.SU)(sM),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(i.percentage),style:(0,c.j5)("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):(0,s.kq)("v-if",!0)],2)):(0,s.kq)("v-if",!0),(0,s._)("label",{class:(0,c.C_)((0,l.SU)(o).be("list","item-status-label"))},["text"===e.listType?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)([(0,l.SU)(r).m("upload-success"),(0,l.SU)(r).m("circle-check")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.CircleCheck))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:1,class:(0,c.C_)([(0,l.SU)(r).m("upload-success"),(0,l.SU)(r).m("check")])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Check))])),_:1},8,["class"])):(0,s.kq)("v-if",!0)],2),(0,l.SU)(a)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:2,class:(0,c.C_)((0,l.SU)(r).m("close")),onClick:e=>d(i)},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Close))])),_:2},1032,["class","onClick"])),(0,s.kq)(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),(0,s.kq)(" This is a bug which needs to be fixed "),(0,s.kq)(" TODO: Fix the incorrect navigation interaction "),(0,l.SU)(a)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("i",{key:3,class:(0,c.C_)((0,l.SU)(r).m("close-tip"))},(0,c.zw)((0,l.SU)(n)("el.upload.deleteTip")),3)),"picture-card"===e.listType?((0,s.wg)(),(0,s.iD)("span",{key:4,class:(0,c.C_)((0,l.SU)(o).be("list","item-actions"))},[(0,s._)("span",{class:(0,c.C_)((0,l.SU)(o).be("list","item-preview")),onClick:t=>e.handlePreview(i)},[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(r).m("zoom-in"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.ZoomIn))])),_:1},8,["class"])],10,YU),(0,l.SU)(a)?(0,s.kq)("v-if",!0):((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,c.C_)((0,l.SU)(o).be("list","item-delete")),onClick:e=>d(i)},[(0,s.Wm)((0,l.SU)(P.gn),{class:(0,c.C_)((0,l.SU)(r).m("delete"))},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(he.Delete))])),_:1},8,["class"])],10,JU))],2)):(0,s.kq)("v-if",!0)]))],42,qU)))),128)),(0,s.WI)(e.$slots,"append")])),_:3},8,["class","name"]))}});var eV=(0,g.Z)(QU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const tV=(0,d.o8)({disabled:{type:Boolean,default:!1}}),nV={file:e=>(0,c.kJ)(e)},oV=["onDrop","onDragover"],rV="ElUploadDrag",iV=(0,s.aZ)({name:rV}),aV=(0,s.aZ)({...iV,props:tV,emits:nV,setup(e,{emit:t}){const n=(0,s.f3)(IU);n||(0,b._)(rV,"usage: <el-upload><el-upload-dragger /></el-upload>");const o=(0,v.s3)("upload"),r=(0,l.iH)(!1),i=(0,Xr.DT)(),a=e=>{if(i.value)return;r.value=!1,e.stopPropagation();const o=Array.from(e.dataTransfer.files),a=n.accept.value;if(!a)return void t("file",o);const s=o.filter((e=>{const{type:t,name:n}=e,o=n.includes(".")?`.${n.split(".").pop()}`:"",r=t.replace(/\/.*$/,"");return a.split(",").map((e=>e.trim())).filter((e=>e)).some((e=>e.startsWith(".")?o===e:/\/\*$/.test(e)?r===e.replace(/\/\*$/,""):!!/^[^/]+\/[^/]+$/.test(e)&&t===e))}));t("file",s)},u=()=>{i.value||(r.value=!0)};return(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(o).b("dragger"),(0,l.SU)(o).is("dragover",r.value)]),onDrop:(0,R.iM)(a,["prevent"]),onDragover:(0,R.iM)(u,["prevent"]),onDragleave:t[0]||(t[0]=(0,R.iM)((e=>r.value=!1),["prevent"]))},[(0,s.WI)(e.$slots,"default")],42,oV))}});var sV=(0,g.Z)(aV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const lV=(0,d.o8)({...jU,beforeUpload:{type:(0,d.Cq)(Function),default:c.dG},onRemove:{type:(0,d.Cq)(Function),default:c.dG},onStart:{type:(0,d.Cq)(Function),default:c.dG},onSuccess:{type:(0,d.Cq)(Function),default:c.dG},onProgress:{type:(0,d.Cq)(Function),default:c.dG},onError:{type:(0,d.Cq)(Function),default:c.dG},onExceed:{type:(0,d.Cq)(Function),default:c.dG}}),cV=["onKeydown"],uV=["name","multiple","accept"],dV=(0,s.aZ)({name:"ElUploadContent",inheritAttrs:!1}),hV=(0,s.aZ)({...dV,props:lV,setup(e,{expose:t}){const n=e,o=(0,v.s3)("upload"),r=(0,Xr.DT)(),i=(0,l.XI)({}),a=(0,l.XI)(),u=e=>{if(0===e.length)return;const{autoUpload:t,limit:o,fileList:r,multiple:i,onStart:a,onExceed:s}=n;if(o&&r.length+e.length>o)s(e,r);else{i||(e=e.slice(0,1));for(const n of e){const e=n;e.uid=VU(),a(e),t&&d(e)}}},d=async e=>{if(a.value.value="",!n.beforeUpload)return h(e);let t,o={};try{const r=n.data,i=n.beforeUpload(e);o=(0,c.Kn)(n.data)?Jh(n.data):n.data,t=await i,(0,c.Kn)(n.data)&&Jm(r,o)&&(o=Jh(n.data))}catch(HH){t=!1}if(!1===t)return void n.onRemove(e);let r=e;t instanceof Blob&&(r=t instanceof File?t:new File([t],e.name,{type:e.type})),h(Object.assign(r,{uid:e.uid}),o)},h=(e,t)=>{const{headers:o,data:r,method:a,withCredentials:s,name:l,action:c,onProgress:u,onSuccess:d,onError:h,httpRequest:m}=n,{uid:p}=e,f={headers:o||{},withCredentials:s,file:e,data:null!=t?t:r,method:a,filename:l,action:c,onProgress:t=>{u(t,e)},onSuccess:t=>{d(t,e),delete i.value[p]},onError:t=>{h(t,e),delete i.value[p]}},g=m(f);i.value[p]=g,g instanceof Promise&&g.then(f.onSuccess,f.onError)},m=e=>{const t=e.target.files;t&&u(Array.from(t))},p=()=>{r.value||(a.value.value="",a.value.click())},f=()=>{p()},g=e=>{const t=(0,I.vu)(i.value).filter(e?([t])=>String(e.uid)===t:()=>!0);t.forEach((([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete i.value[e]}))};return t({abort:g,upload:d}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)([(0,l.SU)(o).b(),(0,l.SU)(o).m(e.listType),(0,l.SU)(o).is("drag",e.drag)]),tabindex:"0",onClick:p,onKeydown:(0,R.D2)((0,R.iM)(f,["self"]),["enter","space"])},[e.drag?((0,s.wg)(),(0,s.j4)(sV,{key:0,disabled:(0,l.SU)(r),onFile:u},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default")])),_:3},8,["disabled"])):(0,s.WI)(e.$slots,"default",{key:1}),(0,s._)("input",{ref_key:"inputRef",ref:a,class:(0,c.C_)((0,l.SU)(o).e("input")),name:e.name,multiple:e.multiple,accept:e.accept,type:"file",onChange:m,onClick:t[0]||(t[0]=(0,R.iM)((()=>{}),["stop"]))},null,42,uV)],42,cV))}});var mV=(0,g.Z)(hV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const pV="ElUpload",fV=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},gV=(e,t)=>{const n=(0,u.NCN)(e,"fileList",void 0,{passive:!0}),o=e=>n.value.find((t=>t.uid===e.uid));function r(e){var n;null==(n=t.value)||n.abort(e)}function i(e=["ready","uploading","success","fail"]){n.value=n.value.filter((t=>!e.includes(t.status)))}const a=(t,r)=>{const i=o(r);i&&(console.error(t),i.status="fail",n.value.splice(n.value.indexOf(i),1),e.onError(t,i,n.value),e.onChange(i,n.value))},l=(t,r)=>{const i=o(r);i&&(e.onProgress(t,i,n.value),i.status="uploading",i.percentage=Math.round(t.percent))},c=(t,r)=>{const i=o(r);i&&(i.status="success",i.response=t,e.onSuccess(t,i,n.value),e.onChange(i,n.value))},d=t=>{(0,_o.Z)(t.uid)&&(t.uid=VU());const o={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{o.url=URL.createObjectURL(t)}catch(r){(0,b.N)(pV,r.message),e.onError(r,o,n.value)}n.value=[...n.value,o],e.onChange(o,n.value)},h=async t=>{const i=t instanceof File?o(t):t;i||(0,b._)(pV,"file to be removed not found");const a=t=>{r(t);const o=n.value;o.splice(o.indexOf(t),1),e.onRemove(t,o),fV(t)};if(e.beforeRemove){const t=await e.beforeRemove(i,n.value);!1!==t&&a(i)}else a(i)};function m(){n.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var n;return e&&(null==(n=t.value)?void 0:n.upload(e))}))}return(0,s.YP)((()=>e.listType),(t=>{"picture-card"!==t&&"picture"!==t||(n.value=n.value.map((t=>{const{raw:o,url:r}=t;if(!r&&o)try{t.url=URL.createObjectURL(o)}catch(i){e.onError(i,t,n.value)}return t})))})),(0,s.YP)(n,(e=>{for(const t of e)t.uid||(t.uid=VU()),t.status||(t.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:i,handleError:a,handleProgress:l,handleStart:d,handleSuccess:c,handleRemove:h,submit:m}},vV=(0,s.aZ)({name:"ElUpload"}),yV=(0,s.aZ)({...vV,props:WU,setup(e,{expose:t}){const n=e,o=(0,s.Rr)(),r=(0,Xr.DT)(),i=(0,l.XI)(),{abort:a,submit:c,clearFiles:u,uploadFiles:d,handleStart:h,handleError:m,handleRemove:p,handleSuccess:f,handleProgress:g}=gV(n,i),v=(0,s.Fl)((()=>"picture-card"===n.listType)),y=(0,s.Fl)((()=>({...n,fileList:d.value,onStart:h,onProgress:g,onSuccess:f,onError:m,onRemove:p})));return(0,s.Jd)((()=>{d.value.forEach((({url:e})=>{(null==e?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(e)}))})),(0,s.JJ)(IU,{accept:(0,l.Vh)(n,"accept")}),t({abort:a,submit:c,clearFiles:u,handleStart:h,handleRemove:p}),(e,t)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,l.SU)(v)&&e.showFileList?((0,s.wg)(),(0,s.j4)(eV,{key:0,disabled:(0,l.SU)(r),"list-type":e.listType,files:(0,l.SU)(d),"handle-preview":e.onPreview,onRemove:(0,l.SU)(p)},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s.Wm)(mV,(0,s.dG)({ref_key:"uploadRef",ref:i},(0,l.SU)(y)),{default:(0,s.w5)((()=>[(0,l.SU)(o).trigger?(0,s.WI)(e.$slots,"trigger",{key:0}):(0,s.kq)("v-if",!0),!(0,l.SU)(o).trigger&&(0,l.SU)(o).default?(0,s.WI)(e.$slots,"default",{key:1}):(0,s.kq)("v-if",!0)])),_:3},16)])),_:2},[e.$slots.file?{name:"default",fn:(0,s.w5)((({file:t})=>[(0,s.WI)(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):(0,s.kq)("v-if",!0),!(0,l.SU)(v)||(0,l.SU)(v)&&!e.showFileList?((0,s.wg)(),(0,s.j4)(mV,(0,s.dG)({key:1,ref_key:"uploadRef",ref:i},(0,l.SU)(y)),{default:(0,s.w5)((()=>[(0,l.SU)(o).trigger?(0,s.WI)(e.$slots,"trigger",{key:0}):(0,s.kq)("v-if",!0),!(0,l.SU)(o).trigger&&(0,l.SU)(o).default?(0,s.WI)(e.$slots,"default",{key:1}):(0,s.kq)("v-if",!0)])),_:3},16)):(0,s.kq)("v-if",!0),e.$slots.trigger?(0,s.WI)(e.$slots,"default",{key:2}):(0,s.kq)("v-if",!0),(0,s.WI)(e.$slots,"tip"),!(0,l.SU)(v)&&e.showFileList?((0,s.wg)(),(0,s.j4)(eV,{key:3,disabled:(0,l.SU)(r),"list-type":e.listType,files:(0,l.SU)(d),"handle-preview":e.onPreview,onRemove:(0,l.SU)(p)},(0,s.Nv)({_:2},[e.$slots.file?{name:"default",fn:(0,s.w5)((({file:t})=>[(0,s.WI)(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):(0,s.kq)("v-if",!0)]))}});var bV=(0,g.Z)(yV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const wV=(0,D.nz)(bV);var _V=[A,V,si,KN,fi,Ci,Si.dQ,Ii,zi,Da,Aa,ms,ys,Ks,Ys,Gg,Eg,ev,vf,yf,bf,sv,Pv,Iv,Cv,Ey,My,Wy,Zy,$y,qy,Gy,jw,n_,o_,M_,P_,j_,Kx,Yx,Jx,DC,QS,ek,P.gn,fk,sk,me.EZ,Ck,Dk,rE,iE,aE,sE,pE,IT,BT,JT,Fe,sM,Bf,Vf,Uf,fM,xM,OM,Ae,tT,nT,oT,cD,bD,wD,QD,aA,dA,wA,DA,AA,jA,gz,vz,GN,gL,vL,Rg,xL,JL,lH,pH,fH,Gr,JF,bB,ZB,rU,PU,wV];const xV="ElInfiniteScroll",CV=50,SV=200,kV=0,EV={delay:{type:Number,default:SV},distance:{type:Number,default:kV},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},TV=(e,t)=>Object.entries(EV).reduce(((n,[o,r])=>{var i,a;const{type:s,default:l}=r,c=e.getAttribute(`infinite-scroll-${o}`);let u=null!=(a=null!=(i=t[c])?i:c)?a:l;return u="false"!==u&&u,u=s(u),n[o]=Number.isNaN(u)?l:u,n}),{}),MV=e=>{const{observer:t}=e[xV];t&&(t.disconnect(),delete e[xV].observer)},OV=(e,t)=>{const{container:n,containerEl:o,instance:r,observer:i,lastScrollTop:a}=e[xV],{disabled:s,distance:l}=TV(e,r),{clientHeight:c,scrollHeight:u,scrollTop:d}=o,h=d-a;if(e[xV].lastScrollTop=d,i||s||h<0)return;let m=!1;if(n===e)m=u-(c+d)<=l;else{const{clientTop:t,scrollHeight:n}=e,r=Bv(e,o);m=d+c>=r+t+n-l}m&&t.call(r)};function DV(e,t){const{containerEl:n,instance:o}=e[xV],{disabled:r}=TV(e,o);r||0===n.clientHeight||(n.scrollHeight<=n.clientHeight?t.call(o):MV(e))}const AV={async mounted(e,t){const{instance:n,value:o}=t;(0,c.mf)(o)||(0,b._)(xV,"'v-infinite-scroll' binding value must be a function"),await(0,s.Y3)();const{delay:r,immediate:i}=TV(e,n),a=x(e,!0),l=a===window?document.documentElement:a,u=Cs(OV.bind(null,e,o),r);if(a){if(e[xV]={instance:n,container:a,containerEl:l,delay:r,cb:o,onScroll:u,lastScrollTop:l.scrollTop},i){const t=new MutationObserver(Cs(DV.bind(null,e,o),CV));e[xV].observer=t,t.observe(e,{childList:!0,subtree:!0}),DV(e,o)}a.addEventListener("scroll",u)}},unmounted(e){const{container:t,onScroll:n}=e[xV];null==t||t.removeEventListener("scroll",n),MV(e)},async updated(e){if(e[xV]){const{containerEl:t,cb:n,observer:o}=e[xV];t.clientHeight&&o&&DV(e,n)}else await(0,s.Y3)()}},RV=AV;RV.install=e=>{e.directive("InfiniteScroll",RV)};const PV=RV;function IV(e){let t;const n=(0,l.iH)(!1),o=(0,l.qj)({...e,originalPosition:"",originalOverflow:"",visible:!1});function r(e){o.text=e}function a(){const e=o.parent,t=p.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):((0,y.IV)(e,t.bm("parent","relative")),e.removeAttribute("loading-number")),(0,y.IV)(e,t.bm("parent","hidden"))}c(),m.unmount()}function c(){var e,t;null==(t=null==(e=p.$el)?void 0:e.parentNode)||t.removeChild(p.$el)}function u(){var r;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=window.setTimeout(d,400),o.visible=!1,null==(r=e.closed)||r.call(e))}function d(){if(!n.value)return;const e=o.parent;n.value=!1,e.vLoadingAddClassList=void 0,a()}const h=(0,s.aZ)({name:"ElLoading",setup(e,{expose:t}){const{ns:n,zIndex:r}=(0,i.cU)("loading");return t({ns:n,zIndex:r}),()=>{const e=o.spinner||o.svg,t=(0,s.h)("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[(0,s.h)("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),r=o.text?(0,s.h)("p",{class:n.b("text")},[o.text]):void 0;return(0,s.h)(R.uT,{name:n.b("fade"),onAfterLeave:d},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)("div",{style:{backgroundColor:o.background||""},class:[n.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[(0,s.h)("div",{class:n.b("spinner")},[t,r])]),[[R.F8,o.visible]])]))})}}}),m=(0,R.ri)(h),p=m.mount(document.createElement("div"));return{...(0,l.BK)(o),setText:r,removeElLoadingChild:c,close:u,handleAfterLeave:d,vm:p,get $el(){return p.$el}}}let zV;const NV=function(e={}){if(!w.C5)return;const t=LV(e);if(t.fullscreen&&zV)return zV;const n=IV({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(zV=void 0)}});HV(t,t.parent,n),FV(t,t.parent,n),t.parent.vLoadingAddClassList=()=>FV(t,t.parent,n);let o=t.parent.getAttribute("loading-number");return o=o?`${Number.parseInt(o)+1}`:"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(n.$el),(0,s.Y3)((()=>n.visible.value=t.visible)),t.fullscreen&&(zV=n),n},LV=e=>{var t,n,o,r;let i;return i=(0,c.HD)(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(o=e.lock)&&o,customClass:e.customClass||"",visible:null==(r=e.visible)||r,target:i}},HV=async(e,t,n)=>{const{nextZIndex:o}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(e.fullscreen)n.originalPosition.value=(0,y.C2)(document.body,"position"),n.originalOverflow.value=(0,y.C2)(document.body,"overflow"),r.zIndex=o();else if(e.parent===document.body){n.originalPosition.value=(0,y.C2)(document.body,"position"),await(0,s.Y3)();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt((0,y.C2)(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])r[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=(0,y.C2)(t,"position");for(const[i,a]of Object.entries(r))n.$el.style[i]=a},FV=(e,t,n)=>{const o=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?(0,y.IV)(t,o.bm("parent","relative")):(0,y.cn)(t,o.bm("parent","relative")),e.fullscreen&&e.lock?(0,y.cn)(t,o.bm("parent","hidden")):(0,y.IV)(t,o.bm("parent","hidden"))},BV=Symbol("ElLoading"),UV=(e,t)=>{var n,o,r,i;const a=t.instance,s=e=>(0,c.Kn)(t.value)?t.value[e]:void 0,u=e=>{const t=(0,c.HD)(e)&&(null==a?void 0:a[e])||e;return t?(0,l.iH)(t):t},d=t=>u(s(t)||e.getAttribute(`element-loading-${(0,c.rs)(t)}`)),h=null!=(n=s("fullscreen"))?n:t.modifiers.fullscreen,m={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:h,target:null!=(o=s("target"))?o:h?void 0:e,body:null!=(r=s("body"))?r:t.modifiers.body,lock:null!=(i=s("lock"))?i:t.modifiers.lock};e[BV]={options:m,instance:NV(m)}},VV=(e,t)=>{for(const n of Object.keys(t))(0,l.dq)(t[n])&&(t[n].value=e[n])},jV={mounted(e,t){t.value&&UV(e,t)},updated(e,t){const n=e[BV];t.oldValue!==t.value&&(t.value&&!t.oldValue?UV(e,t):t.value&&t.oldValue?(0,c.Kn)(t.value)&&VV(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[BV])||t.instance.close()}},WV={install(e){e.directive("loading",jV),e.config.globalProperties.$loading=NV},directive:jV,service:NV};var ZV=n(7178);const $V="_trap-focus-children",qV=[],GV=e=>{if(0===qV.length)return;const t=qV[qV.length-1][$V];if(t.length>0&&e.code===no.EVENT_CODE.tab){if(1===t.length)return e.preventDefault(),void(document.activeElement!==t[0]&&t[0].focus());const n=e.shiftKey,o=e.target===t[0],r=e.target===t[t.length-1];o&&n&&(e.preventDefault(),t[t.length-1].focus()),r&&!n&&(e.preventDefault(),t[0].focus())}},KV={beforeMount(e){e[$V]=dg(e),qV.push(e),qV.length<=1&&document.addEventListener("keydown",GV)},updated(e){(0,s.Y3)((()=>{e[$V]=dg(e)}))},unmounted(){qV.shift(),0===qV.length&&document.removeEventListener("keydown",GV)}},YV=(e,t)=>{let n;(0,s.YP)((()=>e.value),(e=>{var o,r;e?(n=document.activeElement,(0,l.dq)(t)&&(null==(r=(o=t.value).focus)||r.call(o))):n.focus()}))},JV=(0,s.aZ)({name:"ElMessageBox",directives:{TrapFocus:KV},components:{ElButton:Da,ElFocusTrap:Pr,ElInput:me.EZ,ElOverlay:c_,ElIcon:P.gn,...z.TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:jE},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:o,ns:r,size:a}=(0,i.cU)("message-box",(0,s.Fl)((()=>e.buttonSize))),{t:c}=n,{nextZIndex:u}=o,d=(0,l.iH)(!1),h=(0,l.qj)({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),m=(0,s.Fl)((()=>{const e=h.type;return{[r.bm("icon",e)]:e&&z.Rp[e]}})),p=(0,zo.Me)(),f=(0,zo.Me)(),g=(0,s.Fl)((()=>h.icon||z.Rp[h.type]||"")),v=(0,s.Fl)((()=>!!h.message)),y=(0,l.iH)(),b=(0,l.iH)(),w=(0,l.iH)(),_=(0,l.iH)(),x=(0,l.iH)(),C=(0,s.Fl)((()=>h.confirmButtonClass));(0,s.YP)((()=>h.inputValue),(async t=>{await(0,s.Y3)(),"prompt"===e.boxType&&null!==t&&D()}),{immediate:!0}),(0,s.YP)((()=>d.value),(t=>{var n,o;t&&("prompt"!==e.boxType&&(h.autofocus?w.value=null!=(o=null==(n=x.value)?void 0:n.$el)?o:y.value:w.value=y.value),h.zIndex=u()),"prompt"===e.boxType&&(t?(0,s.Y3)().then((()=>{var e;_.value&&_.value.$el&&(h.autofocus?w.value=null!=(e=A())?e:y.value:w.value=y.value)})):(h.editorErrorMessage="",h.validateError=!1))}));const S=(0,s.Fl)((()=>e.draggable));function k(){d.value&&(d.value=!1,(0,s.Y3)((()=>{h.action&&t("action",h.action)})))}p_(y,b,S),(0,s.bv)((async()=>{await(0,s.Y3)(),e.closeOnHashChange&&window.addEventListener("hashchange",k)})),(0,s.Jd)((()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",k)}));const E=()=>{e.closeOnClickModal&&O(h.distinguishCancelAndClose?"close":"cancel")},T=r_(E),M=e=>{if("textarea"!==h.inputType)return e.preventDefault(),O("confirm")},O=t=>{var n;("prompt"!==e.boxType||"confirm"!==t||D())&&(h.action=t,h.beforeClose?null==(n=h.beforeClose)||n.call(h,t,h,k):k())},D=()=>{if("prompt"===e.boxType){const e=h.inputPattern;if(e&&!e.test(h.inputValue||""))return h.editorErrorMessage=h.inputErrorMessage||c("el.messagebox.error"),h.validateError=!0,!1;const t=h.inputValidator;if("function"===typeof t){const e=t(h.inputValue);if(!1===e)return h.editorErrorMessage=h.inputErrorMessage||c("el.messagebox.error"),h.validateError=!0,!1;if("string"===typeof e)return h.editorErrorMessage=e,h.validateError=!0,!1}}return h.editorErrorMessage="",h.validateError=!1,!0},A=()=>{const e=_.value.$refs;return e.input||e.textarea},R=()=>{O("close")},P=()=>{e.closeOnPressEscape&&R()};return e.lockScroll&&x_(d),YV(d),{...(0,l.BK)(h),ns:r,overlayEvent:T,visible:d,hasMessage:v,typeClass:m,contentId:p,inputId:f,btnSize:a,iconComponent:g,confirmButtonClasses:C,rootRef:y,focusStartRef:w,headerRef:b,inputRef:_,confirmRef:x,doClose:k,handleClose:R,onCloseRequested:P,handleWrapperClick:E,handleInputEnter:M,handleAction:O,t:c}}}),XV=["aria-label","aria-describedby"],QV=["aria-label"],ej=["id"];function tj(e,t,n,o,r,i){const a=(0,s.up)("el-icon"),l=(0,s.up)("close"),u=(0,s.up)("el-input"),d=(0,s.up)("el-button"),h=(0,s.up)("el-focus-trap"),m=(0,s.up)("el-overlay");return(0,s.wg)(),(0,s.j4)(R.uT,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=t=>e.$emit("vanish")),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(m,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:(0,s.w5)((()=>[(0,s._)("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:(0,c.C_)(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...t)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...t)),onMousedown:t[9]||(t[9]=(...t)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...t)),onMouseup:t[10]||(t[10]=(...t)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...t))},[(0,s.Wm)(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:(0,s.w5)((()=>[(0,s._)("div",{ref:"rootRef",class:(0,c.C_)([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:(0,c.j5)(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=(0,R.iM)((()=>{}),["stop"]))},[null!==e.title&&void 0!==e.title?((0,s.wg)(),(0,s.iD)("div",{key:0,ref:"headerRef",class:(0,c.C_)(e.ns.e("header"))},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("title"))},[e.iconComponent&&e.center?((0,s.wg)(),(0,s.j4)(a,{key:0,class:(0,c.C_)([e.ns.e("status"),e.typeClass])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.iconComponent)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s._)("span",null,(0,c.zw)(e.title),1)],2),e.showClose?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:(0,c.C_)(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=(0,R.D2)((0,R.iM)((t=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"]))},[(0,s.Wm)(a,{class:(0,c.C_)(e.ns.e("close"))},{default:(0,s.w5)((()=>[(0,s.Wm)(l)])),_:1},8,["class"])],42,QV)):(0,s.kq)("v-if",!0)],2)):(0,s.kq)("v-if",!0),(0,s._)("div",{id:e.contentId,class:(0,c.C_)(e.ns.e("content"))},[(0,s._)("div",{class:(0,c.C_)(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?((0,s.wg)(),(0,s.j4)(a,{key:0,class:(0,c.C_)([e.ns.e("status"),e.typeClass])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.iconComponent)))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),e.hasMessage?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,c.C_)(e.ns.e("message"))},[(0,s.WI)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,s.wg)(),(0,s.j4)((0,s.LL)(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):((0,s.wg)(),(0,s.j4)((0,s.LL)(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.dangerouslyUseHTMLString?"":e.message),1)])),_:1},8,["for"]))]))],2)):(0,s.kq)("v-if",!0)],2),(0,s.wy)((0,s._)("div",{class:(0,c.C_)(e.ns.e("input"))},[(0,s.Wm)(u,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.inputValue=t),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:(0,c.C_)({invalid:e.validateError}),onKeydown:(0,R.D2)(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),(0,s._)("div",{class:(0,c.C_)(e.ns.e("errormsg")),style:(0,c.j5)({visibility:e.editorErrorMessage?"visible":"hidden"})},(0,c.zw)(e.editorErrorMessage),7)],2),[[R.F8,e.showInput]])],10,ej),(0,s._)("div",{class:(0,c.C_)(e.ns.e("btns"))},[e.showCancelButton?((0,s.wg)(),(0,s.j4)(d,{key:0,loading:e.cancelButtonLoading,class:(0,c.C_)([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=t=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=(0,R.D2)((0,R.iM)((t=>e.handleAction("cancel")),["prevent"]),["enter"]))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","class","round","size"])):(0,s.kq)("v-if",!0),(0,s.wy)((0,s.Wm)(d,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:(0,c.C_)([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=t=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=(0,R.D2)((0,R.iM)((t=>e.handleAction("confirm")),["prevent"]),["enter"]))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","class","round","disabled","size"]),[[R.F8,e.showConfirmButton]])],2)],6)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,XV)])),_:3},8,["z-index","overlay-class","mask"]),[[R.F8,e.visible]])])),_:3})}var nj=(0,g.Z)(JV,[["render",tj],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const oj=new Map,rj=e=>{let t=document.body;return e.appendTo&&((0,c.HD)(e.appendTo)&&(t=document.querySelector(e.appendTo)),(0,h.kK)(e.appendTo)&&(t=e.appendTo),(0,h.kK)(t)||((0,b.N)("ElMessageBox","the appendTo option is not an HTMLElement. Falling back to document.body."),t=document.body)),t},ij=(e,t,n=null)=>{const o=(0,s.Wm)(nj,e,(0,c.mf)(e.message)||(0,s.lA)(e.message)?{default:(0,c.mf)(e.message)?e.message:()=>e.message}:null);return o.appContext=n,(0,R.sY)(o,t),rj(e).appendChild(t.firstElementChild),o.component},aj=()=>document.createElement("div"),sj=(e,t)=>{const n=aj();e.onVanish=()=>{(0,R.sY)(null,n),oj.delete(r)},e.onAction=t=>{const n=oj.get(r);let i;i=e.showInput?{value:r.inputValue,action:t}:t,e.callback?e.callback(i,o.proxy):"cancel"===t||"close"===t?e.distinguishCancelAndClose&&"cancel"!==t?n.reject("close"):n.reject("cancel"):n.resolve(i)};const o=ij(e,n,t),r=o.proxy;for(const i in e)(0,c.RI)(e,i)&&!(0,c.RI)(r.$props,i)&&(r[i]=e[i]);return r.visible=!0,r};function lj(e,t=null){if(!w.C5)return Promise.reject();let n;return(0,c.HD)(e)||(0,s.lA)(e)?e={message:e}:n=e.callback,new Promise(((o,r)=>{const i=sj(e,null!=t?t:lj._context);oj.set(i,{options:e,callback:n,resolve:o,reject:r})}))}const cj=["alert","confirm","prompt"],uj={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};function dj(e){return(t,n,o,r)=>{let i="";return(0,c.Kn)(n)?(o=n,i=""):i=(0,h.o8)(n)?"":n,lj(Object.assign({title:i,message:t,type:"",...uj[e]},o,{boxType:e}),r)}}cj.forEach((e=>{lj[e]=dj(e)})),lj.close=()=>{oj.forEach(((e,t)=>{t.doClose()})),oj.clear()},lj._context=null;const hj=lj;hj.install=e=>{hj._context=e._context,e.config.globalProperties.$msgbox=hj,e.config.globalProperties.$messageBox=hj,e.config.globalProperties.$alert=hj.alert,e.config.globalProperties.$confirm=hj.confirm,e.config.globalProperties.$prompt=hj.prompt};const mj=hj,pj=["success","info","warning","error"],fj=(0,d.o8)({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:z.AA},id:{type:String,default:""},message:{type:(0,d.Cq)([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:(0,d.Cq)(Function),default:()=>{}},onClose:{type:(0,d.Cq)(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...pj,""],default:""},zIndex:{type:Number,default:0}}),gj={destroy:()=>!0},vj=["id"],yj=["textContent"],bj={key:0},wj=["innerHTML"],_j=(0,s.aZ)({name:"ElNotification"}),xj=(0,s.aZ)({..._j,props:fj,emits:gj,setup(e,{expose:t}){const n=e,{ns:o,zIndex:r}=(0,i.cU)("notification"),{nextZIndex:a,currentZIndex:d}=r,{Close:h}=z.CloseComponents,m=(0,l.iH)(!1);let p;const f=(0,s.Fl)((()=>{const e=n.type;return e&&z.Rp[n.type]?o.m(e):""})),g=(0,s.Fl)((()=>n.type&&z.Rp[n.type]||n.icon)),v=(0,s.Fl)((()=>n.position.endsWith("right")?"right":"left")),y=(0,s.Fl)((()=>n.position.startsWith("top")?"top":"bottom")),b=(0,s.Fl)((()=>({[y.value]:`${n.offset}px`,zIndex:d.value})));function _(){n.duration>0&&({stop:p}=(0,w.eM)((()=>{m.value&&C()}),n.duration))}function x(){null==p||p()}function C(){m.value=!1}function S({code:e}){e===no.EVENT_CODE.delete||e===no.EVENT_CODE.backspace?x():e===no.EVENT_CODE.esc?m.value&&C():_()}return(0,s.bv)((()=>{_(),a(),m.value=!0})),(0,u.ORN)(document,"keydown",S),t({visible:m,close:C}),(e,t)=>((0,s.wg)(),(0,s.j4)(R.uT,{name:(0,l.SU)(o).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{id:e.id,class:(0,c.C_)([(0,l.SU)(o).b(),e.customClass,(0,l.SU)(v)]),style:(0,c.j5)((0,l.SU)(b)),role:"alert",onMouseenter:x,onMouseleave:_,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,l.SU)(g)?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)([(0,l.SU)(o).e("icon"),(0,l.SU)(f)])},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,l.SU)(g))))])),_:1},8,["class"])):(0,s.kq)("v-if",!0),(0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).e("group"))},[(0,s._)("h2",{class:(0,c.C_)((0,l.SU)(o).e("title")),textContent:(0,c.zw)(e.title)},null,10,yj),(0,s.wy)((0,s._)("div",{class:(0,c.C_)((0,l.SU)(o).e("content")),style:(0,c.j5)(e.title?void 0:{margin:0})},[(0,s.WI)(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.kq)(" Caution here, message could've been compromised, never use user's input as message "),(0,s._)("p",{innerHTML:e.message},null,8,wj)],2112)):((0,s.wg)(),(0,s.iD)("p",bj,(0,c.zw)(e.message),1))]))],6),[[R.F8,e.message]]),e.showClose?((0,s.wg)(),(0,s.j4)((0,l.SU)(P.gn),{key:0,class:(0,c.C_)((0,l.SU)(o).e("closeBtn")),onClick:(0,R.iM)(C,["stop"])},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(h))])),_:1},8,["class","onClick"])):(0,s.kq)("v-if",!0)],2)],46,vj),[[R.F8,m.value]])])),_:3},8,["name","onBeforeLeave"]))}});var Cj=(0,g.Z)(xj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Sj={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},kj=16;let Ej=1;const Tj=function(e={},t=null){if(!w.C5)return{close:()=>{}};("string"===typeof e||(0,s.lA)(e))&&(e={message:e});const n=e.position||"top-right";let o=e.offset||0;Sj[n].forEach((({vm:e})=>{var t;o+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+kj})),o+=kj;const r="notification_"+Ej++,i=e.onClose,a={...e,offset:o,id:r,onClose:()=>{Mj(r,n,i)}};let l=document.body;(0,h.kK)(e.appendTo)?l=e.appendTo:(0,c.HD)(e.appendTo)&&(l=document.querySelector(e.appendTo)),(0,h.kK)(l)||((0,b.N)("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),l=document.body);const u=document.createElement("div"),d=(0,s.Wm)(Cj,a,(0,s.lA)(a.message)?{default:()=>a.message}:null);return d.appContext=null!=t?t:Tj._context,d.props.onDestroy=()=>{(0,R.sY)(null,u)},(0,R.sY)(d,u),Sj[n].push({vm:d}),l.appendChild(u.firstElementChild),{close:()=>{d.component.exposed.visible.value=!1}}};function Mj(e,t,n){const o=Sj[t],r=o.findIndex((({vm:t})=>{var n;return(null==(n=t.component)?void 0:n.props.id)===e}));if(-1===r)return;const{vm:i}=o[r];if(!i)return;null==n||n(i);const a=i.el.offsetHeight,s=t.split("-")[0];o.splice(r,1);const l=o.length;if(!(l<1))for(let c=r;c<l;c++){const{el:e,component:t}=o[c].vm,n=Number.parseInt(e.style[s],10)-a-kj;t.props.offset=n}}function Oj(){for(const e of Object.values(Sj))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))}pj.forEach((e=>{Tj[e]=(t={})=>(("string"===typeof t||(0,s.lA)(t))&&(t={message:t}),Tj({...t,type:e}))})),Tj.closeAll=Oj,Tj._context=null;const Dj=(0,D.oN)(Tj,"$notify");var Aj=[PV,WV,ZV.z8,mj,Dj,YT],Rj=a([..._V,...Aj])},9068:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var o=n(3396),r=n(8149),i=n(4620);const a=["class","style"],s=/^on[A-Z]/,l=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,l=(0,o.Fl)((()=>((null==n?void 0:n.value)||[]).concat(a))),c=(0,o.FN)();return c?(0,o.Fl)((()=>{var e;return(0,r.Z)(Object.entries(null==(e=c.proxy)?void 0:e.$attrs).filter((([e])=>!l.value.includes(e)&&!(t&&s.test(e)))))})):((0,i.N)("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),(0,o.Fl)((()=>({}))))}},8925:function(e,t,n){"use strict";n.d(t,{Me:function(){return d},SG:function(){return u}});var o=n(3396),r=n(4870),i=n(6734),a=n(6413),s=n(4620);const l={prefix:Math.floor(1e4*Math.random()),current:0},c=Symbol("elIdInjection"),u=()=>(0,o.FN)()?(0,o.f3)(c,l):l,d=e=>{const t=u();a.C5||t!==l||(0,s.N)("IdInjection","Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed\nusage: app.provide(ID_INJECTION_KEY, {\n  prefix: number,\n  current: number,\n})");const n=(0,i.u_)(),c=(0,o.Fl)((()=>(0,r.SU)(e)||`${n.value}-id-${t.prefix}-${t.current++}`));return c}},2137:function(e,t,n){"use strict";n.d(t,{_N:function(){return u},bU:function(){return d}});var o=n(4870),r=n(3396),i=n(2262),a={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const s=e=>(t,n)=>l(t,n,(0,o.SU)(e)),l=(e,t,n)=>(0,i.Z)(n,e,e).replace(/\{(\w+)\}/g,((e,n)=>{var o;return`${null!=(o=null==t?void 0:t[n])?o:`{${n}}`}`})),c=e=>{const t=(0,r.Fl)((()=>(0,o.SU)(e).name)),n=(0,o.dq)(e)?e:(0,o.iH)(e);return{lang:t,locale:n,t:s(e)}},u=Symbol("localeContextKey"),d=e=>{const t=e||(0,r.f3)(u,(0,o.iH)());return c((0,r.Fl)((()=>t.value||a)))}},6734:function(e,t,n){"use strict";n.d(t,{dP:function(){return l},s3:function(){return u},tL:function(){return i},u_:function(){return c}});var o=n(3396),r=n(4870);const i="el",a="is-",s=(e,t,n,o,r)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),o&&(i+=`__${o}`),r&&(i+=`--${r}`),i},l=Symbol("namespaceContextKey"),c=e=>{const t=e||(0,o.f3)(l,(0,r.iH)(i)),n=(0,o.Fl)((()=>(0,r.SU)(t)||i));return n},u=(e,t)=>{const n=c(t),o=(t="")=>s(n.value,e,t,"",""),r=t=>t?s(n.value,e,"",t,""):"",i=t=>t?s(n.value,e,"","",t):"",l=(t,o)=>t&&o?s(n.value,e,t,o,""):"",u=(t,o)=>t&&o?s(n.value,e,"",t,o):"",d=(t,o)=>t&&o?s(n.value,e,t,"",o):"",h=(t,o,r)=>t&&o&&r?s(n.value,e,t,o,r):"",m=(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`${a}${e}`:""},p=e=>{const t={};for(const o in e)e[o]&&(t[`--${n.value}-${o}`]=e[o]);return t},f=t=>{const o={};for(const r in t)t[r]&&(o[`--${n.value}-${e}-${r}`]=t[r]);return o},g=e=>`--${n.value}-${e}`,v=t=>`--${n.value}-${e}-${t}`;return{namespace:n,b:o,e:r,m:i,be:l,em:u,bm:d,bem:h,is:m,cssVar:p,cssVarName:g,cssVarBlock:f,cssVarBlockName:v}}},4689:function(e,t,n){"use strict";n.d(t,{Pp:function(){return s},fl:function(){return c},m8:function(){return l}});var o=n(3396),r=n(4870),i=n(5994),a=n(7609);const s=(0,i.l0)({type:String,values:a.k,required:!1}),l=Symbol("size"),c=()=>{const e=(0,o.f3)(l,{});return(0,o.Fl)((()=>(0,r.SU)(e.size)||""))}},7750:function(e,t,n){"use strict";n.d(t,{Cn:function(){return c},DA:function(){return s},KM:function(){return l}});var o=n(4870),r=n(3396),i=n(7354);const a=(0,o.iH)(0),s=2e3,l=Symbol("zIndexContextKey"),c=e=>{const t=e||(0,r.f3)(l,void 0),n=(0,r.Fl)((()=>{const e=(0,o.SU)(t);return(0,i.hj)(e)?e:s})),c=(0,r.Fl)((()=>n.value+a.value)),u=()=>(a.value++,c.value);return{initialZIndex:n,currentZIndex:c,nextZIndex:u}}},4494:function(e,t,n){"use strict";n.d(t,{vU:function(){return r}});var o=n(6413);const r=()=>o.C5&&/firefox/i.test(window.navigator.userAgent)},529:function(e,t,n){"use strict";n.d(t,{C2:function(){return h},IV:function(){return d},Nn:function(){return m},cn:function(){return u},pv:function(){return c}});var o=n(7354),r=n(4620),i=n(6413),a=n(7139);const s="utils/dom/style",l=(e="")=>e.split(" ").filter((e=>!!e.trim())),c=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},u=(e,t)=>{e&&t.trim()&&e.classList.add(...l(t))},d=(e,t)=>{e&&t.trim()&&e.classList.remove(...l(t))},h=(e,t)=>{var n;if(!i.C5||!e||!t)return"";let o=(0,a._A)(t);"float"===o&&(o="cssFloat");try{const t=e.style[o];if(t)return t;const r=null==(n=document.defaultView)?void 0:n.getComputedStyle(e,"");return r?r[o]:""}catch(r){return e.style[o]}};function m(e,t="px"){return e?(0,o.hj)(e)||(0,o.j5)(e)?`${e}${t}`:(0,a.HD)(e)?e:void(0,r.N)(s,"binding value must be a string or number"):""}},4620:function(e,t,n){"use strict";n.d(t,{N:function(){return i},_:function(){return r}});class o extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function r(e,t){throw new o(`[${e}] ${t}`)}function i(e,t){0}},3356:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});const o=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e)},984:function(e,t,n){"use strict";n.d(t,{vu:function(){return l},WJ:function(){return c},uc:function(){return s}});var o=n(2262),r=n(889);function i(e,t,n){return null==e?e:(0,r.Z)(e,t,n)}var a=i;const s=e=>Object.keys(e),l=e=>Object.entries(e),c=(e,t,n)=>({get value(){return(0,o.Z)(e,t,n)},set value(n){a(e,t,n)}})},7354:function(e,t,n){"use strict";n.d(t,{Cl:function(){return u},hj:function(){return s},j5:function(){return d},jn:function(){return a},kK:function(){return c},o8:function(){return i},xb:function(){return l}});var o=n(7139),r=n(1727);const i=e=>void 0===e,a=e=>"boolean"===typeof e,s=e=>"number"===typeof e,l=e=>!e&&0!==e||(0,o.kJ)(e)&&0===e.length||(0,o.Kn)(e)&&!Object.keys(e).length,c=e=>"undefined"!==typeof Element&&e instanceof Element,u=e=>(0,r.Z)(e),d=e=>!!(0,o.HD)(e)&&!Number.isNaN(Number(e))},3071:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});const o=e=>e},2039:function(e,t,n){"use strict";n.d(t,{AA:function(){return i},CloseComponents:function(){return a},Rp:function(){return l},TypeComponents:function(){return s},rU:function(){return c}});var o=n(2748),r=n(5994);const i=(0,r.Cq)([String,Object,Function]),a={Close:o.Close},s={Close:o.Close,SuccessFilled:o.SuccessFilled,InfoFilled:o.InfoFilled,WarningFilled:o.WarningFilled,CircleCloseFilled:o.CircleCloseFilled},l={success:o.SuccessFilled,warning:o.WarningFilled,error:o.CircleCloseFilled,info:o.InfoFilled},c={validating:o.Loading,success:o.CircleCheck,error:o.CircleClose}},9015:function(e,t,n){"use strict";n.d(t,{dH:function(){return a},dp:function(){return s},nz:function(){return r},oN:function(){return i}});var o=n(7139);const r=(e,t)=>{if(e.install=n=>{for(const o of[e,...Object.values(null!=t?t:{})])n.component(o.name,o)},t)for(const[n,o]of Object.entries(t))e[n]=o;return e},i=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),a=(e,t)=>(e.install=n=>{n.directive(t,e)},e),s=e=>(e.install=o.dG,e)},5994:function(e,t,n){"use strict";n.d(t,{Cq:function(){return s},l0:function(){return c},o8:function(){return u}});n(7658);var o=n(3396),r=n(8149),i=n(7139);const a="__epPropKey",s=e=>e,l=e=>(0,i.Kn)(e)&&!!e[a],c=(e,t)=>{if(!(0,i.Kn)(e)||l(e))return e;const{values:n,required:r,default:s,type:c,validator:u}=e,d=n||u?r=>{let a=!1,l=[];if(n&&(l=Array.from(n),(0,i.RI)(e,"default")&&l.push(s),a||(a=l.includes(r))),u&&(a||(a=u(r))),!a&&l.length>0){const e=[...new Set(l)].map((e=>JSON.stringify(e))).join(", ");(0,o.ZK)(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(r)}.`)}return a}:void 0,h={type:c,required:!!r,validator:d,[a]:!0};return(0,i.RI)(e,"default")&&(h.default=s),h},u=e=>(0,r.Z)(Object.entries(e).map((([e,t])=>[e,c(t,e)])))},3058:function(e,t,n){"use strict";function o(){this.__data__=[],this.size=0}n.d(t,{Z:function(){return b}});var r=o,i=n(202);function a(e,t){var n=e.length;while(n--)if((0,i.Z)(e[n][0],t))return n;return-1}var s=a,l=Array.prototype,c=l.splice;function u(e){var t=this.__data__,n=s(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():c.call(t,n,1),--this.size,!0}var d=u;function h(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]}var m=h;function p(e){return s(this.__data__,e)>-1}var f=p;n(7658);function g(e,t){var n=this.__data__,o=s(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var v=g;function y(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var o=e[t];this.set(o[0],o[1])}}y.prototype.clear=r,y.prototype["delete"]=d,y.prototype.get=m,y.prototype.has=f,y.prototype.set=v;var b=y},9795:function(e,t,n){"use strict";var o=n(6823),r=n(8345),i=(0,o.Z)(r.Z,"Map");t.Z=i},9350:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var o=n(6823),r=(0,o.Z)(Object,"create"),i=r;function a(){this.__data__=i?i(null):{},this.size=0}var s=a;function l(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var c=l,u="__lodash_hash_undefined__",d=Object.prototype,h=d.hasOwnProperty;function m(e){var t=this.__data__;if(i){var n=t[e];return n===u?void 0:n}return h.call(t,e)?t[e]:void 0}var p=m,f=Object.prototype,g=f.hasOwnProperty;function v(e){var t=this.__data__;return i?void 0!==t[e]:g.call(t,e)}var y=v,b="__lodash_hash_undefined__";function w(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?b:t,this}var _=w;function x(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var o=e[t];this.set(o[0],o[1])}}x.prototype.clear=s,x.prototype["delete"]=c,x.prototype.get=p,x.prototype.has=y,x.prototype.set=_;var C=x,S=n(3058),k=n(9795);function E(){this.size=0,this.__data__={hash:new C,map:new(k.Z||S.Z),string:new C}}var T=E;function M(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var O=M;function D(e,t){var n=e.__data__;return O(t)?n["string"==typeof t?"string":"hash"]:n.map}var A=D;function R(e){var t=A(this,e)["delete"](e);return this.size-=t?1:0,t}var P=R;function I(e){return A(this,e).get(e)}var z=I;function N(e){return A(this,e).has(e)}var L=N;function H(e,t){var n=A(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var F=H;function B(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var o=e[t];this.set(o[0],o[1])}}B.prototype.clear=T,B.prototype["delete"]=P,B.prototype.get=z,B.prototype.has=L,B.prototype.set=F;var U=B},7401:function(e,t,n){"use strict";var o=n(8345),r=o.Z.Symbol;t.Z=r},9345:function(e,t){"use strict";function n(e,t){var n=-1,o=null==e?0:e.length,r=Array(o);while(++n<o)r[n]=t(e[n],n,e);return r}t.Z=n},7788:function(e,t,n){"use strict";var o=n(4441),r=n(202),i=Object.prototype,a=i.hasOwnProperty;function s(e,t,n){var i=e[t];a.call(e,t)&&(0,r.Z)(i,n)&&(void 0!==n||t in e)||(0,o.Z)(e,t,n)}t.Z=s},4441:function(e,t,n){"use strict";var o=n(6673);function r(e,t,n){"__proto__"==t&&o.Z?(0,o.Z)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}t.Z=r},4507:function(e,t,n){"use strict";var o=n(650),r=n(3430);function i(e,t){t=(0,o.Z)(t,e);var n=0,i=t.length;while(null!=e&&n<i)e=e[(0,r.Z)(t[n++])];return n&&n==i?e:void 0}t.Z=i},681:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var o=n(7401),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,s=o.Z?o.Z.toStringTag:void 0;function l(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(l){}var r=a.call(e);return o&&(t?e[s]=n:delete e[s]),r}var c=l,u=Object.prototype,d=u.toString;function h(e){return d.call(e)}var m=h,p="[object Null]",f="[object Undefined]",g=o.Z?o.Z.toStringTag:void 0;function v(e){return null==e?void 0===e?f:p:g&&g in Object(e)?c(e):m(e)}var y=v},889:function(e,t,n){"use strict";var o=n(7788),r=n(650),i=n(9016),a=n(6049),s=n(3430);function l(e,t,n,l){if(!(0,a.Z)(e))return e;t=(0,r.Z)(t,e);var c=-1,u=t.length,d=u-1,h=e;while(null!=h&&++c<u){var m=(0,s.Z)(t[c]),p=n;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(c!=d){var f=h[m];p=l?l(f,m,h):void 0,void 0===p&&(p=(0,a.Z)(f)?f:(0,i.Z)(t[c+1])?[]:{})}(0,o.Z)(h,m,p),h=h[m]}return e}t.Z=l},650:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var o=n(7933),r=n(8633),i=(n(7658),n(4861)),a=500;function s(e){var t=(0,i.Z)(e,(function(e){return n.size===a&&n.clear(),e})),n=t.cache;return t}var l=s,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,d=l((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(c,(function(e,n,o,r){t.push(o?r.replace(u,"$1"):n||e)})),t})),h=d,m=n(7401),p=n(9345),f=n(8590),g=1/0,v=m.Z?m.Z.prototype:void 0,y=v?v.toString:void 0;function b(e){if("string"==typeof e)return e;if((0,o.Z)(e))return(0,p.Z)(e,b)+"";if((0,f.Z)(e))return y?y.call(e):"";var t=e+"";return"0"==t&&1/e==-g?"-0":t}var w=b;function _(e){return null==e?"":w(e)}var x=_;function C(e,t){return(0,o.Z)(e)?e:(0,r.Z)(e,t)?[e]:h(x(e))}var S=C},6673:function(e,t,n){"use strict";var o=n(6823),r=function(){try{var e=(0,o.Z)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.Z=r},2701:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},6823:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var o=n(9138),r=n(8345),i=r.Z["__core-js_shared__"],a=i,s=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function l(e){return!!s&&s in e}var c=l,u=n(6049),d=n(8481),h=/[\\^$.*+?()[\]{}|]/g,m=/^\[object .+?Constructor\]$/,p=Function.prototype,f=Object.prototype,g=p.toString,v=f.hasOwnProperty,y=RegExp("^"+g.call(v).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(e){if(!(0,u.Z)(e)||c(e))return!1;var t=(0,o.Z)(e)?y:m;return t.test((0,d.Z)(e))}var w=b;function _(e,t){return null==e?void 0:e[t]}var x=_;function C(e,t){var n=x(e,t);return w(n)?n:void 0}var S=C},9016:function(e,t){"use strict";var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function r(e,t){var r=typeof e;return t=null==t?n:t,!!t&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}t.Z=r},8633:function(e,t,n){"use strict";var o=n(7933),r=n(8590),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(e,t){if((0,o.Z)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,r.Z)(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}t.Z=s},8345:function(e,t,n){"use strict";var o=n(2701),r="object"==typeof self&&self&&self.Object===Object&&self,i=o.Z||r||Function("return this")();t.Z=i},3430:function(e,t,n){"use strict";var o=n(8590),r=1/0;function i(e){if("string"==typeof e||(0,o.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}t.Z=i},8481:function(e,t){"use strict";var n=Function.prototype,o=n.toString;function r(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}t.Z=r},202:function(e,t){"use strict";function n(e,t){return e===t||e!==e&&t!==t}t.Z=n},8149:function(e,t){"use strict";function n(e){var t=-1,n=null==e?0:e.length,o={};while(++t<n){var r=e[t];o[r[0]]=r[1]}return o}t.Z=n},2262:function(e,t,n){"use strict";var o=n(4507);function r(e,t,n){var r=null==e?void 0:(0,o.Z)(e,t);return void 0===r?n:r}t.Z=r},7933:function(e,t){"use strict";var n=Array.isArray;t.Z=n},9138:function(e,t,n){"use strict";var o=n(681),r=n(6049),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(e){if(!(0,r.Z)(e))return!1;var t=(0,o.Z)(e);return t==a||t==s||t==i||t==l}t.Z=c},1727:function(e,t){"use strict";function n(e){return null==e}t.Z=n},6049:function(e,t){"use strict";function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}t.Z=n},3835:function(e,t){"use strict";function n(e){return null!=e&&"object"==typeof e}t.Z=n},8590:function(e,t,n){"use strict";var o=n(681),r=n(3835),i="[object Symbol]";function a(e){return"symbol"==typeof e||(0,r.Z)(e)&&(0,o.Z)(e)==i}t.Z=a},4861:function(e,t,n){"use strict";var o=n(9350),r="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(i.Cache||o.Z),n}i.Cache=o.Z,t.Z=i}}]);
//# sourceMappingURL=chunk-vendors.66b3b7df.js.map